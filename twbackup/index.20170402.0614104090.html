<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<script id="versionArea" type="text/javascript">
//<![CDATA[
var version = {title: "TiddlyWiki", major: 2, minor: 8, revision: 1, date: new Date("June 23, 2013"), extensions: {}};

//]]>
</script>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="copyright" content="
TiddlyWiki created by Jeremy Ruston, (jeremy [at] osmosoft [dot] com)

Copyright (c) Jeremy Ruston 2004-2007
Copyright (c) UnaMesa Association 2007-2012

Redistribution and use in source and binary forms, with or without modification,
are permitted provided that the following conditions are met:

Redistributions of source code must retain the above copyright notice, this
list of conditions and the following disclaimer.

Redistributions in binary form must reproduce the above copyright notice, this
list of conditions and the following disclaimer in the documentation and/or other
materials provided with the distribution.

Neither the name of the UnaMesa Association nor the names of its contributors may be
used to endorse or promote products derived from this software without specific
prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS' AND ANY
EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,
INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR
BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN
ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH
DAMAGE.

" />
<!--PRE-HEAD-START-->
<!--{{{-->
<link rel="stylesheet" href="icons/font-awesome-4.2.0/css/font-awesome.min.css">
<link rel='alternate' type='application/rss+xml' title='RSS' href='index.xml'/>
<!--}}}-->
<!--PRE-HEAD-END-->
<title> A Physics Notebook -  </title>
<style id="styleArea" type="text/css">
#saveTest {display:none;}
#messageArea {display:none;}
#copyright {display:none;}
#storeArea {display:none;}
#storeArea div {padding:0.5em; margin:1em 0em 0em 0em; border-color:#fff #666 #444 #ddd; border-style:solid; border-width:2px; overflow:auto;}
#shadowArea {display:none;}
#javascriptWarning {width:100%; text-align:center; font-weight:bold; background-color:#dd1100; color:#fff; padding:1em 0em;}

</style>
<!--POST-HEAD-START-->

<!--POST-HEAD-END-->
</head>
<body onload="main();" onunload="if(window.unload) unload();">
<!--PRE-BODY-START-->

<!--PRE-BODY-END-->
<div id="copyright">
Welcome to TiddlyWiki created by Jeremy Ruston; Copyright &copy; 2004-2007 Jeremy Ruston, Copyright &copy; 2007-2011 UnaMesa Association
</div>
<noscript>
<div id="javascriptWarning">
This page requires JavaScript to function properly.<br /><br />If you are using Microsoft Internet Explorer you may need to click on the yellow bar above and select 'Allow Blocked Content'. You must then click 'Yes' on the following security warning.
</div>

</noscript>
<div id="saveTest"></div>
<div id="backstageCloak"></div>
<div id="backstageButton"></div>
<div id="backstageArea"><div id="backstageToolbar"></div></div>
<div id="backstage">
	<div id="backstagePanel"></div>
</div>
<div id="contentWrapper"></div>
<div id="contentStash"></div>
<div id="shadowArea">
<div title="ColorPalette">
<pre>Background: #fff
Foreground: #000
PrimaryPale: #8cf
PrimaryLight: #18f
PrimaryMid: #04b
PrimaryDark: #014
SecondaryPale: #ffc
SecondaryLight: #fe8
SecondaryMid: #db4
SecondaryDark: #841
TertiaryPale: #eee
TertiaryLight: #ccc
TertiaryMid: #999
TertiaryDark: #666
Error: #f88
</pre>
</div>
<div title="EditTemplate">
<pre>&lt;!--{{{--&gt;
&lt;div class='toolbar' macro='toolbar [[ToolbarCommands::EditToolbar]]'&gt;&lt;/div&gt;
&lt;div class='title' macro='view title'&gt;&lt;/div&gt;
&lt;div class='editor' macro='edit title'&gt;&lt;/div&gt;
&lt;div macro='annotations'&gt;&lt;/div&gt;
&lt;div class='editor' macro='edit text'&gt;&lt;/div&gt;
&lt;div class='editor' macro='edit tags'&gt;&lt;/div&gt;&lt;div class='editorFooter'&gt;&lt;span macro='message views.editor.tagPrompt'&gt;&lt;/span&gt;&lt;span macro='tagChooser excludeLists'&gt;&lt;/span&gt;&lt;/div&gt;
&lt;!--}}}--&gt;
</pre>
</div>
<div title="GettingStarted">
<pre>To get started with this blank [[TiddlyWiki]], you'll need to modify the following tiddlers:
* [[SiteTitle]] &amp; [[SiteSubtitle]]: The title and subtitle of the site, as shown above (after saving, they will also appear in the browser title bar)
* [[MainMenu]]: The menu (usually on the left)
* [[DefaultTiddlers]]: Contains the names of the tiddlers that you want to appear when the TiddlyWiki is opened
You'll also need to enter your username for signing your edits: &lt;&lt;option txtUserName&gt;&gt;
</pre>
</div>
<div title="ImportTiddlers">
<pre>&lt;&lt;importTiddlers&gt;&gt;
</pre>
</div>
<div title="MarkupPreHead">
<pre>&lt;!--{{{--&gt;
&lt;link rel='alternate' type='application/rss+xml' title='RSS' href='index.xml' /&gt;
&lt;!--}}}--&gt;
</pre>
</div>
<div title="OptionsPanel">
<pre>These [[InterfaceOptions]] for customising [[TiddlyWiki]] are saved in your browser

Your username for signing your edits. Write it as a [[WikiWord]] (eg [[JoeBloggs]])

&lt;&lt;option txtUserName&gt;&gt;
&lt;&lt;option chkSaveBackups&gt;&gt; [[SaveBackups]]
&lt;&lt;option chkAutoSave&gt;&gt; [[AutoSave]]
&lt;&lt;option chkRegExpSearch&gt;&gt; [[RegExpSearch]]
&lt;&lt;option chkCaseSensitiveSearch&gt;&gt; [[CaseSensitiveSearch]]
&lt;&lt;option chkAnimate&gt;&gt; [[EnableAnimations]]

----
Also see [[AdvancedOptions]]
</pre>
</div>
<div title="PageTemplate">
<pre>&lt;!--{{{--&gt;
&lt;div class='header' role='banner' macro='gradient vert [[ColorPalette::PrimaryLight]] [[ColorPalette::PrimaryMid]]'&gt;
&lt;div class='headerShadow'&gt;
&lt;span class='siteTitle' refresh='content' tiddler='SiteTitle'&gt;&lt;/span&gt;&amp;nbsp;
&lt;span class='siteSubtitle' refresh='content' tiddler='SiteSubtitle'&gt;&lt;/span&gt;
&lt;/div&gt;
&lt;div class='headerForeground'&gt;
&lt;span class='siteTitle' refresh='content' tiddler='SiteTitle'&gt;&lt;/span&gt;&amp;nbsp;
&lt;span class='siteSubtitle' refresh='content' tiddler='SiteSubtitle'&gt;&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id='mainMenu' role='navigation' refresh='content' tiddler='MainMenu'&gt;&lt;/div&gt;
&lt;div id='sidebar'&gt;
&lt;div id='sidebarOptions' role='navigation' refresh='content' tiddler='SideBarOptions'&gt;&lt;/div&gt;
&lt;div id='sidebarTabs' role='complementary' refresh='content' force='true' tiddler='SideBarTabs'&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div id='displayArea' role='main'&gt;
&lt;div id='messageArea'&gt;&lt;/div&gt;
&lt;div id='tiddlerDisplay'&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;!--}}}--&gt;
</pre>
</div>
<div title="StyleSheetColors">
<pre>/*{{{*/
body {background:[[ColorPalette::Background]]; color:[[ColorPalette::Foreground]];}

a {color:[[ColorPalette::PrimaryMid]];}
a:hover {background-color:[[ColorPalette::PrimaryMid]]; color:[[ColorPalette::Background]];}
a img {border:0;}

h1,h2,h3,h4,h5,h6 {color:[[ColorPalette::SecondaryDark]]; background:transparent;}
h1 {border-bottom:2px solid [[ColorPalette::TertiaryLight]];}
h2,h3 {border-bottom:1px solid [[ColorPalette::TertiaryLight]];}

.button {color:[[ColorPalette::PrimaryDark]]; border:1px solid [[ColorPalette::Background]];}
.button:hover {color:[[ColorPalette::PrimaryDark]]; background:[[ColorPalette::SecondaryLight]]; border-color:[[ColorPalette::SecondaryMid]];}
.button:active {color:[[ColorPalette::Background]]; background:[[ColorPalette::SecondaryMid]]; border:1px solid [[ColorPalette::SecondaryDark]];}

.header {background:[[ColorPalette::PrimaryMid]];}
.headerShadow {color:[[ColorPalette::Foreground]];}
.headerShadow a {font-weight:normal; color:[[ColorPalette::Foreground]];}
.headerForeground {color:[[ColorPalette::Background]];}
.headerForeground a {font-weight:normal; color:[[ColorPalette::PrimaryPale]];}

.tabSelected {color:[[ColorPalette::PrimaryDark]];
	background:[[ColorPalette::TertiaryPale]];
	border-left:1px solid [[ColorPalette::TertiaryLight]];
	border-top:1px solid [[ColorPalette::TertiaryLight]];
	border-right:1px solid [[ColorPalette::TertiaryLight]];
}
.tabUnselected {color:[[ColorPalette::Background]]; background:[[ColorPalette::TertiaryMid]];}
.tabContents {color:[[ColorPalette::PrimaryDark]]; background:[[ColorPalette::TertiaryPale]]; border:1px solid [[ColorPalette::TertiaryLight]];}
.tabContents .button {border:0;}

#sidebar {}
#sidebarOptions input {border:1px solid [[ColorPalette::PrimaryMid]];}
#sidebarOptions .sliderPanel {background:[[ColorPalette::PrimaryPale]];}
#sidebarOptions .sliderPanel a {border:none;color:[[ColorPalette::PrimaryMid]];}
#sidebarOptions .sliderPanel a:hover {color:[[ColorPalette::Background]]; background:[[ColorPalette::PrimaryMid]];}
#sidebarOptions .sliderPanel a:active {color:[[ColorPalette::PrimaryMid]]; background:[[ColorPalette::Background]];}

.wizard {background:[[ColorPalette::PrimaryPale]]; border:1px solid [[ColorPalette::PrimaryMid]];}
.wizard h1 {color:[[ColorPalette::PrimaryDark]]; border:none;}
.wizard h2 {color:[[ColorPalette::Foreground]]; border:none;}
.wizardStep {background:[[ColorPalette::Background]]; color:[[ColorPalette::Foreground]];
	border:1px solid [[ColorPalette::PrimaryMid]];}
.wizardStep.wizardStepDone {background:[[ColorPalette::TertiaryLight]];}
.wizardFooter {background:[[ColorPalette::PrimaryPale]];}
.wizardFooter .status {background:[[ColorPalette::PrimaryDark]]; color:[[ColorPalette::Background]];}
.wizard .button {color:[[ColorPalette::Foreground]]; background:[[ColorPalette::SecondaryLight]]; border: 1px solid;
	border-color:[[ColorPalette::SecondaryPale]] [[ColorPalette::SecondaryDark]] [[ColorPalette::SecondaryDark]] [[ColorPalette::SecondaryPale]];}
.wizard .button:hover {color:[[ColorPalette::Foreground]]; background:[[ColorPalette::Background]];}
.wizard .button:active {color:[[ColorPalette::Background]]; background:[[ColorPalette::Foreground]]; border: 1px solid;
	border-color:[[ColorPalette::PrimaryDark]] [[ColorPalette::PrimaryPale]] [[ColorPalette::PrimaryPale]] [[ColorPalette::PrimaryDark]];}

.wizard .notChanged {background:transparent;}
.wizard .changedLocally {background:#80ff80;}
.wizard .changedServer {background:#8080ff;}
.wizard .changedBoth {background:#ff8080;}
.wizard .notFound {background:#ffff80;}
.wizard .putToServer {background:#ff80ff;}
.wizard .gotFromServer {background:#80ffff;}

#messageArea {border:1px solid [[ColorPalette::SecondaryMid]]; background:[[ColorPalette::SecondaryLight]]; color:[[ColorPalette::Foreground]];}
#messageArea .button {color:[[ColorPalette::PrimaryMid]]; background:[[ColorPalette::SecondaryPale]]; border:none;}

.popupTiddler {background:[[ColorPalette::TertiaryPale]]; border:2px solid [[ColorPalette::TertiaryMid]];}

.popup {background:[[ColorPalette::TertiaryPale]]; color:[[ColorPalette::TertiaryDark]]; border-left:1px solid [[ColorPalette::TertiaryMid]]; border-top:1px solid [[ColorPalette::TertiaryMid]]; border-right:2px solid [[ColorPalette::TertiaryDark]]; border-bottom:2px solid [[ColorPalette::TertiaryDark]];}
.popup hr {color:[[ColorPalette::PrimaryDark]]; background:[[ColorPalette::PrimaryDark]]; border-bottom:1px;}
.popup li.disabled {color:[[ColorPalette::TertiaryMid]];}
.popup li a, .popup li a:visited {color:[[ColorPalette::Foreground]]; border: none;}
.popup li a:hover {background:[[ColorPalette::SecondaryLight]]; color:[[ColorPalette::Foreground]]; border: none;}
.popup li a:active {background:[[ColorPalette::SecondaryPale]]; color:[[ColorPalette::Foreground]]; border: none;}
.popupHighlight {background:[[ColorPalette::Background]]; color:[[ColorPalette::Foreground]];}
.listBreak div {border-bottom:1px solid [[ColorPalette::TertiaryDark]];}

.tiddler .defaultCommand {font-weight:bold;}

.shadow .title {color:[[ColorPalette::TertiaryDark]];}

.title {color:[[ColorPalette::SecondaryDark]];}
.subtitle {color:[[ColorPalette::TertiaryDark]];}

.toolbar {color:[[ColorPalette::PrimaryMid]];}
.toolbar a {color:[[ColorPalette::TertiaryLight]];}
.selected .toolbar a {color:[[ColorPalette::TertiaryMid]];}
.selected .toolbar a:hover {color:[[ColorPalette::Foreground]];}

.tagging, .tagged {border:1px solid [[ColorPalette::TertiaryPale]]; background-color:[[ColorPalette::TertiaryPale]];}
.selected .tagging, .selected .tagged {background-color:[[ColorPalette::TertiaryLight]]; border:1px solid [[ColorPalette::TertiaryMid]];}
.tagging .listTitle, .tagged .listTitle {color:[[ColorPalette::PrimaryDark]];}
.tagging .button, .tagged .button {border:none;}

.footer {color:[[ColorPalette::TertiaryLight]];}
.selected .footer {color:[[ColorPalette::TertiaryMid]];}

.error, .errorButton {color:[[ColorPalette::Foreground]]; background:[[ColorPalette::Error]];}
.warning {color:[[ColorPalette::Foreground]]; background:[[ColorPalette::SecondaryPale]];}
.lowlight {background:[[ColorPalette::TertiaryLight]];}

.zoomer {background:none; color:[[ColorPalette::TertiaryMid]]; border:3px solid [[ColorPalette::TertiaryMid]];}

.imageLink, #displayArea .imageLink {background:transparent;}

.annotation {background:[[ColorPalette::SecondaryLight]]; color:[[ColorPalette::Foreground]]; border:2px solid [[ColorPalette::SecondaryMid]];}

.viewer .listTitle {list-style-type:none; margin-left:-2em;}
.viewer .button {border:1px solid [[ColorPalette::SecondaryMid]];}
.viewer blockquote {border-left:3px solid [[ColorPalette::TertiaryDark]];}

.viewer table, table.twtable {border:2px solid [[ColorPalette::TertiaryDark]];}
.viewer th, .viewer thead td, .twtable th, .twtable thead td {background:[[ColorPalette::SecondaryMid]]; border:1px solid [[ColorPalette::TertiaryDark]]; color:[[ColorPalette::Background]];}
.viewer td, .viewer tr, .twtable td, .twtable tr {border:1px solid [[ColorPalette::TertiaryDark]];}

.viewer pre {border:1px solid [[ColorPalette::SecondaryLight]]; background:[[ColorPalette::SecondaryPale]];}
.viewer code {color:[[ColorPalette::SecondaryDark]];}
.viewer hr {border:0; border-top:dashed 1px [[ColorPalette::TertiaryDark]]; color:[[ColorPalette::TertiaryDark]];}

.highlight, .marked {background:[[ColorPalette::SecondaryLight]];}

.editor input {border:1px solid [[ColorPalette::PrimaryMid]];}
.editor textarea {border:1px solid [[ColorPalette::PrimaryMid]]; width:100%;}
.editorFooter {color:[[ColorPalette::TertiaryMid]];}
.readOnly {background:[[ColorPalette::TertiaryPale]];}

#backstageArea {background:[[ColorPalette::Foreground]]; color:[[ColorPalette::TertiaryMid]];}
#backstageArea a {background:[[ColorPalette::Foreground]]; color:[[ColorPalette::Background]]; border:none;}
#backstageArea a:hover {background:[[ColorPalette::SecondaryLight]]; color:[[ColorPalette::Foreground]]; }
#backstageArea a.backstageSelTab {background:[[ColorPalette::Background]]; color:[[ColorPalette::Foreground]];}
#backstageButton a {background:none; color:[[ColorPalette::Background]]; border:none;}
#backstageButton a:hover {background:[[ColorPalette::Foreground]]; color:[[ColorPalette::Background]]; border:none;}
#backstagePanel {background:[[ColorPalette::Background]]; border-color: [[ColorPalette::Background]] [[ColorPalette::TertiaryDark]] [[ColorPalette::TertiaryDark]] [[ColorPalette::TertiaryDark]];}
.backstagePanelFooter .button {border:none; color:[[ColorPalette::Background]];}
.backstagePanelFooter .button:hover {color:[[ColorPalette::Foreground]];}
#backstageCloak {background:[[ColorPalette::Foreground]]; opacity:0.6; filter:alpha(opacity=60);}
/*}}}*/
</pre>
</div>
<div title="StyleSheetLayout">
<pre>/*{{{*/
* html .tiddler {height:1%;}

body {font-size:.75em; font-family:arial,helvetica; margin:0; padding:0;}

h1,h2,h3,h4,h5,h6 {font-weight:bold; text-decoration:none;}
h1,h2,h3 {padding-bottom:1px; margin-top:1.2em;margin-bottom:0.3em;}
h4,h5,h6 {margin-top:1em;}
h1 {font-size:1.35em;}
h2 {font-size:1.25em;}
h3 {font-size:1.1em;}
h4 {font-size:1em;}
h5 {font-size:.9em;}

hr {height:1px;}

a {text-decoration:none;}

dt {font-weight:bold;}

ol {list-style-type:decimal;}
ol ol {list-style-type:lower-alpha;}
ol ol ol {list-style-type:lower-roman;}
ol ol ol ol {list-style-type:decimal;}
ol ol ol ol ol {list-style-type:lower-alpha;}
ol ol ol ol ol ol {list-style-type:lower-roman;}
ol ol ol ol ol ol ol {list-style-type:decimal;}

.txtOptionInput {width:11em;}

#contentWrapper .chkOptionInput {border:0;}

.externalLink {text-decoration:underline;}

.indent {margin-left:3em;}
.outdent {margin-left:3em; text-indent:-3em;}
code.escaped {white-space:nowrap;}

.tiddlyLinkExisting {font-weight:bold;}
.tiddlyLinkNonExisting {font-style:italic;}

/* the 'a' is required for IE, otherwise it renders the whole tiddler in bold */
a.tiddlyLinkNonExisting.shadow {font-weight:bold;}

#mainMenu .tiddlyLinkExisting,
	#mainMenu .tiddlyLinkNonExisting,
	#sidebarTabs .tiddlyLinkNonExisting {font-weight:normal; font-style:normal;}
#sidebarTabs .tiddlyLinkExisting {font-weight:bold; font-style:normal;}

.header {position:relative;}
.header a:hover {background:transparent;}
.headerShadow {position:relative; padding:4.5em 0 1em 1em; left:-1px; top:-1px;}
.headerForeground {position:absolute; padding:4.5em 0 1em 1em; left:0; top:0;}

.siteTitle {font-size:3em;}
.siteSubtitle {font-size:1.2em;}

#mainMenu {position:absolute; left:0; width:10em; text-align:right; line-height:1.6em; padding:1.5em 0.5em 0.5em 0.5em; font-size:1.1em;}

#sidebar {position:absolute; right:3px; width:16em; font-size:.9em;}
#sidebarOptions {padding-top:0.3em;}
#sidebarOptions a {margin:0 0.2em; padding:0.2em 0.3em; display:block;}
#sidebarOptions input {margin:0.4em 0.5em;}
#sidebarOptions .sliderPanel {margin-left:1em; padding:0.5em; font-size:.85em;}
#sidebarOptions .sliderPanel a {font-weight:bold; display:inline; padding:0;}
#sidebarOptions .sliderPanel input {margin:0 0 0.3em 0;}
#sidebarTabs .tabContents {width:15em; overflow:hidden;}

.wizard {padding:0.1em 1em 0 2em;}
.wizard h1 {font-size:2em; font-weight:bold; background:none; padding:0; margin:0.4em 0 0.2em;}
.wizard h2 {font-size:1.2em; font-weight:bold; background:none; padding:0; margin:0.4em 0 0.2em;}
.wizardStep {padding:1em 1em 1em 1em;}
.wizard .button {margin:0.5em 0 0; font-size:1.2em;}
.wizardFooter {padding:0.8em 0.4em 0.8em 0;}
.wizardFooter .status {padding:0 0.4em; margin-left:1em;}
.wizard .button {padding:0.1em 0.2em;}

#messageArea {position:fixed; top:2em; right:0; margin:0.5em; padding:0.5em; z-index:2000; _position:absolute;}
.messageToolbar {display:block; text-align:right; padding:0.2em;}
#messageArea a {text-decoration:underline;}

.tiddlerPopupButton {padding:0.2em;}
.popupTiddler {position: absolute; z-index:300; padding:1em; margin:0;}

.popup {position:absolute; z-index:300; font-size:.9em; padding:0; list-style:none; margin:0;}
.popup .popupMessage {padding:0.4em;}
.popup hr {display:block; height:1px; width:auto; padding:0; margin:0.2em 0;}
.popup li.disabled {padding:0.4em;}
.popup li a {display:block; padding:0.4em; font-weight:normal; cursor:pointer;}
.listBreak {font-size:1px; line-height:1px;}
.listBreak div {margin:2px 0;}

.tabset {padding:1em 0 0 0.5em;}
.tab {margin:0 0 0 0.25em; padding:2px;}
.tabContents {padding:0.5em;}
.tabContents ul, .tabContents ol {margin:0; padding:0;}
.txtMainTab .tabContents li {list-style:none;}
.tabContents li.listLink { margin-left:.75em;}

#contentWrapper {display:block;}
#splashScreen {display:none;}

#displayArea {margin:1em 17em 0 14em;}

.toolbar {text-align:right; font-size:.9em;}

.tiddler {padding:1em 1em 0;}

.missing .viewer,.missing .title {font-style:italic;}

.title {font-size:1.6em; font-weight:bold;}

.missing .subtitle {display:none;}
.subtitle {font-size:1.1em;}

.tiddler .button {padding:0.2em 0.4em;}

.tagging {margin:0.5em 0.5em 0.5em 0; float:left; display:none;}
.isTag .tagging {display:block;}
.tagged {margin:0.5em; float:right;}
.tagging, .tagged {font-size:0.9em; padding:0.25em;}
.tagging ul, .tagged ul {list-style:none; margin:0.25em; padding:0;}
.tagClear {clear:both;}

.footer {font-size:.9em;}
.footer li {display:inline;}

.annotation {padding:0.5em; margin:0.5em;}

* html .viewer pre {width:99%; padding:0 0 1em 0;}
.viewer {line-height:1.4em; padding-top:0.5em;}
.viewer .button {margin:0 0.25em; padding:0 0.25em;}
.viewer blockquote {line-height:1.5em; padding-left:0.8em;margin-left:2.5em;}
.viewer ul, .viewer ol {margin-left:0.5em; padding-left:1.5em;}

.viewer table, table.twtable {border-collapse:collapse; margin:0.8em 1.0em;}
.viewer th, .viewer td, .viewer tr,.viewer caption,.twtable th, .twtable td, .twtable tr,.twtable caption {padding:3px;}
table.listView {font-size:0.85em; margin:0.8em 1.0em;}
table.listView th, table.listView td, table.listView tr {padding:0 3px 0 3px;}

.viewer pre {padding:0.5em; margin-left:0.5em; font-size:1.2em; line-height:1.4em; overflow:auto;}
.viewer code {font-size:1.2em; line-height:1.4em;}

.editor {font-size:1.1em;}
.editor input, .editor textarea {display:block; width:100%; font:inherit;}
.editorFooter {padding:0.25em 0; font-size:.9em;}
.editorFooter .button {padding-top:0; padding-bottom:0;}

.fieldsetFix {border:0; padding:0; margin:1px 0px;}

.zoomer {font-size:1.1em; position:absolute; overflow:hidden;}
.zoomer div {padding:1em;}

* html #backstage {width:99%;}
* html #backstageArea {width:99%;}
#backstageArea {display:none; position:relative; overflow: hidden; z-index:150; padding:0.3em 0.5em;}
#backstageToolbar {position:relative;}
#backstageArea a {font-weight:bold; margin-left:0.5em; padding:0.3em 0.5em;}
#backstageButton {display:none; position:absolute; z-index:175; top:0; right:0;}
#backstageButton a {padding:0.1em 0.4em; margin:0.1em;}
#backstage {position:relative; width:100%; z-index:50;}
#backstagePanel {display:none; z-index:100; position:absolute; width:90%; margin-left:3em; padding:1em;}
.backstagePanelFooter {padding-top:0.2em; float:right;}
.backstagePanelFooter a {padding:0.2em 0.4em;}
#backstageCloak {display:none; z-index:20; position:absolute; width:100%; height:100px;}

.whenBackstage {display:none;}
.backstageVisible .whenBackstage {display:block;}
/*}}}*/
</pre>
</div>
<div title="StyleSheetLocale">
<pre>/***
StyleSheet for use when a translation requires any css style changes.
This StyleSheet can be used directly by languages such as Chinese, Japanese and Korean which need larger font sizes.
***/
/*{{{*/
body {font-size:0.8em;}
#sidebarOptions {font-size:1.05em;}
#sidebarOptions a {font-style:normal;}
#sidebarOptions .sliderPanel {font-size:0.95em;}
.subtitle {font-size:0.8em;}
.viewer table.listView {font-size:0.95em;}
/*}}}*/
</pre>
</div>
<div title="StyleSheetPrint">
<pre>/*{{{*/
@media print {
#mainMenu, #sidebar, #messageArea, .toolbar, #backstageButton, #backstageArea {display: none !important;}
#displayArea {margin: 1em 1em 0em;}
noscript {display:none;} /* Fixes a feature in Firefox 1.5.0.2 where print preview displays the noscript content */
}
/*}}}*/
</pre>
</div>
<div title="ViewTemplate">
<pre>&lt;!--{{{--&gt;
&lt;div class='toolbar' role='navigation' macro='toolbar [[ToolbarCommands::ViewToolbar]]'&gt;&lt;/div&gt;
&lt;div class='title' macro='view title'&gt;&lt;/div&gt;
&lt;div class='subtitle'&gt;&lt;span macro='view modifier link'&gt;&lt;/span&gt;, &lt;span macro='view modified date'&gt;&lt;/span&gt; (&lt;span macro='message views.wikified.createdPrompt'&gt;&lt;/span&gt; &lt;span macro='view created date'&gt;&lt;/span&gt;)&lt;/div&gt;
&lt;div class='tagging' macro='tagging'&gt;&lt;/div&gt;
&lt;div class='tagged' macro='tags'&gt;&lt;/div&gt;
&lt;div class='viewer' macro='view text wikified'&gt;&lt;/div&gt;
&lt;div class='tagClear'&gt;&lt;/div&gt;
&lt;!--}}}--&gt;
</pre>
</div>

</div>
<!--POST-SHADOWAREA-->
<div id="storeArea">
<div title="@font-face.css" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405181008" tags="css excludeTimeline" changecount="12" alias="" content-type="text/css">
<pre>@font-face{font-family: texgyrebonum;src: url('texgyrebonum-regular.otf') format('opentype');}
.texgyrebonum {font-family:texgyrebonum;}
@font-face{font-family: texgyrepagella;src: url('texgyrepagella-regular.otf') format('opentype');}
.texgyrepagella {font-family:texgyrepagella;}
@font-face{font-family: texgyreschola;src: url('texgyreschola-regular.otf') format('opentype');}
.texgyreschola {font-family:texgyreschola;}
@font-face{font-family: texgyretermes;src: url('texgyretermes-regular.otf') format('opentype');}
.texgyretermes {font-family:texgyretermes;}

@font-face{font-family: FiraSansOT;src: url('FiraSansOT-Regular.otf') format('opentype');}
.FiraSansOT {font-family:FiraSansOT;}
@font-face{font-family: Arizonia;src: url('Arizonia-Regular.ttf') format('truetype');}
.Arizonia {font-family:Arizonia;}

@font-face{font-family: Georgia;src: url('georgia.ttf') format('truetype');
	font-weight:normal;font-style: normal;}
@font-face{font-family: Georgia;src: url('georgiab.ttf') format('truetype');
font-weight:bold;font-style: normal;}
@font-face{font-family: Georgia;src: url('georgiai.ttf') format('truetype');
	font-weight:normal;font-style: italic;}
@font-face{font-family: Georgia;src: url('georgiaz.ttf') format('truetype');
	font-weight:bold;font-style: italic;}


.SourceSerifPro-Regular {font-family:SourceSerifPro-Regular;}
@font-face{font-family: SourceSerifPro-Regular;src: url('SourceSerifPro-Regular.otf') format('opentype');}


@font-face{font-family: lmroman10-regular;src: url('lmroman10-regular.otf') format('opentype');}
@font-face{font-family: cmtt10;src: url('cmtt10.ttf') format('truetype');}
@font-face{font-family: cmtex10;src: url('cmtex10.ttf') format('truetype');}

@font-face{	font-family: cmr10; src: url('cmr10.ttf') format('truetype');
			font-weight:normal;font-style: normal;}
@font-face{	font-family: cmr10; src: url('cmb10.ttf') format('truetype');
			font-weight:bold;font-style: normal;}
@font-face{	font-family: cmr10; src: url('cmti10.ttf') format('truetype');
			font-weight:normal;font-style: italic;}
@font-face{	font-family: cmr10; src: url('cmbxti10.ttf') format('truetype');
			font-weight:bold;font-style: italic;}
@font-face{	font-family: cmrsc10; src: url('cmcsc10.ttf') format('truetype');
			font-variant: small-caps;}

@font-face{	font-family: cmr10_bl; src: url('cmr10.ttf') format('truetype');
			font-weight:normal;font-style: normal;}
@font-face{font-family: cmr10_ams;src: url('CMR10_ams.otf') format('opentype');}
	@font-face{
	font-family: cmr8;
src: url('cmr8.ttf') format('truetype');
		}
		@font-face{
	font-family: cmb10;
src: url('cmb10.ttf') format('truetype');
			}
			@font-face{
	font-family: cmmi10;
src: url('cmmi10.ttf') format('truetype');	
				}
				@font-face{
		font-family: MathJax_Main-Regular;
src: url('MathJax_Main-Regular.otf') format('opentype');
					}
					@font-face{
		font-family: MathJax_Math-Regular;
src: url('MathJax_Math-Regular.otf') format('opentype');
						}
						@font-face{
		font-family: MathJax_SansSerif-Regular;
src: url('MathJax_SansSerif-Regular.otf') format('opentype');
}


.SourceSerifPro-Regular {font-family:SourceSerifPro-Regular;}
.courier {font-family:courier;}
.cmtex10 {font-family:cmtex10;}
.cmtt10 {font-family:cmtt10;}
.right {font-family:cmr10_ams;}
/*.viewer {-webkit-text-stroke: 0.2px;}*/
.tiddler .cmr8 {font-family:cmr8;}
.tiddler .cmr10 {font-family:cmr10;}
.tiddler .lmroman10-regular {font-family:lmroman10-regular;}
.tiddler .MathJax_Main-Regular {font-family:MathJax_Main-Regular;}
.tiddler .MathJax_Math-Regular {font-family:MathJax_Math-Regular;}
.tiddler .cmr10_ams {font-family:cmr10_ams;}
.tiddler .georgia {font-family:Georgia;}</pre>
</div>
<div title="AColor" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404121847" modified="201405082201" tags="systemPalette excludeTimeline excludeLists" changecount="10" content-type="">
<pre>Name: AColor
Background: #fff
Foreground: #000
PrimaryPale: #eff3fa
PrimaryLighter: #bce
PrimaryLight: #9bd
PrimaryMid: #336699
PrimaryDark: #003366
PrimaryDarker: #001a44
SecondaryPale: #ffc
SecondaryLight: #fe9
SecondaryMid: #baa07b
SecondaryDark: #886655
TertiaryPale: #eee
TertiaryLighter: #ddd
TertiaryLight: #ccc
TertiaryMid: #999
TertiaryDark: #666
TertiaryDarker: #333
Error: #f88</pre>
</div>
<div title="AColorLight" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404122043" modified="201405050833" tags="systemPalette excludeTimeline excludeLists" changecount="17" content-type="text/css">
<pre>Name: AColorLight
Background: #fff
Foreground: #000
PrimaryPale: #eff3fa
PrimaryLight: #9bd
PrimaryMid: #336699
PrimaryDark: #003366
SecondaryPale: #ffc
SecondaryLight: #fea
SecondaryMid: #baa07b
SecondaryDark: #886655
TertiaryPale: #eee
TertiaryLight: #eee
TertiaryMid: #aaa
TertiaryDark: #fff
Error: #f88</pre>
</div>
<div title="AccordionMenuPlugin" modifier="Christopher Wilson" created="201305232324" modified="201305232325" tags="systemConfig excludeTimeline" changecount="1">
<pre>/***
|''Name:''|AccordionMenuPlugin|
|''Description:''|Turn an unordered list into an accordion style menu|
|''Author:''|Saq Imtiaz ( lewcid@gmail.com )|
|''Source:''|http://tw.lewcid.org/#AccordionMenuPlugin|
|''Code Repository:''|http://tw.lewcid.org/svn/plugins|
|''Version:''|2.0|
|''Date:''|03/11/2007|
|''License:''|[[Creative Commons Attribution-ShareAlike 3.0 License|http://creativecommons.org/licenses/by-sa/3.0/]]|
|''~CoreVersion:''|2.2.5|
!!Usage:
* put {{{&lt;&lt;accordion&gt;&gt;}}} on the line after your unordered list

!!Customizing:
* customize the css via the shadow tiddler StyleSheetAccordionMenuPlugin
* or give the list a custom class by passing the classes as parameters to the macro.
** Eg: {{{&lt;&lt;accordion ClassName1 ClassName2&gt;&gt;}}}

!!Examples:
{{{
* Section 1
** [[Link1]]
** [[Link2]]
** [[Link3]]
*Section 2
** [[Link4]]
** [[Link5]]
** [[Link6]]
*Section 3
**[[Link7]]
**[[Link8]]
**[[Link9]]
&lt;&lt;accordion&gt;&gt;
}}}
gives:

* Section 1
** [[Link1]]
** [[Link2]]
** [[Link3]]
*Section 2
** [[Link4]]
** [[Link5]]
** [[Link6]]
*Section 3
**[[Link7]]
**[[Link8]]
**[[Link9]]
&lt;&lt;accordion&gt;&gt;

***/
// /%
//!BEGIN-PLUGIN-CODE
config.macros.accordion={
	dropchar : &quot; \u00BB&quot;,
	handler : function(place,macroName,params,wikifier,paramString,tiddler){
		list = findRelated(place.lastChild,&quot;UL&quot;,&quot;tagName&quot;,&quot;previousSibling&quot;);
		if (!list)
			return;
		addClass(list,&quot;accordion&quot;);
		if (params.length){
			addClass(list,paramString);
		}
		this.fixLinks(list.childNodes);		
	},

	fixLinks : function(els){
		for (var i=0; i&lt;els.length; i++){
			if(els[i].tagName.toLowerCase()==&quot;li&quot;){
				var link = findRelated(els[i].firstChild,&quot;A&quot;,&quot;tagName&quot;,&quot;nextSibling&quot;);
				if(!link){
					var ih = els[i].firstChild.data;
					els[i].removeChild(els[i].firstChild);
					link = createTiddlyElement(null,&quot;a&quot;,null,null,ih+this.dropchar,{href:&quot;javascript:;&quot;});
					els[i].insertBefore(link,els[i].firstChild);
				}
				else{
					link.firstChild.data = link.firstChild.data + this.dropchar;
					removeClass(link,&quot;tiddlyLinkNonExisting&quot;);
				}
				link.onclick = this.show;
			}
		}
	},
	
	show : function(e){
		var list = this.parentNode.parentNode;
		var els = list.childNodes;
		for (var i=0; i&lt;els.length; i++){
			removeClass(els[i],&quot;accordion-active&quot;);
		}
		addClass(this.parentNode,&quot;accordion-active&quot;);
	}	
};

config.shadowTiddlers[&quot;StyleSheetAccordionMenuPlugin&quot;] = &quot;/*{{{*/\n&quot;+
	 &quot;ul.accordion, ul.accordion li, ul.accordion li ul  {margin:0; padding:0; list-style-type:none;text-align:left;}\n&quot;+
	 &quot;ul.accordion li ul {display:none;}\n&quot;+
	 &quot;ul.accordion li.accordion-active ul {display:block;}\n&quot;+
	 &quot;\n&quot;+
	 &quot;ul.accordion li.accordion-active a {cursor:default;}\n&quot;+
	 &quot;ul.accordion li.accordion-active ul li a{cursor:pointer;}\n&quot;+
	 &quot;\n&quot;+
	 &quot;ul.accordion a {display:block; padding:0.5em;}\n&quot;+
	 &quot;ul.accordion li a.tiddlyLink, ul.accordion li a.tiddlyLinkNonExisting, ul.accordion li a {font-weight:bold;}\n&quot;+
	 &quot;ul.accordion li a {background:#0066aa; color:#FFF; border-bottom:1px solid #fff;}\n&quot;+
	 &quot;ul.accordion li.accordion-active a, ul.accordion li a:hover {background:#00558F;color:#FFF;}\n&quot;+
	 &quot;\n&quot;+
	 &quot;ul.accordion li ul li{display:inline-block;overflow:hidden;}\n&quot;+
	 &quot;ul.accordion li.accordion-active ul li {background:#eff3fa; color:#000; padding:0em;}\n&quot;+
	 &quot;ul.accordion li.accordion-active ul li div {padding:1em 1.5em; background:#eff3fa;}\n&quot;+
	 &quot;ul.accordion li.accordion-active ul a{background:#eff3fa; color:#000; padding:0.5em 0.5em 0.5em 1.0em;border:none;}\n&quot;+
	 &quot;ul.accordion li.accordion-active ul a:hover {background:#e0e8f5; color:#000;}\n&quot; +
	 &quot;/*}}}*/&quot;;
 
 store.addNotification(&quot;StyleSheetAccordionMenuPlugin&quot;,refreshStyles);
 //!END-PLUGIN-CODE
// %/	</pre>
</div>
<div title="ActivityDataPlugin" creator="jon" modifier="Christopher Wilson" created="201008062200" modified="201404141120" tags="excludeLists systemConfig excludeTimeline systemConfigDisable" content-type="" changecount="4" _hash="50daa41ea330d85078eebf29ae98ff776f3f2c23" server.content-type="" server.permissions="read" server.bag="charts_public" server.recipe="charts_public" server.host="http://charts.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/charts_public" server.title="ActivityDataPlugin">
<pre>//{{{
config.macros.ActivityTable = {
  handler: function(place) {
    var collection = {};
    var tiddlers = store.sortTiddlers(store.getTiddlers(),&quot;modified&quot;);
    for(var i=0; i &lt; tiddlers.length; i++){
    if(!tiddlers[i].tags.contains(&quot;excludeLists&quot;)) {
        var modified = tiddlers[i].modified;
        var id = modified.formatString(&quot;0DD/0MM/YY&quot;);
        collection[id] = collection[id] ? collection[id] + 1 : 1;
      } 
    }
    var line1 = [];
    var line2 = []; 
    for(var i in collection){
      line1.push(i);
      line2.push(collection[i]);
    }
// only show last 10 days
    line1 = line1.slice(0, 10);
    line2 = line2.slice(0,10);
    var wikiText = &quot;|Modified|%0|\n|Number Tiddlers|%1|&quot;.format([line1.join(&quot;|&quot;),line2.join(&quot;|&quot;)]);
    wikify(wikiText, place);
  }
}
//}}}</pre>
</div>
<div title="AliasPlugin" modifier="Christopher Wilson" created="201305240506" modified="201305240727" tags="systemConfig excludeTimeline" changecount="1">
<pre>/***
|Name|AliasPlugin|
|Source|http://www.TiddlyTools.com/#AliasPlugin|
|Documentation|http://www.TiddlyTools.com/#AliasPluginInfo|
|Version|1.1.2|
|Author|Eric Shulman|
|License|http://www.TiddlyTools.com/#LegalStatements|
|~CoreVersion|2.1|
|Type|plugin|
|Description|Create text-substitution macros|
Define macros for abbreviations and other &quot;aliases&quot;, and then embed them in the rest of your tiddler content to quickly insert common terms, phrases and links without a lot of repetitive typing.
!!!!!Documentation
&gt; see [[AliasPluginInfo]]
!!!!!Revisions
&lt;&lt;&lt;
2012.08.10 1.2.0 handle backslash quoting to allow direct use of macro calls in aliases
2009.09.09 1.1.1 'tiddler' arg passed to wikify() so aliases containing macros render with correct context
| Please see [[AliasPluginInfo]] for previous revision details |
2005.08.12 1.0.0 initial release
&lt;&lt;&lt;
!!!!!Code
***/
//{{{
version.extensions.AliasPlugin= {major: 1, minor: 2, revision: 0, date: new Date(2012,8,10)};
config.macros.alias= { };
config.macros.alias.handler = function(place,macroName,params,wikifier,paramString,tiddler) {
	var alias=params.shift(); if (!alias) return; alias=alias.replace(/ /g,&quot;_&quot;); // don't allow spaces in alias
	if (config.macros[alias]==undefined) { // create new macro (as needed)
		config.macros[alias] = { };
		config.macros[alias].handler =
			function (place,macroName,params,wikifier,paramString,tiddler)
				{ wikify(config.macros[macroName].text.format(params),place,null,tiddler); }
	}
	var t=(params[0]?params.join(' '):alias); // construct paramstring
	t=t.replace(/\\n/g,'\n').replace(/\\t/g,'\t').replace(/\\([&lt;&gt;])/g,'$1'); // fixup escaped chars
	config.macros[alias].text = t; // set alias text
}
//}}}	</pre>
</div>
<div title="Ambit EditTemplate" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405170740" tags="ambit excludeTimeline" content-type="text/x-tiddlywiki" changecount="2">
<pre>&lt;!--{{{--&gt;
&lt;div class=&quot;paperSheet editMode&quot;&gt;
&lt;div class='editToolbar'
	macro='toolbar [[ToolbarCommands::EditToolbar]] icons:yes'&gt;
&lt;/div&gt;
&lt;div class='heading editorHeading'&gt;
	&lt;div class='editor title' macro='edit title'&gt;&lt;/div&gt;
	&lt;div class='tagClear'&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class='annotationsBox' macro='annotations'&gt;
	&lt;div class='editSpaceSiteIcon'
		macro='tiddlerOrigin height:16 width:16 label:no interactive:no'&gt;
	&lt;/div&gt;
	&lt;div class=&quot;privacyEdit&quot; macro='setPrivacy label:yes interactive:yes'&gt;&lt;/div&gt;
	&lt;div class='tagClear'&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class='editor' macro='edit text'&gt;&lt;/div&gt;
&lt;div class='editorFooter'&gt;
	&lt;div class='tagTitle'&gt;tags&lt;/div&gt;
	&lt;div class='editor' macro='edit tags'&gt;&lt;/div&gt;
	&lt;div class='tagAnnotation'&gt;
		&lt;span macro='message views.editor.tagPrompt'&gt;&lt;/span&gt;
		&lt;span macro='tagChooser excludeLists'&gt;&lt;/span&gt;
	&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;!--}}}--&gt;</pre>
</div>
<div title="Ambit FooterMacros" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405170758" tags="systemConfig ambit excludeTimeline systemConfigDisable" content-type="text/x-tiddlywiki" changecount="4">
<pre>/*This operates the 'show related information' header slider on the ambit template, even though its called the footer macro
Dependencies: None? */
/*{{{*/
config.macros.footerSlider = {
	handler: function(place,macroName,params,wikifier,paramString,tiddler) {
		var $ = jQuery,
			$sliderButton = $('&lt;a class=&quot;slider button&quot; title=&quot;Show or hide related information for this tiddler&quot;&gt;show/hide related information&lt;/a&gt;').appendTo(place),
			$topicsContainer = $(&quot;&lt;div&gt;&lt;/div&gt;&quot;)
				.appendTo(place)
				.css('display', 'none'),
			topicsElem = $topicsContainer.get(0);
		$sliderButton.click(function() {
			$topicsContainer.slideToggle();
		});
		config.macros.ambitTags.handler(topicsElem,&quot;ambitTags&quot;,params,wikifier,paramString,tiddler);
		$topicsContainer.append(&quot;&lt;br /&gt;&quot;);
		config.macros.ambitTagging.handler(topicsElem,&quot;ambitTags&quot;,params,wikifier,paramString,tiddler);
		$topicsContainer.append(&quot;&lt;br /&gt;&quot;);
	}
};

// based on tags macro
config.macros.ambitTags = {};
config.macros.ambitTags.handler = function(place,macroName,params,wikifier,paramString,tiddler) {
	params = paramString.parseParams(&quot;anon&quot;,null,true,false,false);
	var ul = createTiddlyElement(place,&quot;ul&quot;);
	var title = getParam(params,&quot;anon&quot;,&quot;&quot;);
	if(title &amp;&amp; store.tiddlerExists(title))
		tiddler = store.getTiddler(title);
	var sep = getParam(params,&quot;sep&quot;,&quot; &quot;);
	var lingo = config.views.wikified.tag;
	if(tiddler.tags.length===0) {
		createTiddlyElement(ul,&quot;li&quot;,null,null,&quot;no topic&quot;);
	}
	for(var t=0; t&lt;tiddler.tags.length; t++) {
		var tag = store.getTiddler(tiddler.tags[t]);
		if(!tag || !tag.tags.contains(&quot;excludeLists&quot;)) {
			createTagButton(createTiddlyElement(ul,&quot;li&quot;),tiddler.tags[t],tiddler.title);
			if(t&lt;tiddler.tags.length-1)
				createTiddlyText(ul,sep);
		}
	}
};

// based on tagging macro
config.macros.ambitTagging = {};
config.macros.ambitTagging.handler = function(place,macroName,params,wikifier,paramString,tiddler) {
	params = paramString.parseParams(&quot;anon&quot;,null,true,false,false);
	var ul = createTiddlyElement(place,&quot;ul&quot;);
	var title = getParam(params,&quot;anon&quot;,&quot;&quot;);
	if(title == &quot;&quot; &amp;&amp; tiddler instanceof Tiddler)
		title = tiddler.title;
	var sep = getParam(params,&quot;sep&quot;,&quot; &quot;);
	ul.setAttribute(&quot;title&quot;,config.macros.tagging.tooltip.format([title]));
	var tagged = store.getTaggedTiddlers(title);
	if(tagged.length===0) {
		createTiddlyElement(ul,&quot;li&quot;,null,&quot;listTitle&quot;,&quot;no topics&quot;);
	} else {
		for(var t=0; t&lt;tagged.length; t++) {
			createTiddlyLink(createTiddlyElement(ul,&quot;li&quot;),tagged[t].title,true);
			if(t&lt;tagged.length-1)
				createTiddlyText(ul,sep);
		}
	}
};

// newHere plugin - http://mptw.tiddlyspot.com/#NewHerePlugin
config.macros.newHere = {
	handler: function(place,macroName,params,wikifier,paramString,tiddler) {
		wikify(&quot;&lt;&lt;newTiddler &quot;+paramString+&quot; tag:[[&quot;+tiddler.title+&quot;]]&gt;&gt;&quot;,place,null,tiddler);
	}
};

config.macros.ambitRevisions = {
	handler: function(place,macroName,params,wikifier,paramString,tiddler) {
		config.macros.toolbar.createCommand(place,&quot;revisions&quot;,tiddler);
	}
};

config.macros.ambitReferences = {
	handler: function(place,macroName,params,wikifier,paramString,tiddler) {
		config.macros.toolbar.createCommand(place,&quot;references&quot;,tiddler);
	}
};

(function($) {
	$(document).bind('startup', function() {
		$('.panelToggle').live('click', function() {
			$(this)
				.toggleClass('open')
				.closest('.headingPanel')
				.find('.infoPanel')
				.slideToggle();
			return false;
		});
	});
}(jQuery))


config.macros.ambitElsewhere = {
	searchURL: '/search.json?q=title:&quot;%0&quot;',
	handler: function(place,macroName,params,wikifier,paramString,tiddler) {
		var url = config.macros.ambitElsewhere.searchURL.format(encodeURIComponent(tiddler.title)),
			$ = jQuery;
		$.ajax({
			url: url,
			dataType: &quot;json&quot;,
			success: function(tiddlers) {
				tiddlers = $.grep(tiddlers, function(t, i) {
					return t.bag.indexOf('ambit')!==-1 &amp;&amp; t.bag!==tiddler.fields['server.bag'];
				});
				var count = tiddlers.length;
				$(place).prepend(count);
				if(count) {
					config.macros.ambitElsewhere.wrapWithElsewhereLink(place, tiddlers, tiddler);
				}
			},
			error: function() {
				$(place).prepend('(error)');
			}
		});
	},
	wrapWithElsewhereLink: function(place, tiddlers, tiddler) {
		var $ = jQuery;
		var $place = $(place)
			.wrap(&quot;&lt;a&gt;&lt;/a&gt;&quot;)
			.parent().click(function() {
				var popup = Popup.create(this),
					$ul,
					bag,
					space,
					diffURL = &quot;diff?rev1=bags/&quot;+tiddler.fields['server.bag']+&quot;/&quot;+encodeURIComponent(tiddler.title)+&quot;/&quot;+tiddler.fields['server.page.revision']+&quot;&amp;rev2=bags/&lt;bag&gt;/&quot;+encodeURIComponent(tiddler.title)+&quot;/&lt;revision&gt;&amp;format=horizontal&quot;;
				if(popup) {
					$ul = $(popup).append(&quot;&lt;ul&gt;&lt;/ul&gt;&quot;);
					$.each(tiddlers, function(i, t) {
						bag = t.bag;
						space = bag.substring(0, bag.lastIndexOf('_')); // TO-DO: filter this so it is against a known list of spaces, rather than all the hundreds in TiddlySpace
						$ul.append('&lt;li&gt;&lt;a href=&quot;'+diffURL.replace(&quot;&lt;bag&gt;&quot;,bag).replace(&quot;&lt;revision&gt;&quot;,t.revision)+'&quot; target=&quot;_blank&quot;&gt;'+space+'&lt;/li&gt;');
					});
				}
				Popup.show();
				return false;
			});
	}
};

/*}}}*/</pre>
</div>
<div title="Ambit PageTemplate" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405170741" tags="ambit excludeTimeline" content-type="text/x-tiddlywiki" changecount="2">
<pre>&lt;!--{{{--&gt;
&lt;div id=&quot;displayArea&quot;&gt;
		&lt;div id=&quot;messageArea&quot;&gt;&lt;/div&gt;
		&lt;!-- AMBIT HTML build here --&gt;
		&lt;div id=&quot;header&quot;&gt;
			&lt;span id=&quot;SiteIcon&quot; macro=&quot;image SiteIcon&quot;&gt;&lt;/span&gt;
			&lt;h1&gt;&lt;span id=&quot;SiteTitle&quot; class='siteTitle' refresh='content' tiddler='SiteTitle'&gt;&lt;/span&gt; &lt;span id=&quot;SiteSubtitle&quot; class='siteSubtitle' refresh='content' tiddler='SiteSubtitle'&gt;&lt;/span&gt;&lt;/h1&gt;
			&lt;img id=&quot;logo&quot; src=&quot;http://ambit-theme.tiddlyspace.com/ambit_logo_dark.png&quot; alt=&quot;AMBIT logo&quot; /&gt;			
			&lt;img id=&quot;annafreudlogo&quot; src=&quot;http://ambit-theme.tiddlyspace.com/annafreud_logo_dark.png&quot; alt=&quot;Anna Freud Centre logo&quot; /&gt;
		&lt;/div&gt;
		&lt;div id=&quot;mainpane&quot;&gt;
			&lt;div id=&quot;tiddlerDisplay&quot;&gt;
			&lt;/div&gt; &lt;!-- tiddlerDisplay --&gt;
			&lt;div id=&quot;sidebar&quot;&gt;
				&lt;div class=&quot;tools&quot;&gt;
					&lt;div macro=&quot;buttonPermaviewMacro&quot;&gt;&lt;/div&gt;
					&lt;h2&gt;Tools&lt;/h2&gt;
				&lt;/div&gt;
				&lt;div class=&quot;wrap&quot;&gt;
					&lt;div id=&quot;search&quot; class=&quot;module&quot;&gt;
						&lt;h2&gt;Search&lt;/h2&gt;
						&lt;div class=&quot;moduleContent&quot;&gt;
							&lt;span macro=&quot;searchBox&quot;&gt;&lt;/span&gt;
						&lt;/div&gt;
					&lt;/div&gt;
					&lt;div id=&quot;history&quot; class=&quot;module&quot;&gt;
						&lt;h2&gt;History&lt;/h2&gt;
						&lt;div class=&quot;moduleContent&quot;&gt;
							&lt;div macro=&quot;history&quot;&gt;&lt;/div&gt;
						&lt;/div&gt;
					&lt;/div&gt;
					&lt;div id=&quot;youAreReading&quot; class=&quot;module&quot;&gt;
						&lt;h2&gt;You are reading&lt;/h2&gt;
						&lt;div class=&quot;moduleContent&quot;&gt;
							&lt;div macro=&quot;youAreReading&quot;&gt;&lt;/div&gt;
						&lt;/div&gt;
					&lt;/div&gt;
					&lt;div id=&quot;contents&quot; class=&quot;module&quot;&gt;
						&lt;h2&gt;Contents&lt;/h2&gt;
						&lt;div class=&quot;moduleContent&quot;&gt;
							&lt;div id='mainMenu' refresh='content' tiddler='MainMenu'&gt;&lt;/div&gt;
						&lt;/div&gt;
					&lt;/div&gt;
				&lt;/div&gt;	
			&lt;/div&gt; &lt;!-- sidebar --&gt;
		 &lt;/div&gt; &lt;!-- mainpane --&gt;
	&lt;/div&gt; &lt;!-- displayArea --&gt;
&lt;!--}}}--&gt;</pre>
</div>
<div title="Ambit RevisionTemplate" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405170838" tags="ambit excludeTimeline" changecount="2" content-type="text/x-tiddlywiki">
<pre>&lt;!--{{{--&gt;
&lt;div macro='slideRevision'&gt;&lt;/div&gt;
&lt;div class='heading'&gt;
	&lt;span class=&quot;titleBar&quot;&gt;
		&lt;div class='title' macro='view title text'&gt;&lt;/div&gt;
	&lt;/span&gt;
	&lt;span class='modifierIcon'
		macro='view modifier SiteIcon label:no height:48 width:48 preserveAspectRatio:yes'&gt;
	&lt;/span&gt;
	&lt;div class='toolbar'
		macro='toolbar [[ToolbarCommands::RevisionToolbar]] icons:yes height:48 width:48 more:popup'&gt;
	&lt;/div&gt;
	&lt;div class='tagClear'&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class='content'&gt;
	&lt;div class='viewer' macro='view text wikified'&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class='tagInfo'&gt;
	&lt;div class='tidTags' macro='tags'&gt;&lt;/div&gt;
	&lt;div class='tagging' macro='tagging'&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;!--}}}--&gt;</pre>
</div>
<div title="Ambit Stylesheet" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405170742" tags="ambit excludeTimeline" content-type="text/x-tiddlywiki" changecount="2">
<pre>/*{{{*/

/* ------------------------------------------------Mayer's Reset Reloaded: http://meyerweb.com/eric/thoughts/2007/05/01/reset-reloaded */

html, body, div, span, applet, object, iframe,
h1, h2, h3, h4, h5, h6, p, blockquote, pre,
a, abbr, acronym, address, big, cite, code,
del, dfn, em, font, img, ins, kbd, q, s, samp,
small, strike, strong, sub, sup, tt, var,
dl, dt, dd, ol, ul, li,
fieldset, form, label, legend,
table, caption, tbody, tfoot, thead, tr, th, td {
	margin: 0;
	padding: 0;
	border: 0;
	outline: 0;
	font-weight: inherit;
	font-style: inherit;
	font-size: 100%;
	font-family: inherit;
	vertical-align: baseline;
}
/* remember to define focus styles! */
:focus {
	outline: 0;
}
body {
	line-height: 1;
	color: black;
	background: white;
}
ol, ul {
	list-style: none;
}
/* tables still need 'cellspacing=&quot;0&quot;' in the markup */
table {
	border-collapse: separate;
	border-spacing: 0;
}
caption, th, td {
	text-align: left;
	font-weight: normal;
}
blockquote:before, blockquote:after,
q:before, q:after {
	content: &quot;&quot;;
}
blockquote, q {
	quotes: &quot;&quot; &quot;&quot;;
}


/* J-BASE */


/*--------------------------Global */

body {
	font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, Sans-serif;
	letter-spacing: 0.02em;
	color: #545454;
	font-size: 62.5%;
	background-position: 0px 0px;
}

.grid {
	/*background-image: url(../images/24px6inc_grid.png);*/
}

.jbasewrap {
	/*padding: 48px 0;*/
	width: 940px;
	margin: auto;
	font-size: 1.4em;
	line-height: 1.714em;
}

a {
	color: #fca961;
	text-decoration: underline;
}

.clearboth {
	clear: both;
}

.alert {
	color: white;
	padding: 0px 5px;
	-moz-border-radius: 5px; /* FF1+ */
	-webkit-border-radius: 5px; /* Saf3+, Chrome */
	border-radius: 5px; /* Opera 10.5, IE 9 */	
	font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, Sans-serif;
	/*
	-moz-box-shadow:inset 0 0 5px #d81900;
	-webkit-box-shadow:inset 0 0 5px #d81900;
	box-shadow:inset 0 0 5px #e33923;
	*/
	-moz-box-shadow: 1px 1px 3px #939393;
	-webkit-box-shadow: 1px 1px 3px #939393;
	box-shadow: 1px 1px 3px #939393;
}

.alert.error {
	text-shadow: #e33923 1px 1px 1px;
	background-color: #ff776d;
	border: #ff2413 1px solid;
}

.alert.success {
	text-shadow: #1e8c1e 1px 1px 1px;
	background-color: #6fc66f;
	border: #1e8c1e 1px solid;
}


/*--------------------------Grid Modification */

.grid4col, .grid2col {
	/*margin-top: 0.071em; */
} 




/*--------------------------Typography */

p {
	font-size: 1em;
	margin: 0 0 1.714em;
}

.tiddler .content {
	font-size: 1.15em;
}

.smallcaps {
	font-variant: small-caps;
}


strong {
	font-weight: 600;  /* JB */
}

del {
	text-decoration: line-through;
}

dfn {
	font-weight: bold;
}

em, dfn {
	font-style: italic;	
}

address {
	font-style: italic;
	margin-bottom: 1.714em;
}

pre, code, tt {
	font-family: 'andale mono','lucida console',monospace;
}

abbr, acronym {
	border-bottom: 1px dotted;
}

table {
	margin-bottom: 1.714em;
}

th {
}

ul, ol {
	margin: 0 0 1.714em 1.714em;
	padding: 0px; /* JB */
}

ul.noMargin, .ol.noMargin {
	margin: 0 0 1.714em 0;	
}

ul li {
	list-style: disc;
}

ul.noBullets ul.bullets li {
	list-style: disc;
}

ul.noBullets li {
	list-style: none;
}

ol li {
	list-style: decimal;
}

li ul, li ol {
	margin: 0 0 0  1.714em;
} 

dl dt {
	font-weight: bold;
}

dd {
	margin-left: 1.714em;
}

blockquote {
	font-style: italic;
	padding-left: 1.714em;
}

hr {
	border: none;
	height: 0.071em; /* ie. 1 px */
	color: #858585;
	background: #858585;
	/* margin:  0.821em 0; */
	margin: 0.786em 0; /* 0 0.857em; /* ie. 11 pixels above and 12 below = 24px total */
}

.small {
	font-size: 0.75em;
	line-height: 1.714em;
	padding-top: 0.4em; /* Made UP! */
	margin-bottom: 1.886em; /* 2.286 - 0.4em, where 2.286 = 24px when 1em = 10.5px */ 
	
}

.large {
	font-size: 1.5em;
	line-height: 1.714em;
	padding-top: 0em; /* Made UP! */
	margin: -0.25em 0 1.3em; /* Made UP! */
}

sup {
	vertical-align: top;
	font-size: 0.75em;
}
sub {
	vertical-align: bottom;
	font-size: 0.75em;
}

h1, h2, h3, h4, h5, h6 {
	font-weight: normal;
}


h1 {
	font-size: 2.25em;			/* 31.5px */
	line-height: 1.333em; 		/* ie. 42px, seven 6px increments */
	margin-bottom: 0.381em; 	/* ie 12px */
}

h2 {
	font-size: 2em;				/* 28px */
	line-height: 1.286em; 		/* ie 36px */
	margin-bottom: 0.429em; 	/* 12px */
}

h3 {
	font-size: 1.75em;			/* 24.5px */
	line-height: 1.224em; 		/* ie 30px */
	margin-bottom: 0.49em; 		/* 12px */
}

h4 {
	font-size: 1.5em;			/* 21px */
	line-height: 1.429em; 		/* ie 30px */
	margin-bottom: 0.571em; 	/* 12px */
}

h5 {
	font-size: 1.25em;			/* 17.5px */
	line-height: 1.714em; 		/* ie 30px */
	margin-bottom: 0.686em; 	/* ie 12px */
}

h6 {
	font-size: 1em; 			/* 14px */
	line-height: 1.714em;		/* 24px */
	margin-bottom: 0.857em; 	/* 12px */
	font-weight: ; 
}






/*--------------------------Colours */

.orange {
}




/*--------------------------Div Modifiers */

a.trigger {
	position: fixed;
	left: 0px;
	top: 48px;
	font-family: Helvetica, arial;
	font-size: 1.05em;
	padding: 1.2em;
	background-color: #fff;
	color: #555;
	text-decoration: none;
	text-transform: uppercase;
}

.box {
	background-color: #ffeed3;
	padding: 1.714em;
	margin-bottom: 1.714em;
}

.last {
	margin-bottom: 0;
}

.nomargintop {
	margin-top: 0;
}

.margintop {
	margin-top: 24px;
}
.marginbottom {
	margin-bottom: 24px;
}
.marginbottomsmall {
	margin-bottom: 12px;
}

.margintopsmall {
	margin-top: 12px;
}

.padtop {
	padding-top: 24px;
}

.padtopsmall {
	padding-top: 12px;
}

.padbottom {
	padding-bottom: 24px;
}
.padbottomsmall {
	padding-bottom: 12px;
}

.rounded5 {
	-moz-border-radius: 20px; /* FF1+ */
	-webkit-border-radius: 20px; /* Saf3+, Chrome */
	border-radius: 20px; /* Opera 10.5, IE 9 */	
}

.borderbottom {
	border-bottom: #e65d27 0.071em solid;
}


/* ------------------------------------------------ AMBIT Base Styles */

body {
	background-color: #e9e9e9;
	color: #545454;
	font-family: 'PT Sans', lucida sans, helvetica, arial, serif;	
	background-color: #cccccc;
	background-image: -moz-linear-gradient(top, #cccccc, #666666); 
	background-image: -o-linear-gradient(top, #cccccc, #666666); 
	background-image: -webkit-gradient(linear,left top,left bottom,color-stop(0, #cccccc),color-stop(1, #666666)); 
	background-image: -webkit-linear-gradient(#cccccc, #666666); 
	background-image: linear-gradient(top, #cccccc, #666666);
	filter: progid:DXImageTransform.Microsoft.gradient(startColorStr='#cccccc', EndColorStr='#666666'); 
	height:100%;
	position:relative;
	background-repeat: no-repeat;
}

a {
	/* text-decoration: underline; */
	text-decoration: none;
	color: #545454;
	border-bottom: 1px #545454 dotted;
}

a:hover {
	background-color: #ffd9c5;
}

#contentWrapper {
	/* width: 940px; 
	padding: 0px 20px; */
	margin: auto;
	font-size: 1.4em;
	line-height: 1.514em;
	position: relative;
}

#mainpane {
	width: 940px; 
	padding: 40px 20px 0px;
	margin: auto;
	position: relative;
}

/* Header Styles */

#header {
	height: 40px;
	padding-top: 0px;
	background-color: #221e1e;
	background-image: -moz-linear-gradient(top, #221e1e, #545151); /* FF3.6 */
	background-image: -o-linear-gradient(top, #221e1e, #545151); /* Opera 11.10+ */
	background-image: -webkit-gradient(linear,left top,left bottom,color-stop(0, #221e1e),color-stop(1, #545151)); /* Saf4+, Chrome */
	background-image: -webkit-linear-gradient(#221e1e, #545151); /* Chrome 10+, Saf5.1+ */
	background-image: linear-gradient(top, #221e1e, #545151);
	        filter: progid:DXImageTransform.Microsoft.gradient(startColorStr='#221e1e', EndColorStr='#545151'); /* IE6-IE9 */
	border-bottom: 1px solid #878787;
	color: #f1f1f1;
	position: fixed;
	width: 110%;
	left: -5%;
	padding-left: 5%;
	z-index: 10;	
	-moz-box-shadow: 0px 2px 2px #333;
	-webkit-box-shadow: 0px 2px 2px #333; 
	box-shadow: 0px 2px 2px #333; 
	

}

#SiteIcon {
	float: left;
	margin-top: 9px;
	padding-left: 10px;
}

#logo {
	width: 33px;
	margin: 7px 0 0 10px;
	position: absolute;
	right: 305px;
}

#annafreudlogo {
	width: 161px;
	margin-top: 9px;
	position: absolute;
	right: 140px;
}

h1 {
	color: #f1f1f1;
	float: left;
	/*width: 360px;*/
	padding: 0px 0px 0px 10px;
	line-height: 1em;
	font-size: 1.5em;
	margin-top: 9px;
}

h1 #SiteTitle {
	color: #f1f1f1;	
	font-weight: bold;
	margin-bottom: 0em;
	line-height: 1em;
}

h1 #SiteSubtitle {
	color: #f1f1f1;
	font-size: 0.55em;
	line-height: 0.5em;
	
}





/* Sidebar Styles */

#sidebar {
	width: 250px;
	margin: 40px 0px;
	right: -5px;
	top: 0px;
	font-family: 'PT Sans Caption', lucida sans, helvetica, arial, serif;
	position: absolute; 
	height: 580px;
	z-index: 9;
}

#sidebar .tools {
	position: fixed;
	top: 40px;
	height: 30px;
	width: 250px;
	background-color: #7e7e7e;
	background-image: -moz-linear-gradient(top, #7e7e7e, #9f9f9f); /* FF3.6 */
	background-image: -o-linear-gradient(top, #7e7e7e, #9f9f9f); /* Opera 11.10+ */
	background-image: -webkit-gradient(linear,left top,left bottom,color-stop(0, #7e7e7e),color-stop(1, #9f9f9f)); /* Saf4+, Chrome */
	background-image: -webkit-linear-gradient(#7e7e7e, #9f9f9f); /* Chrome 10+, Saf5.1+ */
	background-image: linear-gradient(top, #7e7e7e, #9f9f9f);
	filter: progid:DXImageTransform.Microsoft.gradient(startColorStr='#7e7e7e', EndColorStr='#9f9f9f'); /* IE6-IE9 */
}

#sidebar .tools h2 {
	background-color: transparent;
    background-image: url(&quot;http://ambit-theme.tiddlyspace.com/down_arrow_grey.png&quot;);
    right: 16px;
    text-transform: none;
    top: 4px;
    font-size: 0.9em;
}

.tools button {
	color: #fff;
    font-size: 0.7em;
	background-color: transparent;
	border: none;
	border-right: 1px silver solid;
    padding: 2px 5px;
    text-transform: uppercase;
    height: 100%;
}
.tools button:hover {
	background-color: #F4F4F4;
	color: #535353;
	cursor: pointer;
}

#sidebar .wrap {
	overflow-y: auto;
	top:70px;
	height: 540px;
	width: 240px;
	position: fixed;
	background-color: #fafafa;
	padding: 10px 0px 0px 10px;
}

#sidebar h2 {
	background-color: #81AAED;
    color: #fff;
    font-family: 'PT Sans',lucida sans,helvetica,arial,serif;
    font-size: 0.7em;
    font-weight: bold;
    letter-spacing: 0.08em;
    padding: 3px 10px 3px 20px;;
    position: absolute;
    right: 0;
    text-transform: uppercase;
    -moz-border-radius: 3px 0px 0px 3px;
	border-radius: 3px 0px 0px 3px;
	background-image: url(http://ambit-theme.tiddlyspace.com/down_arrow.png);
	background-repeat: no-repeat;
	background-position: 7px 8px;
}

#sidebar .module {
	margin-bottom: 20px;
}

.moduleContent {
	padding-top: 30px;
}


#search input {
	background-color: #fff9f6;
	border: 1px solid #d5d5d5;
	-moz-border-radius: 5px; /* FF1+ */
	-webkit-border-radius: 5px; /* Saf3-4 */
	border-radius: 5px; /* Opera 10.5, IE9, Saf5, Chrome */
	
	box-shadow:inset 0px 0px 2px #ccc;
    -moz-box-shadow:inset 0px 0px 2px #ccc;
    -webkit-box-shadow:inset 0px 0px 2px #ccc;
    width: 212px;
    padding: 3px 2px
}

#contents ul {
	margin-left: 0px;
}
#contents ul ul{
	margin-left: 40px;
}

#contents ul li {
	list-style: none;
}

#contents ul li span {
	background-image: url(http://ambit-theme.tiddlyspace.com/contents_sprite.png);
	background-repeat: no-repeat; 
	width: 10px;
	height: 10px;
	text-indent: -999px;
	display: block;
	float: left;
	margin: 5px 8px 0px 6px;
}
#contents ul li span:hover {
	background-position: -10px 0px;
}
#contents ul li span:active {
	background-position: -20px 0px;
}

#contents ul li span.open {
	background-position: 0px -10px;
}

#contents ul li span.open:hover {
	background-position: -10px -10px;
}

#contents ul li span.open:active {
	background-position: -20px -10px;
}

#contents ul a h3 {
	font-size: 0.7em;
	text-transform: uppercase;
	display: inline;

}

#contents ul ul li {
	list-style: none;
	list-style-type: none;
	line-height: 1.2em;
}

#contents ul ul.closed {
	display: none;
}

#contents ul ul a {
	font-size: 0.75em;
}


.scrollBar {
	width: 15px;
	float: left;
	padding: 5px 0px 5px 1px;
}
.scrollBar span {
	background-image: url(http://ambit-theme.tiddlyspace.com/history_sprite.png);
	height: 25px;
	width: 15px;
	text-indent: -999px;
	display: block;
}
.scrollBar span.up:hover {
	background-position: -15px 0px;
}
.scrollBar span.up:active {
	background-position: -30px 0px;
}
.scrollBar span.down {
	background-position: 45px 25px;
}
.scrollBar span.down:hover {
	background-position: 30px 25px;
}
.scrollBar span.down:active {
	background-position: 15px 25px;
}

.historyBox {
	background-color: #fff9f6;
	border: 1px solid #d5d5d5;
	-moz-border-radius: 5px; /* FF1+ */
	-webkit-border-radius: 5px; /* Saf3-4 */
	border-radius: 5px; /* Opera 10.5, IE9, Saf5, Chrome */
	
	box-shadow:inset 0px 0px 2px #ccc;
    -moz-box-shadow:inset 0px 0px 2px #ccc;
    -webkit-box-shadow:inset 0px 0px 2px #ccc;
    width: 212px;
    padding: 3px 2px;
    
    height: 60px;
    overflow: hidden;
    font-size: 0.8em;
    line-height: 1.6em;
}

.historyBox ul li {
	list-style: none;
	list-style-type: none;
}

#youAreReading ul {
	font-size: 0.8em;
	margin-bottom: 0px;
	margin-left: 0px;
}

#youAreReading ul li {
	list-style: none;
}

#youAreReading span.close {
	font-size: 1.4em;
	margin-left: 6px;
	margin-right: 10px;
	color: #c8c8c8;
	font-family: lucida sans, helvetica, arial, serif;
}

#youAreReading span.close:hover {
	color: #d5b5a4;
	cursor: pointer;
}

#youAreReading span.close:active {
	color: #545454;
}

#youAreReading button {
	background-color: white;
	border: solid 1px #565656;
	margin-top: 10px;
	font-size: 0.7em;
	text-transform: uppercase;
	color: #565656;
	letter-spacing: 0.1em;
	-moz-border-radius: 5px; /* FF1+ */
	-webkit-border-radius: 5px; /* Saf3+, Chrome */
	border-radius: 5px; /* Opera 10.5, IE 9 */	
	-moz-box-shadow: 1px 1px 3px #939393;
	-webkit-box-shadow: 1px 1px 3px #939393;
	box-shadow: 1px 1px 3px #939393;
	outline-style: none;
	margin-left: 20px;
}

#youAreReading button:hover {
	cursor: pointer;
	color: white;
	background-color: #565656;
	
}

/* Content Styles */

#tiddlerDisplay {
	width:714px;
	background-color: white;
	-moz-box-shadow: 2px 2px 2px #CCCCCC;
	/* -moz-box-shadow: 0px 2px 4px #333; */
	-webkit-box-shadow: 2px 2px 2px #CCC; 
	box-shadow: 2px 2px 2px #CCC;
	z-index: 8;
	position: relative;
	font-family: 'Crimson Text', Times, serif, Georgia;
	font-size: 1.05em;
	line-height: 1.65em;
	overflow: hidden;
}

.paperSheet { /* - JB - this was previously .tiddler */
	width: 440px;
	margin-left: 180px;
	margin-bottom: 60px;
}

.tiddler h2, .tiddler p {
	/* margin-left: 180px;*/

}

/* Header Panels */ 

.headingPanel {
	border-bottom: #ebebeb 3px solid;
	width: 694px;
	margin: 0px 0px 20px -160px;
	overflow: visible;
	position: relative;
	padding-top: 30px;
}

.headingPanel.local {
	border-bottom-color: #a5c39a;
}

.panelToggle {
	float: left;
	margin-top: -36px;
	font-family: 'PT Sans Caption', lucida sans, helvetica, arial, serif;
	font-size: 0.6em;
	display: block;
	padding: 8px 5px 5px 30px;
	width: 80px;
	height: 23px;
	line-height: 1.3em;
	background-image: url(http://ambit-theme.tiddlyspace.com/paneltoggle.gif);
	background-repeat: no-repeat;
	background-position: 10px 12px;
	background-color: #f4f4f4;
	text-transform: uppercase;
	color: #b2b2b2;
}

.panelToggle.open {
	background-position: 10px -28px;
}

.infoPanel {
	background-color: #f4f4f4;
	margin-top:0px;
	padding: 10px;
	padding-right: 0px;
	border: 3px solid #ebebeb;
border-bottom: 0px;
	font-size: 0.7em;
	font-family: 'PT Sans Caption', lucida sans, helvetica, arial, serif;
	overflow: auto;
width: 695px;
display: none;
}

.local .infoPanel {
	border-color: #a5c39a;
}

.infoPanel ul {
	width: 149px;
	list-style: none;
	list-style-type: none;
	float: left;
	margin: 0px 20px 0px 0px;
}
.infoPanel ul li {
	list-style: none;
	list-style-type: none;
	margin-bottom: 5px;
	line-height: 1.8em;
}

.tiddler .infoPanel h4 {
	margin: 0px;
	float: none;
	text-align: left;
	font-style: normal;
	width: 149px;
	font-weight: bold;
	height: 40px;
	border-bottom:1px solid #a9a9a9;
	margin-bottom: 5px;
	padding-left: 0px;
	letter-spacing: 0.05em;
}

/* Tag Styles */

.tags {
	border-top: #8f8f8f 2px solid;
	border-bottom: #8f8f8f 2px solid;
	width: 714px;
	margin-left: -180px;
	padding-top: 1.4em;
	margin-bottom: 4em;
	overflow: hidden;
}

.tags div {
	margin-bottom: 20px;
	/*clear: both;*/
}

.tags div p {
	width: 110px;
	padding-left: 50px;
	text-align: right;
	font-style: italic;
	font-size: 0.9em;
	float: left;
	clear: both;
	margin-bottom: 20px;
}

/*.tags ul {
	margin-left: 180px;
}*/

.tags .grid2col {
	width: 180px;
}

.tags .left {
	float: left;
}

.tags .grid2col.first {
	margin-left: 180px;
	margin-right: 20px;
}

.tags .tagging ul {
	-moz-column-count: 2;
	-moz-column-gap: 20px;
	-webkit-column-count: 2;
	-webkit-column-gap: 20px;
	column-count: 2;
	column-gap: 20px;
}

.tags a {
	cursor: pointer;
	font-family: 'PT Sans Caption', lucida sans, helvetica, arial, serif;
	font-size: 0.8em;
	letter-spacing: 0.05em;
}

.tags ul li {
	list-style: none;
	list-style-type: none;
	font-size: 0.85em;
	margin-bottom: 5px;
	line-height: 1.4em;
}

.tiddlerTags ul li {
	display: inline;
}

.tiddlerTags ul li a {
	background: #e8e8e8;
	padding: 3px;
	border-bottom: none;
}
.tiddlerTags ul li a:hover {
	background-color: #ffd9c5;
}

/* Typographic Styles */


.tiddler h3 {
	float: left;
	clear: both;
	width: 140px;
	padding-left: 20px;
	margin-left: -180px;
	text-align: right;
	font-style: normal;
	font-weight: 600;
	font-size: 1.2em;
	line-height: 1.2em;
	letter-spacing: 0em;
}

.tiddler h4 {
	font-weight: 600;
	font-size: 1.2em;
	line-height: 1.2em;
	letter-spacing: 0.08em;
}

.tiddler h2 {
    font-size: 2em;
    margin: 0px 0px 0px 160px;
    padding: 20px 0px 3px 0px;
    width: 540px;
    font-weight: 600;
    letter-spacing: 0.04em;
    color: #333030;
    letter-spacing: 0em;
}

.meta {
	font-size: 0.8em;
	font-family: 'PT Sans Caption', lucida sans, helvetica, arial, serif;
	line-height: 0.9em;
	margin-bottom: 1.5em;
}
/* =========================================== Tiddler Typography */

.content h6 {
	font-size: 0.9em;
    letter-spacing: 0.06em;
    line-height: 1.714em;
    margin-bottom: 0.857em;
    text-transform: uppercase;
}

.content h5 {
	font-size: 1.25em;
    line-height: 1.714em;
    margin-bottom: 0.686em;
}

.content h4 {
	font-size: 1.3em;
    font-weight: 600;
    letter-spacing: 0.08em;
    line-height: 1.2em;
}

.content h3 {
    clear: both;
    float: left;
    font-size: 1.25em;
    font-style: normal;
    font-weight: 600;
    letter-spacing: 0;
    line-height: 1em;
    margin-left: -180px;
    padding-left: 20px;
    text-align: right;
    width: 140px;
}

.content h2 {
	color: #333030;
    font-size: 1.7em;
    font-weight: 600;
    letter-spacing: 0;
	float: none;
	width: auto;
	margin-left: 0px
}

.content h1 {
	color: #565656;
    font-size: 2em;
    font-weight: bold;
    line-height: 1em;
    margin-top: 9px;
    padding: 0 0 0 0;
	float: none;
	width: auto;
	margin-left: 0px;
}

/* =========================================== AIM Form */

#aimForm {
	background-color: #f4f4f4;
	position: relative;
	left: -160px;
	width: 694px;
	padding: 0px;
	font-family: 'PT Sans Caption', lucida sans, helvetica, arial, serif;
	font-size: 0.8em;
	line-height: 1.5em;
	overflow: hidden;
	position: relative;
}

#aimForm p, #aimForm ul {
	font-size: 1em;
}

#aimForm ul.AIMmenu a {
	border-bottom: none;
}

#aimForm ul.AIMmenu {
	margin:40px 0px 0px 0px;
	padding: 0px;
	font-weight: bold;
	width: 150px;
	float: left;
}

#aimForm ul.AIMmenu li ul {
	font-weight: normal;
	float: none;
	line-height: 1.3em;
	width: 145px;
	margin: 0px;
	padding: 5px 0px 10px 5px;
	border-left: 2px #e4e4e4 solid;
	border-bottom: 2px #e4e4e4 solid;
}

#aimForm ul.AIMmenu li {
	list-style: none;
	list-style-image: none;
}

#aimForm ul.AIMmenu li a {
	display: block;
	zoom: 1;
	padding: 3px 0px 3px 10px;
}

#aimForm ul.AIMmenu li.active a {
	background-color: #e4e4e4;
}

#aimForm ul.AIMmenu li ul {
	display: none;
}

#aimForm ul.AIMmenu li.active ul {
	display: block;
}

#aimForm ul.AIMmenu li.active ul a {
	background-color: transparent;
}

#aimForm ul.AIMmenu li ul li.active a {
	font-weight: bold;
}

#aimForm ul.AIMmenu li.keyProblem {
	background-color: #FCFFA1;
}

#aimForm ul.AIMmenu li.done a {
	color:#3ABB00;
}

#aimForm .question {
	float: left;
	width: 464px;
	padding: 0px 60px 20px 20px;
	background-color: #e4e4e4;
}

#aimForm h3 {
	float: none;
	width: auto;
	text-align: left;
	padding: 0px;
	font-weight: normal;
	margin: 15px 0 20px;
	font-size: 1.4em;
}

#aimForm h4 {
	margin-left: 0px;
	font-weight: normal;
	margin-bottom: 20px;
	font-size: 1.2em;
	letter-spacing: 0.02em;
}

#aimForm .navigation {
	width: 150px;
	position: absolute;
	left: 10px;
	top: 15px;
	overflow: hidden;
}

#aimForm .question .navigation {
	position: relative;
	float: left;
	margin-bottom: 20px;
}

#aimForm .question .choice {
	overflow: hidden;
}

#aimForm .question input[type=radio], #aimForm .question input[type=checkbox], {
	float: left;
	width: 30px;
	clear:both;
}

#aimForm .question label {
	margin-bottom: 20px;
	float: left;
	width: 400px;
}

#aimForm .question .error {
	margin-bottom: 20px;
	color: red;
}

#aimForm .navigation a {
	background-color: #949494;
	display: block;
	position: relative;
	padding: 3px;
	width: 40px;
	height: 10px;
	font-weight: bold;
	border: none;
	color: white;
	line-height: 11px;		
	cursor: pointer;
	float: left;
	margin-left: 10px;
}

#aimForm a.export {
	background-color: #949494;
	display: block;
	position: relative;
	padding: 3px;
	height: 10px;
	font-weight: bold;
	border: none;
	color: white;
	line-height: 11px;		
	cursor: pointer;
	float: left;
	margin-left: 0px;
	-moz-border-radius: 3px 0px 0px 3px;
	border-radius: 3px 0px 0px 3px;
}

#aimForm a.export span {
	position: absolute;
	top: 0px;
	width: 0px;
	height: 0px;
	display: block;
	line-height:0em;
	border-top: #e4e4e4 solid 8px;
	border-bottom: #e4e4e4 solid 8px;
	border-left: #949494 solid 8px;
	right: -8px;
}

#aimForm .navigation a.next {
	-moz-border-radius: 3px 0px 0px 3px;
	border-radius: 3px 0px 0px 3px;
	width: 36px;
}

#aimForm .navigation a.previous {
	-moz-border-radius: 0px 3px 3px 0px;
	border-radius: 0px 3px 3px 0px;
	text-align: right;
	padding-right: 4px;
	width: 36px;
}

#aimForm .navigation a span {
	position: absolute;
	top: 0px;
	width: 0px;
	height: 0px;
	display: block;
	line-height:0em;
	border-top: #f4f4f4 solid 8px;
	border-bottom: #f4f4f4 solid 8px;
}

#aimForm .navigation a.next span {
	border-left: #949494 solid 8px;
	right: -8px;
}

#aimForm .navigation a.previous span {
	border-right: #949494 solid 8px;
	left: -8px;
}

#aimForm .question .navigation a span {
	border-top: #e4e4e4 solid 8px;
	border-bottom: #e4e4e4 solid 8px;
}

#aimForm .question .navigation {
	top: 0px;
}

#aimForm .navigation a:hover {
	background-color: #333;
}

#aimForm .navigation a:hover span{
	border-left-color: #333;
	border-right-color: #333;
}

#aimForm .question ul {
	padding-left: 0px;
}

#aimForm .question ul li {
	margin-top: 5px;
}
#aimForm .question ul li ul {
	font-style: italic;
	font-size: 0.9em;
}
#aimForm .question ul li ul li {
	list-style-type: circle;
}

#AIMResults ul li ul {
	display: none; /* so it can be revealed */
}

#AIMResultsContainer .choice {
	clear: both;
}

/* =================================== PAPERS ON A DESK - JB ======= */

/* NB requires paperSheet Div added around each tiddler- obviously this needs to change so that the tiddlers are the paperSheets, and contain the standard tiddler styles within that (because of the rendering system)*/

#tiddlerDisplay {
	background: transparent;
	-moz-box-shadow: none; 
	-webkit-box-shadow: none; 
	box-shadow: none; 
	overflow: visible;
}

div.tiddler {
	background-color: white;
	-moz-box-shadow: 0px 2px 4px #333; 
	-webkit-box-shadow: 0px 2px 4px #333; 
	box-shadow: 0px 2px 4px #333; 
	padding: 0px 0px 0px;
	overflow: hidden;
	margin-bottom: 10px;
}

#sidebar {
	right: -15px;
	overflow: hidden;
}

div.tiddler {
	margin-bottom: 10px;
}

#sidebar .wrap, #sidebar .tools {
	-moz-box-shadow: 0px 2px 4px #333; 
	-webkit-box-shadow: 0px 2px 4px #333; 
	box-shadow: 0px 2px 4px #333; 
}

.paperSheet.editMode {
	width: 674px;
	margin-left: 20px;
	margin-bottom: 60px;
}

/* =================================== Search Results Redux ======= */

/* NB change header to z-index 10, #sidebar to 9 to make this work */

#searchResults {
	width: 100%;
	position: absolute;
	z-index: 9;

}

#searchResults h3 {
	border-bottom: #ccc 1px solid;
	padding-bottom: 10px;
}

#searchResults .overlay {
	width: 674px;
	padding: 60px 20px 20px;
	font-size: 0.6em;
	background-color: #E9EFF2;
	-moz-box-shadow: 0px 2px 2px #333;
	-webkit-box-shadow: 0px 2px 2px #333; 
	box-shadow: 0px 2px 2px #333; 
	line-height: 1.7em;
	overflow: hidden;
	
}

#searchResults ul {
	padding-left: 0px;
	-moz-column-count: 3;
	-moz-column-gap: 20px;
	-webkit-column-count: 3;
	-webkit-column-gap: 20px;
	column-count: 3;
	column-gap: 20px;
	border-bottom: #ccc 1px solid;
	padding-bottom: 20px;
	margin-top: 10px;
}

#searchResults .button {
	float: right;
	margin-left: 20px;
}


/* JRL-added - want to merge with JB's */

/* Content embedding control */

iframe {
	margin-left: -160px;
	width: 672px;
	border: silver solid 1px;
	margin-top:20px;
}

.viewer img {
	max-width: 674px;
	height: auto;
	margin: 20px 0px 20px -160px;
}

.viewer a img {
	margin: 20px 0px -6px -160px;
}

/* making the header panel disappear smoothly on closing a tiddler */

.tiddler textarea { width: 100%; }
.toolbar svg {
	height: 16px;
	height: 16px;
	/*margin-top: 0.7em;*/
}
.toolbar svg .glyph {
       fill: #545454;
}

.toolbar a:hover .glyph {
       fill: black;
}
.toolbar {
	/*float: right;*/
	/*clear: both;
	width: 160px;
	margin-left: -180px;
	text-align: right;*/
	font-style: italic;
	line-height: 1.286em;
position: absolute;
right:0px;
}
.headingPanel .toolbar {
bottom: -27px;
}

.toolbar a {
	border: none;
	margin-right: 4px;
}

pre, code, tt {
	overflow: auto;
	border: 1px solid #C2A799;
	padding: 1px;
}

.historyBox {
    position: relative;
}

.historyBox .scrollBar span {
	background-image: url('http://ambit-theme.tiddlyspace.com/history_sprite.png');
}

#contents ul li span {
	background-image: url('http://ambit-theme.tiddlyspace.com/contents_sprite.png');
}

ol.popup li {
	list-style: none;
}

.tiddler .content, .tiddler .tags {
	padding-bottom: 1.4em;
}

.tags div {
	margin-bottom: 0;
	clear: none;
}

.tags .slider {
	position: relative;
	top: -1.4em;
}

.right {
	float: right;
}

/* from DiffFormatter StyleSheet */
.diff { white-space: pre; font-family: monospace; }
.diff ins, .diff del { display: block; text-decoration: none; }
.diff ins { background-color: #dfd; }
.diff del { background-color: #fdd; }
.diff .highlight { background-color: [[ColorPalette::SecondaryPale]]; }

/* from StyleSheetColors */
#backstageArea {background:[[ColorPalette::Foreground]]; color:[[ColorPalette::TertiaryMid]];}
#backstageArea a {background:[[ColorPalette::Foreground]]; color:[[ColorPalette::Background]]; border:none;}
#backstageArea a:hover {background:[[ColorPalette::SecondaryLight]]; color:[[ColorPalette::Foreground]]; }
#backstageArea a.backstageSelTab {background:[[ColorPalette::Background]]; color:[[ColorPalette::Foreground]];}
#backstageButton a {background:none; color:[[ColorPalette::Background]]; border:none;}
#backstageButton a:hover {background:[[ColorPalette::Foreground]]; color:[[ColorPalette::Background]]; border:none;}
#backstagePanel {background:[[ColorPalette::Background]]; border-color: [[ColorPalette::Background]] [[ColorPalette::TertiaryDark]] [[ColorPalette::TertiaryDark]] [[ColorPalette::TertiaryDark]];}
.backstagePanelFooter .button {border:none; color:[[ColorPalette::Background]];}
.backstagePanelFooter .button:hover {color:[[ColorPalette::Foreground]];}
#backstageCloak {background:[[ColorPalette::Foreground]]; opacity:0.6; filter:'alpha(opacity=60)';}

.popup {background:[[ColorPalette::TertiaryPale]]; color:[[ColorPalette::TertiaryDark]]; border-left:1px solid [[ColorPalette::TertiaryMid]]; border-top:1px solid [[ColorPalette::TertiaryMid]]; border-right:2px solid [[ColorPalette::TertiaryDark]]; border-bottom:2px solid [[ColorPalette::TertiaryDark]];}
.popup hr {color:[[ColorPalette::PrimaryDark]]; background:[[ColorPalette::PrimaryDark]]; border-bottom:1px;}
.popup li.disabled {color:[[ColorPalette::TertiaryMid]];}
.popup li a, .popup li a:visited {color:[[ColorPalette::Foreground]]; border: none;}
.popup li a:hover {background:[[ColorPalette::SecondaryLight]]; color:[[ColorPalette::Foreground]]; border: none;}
.popup li a:active {background:[[ColorPalette::SecondaryPale]]; color:[[ColorPalette::Foreground]]; border: none;}
.popupHighlight {background:[[ColorPalette::Background]]; color:[[ColorPalette::Foreground]];}

#messageArea {border:1px solid [[ColorPalette::SecondaryMid]]; background:[[ColorPalette::SecondaryLight]]; color:[[ColorPalette::Foreground]];}
#messageArea .button {color:[[ColorPalette::PrimaryMid]]; background:[[ColorPalette::SecondaryPale]]; border:none;}

.tabSelected{color:[[ColorPalette::PrimaryDark]];
	background:[[ColorPalette::TertiaryPale]];
	border-left:1px solid [[ColorPalette::TertiaryLight]];
	border-top:1px solid [[ColorPalette::TertiaryLight]];
	border-right:1px solid [[ColorPalette::TertiaryLight]];
}
.tabUnselected {color:[[ColorPalette::Background]]; background:[[ColorPalette::TertiaryMid]];}
.tabContents {color:[[ColorPalette::PrimaryDark]]; background:[[ColorPalette::TertiaryPale]]; border:1px solid [[ColorPalette::TertiaryLight]];}
.tabContents .button {border:0;}


.zoomer {background:none; color:[[ColorPalette::TertiaryMid]]; border:3px solid [[ColorPalette::TertiaryMid]];}

.annotation {background:[[ColorPalette::SecondaryLight]]; color:[[ColorPalette::Foreground]]; border:2px solid [[ColorPalette::SecondaryMid]];}

/* from StyleSheetLayout */
.annotation {padding:0.5em; margin:0.5em;}

* html #backstage {width:99%;}
* html #backstageArea {width:99%;}
#backstageArea {display:none; position:relative; overflow: hidden; z-index:150; padding:0.3em 0.5em;}
#backstageToolbar {position:relative;}
#backstageArea a {font-weight:bold; margin-left:0.5em; padding:0.3em 0.5em;}
#backstageButton {display:none; position:absolute; z-index:175; top:0; right:0;}
#backstageButton a {padding:0.1em 0.4em; margin:0.1em;}
#backstage {position:relative; width:100%; z-index:50;}
#backstagePanel {display:none; z-index:100; position:absolute; width:90%; margin-left:3em; padding:1em;}
.backstagePanelFooter {padding-top:0.2em; float:right;}
.backstagePanelFooter a {padding:0.2em 0.4em;}
#backstageCloak {display:none; z-index:20; position:absolute; width:100%; height:100px;}

.whenBackstage {display:none;}
.backstageVisible .whenBackstage {display:block;}

.popup {position:absolute; z-index:300; font-size:.9em; padding:0; list-style:none; margin:0;}
.popup .popupMessage {padding:0.4em;}
.popup hr {display:block; height:1px; width:auto; padding:0; margin:0.2em 0;}
.popup li.disabled {padding:0.4em;}
.popup li a {display:block; padding:0.4em; font-weight:normal; cursor:pointer;}

#messageArea {position:fixed; top:2em; right:0; margin:0.5em; padding:0.5em; z-index:2000; _position:absolute;}
.messageToolbar {display:block; text-align:right; padding:0.2em;}
#messageArea a {text-decoration:underline;}

.tabset {padding:1em 0 0 0.5em;}
.tab {margin:0 0 0 0.25em; padding:2px;}
.tabContents {padding:0.5em;}
/*.tabContents ul, .tabContents ol {margin:0; padding:0;}*/
.txtMainTab .tabContents li {list-style:none;}
.tabContents li.listLink { margin-left:.75em;}

.zoomer {font-size:1.1em; position:absolute; overflow:hidden;}
.zoomer div {padding:1em;}

/* from StyleSheetTiddler */
div.toolbar {
	/* visibility:hidden;
	right:-16px; */
}

.selected div.toolbar {
	visibility: visible;
}

/* all of StyleSheetPrint - check this looks OK */
@media print {
#mainMenu, #sidebar, #messageArea, .toolbar, #backstageButton, #backstageArea {display: none !important;}
#displayArea {margin: 1em 1em 0em;}
noscript {display:none;} /* Fixes a feature in Firefox 1.5.0.2 where print preview displays the noscript content */

}

#backstage, #backstageArea {
    font-size: 1.41em;
}

#backstageArea {
    position:absolute;
    width:100%;
    opacity: 0.8;
}

html, #displayArea {
	min-height:100%;
}

#backstageButton {
	width: 30px;
	height: 30px;
}

/*-------------- Pop ups etc */

ol.popup {
    background-color: #fbfbfb;
    border: 1px solid #CCCCCC;
    color: #565656;
	font-size: 1.1em;
    list-style: none outside none;
    margin: -1px 0 0;
    padding: 10px;
    position: absolute;
    z-index: 300;
	-moz-box-shadow: 1px 1px 3px #939393;
	-webkit-box-shadow: 1px 1px 3px #939393;
	box-shadow: 1px 1px 3px #939393;
}

ol.popup table {
	margin: 0px;	
}

ol.popup table td {
    font-weight: normal;
    padding: 4px 3px;
    text-align: left;
}

.popup li a {
    cursor: pointer;
    display: block;
    font-weight: normal;
    padding: 0.4em;
}
.popup li a:hover {
	background-color: #ffd9c5;
}

.popup li a, .popup li a:visited {
    border: medium none;
    color: #565656;
}


/*-------- Edit mode styles */

.editorHeading {
	padding-top: 20px;
}

.tiddler textarea {
	width: 674px;
}

div.editToolbar {
	float: right;
    margin: 20px;
    width: 150px;
    text-align: right;
}

.editor.title input {
	font-size: 1.5em;
    width: 440px;
}

.editToolbar a {
	border-bottom: none;
}
.editToolbar a:hover {
	background-color: white;
} 
.editToolbar svg {
	width: 20px;
	margin-left: 10px;
}

/*}}}*/</pre>
</div>
<div title="Ambit ViewTemplate" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405170743" tags="ambit excludeTimeline" content-type="text/x-tiddlywiki" changecount="2">
<pre>&lt;!--{{{--&gt;
&lt;div class=&quot;paperSheet&quot;&gt;
	&lt;div class=&quot;headingPanel&quot;&gt;
		&lt;div class='toolbar' macro='toolbar [[ToolbarCommands::ViewToolbar]] icons:yes height:16 width:16 more:popup'&gt;&lt;/div&gt;
		&lt;span class=&quot;right localOrNot&quot; macro=&quot;localOrNot&quot;&gt;&lt;/span&gt;
		&lt;h2 class='title' macro='view title text'&gt;&lt;/h2&gt;
		&lt;a href=&quot;#&quot;&gt;&lt;span class=&quot;left panelToggle&quot;&gt;show related information&lt;/span&gt;&lt;/a&gt;
		&lt;div class=&quot;infoPanel&quot;&gt;
			&lt;ul&gt;
				&lt;li&gt;&lt;h4&gt;Information:&lt;/h4&gt;&lt;/li&gt;
				&lt;li&gt;Edited by &lt;span macro='view modifier link'&gt;&lt;/span&gt;&lt;/li&gt;
				&lt;li&gt;Edited on &lt;span macro='view modified date &quot;DDth MMM YYYY at hh:mm&quot;'&gt;&lt;/span&gt;&lt;/li&gt;
				&lt;li&gt;Explore this topic's &lt;span macro=&quot;ambitRevisions&quot;&gt;&lt;/span&gt;&lt;/li&gt;
				&lt;li&gt;Explore this topic's &lt;span macro=&quot;ambitReferences&quot;&gt;&lt;/span&gt;&lt;/li&gt;
			&lt;/ul&gt;
			&lt;ul&gt;
				&lt;li&gt;&lt;h4&gt;Elsewhere:&lt;/h4&gt;&lt;/li&gt;
				&lt;li&gt;There are &lt;span macro=&quot;ambitElsewhere&quot;&gt; other manuals&lt;/span&gt; with different versions of this topic&lt;/li&gt;
			&lt;/ul&gt;
			&lt;ul&gt;
				&lt;li&gt;&lt;h4&gt;This topic contains these sub-topics:&lt;/h4&gt;&lt;/li&gt;
				&lt;div macro=&quot;ambitTagging&quot;&gt;&lt;/div&gt;
				&lt;span macro=&quot;newHere label:'new sub-topic' title:'new sub-topic'&quot;&gt;&lt;/span&gt;
			&lt;/ul&gt;
			&lt;ul&gt;
				&lt;li&gt;&lt;h4&gt;This topic is a sub-topic of:&lt;/h4&gt;&lt;/li&gt;
				&lt;div macro=&quot;ambitTags&quot;&gt;&lt;/div&gt;
			&lt;/ul&gt;
		&lt;/div&gt;
		&lt;!--&lt;div class=&quot;meta&quot; macro='viewRevisions page:5'&gt;
			last modified by &lt;span class=&quot;modifier&quot; macro=&quot;view modifier&quot;&gt;&lt;/span&gt; on &lt;span macro=&quot;view modified date 'DDth MMM YYYY'&quot;&gt;&lt;/span&gt;
		&lt;/div&gt;--&gt;
	&lt;/div&gt;
	&lt;div class=&quot;content&quot;&gt;
		&lt;div class='viewer' macro='view text wikified'&gt;&lt;/div&gt;
		&lt;br class=&quot;clearboth&quot; /&gt;
	&lt;/div&gt;
&lt;/div&gt;
&lt;!--}}}--&gt;</pre>
</div>
<div title="Asymptotically Flat Spacetime" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405060501" modified="201405060633" tags="[[Topology Paper]]" changecount="7" content-type="text/x-tiddlywiki">
<pre>An //asymptotically flat spacetime// is a [[Lorentzian Manifold]], where the curvature vanishes at large distances from a region.  The spacetime becomes indistinguishable from [[Minkowski Space]] at large distances.

A spacetime $(\mathcal{M},g_{\mu\nu})$ is //asymptotically flat// if the following conditions hold:
#There is a [[Conformal Completion]] $(\tilde{\mathcal{M}},\tilde{g}_{\mu\nu})$ where $\tilde{\mathcal{M}}$ is [[Compact]] with $\tilde{g}_{\mu\nu} = \Omega^2 g_{\mu\nu}$ where $\Omega$ is vanishing on $\mathcal{J}$ but has null gradient which is nonvanishing.
#The boundary, $\mathcal{J} = \tilde{\mathcal{M}} - \mathcal{M}$ is a disjoint union of past and future parts, $\mathcal{J}^+\cup\mathcal{J}^-$, each having topology $\mathcal{S}^2\times\mathbb{R}$ with the $\mathbb{R}$'s complete null generators.&lt;&lt;bibtex PhysRevLett.71.1486&gt;&gt;
</pre>
</div>
<div title="Atlas" modifier="Christopher Wilson" created="201404092116" modified="201404092120" tags="Topology">
<pre>!!Definition
An ''//Atlas//'' for a topological space $X$ is a collection $\{(O_\alpha,\varphi_\alpha)\}$ of [[charts|Chart]] on $X$ such that $\cup_\alpha O_\alpha = X$.  

!!Notes
*If the codomain of each [[chart|Chart]] is $\mathbb{R}^n$ and the ''//atlas//'' is [[connected|Connected]], then $X$ is said to be an n-[[Manifold]], $M^n$.</pre>
</div>
<div title="AttachFileMIMETypes" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404140611" modified="201404140614" tags="excludeTimeline" content-type="" changecount="2">
<pre>text/plain
.txt .text .js .vbs .asp .cgi .pl
----
text/html
.htm .html .hta .htx .mht
----
text/comma-separated-values
.csv
----
text/javascript
.js
----
text/css
.css
----
text/xml
.xml .xsl .xslt
----
image/gif
.gif
----
image/jpeg
.jpg .jpe .jpeg
----
image/png
.png
----
image/bmp
.bmp
----
image/tiff
.tif .tiff
----
audio/basic
.au .snd
----
audio/wav
.wav
----
audio/x-pn-realaudio
.ra .rm .ram
----
audio/x-midi
.mid .midi
----
audio/mp3
.mp3
----
audio/m3u
.m3u
----
video/x-ms-asf
.asf
----
video/avi
.avi
----
video/mpeg
.mpg .mpeg
----
video/quicktime
.qt .mov .qtvr
----
application/pdf
.pdf
----
application/rtf
.rtf
----
application/postscript
.ai .eps .ps
----
application/wordperfect
.wpd
----
application/mswrite
.wri
----
application/msexcel
.xls .xls3 .xls4 .xls5 .xlw
----
application/msword
.doc
----
application/mspowerpoint
.ppt .pps
----
application/x-director
.swa
----
application/x-shockwave-flash
.swf
----
application/x-zip-compressed
.zip
----
application/x-gzip
.gz
----
application/x-rar-compressed
.rar
----
application/octet-stream
.com .exe .dll .ocx
----
application/java-archive
.jar</pre>
</div>
<div title="AttachFilePlugin" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404140610" modified="201404140615" tags="systemConfig excludeTimeline systemConfigDisable" content-type="" changecount="3">
<pre>/***
|Name|AttachFilePlugin|
|Source|http://www.TiddlyTools.com/#AttachFilePlugin|
|Documentation|http://www.TiddlyTools.com/#AttachFilePluginInfo|
|Version|4.0.1|
|Author|Eric Shulman|
|License|http://www.TiddlyTools.com/#LegalStatements|
|~CoreVersion|2.1|
|Type|plugin|
|Requires|AttachFilePluginFormatters, AttachFileMIMETypes|
|Description|Store binary files as base64-encoded tiddlers with fallback links for separate local and/or remote file storage|
Store or link binary files (such as jpg, gif, pdf or even mp3) within your TiddlyWiki document and then use them as images or links from within your tiddler content.
&gt; Important note: As of version 3.6.0, in order to //render// images and other binary attachments created with this plugin, you must also install [[AttachFilePluginFormatters]], which extends the behavior of the TiddlyWiki core formatters for embedded images ({{{[img[tooltip|image]]}}}), linked embedded images ({{{[img[tooltip|image][link]]}}}), and external/&quot;pretty&quot; links ({{{[[label|link]]}}}), so that these formatter will process references to attachment tiddlers as if a normal file reference had been provided. |
!!!!!Documentation
&gt;see [[AttachFilePluginInfo]]
!!!!!Inline interface (live)
&gt;see [[AttachFile]] (shadow tiddler)
&gt;&lt;&lt;tiddler AttachFile&gt;&gt;
!!!!!Revisions
&lt;&lt;&lt;
2011.02.14 4.0.1 fix OSX error: use picker.file.path
2009.06.04 4.0.0 changed attachment storage format to use //sections// instead of embedded substring markers.
|please see [[AttachFilePluginInfo]] for additional revision details|
2005.07.20 1.0.0 Initial Release
&lt;&lt;&lt;
!!!!!Code
***/
// // version
//{{{
version.extensions.AttachFilePlugin= {major: 4, minor: 0, revision: 1, date: new Date(2011,2,14)};

// shadow tiddler
config.shadowTiddlers.AttachFile=&quot;&lt;&lt;attach inline&gt;&gt;&quot;;

// add 'attach' backstage task (insert before built-in 'importTask')
if (config.tasks) { // for TW2.2b or above
	config.tasks.attachTask = {
		text: &quot;attach&quot;,
		tooltip: &quot;Attach a binary file as a tiddler&quot;,
		content: &quot;&lt;&lt;attach inline&gt;&gt;&quot;
	}
	config.backstageTasks.splice(config.backstageTasks.indexOf(&quot;importTask&quot;),0,&quot;attachTask&quot;);
}

config.macros.attach = {
// // lingo
//{{{
	label: &quot;attach file&quot;,
	tooltip: &quot;Attach a file to this document&quot;,
	linkTooltip: &quot;Attachment: &quot;,

	typeList: &quot;AttachFileMIMETypes&quot;,

	titlePrompt: &quot; enter tiddler title...&quot;,
	MIMEPrompt: &quot;&lt;option value=''&gt;select MIME type...&lt;/option&gt;&lt;option value='editlist'&gt;[edit list...]&lt;/option&gt;&quot;,
	localPrompt: &quot; enter local path/filename...&quot;,
	URLPrompt: &quot; enter remote URL...&quot;,

	tiddlerErr: &quot;Please enter a tiddler title&quot;,
	sourceErr: &quot;Please enter a source path/filename&quot;,
	storageErr: &quot;Please select a storage method: embedded, local or remote&quot;,
	MIMEErr: &quot;Unrecognized file format.  Please select a MIME type&quot;,
	localErr: &quot;Please enter a local path/filename&quot;,
	URLErr: &quot;Please enter a remote URL&quot;,
	fileErr: &quot;Invalid path/file or file not found&quot;,

	tiddlerFormat: '!usage\n{{{%0}}}\n%0\n!notes\n%1\n!type\n%2\n!file\n%3\n!url\n%4\n!data\n%5\n',

//}}}
// // macro definition
//{{{
	handler:
	function(place,macroName,params) {
		if (params &amp;&amp; !params[0])
			{ createTiddlyButton(place,this.label,this.tooltip,this.toggleAttachPanel); return; }
		var id=params.shift();
		this.createAttachPanel(place,id+&quot;_attachPanel&quot;,params);
		document.getElementById(id+&quot;_attachPanel&quot;).style.position=&quot;static&quot;;
		document.getElementById(id+&quot;_attachPanel&quot;).style.display=&quot;block&quot;;
	},
//}}}
//{{{
	createAttachPanel:
	function(place,panel_id,params) {
		if (!panel_id || !panel_id.length) var panel_id=&quot;_attachPanel&quot;;
		// remove existing panel (if any)
		var panel=document.getElementById(panel_id); if (panel) panel.parentNode.removeChild(panel);
		// set styles for this panel
		setStylesheet(this.css,&quot;attachPanel&quot;);
		// create new panel
		var title=&quot;&quot;; if (params &amp;&amp; params[0]) title=params.shift();
		var types=this.MIMEPrompt+this.formatListOptions(store.getTiddlerText(this.typeList)); // get MIME types
		panel=createTiddlyElement(place,&quot;span&quot;,panel_id,&quot;attachPanel&quot;,null);
		var html=this.html.replace(/%id%/g,panel_id);
		html=html.replace(/%title%/g,title);
		html=html.replace(/%disabled%/g,title.length?&quot;disabled&quot;:&quot;&quot;);
		html=html.replace(/%IEdisabled%/g,config.browser.isIE?&quot;disabled&quot;:&quot;&quot;);
		html=html.replace(/%types%/g,types);
		panel.innerHTML=html;
		if (config.browser.isGecko) { // FF3 FIXUP
			document.getElementById(&quot;attachSource&quot;).style.display=&quot;none&quot;;
			document.getElementById(&quot;attachFixPanel&quot;).style.display=&quot;block&quot;;
		}
		return panel;
	},
//}}}
//{{{
	toggleAttachPanel:
	function (e) {
		if (!e) var e = window.event;
		var parent=resolveTarget(e).parentNode;
		var panel = document.getElementById(&quot;_attachPanel&quot;);
		if (panel==undefined || panel.parentNode!=parent)
			panel=config.macros.attach.createAttachPanel(parent,&quot;_attachPanel&quot;);
		var isOpen = panel.style.display==&quot;block&quot;;
		if(config.options.chkAnimate)
			anim.startAnimating(new Slider(panel,!isOpen,e.shiftKey || e.altKey,&quot;none&quot;));
		else
			panel.style.display = isOpen ? &quot;none&quot; : &quot;block&quot; ;
		e.cancelBubble = true;
		if (e.stopPropagation) e.stopPropagation();
		return(false);
	},
//}}}
//{{{
	formatListOptions:
	function(text) {
		if (!text || !text.trim().length) return &quot;&quot;;
		// get MIME list content from text
		var parts=text.split(&quot;\n----\n&quot;);
		var out=&quot;&quot;;
		for (var p=0; p&lt;parts.length; p++) {
			var lines=parts[p].split(&quot;\n&quot;);
			var label=lines.shift(); // 1st line=display text
			var value=lines.shift(); // 2nd line=item value
			out +='&lt;option value=&quot;%1&quot;&gt;%0&lt;/option&gt;'.format([label,value]);
		}
		return out;
	},
//}}}
// // interface definition
//{{{
	css:
	&quot;.attachPanel { display: none; position:absolute; z-index:10; width:35em; right:105%; top:0em;\
		background-color: #eee; color:#000; font-size: 8pt; line-height:110%;\
		border:1px solid black; border-bottom-width: 3px; border-right-width: 3px;\
		padding: 0.5em; margin:0em; -moz-border-radius:1em;-webkit-border-radius:1em; text-align:left }\
	.attachPanel form { display:inline;border:0;padding:0;margin:0; }\
	.attachPanel select { width:99%;margin:0px;font-size:8pt;line-height:110%;}\
	.attachPanel input  { width:98%;padding:0px;margin:0px;font-size:8pt;line-height:110%}\
	.attachPanel textarea { width:98%;margin:0px;height:2em;font-size:8pt;line-height:110%}\
	.attachPanel table { width:100%;border:0;margin:0;padding:0;color:inherit; }\
	.attachPanel tbody, .attachPanel tr, .attachPanel td { border:0;margin:0;padding:0;color:#000; }\
	.attachPanel .box { border:1px solid black; padding:.3em; margin:.3em 0px; background:#f8f8f8; \
		-moz-border-radius:5px;-webkit-border-radius:5px; }\
	.attachPanel .chk { width:auto;border:0; }\
	.attachPanel .btn { width:auto; }\
	.attachPanel .btn2 { width:49%; }\
	&quot;,
//}}}
//{{{
	html:
	'&lt;form&gt;\
		attach from source file\
		&lt;input type=&quot;file&quot; id=&quot;attachSource&quot; name=&quot;source&quot; size=&quot;56&quot;\
			onChange=&quot;config.macros.attach.onChangeSource(this)&quot;&gt;\
		&lt;div id=&quot;attachFixPanel&quot; style=&quot;display:none&quot;&gt;&lt;!-- FF3 FIXUP --&gt;\
			&lt;input type=&quot;text&quot; id=&quot;attachFixSource&quot; style=&quot;width:90%&quot;\
				title=&quot;Enter a path/file to attach&quot;\
				onChange=&quot;config.macros.attach.onChangeSource(this);&quot;&gt;\
			&lt;input type=&quot;button&quot; style=&quot;width:7%&quot; value=&quot;...&quot;\
				title=&quot;Enter a path/file to attach&quot;\
				onClick=&quot;config.macros.attach.askForFilename(document.getElementById(\'attachFixSource\'));&quot;&gt;\
		&lt;/div&gt;&lt;!--end FF3 FIXUP--&gt;\
		&lt;div class=&quot;box&quot;&gt;\
		&lt;table style=&quot;border:0&quot;&gt;&lt;tr style=&quot;border:0&quot;&gt;&lt;td style=&quot;border:0;text-align:right;width:1%;white-space:nowrap&quot;&gt;\
			embed data &lt;input type=checkbox class=chk name=&quot;useData&quot; %IEdisabled% \
				onclick=&quot;if (!this.form.MIMEType.value.length)\
					this.form.MIMEType.selectedIndex=this.checked?1:0; &quot;&gt;&amp;nbsp;\
		&lt;/td&gt;&lt;td style=&quot;border:0&quot;&gt;\
			&lt;select size=1 name=&quot;MIMEType&quot; \
				onchange=&quot;this.title=this.value; if (this.value==\'editlist\')\
					{ this.selectedIndex=this.form.useData.checked?1:0; story.displayTiddler(null,config.macros.attach.typeList,2); return; }&quot;&gt;\
				&lt;option value=&quot;&quot;&gt;&lt;/option&gt;\
				%types%\
			&lt;/select&gt;\
		&lt;/td&gt;&lt;/tr&gt;&lt;tr style=&quot;border:0&quot;&gt;&lt;td style=&quot;border:0;text-align:right;width:1%;white-space:nowrap&quot;&gt;\
			local link &lt;input type=checkbox class=chk name=&quot;useLocal&quot;\
				onclick=&quot;this.form.local.value=this.form.local.defaultValue=this.checked?config.macros.attach.localPrompt:\'\';&quot;&gt;&amp;nbsp;\
		&lt;/td&gt;&lt;td style=&quot;border:0&quot;&gt;\
			&lt;input type=text name=&quot;local&quot; size=15 autocomplete=off value=&quot;&quot;\
				onchange=&quot;this.form.useLocal.checked=this.value.length&quot; \
				onkeyup=&quot;this.form.useLocal.checked=this.value.length&quot; \
				onfocus=&quot;if (!this.value.length) this.value=config.macros.attach.localPrompt; this.select()&quot;&gt;\
		&lt;/td&gt;&lt;/tr&gt;&lt;tr style=&quot;border:0&quot;&gt;&lt;td style=&quot;border:0;text-align:right;width:1%;white-space:nowrap&quot;&gt;\
			remote link &lt;input type=checkbox class=chk name=&quot;useURL&quot;\
				onclick=&quot;this.form.URL.value=this.form.URL.defaultValue=this.checked?config.macros.attach.URLPrompt:\'\';\&quot;&gt;&amp;nbsp;\
		&lt;/td&gt;&lt;td style=&quot;border:0&quot;&gt;\
			&lt;input type=text name=&quot;URL&quot; size=15 autocomplete=off value=&quot;&quot;\
				onfocus=&quot;if (!this.value.length) this.value=config.macros.attach.URLPrompt; this.select()&quot;\
				onchange=&quot;this.form.useURL.checked=this.value.length;&quot;\
				onkeyup=&quot;this.form.useURL.checked=this.value.length;&quot;&gt;\
		&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;\
		&lt;/div&gt;\
		&lt;table style=&quot;border:0&quot;&gt;&lt;tr style=&quot;border:0&quot;&gt;&lt;td style=&quot;border:0;text-align:right;vertical-align:top;width:1%;white-space:nowrap&quot;&gt;\
			notes&amp;nbsp;\
		&lt;/td&gt;&lt;td style=&quot;border:0&quot; colspan=2&gt;\
			&lt;textarea name=&quot;notes&quot; style=&quot;width:98%;height:3.5em;margin-bottom:2px&quot;&gt;&lt;/textarea&gt;\
		&lt;/td&gt;&lt;tr style=&quot;border:0&quot;&gt;&lt;td style=&quot;border:0;text-align:right;width:1%;white-space:nowrap&quot;&gt;\
			attach as&amp;nbsp;\
		&lt;/td&gt;&lt;td style=&quot;border:0&quot; colspan=2&gt;\
			&lt;input type=text name=&quot;tiddlertitle&quot; size=15 autocomplete=off value=&quot;%title%&quot;\
				onkeyup=&quot;if (!this.value.length) { this.value=config.macros.attach.titlePrompt; this.select(); }&quot;\
				onfocus=&quot;if (!this.value.length) this.value=config.macros.attach.titlePrompt; this.select()&quot; %disabled%&gt;\
		&lt;/td&gt;&lt;/tr&gt;&lt;/tr&gt;&lt;tr style=&quot;border:0&quot;&gt;&lt;td style=&quot;border:0;text-align:right;width:1%;white-space:nowrap&quot;&gt;\
			add tags&amp;nbsp;\
		&lt;/td&gt;&lt;td style=&quot;border:0&quot;&gt;\
			&lt;input type=text name=&quot;tags&quot; size=15 autocomplete=off value=&quot;&quot; onfocus=&quot;this.select()&quot;&gt;\
		&lt;/td&gt;&lt;td style=&quot;width:40%;text-align:right;border:0&quot;&gt;\
			&lt;input type=button class=btn2 value=&quot;attach&quot;\
				onclick=&quot;config.macros.attach.onClickAttach(this)&quot;&gt;&lt;!--\
			--&gt;&lt;input type=button class=btn2 value=&quot;close&quot;\
				onclick=&quot;var panel=document.getElementById(\'%id%\'); if (panel) panel.parentNode.removeChild(panel);&quot;&gt;\
		&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;\
	&lt;/form&gt;',
//}}}
// // control processing
//{{{
	onChangeSource:
	function(here) {
		var form=here.form;
		var list=form.MIMEType;
		var theFilename  = here.value;
		var theExtension = theFilename.substr(theFilename.lastIndexOf('.')).toLowerCase();
		// if theFilename is in current document folder, remove path prefix and use relative reference
		var h=document.location.href; folder=getLocalPath(decodeURIComponent(h.substr(0,h.lastIndexOf(&quot;/&quot;)+1)));
		if (theFilename.substr(0,folder.length)==folder) theFilename='./'+theFilename.substr(folder.length);
		else theFilename='file:///'+theFilename; // otherwise, use absolute reference
		theFilename=theFilename.replace(/\\/g,&quot;/&quot;); // fixup: change \ to /
		form.useLocal.checked = true;
		form.local.value = theFilename;
		form.useData.checked = !form.useData.disabled;
		list.selectedIndex=1;
		for (var i=0; i&lt;list.options.length; i++) // find matching MIME type
			if (list.options[i].value.indexOf(theExtension)!=-1) { list.selectedIndex = i; break; }
		if (!form.tiddlertitle.disabled)
			form.tiddlertitle.value=theFilename.substr(theFilename.lastIndexOf('/')+1); // get tiddlername from filename
	},
//}}}
//{{{
	onClickAttach:
	function (here) {
		clearMessage();
		// get input values
		var form=here.form;
		var src=form.source; if (config.browser.isGecko) src=document.getElementById(&quot;attachFixSource&quot;);
		src=src.value!=src.defaultValue?src.value:&quot;&quot;;
		var when=(new Date()).formatString(config.macros.timeline.dateFormat);
		var title=form.tiddlertitle.value;
		var local = form.local.value!=form.local.defaultValue?form.local.value:&quot;&quot;;
		var url = form.URL.value!=form.URL.defaultValue?form.URL.value:&quot;&quot;;
		var notes = form.notes.value;
		var tags = &quot;attachment excludeMissing &quot;+form.tags.value;
		var useData=form.useData.checked;
		var useLocal=form.useLocal.checked;
		var useURL=form.useURL.checked;
		var mimetype = form.MIMEType.value.length?form.MIMEType.options[form.MIMEType.selectedIndex].text:&quot;&quot;;
		// validate checkboxes and get filename
		if (useData) {
			if (src.length) { if (!theLocation) var theLocation=src; }
			else { alert(this.sourceErr); src.focus(); return false; }
		}
		if (useLocal) {
			if (local.length) { if (!theLocation) var theLocation = local; }
			else { alert(this.localErr); form.local.focus(); return false; }
		}
		if (useURL) {
			if (url.length) { if (!theLocation) var theLocation = url; }
			else { alert(this.URLErr); form.URL.focus(); return false; }
		}
		if (!(useData||useLocal||useURL))
			{ form.useData.focus(); alert(this.storageErr); return false; }
		if (!theLocation)
			{ src.focus(); alert(this.sourceErr); return false; }
		if (!title || !title.trim().length || title==this.titlePrompt)
			{ form.tiddlertitle.focus(); alert(this.tiddlerErr); return false; }
		// if not already selected, determine MIME type based on filename extension (if any)
		if (useData &amp;&amp; !mimetype.length &amp;&amp; theLocation.lastIndexOf('.')!=-1) {
			var theExt = theLocation.substr(theLocation.lastIndexOf('.')).toLowerCase();
			var theList=form.MIMEType;
			for (var i=0; i&lt;theList.options.length; i++)
				if (theList.options[i].value.indexOf(theExt)!=-1)
					{ var mimetype=theList.options[i].text; theList.selectedIndex=i; break; }
		}
		// attach the file
		return this.createAttachmentTiddler(src, when, notes, tags, title,
			useData, useLocal, useURL, local, url, mimetype);
	},
	getMIMEType:
	function(src,def) {
		var ext = src.substr(src.lastIndexOf('.')).toLowerCase();
		var list=store.getTiddlerText(this.typeList);
		if (!list || !list.trim().length) return def;
		// get MIME list content from tiddler
		var parts=list.split(&quot;\n----\n&quot;);
		for (var p=0; p&lt;parts.length; p++) {
			var lines=parts[p].split(&quot;\n&quot;);
			var mime=lines.shift(); // 1st line=MIME type
			var match=lines.shift(); // 2nd line=matching extensions
			if (match.indexOf(ext)!=-1) return mime;
		}
		return def;
	},
	createAttachmentTiddler:
	function (src, when, notes, tags, title, useData, useLocal, useURL, local, url, mimetype, noshow) {
		if (useData) { // encode the data
			if (!mimetype.length) {
				alert(this.MIMEErr);
				form.MIMEType.selectedIndex=1; form.MIMEType.focus();
				return false;
			}
			var d = this.readFile(src); if (!d) { return false; }
			displayMessage('encoding '+src);
			var encoded = this.encodeBase64(d);
			displayMessage('file size='+d.length+' bytes, encoded size='+encoded.length+' bytes');
		}
		var usage=(mimetype.substr(0,5)==&quot;image&quot;?'[img[%0]]':'[[%0|%0]]').format([title]);
		var theText=this.tiddlerFormat.format([
			usage, notes.length?notes:'//none//', mimetype,
			useLocal?local.replace(/\\/g,'/'):'', useURL?url:'',
			useData?('data:'+mimetype+';base64,'+encoded):'' ]);
		store.saveTiddler(title,title,theText,config.options.txtUserName,new Date(),tags);
		var panel=document.getElementById(&quot;attachPanel&quot;); if (panel) panel.style.display=&quot;none&quot;;
		if (!noshow) { story.displayTiddler(null,title); story.refreshTiddler(title,null,true); }
		displayMessage('attached &quot;'+title+'&quot;');
		return true;
	},
//}}}
// // base64 conversion
//{{{
	encodeBase64:
	function (d) {
		if (!d) return null;
		// encode as base64
		var keyStr = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=&quot;;
		var out=&quot;&quot;;
		var chr1,chr2,chr3=&quot;&quot;;
		var enc1,enc2,enc3,enc4=&quot;&quot;;
		for (var count=0,i=0; i&lt;d.length; ) {
			chr1=d.charCodeAt(i++);
			chr2=d.charCodeAt(i++);
			chr3=d.charCodeAt(i++);
			enc1=chr1 &gt;&gt; 2;
			enc2=((chr1 &amp; 3) &lt;&lt; 4) | (chr2 &gt;&gt; 4);
			enc3=((chr2 &amp; 15) &lt;&lt; 2) | (chr3 &gt;&gt; 6);
			enc4=chr3 &amp; 63;
			if (isNaN(chr2)) enc3=enc4=64;
			else if (isNaN(chr3)) enc4=64;
			out+=keyStr.charAt(enc1)+keyStr.charAt(enc2)+keyStr.charAt(enc3)+keyStr.charAt(enc4);
			chr1=chr2=chr3=enc1=enc2=enc3=enc4=&quot;&quot;;
		}
		return out;
	},
	decodeBase64: function(input) {
		var out=&quot;&quot;;
		var chr1,chr2,chr3;
		var enc1,enc2,enc3,enc4;
		var i = 0;
		// remove all characters that are not A-Z, a-z, 0-9, +, /, or =
		input=input.replace(/[^A-Za-z0-9\+\/\=]/g, &quot;&quot;);
		do {
			enc1=keyStr.indexOf(input.charAt(i++));
			enc2=keyStr.indexOf(input.charAt(i++));
			enc3=keyStr.indexOf(input.charAt(i++));
			enc4=keyStr.indexOf(input.charAt(i++));
			chr1=(enc1 &lt;&lt; 2) | (enc2 &gt;&gt; 4);
			chr2=((enc2 &amp; 15) &lt;&lt; 4) | (enc3 &gt;&gt; 2);
			chr3=((enc3 &amp; 3) &lt;&lt; 6) | enc4;
			out=out+String.fromCharCode(chr1);
			if (enc3!=64) out=out+String.fromCharCode(chr2);
			if (enc4!=64) out=out+String.fromCharCode(chr3);
		} while (i&lt;input.length);
		return out;
	},
//}}}
// // I/O functions
//{{{
	readFile: // read local BINARY file data
	function(filePath) {
		if(!window.Components) { return null; }
		try { netscape.security.PrivilegeManager.enablePrivilege(&quot;UniversalXPConnect&quot;); }
		catch(e) { alert(&quot;access denied: &quot;+filePath); return null; }
		var file = Components.classes[&quot;@mozilla.org/file/local;1&quot;].createInstance(Components.interfaces.nsILocalFile);
		try { file.initWithPath(filePath); } catch(e) { alert(&quot;cannot read file - invalid path: &quot;+filePath); return null; }
		if (!file.exists()) { alert(&quot;cannot read file - not found: &quot;+filePath); return null; }
		var inputStream = Components.classes[&quot;@mozilla.org/network/file-input-stream;1&quot;].createInstance(Components.interfaces.nsIFileInputStream);
		inputStream.init(file, 0x01, 00004, null);
		var bInputStream = Components.classes[&quot;@mozilla.org/binaryinputstream;1&quot;].createInstance(Components.interfaces.nsIBinaryInputStream);
		bInputStream.setInputStream(inputStream);
		return(bInputStream.readBytes(inputStream.available()));
	},
//}}}
//{{{
	writeFile:
	function(filepath,data) {
		// TBD: decode base64 and write BINARY data to specified local path/filename
		return(false);
	},
//}}}
//{{{
	askForFilename: // for FF3 fixup
	function(target) {
		var msg=config.messages.selectFile;
		if (target &amp;&amp; target.title) msg=target.title; // use target field tooltip (if any) as dialog prompt text
		// get local path for current document
		var path=getLocalPath(document.location.href);
		var p=path.lastIndexOf(&quot;/&quot;); if (p==-1) p=path.lastIndexOf(&quot;\\&quot;); // Unix or Windows
		if (p!=-1) path=path.substr(0,p+1); // remove filename, leave trailing slash
		var file=&quot;&quot;
		var result=window.mozAskForFilename(msg,path,file,true); // FF3 FIXUP ONLY
		if (target &amp;&amp; result.length) // set target field and trigger handling
			{ target.value=result; target.onchange(); }
		return result; 
	}
};
//}}}
//{{{
if (window.mozAskForFilename===undefined) { // also defined by CoreTweaks (for ticket #604)
	window.mozAskForFilename=function(msg,path,file,mustExist) {
		if(!window.Components) return false;
		try {
			netscape.security.PrivilegeManager.enablePrivilege('UniversalXPConnect');
			var nsIFilePicker = window.Components.interfaces.nsIFilePicker;
			var picker = Components.classes['@mozilla.org/filepicker;1'].createInstance(nsIFilePicker);
			picker.init(window, msg, mustExist?nsIFilePicker.modeOpen:nsIFilePicker.modeSave);
			var thispath = Components.classes['@mozilla.org/file/local;1'].createInstance(Components.interfaces.nsILocalFile);
			thispath.initWithPath(path);
			picker.displayDirectory=thispath;
			picker.defaultExtension='';
			picker.defaultString=file;
			picker.appendFilters(nsIFilePicker.filterAll|nsIFilePicker.filterText|nsIFilePicker.filterHTML);
			if (picker.show()!=nsIFilePicker.returnCancel)
				var result=picker.file.path;
		}
		catch(ex) { displayMessage(ex.toString()); }
		return result;
	}
}
//}}}</pre>
</div>
<div title="AttachFilePluginFormatters" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404140611" modified="201404140615" tags="systemConfig excludeTimeline" content-type="" changecount="4">
<pre>/***
|Name|AttachFilePluginFormatters|
|Source|http://www.TiddlyTools.com/#AttachFilePluginFormatters|
|Version|4.0.1|
|Author|Eric Shulman|
|License|http://www.TiddlyTools.com/#LegalStatements|
|~CoreVersion|2.1.3|
|Type|plugin|
|Description|run-time library for displaying attachment tiddlers|
Runtime processing for //rendering// attachment tiddlers created by [[AttachFilePlugin]].   Attachment tiddlers are tagged with&lt;&lt;tag attachment&gt;&gt;and contain binary file content (e.g., jpg, gif, pdf, mp3, etc.) that has been stored directly as base64 text-encoded data or can be loaded from external files stored on a local filesystem or remote web server.  Note: after creating new attachment tiddlers, you can remove [[AttachFilePlugin]], as long as you retain //this// tiddler (so that images can be rendered later on).
!!!!!Formatters
&lt;&lt;&lt;
This plugin extends the behavior of the following TiddlyWiki core &quot;wikify()&quot; formatters:
* embedded images: {{{[img[tooltip|image]]}}}
* linked embedded images: {{{[img[tooltip|image][link]]}}}
* external/&quot;pretty&quot; links: {{{[[label|link]]}}}
''Please refer to AttachFilePlugin (source: http://www.TiddlyTools.com/#AttachFilePlugin) for additional information.''
&lt;&lt;&lt;
!!!!!Revisions
&lt;&lt;&lt;
2009.10.10 [4.0.1] in fileExists(), check for IE to avoid hanging Chrome during startup
2009.06.04 [4.0.0] changed attachment storage format to use //sections// instead of embedded substring markers.
2008.01.08 [*.*.*] plugin size reduction: documentation moved to ...Info
2007.12.04 [*.*.*] update for TW2.3.0: replaced deprecated core functions, regexps, and macros
2007.10.29 [3.7.0] more code reduction: removed upload handling from AttachFilePlugin (saves ~7K!)
2007.10.28 [3.6.0] removed duplicate formatter code from AttachFilePlugin (saves ~10K!) and updated documentation accordingly.  This plugin ([[AttachFilePluginFormatters]]) is now //''required''// in order to display attached images/binary files within tiddler content.
2006.05.20 [3.4.0] through 2007.03.01 [3.5.3] sync with AttachFilePlugin
2006.05.13 [3.2.0] created from AttachFilePlugin v3.2.0
&lt;&lt;&lt;
!!!!!Code
***/
// // version
//{{{
version.extensions.AttachFilePluginFormatters= {major: 4, minor: 0, revision: 1, date: new Date(2009,10,10)};
//}}}

//{{{
if (config.macros.attach==undefined) config.macros.attach= { };
//}}}
//{{{
if (config.macros.attach.isAttachment==undefined) config.macros.attach.isAttachment=function (title) {
	var tiddler = store.getTiddler(title);
	if (tiddler==undefined || tiddler.tags==undefined) return false;
	return (tiddler.tags.indexOf(&quot;attachment&quot;)!=-1);
}
//}}}

//{{{
// test for local file existence - returns true/false without visible error display
if (config.macros.attach.fileExists==undefined) config.macros.attach.fileExists=function(f) {
	if(window.Components) { // MOZ
		try { netscape.security.PrivilegeManager.enablePrivilege(&quot;UniversalXPConnect&quot;); }
		catch(e) { return false; } // security access denied
		var file = Components.classes[&quot;@mozilla.org/file/local;1&quot;].createInstance(Components.interfaces.nsILocalFile);
		try { file.initWithPath(f); }
		catch(e) { return false; } // invalid directory
		return file.exists();
	}
	else if (config.browser.isIE) { // IE
		var fso = new ActiveXObject(&quot;Scripting.FileSystemObject&quot;);
		return fso.FileExists(f);
	}
	else return true; // other browsers: assume file exists
}
//}}}

//{{{
if (config.macros.attach.getAttachment==undefined) config.macros.attach.getAttachment=function(title) {

	// extract embedded data, local and remote links (if any)
	var text=store.getTiddlerText(title,'');
	var embedded=store.getTiddlerText(title+'##data','').trim();
	var locallink=store.getTiddlerText(title+'##file','').trim();
	var remotelink=store.getTiddlerText(title+'##url','').trim();

	// backward-compatibility for older attachments (pre 4.0.0)
	var startmarker=&quot;---BEGIN_DATA---\n&quot;;
	var endmarker=&quot;\n---END_DATA---&quot;;
	var pos=0; var endpos=0;
	if ((pos=text.indexOf(startmarker))!=-1 &amp;&amp; (endpos=text.indexOf(endmarker))!=-1)
		embedded=&quot;data:&quot;+(text.substring(pos+startmarker.length,endpos)).replace(/\n/g,'');
	if ((pos=text.indexOf(&quot;/%LOCAL_LINK%/&quot;))!=-1)
		locallink=text.substring(text.indexOf(&quot;|&quot;,pos)+1,text.indexOf(&quot;]]&quot;,pos));
	if ((pos=text.indexOf(&quot;/%REMOTE_LINK%/&quot;))!=-1)
		remotelink=text.substring(text.indexOf(&quot;|&quot;,pos)+1,text.indexOf(&quot;]]&quot;,pos));

	// if there is a data: URI defined (not supported by IE)
	if (embedded.length &amp;&amp; !config.browser.isIE) return embedded;

	// document is being served remotely... use remote URL (if any)  (avoids security alert)
	if (remotelink.length &amp;&amp; document.location.protocol!=&quot;file:&quot;)
		return remotelink;  

	// local link only... return link without checking file existence (avoids security alert)
	if (locallink.length &amp;&amp; !remotelink.length) 
		return locallink; 

	// local link, check for file exist... use local link if found
	if (locallink.length) { 
		locallink=locallink.replace(/^\.[\/\\]/,''); // strip leading './' or '.\' (if any)
		if (this.fileExists(getLocalPath(locallink))) return locallink;
		// maybe local link is relative... add path from current document and try again
		var pathPrefix=document.location.href;  // get current document path and trim off filename
		var slashpos=pathPrefix.lastIndexOf(&quot;/&quot;); if (slashpos==-1) slashpos=pathPrefix.lastIndexOf(&quot;\\&quot;); 
		if (slashpos!=-1 &amp;&amp; slashpos!=pathPrefix.length-1) pathPrefix=pathPrefix.substr(0,slashpos+1);
		if (this.fileExists(getLocalPath(pathPrefix+locallink))) return locallink;
	}

	// no embedded data, no local (or not found), fallback to remote URL (if any)
	if (remotelink.length) return remotelink;

	// attachment URL doesn't resolve, just return input as is
	return title;
}
//}}}
//{{{
if (config.macros.attach.init_formatters==undefined) config.macros.attach.init_formatters=function() {
	if (this.initialized) return;

	// find the formatter for &quot;image&quot; and replace the handler
	for (var i=0; i&lt;config.formatters.length &amp;&amp; config.formatters[i].name!=&quot;image&quot;; i++);
	if (i&lt;config.formatters.length)	config.formatters[i].handler=function(w) {
		this.lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source)
		if(lookaheadMatch &amp;&amp; lookaheadMatch.index == w.matchStart) // Simple bracketted link
			{
			var e = w.output;
			if(lookaheadMatch[5])
				{
				var link = lookaheadMatch[5];
				// ELS -------------
				var external=config.formatterHelpers.isExternalLink(link);
				if (external)
					{
					if (config.macros.attach.isAttachment(link))
						{
						e = createExternalLink(w.output,link);
						e.href=config.macros.attach.getAttachment(link);
						e.title = config.macros.attach.linkTooltip + link;
						}
					else
						e = createExternalLink(w.output,link);
					}
				else 
					e = createTiddlyLink(w.output,link,false,null,w.isStatic);
				// ELS -------------
				addClass(e,&quot;imageLink&quot;);
				}
			var img = createTiddlyElement(e,&quot;img&quot;);
			if(lookaheadMatch[1])
				img.align = &quot;left&quot;;
			else if(lookaheadMatch[2])
				img.align = &quot;right&quot;;
			if(lookaheadMatch[3])
				img.title = lookaheadMatch[3];
			img.src = lookaheadMatch[4];
			// ELS -------------
			if (config.macros.attach.isAttachment(lookaheadMatch[4]))
				img.src=config.macros.attach.getAttachment(lookaheadMatch[4]);
			// ELS -------------
			w.nextMatch = this.lookaheadRegExp.lastIndex;
		}
	}
//}}}
//{{{
	// find the formatter for &quot;prettyLink&quot; and replace the handler
	for (var i=0; i&lt;config.formatters.length &amp;&amp; config.formatters[i].name!=&quot;prettyLink&quot;; i++);
	if (i&lt;config.formatters.length)	{
		config.formatters[i].handler=function(w) {
			this.lookaheadRegExp.lastIndex = w.matchStart;
			var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
			if(lookaheadMatch &amp;&amp; lookaheadMatch.index == w.matchStart) {
				var e;
				var text = lookaheadMatch[1];
				if(lookaheadMatch[3]) {
					// Pretty bracketted link
					var link = lookaheadMatch[3];
					if (config.macros.attach.isAttachment(link)) {
						e = createExternalLink(w.output,link);
						e.href=config.macros.attach.getAttachment(link);
						e.title=config.macros.attach.linkTooltip+link;
					}
					else e = (!lookaheadMatch[2] &amp;&amp; config.formatterHelpers.isExternalLink(link))
						? createExternalLink(w.output,link)
						: createTiddlyLink(w.output,link,false,null,w.isStatic);
				} else {
					e = createTiddlyLink(w.output,text,false,null,w.isStatic);
				}
				createTiddlyText(e,text);
				w.nextMatch = this.lookaheadRegExp.lastIndex;
			}
		}
	} // if &quot;prettyLink&quot; formatter found
	this.initialized=true;
}
//}}}
//{{{
config.macros.attach.init_formatters(); // load time init
//}}}
//{{{
if (TiddlyWiki.prototype.coreGetRecursiveTiddlerText==undefined) {
	TiddlyWiki.prototype.coreGetRecursiveTiddlerText = TiddlyWiki.prototype.getRecursiveTiddlerText;
	TiddlyWiki.prototype.getRecursiveTiddlerText = function(title,defaultText,depth) {
		return config.macros.attach.isAttachment(title)?
			config.macros.attach.getAttachment(title):this.coreGetRecursiveTiddlerText.apply(this,arguments);
	}
}
//}}}</pre>
</div>
<div title="AttachFileSample" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404140850" modified="201404140954" tags="attachment example excludeTimeline" changecount="21" content-type="text/x-tiddlywiki">
<pre>!usage
{{{[img[AttachFileSample]]}}}
[img[AttachFileSample]]
!notes
example of encoded data attachment.  Requires  [[AttachFilePluginFormatters]], and must be tagged as [[attachment]].
!type
image/gif
!file
./images/meow.gif
!url
http://www.TiddlyTools.com/images/meow.gif
!data

data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAVAAAAD9CAIAAABlf7gKAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAgAElEQVR4nO2dfXxT9fX4z02fKC20ty0FirQ0ZSBSAZsKCmgRbicwO5yYig+DTfimDhHnAyYKU+En2ojTyZizGcwJTLEZTlZEXENHwSJoUqFUQCQ3fQAqAXKT0vQpbfL748A1JmmalOahyef94sXr9j6e3HvP/ZzP+ZzPOZTNZgMCgRAeCAItAIFA8B9E4QmEMIIoPIEQRhCFJxDCCKLwBEIYQRSeQAgjQlnhWZZVqVQqlQr/5DiO4zhcVqlU/HIf4DjuOs/QL7Asq9FoPNkzGKQdWHh4YwccoanwMpksKyurqKgIFb6wsFAul+fn52s0Go1Gk5ubi8t9O7lCofDwDCqVCiWhKKqoqMh5B7lcTlFUVlaWTCbjP0weIpPJcnNzZTKZ+928+r0KhSI/Pz8pKYmiKDwqPz8/NzeXoqj8/HyvxPMbCoWiqKiIoiiKomQyGcuyuF6j0eTn56Pk/EoPKSwszM3NVSqVPpA30NhCDolEAgAlJSX2K6VSKQCUl5fbbLby8nJ+uW/Yn61XGIZhGIamaYPBYL/eYDDgeRiG6ZsYeOZed/P29zIM47B/eXm5UCjsm5D+QSgUAkBpaan9yvLycolE0oezicXi63xDgpZQa+FlMplCoZBIJKj2PMXFxfhOBASpVMpxnFwut18pl8sdhAxCWJblOI5hmADePU/AO6lQKOxXKpVK/KR6C3448MMXYkQGWoB+Bs0wl49KKpXSNO3yKIVCwbIsy7IikUgikdjvhps0Gg1ucn7veTeBy60IKoxCoSguLrZf73J/N8LYX66nY9F0x2NdCuMVCoUC7QjUHJZlUakkEgn2j8DphzvLwMsslUrlcjlN0/i7OI5TKBToXBCJRBqNhuO44uJipVLJG+F4x7DngpK4lFMikcjlcpVKhU8KRWVZlhdMo9EolUrcKhQK3QiGUtn/LpfHengrXL48/f6YvCDQJkY/gz/KvTHmYOJKJBKGYdDeLikpoWlarVbzm4RCoVartdlsNE3z9rO9SS+VShmGKS8vd7DYefCokpISsOtolJSU4OHwU5PejTAO8pSXl9uLZLPZxGKxSCTCY8VisVgsdvl7ewWVSiKR4CfS/kC+GyIWi3E96oB7GbRaLb7WUqm0tLQUAIqLi/FY3EGtVuPNYRhGq9Wq1Wq8ilQq5W+4VCrFH94TeAhvw0ulUnvJaZoWiUR4LZqm8cwuBTMYDPiV4Q93eWyvt6Knl6enx+Qfwl3h7d8//gz2byH/zhUXF/NdRF7h8UV0LxL/pIVCIf9C8O+lvcK7EcZZHttP+/AOx+Jv5D8NfVD44uLi8vJykUjkcCCejb8Q7tyrDHjHSktLUZ0MBoPDz7H/pTabzWAw2CuJJ64KrVaLT1+r1RoMBlRRnpKSEv7xoUsFl50Fc75jPR3r5lb09PK4uUX+IdRMeqFQiN1O501KpRK/wfYrecvKYU/+fx7n3qBMJtNoNJ73EsVisVwuVyqV+Co77+BGGGd5XB7Lsizvt2cY5nqG4kQikb0JjWYt3yVxENJDGWiaxhYSz8A/C9zH/p7QNC0Wi+17N70KjMa2QqFQKBRonNtvZRhGoVCoVCqRSOT8htgL5oz7Y13K1tPL0++PyVtCTeGlUimOxqGj1R58YA4rsYfscMfxRezVTVVSUqJUKuVyOZqmnsiGr6NQKEQL33NhepUHj/WkT8hxnEaj8dAjxWu4SqXq9YZ4LgOCN00mk3EcV1JS4nAU3i65XI5bPTwhf4exjeWFz8/Pl0gkeB57H0Gv9O3Ynu6Vt7eo3wk1Lz365/Gp26/Hr77zYxCLxTRN82PU+CzxRXTYBACFhYX2x4pEouLiYoZhioqKPBnlxmbH5XenV2H4rfzngOM4+zcP3WD2g/logDhfpaioKD8/32HIwD0ajUYul/eq8J7LgKDNxTAMdmsdtvIttlAo7Mnb6gCaJDisYL8eReLvpFfD8n07tqeXx9tb1P/4rfPgT0pKSkQikUgkwj62WCzme01qtRrfLZFIhP4wtVrNMAz6qPAQ/jy4CX3UEokE9y8pKcFXHzuW+KnGRttZDOzyMQyDW7VaLd+Nx60AYL+DG2H4rfij0CfE+5AcpBWLxfwJHX6vm8F/XmCwM+l55XE+Gz/wwZ/NpQz8HROJRPZ3yaGVo2na4R5it7wnb2hPjx6cesVarZZhGP59wH0Yhlm/fr2zYA6/sadjd+3a5fmt4F+enm6R36BsIZ3xBptTD9uH8AGDAhzGCP2MUqmUyWT2tjoOVmm1WjResMMsl8s9tOcJnhBqfXgHQjJ24voJhpgftI3tP8f8aHZRUZFSqbTZbHK5vG+RM4SeCHGFJziD4SgBj5xDTUZnNU3TLMvimD+/qaioSCwWB1zOECPETXr/g/PS+J5wwMHwtWDQcEIwEGpe+sCiUCjQWdjrJDb/wMd1ejsVjxCqhJ1J7/zqY+Bkv5wcz2M/eNZncLT8OltmHNNyGZUQVPDRNV6ZRXgULjMMwz/ZfnygcM1EChlnUNi18Pn5+Ri/BQBKpTI/P9/zac+FhYU4RZxvwBUKhVKpVCqVOOyPr2zfHOAURTmM8fKn7QmVSiWXy+2tCQd5sHkXi8VBYnG4oW8SYsYB+5P09DSdb6+vZQtOwq6FF4lEGM+MsaIYPOPhsTjpjW9A0GDGQaOioiJ0hmGwbR9aeLVabd+YY7Bnr/KAnc3iLI9IJEJJ+vyu+wf84d56PYRCIcMwfNQg+k16at4dbq/nhNiwbtgpPD8chSloUPk9BN8w/k+MisdlmqaVSqVQKMRZlvx8Uh7eRMdMW2j245xQhmEwQhvXwzUz0tuf5iwPBvZpNBqXJj2OgaG9ilfkY3tRN3h/Psdx+Ovw59v/iQfiD7FXNvuTu5GZN8v73Wa2F9L+9joI5rAby7LYO3D4cODjs1/Z003gT2v/uIOnRxB2Jj0qPD/vxauvPk6fxgBvcAp65zhOLBar1WqcReewSSaTiUQifiI0yoAnRCuUD7EsKirCF8tbnXeWRygUYoyn86g7hsra+/P4wGHegsVNKDzGhGLcu/2f/A/B9x7XOJ/cJdgBYRgGbw6/HueWOOPSXLffmTdkXArJBwjzgrncDUVy6E/hD+QnvfR0E/BpunzcQULYtfBwLTKcb4TxWXoynMaHT+bn53v1zdZoNDjOjBdC9UOt5ttePDMaCH0zcV3ipmuANwGFwekc2L7xB+KENl4bRSIRmkX2fxYXF+PMNgCQSCRZWVl4QvuTuwQTSOAUF4fpg0Kh0PN+lv3OvHbhjCYHIZ1/tcvd+AhZ+68VP71CLpej5M4H8k9TpVI5P+4gIexaeLjWhPIBmzjTptfhNJZl7VsYrwa68OXAXLf21rWzfeG3mZL48VIoFIWFhXhRsViMbZRUKsUELygq2sO4qbi42OFPh9Pi9GTnkzuDDSku872J/qInIR0Ec/9bXIIxQi4P5J9mT487GAi7Fh5NOz7FHe9dh58Op/GZkngcbDN8We0/AW4eLRrV2Ilw/2ajwjivd5bHGbFY7KE8YJfvDXUb54fgglgszs/P5+VEUxZ/L+9x4P/Efez7/yKRyPnkzvLjnnBN89HOwk189igHPJyG7Cyzm1/tcjdnHH6g+wM9f9z+J+Lll18OtAz+Q6PRLFmyhKbpiRMn4pjWxo0bCwoKFi9eHBsbu3btWv4JZWdnC4XCiRMn8sfiIRMnTty4cSMASCSStLQ0nCWOHprFixe7ufQvf/nLEydOKJXKqqqqmTNnbtu2bffu3U1NTej2V6lU27Zta29vf/nll7FzceLEiaqqKpZlZ86cSdO0szxwrQ/MsuyJEycYhvFKHrx6U1PTiRMnCgoKYmNjAYBl2bS0tIkTJ1ZVVRUUFKSlpQEA9nhRJJqmCwoK7P9MS0vbtm0bTdNNTU2YAG/mzJnOJ3eWXygU7t69G5vZpqYmvC5uQmPYGYefj/6UEydONDU1oSOgqqqqvb29vb0dvZW8kCdOnMDbCwD2gs2cOdPlbhMnTsQzp6WlCYXCqqoq9L0plcqZM2fOnDnT4Z7s3r3b/mk6P268vUGBP6fmBTNqtdpgMNhPq3SZE6q8vNxh6qVarbZPO+cSqVRqPzuyb7mTPcxR5Yk8/YvLmbbOhGTWZ5f0y+P2EWFn0rsEE9fYD6f1ZEI7++o8CepySFzRBzPPE5Pec3n6nV5/lOfyhwDX/7h9B5k845p+f07oqAcAHBYKuDz9BR8y4H7YImjl9xHX+bh9B1F4AiGMCFKTvrKy8quvvgq0FARCUDN16tS8vDyvDgnSFj4xMXHChAm+O79er4+Li4uLi/PdJTzHbDabzebU1FT3u527ZNYbWymArLTEIYOjfCdPY2Pj6NGjfXd+rxiIT8pvnDx50mg0eneMj5yBarW6tLS0tLRUKpW6TEKo1Wqx1IF93QWe6OhoHwmGOJQlCSwYitvrbg/+dkVUkjAqSbhvf5VP5fHQ6+4fBuKT8ht9UBNfRdphPCafeNzlDlikCYM3fSRGKPHsk0U5k7MBoPrY8UDLQhio+MqkLyoqwqkpfJkB+604ywITmAFAVlYWXycIiYmJ6ejo8IVgBELIkJKScunSJa8O8ZXTDjUcw4md0ww7THsK8tnawcD2Cvbl7dXmDuvE9IQ3JVMnZYbREBehH/Ghlx4zTGCQtrfH2mw2vigyyb7YoDev2qLuMp2zXD5zWjDj4Vd2H9/y60ALRQgYfBKB7u5ub4/14Ww5PpkMzqn0ClR4nGboA9EGGGVHGgGg9cw+Kiq2veXKpfaYQEtECCQsy6J2WK1Wb4/1SR9eo9HgLEu4VovP4So464Pvw1OUoxikD2/PwVp94Wv7rZY2oCiKElAR0SsKJqxedHOg5SIEmD704X3SwuM0JlzGTAD8ej6fkf1E1GCbMxxs3JGdmn3DIEFUrCByEBURbTHoNpWdDLRQhAGJTxReIpGIxWIMJ1YqlfapJtBdh6mXFAoFx3EKhYKUE+qVVGsjAMS36rjKDd3mi4EWhzBQ8WGkHZ/Zr6dZE26ykROT3oFVL//x/WNxg+KHtnEXIhNGEZOeAH0y6YM0tJYovAMPPfrEx/89nHefRP3dRcvlM83qvwdaIkLgCZY+PKHfyRyTPmZ4fP5Y6xX1lnZdZfWx2kBLRBiQBOlsOYID619ctf7FVQDA1jXSiQl0YkKgJSIMSIhJTyAMVIhJH7LMW7h4+dNrAi0FYcBDFH4AUFF5aH913bZ92hodt/zpNdHJWRWVhwItFGFAQkz6AYBkw96yo824LLB1W6mIrGTbp6/dlxDnwzQYhOCHmPQhSI2OKzvaPHtC/G/voAHASkW0sZXnTLZVW9SBFo0w8CAKH+yYzBYAeOze3LjEEbimZtfry+ZNPFh7IaByEQYkZFgu2JmUSScMjpJuPpQ0JBoA6PgYo7mz7EhjRmp8oEUjDDxICx/sJMRFLZk+9Ez9Dxq2JSYqgmvpuHtN+SVT6+pFkwItGmHgQRR+ADBNGGs8sGFK++66fyycO/pCS+2/549qvCM7WHKnEgYQxKQfYKQNbu84+9X3J4h/ntAXSAs/ANhXWRVoEQghAlF4AiGMIAo/wJiTNyPQIhAGMEThByScsTnQIhAGJEThBwCZY0bPmTUjZ/KPKW6qj5LiM4S+QGLpBxjVx2p37voMAHB6PCGcISmuCIQwIohKTWk0GkxiyXGcVCp1TlNpX0BSLBb3oTpN+LB5646du/YsXDB/2eJFgZaFMLDxSR+eZVmNRiORSDD/tMvisBzHsSzLcVzfalGFFbq6xn37q3R1jfjn8KwcMiWe0Dd8pfC8kjMMwxelsIem6dLS0pKSEoZhfCFDqFKj4zpHzR6Su7TilDnQshAGHj4x6UUiEV9GimXZnqpBYrlIACA6755VTxbNyZuROWZ0g978wGuVcaOmQKdpywEuNuE4yU5P8AqftPA0TfNWulKpxJKSzohEIoZhVCqVQ/VoALBarfn5+fn5+S6tg3AjMWHo7LzpmRmjy440Gs2de179xdmdjxdMG41FJgnhhkKhQO1ob2/39ljfTp6RyWRisdhl6Tj+K8AwDO5mv1UgEPA2AmHPgW/OnDWKbhodaEEIQYFEIpFIJACQkpLi7bE+VHgsDs8wjLNVr9Fo5HJ5aWkp/6fvxBjobK9gV235HgDg04vPF05KjIu+d+1/4yI6L7XHrCiYEGjpCAMMX0XaqVQqoVCInXO+r25f753/BHAcR6rH9kSD3rxqi3pI98Xmr7ekDOr466enPno+LyOu5fzZxhkjLpMOPMFbfOWlLywszM3NpSiKoihe4fnqsVhAki8v21Mnn1CvNwPA8G6t5fKZ8YktRnOnyWyZPtxwRb0l1XYu0NIRBh4+MemFQqHBYHBez9vwACCVSlHh7VcSHMhIjQOA85E3xtzQVNeWlBgXfUd26t6PAQB09Q0BFo4wAAnk5Bn00gdQgOAnPTVuw9LcTmpwfPavjO0RipXTAYBOHBpouQgDFTJbLth5ZLYwu+O/zV9vUSxJwzx2OG2u+igpIEvwGqLwAwPL5TP8cmLiUADgjKbAiUMYqBCFHwBkZqTPmTUj8ZolnzM5GxdIlXiCt5CstQOAd958xWHNqicfAwBSJZ7gLaSFH3jU6DjLqNkXE2fW/kAFWhbCAIMo/ABg3sLF8xYuRgO+Rsfdvaa87EhjjY6TbDy0vYINtHSEgQRR+AHAvv1V+/ZXGY3NAFB25CwA3JOmrd76xGCrkcyfIXgFUfhgp0FvjkoeK4hNsl+ZmDAkUPIQBjRE4YOa7RXstKc+HXrrUjpv1ZmWRAAomHYDALx3PCnt52taBYkF08gUOoIXkCSWQc0EyScZqfGrF03aVHbyQO2FI2/9Ij01rkbHba9gjebOgmmjUf8J4UkQJbEkXD8Ha/VGc2fRFPrDv2+8/55FB2ov1OvN6alxkzLp15eSLICEvkAUPni5Izs1MS5asft44zfaz5sOgSAR59Ig8xYuBoDPdm4NnICEgQfpwwc1ipXTL7dS8dm/omKTNizNTbdTeHTd6+qJl57gBaSFD2riuvXcvnVRyWObTn/ucgddXWNmBvHbETyFtPBBDY6928+c4SFxtYQ+QBR+AJAzxUUqq5wp2f6XJDhRqVRyuVyhUCgUCr4gglwu5ziuzycsLCzsl1SLWKPBZS2WgEAUPqhh6xvAbcaLfZVVfhTHHzTozdsr2IO1eg/35zhOpVJJpVKJRCIWi/mU50qlkk+g6C0MwwiFQvffCyym1uupMLNj8KRpJX34oIYvL+VAg97cFHnj4HFDzrcO8rNIPuVgrV6y8ZDR3AkAkzOT9r7Se0Ike12iaZpPiKpWq30kJH/dniqsBDMBKyaJ6StFIpFGo8ESdARn5uTNAIDMMT9xyzXozXevKTdGjo0Vjt3bCGVHzoZM+M36HTUJcdEfPZ93sPbCKztqtlewj8zuRamEQqFcLkdVFwqF+C6pVCqVSiWRSIRCIS6LxWIsZ8gwDL6WLMtKJBL7PWUymVAoxJTv9uCbjOUS8U1WKpVYTEGlUmEKVr7BF4lEWIUFTQ9M1uqLe9VHbD5Aq9WWlJTgMtpazvuIxWJcKC0tlUqlDlujo6N9IVho8MqHNSMe+mjzv/Y/+9Ibkx7bWfjq/kBL1G+MeOijVz6ssdlsxpZOfrlXSktLsbEVCoWlpaW4UiqVlpeX4zLWNbXZbFqtViQSqdVqXMkv4J4Gg4FhGOfDhUIhbhWJRPxFGYbhd9Bqtfz7jPsYDAaxWGwwGGw2GxZQ7PM9cUNycrK3hwSmmCR+MnHZvt9F8Jz7507f8PIzI5OHJsRFB1qWfqNg2ujtFdr1O45LNh4CgDuzh3tylFgs1mq1qHVFRUXOfW+apjFdqlAo5Oug0TSNe/Lmp7MdipSUlGAL31NbrVAoaJpGYwFtCoVCgdcCuxIMwYBPFL7XYpIOGt5n50rIM2/h4ujkrM1bd9ivRDW4e0353DWqYzpDRmp8gKTrfzYszZ2USW8qO1mj49YsmoRJO93DVz0QCoXFxcVisbh/TWiO45RKJZZR6mkHjuPwm8IwTGlpKfYa+lGGfsQnfXgPi0m6wWq1oo2AN7Gf5Rs4cMZmABBmpNuvvCM7VbFy+t/2nKg6/FV387nViwoDJF3/kxAX9dHzed4epVQqeV8dTdM9NdS94vJLga23fcdeo9Hwrze2/CKRiG+0eE+B7+xWNCUAwGKxeHtswIpJuoeiKN4G84FcAwOT2WJOmZF0+/SNKsPYCWb7uNqCaTcUTLshOvl3AFBReWh23vTAiRl48O1HBzAuoEpwHCcUClmW5ZcVCgXLsmhvY79SKBTi/gDAsiy/lT8Ei53iDhKJRKFQ4JuJDj/e5SyTyfBA9AWiVLgGBwgVCoWzO7Bv8EXcSkpKvD3Wh9NjlUol2jnOVj3WnOLNfopyFINMjwUAtNjvzB5eo+MS4qIPvzXfYYflT6/R1Te88+b6cI6uRXMaW1p709Jb8C3Fs/W01eWl7f/Eb4T9Glzos9Hhnj5Mj/WJl95ms5WXl6ML1Gaz8R778vJyrVZru+YsxZVqtZr3cPIQL339hRbeTf2fw40jHvroGGsItFCE4MInXnqNRuPsZndPr8UkhUKhWCxWKBQcxykUCjIO7wz63pX/Llu9bkODvsV5h+0V7AOvVT7wWiXJY0nwHHcmvVKpxGEG7NLQNO0yhKbPYJcJK8k6bCImPQA8/MqeipNXVf3O7OH23qyyI2clGw/9bETsufNNrYJExcrpIRN7Q/Cc/sl4g+MQ6HvkvQJisRhH1zGkqc89JXvwU3L95wlVlt6RWPbJvwbHJ/7hGckjs7PsN5UdacxIjX9/5c3jc36feOcqVXUjUXiCJ/xE4dGXCAAMwzh7FIVCIUYg4MwkhmH64H4neEW7rnLGrBmPF9zosD4xLtpk7kxKGUEnD4eo2PNNFwIiHmHA8WMfHkcRJBJJcXGxm6FvmqaLi4tR84Nn0l9I4mYm3COzhUZz542Sfwtu/b0gKja5u96fggUVKpVKJpPZB9jhGl+Hb3o7/bYfp9xeDz8qPMMwxcXFntvY+GnwjVSEXpiUSe9cc9foYVdH5r9sijeZvY7BCA340Cy5XM6vQa+wT6/r7fRbT6bc+gEyHz7YyfxpmB3P/4790HjRPCnZ1MZW6juGbCo75WfBgori4mL0MeOffvANqdXqfvFk+ZmfKDwfk4R/8rePEEB6SmVVozPcmT1cunBi6+m9sR0/1OgMfhbseqioPBSdnBWdnLV63QZcg386/6uoPORyfwdomi4pKXGeOYPmPTbFGAzHr9RoNNiNZVmWX+YPxNFohUKBRjjm0sFRZNyZPy0AsCyLji1eZXCf68m64yN+VHilUpmbmyuXy3Nzc/kQRYoi9UkDg8lsOWNJn7TwxW8tE2p0Ll6aSZlJB2ovVJwyx9wwtS1mREJkm/+FDCrQi1xUVOSwEoPbAUAqlWLHHlfifBiGYQoLC3ElPx8OFVgikUgkEjyhRCLBrTi/HTsReFqO4woLC+13BoDCwkL0fOfn5/v1LvTGj156jUaj1WoxShG7QwPRYgkZVm1RH2CpO7PH1Oi4B16rPPzWLxLioux3WFFw48HaC1sOGOKzfxVjMbz/xrq7x9kWLpgXKIG9Ynbe9M7LWvs1Dn/2ur9LpFJpbm4uxnTzK13OfnU/YZaf7oo7qFQq3o3t7BrAESs8OT+M3euM2kDxE6cdCo1+eLRzAidYuFN2pHFFwYSPns9TrJxuNHceqHUceMOJZbdPSAWAjqikWGEe1pMOZ3oy7L3Febqr+535Zdyz1xm1AeRHhcf+CZo3cC3SJkBSEQAASv65Ozo56+OKb3raYVPZqS9P6sW3pYwaZIwV5n3TFOFP8YITNKRdBoN73oDZ27bYULu/on1nHoNZnGfUenhpXxPx8ssv49LEiRMBIC0tDRdwTUFBQVpamv/FeuWVV/7whz/4/7rBQ4fFeri+e/BYpvZcx+TMpGcXThwU7ajPfyk7lZEa33TovcN7Pxw8lrGZ9Y+J7wiItAEEnW0qlSo2Nhad8wzDnDhxgm9dOY6rqqoCgBMnTuzevTs2NhbbNo7jJk6cKJfLq6qqcKVSqWxqapo4cSLDMCqVimVZPLagoEChUOzevbu9vR2vghfFM+C0XI1G097ejt372NjYbdu2paWlsSwbGxuL50QvIB7SX/Hpr7/++nPPPefVIaR6bPAytXBNg7718aUPrLwvx6EDj0g2fnmw9kJM+7nzzVREXEp8W933H3v3+MMH97NfXeI83dWTS/T0py/oQyy9O4XHoQV+pjGGvmP8wHWL2gtE4bdXsPV6c2Jc1COzs1xqOwDU6LgF6yraO7sBwGbtogSRpc/P8iQtFCE06DeFxxFI1HB+NhtqPto5mPS/f6R2RZgr/PodxzeVncTlyZlJHz2f15POL1y/v0Fvfuznox6XLKNnPbeiYMLqRS7K1BBCkn6YLYdjckKh0GUef17JFQpFUVFRcXGxj1J5hDmbyk6mRlxMMx+5Me/hHUcMB2ov9DQZLlJARQio27IzY0bfCgAb3n73odtl4ZwAh+Aex9BauVyOmeTdH4aB9Hz0MqHfudCg3be/KjOllxTUj8zOqte3MC98PjjrLgCIGjZ+8/s73B9CCGccW3gcgfek3cbhet9IFe7MzRmxF24bEpPylwouMS7aTXr2gmk3CEcOudzckZY0WG9ovgwjDENT/CkqYWDhYvKMtwmtCP3OfZMi2thKAMibNNJNBx5hm66MHTn0ZKNxZEoCAHzy9aUGvdlPghIGGi4UHpPv+l8UAs+FpsbW03unxp9SrLx9UmYv1lbBtNHfaC9nZ9BJQ67a/6++R2Y9EVzjQuE1Gk1ubm5SUlJhYaFcLndQfjKFzg9g0Vg6wfU8OQc2LM2NiYqoreeOstzwwe0A8Lmq0rfyEQYsLhReKpVqtVr0wCsUCgfl9yanqbgAACAASURBVFzhNRoNH6jrjMwOYlDYYzJblCcGJ8997VDX9L94MMs9IS7qmftuAoDm1s4LrYMAwNgZhbNKCQQHXIzD288NAoCioiIMHsRgQwDwJDhPoVCIRKLc3NyedsYZDpgS03mOQTiPw0s2frn70JnW+sO33D7n1IUuD2Npxi79OG5Q1MybUisOHjZGjJw7+sJ7xU/4QVpCAOmfrLUO6mc/DcC+LKx7eh3Yw4lNngkZXpQdaSwQDZs6/46p03LuXvfVgdoLnii8ub3rjuwRFceajBEjAaDyTLeuvpEMyBMccGHSu1Hp/k0srbpGf50wNJicmVRz3jr1jrsPnm4HgAy7knLujyqvPkdRlEBAAUBbTNptS/6oq2/0rayEgYYLhXc/K7Yfx95FIhFOS3JOMGq1WvPz8/Pz88NwjPDJgqxLpta715S/sqNmcmbSI7M9+sK+vlTUbbVxLR0CirJyWgAQjJp+5Hidb2UlBAKFQoHa0d7e7u2xLvrwFEXh7H9USId6z17NAXKuEukMpgdziOQN5z786nUb/vRB5YRJordefNyrmTBTVpRd4NqYKWk1ust6UwcAFP82N9783ZxZMxIThvpMXkLA6EMf3kULL5FIsNgb5rfDrBj8+Fy/NLkODvxg8NI36M0Ha/UBD1mp0XH/ZocNFS0+FzXROcuNe7Y+MzNCQKmOntebOmJjIgFg9ftfPSRZ9cLa130jLGHg4ULhRSKRVCotLS01GAxqtdpe+ZOSkq5H4Xk/P9glEuY4LuAVbLZXsNOe+rTwtf3Tnvo0sLUZN5WdaofYW4aezR5h21R28mCt3vNjJ2XST/xyAi63dXQBQLdVMPTWpZvf/5B05gmI6xaeX3ZWfg/teUzrCwAymcy5eixOucXJtg5dBv/ToDev2qK+M3t46fOzJmcmrd9RE0Bhyo40Lp17056/Pl3+xwcAwNtG/rH543Eh7+YRWH82MmHUr1es7inXNSHccDEs1xMikUgkEnmYHhC/Gg6aXFpayi9LpVJUePuVAaFebwaAFQUT7shOfWS2cNUW9cFafaDSSEzOTNpeoZ2USWNqag9d9DwJcVGL54zduu9M5fEfAGAEPfgHrvWriymkD09AvE5x5YfEPeBfp12D3jztqU/RH769gq3Xt5xU3OufSzuzZWflCx/VCaJiAeDXs7NeX9qXTOE5K3c3XW4dOji6ubUT19w+xjqoqeqDv/+5P2UlBJr+cdq5J/QKPKenxm1Ymluvb1m1RV134Ypi5fQAClPHnu44V53SVb9zzV1903YA2PS7aQDQ3NoZH3t1mt2XdYL/HGncueuzfhOUMDDxTuFDtWLsI7OFe1aLmr/eAtUbA5gT7mCtfvPRhNgxMy5FZix9q6rP9SGnTxh27+0ZANDSZgGA1MRYAIib+KsHH12xet0Go6m5H2UmDCw8VXhU9aysrFDNcsMZTZbLZ9i6hgDKsKnsZIzVzFVuWDCmyWjuvJ76kMW/zcG01oNjIi+Z2imKEkTFDr3tdxvefnfufYtJyYqwpXeFt1f1EC4+lTM5GxcC2wCarxitbYbCn996nedJiIt69r5sAGjt6LLabBQFEQIqKjF98Li51UeP3zZ7wfCsHDKjLgxxp/D2qi4Wi7VaLY7Jhx66+ka+LGn10YC1fiMTIiITRg3JXfr2/jYA6DX1hXseLxi/cEYGLg+JjcIY+/ixd9Kp6QCwbMmDs/MC6a0gBATXw3KYuxYLZWDgHfrqQrX4lK6uccPb70YMHSWIijV3BqYyR42OK/u6CQCiU8Ye0xmfXZjdU6Zaz1m/JKfi2A9cS4fJfNVd322lom99fP/zedMnDLteiQkDEMcW3rlVLykpCT3PvDODx81NnL5i6K1Ln/qwqezIWf8LsKnsVHd3V/PXW9IsJzss3YOivB5AcSYhLkr5Ql5kxE9O1dVtfeC1SvnmT5c/vUZX36irb9y8lSS6DRcc3yqlUimXyxmGCR9VB4CYpPRYYd6Q1jPNX2+Jj+wMSLCdydw5bUJabfnmf214FACMfXXROzAxI/HFhybzf0YIKADo6ra+vc/03sf75923eHzOrOVPrSbe+zDBUeElEolWqxUKhWjPB0Qm/6O72AkAaRFNlstnhg8y1+tb/C/DpMykA7UXPvjS+Nqus+B9jJ0b/m/uz0anXD2b9Vp/xSaITLh9ecFDRTlTbgaADW+/u+HtEqOpmah9aNNjpB1WvQUAqVTKp6lXqVT5+fl+qD/p5+mxe7889dtNNdkjbNPGJSm/vkIPGXT4rfl+uzrCPLH5O2NclzUCAHxRMWrei6qjWgMACASU1WqjKAoAbDbbM/eO507+d8Pb7wIAhtx/V72fhOIOCPoz0k4oFBYXF0skErlcLpPJQru1P1heZv5ub+0P1JYDHD1kkGLl7X4WYHsF+61hqPn8ifHJndCvzTvPZ+uY6TelAoDVaouMENhsNooCAPjjJ99dSZ2F7TxnNMG1cQoywS4k8SiWnm/tRSJRYWFhiLXwNTru4Vd2X2qPiWtvWDL/ll/kDufH5P3GL1/675eab01fbvquev/v/vZdQlzUR8/n+eJCC9fvP3RCDwAREYLubiu/fn7uyLbjpZzJtP7F53ImZ2/eumP5U6tzptx8eN8nvhCD0C/4Kpaeb+1DL/+cyWx54LXKK5bINrbySsSwjf+uWb0uAOkibkxPpkeMefKF9Ves8fX6lozUeB9daOfqWXdNHgkA3d1WATbxAACwR91kvOHeHVu34McOC9QJSQ7MkMOLsR+hUFhSUqLVan0njf+p0XFGc+eM4YbW03sz4PvIhFFtlL+njpvMlm8bjFfaLNurBXevKbcBeJjHrm988NwdRfPHA4DVZgMA6praf6O9POnx//z7y0ajqZlOHHr/gvnvvLUeAFav2/DGxpLhWTlk9C4EcFEu2n0lSfuBOv9MlfUpWLbtrMkGAB2DRkI33Jo9xs8ybCo7VX3m8tR0GwxK+er05QW3pV9njF2vvPzw5NSEQes/qrFabTabDd14ANBp6V6+6cvM4UNeXl3885w0ANDVN6I/DwDeeLtkTt6Mnbv2AMCzK4t8KiHBR7goF+2h3a5SqUIgpeykTPrXs7NOm1OT576m7x62omDChpef8bMM1d9f7Lx05jPFC3/6zbg7s4fXXbjih4suv2f8e0/NQKvearVh4C2iu3BlyR+/eGn7MfxzzqwZ6L1n6xrm3bf4hbWvk4rUAxcXTju5XM6yrEQi6WmqjEajUSqVNE37LrTez8NyUwvXnG7kfpV3Y0Cqtdzz/L81DZaItotL75up+Ow7X4zJ9cRHB+qe3azusvPe2TMyafA/np6B5sbyp9dsfv9DftPhil2b398hHHO1k08a/IDQB6eday89y7LY1AuFQnu1x6RUYrFYIpH41Jj3s8LPW7h43/6qVU8+Vn3s+L79Vd9V7/dbzZaDtfrC1/bbrF2UIBIAhCOH7FnLuK8P3b80Xmx9ZMOB0+dcx9tERghmTRqxfvEtQ2O6H3x0xb79VfcvmL9syYNsfcPyp1bzu3349026+oaFC+aTWjf+pN8Unkej0XAcp1KpaJrGzJOez5DVaDRyubynlHWYvhKr1jlbCoHKSx+dnAUAez/e5reZZJKNX3568NtLB/70xHNrVLq4qeNS/B8FAADv7P7utdLj9k29Q02Be6aOfmNZruHSD6jSuvrG1Wtf/9euPfYnefWl555dWbR56w5dXeOyJYuI8vua/lf4PtNrMcnCwkL8FiiVSo1G45DuMiAKf7BWL169g4ofMU04+H3Z3f5pZqeu3NV4uQMA7rwpSXexY4owKSAKjyxY97+vT19yeGS85kcIqKnjU15+eArvU6yoPLSvsor36uG4PZpLdGJCzpTshQvmCzPS91VWrXqyiETv9TtBpPBXz95D5RmNRiOTycrLy/HPrKwsh9E+Pyv85q07ar5v+rwpo8NsMtapk2+clTsu1UehL/Zsr2BXbVEDgMDaaRVEA4CHtWJ9x8Fa/ZI/ftHW2cWvEVCU9acPccHt6fLfivCDaDQ1j8+ZBQDLljy4cME8DNpZvfZ1DNpDUPk5YzMJ4+lfrivwRqlUehVCq1Kpior66KpxKCYX8Gn2q9e+/t5/vmpu6xpjqW49vXfsEKO3CeH7xnHdJQBo030xfmTUsIRBkzLpwGo7ANyRncq+d1+6XeQParu9G3/Xlw0Tij6Z/HhZsbI2MWHoBW31BW31+hdXYdDOssWL3nlzPZ2YwCfDz5mSvW9/ldFo4lNrVVQeqj5Wu3rdBjK272d+HIcXi8VCoVAul3Mc577ghEKhwBryvqv3bLVaMVsmwzDO1eP7Hc5oioowAMAVQQoVGXu5PToxLtrXFzWZLaqjegCIzZzZ2BxFQbfvAuy85chb89/Z/d2mslNcSwcAUNTVgXp+yo3NZtMb297+5MTmvaffefw2HLTnWbhg3sIF84ymZrTt91VW7dtfBQA5k7Pf2FjiUPoKY3j3fryVt/mrj9Xu3PUZ6QX0BF9z2WLxeg71TwJvsNQERs5jBSh7ZcM0OLje19UjKIrCS/snsGfvx9sA4NW9V75tmJDEvHjODGsW3ejri26v0J43tI5MGtxkaG1ps0RHClYU+PyinrP8nvHL7xlfo+Me/8uRM01XffjOHTRze9eSP34RHRkx/abUNYsmTcz4MU4xMWHowgXzAGBfZRUALFwwX1ffuOFtF41E9dHj43Nmffbx1upjtW+8XQIAbF0DZzS98+Yr/D4VlYeqjx3nx/9Wr9uAPYj+/M0DBKFQiNrRhxbXXR+eb8lFIpFSqey15Xdx9h768Fhziu/DO+8WKC/9/c/8VXWo9uYbYg4q3/T1tRas3ffV6csAcFN6YkeXdXjioJ2rZ/n6on2jRsetLPnqu0YT9FYROCEu+u6cUet+PcXe5Wk0NVcfrcWBD365ovLQv3bt2fz+hzlTbtbVNczJm/HB3/98o+guPnGwcEz6Kc3/KioPcUZT5pjRt81eANc+zTgoOGfWjM92bt2567MHH13x4d834cclrPCJ006lUmk0GolE4j7k1vXZf/py4MC+UChkWbawsBBLRLscvfOzwmP+1tl503X1jbq6xsTEob5uOnD4HQBsbZdjE1LbO7v9GW/TN8qOnF37wbHzl1t7fWcEFJUxPP6Ru4TL7xnvZjddfSNnNOGt1tU3ZmaM1tU3PvjoE9VHj+MOq558bMPb79KJCXPyZjgMAQLAnFkzAEBX18jWNax68rGrK/Nm+OHxBQlB5KVXKBQYvSOVSvl+eGFhIVanBAC5XE7TtFgslslkzlF9flP4Gh0n2fhlvb6lu9WwRXbP9eeN9JAXtx39297TFtPZqIQbACA6UlDzzgJ/xtv0mQa9+dWPjn9efa69s9vlDvZfeQFFjUwe/Fsm65HZWV79uocefeJfu/Z8V73/ttkLOKOJTkzg3f7CMemZY0ajU4AHPw32fy5bsmj12tf5Cb+4Hqf9rnrysTl5M3KmZCcmDDWamje8XdKTv+CNjSWz82YE7ecjiBTeE1iWZVkW43kcNvlN4W97ao+huU1/oiIqeWxKWubht37xr72HLhiuPP6QD8fhTWZL/gv/bbx0tRb9sIRBaUmD977ic99k//KHrd+8r9JaegjLdYCiqMT46Pm5NyyeI/RkahBa/jlTstm6horKqmVLHgSA8TmzOKPpcMUuB+cfnZiwbMmD9go/Z9YMOiEBjQIMBwKn6OBlSx58581Xbptzb/XR46uefGz9i6scZKg+Vnvb7AV0YsIFbTVm/nLjRHxjYwlnbHY+iU/pg8J7UT2230HzPoAC1Oi4en3L0jvp1z/Zm37TdGPCqKVv7q86xQHA1q92l74wy0ez1rZXaBsvmRPiojF7NNfS+Zflt/niQj7l/y2+5f8tvmWv+vyL24+evWR2aDkEAgpX4HqbzcZd6fjn/7T//J92UHTkzWMS5996w2Pzx/V08sSEodjnz5mczTewhyt2AQAG8CUmJgAAnZiw6skih+CfZUsWLVu8CAAy16UDwLMri3bu+mzz1g8djAI6MeGNjSXYfcAPgb26Vh+rXf70GgDIHJMOABveLtHVNbisxonfJvz6ZI4ZjZfuM752RgZS4QMO6nPFN2cjho6KTZtkBqg6xbWxlV3N5+KmPfLcFo2PWt1N//kWAFDb01PjjS2dAR9+7zNzc9Pm5qaZzBbpe9WHT168YGzF9dZr6TIpiqKuDeYj7Z1dX5++9PXpS2v/eTQ+NiolIWb5Lyb8ctoNvZpU9rG6yxYv0tU1zsmbMTtvemZG+r79VcuWPFhRWbVqZRHvveMVuPpYLWr7qicfy5mcva+yaueuPQsXzNPVXU3jxRlNG95+F/sOurqGd95av/zpNfgtmJM3o6LyEH5QPoA/79z1WfWxWryu0dTMGU3odLCPO6g+Vms0Xh3X4GO0jaZmtq7BaGx2E7X9xsaSDW+/u6+yyncRSoE06d3gN5P+L2WnXrmWlFo0NkVz5tKj4+sBwDJi+rbKc03/LOz3K+78on7FX48AQJStPSU5qcnQ2uey0EFI48XW3yu+OsoaWtuvxuq59+rzUBQVFxMp+lnyb5ixc3PTet3fK3T1jbfNXpA5Jt1ZkXbu+mzDxpLqo8dzpty8amXRg4+uAAD8dvDjBTlTbkblH5N+w6XLhhZzK52YcLhil71/ETsIALB63Qb7zgWGG+NQAq5BH8ScvBnO3gGMSgYA7Lbw69/YWLKvsoozNuvqGg5X7MrMGL386TVGo+nz/3x0+ZLeq1sR7goPALPuf0Lz/aWH77nt4QcfLHxtf8G00XdmD1+/o+aO7OH9HtZuMlum/b7M1NrV3W6KGJQQGSHo6raeUvxqQLjrvOLbetPaD46qT1+2j9J1g8N3YVB0ZPKQ6FvHpbzwwKTRwwb7TEyAn8b5rF63ofrY8cyMdOGY0fY+AgwWBIAnf/fo1g93AsCHf9/04KMr7F2JpzT/g2sKLxyTzn8v5syasXDBfPvJhTz3L5j/7JNFm9/fQScmLFuyCIOUcf36l57Dkcj1Lz2HlZH4s+VMvhn/jKdaDJe8CwklCg/otsGB3PU7jm8qO4nrc8Ymf/Dcnf2riu+Vn3nhH9U2mzUSuselDzvZaLwze7gfgvYDSIPe/P8+rKmoaeLbfG8RCKjkITG3Txj281vSbh2Xku6DlL7OGE3Nc+9bjM1szpRso9H0wtrXea3mBxE3v79DV9eA3kFslisqD/HjgjgoANdadfyOYEPNjzLyAxDLljzI+xTRgtj8/g4clXRwSeLOAFC69d2B5KV3gz8Vft7CxdVHaz/8+6bZedNxeNxibIzvvhSbPq3fG/mJRZ8YWjq7zYaIuCRcE5LNu0tqdNxHB+q+PHnx9Pnm7h58+wKKsgFQAPhSunw5IyMEdHzM2FFDfn7LqOkTUnydDgzB0bue3GlYidSli37nrs927trz7JNFDgfiB0VX1/DZx1uXP71GmDF6/UvPbX5/R87k7OpjtXTi0GdXFunqG+fdt3jhgvmrnizCEQr8Oty/YD66DwfYsJwbAhVphy28QbXO1tX20l8+2V6hPam4t79O/tL2Y4rPvgMAymZLGBJjbOn8v7nj1v16Sn+dfwDRoDdv+e+ZzzXnzl1u7SnfjocIKIoeEpMzNum2G4flZY+wj+0NJaqP1VZUVi1cMH9fZZUwIx09f0Thrxecr9p5mY1OFgJAYlz04bd+0S8t8Lf1JuaFzwGgy3w5eVhqS7u122oLn+bdDSazZe0Hx1TfnL9oau/D4Q6df4qiBAJqUFREamLsLVn01HEpS5is/hM2uCAK7x0ms+Wpd/Z/oTmdMSpli/Qe7BxOffJTDImJiqAs3bb+injNeWJ3k6GVT2UFAMwtaduenXn9Zw4lGi+2bt135osTF7VNV1raLPzL6aGrvydwSv/I5MHJQ2Lybxk5RZjkML1vgEIU3jvmrlEd0xk6L50ZnJw+angS1pNDq771zP8yx0/sjhudmhi777WfX+eFfvPmF59rzuPy0MFRza2WmKiIun8svN4fENKYzBbVN03b97O1dVxLW4/zQHHGLt/thx56/i6JEAhioyNGJMWOHzX01nEpN2fS0ycMu165/cgAi7QLLA168zGdYVKy6X97t4ybfX+dXlSj4yZl0olxUQAweOxdP3R0CKztl5o7tlew11MZ4m97v+e1HQCaWy0AsIQZe/0/IbRJiItaODN94cx0/PNgrZ79oWX3V42nzzVfbu7otl7t+V+N5OvTJbqt1pZ265nzljPnmz/9+iyujIwQREcK0pIHTxidEB8bNTmTvvf29JDpeYVvC28yW26U/HtFwYTbR15RfWd5r/LC56/kT8qkTWaLaMVOc6cAACIjqOioiBuSB1e+PrdvVzl08uL96/c73OTMEUMO/THs5nL2LzU67tDJS1UnLhzVGi41O3b++UQdPR2OfQQcFHC/J78/RQEFlEAA8bFRo5IHD0uIEY1NmZRJTx2XEqjPATHpveO5LZptFVdz6dmPh+NUNgDIzqDPNDW3d3YrVk7vw0S6Gh0370UVH2SKxMZEfvPngpBpMYKHnV80/OdIg/aHFq6l09xm6bC4nsyH8AW2+uX9F1BUVKQgOkowJDYqYXB0bHTEz0YNyR2bIkwb4tM+AlF4r1mydkfM4MRxY0b+3/ybeCWs0XF3rykXUBRFWbutFAAkD42pemO+V1r6vor9w7ZqS5cVACIEVPc1tf/3mrtuG1AdxYHLf6vPNxnaP9ec1Zva6/Xmto5uviPQNyi78pvg8ceCoigBRUVGUDHREXRcTEJc1JjUOEogAIBJYxLvmXpDn0OJiMJ7DaZYcU5Ev/RPh/aqG602qruNi4ilAUA4YuiedXM81Pk3Pz6xYefVhI32WV+fvPcmmThIJ1eHCYdOXqw4+kO9vuUHru3c5VaupaOnif3O9K9d4EB0ZER0pGBQdMTgQVHxsZFDBkVmpMYPTxyUOy552vhhLl88ovBeUKPjntuiOaYzWC1t/zcn7ZWifIetd68pdzgkflDU+8/OdG+kNV5sFb+6v17fgn/abDb+Lbn39vS/rhh402DDAZPZ8uXJi1Un9YdPXbzc3HGpuR1Ns/6i1y+Fh04HAIiMEERFCAbFRMTFRDac/ubF5fc/7k0qxPBV+LlrVLofmi98uy8qeWxkwqgjb/3CwbL6fcnXHx3QRUZQNqD4UFCKom6fMOzvv5/h8MU1mS31+pY//+fU7q+uzri0V3UAyB2XUvbSbJ/+IoIveHfP6S9PXrzU3H7R1GG40tFh6bbZbFabF/Y8v+y5rqF6exh94NVsy/BV+JEPlxZMGfqP4sfpUeMFN/9mw9Jch7E3k9lyx6rPMPwrQmDDzjxCUVRUpCBhcNSYEfGjU+IPnbjwA9fGb+VVnX9gsyaN/FB6h09/DsHPoFFw8qzpQO2FS6Z2vamjs6vbarV1dVsd3LR94Nr7A1arR2rvechm+Cr8BMknkd1XzlT8bfzUuRcix7os+VKj4365tsK9v9cBXtv5ousLZ47Z9Lup/Sg5IfgxmS1lR87WXWipqeO4lo7W9q6WdktrR3enxdrZ5cXr5CFE4Xvnb3u/f3HbN7jsxihqvNh6z8v79MY2l1tdguYYAERGCH5/703P3HfT9UtLCEneV7Hq7y+xP1xp6+hq6+w2XOns7Oru6rZ5NaFocmaS56mZfKXw7ovDAgAWlkHEYrGfs9aWHTn73Ba10dwJADemdP7v7Ufc7//S9mOb9562enOviBlPuE4a9Obzl1u/P3/l5FnTuUtmk9liau1s67Reae1s7+y22mxtzYZFP5+y9pEpng8Y+0rh3ReHBYCioiKO4zBTtXMxKV8r/G1P7UmMix5iVJ+6GHEpMgNj7Nwf8m298fG/HsFiDPagd8V+zbCEQZ+uZXydp4VACJZYeqwqj8uYed5Z4Wma9l1pul6p17cUFExYvUiGw28YRe/+kIkZifuL727Qm5/bojlnaG0ytLV3dndbrajtsTGRuT9LvmPi8Ft/lkziaghBi08U3sPisFgQDwCcW3ibzYZbfZTKOiM1fnuFNiM1DqvEep41JT01bsfzd9qvOVirT4iL8k/eFQIBrhV0AIDubq/9f4GcLYclKLBGtVgstt/EKzzDMP2u8CazJTsjcY+6EWuzr1k06XrUdeBmmCYMUFiWRe2weh8p7JM+vEwm02g0bmpF2qNSqWQyGdaZ4/FpHx7nzKRFNDWYIiLjU51DbgiEAUEf+vACX8jRa5us0WgKCwvt//SFGD1RdqTx17OzxkeeaT78LgBsq3Dd4yAQQg+fKDzDMLzTTqPR8Oa6SqXi+/P8R8HZnvc1CXHRn1efH3vXsne3/gsAMkjzTggbfNXCi8VihULBcZxCoeDH4bEsPFzrvWs0Ghyud/bh+46/lJ2q17fojW1/2/vdC1trsjPogmmjez+MQAgJfBhp56Y4LIKjd84uevBlH/62p/ZkpMYNb63+qim2vi3p2YUTn7lvoi8uRCD4mmAZh0d6HVFziK7zD1xLx5DYqP0Hv29urEmcsXJQVIT/ZSAQAkV4JbE8WKtvbrXU1nOC9FkJo+8EAGLPE8IKn/Thg5ZNZSeH07GZQ80WYyNFCe69PYMMyBHCijBq4Rv05q+vFjONs3U1AcANKSTcnRBehFEL/8qOGpzuZjE2RqeMBW8iagmE0CBcFN5ktnzxrR5TWUQOTQOA6Tel9iHzNIEwoAkXhd9Udopr6QCAyLYLlCACAGZPGhFooQgEfxMWCm8yW95XncHlrtjhADAyabBXuT4JhNAgLBT+1Y9qrrRZAODO7Kut+sIZGQGViEAIDKGv8A168wf7dbh8oPYHABgSG7WCNO+EsCTEFd5kttz/6n5MCUh1d1i7OgFgCTOWlHYjhCchPg7/6J+qGi+aASB+UGRLOwgAkuKjSfNOCFtCuYV/bovm0Ak9zSFSXAAABhVJREFULre0d0VHRQDAQ3dlkeadELaEbAv/u02HP/mygf8zMkLQaenOzqBXL7o5gFIRCIElNBV+3ov7jmov47JAYLNaqa5ua8LgqH+tnhVQuQiEABNqCn/45MWH3zjY2t6Ff0YIKKzhQVG20hdmEWOeEOaEjsIfOnlx1WY1+8MVfo2AorqvlfV79dfXlZqWQAgNBrbCf1tvVH3T9NHBurOXzA4FvSmKwqkyNpvtuV9l/ebuCQGSkUAIIoJR4Q/W6uOmLn/o9YPzc0cBwB71Oa6lY0xqPDMl7eC3F76tN7Z1dhvNnYYrHW7yc+Emm7X7JXHm7+7L9Z/0BEIQE7DqsT1Vm1y/4/imspP9conIrtZ/PpNz59RJ/XI2AiHYCJa89J4gk8mkUikWluEryZrMFtT2zrNHHrgzk995/A0J/DIzJU1AUViDnfppFUcegYAan3jluOK+nrSdZVk+kXbA4Tiup2pcAcHPZQLcQ56UG7q6urw9JDAK71Btkq9FV69vwQXLhW/Tkn9MRzMvdxS/nDw0BhcErrRdYLPekT38xLv37v/L0sSEoT0JoFAogue11mg0CoUi0FL8iH0l74BDnpQb2travD0kMArfU7XJSZn05MykyAjB4CmP/HnXcYqyUZSNoqiNu05S1NWuh/Iga7XZbDYb/o8rY2Miu5rPZ3Z+vXYulD6fR4bfCASXBKYP76b4XI2OW7/jOE5r62o1UBQVEXt1OK3LeBYAqEFDwGrtar0kiIyxdlyx6E9adBW2zitARYDN02KaVquVutYvCDg2m81mswkEwRLm3N3dHRERLNm7yZNyxmq1YhlJgUBgsVi8OjbovPSTMumPflqPmUAg9BeB+Vb5ouQ7gUDolcAofE/VJgkEgk8J2Di8XC6naVosFstkMolE4uuyUz0N+/PYu6bFYrHv5NFoNHK5vLS0tG9y+lkev90WlASHbziOk0qlziUJ/XlzehXGn3cG5UHfNv72vt8cW+DQarXl5eUGg8EP1xKLxbhQWloqlUqdd5BIJGKxWCKRlJeX+06MkpIStVrt5rb3Kqef5fHPbbHZbFqttqSkBJelUqlEInHex283xxNh/HZnEIZhtFqtG3k8vDmBVHi/oVarGYbh/xQKhc77+EG7eHpSME/k9Kc8Nj/elvLycpqm+WVnkfx5c3oVxubfF8Zms0kkEjcK7/nNCTovvS/oadjfAZVKhQsuK1j7AQ/l9DP+uS0ikYgfpmVZ1tmt68+b06swiD9fmJKSEgDgOE6lUuGyPZ7fnGAZ+w0GRCIRwzAqlcrh9oU5/rktNE3z3WClUllcXOy7a/WXMH5+YdDbwjDM9fgLiMJfpbi4GB0hDMPI5fJAixMs+P+2yGQysVgcJAM3boTx/50RiUT46SkqKurzScJC4Xsd9tdoNIWFhfZ/+lgi1wRbeIL/b4tSqWQYRiKROBul/r85boTx853Bth2XGYZxjuf3/OaEhcL3NOyvUqn4Z8nfMo7j/Ny88GIESXhCoG6LSqUSCoXYH+a7x4G6Oe6FAb/fGV7JWZblx+T6cnN85FQMNoqLi0tKSgwGg0QiUavVuFIsFhcXF/M7qNVqrVYrFovRHeoLSkpKcIxUKpXywzkOYjjL6Ts8kccPt8Vms2m1WvuxZX6QKSA3x0Nh/HNnbDabwWCQSqV4OYZhSktLXcrjyc0JWOCN/2FZlmVZkUjkHLSAYKBFoFz0PL3K6WeC5LYgQXVz/Hxn8HJufrsnNyeMFJ5AIIRFH55AICBE4QmEMIIoPIEQRhCFJxDCiLCIpSd4gkwmw1ATmqY1Go1KpcIRO5ZlVSpVaWlpkDjqCdcDUXjCj2i1WlyQyWQcx/Ex5DKZLBiGwQjXDzHpCQAASqXSPjxLpVI5tOe+TvBA8A9E4QkAP50fxnGcRqOx13BizIcMJPCG4IhSqSwsLDQYDMSMDz1IC09wBJt3ou0hCVF4giPOHXhCyEAUnvATnDvwhFCCKDzhJ+Dcb9LChypE4Qk/gXTgQxvipScAALAsizlVFAoFFggRCoUSiSTQchH6GaLwBEIYQUx6AiGMIApPIIQRROEJhDDi/wPMAIO5bYWpfQAAAABJRU5ErkJggg==</pre>
</div>
<div title="AutoOpenTiddlersPlugin" modifier="Christopher Wilson" created="201305232355" modified="201404120840" tags="excludeTimeline systemConfig systemConfigDisable" content-type="text/javascript">
<pre>/***
|Name|AutoOpenTiddlersPlugin|
|Created by|SaqImtiaz|
|Location|http://tw.lewcid.org/#AutoOpenTiddlersPlugin|
|Version|0.21|
|Requires|~TW2.x|
!!!Description:
Open a user defined number of recent tiddlers automatically when the TW loads.
You can also specify a tag and only load tiddlers that have that tag.
To change the number of tiddlers automatically opened, or define a tag to use, ed the config.autoOpenTiddlers part of the code below.

!!!To Do
*add an option to exclude tiddlers with a particular tag

!!!Code
***/
//{{{
//edit this section to change the default settings
config.autoOpenTiddlers = 
{
          count: 2,   //number of tiddlers opened.
          tag: undefined //change if you want to open tiddlers with a specific tag, eg: 'DefaultTiddlers'
}


config.autoOpenTiddlers.handler = function()
{
          if (this.tag == undefined)
             var newTiddlers = store.getTiddlers(&quot;modified&quot;);
          else
             var newTiddlers = store.getTaggedTiddlers(this.tag,&quot;modified&quot;);
          var newTiddlers = newTiddlers.reverse();
           var max = Math.min(this.count,newTiddlers.length-1);
          for (var i=max; i&gt;=0; i--)
               { story.displayTiddler(null,newTiddlers[i].title);} 
}

window.old_lewcid_autoOpenTiddlers_restart = restart;
restart = function ()
{
        window.old_lewcid_autoOpenTiddlers_restart();
        config.autoOpenTiddlers.handler();
}
//}}}</pre>
</div>
<div title="AutoRefreshPlugin" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405160618" tags="systemConfig excludeTimeline" content-type="text/x-tiddlywiki" changecount="2">
<pre>/***
|''Name:''|AutoRefreshPlugin|
|''Version:''|1.0.1 (2007-01-20)|
|''Type:''|plugin|
|''Source:''|http://tiddlywiki.abego-software.de/#AutoRefreshPlugin|
|''Author:''|Udo Borkowski (ub [at] abego-software [dot] de)|
|''Documentation:''|[[AutoRefreshPluginInfo]]|
|''Licence:''|[[BSD open source license (abego Software)|http://www.abego-software.de/legal/apl-v10.html]]|
|''~CoreVersion:''|2.1.3|
|''Browser:''|Firefox 1.5.0.9 or better; Internet Explorer 6.0|
A tiddler containing the {{{&lt;&lt;autoRefresh...&gt;&gt;}}} macro is automatically refreshed (re-painted) whenever a tiddler changes.
!Syntax
{{{
&lt;&lt;autoRefresh [observeTiddler: tiddler ...]&gt;&gt;
}}}
|{{{observeTiddler}}}|(optional) when specified the refresh will only happen when one of the tiddlers specified is changed.|
!Source Code
***/
//{{{

if (!window.abego) window.abego = {};

// autoRefresh Macro =============================================================
//
(function() {


var REFRESHER_NAME = &quot;abego_onEveryChange&quot;;

var tiddlersToRefresh = {}; // A set holding the names of tiddlers to be refreshed

var onEveryChangeRefresher = function(e,changeList) {
	
	var tiddlerElem = story.findContainingTiddler(e);
	if (!tiddlerElem) return false;

	var title = tiddlerElem.getAttribute(&quot;tiddler&quot;);
	if (!title) return false;

	// if &quot;observeTiddler&quot; are specified we only refresh if one of the given 
	// tiddlers has changed.
	var observedTiddlers = e.getAttribute(&quot;observedTiddlers&quot;);
	if (observedTiddlers) {
		var a = observedTiddlers.readBracketedList();
		if (!changeList || !a.containsAny(changeList))
			return;
	}

	// Refresh the tiddler asynchronously. 
	// This way we can avoid repeated refreshes (e.g. when a tiddler is renamed)
	tiddlersToRefresh[title] = true;
	setTimeout(function() {
		// Refresh all tiddlers in tiddlersToRefresh
		for(var title in tiddlersToRefresh)
			story.refreshTiddler(title,null,true);

		// We have refreshed all pending tiddlers. Clear the set.
		tiddlersToRefresh = {};
	}, 0);

	return true;
}

config.refreshers[REFRESHER_NAME] = onEveryChangeRefresher;


config.macros.autoRefresh = {};

config.macros.autoRefresh.handler = function(place,macroName,params,wikifier,paramString,tiddler) {
    params = paramString.parseParams(&quot;observeTiddler&quot;,null,true,false,true); // allowEval, cascadeDefaults, names allowed

	var e = createTiddlyElement(place,&quot;span&quot;);
	e.setAttribute(&quot;refresh&quot;,REFRESHER_NAME);
	var observedTiddlers = params[0][&quot;observeTiddler&quot;];
	if (observedTiddlers &amp;&amp; observedTiddlers.length) {
		var s = &quot;[[&quot;+observedTiddlers.join(&quot;]] [[&quot;)+&quot;]]&quot;;
		e.setAttribute(&quot;observedTiddlers&quot;,s);
	}
};


})();

//}}}</pre>
</div>
<div title="AutoRefreshPluginInfo" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405160618" tags="plugininfo excludeTimeline" content-type="text/x-tiddlywiki" changecount="2">
<pre>A tiddler containing the {{{&lt;&lt;autoRefresh...&gt;&gt;}}} macro is automatically refreshed (re-painted) whenever a tiddler changes. 

!Syntax
{{{
&lt;&lt;autoRefresh [observeTiddler: tiddler ...]&gt;&gt;
}}}
|{{{observeTiddler}}}|(optional) &lt;&lt;br&gt;&gt;when specified the refresh will only happen when one of the tiddlers specified is changed.&lt;&lt;br&gt;&gt;When no &quot;observerTiddler&quot; is specified every tiddler change triggers a repaint/refresh|

!Usage
You may add this macro to a tiddler T when the content displayed by T depends on other tiddlers, e.g. when using the ForEachTiddlerPlugin or the PartTiddlerPlugin.

!!Example 1: Keep forEachTiddler List up-to-date'
{{{
&lt;&lt;forEachTiddler where 'tiddler.title.startsWith(&quot;function&quot;)'&gt;&gt;
&lt;&lt;autoRefresh&gt;&gt;
}}}
I.e. the tiddler lists all tiddlers that start with &quot;function&quot; using the ForEachTiddlerPlugin.
 
By adding the {{{&lt;&lt;autoRefresh&gt;&gt;}}} the list is automatically updated whenever a tiddler is changed (e.g. when a new &quot;function...&quot; tiddler is added or an existing one is deleted).

!!Example 2: Always display most recent part content
The tiddler &quot;Example 2&quot; has this content:
{{{
!Topics
&lt;&lt;tiddler Summary/Topics&gt;&gt;
!Authors
&lt;&lt;tiddler Summary/Authors&gt;&gt;
&lt;&lt;autoRefresh observeTiddler: Summary&gt;&gt;
}}}
I.e. &quot;Example 2&quot; displays the text of the two parts &quot;Topics&quot; and &quot;Authors&quot; of the tiddler &quot;Summary&quot; (see PartTiddlerPlugin). 

To ensure always the latest content of these parts are displayed (even when the tiddler &quot;Summary&quot; is changed after tiddler &quot;Example 2&quot; is displayed) add {{{&lt;&lt;autoRefresh observeTiddler: Summary&gt;&gt;}}} to the tiddler. Now the tiddler &quot;Example 2&quot; is automatically repainted whenever the (observed) tiddler &quot;Summary&quot; changes.</pre>
</div>
<div title="Averaged Null Energy Condition" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405060639" tags="[[Topology Paper]]" changecount="1" content-type="text/x-tiddlywiki">
<pre>A spacetime satisifies the //Averaged Null Energy Condition (ANEC)// if the integral of $T_{\mu\nu}k^\mu k^\nu$ is non-negative along every inextendible null geodesic with [[Affine Parameter]] $\lambda$ and corresponding tangent $k^\mu$: $\int d\lambda\,T_{\mu\nu}k^\mu k^\nu\geq 0.$&lt;&lt;bibtex PhysRevLett.71.1486&gt;&gt;</pre>
</div>
<div title="BackstageSidebarPlugin" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405052224" modified="201405052240" tags="systemConfig excludeTimeline" changecount="8" content-type="text/x-tiddlywiki">
<pre>/***
|''Name:''|BackstageSidebarPlugin|
|''Description:''|Moves the sidebar to the backstage, as suggested at http://www.tiddlywiki.org/wiki/Dev:Backstage#Customization|
|''Author''|JonathanLister|
|''CodeRepository:''|n/a |
|''Version:''|0.1|
|''Comments:''|Please make comments at http://groups.google.co.uk/group/TiddlyWikiDev |
|''License''|[[BSD License|http://www.opensource.org/licenses/bsd-license.php]] |
|''~CoreVersion:''|2.4|

Make more backstage tabs:
{{{
	config.tasks.myTab = {
        text: &quot;myTab&quot;, tooltip: &quot;A custom backstage tab&quot;, content: &quot;&lt;html&gt;&lt;&lt;selectPalette a&gt;&gt;&lt;&lt;setIcon2 fa-cogs&gt;&gt;&lt;/html&gt;&quot;
};
config.backstageTasks.push(&quot;myTab&quot;);
}}}
***/

//{{{
if(!version.extensions.BackstageSidebarPlugin) {
version.extensions.BackstageSidebarPlugin = {installed:true};

config.tasks.sidebar = {
	text: &quot;sidebar&quot;,
	tooltip: &quot;sidebar options&quot;,
	content: &quot;&lt;&lt;tiddler SideBarOptions&gt;&gt;&lt;&lt;tiddler SideBarTabs&gt;&gt;&quot;
};
config.backstageTasks.push(&quot;sidebar&quot;);

config.macros.BackstageSidebarPlugin = {
	tiddler:tiddler
};

config.macros.BackstageSidebarPlugin.init = function() {
	var tiddler = this.tiddler;
	setStylesheet(store.getTiddlerText(tiddler.title+'##Stylesheet'),'BackstageSidebarPlugin');
};
	config.tasks.myTab = {
        text: &quot;myTab&quot;, tooltip: &quot;A custom backstage tab&quot;, content: &quot;&lt;html&gt;&lt;&lt;selectPalette a&gt;&gt;&lt;&lt;setIcon2 fa-cogs&gt;&gt;&lt;/html&gt;&quot;
};
config.backstageTasks.push(&quot;myTab&quot;);
	


} //# end of 'install only once'
//}}}

/***
!Stylesheet

#sidebar {
	display:none;
}

!(end of Stylesheet)
***/</pre>
</div>
<div title="BibTeXPluginStyleSheet" modifier="Christopher Wilson" created="201404080022" modified="201404092049" tags="excludeTimeline">
<pre>/*{{{*/
a.bibtexhandle { position: relative; }
a.bibtexhandle span.bibtexbox {
  font-size: 6pt;
  display: none;
  position: absolute;
  z-index: 10;
  left: -100%;
  width: 300%;
  padding: 5px;
  border:0px solid [[ColorPalette::SecondaryMid]];
  background: [[ColorPalette::SecondaryLight]];
  color:[[ColorPalette::Foreground]]; }
/*}}}*/</pre>
</div>
<div title="BibTeXPluginTemplate" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404142212" modified="201404150648" tags="excludeTimeline" changecount="15" content-type="">
<pre>```${AUTHOR}, ${TITLE}//${EDITION?, //${EDITION}.&amp;nbsp;ed.//}, ${EDITOR?Editor:&amp;nbsp;${EDITOR}, }${JOURNAL?${JOURNAL}, ?${PUBLISHER,${EDITOR?//}${PUBLISHER}${EDITOR?//}, }} ''${YEAR}''${VOLUME?, vol.&amp;nbsp;${VOLUME}}${CHAPTER?, ch.&amp;nbsp;${CHAPTER}}${PAGES?, pp.&amp;nbsp;${PAGES}}${ISBN?, ${ISBN}} (${URL?[[online|${URL}]]}${LOCAL?, [[local|${LOCAL}]]})```</pre>
</div>
<div title="BibTexDemo" modifier="Christopher Wilson" created="201305261534" modified="201404092110" tags="excludeTimeline">
<pre>After setting up a [[BibTeX|http://www.bibtex.org]] source in [[Bibliography]], you can insert a reference using {{{&lt;&lt;bibtex Purcell1946&gt;&gt;}}}. It will show up in a footnote via the [[FootnotesPlugin]] like this: &lt;&lt;bibtex Purcell1946&gt;&gt;^^,^^&lt;&lt;bibtex munkres2000topology&gt;&gt;
	</pre>
</div>
<div title="BibTexPlugin" modifier="Christopher Wilson" created="201305240437" modified="201405150346" tags="systemConfig excludeTimeline" changecount="14" content-type="">
<pre>/***
Note: This plugin is modified from its original version so that the {{{&lt;&lt;bibtex&gt;&gt;}}} macro always produces an inline entry within a footnote. So, this plugin has been integrated with and relies on the [[FootnotesPlugin]].  See [[BibTexDemo]] for a usage demo.

Additional tiddlers may be use as bibliography files by appending the line 
{{{bibdata = store.getTiddlerText(&quot;Bibliography&quot;)}}} to the form 
{{{bibdata = store.getTiddlerText(&quot;Bibliography&quot;) + store.getTiddlerText(&quot;test.bib&quot;)}}} in the below code.

|Name         | BibTeXPlugin |h
|Description  | Plugin for easy integration of BibTeX with TiddlyWiki |
|Version      | 0.9.2 (beta) |
|Date         | 2012-09-12 |
|Source       | https://github.com/downloads/jonkje/bibtexplugin/dev.html#BibTeXPlugin |
|Author | Jon yvind Kjellman |
|License | [[MIT|http://opensource.org/licenses/mit-license.php]] |
|~CoreVersion | 2.6.5 |
|Browser | Tested on Opera 11.61 and Firefox 15 |
!!Introduction
This plugin allows a BibTeX bibliography to be integrated into your TiddlyWiki. It can load the bibliography either from an external //.bib// file or from a tiddler named [[Bibliography]]. Each entry is formatted according to the template in BibTeXPluginTemplate and can be rendered by two different macros. These macros are: &quot;&quot;&quot;&lt;&lt;&quot;&quot;&quot;bibtex&amp;nbsp;//key//&quot;&quot;&quot;&gt;&gt;&quot;&quot;&quot; and &quot;&quot;&quot;&lt;&lt;&quot;&quot;&quot;bibliography&quot;&quot;&quot;&gt;&gt;&quot;&quot;&quot;.
!!Loading the bibliography
The plugin first looks in BibTeXPluginFilename for the location of a BibTeX file. If none is found it will use the content of [[Bibliography]] as source for the bibliography. ''Note!'' loading from local file system is generally disabled in browsers due to security reasons, but can usually be enabled if desired.
!!!Template syntax
The plugin renders each entry according to the template in [[BibTeXPluginTemplate]]. The syntax for this is quite simple:
&lt;&lt;&lt;
* {{{${SOMEKEY} }}}is replaced by the value of //SOMEKEY// (e.g. AUTHOR, TITLE, JOURNAL, etc.)
* {{{${SOMEKEY?A?B} }}}is a conditional statment:
** If //SOMEKEY// ''is'' defined then the expression is replaced by //A//
** If //SOMEKEY// ''is not'' defined then the expression is replaced by //B//
** Conditionals may be nested (i.e. one inside another)
* The characters {{{?}}},{{{ {}}},{{{ } }}}and {{{\}}} are special and must be escaped by a backslash (i.e. {{{\?}}},{{{ \{}}},{{{ \} }}}and {{{\\}}}) if they can be interpreted as part of one of the above statements.
* Any other text is interpreted as TiddlyWiki mark-up.
&lt;&lt;&lt;
!!!Style
The CSS style of the entries rendered with the &quot;&quot;&quot;&lt;&lt;&quot;&quot;&quot;bibtex //key//&quot;&quot;&quot;&gt;&gt;&quot;&quot;&quot; macro can be changed by editing BibTeXPluginStyleSheet. The fundamental HTML structure is:
&lt;&lt;&lt;
{{{(&lt;a class=&quot;bibtexhandle&quot;&gt;&lt;span class=&quot;bibtexbox&quot; style=&quot;display: none&quot;&gt; ... BibTeX entry ... &lt;/span&gt;
BibtexKey&lt;/a&gt;)}}}
&lt;&lt;&lt;
!!bibtex macro
;Usage
:&quot;&quot;&quot;&lt;&lt;&quot;&quot;&quot;bibtex //key// [//inline//]&quot;&quot;&quot;&gt;&gt;&quot;&quot;&quot;
;Parameters
:{{dummycss{
* //key//: the key of the BibTeX entry you'd like to render.
* //inline//: if this keyword is used, the entry will be rendered in-line with the text.
}}}
;Function
:Renders a single entry from the BibTeX source. The entry is rendered in a block which visibility is toggled by clicking the entry name.
!!bibliography macro
;Usage
:&quot;&quot;&quot;&lt;&lt;&quot;&quot;&quot;bibliography&quot;&quot;&quot;&gt;&gt;&quot;&quot;&quot;
;Function
:Renders a list of all BibTeX entries in the order they appear in the BibTeX source.

!!DefaultStyleSheet
a.bibtexhandle { position: relative; }
a.bibtexhandle span.bibtexbox {
  display: none;
  position: absolute;
  z-index: 10;
  left: -100%;
  width: 300%;
  padding: 5px;
  border:1px solid [[ColorPalette::SecondaryMid]];
  background: [[ColorPalette::SecondaryLight]];
  color:[[ColorPalette::Foreground]]; }
!!DefaultTemplate
```${AUTHOR}, ${TITLE}//${EDITION?, //${EDITION}.&amp;nbsp;ed.//}, ${EDITOR?Editor:&amp;nbsp;${EDITOR}, }${JOURNAL?${JOURNAL}, ?${PUBLISHER,${EDITOR?//}${PUBLISHER}${EDITOR?//}, }} ''${YEAR}''${VOLUME?, vol.&amp;nbsp;${VOLUME}}${CHAPTER?, ch.&amp;nbsp;${CHAPTER}}${PAGES?, pp.&amp;nbsp;${PAGES}}${ISBN?, ${ISBN}}    ${URL?([[online version|${URL}]])}//```
!!Code
***/
//{{{
console.log(&quot;2&quot;)
// Plugin namespace
var plugin = config.extensions.BibTeXPlugin = {}
//}}}
/***
!!!!BibTeX parser code
Originally released as [[bibtex-js|http://code.google.com/p/bibtex-js/]]. Copyright 2010 Henrik Mhe under the [[MIT license|http://opensource.org/licenses/mit-license.php]].
***/
//{{{
/* Parser issues:
     - no comment handling within strings
     - no string concatenation
     - no variable values yet

   BibTeX grammar implemented here (roughly):
     bibtex -&gt; (string | preamble | comment | entry)*
     string -&gt; '@STRING' '{' key_equals_value '}'
     preamble -&gt; '@PREAMBLE' '{' value '}'
     comment -&gt; '@COMMENT' '{' value_comment '}'
     entry -&gt; '@' key '{' key ',' key_value_list '}'
     key_value_list -&gt; key_equals_value (',' key_equals_value)*
     key_equals_value -&gt; key '=' value
     value -&gt; value_quotes | value_braces | key
     value_comment -&gt; .*? // or something??
     value_quotes -&gt; '&quot;' .*? '&quot;'; // not quite
     value_braces -&gt; '{' .*? '&quot;'; // not quite */
plugin.BibtexParser = function () {
    this.pos = 0
    this.input = &quot;&quot;
    
    this.entries = {}
    this.strings = { JAN: &quot;January&quot;,
	            FEB: &quot;February&quot;,
	            MAR: &quot;March&quot;,      
	            APR: &quot;April&quot;,
	            MAY: &quot;May&quot;,
	            JUN: &quot;June&quot;,
	            JUL: &quot;July&quot;,
	            AUG: &quot;August&quot;,
	            SEP: &quot;September&quot;,
	            OCT: &quot;October&quot;,
	            NOV: &quot;November&quot;,
	            DEC: &quot;December&quot; }
    this.currentKey = &quot;&quot;
    this.currentEntry = &quot;&quot;

    this.isWhitespace = function(s) { return (s == ' ' || s == '\r' || s == '\t' || s == '\n') }

    this.currentIsEscaped = function() {
	var slashcount = 0
	for(var	p = this.pos-1; p &gt;= 0; p--) {
	    if(this.input[p] == '\\') {
		slashcount++
	    } else {
		break
	    }
	}
	return (slashcount % 2 == 1)
    }

    this.match = function(s) {
	this.skipWhitespace()
	if (this.input.substring(this.pos, this.pos+s.length) == s) {
	    this.pos += s.length
	} else {
	    throw &quot;Token mismatch, expected &quot; + s + &quot;, found &quot; + this.input.substring(this.pos)
	}
	this.skipWhitespace()
    }

    this.tryMatch = function(s) {
	this.skipWhitespace()
	if (this.input.substring(this.pos, this.pos+s.length) == s) {
	    return true
	} else {
	    return false
	}
	this.skipWhitespace()
    }

    this.skipWhitespace = function() {
	while (this.isWhitespace(this.input[this.pos])) {
	    this.pos++
	}
	if (this.input[this.pos] == &quot;%&quot;) {
	    while(this.input[this.pos] != &quot;\n&quot;) {
		this.pos++
	    }
	    this.skipWhitespace()
	}
    }

    this.value_comment = function() {
	var bracecount = 0
	var start = this.pos
	while(true) {
	    if (this.input[this.pos] == '}' &amp;&amp; !this.currentIsEscaped()) {
		if (bracecount &gt; 0) {
		    bracecount--
		} else {
		    var end = this.pos
		    return this.input.substring(start, end)
		}
	    } else if (this.input[this.pos] == '{' &amp;&amp; !this.currentIsEscaped()) {
		bracecount++
	    } else if (this.pos == this.input.length-1) {
		throw &quot;Unterminated value&quot;
	    }
	    this.pos++
	}
    }

    this.value_braces = function() {
	this.match(&quot;{&quot;)
	var val = this.value_comment()
	this.match(&quot;}&quot;)
	return val
    }

    this.value_quotes = function() {
	this.match('&quot;')
	var val = this.value_comment()
	this.match('&quot;')
	return val
    }
    
    this.single_value = function() {
	var start = this.pos
	if (this.tryMatch(&quot;{&quot;)) {
	    return this.value_braces()
	} else if (this.tryMatch('&quot;')) {
	    return this.value_quotes()
	} else {
	    var k = this.key()
	    if (this.strings[k.toUpperCase()]) {
		return this.strings[k]
	    } else if (k.match(&quot;^[0-9]+$&quot;)) {
		return k
	    } else {
		throw &quot;Value expected:&quot; + this.input.substring(start)
	    }
	}
    }
    
    this.value = function() {
	var values = []
	values.push(this.single_value())
	while (this.tryMatch(&quot;#&quot;)) {
	    this.match(&quot;#&quot;)
	    values.push(this.single_value())
	}
	return values.join(&quot;&quot;)
    }

    this.key = function() {
	var start = this.pos
	while(true) {
	    if (this.pos == this.input.length) {
		throw &quot;Runaway key&quot;
	    }
	    
	    if (this.input[this.pos].match(&quot;[a-zA-Z0-9_:\\./-]&quot;)) {
		this.pos++
	    } else {
		return this.input.substring(start, this.pos).toUpperCase()
	    }
	}
    }

    this.key_equals_value = function() {
	var key = this.key()
	if (this.tryMatch(&quot;=&quot;)) {
	    this.match(&quot;=&quot;)
	    var val = this.value()
	    return [ key, val ]
	} else {
	    throw &quot;... = value expected, equals sign missing:&quot; + this.input.substring(this.pos)
	}
    }

    this.key_value_list = function() {
	this.entries[this.currentEntry][&quot;KEY&quot;] = this.currentEntry
	var kv = this.key_equals_value()
	this.entries[this.currentEntry][kv[0]] = kv[1]
	while (this.tryMatch(&quot;,&quot;)) {
	    this.match(&quot;,&quot;)
	    if (this.tryMatch(&quot;}&quot;)) {
		break
	    }
	    kv = this.key_equals_value()
	    this.entries[this.currentEntry][kv[0]] = kv[1]
	}
    }

    this.entry_body = function() {
	this.currentEntry = this.key()
	this.entries[this.currentEntry] = new Object();    
	this.match(&quot;,&quot;)
	this.key_value_list()
    }

    this.directive = function () {
	this.match(&quot;@&quot;)
	return &quot;@&quot;+this.key()
    }

    this.string = function () {
	var kv = this.key_equals_value()
	this.strings[kv[0].toUpperCase()] = kv[1]
    }

    this.preamble = function() {
	this.value()
    }

    this.comment = function() {
	this.value_comment()
    }

    this.entry = function() {
	this.entry_body()
    }

    this.bibtex = function() {
	while(this.tryMatch(&quot;@&quot;)) {
	    var d = this.directive().toUpperCase()
	    this.match(&quot;{&quot;)
	    if (d == &quot;@STRING&quot;) {
		this.string()
	    } else if (d == &quot;@PREAMBLE&quot;) {
		this.preamble()
	    } else if (d == &quot;@COMMENT&quot;) {
		this.comment()
	    } else {
		this.entry()
	    }
	    this.match(&quot;}&quot;)
	}
    }
}
//}}}
/***
!!!!Template parser
***/
//{{{
plugin.Template = function(template_str) {
    this.StringElement = function(str, next) {
	this.str  = typeof str  === undefined ? &quot;&quot; : str
	this.next = typeof next === undefined ? null : next
              this.str = this.str.replace(/\\([\\?\{\}])/g, &quot;$1&quot;)
    }

    this.KeyElement = function(key, next) {
	this.key  = key
	this.next = typeof next === undefined ? null : next
    }

    this.ConditionalElement = function(condition, next_exist, next_noexist) {
	this.condition    = condition
	this.next_exist   = next_exist
	this.next_noexist = next_noexist
    }

    this.isEscaped = function(str, pos) {
	var slashcount = 0
	while(--pos &gt;= 0) {
	    if(str[pos] == '\\') {
		slashcount++
	    } else {
		break
	    }
	}
	return slashcount &gt; 0 &amp;&amp; slashcount % 2 == 1
    }

    // Parses a template string recursively, returning a chain of
    // elements (Key, String and/or Conditional) with the last
    // element(s) linking to tail.
    this.parseString = function(str, tail) {
	var prefix = null
	
	// For proper handling of empty strings in conditionals.
	if(str === &quot;&quot; &amp;&amp; tail !== null) { return new this.StringElement(&quot;&quot;, tail) }
	
	// Prefix string
	for(var parsepos = 0; true; parsepos++) {
	    if(str[parsepos] == '$' &amp;&amp; str[parsepos+1] == '{' &amp;&amp; !this.isEscaped(str, parsepos)) {
		if(parsepos &gt; 0) {
		    prefix = new this.StringElement(str.substring(0, parsepos), tail)
		}
		break
	    }
	    
	    // End of string, it must be a pure text string!
	    if(parsepos &gt;= str.length-3) { return new this.StringElement(str, tail) }
	}

	// Find element delimiters (',' and '}')
	parsepos += 2
	var sepcnt = 0
	var seppos   = new Array()
	var bracketcnt = 1
	var startpos   = parsepos
	var endpos     = 0
	
	// Find commas and end of statement
	for(; parsepos &lt; str.length; parsepos++) {
	    if(str[parsepos] == '{' &amp;&amp; !this.isEscaped(str, parsepos)) {
		bracketcnt++
	    } else if(str[parsepos] == '}' &amp;&amp; !this.isEscaped(str, parsepos)) {
		if(--bracketcnt == 0) {
		    endpos = parsepos
		    parsepos++
		    break
		}
	    } else if(str[parsepos] == '?' &amp;&amp; !this.isEscaped(str, parsepos) &amp;&amp; bracketcnt == 1) {
		seppos[sepcnt] = parsepos
		if(++sepcnt &gt; 2) {
		    return new this.StringElement(&quot;Template parse error! (Too many '|' separators)&quot;, tail)
		}
	    }
	}
	
	// Check that the element is complete.
	if(bracketcnt != 0) { return new this.StringElement(&quot;Template parse error! (Unmatched bracket)&quot;, tail) }
	
	// Parse tail of current string
	var innertail = this.parseString(str.substring(endpos+1), tail)
	
	var first_element
	
	switch(sepcnt) {
	case 0:
	    first_element = new this.KeyElement(str.substring(startpos, endpos), innertail)
	    break
	case 1:
	    var cond_element = this.parseString(str.substring(seppos[0]+1, endpos), innertail)
	    first_element = new this.ConditionalElement(str.substring(startpos, seppos[0]).toUpperCase(),
							cond_element,
							innertail)
	    break
	case 2:
 	    var cond_element1 = this.parseString(str.substring(seppos[0]+1, seppos[1]), innertail)
	    var cond_element2 = this.parseString(str.substring(seppos[1]+1, endpos), innertail)
	    first_element = new this.ConditionalElement(str.substring(startpos, seppos[0]).toUpperCase(),
							cond_element1, cond_element2)
	}
	
	if(prefix == null) {
	    return first_element
	} else {
	    prefix.next = first_element
	    return prefix
	}
    }
    
    this.template_head = null
    
    this.parseTemplate = function(template_str) {	
	this.template_head = this.parseString(template_str, null)
	if(this.template_head === null) {
	    this.template_head = new this.StringElement(&quot;&quot;)
	}
    }
    
    this.parseTemplate(template_str)
}

plugin.Template.prototype.tiddlyfy = function(entry) {
    var rtrn_str = &quot;&quot;
    var e = this.template_head
    do {
	if(e instanceof this.StringElement) {
	    rtrn_str += e.str
	    e = e.next
	} else if(e instanceof this.KeyElement) {
	    var val = entry[e.key]
	    if(e.key === &quot;URL&quot; || e.key === &quot;LOCAL&quot;) {
		rtrn_str += val
	    } else {
		rtrn_str += val !== undefined ? &quot;\&quot;\&quot;\&quot;&quot; + val + &quot;\&quot;\&quot;\&quot;&quot; : &quot;&quot;
	    }
	    e = e.next
	} else if(e instanceof this.ConditionalElement) {
	    var val = entry[e.condition]
	    e = val !== undefined ? e.next_exist : e.next_noexist
	}
    } while(e != null)
    
    return rtrn_str
}
//}}}
/***
!!!!Glue and set-up
***/
//{{{
var no_setup_yet = true // Ensure setup is only run once

plugin.loadTemplate = function() {
    if(!no_setup_yet) {
             plugin.template = new plugin.Template(store.getTiddlerText(&quot;BibTeXPluginTemplate&quot;))
    }
}

plugin.loadBibliography = function() {
    if(no_setup_yet) { return }

    // Load bibliography from external file
    var bibfilename = store.getTiddlerText(&quot;BibTeXPluginFilename&quot;)
    var bibdata = &quot;&quot;
   /* if(bibfilename !== &quot;&quot;) {
	jQuery.ajax({url: bibfilename,
		     success: function(data) { bibdata = data; },
		     async: false })
    } */
    if(bibdata == &quot;&quot;) {
	//bibdata = store.getTiddlerText(&quot;Bibliography&quot;) + store.getTiddlerText(&quot;test.bib&quot;)
	  bibdata = store.getTiddlerText(&quot;test.bib&quot;) + store.getTiddlerText(&quot;CriticalPhenomena.bib&quot;) + store.getTiddlerText(&quot;misc.bib&quot;) + store.getTiddlerText(&quot;TopologyPaper.bib&quot;)
    }
    
    plugin.bibtexparser = new plugin.BibtexParser()
    plugin.bibtexparser.input = bibdata
    plugin.bibtexparser.bibtex()
}

// Set-up shadow tiddlers
config.shadowTiddlers[&quot;BibTeXPluginStyleSheet&quot;]
    = [ &quot;/*{{{*/\n&quot;, store.getTiddlerText(tiddler.title + &quot;##DefaultStyleSheet&quot;), &quot;\n/*}}}*/&quot; ].join(&quot;&quot;)
store.addNotification(&quot;BibTeXPluginStyleSheet&quot;, refreshStyles)

config.shadowTiddlers[&quot;BibTeXPluginTemplate&quot;]
    = store.getTiddlerText(tiddler.title + &quot;##DefaultTemplate&quot;)
store.addNotification(&quot;BibTeXPluginTemplate&quot;, plugin.loadTemplate)

config.shadowTiddlers[&quot;BibTeXPluginFilename&quot;] = &quot;&quot;
store.addNotification(&quot;BibTeXPluginFilename&quot;, plugin.loadBibliography)
config.shadowTiddlers[&quot;Bibliography&quot;] = &quot;&quot;
store.addNotification(&quot;Bibliography&quot;, plugin.loadBibliography)

no_setup_yet = false
plugin.loadTemplate()
plugin.loadBibliography()
//}}}
/***
!!!!Macros
***/
//{{{
config.macros.bibtex = {
    handler: function(place, macroName, params) {
	var entry = plugin.bibtexparser.entries[params[0].toUpperCase()]
	var tiddlystr = entry !== undefined ? plugin.template.tiddlyfy(entry) : &quot;No such entry in bibliography!&quot;
	params[1] = &quot;inline&quot;
              var citetop    = params[1] === &quot;inline&quot; ? place : createTiddlyElement(place, &quot;a&quot;, null, &quot;bibtexhandle&quot;, &quot;(&quot;+params[0]+&quot;)&quot;)
              var citeclass = params[1] === &quot;inline&quot; ? null : &quot;bibtexbox&quot;
	var citespan  = createTiddlyElement(citetop, &quot;span&quot;, null, citeclass)
	wikify(tiddlystr, citespan)

              if(citetop !== place) {
                      citetop.onclick = function() { citespan.style.display = citespan.style.display !== &quot;block&quot; ? &quot;block&quot; : &quot;none&quot; }
              }
    }
}

config.macros.bibliography = {
    handler: function(place, macroName, params) {
	var tiddlystr = &quot;&quot;
	for(var k in plugin.bibtexparser.entries) {
	    var entry = plugin.bibtexparser.entries[k]
	    if(entry[&quot;KEY&quot;] !== undefined) {
		tiddlystr += &quot;;\&quot;\&quot;\&quot;&quot; + entry[&quot;KEY&quot;] + &quot;\&quot;\&quot;\&quot;\n&quot;
		tiddlystr += &quot;:{{bibtexdummycss{&quot; + plugin.template.tiddlyfy(entry) + &quot;}}}\n&quot;
	    }
	}
	wikify(tiddlystr, place)
    }
}
//}}}</pre>
</div>
<div title="BidiXColors" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404121851" modified="201404121853" tags="systemPalette excludeTimeline excludeLists" changecount="3" content-type="">
<pre>Name: BidiXColors
Background: #fff
Foreground: #333
PrimaryPale: #FFBFBF
PrimaryLight: #BF2323
PrimaryMid: #BF2323
PrimaryDark: #660000
SecondaryPale: #ffc
SecondaryLight: #fe8
SecondaryMid: #db4
SecondaryDark: #841
TertiaryPale: #eee
TertiaryLight: #ccc
TertiaryMid: #999
TertiaryDark: #666
Error: #ff0000</pre>
</div>
<div title="Binomial Expansion" creator="Christopher Wilson" modifier="Christopher Wilson" created="201410110306" tags="Mathematics" changecount="10" alias="" content-type="text/x-tiddlywiki">
<pre>The expansion of $(1+z)^q$ for $z\in\mathbb{C}$, $q\in\mathbb{Q}\backslash\mathbb{Z}$, and $|z|&lt;1$,  is given by 
$$(1+z)^q = \sum_{n=0}^\infty \frac{z^n}{n!}\prod_{j=0}^{n-1}(q-j).$$
Otherwise, the expansion of $(1+z)^m$ for $z\in\mathbb{C}$, and $m\in\mathbb{Z}$, is given by 
$$(1+z)^m = \sum_{n=0}^m \frac{z^n\,m!}{(m-n)!\,n!}.$$</pre>
</div>
<div title="Blume-Capel model" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404150129" modified="201404150527" tags="[[Critical Phenomena]]" changecount="4" content-type="">
<pre>The ''//Blume-Capel model//'' is a spin-1, [[1-vector model|n-vector model]].  In comparisson to the [[Ising Model]], the Blume-Capel model has three allowable spins, $s_j = 1,0,-1$.

</pre>
</div>
<div title="Bookmarks" modifier="Christopher Wilson" created="201404031937" modified="201404150206" tags="Reference excludeTimeline" changecount="6" content-type="text/x-tiddlywiki">
<pre>!!QFT
*[[Fourier expansion electromagnetic field|http://en.citizendium.org/wiki/Fourier_expansion_electromagnetic_field]]
*[[Helmholtz decomposition|http://en.citizendium.org/wiki/Helmholtz_decomposition]]
*[[Quantization of the electromagnetic field|http://en.citizendium.org/wiki/Quantization_of_the_electromagnetic_field]]
*[[Notes from Sidney Coleman's Physics 253a|http://arxiv.org/abs/1110.5013]]

!!Units
*[[Gaussian vs. SI units in EM|http://www.star.ac.za/course-resources/local/tony-foley/emunits.pdf]]

!!~TiddlyWiki
*[[General TiddlyWiki Syntax|http://tiddlywiki.tiddlyspace.com/TiddlyWiki%20Markup]]
*[[Quick Edit Toolbar + Bookmarks|http://www.tiddlytools.com/quickstart/tiddlyblog.html#QuickEditPackage%20QuickEditPlugin%20QuickEditToolbar%20ContactTheAuthor%20CalendarPlugin%20CommentPlugin%20Credits%20ClickifyPlugin%20BookmarkPackage%20SampleJournal%20SampleFAQ%20SampleBookmark]]
*[[Other Useful Tools|http://www.tiddlytools.com/quickstart/basics.html]]
*[[PDF embedding|http://dl.dropboxusercontent.com/u/1064531/screendmp/empty/TestPdf/TestPdf.html#%5B%5BDifferent%20ways%20to%20embed%20pdfs%20in%20a%20tiddler%5D%5D%20GettingStarted]]
*[[Toolbars|http://tw5toolbar.tiddlyspot.com/]]
*[[Slideshow|http://slideshowplugin.tiddlyspot.com/]]
*[[Printing Flash Cards|http://tiddlywikiguides.org/index.php?title=Printing_to_3x5_cards]]
*[[Slideshows|http://www.math.ist.utl.pt/~psoares/addons.html]]
*[[embedding Fonts|http://fonts.tiddlyspace.com/]]
*[[Heavy Customization|http://ambit.tiddlyspace.com/#]]
*[[math functionality|http://charts.tiddlyspace.com/]]

</pre>
</div>
<div title="Box Topology" modifier="Christopher Wilson" created="201402272135" modified="201404082210" tags="[[Common Topologies]]">
<pre>!!Definition
Let $\{X_\alpha\}_{\alpha \in J}$ be an indexed family of topological spaces.  Let us take a basis for a topology on the product space $$\prod_{\alpha \in J} X_\alpha$$
the collection of all sets of the form $$\prod_{\alpha \in J} U_\alpha,$$ where $U_\alpha$ is open in $X_\alpha, \forall\; \alpha \in J$.  The topology generated by this basis is called the ''//box topology//''.

!!Notes
*In general, the ''//box topology//'' is finer than the [[product topology|Product Topology]].</pre>
</div>
<div title="BreadcrumbsPlugin" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405161125" tags="systemConfig excludeTimeline" alias="" changecount="6" content-type="text/x-tiddlywiki text/javascript">
<pre>/***
|Name|BreadcrumbsPlugin|
|Author|Eric Shulman|
|Source|http://www.TiddlyTools.com/#BreadcrumbsPlugin|
|Documentation|http://www.TiddlyTools.com/#BreadcrumbsPluginInfo|
|Version|2.1.5|
|License|http://www.TiddlyTools.com/#LegalStatements|
|~CoreVersion|2.1|
|Type|plugin|
|Description|list/jump to tiddlers viewed during this session plus &quot;back&quot; button/macro|
This plugin provides a list of links to all tiddlers opened during the session, creating a &quot;trail of breadcrumbs&quot; from one tiddler to the next, allowing you to quickly navigate to any previously viewed tiddler, or select 'home' to reset the display to the initial set of tiddlers that were open at the start of the session (i.e., when the document was loaded into the browser).
!!!!!Documentation
&lt;&lt;&lt;
see [[BreadcrumbsPluginInfo]]
&lt;&lt;&lt;
!!!!!Configuration
&lt;&lt;&lt;
&lt;&lt;option chkCreateDefaultBreadcrumbs&gt;&gt; automatically create breadcrumbs display (if needed)
&lt;&lt;option chkShowBreadcrumbs&gt;&gt; show/hide breadcrumbs display
&lt;&lt;option chkReorderBreadcrumbs&gt;&gt; re-order breadcrumbs when visiting a previously viewed tiddler
&lt;&lt;option chkBreadcrumbsHideHomeLink&gt;&gt; omit 'Home' link from breadcrumbs display
&lt;&lt;option chkBreadcrumbsSave&gt;&gt; prompt to save breadcrumbs when 'Home' link is pressed
&lt;&lt;option chkShowStartupBreadcrumbs&gt;&gt; show breadcrumbs for 'startup' tiddlers
&lt;&lt;option chkBreadcrumbsReverse&gt;&gt; show breadcrumbs in reverse order (most recent first)
&lt;&lt;option chkBreadcrumbsLimit&gt;&gt; limit breadcrumbs display to {{twochar{&lt;&lt;option txtBreadcrumbsLimit&gt;&gt;}}} items
&lt;&lt;option chkBreadcrumbsLimitOpenTiddlers&gt;&gt; limit open tiddlers to {{twochar{&lt;&lt;option txtBreadcrumbsLimitOpenTiddlers&gt;&gt;}}} items

&lt;&lt;&lt;
!!!!!Revisions
&lt;&lt;&lt;
2012.06.10 2.1.5 refactored default options to eliminate global variable and use init() handling
| Please see [[BreadcrumbsPluginInfo]] for previous revision details |
2006.02.01 1.0.0 initial release
&lt;&lt;&lt;
!!!!!Code
***/
//{{{
version.extensions.BreadcrumbsPlugin = { major: 2, minor: 1, revision: 5, date: new Date(2012,6,10) };
config.macros.breadcrumbs = {
	crumbs: [], // the list of current breadcrumbs
	askMsg: &quot;Save current breadcrumbs before clearing?\n&quot;
		+&quot;Press OK to save, or CANCEL to continue without saving.&quot;,
	saveMsg: 'Enter the name of a tiddler in which to save the current breadcrumbs',
	saveTitle: 'SavedBreadcrumbs',
	options: {
		chkShowBreadcrumbs:		true,
		chkReorderBreadcrumbs:		true,
		chkCreateDefaultBreadcrumbs:	true,
		chkShowStartupBreadcrumbs:	false,
		chkBreadcrumbsReverse:		true,
		chkBreadcrumbsLimit:		false,
		txtBreadcrumbsLimit:		5,
		chkBreadcrumbsLimitOpenTiddlers:false,
		txtBreadcrumbsLimitOpenTiddlers:5,
		chkBreadcrumbsHideHomeLink:	true,
		chkBreadcrumbsSave:		false,
		txtBreadcrumbsHomeSeparator:	' | ',
		txtBreadcrumbsCrumbSeparator:	' &gt; '
	},
	init: function() {
		merge(config.options,this.options,true);
	},
	handler: function(place,macroName,params,wikifier,paramString,tiddler) {
		var area=createTiddlyElement(place,&quot;span&quot;,null,&quot;breadCrumbs&quot;,null);
		area.setAttribute(&quot;homeSep&quot;,params[0]||config.options.txtBreadcrumbsHomeSeparator);
		area.setAttribute(&quot;crumbSep&quot;,params[1]||config.options.txtBreadcrumbsCrumbSeparator);
		this.render(area);
	},
	add: function (title) {
		var thisCrumb = title;
		var ind = this.crumbs.indexOf(thisCrumb);
		if(ind === -1)
			this.crumbs.push(thisCrumb);
		else if (config.options.chkReorderBreadcrumbs)
			this.crumbs.push(this.crumbs.splice(ind,1)[0]); // reorder crumbs
		else
			this.crumbs=this.crumbs.slice(0,ind+1); // trim crumbs
		if (config.options.chkBreadcrumbsLimitOpenTiddlers)
			this.limitOpenTiddlers();
		this.refresh();
		return false;
	},
	getAreas: function() {
		var crumbAreas=[];
		// find all DIVs with classname==&quot;breadCrumbs&quot;
		var all=document.getElementsByTagName(&quot;*&quot;);
		for (var i=0; i&lt;all.length; i++)
			try{ if (hasClass(all[i],&quot;breadCrumbs&quot;)) crumbAreas.push(all[i]); } catch(e) {;}
		// or, find single DIV w/fixed ID (backward compatibility)
		var byID=document.getElementById(&quot;breadCrumbs&quot;)
		if (byID &amp;&amp; !hasClass(byID,&quot;breadCrumbs&quot;)) crumbAreas.push(byID);
		if (!crumbAreas.length &amp;&amp; config.options.chkCreateDefaultBreadcrumbs) {
			// no crumbs display... create one
			var defaultArea = createTiddlyElement(null,&quot;span&quot;,null,&quot;breadCrumbs&quot;,null);
		 	defaultArea.style.display= &quot;none&quot;;
			var targetArea= document.getElementById(&quot;tiddlerDisplay&quot;);
		 	targetArea.parentNode.insertBefore(defaultArea,targetArea);
			crumbAreas.push(defaultArea);
		}
		return crumbAreas;
	},
	refresh: function() {
		var crumbAreas=this.getAreas();
		for (var i=0; i&lt;crumbAreas.length; i++) {
			crumbAreas[i].style.display = config.options.chkShowBreadcrumbs?&quot;inline&quot;:&quot;none&quot;;
			removeChildren(crumbAreas[i]);
			this.render(crumbAreas[i]);
		}
	},
	render: function(here) {
		var co=config.options; var out=&quot;&quot;
		if (!co.chkBreadcrumbsHideHomeLink) {
			createTiddlyButton(here,&quot;Home&quot;,null,this.home,&quot;tiddlyLink tiddlyLinkExisting&quot;);
			out+=here.getAttribute(&quot;homeSep&quot;)||config.options.txtBreadcrumbsHomeSeparator;
		}
		for (c=0; c&lt;this.crumbs.length; c++) // remove non-existing tiddlers from crumbs
			if (!store.tiddlerExists(this.crumbs[c]) &amp;&amp; !store.isShadowTiddler(this.crumbs[c]))
				this.crumbs.splice(c,1);
		var count=this.crumbs.length;
		if (co.chkBreadcrumbsLimit &amp;&amp; co.txtBreadcrumbsLimit&lt;count) count=co.txtBreadcrumbsLimit;
		var list=[];
		for (c=this.crumbs.length-count; c&lt;this.crumbs.length; c++) list.push('[['+this.crumbs[c]+']]');
		if (co.chkBreadcrumbsReverse) list.reverse();
		out+=list.join(here.getAttribute(&quot;crumbSep&quot;)||config.options.txtBreadcrumbsCrumbSeparator);
		wikify(out,here);
	},
	home: function() {
		var cmb=config.macros.breadcrumbs;
		if (config.options.chkBreadcrumbsSave &amp;&amp; confirm(cmb.askMsg)) cmb.saveCrumbs();
		story.closeAllTiddlers(); restart();
		cmb.crumbs = []; var crumbAreas=cmb.getAreas();
		for (var i=0; i&lt;crumbAreas.length; i++) crumbAreas[i].style.display = &quot;none&quot;;
		return false;
	},
	saveCrumbs: function() {
		var tid=prompt(this.saveMsg,this.saveTitle); if (!tid||!tid.length) return; // cancelled by user
		var t=store.getTiddler(tid);
		if(t &amp;&amp; !confirm(config.messages.overwriteWarning.format([tid]))) return;
		var who=config.options.txtUserName;
		var when=new Date();
		var text='[['+this.crumbs.join(']]\n[[')+']]';
		var tags=t?t.tags:[]; tags.pushUnique('story');
		var fields=t?t.fields:{};
		store.saveTiddler(tid,tid,text,who,when,tags,fields);
		story.displayTiddler(null,tid);
		story.refreshTiddler(tid,null,true);
		displayMessage(tid+' has been '+(t?'updated':'created'));
	},
	limitOpenTiddlers: function() {
		var limit=config.options.txtBreadcrumbsLimitOpenTiddlers; if (limit&lt;1) limit=1;
		for (c=this.crumbs.length-1; c&gt;=0; c--) {
			var tid=this.crumbs[c];
			var elem=story.getTiddler(tid);
			if (elem) { // tiddler is displayed
				if (limit &lt;=0) { // display limit has been reached
					if (elem.getAttribute(&quot;dirty&quot;)==&quot;true&quot;) { // tiddler is being edited
						var msg= &quot;'&quot;+tid+&quot;' is currently being edited.\n\n&quot;
							+&quot;Press OK to save and close this tiddler\n&quot;
							+&quot;or press Cancel to leave it opened&quot;;
						if (confirm(msg)) {
							story.saveTiddler(tid);
							story.closeTiddler(tid);
						}
					}
					else story.closeTiddler(this.crumbs[c]);
				}
				limit--;
			}
		}
	}
};
//}}}
// // PreviousTiddler ('back') command and macro
//{{{
config.commands.previousTiddler = {
	text: 'back',
	tooltip: 'view the previous tiddler',
	handler: function(event,src,title) {
		var crumbs=config.macros.breadcrumbs.crumbs;
		if (crumbs.length&lt;2) config.macros.breadcrumbs.home();
		else story.displayTiddler(story.findContainingTiddler(src),crumbs[crumbs.length-2]);
		return false;
	}
};
config.macros.previousTiddler= {
	label: 'back',
	prompt: 'view the previous tiddler',
	handler: function(place,macroName,params,wikifier,paramString,tiddler) {
		var label=params.shift(); if (!label) label=this.label;
		var prompt=params.shift(); if (!prompt) prompt=this.prompt;
		createTiddlyButton(place,label,prompt,function(ev){
			return config.commands.previousTiddler.handler(ev,this)
		});
	}
}
//}}}
// // HIJACKS
//{{{
// update crumbs when a tiddler is displayed
if (Story.prototype.breadCrumbs_coreDisplayTiddler==undefined)
	Story.prototype.breadCrumbs_coreDisplayTiddler=Story.prototype.displayTiddler;
Story.prototype.displayTiddler = function(srcElement,tiddler) {
	var title=(tiddler instanceof Tiddler)?tiddler.title:tiddler;
	this.breadCrumbs_coreDisplayTiddler.apply(this,arguments);
	if (!startingUp || config.options.chkShowStartupBreadcrumbs)
		config.macros.breadcrumbs.add(title);setTimeout(function(){refreshDisplay();},500);console.log('crumbsHijack - refreshing TabOpen');
}

// update crumbs when a tiddler is deleted
if (TiddlyWiki.prototype.breadCrumbs_coreRemoveTiddler==undefined)
	TiddlyWiki.prototype.breadCrumbs_coreRemoveTiddler=TiddlyWiki.prototype.removeTiddler;
TiddlyWiki.prototype.removeTiddler= function() {
	this.breadCrumbs_coreRemoveTiddler.apply(this,arguments);
	config.macros.breadcrumbs.refresh();setTimeout(function(){refreshDisplay();},500);console.log('crumbsHijack2 - refreshing TabOpen');
}
//}}}</pre>
</div>
<div title="BreadcrumbsPluginInfo" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405161125" tags="plugininfo excludeTimeline" changecount="2" content-type="text/x-tiddlywiki">
<pre>/***
|Name|BreadcrumbsPluginInfo|
|Author|Eric Shulman|
|Source|http://www.TiddlyTools.com/#BreadcrumbsPlugin|
|Documentation|http://www.TiddlyTools.com/#BreadcrumbsPluginInfo|
|Version|2.1.5|
|License|http://www.TiddlyTools.com/#LegalStatements|
|~CoreVersion|2.1|
|Type|documentation|
|Description|Documentation for BreadcrumbsPlugin|
This plugin provides a list of links to all tiddlers opened during the session, creating a &quot;trail of breadcrumbs&quot; from one tiddler to the next, allowing you to quickly navigate to any previously viewed tiddler, or select 'home' to reset the display to the initial set of tiddlers that were open at the start of the session (i.e., when the document was loaded into the browser).
!!!!!Usage
&lt;&lt;&lt;
{{{
&lt;&lt;breadcrumbs homeSeparator crumbSeparator&gt;&gt;
}}}
By default, the breadcrumbs are displayed as a continuous, //horizontal// word-wrapped line of text, using default character sequences for ''homeSeparator'' (&quot; | &quot;) and ''crumbSeparator'' (&quot; &gt; &quot;).  The //optional// ''homeSeparator'' and ''crumbSeparator'' macro parameters allow you to specify alternative separators.  For example, to display the breadcrumbs //vertically// (in a stack, rather than a row), set the separator values to use {{{[[&lt;br&gt;]]}}}... and, to display a horizontal line as the home separator, use {{{[[&lt;html&gt;&lt;hr&gt;&lt;/html&gt;]]}}}.
{{{
&lt;&lt;previousTiddler&gt;&gt;
}}}
This macro embeds a 'back' button in your content.  Clicking the button opens/scrolls to the most recent previously viewed tiddler.  You can also add the {{{previousTiddler}}} keyword to the ~ViewToolbar slice definition in ToolbarCommands.  This adds a 'back' button directly to the toolbar of each tiddler that is displayed.
&lt;&lt;&lt;
!!!!!Examples:
&lt;&lt;&lt;
{{{
&lt;&lt;breadcrumbs&gt;&gt;
}}}
&lt;&lt;breadcrumbs&gt;&gt;
{{{
&lt;&lt;breadcrumbs [[&lt;html&gt;&lt;hr&gt;&lt;/html&gt;]] [[&lt;br&gt;]]&gt;&gt;
}}}
&lt;&lt;breadcrumbs [[&lt;html&gt;&lt;hr&gt;&lt;/html&gt;]] [[&lt;br&gt;]]&gt;&gt;
&lt;&lt;&lt;
!!!!!Customization
&lt;&lt;&lt;
Using CSS and a few of the plugin configuration options (see below), you can make the breadcrumbs display resemble browser tabs by adding the following to your [[StyleSheet]]:
{{{
.breadCrumbs { border-bottom:1px solid; }
.breadCrumbs a {
	border: 1px solid; padding: 0px 1em;
	-moz-border-radius-topleft:.5em; -moz-border-radius-topright:.5em;
	-webkit-border-top-left-radius:.5em; -webkit-border-top-right-radius:.5em;
}
}}}
and this in [[ConfigTweaks]] (tagged with systemConfig, of course):
{{{
config.options.chkShowStartupBreadcrumbs=true;
config.options.chkBreadcrumbsLimitOpenTiddlers=true;
config.options.txtBreadcrumbsLimitOpenTiddlers=1;
config.macros.breadcrumbs.homeSeparator=&quot; &quot;;
config.macros.breadcrumbs.crumbSeparator=&quot; &quot;;
}}}
&lt;&lt;&lt;
!!!!!Configuration
&lt;&lt;&lt;
__''display placement:''__
&lt;&lt;option chkCreateDefaultBreadcrumbs&gt;&gt; automatically create breadcrumbs display (if needed)
{{{&lt;&lt;option chkCreateDefaultBreadcrumbs&gt;&gt;}}}
&gt;By default, the plugin automatically creates the &quot;breadCrumbs&quot; display element at the top of the story column, just above the tiddlerDisplay area.  To manually control the display and placement of the breadcrumbs display, you can define a DIV with class=&quot;breadCrumbs&quot; in a custom [[PageTemplate]] or embed the {{{&lt;&lt;breadcrumbs&gt;&gt;}}} macro in specific tiddler content.
&gt;
&gt;For example, to add the breadcrumbs below the mainMenu, change this:
{{{
&lt;div id='mainMenu' refresh='content' tiddler='MainMenu'&gt;&lt;/div&gt;
}}}
&gt;to:
{{{
&lt;div id='mainMenu'&gt;
	&lt;div refresh='content' tiddler='MainMenu'&gt;&lt;/div&gt;
	&lt;div id='breadCrumbs' class='breadCrumbs'&gt;&lt;/div&gt;
&lt;/div&gt;
}}}
&gt;You can also block automatic creation of the breadcrumbs display by setting
{{{
config.options.chkCreateDefaultBreadcrumbs=false;
}}}
&gt;in a [[CookieJar]]/[[ConfigTweaks]] plugin tiddler.

__''other settings:''__
&lt;&lt;option chkShowBreadcrumbs&gt;&gt; show/hide breadcrumbs display
{{{&lt;&lt;option chkShowBreadcrumbs&gt;&gt;}}}
&gt;This checkbox toggles the visibility of the breadcrumbs display.  However, the display is not updated until the next crumb is added (or a previous crumb is clicked on).  For immediate effect, you can use [[ToggleBreadcrumbs]] to synchronize the checkbox setting and the breadcrumbs display.
&lt;&lt;option chkReorderBreadcrumbs&gt;&gt; re-order breadcrumbs when visiting a previously viewed tiddler
{{{&lt;&lt;option chkReorderBreadcrumbs&gt;&gt;}}}
&gt;When visiting a previously viewed tiddler, the title of the most-recently displayed tiddler is simply moved to the end of the list and individual breadcrumbs are not removed from the list unless the underlying tiddler is deleted.  When ''re-ordering'' is disabled, the breadcrumbs list is ''trimmed'' so that all crumbs following that tiddler are removed from the list.
&lt;&lt;option chkBreadcrumbsHideHomeLink&gt;&gt; omit 'Home' link from breadcrumbs display
{{{&lt;&lt;option chkBreadcrumbsHideHomeLink&gt;&gt;}}}
&gt;Enabling this option suppresses the automatic display of the &quot;Home&quot; link (and home separator).  To manually add the home link elsewhere in your document, use the following HTML:
{{{
&lt;html&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;config.macros.breadcrumbs.home()&quot;&gt;home&lt;/a&gt;&lt;/html&gt;
}}}
&lt;&lt;option chkBreadcrumbsSave&gt;&gt; prompt to save breadcrumbs when 'Home' link is pressed
{{{&lt;&lt;option chkBreadcrumbsSave&gt;&gt;}}}
&gt;Whenever you press the 'home' button, you can be prompted to save the current breadcrumbs in a tiddler as a space-separated list of tiddler links (default title=&quot;SavedBreadcrumbs&quot;).  
&lt;&lt;option chkShowStartupBreadcrumbs&gt;&gt; show breadcrumbs for 'startup' tiddlers
{{{&lt;&lt;option chkShowStartupBreadcrumbs&gt;&gt;}}}
&gt;Breadcrumbs are usually only added for tiddlers that are opened after the document has been loaded, and not for tiddlers displayed during initial startup (e.g., [[DefaultTiddlers]]).  Enabling this option displays breadcrumbs for all viewed tiddlers, regardless of when they are opened.
&lt;&lt;option chkBreadcrumbsReverse&gt;&gt; show breadcrumbs in reverse order
{{{&lt;&lt;option chkBreadcrumbsReverse&gt;&gt;}}}
&gt;As tiddlers are displayed, breadcrumbs are usually added to the //end// of the list.  Enabling this option displays breadcrumbs in reverse order, so that the most recently visited tiddlers are listed first.
&lt;&lt;option chkBreadcrumbsLimit&gt;&gt; limit breadcrumbs display to {{twochar{&lt;&lt;option txtBreadcrumbsLimit&gt;&gt;}}} items
{{{&lt;&lt;option chkBreadcrumbsLimit&gt;&gt;}}} and {{{&lt;&lt;option txtBreadcrumbsLimit&gt;&gt;}}}
&gt;By default, breadcrumbs are displayed for all tiddlers that have been visited (unless the list is being 'trimmed' by disabling the chkReorderBreadcrumbs option above).  Enabling this option limits the display of the list to a maximum specified number of breadcrumbs.
&lt;&lt;option chkBreadcrumbsLimitOpenTiddlers&gt;&gt; limit open tiddlers to {{twochar{&lt;&lt;option txtBreadcrumbsLimitOpenTiddlers&gt;&gt;}}} items
{{{&lt;&lt;option chkBreadcrumbsLimitOpenTiddlers&gt;&gt;}}} and {{{&lt;&lt;option txtBreadcrumbsLimitOpenTiddlers&gt;&gt;}}}
&gt;By default, tiddlers remain open (e.g., displayed in the story column) until you explicitly close them.  When this option is enabled, only the most recently opened tiddlers will remain open: ''any tiddlers in excess of the specified limit are automatically closed.''  //Note: for 'data safety', if a tiddler is being edited, you will be asked for permission to &quot;save-and-close&quot; that tiddler or leave it open (even if that would exceed the specified limit).//
&lt;&lt;&lt;
!!!!!Revisions
&lt;&lt;&lt;
2012.06.10 2.1.5 refactored default options to eliminate global variable and use init() handling
2011.02.16 2.1.4 in refresh(), use 'inline' instead of 'block' style (avoids unwanted linebreak).  In previousTiddler(), allow handling even if not in a tiddler so that back button can be placed in ~MainMenu or ~SidebarOptions.
2010.11.30 2.1.3 use story.getTiddler()
2009.10.19 2.1.2 code reduction
2009.03.22 2.1.0 added 'save breadcrumbs to tiddler' feature
2008.05.01 2.0.0 added 'limit open tiddlers' feature (with safety check for tiddler in edit mode)
2008.04.06 1.9.1 corrected 'limit' logic so that //last// N crumbs are shown instead of //first// N crumbs.  Also, added chkBreadcrumbsHideHomeLink
2008.04.04 1.9.0 added chkBreadcrumbsReverse and chk/txtBreadcrumbsLimit
2008.03.29 1.8.4 in displayTiddler(), get title from tiddler object (if needed).  Fixes errors caused when calling function passes a tiddler *object* instead of a tiddler *title*
2008.03.24 1.8.3 include shadow tiddlers in breadcrumbs list.  Also changed settings so that &quot;reordering&quot; breadcrumbs is the default, instead of &quot;trimming&quot; the list
2007.12.04 [*.*.*] update for TW2.3.0: replaced deprecated core functions, regexps, and macros
2007.10.26 1.8.2 documentation cleanup
2007.10.18 1.8.1 in GetAreas(), use try/catch to avoid &quot;Bad NPObject as private data&quot; fatal error caused when embedded QuickTime player element is accessed by hasClass() function.
2007.10.02 1.8.0 major documentation and code cleanup.  Moved config.breadCrumbs.* to config.macros.breadcrumbs.* to consolidate objects.  Also, fixed homeSeparator and crumbSeparator default handling.
2007.10.02 1.7.0 added config.options.chkShowStartupBreadcrumbs option
2007.09.16 1.6.1 in getAreas(), removed errant use of 'place' (was causing fatal error when creating default breadcrumbs display element).  Also, added chkCreateDefaultBreadcrumbs configuration setting to enable/disable automatic creation of a default breadcrumbs display.
2007.09.16 1.6.0 re-wrote refresh() to enable multiple display instances, by finding elements with &quot;breadCrumbs&quot; classname.  Fallback to fixed ID (=&quot;breadCrumbs&quot;) is still used for backward-compatibility.  move rendering code from refresh() to separate render() function, and added definition for {{{&lt;&lt;breadCrumbs&gt;&gt;}}} macro to support embedding breadcrumbs displays in tiddler content.
2007.09.15 [1.5.9.1] updated documentation
2007.09.15 1.5.9 defined homeSeparator (&quot; | &quot;) and crumbSeparator (&quot; &gt; &quot;) as object properties so that they can be redefined as desired for different layouts (e.g., using 'newline' for the crumbSeparator will arrange crumbs in a column rather than a row.
2007.06.21 [1.5.8.1] in home(), return false to prevent IE from attempting to navigate away...
2007.05.26 1.5.8 added support for {{{&lt;&lt;option chkReorderBreadcrumbs&gt;&gt;}}} to toggle trim vs. re-order behavior when visiting previously viewed tiddlers
2007.05.25 1.5.7 added support for {{{&lt;&lt;option chkShowBreadcrumbs&gt;&gt;}}} to toggle //display// of breadcrumbs
2007.05.24 1.5.6 in refresh(), remove non-existing tiddler titles from crumb list.  Also, hijack removeTiddler() so crumbs can be updated after tiddler is deleted.
2007.04.11 1.5.5 added optional params to previousTiddler macro handler() to allow alternative label and tooltip text (instead of default &quot;back&quot;)
2007.03.02 1.5.4 in refresh(), for TW2.2, look for &quot;storyDisplay&quot; instead of &quot;tiddlerDisplay&quot; but keep fallback to &quot;tiddlerDisplay&quot; for TW2.1 or earlier
2007.02.24 1.5.3 changed from hijack of onClickTiddlerLink to hijack of displayTiddler() so that ALL displayed tiddlers are recorded in the crumbs, including programmatically displayed tiddlers opened by macros, scripts, etc., (such as [[GotoPlugin]], among many others) in addition to those opened by clicks on links.
2007.02.24 [1.5.2.0] eliminated global space clutter by moving function and data declarations so they are contained inside config.breadCrumbs object.
2007.02.06 1.5.1 added &quot;previousTiddler&quot; macro (for use in sidebar)
2007.02.05 1.5.0 added &quot;previousTiddler&quot; toolbar command (aka, &quot;back&quot;)
2006.08.04 [1.4.0.1] change spaces to tabs
2006.08.04 1.4.0 modified from 1.4.0 distro: in refresh(), set {{{display:none/block}}} instead of {{{visibility:hidden/visible}}}.  In home(), check for valid crumbArea before setting style.
2006.08.02 1.4.0 Fixed bug, the redefined onClickTiddlerLink_orig_breadCrumbs works incorrectly on IE
2006.07.20 1.3.0 Runs compatibly with TW 2.1.0 (rev #403+)
2006.02.07 1.2.0 change global array breadCrumbs to config.breadCrumbs by Eric's suggestion
2006.02.04 1.1.0 JSLint checked
2006.02.01 1.0.0 initial release
&lt;&lt;&lt;</pre>
</div>
<div title="C8 Group Images" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404202313" modified="201404210623" tags="excludeTimeline excludeLists Images" changecount="14" content-type="">
<pre>&lt;part CL8_0&gt;
|sortable2|k
|!|!|h
|&gt;|!Standard Plots|h
| [img[CritPhen\Models\C8\Plots\2d CL8_0, M.png]] | [img[CritPhen\Models\C8\Plots\2d CL8_0, E.png]] |
| [img[CritPhen\Models\C8\Plots\2d CL8_0, X.png]] | [img[CritPhen\Models\C8\Plots\2d CL8_0, C.png]] |
|&gt;|!Log-Log Plots|h
| [img[CritPhen\Models\C8\Plots\2d CL8_0, M_ln.png]] | [img[CritPhen\Models\C8\Plots\2d CL8_0, C_ln.png]] |
| [img[CritPhen\Models\C8\Plots\2d CL8_0, X_ln.png]] |
|&gt;|!Cumulants|h
| [img[CritPhen\Models\C8\Plots\2d CL8_0, M4.png]] | [img[CritPhen\Models\C8\Plots\2d CL8_0, E4.png]] |
|!|!|h
&lt;/part&gt;
&lt;part Z8_0&gt;
|sortable2|k
|!|!|h
|&gt;|!Standard Plots|h
| [img[CritPhen\Models\C8\Plots\2d Z8_0, M.png]] | [img[CritPhen\Models\C8\Plots\2d Z8_0, E.png]] |
| [img[CritPhen\Models\C8\Plots\2d Z8_0, X.png]] | [img[CritPhen\Models\C8\Plots\2d Z8_0, C.png]] |
|&gt;|!Log-Log Plots|h
| [img[CritPhen\Models\C8\Plots\2d Z8_0, M_ln.png]] | [img[CritPhen\Models\C8\Plots\2d Z8_0, C_ln.png]] |
| [img[CritPhen\Models\C8\Plots\2d Z8_0, X_ln.png]] |
|&gt;|!Cumulants|h
| [img[CritPhen\Models\C8\Plots\2d Z8_0, M4.png]] | [img[CritPhen\Models\C8\Plots\2d Z8_0, E4.png]] |
|!|!|h
&lt;/part&gt;
&lt;part Z8_0vC8_0&gt;
|sortable2|k
|!|!|h
|&gt;|!Standard Plots|h
| [img[CritPhen\Models\C8\Plots\2d Z8_0vC8_0, M.png]] | [img[CritPhen\Models\C8\Plots\2d Z8_0vC8_0, E.png]] |
| [img[CritPhen\Models\C8\Plots\2d Z8_0vC8_0, X.png]] | [img[CritPhen\Models\C8\Plots\2d Z8_0vC8_0, C.png]] |
|&gt;|!Log-Log Plots|h
| [img[CritPhen\Models\C8\Plots\2d Z8_0vC8_0, M_ln.png]] | [img[CritPhen\Models\C8\Plots\2d Z8_0vC8_0, C_ln.png]] |
| [img[CritPhen\Models\C8\Plots\2d Z8_0vC8_0, X_ln.png]] |
|&gt;|!Cumulants|h
| [img[CritPhen\Models\C8\Plots\2d Z8_0vC8_0, M4.png]] | [img[CritPhen\Models\C8\Plots\2d Z8_0vC8_0, E4.png]] |
|!|!|h
&lt;/part&gt;</pre>
</div>
<div title="CMEditCommands" modifier="Christopher Wilson" created="201404120243" modified="201404120253" tags="cmtw excludeLists excludeMissing systemConfig excludeTimeline">
<pre>/***
|''Name''|CMEditCommands|
|''Description''|Opens a tiddler in edit mode and starts CodeMirror editor.|
|''Version''|0.1.3|
|''Date''|2012-03-13|
|''Status''|''beta''|
|''Source''|https://github.com/pmario/tw.CodeMirrorPlugin|
|''License''|CC-BY-SA|
|''CoreVersion''|2.5|
|''Requires''|zCodeMirrorPlugin|
|''Keywords''|toolbar command code mirror codemirror edit|
!!!Description
&lt;&lt;&lt;
To use this new toolbar command you have to add {{{cmEdit}}} to ToolbarCommands tiddler
eg:
{{{
|~ViewToolbar|tagSearch cmEdit +editTiddler  ...
}}}
&lt;&lt;&lt;
!!! History
&lt;&lt;&lt;
* V 0.1.3 2012-03-13
** Added functions to make editor height persistent.
** + bug fixes introduced with V 0.1.2
* V 0.1.1 
** Initial release
&lt;&lt;&lt;
!!!Code
***/
//{{{

config.commands.cmEdit = {
	text: &quot;cmEdit&quot;,
	tooltip: &quot;Edit tiddler with CodeMirror editor!&quot;,

	readOnlyText: &quot;view&quot;,
	readOnlyTooltip: &quot;View the source of this tiddler using CodeMirror&quot;
};

config.commands.cmSave = {
	text: &quot;cmSave&quot;,
	tooltip: &quot;Save tiddler, when CodeMirror editor is used!&quot;,

	isEnabled: function(tiddler) {
		return (!readOnly);
	}	
};

config.commands.cmEdit.handler = function(event,src,title)
{
	// needed to get the original textarea dirty, after first time editing.
	var cmOnChange = function(cmEditor) {
		if (!cmEditor.dirty) {
			cmEditor.dirty = true;
			cmEditor.save();
		}
	};

	// readOnly can't be set by config tidder.
	// TODO onChange will need special handling. aka Hijacking if config also contains a onChange
	var cmOptions = {
		'readOnly': readOnly,
		onChange: cmOnChange
	};

	// define var shortcuts
	var cm = config.tools.cm;
	var conf = cm.conf;
	var tags = [], tl, mode;

	// read CodeMirrorConfig tiddler and write to global conf var
	cm.init();
	
	var modes = CodeMirror.listModes();
	
	// TODO post to mailing list about it ?! It makes handling the library more difficult.
	var mimes = cm.listMimeNames();
		
	// doesn't set tid if title is a shadow tiddler
	var tid = store.getTiddler(title);

	// set global settings
	jQuery.extend(cmOptions, conf['global']);

	// shadow tiddlers don't have tags, fields ...
	if (tid &amp;&amp; tid.fields) {		

		if (tid.fields['server.content-type'] &amp;&amp; mimes.contains(tid.fields['server.content-type'])) {
			mode = cm.getModeObject(tid.fields['server.content-type']);
			jQuery.extend(cmOptions, conf[mode.name]);
			jQuery.extend(cmOptions.mode, mode);
		}
		
		if (tid.fields['content-type'] &amp;&amp; mimes.contains(tid.fields['content-type'])) {
			mode = cm.getModeObject(tid.fields['content-type']);
			jQuery.extend(cmOptions, conf[mode.name]);
			jQuery.extend(cmOptions.mode, mode);
		}
		
		for (var i=0; i &lt; modes.length; i += 1) {
			if (conf[modes[i]] &amp;&amp; conf[modes[i]].tags) {
				tags = conf[modes[i]].tags.split(' ');
				tl = tags.length;
			
				// there is no need to know, which tag, was the one, that was found.
				// it's important, that one was found.
				for (var j=0; j &lt; tid.tags.length; j += 1) {
					tags.pushUnique(tid.tags[j]);
				}

				// if one tag is the same, pushUnique above will eliminate one or more tags.
				if ((tl + tid.tags.length) != tags.length) {
					jQuery.extend(cmOptions, conf[modes[i]]);
					break;	// modes.length loop. first found wins.
				}					
			} // if 
		} // for
		if (tid.fields['cm.height']) {
			jQuery.extend(cmOptions, {cmHeight: tid.fields['cm.height']});
		}	// TODO TypeChooser and cmEdit should use the same functions. refactoring needed.
	} // if tid
	
	// if no mode was found, init with null -&gt; text/plain
	if (!cmOptions.mode) {
		jQuery.extend(cmOptions, conf['null']);
	}
	// call the TW default editor	
	config.commands.editTiddler.handler.call(this,event,src,title); 

	// find the default editor
	var textArea = jQuery(story.getTiddler(title)).find('textarea[edit=text]');
		
	// create the cm editor
	cm.startEditor(textArea, cmOptions);
	return false;
};

config.commands.cmSave.handler = function(event,src,title)
{
	var text = jQuery(story.getTiddler(title)).find('textarea[edit=text]');
	var editor = jQuery(text[0]).data('editor');

	if (editor) {editor.save();}
	
	config.commands.saveTiddler.handler.call(this,event,src,title); 
	return false;
};

//}}}</pre>
</div>
<div title="CSSBrowserSelectorPlugin" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404140444" modified="201405150210" tags="systemConfig excludeTimeline" changecount="12" content-type="application/javascript">
<pre>/***
CSS Browser Selector v0.4.0 (Nov 02, 2010)
Rafael Lima (http://rafael.adm.br)
http://rafael.adm.br/css_browser_selector
License: http://creativecommons.org/licenses/by/2.5/
Contributors: http://rafael.adm.br/css_browser_selector#contributors

See usage examples at http://rafael.adm.br/css_browser_selector/.
!!!Usage Example
{{{
&lt;style type=&quot;text/css&quot;&gt;
.ie .example {
  background-color: yellow
}
.ie7 .example {
  background-color: orange
}
.gecko .example {
  background-color: gray
}
.win.gecko .example {
  background-color: red
}
.linux.gecko .example {
  background-color: pink
}
.opera .example {
  background-color: green
}
.konqueror .example {
  background-color: blue
}
.webkit .example {
  background-color: black
}
.example {
  width: 100px;
  height: 100px;
}
.no_js { display: block }
.has_js { display: none }
.js .no_js { display: none }
.js .has_js { display: block }
&lt;/style&gt;
}}}
!!!Code
***/
//{{{
function css_browser_selector(u){var ua=u.toLowerCase(),is=function(t){return ua.indexOf(t)&gt;-1},g='gecko',w='webkit',s='safari',o='opera',m='mobile',h=document.documentElement,b=[(!(/opera|webtv/i.test(ua))&amp;&amp;/msie\s(\d)/.test(ua))?('ie ie'+RegExp.$1):is('firefox/2')?g+' ff2':is('firefox/3.5')?g+' ff3 ff3_5':is('firefox/3.6')?g+' ff3 ff3_6':is('firefox/3')?g+' ff3':is('gecko/')?g:is('opera')?o+(/version\/(\d+)/.test(ua)?' '+o+RegExp.$1:(/opera(\s|\/)(\d+)/.test(ua)?' '+o+RegExp.$2:'')):is('konqueror')?'konqueror':is('blackberry')?m+' blackberry':is('android')?m+' android':is('chrome')?w+' chrome':is('iron')?w+' iron':is('applewebkit/')?w+' '+s+(/version\/(\d+)/.test(ua)?' '+s+RegExp.$1:''):is('mozilla/')?g:'',is('j2me')?m+' j2me':is('iphone')?m+' iphone':is('ipod')?m+' ipod':is('ipad')?m+' ipad':is('mac')?'mac':is('darwin')?'mac':is('webtv')?'webtv':is('win')?'win'+(is('windows nt 6.0')?' vista':''):is('freebsd')?'freebsd':(is('x11')||is('linux'))?'linux':'','js']; c = b.join(' '); h.className += ' '+c; return c;}; css_browser_selector(navigator.userAgent);
//}}}</pre>
</div>
<div title="Casual Curve" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405060450" tags="[[Topology Paper]]" changecount="1" content-type="">
<pre>A //casual curve// is a non-spacelike curve; it can be either timelike or null.</pre>
</div>
<div title="Cauchy Surface" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405060448" modified="201405060449" tags="[[Topology Paper]]" changecount="2" content-type="text/x-tiddlywiki">
<pre>!!Overview
A //Cauchy Surface// is a [[Hyperslice]] where, if given initial conditions everywhere along the slice, then the entire spacetime will be uniquely determined through a [[ADM Evolution]].

A //Cauchy Surface// is also any subset of spacetime that is intersected by every [[Inextensible|Inextensible Curve]], casual curve exactly once.

*The initial conditions along the surface uniquely determine the future and past.
</pre>
</div>
<div title="Chart" modifier="Christopher Wilson" created="201404092006" modified="201404092156" tags="Topology">
<pre>!!Definition
A ''//chart//'' for a topological space $X$ is a [[homeomorphism]] $\varphi_\alpha$ from an open subset $O_\alpha$ of $X$ to an open subset $U_\alpha$ of Euclidean space, $\mathbb{R}$.  A ''//chart//'' may be specified by the ordered pair $(O_\alpha,\varphi_\alpha)$.

!!Notes
*A chart is more commonly referred to as a ''//coordinate system//'' in physics.</pre>
</div>
<div title="Classical Electron-Radiation Interaction" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405040509" modified="201405040540" changecount="4" content-type="text/x-tiddlywiki">
<pre>Let the radiation be described by classical (continuous) fields, corresponding to the vector potential $\vec{A} = \vec{A}(\vec{r},t)$ and electric potential $\phi = \phi(\vec{r},t)$.  Also, let the internal electrostatic interaction of the electrons be denoted as $V_0 = V_0(\vec{r})$.

The Hamiltonian describing the interaction is
$$\hat{H} = \frac{1}{2m_e}\biggl(\vec{P} + \frac{e}{c}\vec{A}\biggr)^2 - e\phi + V_0. $$
Using $\vec{P}\cdot\vec{A}= \vec{A}\cdot\vec{P} - i\hbar \vec{\nabla}\cdot\vec{A}$, the above simplifies as
\begin{align}\hat{H} &amp;= \biggl(\frac{P^2}{2m_e} + V_0\biggr) +\frac{e}{m_ec}\vec{A}\cdot\vec{P} + \frac{e^2}{2m_ec^2}A^2 -\frac{i\hbar}{2m_e}\vec{\nabla}\cdot\vec{A} - e\,\phi\\[1em]
&amp;=\hat{H}_0 + \hat{V}(t),
\end{align}
where $\hat{H}_0 \equiv \frac{P^2}{2m_e} + V_0,\;$ and $\hat{V}(t) \equiv \frac{e}{m_ec}\vec{A}\cdot\vec{P}.\;$  

As for the remaining terms, the term $A^2$ is neglected (why?), $\vec{\nabla}\cdot\vec{A} = 0$ in the Coulomb gauge, and $\phi = 0$ in the vacuum.

It can be shown that this interaction term takes on the structure of a [[Harmonic Perturbation]], $$\hat{V}(t) = \hat{\eta} e^{i\omega t} + \hat{\eta}^\dagger e^{-i\omega t},\qquad {\rm with}\;\;\hat{\eta} \equiv \frac{e}{m_e}\sqrt{\frac{2\pi\hbar}{\omega \mathcal{V}}}\;\, \vec{\varepsilon}\cdot\vec{P}e^{i\vec{k}\cdot\vec{r}}.$$</pre>
</div>
<div title="Classical XY Model" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404142117" modified="201404172104" tags="KeepRevisions [[Critical Phenomena]]" changecount="9" content-type="text/x-tiddlywiki">
<pre>The ''//classical XY model//'' (also known as the ''//classical rotor model//'', or ''//O(2) model//'' is a lattice model of statistical mechanics, a special case of the $n=2$ [[n-vector model]].  The XY model is the continuous analog of the the discrete $q$-dimensional [[clock model]].

!!Definition
Given an $D$-dimensional lattice $\Lambda$, per each lattice site $j\in\Lambda$ there exists a two-dimensional, unit-length vector $\mathbf{s}_j = (\cos\theta_j,\sin\theta_j).$  The ''//spin configuration//'', $\mathbf{s} = (\mathbf{s}_j)_{j\in\Lambda}$ is an assignment of the angle $\theta_j \in (-\pi,\pi]$ per each site $j$ in the lattice.
$\qquad$Given a translation invariant interaction $J_{ij} = J(i-j)$ and a point dependent external field $\mathbf{h}_j = (h_j,0)$, the ''//configuration energy//'' is 
\begin{align}H(\mathbf{s}) &amp;= -\sum_{\left&lt;i,j\right&gt;}J_{ij}s_i\cdot s_j -\sum_j \mathbf{h}_j\cdot\mathbf{s}_j\\
&amp;=-\sum_{i\neq j}J_{ij}\,\cos(\theta_i-\theta_j)-\sum_j h_j\,\cos\theta_j
\end{align}

!!Discussion
It was discovered that the [[Ising Model]] can be used to yield a lower bound on the inverse critical temperature of the classical XY-model.  More specifically, we can show that $\beta_{\rm crit}^{XY} \geq 2\beta_{\rm crit}^{I}$, which yeilds the lower bound $\beta_{\rm crit}^{XY}\geq 0.88$ for the [[Kosterlitz-Thouless transition]] in the two-dimensional case.&lt;&lt;bibtex Aizenman1980281&gt;&gt;
</pre>
</div>
<div title="Classical XY Model Revision(0001)" modifier="Christopher Wilson" created="201404142117" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="2" content-type="text/x-tiddlywiki">
<pre>The ''//classical XY model//'' (''//classical rotor model//'', ''//O(2) model//'') is a lattice model of statistical mechanics, a special case of the $n=2$ [[n-vector mode]].

!!Definition
Given an $D$-dimensional lattice $\Lambda$, per each lattice site $j\in\Lambda$ there exists a two-dimensional, unit-length vector $s_j = (\cos\theta_j,\sin\theta_j).$  The ''//spin configuration//'', $s = (s_j)_{j\in\Lambda}$ is an assignment of the angle $\theta_j \in (-\pi,\pi]$ per each site $j$ in the lattice.
Given a translation invariant interaction $J_{ij} = J(i-j)$ and a point dependent external field $\mathbf{h}_j = (h_j,0)$, the ''//configuration energy//'' is 
$$H(\mathbf{s} = -\sum_{\left&lt;i,j\right&gt;}J_{ij}s_i\cdot s_j -\sum_j \mathbf{h}_j\cdot\mathbf{s}_j$$</pre>
</div>
<div title="Classical XY Model Revision(0002)" modifier="Christopher Wilson" created="201404142122" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="3" content-type="text/x-tiddlywiki">
<pre>The ''//classical XY model//'' (also known as the ''//classical rotor model//'', or ''//O(2) model//'') is a lattice model of statistical mechanics, a special case of the $n=2$ [[n-vector mode]].

!!Definition
Given an $D$-dimensional lattice $\Lambda$, per each lattice site $j\in\Lambda$ there exists a two-dimensional, unit-length vector $\mathbf{s}_j = (\cos\theta_j,\sin\theta_j).$  The ''//spin configuration//'', $\mathbf{s} = (\mathbf{s}_j)_{j\in\Lambda}$ is an assignment of the angle $\theta_j \in (-\pi,\pi]$ per each site $j$ in the lattice.
$\qquad$Given a translation invariant interaction $J_{ij} = J(i-j)$ and a point dependent external field $\mathbf{h}_j = (h_j,0)$, the ''//configuration energy//'' is 
\begin{align}H(\mathbf{s}) &amp;= -\sum_{\left&lt;i,j\right&gt;}J_{ij}s_i\cdot s_j -\sum_j \mathbf{h}_j\cdot\mathbf{s}_j\\
&amp;=-\sum_{i\neq j}J_{ij}\,\cos(\theta_i-\theta_j)-\sum_j h_j\,\cos\theta_j
\end{align}</pre>
</div>
<div title="Classical XY Model Revision(0003)" modifier="Christopher Wilson" created="201404142123" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="4" content-type="text/x-tiddlywiki">
<pre>The ''//classical XY model//'' (also known as the ''//classical rotor model//'', or ''//O(2) model//'') is a lattice model of statistical mechanics, a special case of the $n=2$ [[n-vector model]].

!!Definition
Given an $D$-dimensional lattice $\Lambda$, per each lattice site $j\in\Lambda$ there exists a two-dimensional, unit-length vector $\mathbf{s}_j = (\cos\theta_j,\sin\theta_j).$  The ''//spin configuration//'', $\mathbf{s} = (\mathbf{s}_j)_{j\in\Lambda}$ is an assignment of the angle $\theta_j \in (-\pi,\pi]$ per each site $j$ in the lattice.
$\qquad$Given a translation invariant interaction $J_{ij} = J(i-j)$ and a point dependent external field $\mathbf{h}_j = (h_j,0)$, the ''//configuration energy//'' is 
\begin{align}H(\mathbf{s}) &amp;= -\sum_{\left&lt;i,j\right&gt;}J_{ij}s_i\cdot s_j -\sum_j \mathbf{h}_j\cdot\mathbf{s}_j\\
&amp;=-\sum_{i\neq j}J_{ij}\,\cos(\theta_i-\theta_j)-\sum_j h_j\,\cos\theta_j
\end{align}</pre>
</div>
<div title="Classical XY Model Revision(0004)" modifier="Christopher Wilson" created="201404142155" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="5" content-type="text/x-tiddlywiki">
<pre>The ''//classical XY model//'' (also known as the ''//classical rotor model//'', or ''//O(2) model//'') is a lattice model of statistical mechanics, a special case of the $n=2$ [[n-vector model]].

!!Definition
Given an $D$-dimensional lattice $\Lambda$, per each lattice site $j\in\Lambda$ there exists a two-dimensional, unit-length vector $\mathbf{s}_j = (\cos\theta_j,\sin\theta_j).$  The ''//spin configuration//'', $\mathbf{s} = (\mathbf{s}_j)_{j\in\Lambda}$ is an assignment of the angle $\theta_j \in (-\pi,\pi]$ per each site $j$ in the lattice.
$\qquad$Given a translation invariant interaction $J_{ij} = J(i-j)$ and a point dependent external field $\mathbf{h}_j = (h_j,0)$, the ''//configuration energy//'' is 
\begin{align}H(\mathbf{s}) &amp;= -\sum_{\left&lt;i,j\right&gt;}J_{ij}s_i\cdot s_j -\sum_j \mathbf{h}_j\cdot\mathbf{s}_j\\
&amp;=-\sum_{i\neq j}J_{ij}\,\cos(\theta_i-\theta_j)-\sum_j h_j\,\cos\theta_j
\end{align}

!!Discussion
It was discovered that the [[Ising Model]] can be used to yield a lower bound on the inverse critical temperature of the classical XY-model.  More specifically, we can show that $\beta_{\rm crit}^{XY} \geq 2\beta_{\rm crit}^{I}.
</pre>
</div>
<div title="Classical XY Model Revision(0005)" modifier="Christopher Wilson" created="201404142158" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="6" content-type="text/x-tiddlywiki">
<pre>The ''//classical XY model//'' (also known as the ''//classical rotor model//'', or ''//O(2) model//'') is a lattice model of statistical mechanics, a special case of the $n=2$ [[n-vector model]].

!!Definition
Given an $D$-dimensional lattice $\Lambda$, per each lattice site $j\in\Lambda$ there exists a two-dimensional, unit-length vector $\mathbf{s}_j = (\cos\theta_j,\sin\theta_j).$  The ''//spin configuration//'', $\mathbf{s} = (\mathbf{s}_j)_{j\in\Lambda}$ is an assignment of the angle $\theta_j \in (-\pi,\pi]$ per each site $j$ in the lattice.
$\qquad$Given a translation invariant interaction $J_{ij} = J(i-j)$ and a point dependent external field $\mathbf{h}_j = (h_j,0)$, the ''//configuration energy//'' is 
\begin{align}H(\mathbf{s}) &amp;= -\sum_{\left&lt;i,j\right&gt;}J_{ij}s_i\cdot s_j -\sum_j \mathbf{h}_j\cdot\mathbf{s}_j\\
&amp;=-\sum_{i\neq j}J_{ij}\,\cos(\theta_i-\theta_j)-\sum_j h_j\,\cos\theta_j
\end{align}

!!Discussion
It was discovered that the [[Ising Model]] can be used to yield a lower bound on the inverse critical temperature of the classical XY-model.  More specifically, we can show that $\beta_{\rm crit}^{XY} \geq 2\beta_{\rm crit}^{I}$, which yeilds the lower bound $\beta_{\rm crit}^{XY}\geq 0.88$ for the [[Kosterlitz-Thouless transition]] in the two-dimensional case.&lt;&lt;bibtex Aizenman1980281&gt;&gt;

!!References
</pre>
</div>
<div title="Classical XY Model Revision(0006)" modifier="Christopher Wilson" created="201404150207" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="7" content-type="text/x-tiddlywiki">
<pre>The ''//classical XY model//'' (also known as the ''//classical rotor model//'', or ''//O(2) model//'') is a lattice model of statistical mechanics, a special case of the $n=2$ [[n-vector model]].

!!Definition
Given an $D$-dimensional lattice $\Lambda$, per each lattice site $j\in\Lambda$ there exists a two-dimensional, unit-length vector $\mathbf{s}_j = (\cos\theta_j,\sin\theta_j).$  The ''//spin configuration//'', $\mathbf{s} = (\mathbf{s}_j)_{j\in\Lambda}$ is an assignment of the angle $\theta_j \in (-\pi,\pi]$ per each site $j$ in the lattice.
$\qquad$Given a translation invariant interaction $J_{ij} = J(i-j)$ and a point dependent external field $\mathbf{h}_j = (h_j,0)$, the ''//configuration energy//'' is 
\begin{align}H(\mathbf{s}) &amp;= -\sum_{\left&lt;i,j\right&gt;}J_{ij}s_i\cdot s_j -\sum_j \mathbf{h}_j\cdot\mathbf{s}_j\\
&amp;=-\sum_{i\neq j}J_{ij}\,\cos(\theta_i-\theta_j)-\sum_j h_j\,\cos\theta_j
\end{align}

!!Discussion
It was discovered that the [[Ising Model]] can be used to yield a lower bound on the inverse critical temperature of the classical XY-model.  More specifically, we can show that $\beta_{\rm crit}^{XY} \geq 2\beta_{\rm crit}^{I}$, which yeilds the lower bound $\beta_{\rm crit}^{XY}\geq 0.88$ for the [[Kosterlitz-Thouless transition]] in the two-dimensional case.&lt;&lt;bibtex Aizenman1980281&gt;&gt;

!!References
</pre>
</div>
<div title="Classical XY Model Revision(0007)" modifier="Christopher Wilson" created="201404170754" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="8" content-type="text/x-tiddlywiki">
<pre>The ''//classical XY model//'' (also known as the ''//classical rotor model//'', or ''//O(2) model//'' is a lattice model of statistical mechanics, a special case of the $n=2$ [[n-vector model]].  The XY model is the continuous analog of the the discrete $q$-dimensional clock model.

!!Definition
Given an $D$-dimensional lattice $\Lambda$, per each lattice site $j\in\Lambda$ there exists a two-dimensional, unit-length vector $\mathbf{s}_j = (\cos\theta_j,\sin\theta_j).$  The ''//spin configuration//'', $\mathbf{s} = (\mathbf{s}_j)_{j\in\Lambda}$ is an assignment of the angle $\theta_j \in (-\pi,\pi]$ per each site $j$ in the lattice.
$\qquad$Given a translation invariant interaction $J_{ij} = J(i-j)$ and a point dependent external field $\mathbf{h}_j = (h_j,0)$, the ''//configuration energy//'' is 
\begin{align}H(\mathbf{s}) &amp;= -\sum_{\left&lt;i,j\right&gt;}J_{ij}s_i\cdot s_j -\sum_j \mathbf{h}_j\cdot\mathbf{s}_j\\
&amp;=-\sum_{i\neq j}J_{ij}\,\cos(\theta_i-\theta_j)-\sum_j h_j\,\cos\theta_j
\end{align}

!!Discussion
It was discovered that the [[Ising Model]] can be used to yield a lower bound on the inverse critical temperature of the classical XY-model.  More specifically, we can show that $\beta_{\rm crit}^{XY} \geq 2\beta_{\rm crit}^{I}$, which yeilds the lower bound $\beta_{\rm crit}^{XY}\geq 0.88$ for the [[Kosterlitz-Thouless transition]] in the two-dimensional case.&lt;&lt;bibtex Aizenman1980281&gt;&gt;

!!References
</pre>
</div>
<div title="Classical XY Model Revision(0008)" modifier="Christopher Wilson" created="201404172104" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="9" content-type="text/x-tiddlywiki">
<pre>The ''//classical XY model//'' (also known as the ''//classical rotor model//'', or ''//O(2) model//'' is a lattice model of statistical mechanics, a special case of the $n=2$ [[n-vector model]].  The XY model is the continuous analog of the the discrete $q$-dimensional [[clock model]].

!!Definition
Given an $D$-dimensional lattice $\Lambda$, per each lattice site $j\in\Lambda$ there exists a two-dimensional, unit-length vector $\mathbf{s}_j = (\cos\theta_j,\sin\theta_j).$  The ''//spin configuration//'', $\mathbf{s} = (\mathbf{s}_j)_{j\in\Lambda}$ is an assignment of the angle $\theta_j \in (-\pi,\pi]$ per each site $j$ in the lattice.
$\qquad$Given a translation invariant interaction $J_{ij} = J(i-j)$ and a point dependent external field $\mathbf{h}_j = (h_j,0)$, the ''//configuration energy//'' is 
\begin{align}H(\mathbf{s}) &amp;= -\sum_{\left&lt;i,j\right&gt;}J_{ij}s_i\cdot s_j -\sum_j \mathbf{h}_j\cdot\mathbf{s}_j\\
&amp;=-\sum_{i\neq j}J_{ij}\,\cos(\theta_i-\theta_j)-\sum_j h_j\,\cos\theta_j
\end{align}

!!Discussion
It was discovered that the [[Ising Model]] can be used to yield a lower bound on the inverse critical temperature of the classical XY-model.  More specifically, we can show that $\beta_{\rm crit}^{XY} \geq 2\beta_{\rm crit}^{I}$, which yeilds the lower bound $\beta_{\rm crit}^{XY}\geq 0.88$ for the [[Kosterlitz-Thouless transition]] in the two-dimensional case.&lt;&lt;bibtex Aizenman1980281&gt;&gt;

!!References
</pre>
</div>
<div title="ClassicalMechanics" modifier="Christopher Wilson" created="201402230014" modified="201402230444" tags="excludeTimeline" changecount="1" taggly.listmode="group" taggly.numcols="2">
<pre></pre>
</div>
<div title="CloseOnCancelPlugin" modifier="Christopher Wilson" created="201106271027" modified="201305222315" tags="systemConfig excludeTimeline" changecount="1">
<pre>/***
|Name:|CloseOnCancelPlugin|
|Description:|Closes the tiddler if you click new tiddler then cancel. Default behaviour is to leave it open|
|Version:|3.0.1a|
|Date:|27-Jun-2011|
|Source:|http://mptw.tiddlyspot.com/#CloseOnCancelPlugin|
|Author:|Simon Baird &lt;simon.baird@gmail.com&gt;|
|License:|http://mptw.tiddlyspot.com/#TheBSDLicense|
***/
//{{{
merge(config.commands.cancelTiddler,{

  handler_mptw_orig_closeUnsaved: config.commands.cancelTiddler.handler,

  handler: function(event,src,title) {
    this.handler_mptw_orig_closeUnsaved(event,src,title);
    if (!story.isDirty(title) &amp;&amp; !store.tiddlerExists(title) &amp;&amp; !store.isShadowTiddler(title))
      story.closeTiddler(title,true);
    return false;
  }

});

//}}}
</pre>
</div>
<div title="CodeMirrorConfig" modifier="Christopher Wilson" created="201404110253" modified="201404120235" tags="excludeTimeline cmtw excludeLists">
<pre>! ~CodeMirror Info
&lt;&lt;&lt;
* Learn more at: http://codemirror.net/2/doc/manual.html 
* If this list is missing something, just have a look at the above page and add it :)
* Every parameter that is a (function) @@needs a corresponding CM addOn function@@ to work with TW.
* This tiddler is a shadow tiddler. If you mess it up, just delete it, and you'll get a &quot;vanilla&quot; copy :)
&lt;&lt;&lt;
! Settings
&lt;&lt;&lt;
If your mode is not listed here, the corresponding library is not included at your TW. See CodeMirrorPluginInfo tiddler at the &quot;How to roll your own&quot; section/heading.

''Possible Modes'' .. {{{&lt;&lt;cmModes&gt;&gt;}}}
&gt;&lt;&lt;cmModes&gt;&gt;
''Possible MIMEs'' .. {{{&lt;&lt;cmMimes&gt;&gt;}}}
&gt;&lt;&lt;cmMimes&gt;&gt;
&lt;&lt;&lt;
!!! global
{{{
tabSize: 4
// (d) 4 .. if indentWithTabs is true, it should be same as indentUnit otherwise it behaves strange!

indentUnit: 4
// (d) 2 .. how many space a block is indented.

indentWithTabs: true
// (d) false || true

lineNumbers: true
// show line numbers

matchBrackets: true
// Determines whether brackets are matched whenever the cursor is moved next to a bracket.

electricChars: false
// Configures whether the editor should re-indent the current line, when an electric character is typed

extraKeys: smartTab
// IMPORTANT: chkInsertTabs cookie needs to be _de-activated_ otherwise extraKeys are ignored
// smartTab .. tab insert tab char. If text is selected tab indent block, shift-tab unindent block  
// simpleTab .. tab insert tab char. If text is selected, it will bedeleted!

extraKeys: toggleMaxHeight
// F11 .. maximize editor height
}}}

!!! null
&gt;default mode has an unlucky name
{{{
tags: 
mode: text/plain
indentWithTabs: true
tabSize: 4
indentUnit: 4
}}}

!!! tiddlywiki
{{{
tags: 
mode: tiddlywiki
indentWithTabs: true
tabSize: 4
indentUnit: 4
lineWrapping: true
}}}

!!! javascript
{{{
tags: systemConfig
mode: javascript
indentWithTabs: true
tabSize: 4
indentUnit: 4
electricChars: true
}}}

!!! xml
{{{
tags: 
mode: xml
}}}

!!! css
{{{
tags: systemCSS
mode: css
}}}

!!! htmlmixed
{{{
tags: systemTheme
mode: htmlmixed
}}}

!!! python
{{{
tags: 
mode: python
}}}

!!! xmlpure
{{{
tags: 
mode: xmlpure 
}}}

!!! php
{{{
tags: 
mode: application/x-httpd-php
}}}

!!! clike
{{{
tags: 
mode: clike
}}}

!!! stex
{{{
tags: 
mode: stex
}}}

!!! haskell
{{{
tags: 
mode: haskell
}}}

!!! ruby
{{{
tags: 
mode: ruby
}}}

!!! smalltalk
{{{
tags: 
mode: smalltalk
}}}

!!! plsql
{{{
tags: 
mode: plsql
}}}

!!! lua
{{{
tags: 
mode: lua
}}}

!!! scheme
{{{
tags: 
mode: scheme
}}}

!!! rst
{{{
tags: 
mode: rst
}}}

!!! yaml
{{{
tags: 
mode: yaml
}}}

!!! sparql
{{{
tags: 
mode: sparql
}}}

!!! velocity
{{{
tags: 
mode: velocity
}}}

!!! r
{{{
tags: 
mode: r
}}}</pre>
</div>
<div title="CodeMirrorPluginInfo" modifier="Christopher Wilson" created="201404110255" modified="201404120234" tags="excludeTimeline cmtw excludeLists">
<pre>|''Name''|CodeMirrorPluginInfo|
|''Description''|Documentation for [[zCodeMirrorPlugin]]|
|''Author''|PMario|
|''Source''|https://github.com/pmario/tw.CodeMirrorPlugin|
|''Documentation''|http://codemirror.tiddlyspace.com/|
|''Feedback''|Feedback is very welcome at [[TWGroup]]|
|''License''|see: [[zCodeMirrorPlugin]]|
|''Keywords''|editor syntax highlighting color code|
!Documentation
!!!! ToolbarCommands
&lt;&lt;&lt;
There are 2 new toolbar commands:
* {{{cmEdit}}} .. open tiddler for codemirror edit mode. Add this one to ToolbarCommands &quot;~ViewToolbar&quot; slice.
* {{{cmSave}}} .. open tiddler for codemirror edit mode. Add this one to ToolbarCommands &quot;~EditToolbar&quot; slice.
&lt;&lt;&lt;
!!!! ViewTemplate
&lt;&lt;&lt;
Add the following span to the ViewTemplate tiddler at &quot;subtitle&quot; definition.
&lt;!--{{{--&gt;
(type: &lt;span macro='view content-type link'&gt;&lt;/span&gt;)
&lt;!--}}}--&gt;
&lt;&lt;&lt;
!!!! EditTemplate
&lt;&lt;&lt;
To change the source type, add the following line to the EditTemplate, right below the &quot;edit title&quot; macro.
&lt;!--{{{--&gt;
&lt;div class='toolbar' macro='typeChooser'&gt;&lt;/div&gt;
&lt;!--}}}--&gt;
&lt;&lt;&lt;
!!!! TiddlySpace Icons
&lt;&lt;&lt;
If you use codemirror editor with TiddlySpace you'll need to create new icons
* Just create a new tiddler named [[cmEdit]] and copy the [[editTiddler]] content into &quot;cmEdit&quot;. 
* [[saveTiddler]] goes to [[cmSave]].
* There is an [[editTiddlerReadOnly]] icon, which is basically a &quot;view icon&quot;. For codemirror, there is no need to change this one.
&lt;&lt;&lt;
!!!! Global Settings
&lt;&lt;&lt;
* &lt;&lt;option chkInsertTab&gt;&gt;chkInsertTab option cookie ''should be disabled'' to use CM key-handling. If {{{chkInsertTab}}} is active, keyhandling is hardcoded. {{{extraKeys}}} settings in CodeMirrorConfig are ignored. 
* Learn more at ExtraKeysAddOn plugin. 
&lt;&lt;&lt;
!!!! StyleSheet
&lt;&lt;&lt;
* The plugin automatically creates a shadow StyleSheetCodeMirror tiddler, that can be adjusted to your needs.
&lt;&lt;&lt;
!!!! Macros
&lt;&lt;&lt;
The plugin contains some additional macros, to get an overview, which modes are activated.

Modes: {{{&lt;&lt;cmModes&gt;&gt;}}} ... displays the usable modes seen below.
&gt; Available Modes: &lt;&lt;cmModes&gt;&gt;
MIMEs: {{{&lt;&lt;cmMimes&gt;&gt;}}} ... displays the usable mime types seen below. Same order as modes.
&gt; Available MIMEs: &lt;&lt;cmMimes&gt;&gt;
&lt;&lt;&lt;
!!!! Text
&lt;&lt;&lt;
{{{
 {{{
 This will produce a plain text block!
 }}}
}}}
{{{
This is a plain text block!
}}}
&lt;&lt;&lt;
!!!! CSS
&lt;&lt;&lt;
{{{
 /*{{{*/
 .cssClass {
	display: block; !important;
 }
 /*}}}*/
}}}
will render like:
/*{{{*/
.cssClass {
	display: block; !important;
}
/*}}}*/
&lt;&lt;&lt;
!!!! XML
&lt;&lt;&lt;
{{{
&lt;!--{{{--&gt;
&lt;html&gt;
	&lt;div id='myId' class='dp50'&gt;some text &lt;/div&gt;
&lt;/html&gt;
&lt;!--}}}--&gt;
}}}
will render like:
&lt;!--{{{--&gt;
&lt;html&gt;
	&lt;div id='myId' class='dp50'&gt;some text &lt;/div&gt;
&lt;/html&gt;
&lt;!--}}}--&gt;
&lt;&lt;&lt;
!!!! Plugin
&lt;&lt;&lt;
{{{
//{{{
(function($) {
	config.macros.highlightSyntax = {
		var a = b = 0;
		// your code here!
	}
})(jQuery);
//}}}
}}}
will render like:
//{{{
(function($) {
	config.macros.highlightSyntax = {
		var a = b = 0;
		// your code here!
	}
})(jQuery);
//}}}
&lt;&lt;&lt;
!!!! Code sample
&lt;&lt;&lt;
&lt;!--{{{--&gt;
&lt;code class=&quot;brush:javascript&quot;&gt;
// comment
var a = b = 0;
a = 17;
&lt;/code&gt;
&lt;!--}}}--&gt;
will render like 
&lt;code class=&quot;brush:javascript&quot;&gt;
// comment
var a = b = 0;
a = 17;
&lt;/code&gt;
&lt;&lt;&lt;
!! Advanced Options
&lt;&lt;&lt;
Guess syntax: &lt;&lt;option chkGuessSyntax&gt;&gt; .. If activated, ~TiddlyWiky &lt;pre&gt; blocks will be rendered according to there block braces, like described obove.
Expert mode: &lt;&lt;option chkExpertSyntax&gt;&gt; .. If activated, additional values below will be used

{{{ {{{ }}} txtShText: &lt;&lt;option txtShText&gt;&gt; eg: 'brush:text'
{{{ /*{{{*/ }}} txtShCss: &lt;&lt;option txtShCss&gt;&gt; eg: 'brush:css'
{{{ //{{{ }}} txtShPlugin: &lt;&lt;option txtShPlugin&gt;&gt; 'brush:js'
{{{ &lt;!--{{{--&gt;&gt; }}} txtShXml: &lt;&lt;option txtShXml&gt;&gt; 'brush:xml'

If you want to change the default values eg for C++, add the following to a [[zzConfig]] tiddler and tag it &quot;systemConfig&quot;
//{{{
config.options.chkGuessSyntax = true;
config.options.chkExpertSyntax = true;

config.options.txtShPlugin = 'brush:clike';
//}}}
and use the following backets to cover your code
{{{
//{{{
   cpp code comes here.
//}}}
}}}

All possible &quot;brushes&quot; can be found at: [[CodeMirror homepage|http://codemirror.net]]
&lt;&lt;&lt;
!! You need a different mode?
* Go to [[CodeMirror compression API page| http://codemirror.net/compress.html]] 
* Select your mode
* Create a minified version
* Copy paste it into a tiddler eg: clike.js
** Add the line {{{|''Requires''|codemirror.js|}}} at the top of the tiddler
*** see eg: [[css.js]]
** Tag the new tiddler ''systemConfig''
** Save and reload
* Have a look at Advanced options or use the {{{&lt;code class=&quot;brush: ... &gt;}}} tag described above.

!! List needed tiddlers tagged &quot;cmtw&quot; and &quot;cmtwAddOn&quot;
&lt;&lt;&lt;
''If you want to roll your own version, the following tiddlers are needed.''
&lt;&lt;list filter [tag[cmtw]]&gt;&gt;
&lt;&lt;&lt;
&lt;&lt;&lt;
''There are usefull addOns too'' 
&lt;&lt;list filter [tag[cmtwAddOn]]&gt;&gt;
&lt;&lt;&lt;
!!! highlightSyntax Macro
&lt;&lt;&lt;
*The {{{highlightSyntax}}} macro is only needed if you have inline html blocks, like shown below.
&lt;!--{{{--&gt;
&lt;html&gt;
	&lt;pre class='brush:clike'&gt;
		// your code 
	&lt;/pre&gt;
&lt;/html&gt;

&lt;&lt;highlightSyntax&gt;&gt; .. will render the &lt;pre&gt; blocks shown above.
&lt;!--}}}--&gt;
&lt;&lt;&lt;
!!!! Parameters
&lt;&lt;&lt;
{{{&lt;&lt;highlightSyntax [tagName]&gt;&gt;}}}
*will render all blocks, with any defined tag name. eg: tagName = code.
*[tagName] is optional. Default is &quot;pre&quot;.
&lt;&lt;&lt;
!!! Revision History
&lt;&lt;&lt;
* V 0.2.8 2012-06-23
** &quot;smartTab&quot; handling adjusted. see: ExtraKeysAddOn
** minor documentation adjustments about ViewTemplate, EditTemplate requirements.
* V 0.2.7 2012-03-13
** Editor refresh fixed, TypeChooser height fixed.
* V 0.2.6 2012-03-13
** Added functions to make editor height persistent.
* V 0.2.5 2012-02-07
** update codemirror library to v2.21 including all &quot;support&quot; libraries.
** TAB key handling improved. Extra keys handling moved to ExtraKeysAddOn
** F11 toggle editor height moved to ExtraKeysAddOn.
* V 0.2.4 2012-01-31
** slightly better TAB key handling. Internal testing only
* V 0.2.3 2012-01-11
** renames everything codemirror2 -&gt; codemirror
** Toggle max height mode implemented hardcoded key: 'F11'
* V 0.2.1 2012-01-10
** Toggle max height mode implemented hardcoded key: 'F11'
* V 0.2.0 2011-10-23
** update to codeMirror lib v2.2
** indentation / tab handling fix
* V 0.1.7 2011-10-27
** little docu fix
* V 0.1.6 2011-10-05
** several bug fixes
** improved handling, initializing ...
* V 0.1.4 2011-09-25
** resize hack changed
* V 0.1.0 2011-09-07
** inital release
&lt;&lt;&lt;</pre>
</div>
<div title="CollapsePlugin" modifier="Christopher Wilson" created="201404102247" tags="excludeTimeline systemConfig systemConfigDisable" changecount="1">
<pre>/***
Authors: Eric Shulman &amp; Bradley Meck
version: 2007.30.03
source: http://www.tiddlytools.com/
***/
/*{{{*/
config.commands.collapseNote = {
text: &quot;-&quot;,
tooltip: &quot;Collapse this note&quot;,
handler: function(event,src,title)
{
var e = story.findContainingNote(src);
if(e.getAttribute(&quot;template&quot;) != config.noteTemplates[DEFAULT_EDIT_TEMPLATE]){
var t = (readOnly&amp;&amp;store.noteExists(&quot;WebCollapsedTemplate&quot;))?&quot;WebCollapsedTemplate&quot;:&quot;CollapsedTemplate&quot;;
if(e.getAttribute(&quot;template&quot;) != t ){
e.setAttribute(&quot;oldTemplate&quot;,e.getAttribute(&quot;template&quot;));
story.displayNote(null,title,t);
}
}
}
}

config.commands.expandNote = {
text: &quot; | &quot;,
tooltip: &quot;Expand this note&quot;,
handler: function(event,src,title)
{
var e = story.findContainingNote(src);
story.displayNote(null,title,e.getAttribute(&quot;oldTemplate&quot;));
}
}

config.macros.collapseAll = {
handler: function(place,macroName,params,wikifier,paramString,note){
createTiddlyButton(place,&quot;-&quot;,&quot;Collapse all notes&quot;,function(){
story.forEachNote(function(title,note){
if(note.getAttribute(&quot;template&quot;) != config.noteTemplates[DEFAULT_EDIT_TEMPLATE])
var t = (readOnly&amp;&amp;store.noteExists(&quot;WebCollapsedTemplate&quot;))?&quot;WebCollapsedTemplate&quot;:&quot;CollapsedTemplate&quot;;
story.displayNote(null,title,t);
})})
}
}

config.macros.expandAll = {
handler: function(place,macroName,params,wikifier,paramString,note){
createTiddlyButton(place,&quot;expand all&quot;,&quot;Expand all notes&quot;,function(){
story.forEachNote(function(title,note){
var t = (readOnly&amp;&amp;store.noteExists(&quot;WebCollapsedTemplate&quot;))?&quot;WebCollapsedTemplate&quot;:&quot;CollapsedTemplate&quot;;
if(note.getAttribute(&quot;template&quot;) == t) story.displayNote(null,title,note.getAttribute(&quot;oldTemplate&quot;));
})})
}
}

config.commands.collapseOthers = {
text: &quot;&quot;,
tooltip: &quot;Expand this note and collapse all others&quot;,
handler: function(event,src,title)
{
var e = story.findContainingNote(src);
story.forEachNote(function(title,note){
if(note.getAttribute(&quot;template&quot;) != config.noteTemplates[DEFAULT_EDIT_TEMPLATE]){
var t = (readOnly&amp;&amp;store.noteExists(&quot;WebCollapsedTemplate&quot;))?&quot;WebCollapsedTemplate&quot;:&quot;CollapsedTemplate&quot;;
if (e==note) t=e.getAttribute(&quot;oldTemplate&quot;);
//////////
// ELS 2006.02.22 - removed this line.  if t==null, then the *current* view template, not the default &quot;ViewTemplate&quot;, will be used.
// if (!t||!t.length) t=!readOnly?&quot;ViewTemplate&quot;:&quot;WebViewTemplate&quot;;
//////////
story.displayNote(null,title,t);
}
})
}
}
/*}}}*/</pre>
</div>
<div title="CollapseTiddlersPlugin" modifier="Christopher Wilson" created="201404121019" modified="201404121651" tags="excludeTimeline systemConfig" changecount="2" content-type="application/json" alias="">
<pre>/***
|Name|CollapseTiddlersPlugin|
|Source|http://gensoft.revhost.net/Collapse.html|
|Version|2008.10.05|
|Author|Bradley Meck (modified by ELS)|
|License|unknown|
|~CoreVersion|2.1|
|Type|plugin|
|Requires|CollapsedTemplate|
|Overrides||
|Description|show/hide content of a tiddler while leaving tiddler title visible|

|ELS 10/5/2008: collapseAll() and expandAll(): added &quot;return false&quot; to button handlers to prevent IE page transition |
|ELS 3/6/2008: refactored code for size reduction, readability, and I18N/L10N-readiness.  Also added 'folded' flag to tiddler elements (for use by other plugins that need to know if tiddler is folded (e.g., [[SinglePageModePlugin]]) |
|ELS 10/11/2007: moved [[FoldFirst]] inline script and converted to {{{&lt;&lt;foldFirst&gt;&gt;}}} macro. |
|ELS 9/12/2007: suspend/resume SinglePageMode (SPM/TPM/BPM) when folding/unfolding tiddlers |
|ELS 6/5/2007: add &quot;return false&quot; at the end of each command handler to prevent IE 'page transition' problem. |
|ELS 3/30/2007: add a shadow definition for CollapsedTemplate.  Tweak ViewTemplate shadow so &quot;fold/unfold&quot; and &quot;focus&quot; toolbar items automatically appear when using default templates.  Remove error check for &quot;CollapsedTemplate&quot; existence, since shadow version will now always work as a fallback. |
|ELS 2/24/2006: added fallback to &quot;CollapsedTemplate&quot; if &quot;WebCollapsedTemplate&quot; is not found |
|ELS 2/6/2006: added check for 'readOnly' flag to use alternative &quot;WebCollapsedTemplate&quot; |

***/

//{{{
/*
config.shadowTiddlers.CollapsedTemplate=
	&quot;&lt;!--{{{--&gt;\
	&lt;div class='toolbar'&gt;\
	&lt;span class='editTiddler' macro='toolbar cmEdit'&gt;&lt;span macro='setIcon2 fa-code fa-fw'&gt;&lt;/span&gt;&lt;/span&gt;\
	&lt;span class='editTiddler' macro='toolbar editTiddler'&gt;&lt;span macro='setIcon2 fa-pencil fa-fw'&gt;&lt;/span&gt;&lt;/span&gt;\
	&lt;span class='permalink' macro='toolbar permalink'&gt;&lt;span macro='setIcon2 fa-link fa-flip-horizontal fa-fw'&gt;&lt;/span&gt;&lt;/span&gt;\
	&lt;span class='expand' macro='toolbar expandTiddler'&gt;&lt;span macro='setIcon2 fa-expand fa-fw'&gt;&lt;/span&gt;&lt;/span&gt;\
	&lt;span class='closeTiddler' macro='toolbar closeTiddler'&gt;&lt;span macro='setIcon2 fa-times fa-fw'&gt;&lt;/span&gt;&lt;/span&gt;\
	&lt;/div&gt;\
	&lt;div class='title' macro='view title'&gt;&lt;/div&gt;\
	&lt;!--}}}--&gt;&quot;;
*/
// automatically tweak shadow ViewTemplate to add &quot;collapseTiddler collapseOthers&quot; commands
config.shadowTiddlers.ViewTemplate=config.shadowTiddlers.ViewTemplate.replace(/closeTiddler/,&quot;collapseTiddler collapseOthers closeTiddler&quot;);

config.commands.collapseTiddler = {
	text: &quot;fold&quot;,
	tooltip: &quot;Collapse this tiddler&quot;,
	collapsedTemplate: &quot;CollapsedTemplate&quot;,
	webCollapsedTemplate: &quot;WebCollapsedTemplate&quot;,
	handler: function(event,src,title) {
		var e = story.findContainingTiddler(src); if (!e) return false;
		// don't fold tiddlers that are being edited!
		if(story.isDirty(e.getAttribute(&quot;tiddler&quot;))) return false;
		var t=config.commands.collapseTiddler.getCollapsedTemplate();
		config.commands.collapseTiddler.saveTemplate(e);
		config.commands.collapseTiddler.display(title,t);
		e.setAttribute(&quot;folded&quot;,&quot;true&quot;);
		return false;
	},
	getCollapsedTemplate: function() {
		if (readOnly&amp;&amp;store.tiddlerExists(this.webCollapsedTemplate))
			return this.webCollapsedTemplate;
		else
			return this.collapsedTemplate
	},
	saveTemplate: function(e) {
		if (e.getAttribute(&quot;savedTemplate&quot;)==undefined)
			e.setAttribute(&quot;savedTemplate&quot;,e.getAttribute(&quot;template&quot;));

	},
	// fold/unfold tiddler with suspend/resume of single/top/bottom-of-page mode
	display: function(title,t) {
		var opt=config.options;
		var saveSPM=opt.chkSinglePageMode; opt.chkSinglePageMode=false;
		var saveTPM=opt.chkTopOfPageMode; opt.chkTopOfPageMode=false;
		var saveBPM=opt.chkBottomOfPageMode; opt.chkBottomOfPageMode=false;
		story.displayTiddler(null,title,t);
		opt.chkBottomOfPageMode=saveBPM;
		opt.chkTopOfPageMode=saveTPM;
		opt.chkSinglePageMode=saveSPM;
	}
}

config.commands.expandTiddler = {
	text: &quot;unfold&quot;,
	tooltip: &quot;Expand this tiddler&quot;,
	handler: function(event,src,title) {
		var e = story.findContainingTiddler(src); if (!e) return false;
		var t = e.getAttribute(&quot;savedTemplate&quot;);
		config.commands.collapseTiddler.display(title,t);
		e.setAttribute(&quot;folded&quot;,&quot;false&quot;);
		return false;
	}
}

config.macros.collapseAll = {
	text: &quot;collapse all&quot;,
	tooltip: &quot;Collapse all tiddlers&quot;,
	handler: function(place,macroName,params,wikifier,paramString,tiddler){
		createTiddlyButton(place,this.text,this.tooltip,function(){
			story.forEachTiddler(function(title,tiddler){
				if(story.isDirty(title)) return;
				var t=config.commands.collapseTiddler.getCollapsedTemplate();


				config.commands.collapseTiddler.saveTemplate(tiddler);
				config.commands.collapseTiddler.display(title,t);
				tiddler.folded=true;
			});
			return false;
		})
	}
}

config.macros.expandAll = {
	text: &quot;expand all&quot;,
	tooltip: &quot;Expand all tiddlers&quot;,
	handler: function(place,macroName,params,wikifier,paramString,tiddler){
		createTiddlyButton(place,this.text,this.tooltip,function(){
			story.forEachTiddler(function(title,tiddler){
				var t=config.commands.collapseTiddler.getCollapsedTemplate();
				if(tiddler.getAttribute(&quot;template&quot;)!=t) return; // re-display only if collapsed
				var t=tiddler.getAttribute(&quot;savedTemplate&quot;);
				config.commands.collapseTiddler.display(title,t);
				tiddler.folded=false;
			});
			return false;
		})
	}
}

config.commands.collapseOthers = {
	text: &quot;focus&quot;,
	tooltip: &quot;Expand this tiddler and collapse all others&quot;,
	handler: function(event,src,title) {
		var e = story.findContainingTiddler(src); if (!e) return false;
		story.forEachTiddler(function(title,tiddler) {
			if(story.isDirty(title)) return;
			var t=config.commands.collapseTiddler.getCollapsedTemplate();
			if (e==tiddler) t=e.getAttribute(&quot;savedTemplate&quot;);
			config.commands.collapseTiddler.saveTemplate(tiddler);
			config.commands.collapseTiddler.display(title,t);
			tiddler.folded=(e!=tiddler);
		})
		return false;
	}
}

// {{{&lt;&lt;foldFirst&gt;&gt;}}} macro forces tiddler to be folded when *initially* displayed.
// Subsequent re-render does NOT re-fold tiddler, but closing/re-opening tiddler DOES cause it to fold first again.
config.macros.foldFirst = {
	handler: function(place,macroName,params,wikifier,paramString,tiddler){
		var e=story.findContainingTiddler(place);
		if (e.getAttribute(&quot;foldedFirst&quot;)==&quot;true&quot;) return; // already been folded once
		var title=e.getAttribute(&quot;tiddler&quot;)
		var t=config.commands.collapseTiddler.getCollapsedTemplate();
		config.commands.collapseTiddler.saveTemplate(e);
		config.commands.collapseTiddler.display(title,t);
		e.setAttribute(&quot;folded&quot;,&quot;true&quot;);
		e.setAttribute(&quot;foldedFirst&quot;,&quot;true&quot;); // only when tiddler is first rendered
		return false;
	}
}
//}}}</pre>
</div>
<div title="CollapsedTemplate" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405180441" tags="systemTemplate excludeTimeline" content-type="text/html" alias="" changecount="5">
<pre>&lt;div class='toolbar'&gt;
	&lt;span class=&quot;editMacros&quot;&gt;
&lt;span class='editTiddler' macro='toolbar cmEdit'&gt;&lt;span macro='setIcon2 fa-code fa-fw'&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class='editTiddler' macro='toolbar editTiddler'&gt;&lt;span macro='setIcon2 fa-pencil fa-fw'&gt;&lt;/span&gt;&lt;/span&gt;
&lt;/span&gt;
		&lt;!--&lt;span class='permalink' macro='toolbar permalink'&gt;&lt;span macro='setIcon2 fa-link fa-flip-horizontal fa-fw'&gt;&lt;/span&gt;&lt;/span&gt;--&gt;
&lt;span class='expand' macro='toolbar expandTiddler'&gt;&lt;span macro='setIcon2 fa-expand fa-fw'&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class='closeTiddler' macro='toolbar closeTiddler'&gt;&lt;span macro='setIcon2 fa-times fa-fw'&gt;&lt;/span&gt;&lt;/span&gt;
&lt;/div&gt;
&lt;div class='title' macro='view title'&gt;&lt;/div&gt;
</pre>
</div>
<div title="Collective Behavior" modifier="Christopher Wilson" created="201305312114" modified="201302221000" tags="[[Plasma Theory]]" changecount="2">
<pre>Collective interactions occur when charged particles interact simultaneously with many other charged particles.  This is as opposed to just a simple two-body interaction.</pre>
</div>
<div title="ColorPalette" modifier="Christopher Wilson" created="201405082201" changecount="1">
<pre>Name: AColor
Background: #fff
Foreground: #000
PrimaryPale: #eff3fa
PrimaryLighter: #bce
PrimaryLight: #9bd
PrimaryMid: #336699
PrimaryDark: #003366
PrimaryDarker: #001a44
SecondaryPale: #ffc
SecondaryLight: #fe9
SecondaryMid: #baa07b
SecondaryDark: #886655
TertiaryPale: #eee
TertiaryLighter: #ddd
TertiaryLight: #ccc
TertiaryMid: #999
TertiaryDark: #666
TertiaryDarker: #333
Error: #f88</pre>
</div>
<div title="Common Metrics" modifier="Christopher Wilson" created="201404012310" tags="Topology">
<pre></pre>
</div>
<div title="Common Topologies" modifier="Christopher Wilson" created="201402272140" modified="201402272202" tags="Topology">
<pre></pre>
</div>
<div title="Compact" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404240013" modified="201404240713" tags="Topology" changecount="132" content-type="text/x-tiddlywiki">
<pre>!!Definition
A space $X$ is said to be ''//compact//'' if every open covering $\mathcal{A}$ of $X$ contains a finite subcollection that also [[covers|Cover]] $X$.

!!Theorems
*Every closed subspace of a compact space is compact.
{{proof{
+++!!!![Show Proof][Hide Proof]
Let $Y$ = $\overline{Y} \subset X$, where $X$ is a compact space.  Given a covering $\mathcal{A}$ of $Y$ by sets open in $X$, let us use the fact that $Y$ is closed to form another open set by taking the difference $X- Y$.  With this, we may form an open covering $\mathcal{B}$ of $X$ by taking the union $\mathcal{B} = X \cup (X-Y)$.  Since $X$ is compact and $\mathcal{B}$ is an open covering of $X$, some finite subcollection of $\mathcal{B}$ covers $X$.  If this subcollection contains the set $X-Y$, then this set does not contribute to the cover of $Y$, so we discard it.  Otherwise, leave the subcollection alone.  The resulting collection is a finite subcollection of $\mathcal{A}$ that covers $Y.$ \(\tag*{$\square$}\)===
}}}
*Every compact subspace of a Hausdorff space is closed.
*If a Hausdorff space is not closed, the it is not compact.
*If $Y$ is a compact subspace of the Hausdorff space $X$ and $x_0$ is not in $Y$, then there exist disjoin open sets $U$ and $V$ of $X$ containing $x_0$ and $Y$, respectively.
{{proof{
+++!!!![Show Proof][Hide Proof]
Let $Y$ be a compact subspace of the Hausdorff space $X$.  We shall prove that $X-Y$ is open, so that $Y$ is closed. Also let $x_0 \in X - Y$.  We will show that there is a neighborhood of $x_0$ that is disjoint from $Y$.  This will show that $x_0$ is not a limit point of $Y$, which implies that $Y$ is closed since $Y$ contains all of its limit points.  
$\qquad$For each point $y \in Y$, we use the Hausdorff condition to choose disjoint neighborhoods $U_y, V_y$ of $x_0$ and $y$, respectively.  The collection $\{V_y:y\in Y\}$ is a covering of $Y$ by sets open in $X$.  Since $Y$ is compact, finitely many $\{V_{y_n}\}$ cover $Y$.  The open set $$V = \bigcup_n V_{y_n}$$ contains $Y$, and is disjoint from the open set $$U = \bigcap_n U_{y_n}$$ formed by taking the intersection of the corresponding neighborhoods of $x_0$.  We show this by noting that if \(z\in V\), then $z \in V_{y_i}$ for some $i$, hence $z \not\in U_{y_i}$, and so $z\not\in U$, so that $U \cap V = \varnothing$. 
\(\tag*{$\square$}\)
===
}}}
*The Image of a compact space under a continuous map is compact.
{{proof{
+++!!!![Show Proof][Hide Proof]
Let $f:X \rightarrow Y$ be a continuos map; let $X$ be compact.  Let $\mathcal{A}$ be an arbitrary covering of the set $f(X)$ by sets open in $Y$.  The sets $$\left\{f^{-1}(A):A\in\mathcal{A}\right\}$$ is a collection covering $X$, where each $A\in\mathcal{A}$ is open in $X$ because $f$ is continuous.  Since $X$ is compact, finitely many $$\left\{f^{-1}(A_n):A_n\in\mathcal{A}\right\}$$ cover $X$.  Therefore, the finite collection $\{A_n:A_n \in \mathcal{A}\}$ covers $f(X)$.  Since $\mathcal{A}$ was arbitrary, it follows that $f(X)$ is compact.
\(\tag*{$\square$}\)===
}}}
*Let $f:X\rightarrow Y$ be a bijective continuous function.  If $X$ is compact and $Y$ is Hausdorff, then $f$ is a homeomorphism.
{{proof{
+++!!!![Show Proof][Hide Proof]
It follows that $f$ is a homeomorphism if we show that $f^{-1}$ is continuous.  We will do this by showing that $f$ is a closed map.  
$\qquad$If $A$ is closed in the compact space $X$, then $A$ is compact.  Then, the set $f(A)$ is compact since $f$ is continuous.  Therefore, $f(A)$ is closed in $Y$, since $Y$ is Hausdorff.
\(\tag*{$\square$}\)===
}}}
*''The Tube Lemma.''  Consider the product space $X\times Y$, where $Y$ is compact.  If $N$ is an open set of $X \times Y$ containing the slice $x_0 \times Y$ of $X\times Y$, then $N$ contains some tube $W\times Y$ about $x_0\times Y$, where $W$ is a neighborhood of $x_0$ in $X$.
{{proof{
+++!!!![Show Proof][Hide Proof]
\(\tag*{$\square$}\)===
}}}

</pre>
</div>
<div title="Comparison of Topologies" modifier="Christopher Wilson" created="201402271853" modified="201404082206" tags="Topology" alias="" content-type="" changecount="8">
<pre>\*Need to fix this notation.

!!Definition
Let $X$ be a set and let $\mathscr{T}$ and $\mathscr{T}'$ be two [[topologies|Topology (definition)]] on $X$.  We say that $\mathscr{T}$ is ''//finer//'' (''//stronger//'' or ''//larger//'') than $\mathscr{T}$' if the following equivalent conditions are satisfied:
#Any open/closed set for $\mathscr{T}$' is open/closed for $\mathscr{T}$.
#The identity map $(X,\mathscr{T}) \mapsto (X,\mathscr{T}')$ is a continuous map.

!!Theorem
Let $\mathscr{B}$ and $\mathscr{B}'$ be bases for the topologies $\mathscr{T}$ and $\mathscr{T}'$, respectively, on $X$.  Then the following are equivalent:
# $\mathscr{T}'$ is ''//finer//'' than $\mathscr{T}$ (symbolically: $\mathscr{T} \subset \mathscr{T}'$).
# $\forall\; x \in X$ and each basis element $B \in \mathscr{B}$ containing $x$, $\exists\; B\;' \in  \mathscr{B}\;'$ s.t. $x \in B\;' \subset B$.

!!Notes
*The ''//finest//'' topology on $X$ is the [[discrete topology|Discrete Topology]].
*The ''//coarsest//'' topology on $X$ is the [[trivial topology|Trivial Topology]].</pre>
</div>
<div title="Configuration" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405170314" tags="Reference excludeTimeline" content-type="text/x-tiddlywiki" changecount="13" alias="">
<pre>|[[PageTemplate]]|c
|centered|k
|&gt;|[[SiteTitle]] - [[SiteSubtitle]] - [[MainMenu]]|
|[[DefaultTiddlers]] &lt;br&gt;&lt;br&gt;&lt;br&gt;[[ViewTemplate]] &lt;br&gt; [[CollapsedTemplate]] &lt;br&gt;[[EditTemplate]]|[[SideBarTabs]]|
|~|[[OptionsPanel]]|
|~|[[AdvancedOptions]]|
|~|&lt;&lt;tiddler Configuration.SideBarTabs&gt;&gt;|

''StyleSheet:'' [[StyleSheet]] - [[StyleSheetColors]] - [[StyleSheetLayout]] - [[StyleSheetPrint]]

[[SiteUrl]] [[UserConfigPlugin]]</pre>
</div>
<div title="Congruence" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405060642" tags="[[Topology Paper]]" changecount="1" content-type="">
<pre>A //congruence// of null geodesics in an open set of a spacetime is a family of null geodesics such that for each point in the open set, there passes precisely one null geodesic in the family.</pre>
</div>
<div title="Connected" modifier="Christopher Wilson" created="201404110451" modified="201404210259" tags="Topology" changecount="2" content-type="text/x-tiddlywiki">
<pre>!!Definition
A ''//connected//'' topological space is one that is not [[seperated|separation]].

A space $X$ is ''//connected//'' if and only if the only subsets of $X$ that are both open and closed in $X$ are $\varnothing$ and $X$.

!!Notes
*The union of collection of connected subspaces of $X$ that have a common point is connected.
*If $A$ is connected, and $B$ satisfies $A\subset B \subset \overline{A}$, then $B$ is also connected.
*The image of a connected space under a [[continuous map|continuity]] is also connected.
*A finite cartesian product of connected spaces is connected.&lt;&lt;bibtex munkres2000topology&gt;&gt;
</pre>
</div>
<div title="Connected Components" modifier="Christopher Wilson" created="201404110625" modified="201404120832" tags="Topology" content-type="text/x-tiddlywiki" changecount="1">
<pre>!!Definition
Given $X$, define an equivalence relation on $X$ by setting $x\sim y$ if there is a [[connected]] subspace of $X$ containing both $x$ and $y$.  The equivalence classes are called the ''//components//'' of $X$.

We can also define another equivalence relation on $X$ by defining $x\sim  y$ if there is a path in $X$ from $x$ to $y$.  The equivalence classes are called the ''//path components//'' of $X$.

The maximal [[connected]] subsets (ordered by inclusion) of a nonempty topological space are called the ''//connected components//'' of the space. The components of any topological space X form a partition of X: they are disjoint, nonempty, and their union is the whole space. Every component is a closed subset of the original space. It follows that, in the case where their number is finite, each component is also an open subset. However, if their number is infinite, this might not be the case; for instance, the connected components of the set of the rational numbers are the one-point sets, which are not open&lt;&lt;bibtex wiki:Connectedspace&gt;&gt;.

!!Notes
*The ''//components//'' of $X$ are [[connected]] disjoint subspaces of $X$ whose union is $X$, such that each nonempty connected subspace of $X$ intersects only one of them.
*The ''//path components//'' of $X$ are [[path connected]] disjoint subspaces of $X$ whose union is $X$, such that each nonempty path connected subspace of $X$ intersects only one of them.
</pre>
</div>
<div title="Constant Perturbation" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405032227" modified="201405040406" changecount="4" content-type="text/x-tiddlywiki">
<pre>The [[Transition Probability]] for a constant (time-independent) perturbation is 
$$\mathcal{P}_{if} = \frac{4}{\hbar^2 {\omega_{fi}}^2}\sin^2\biggl(\frac{\omega_{fi}\,t}{2}\biggr)\biggl|\bigl&lt;\psi_f\bigr|V\bigl|\psi_i\bigr&gt;\biggr|^2.$$Note that this first-order form is also the exact form for a constant perturbation.

Using the asymptotic relation $$\lim_{t\rightarrow\infty}\frac{\sin^2yt}{y^2 t} = \delta(y),$$
and the relation $$\delta(\omega_{fi}/2) = 2\hbar\delta(\hbar\omega_{fi}) = 2\hbar\delta(E_f - E_i),$$ we may write the transition-probability for a constant perturbation as 
$$\mathcal{P}_{if} = \frac{2\pi t}{\hbar}\delta(E_f - E_i)\Bigl|\bigl&lt;\psi_f\bigl|V\bigl|\psi_i\bigr&gt;\Bigr|^2.$$
*Note that $\delta(E_f - E_i)$ is a statement of energy conservation; no transition occurs unless $E_f = E_i$.</pre>
</div>
<div title="Continuity" modifier="Christopher Wilson" created="201402272026" modified="201404120347" tags="Topology" alias="continuous [[Continuous]]" content-type="text/x-tiddlywiki" changecount="28">
<pre>!!Definition
Let $X$ and $Y$ be topological spaces.  A function $f:X\rightarrow Y$ is said to be ''//continuous//'' if for each open subset $V$ of $Y$, the set $f^{-1}(V)$ is an open subset of $X$.

!!Theorem
Let $X$ and $Y$ be topological spaces; let $f:X\rightarrow Y$.  Then the following are equivalent:
# $f$ is ''//continuous//''.
# $\forall\; A \subset X$, $f(\bar{A}) \subset \overline{f(A)}$.
# $\forall\; B_{closed} \subset Y, f^{-1}(B) $ is closed in $X$.
# $\forall\; x \in X$ and each neighborhood $V$ of $f(x)$, $\exists\; $ a [[neighborhood]] $U$ of $x$ s.t. $f(U)\subset V$.</pre>
</div>
<div title="Continuous Map" modifier="Christopher Wilson" created="201404110740">
<pre>See [[continuity]].</pre>
</div>
<div title="CopyTiddlerPlugin" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404121849" tags="systemConfig excludeTimeline" changecount="1" content-type="">
<pre>/***
|Name|CopyTiddlerPlugin|
|Source|http://www.TiddlyTools.com/#CopyTiddlerPlugin|
|Version|3.2.6|
|Author|Eric Shulman|
|License|http://www.TiddlyTools.com/#LegalStatements|
|~CoreVersion|2.3|
|Type|plugin|
|Description|Quickly create a copy of any existing tiddler|
!!!Usage
&lt;&lt;&lt;
The plugin automatically updates the default (shadow) ToolbarCommands definitions to insert the ''copyTiddler'' command, which will appear as ''copy'' when a tiddler is rendered.  If you are already using customized toolbar definitions, you will need to manually add the ''copyTiddler'' toolbar command to your existing ToolbarCommands tiddler, e.g.:
{{{
|EditToolbar|... copyTiddler ... |
}}}
When the ''copy'' command is selected, a new tiddler is created containing an exact copy of the current text/tags/fields, using a title of &quot;{{{TiddlerName (n)}}}&quot;, where ''(n)'' is the next available number (starting with 1, of course).  If you copy while //editing// a tiddler, the current values displayed in the editor are used (including any changes you may have already made to those values), and the new tiddler is immediately opened for editing.

The plugin also provides a macro that allows you to embed a ''copy'' command directly in specific tiddler content:
{{{
&lt;&lt;copyTiddler TidderName label:&quot;...&quot; prompt:&quot;...&quot;&gt;&gt;
}}}
where
* ''TiddlerName'' (optional)&lt;br&gt;specifies the //source// tiddler to be copied.  If omitted, the current containing tiddler (if any) will be copied.
* ''label:&quot;...&quot;'' (optional)&lt;br&gt;specifies text to use for the embedded link (default=&quot;copy TiddlerName&quot;)
* ''prompt:&quot;...&quot;'' (optional)&lt;br&gt;specifies mouseover 'tooltip' help text for link
//Note: to use non-default label/prompt values with the current containing tiddler, use &quot;&quot; for the TiddlerName//
&lt;&lt;&lt;
!!!Configuration
&lt;&lt;&lt;
&lt;&lt;option chkCopyTiddlerDate&gt;&gt; use date/time from existing tiddler (otherwise, use current date/time)
{{{&lt;&lt;option chkCopyTiddlerDate&gt;&gt;}}}
&lt;&lt;&lt;
!!!Revisions
&lt;&lt;&lt;
2010.11.30 3.2.6 use story.getTiddler()
2009.06.08 3.2.5 added option to use timestamp from source tiddler
2009.03.09 3.2.4 fixed IE-specific syntax error
2009.03.02 3.2.3 refactored code (again) to restore use of config.commands.copyTiddler.* custom settings
2009.02.13 3.2.2 in click(), fix calls to displayTiddler() to use current tiddlerElem and use getTiddlerText() to permit copying of shadow tiddler content
2009.01.30 3.2.1 fixed handling for copying field values when in edit mode
2009.01.23 3.2.0 refactored code and added {{{&lt;&lt;copyTiddler TiddlerName&gt;&gt;}}} macro
2008.12.18 3.1.4 corrected code for finding next (n) value when 'sparse' handling is in effect
2008.11.14 3.1.3 added optional 'sparse' setting (avoids 'filling in' missing numbers that may have been previously deleted)
2008.11.14 3.1.2 added optional 'zeroPad' setting
2008.11.14 3.1.1 moved hard-coded '(n)' regex into 'suffixPattern' object property so it can be customized
2008.09.26 3.1.0 changed new title generation to use '(n)' suffix instead of 'Copy of' prefix
2008.05.20 3.0.3 in handler, when copying from VIEW mode, create duplicate array from existing tags array before saving new tiddler.
2007.12.19 3.0.2 in handler, when copying from VIEW mode, duplicate custom fields before saving new tiddler.
2007.09.26 3.0.1 in handler, use findContainingTiddler(src) to get tiddlerElem (and title).  Allows 'copy' command to find correct tiddler when transcluded using {{{&lt;&lt;tiddler&gt;&gt;}}} macro or enhanced toolbar inclusion (see [[CoreTweaks]])
2007.06.28 3.0.0 complete re-write to handle custom fields and alternative view/edit templates
2007.05.17 2.1.2 use store.getTiddlerText() to retrieve tiddler content, so that SHADOW tiddlers can be copied correctly when in VIEW mode
2007.04.01 2.1.1 in copyTiddler.handler(), fix check for editor fields by ensuring that found field actually has edit=='text' attribute
2007.02.05 2.1.0 in copyTiddler.handler(), if editor fields (textfield and/or tagsfield) can't be found (i.e., tiddler is in VIEW mode, not EDIT mode), then get text/tags values from stored tiddler instead of active editor fields.  Allows use of COPY toolbar directly from VIEW mode
2006.12.12 2.0.0 completely rewritten so plugin just creates a new tiddler EDITOR with a copy of the current tiddler EDITOR contents, instead of creating the new tiddler in the STORE by copying the current tiddler values from the STORE.
2005.xx.xx 1.0.0 original version by Tim Morgan
&lt;&lt;&lt;
!!!Code
***/
//{{{
version.extensions.CopyTiddlerPlugin= {major: 3, minor: 2, revision: 6, date: new Date(2010,11,30)};

// automatically tweak shadow EditTemplate to add 'copyTiddler' toolbar command (following 'cancelTiddler')
config.shadowTiddlers.ToolbarCommands=config.shadowTiddlers.ToolbarCommands.replace(/cancelTiddler/,'cancelTiddler copyTiddler');

if (config.options.chkCopyTiddlerDate===undefined) config.options.chkCopyTiddlerDate=false;

config.commands.copyTiddler = {
	text: 'copy',
	hideReadOnly: true,
	tooltip: 'Make a copy of this tiddler',
	notitle: 'this tiddler',
	prefix: '',
	suffixText: ' (%0)',
	suffixPattern: / \(([0-9]+)\)$/,
	zeroPad: 0,
	sparse: false,
	handler: function(event,src,title)
		{ return config.commands.copyTiddler.click(src,event); },
	click: function(here,ev) {
		var tiddlerElem=story.findContainingTiddler(here);
		var template=tiddlerElem?tiddlerElem.getAttribute('template'):null;
		var title=here.getAttribute('from');
		if (!title || !title.length) {
			if (!tiddlerElem) return false;
			else title=tiddlerElem.getAttribute('tiddler');
		}
		var root=title.replace(this.suffixPattern,''); // title without suffix
		// find last matching title
		var last=title;
		if (this.sparse) { // don't fill-in holes... really find LAST matching title
			var tids=store.getTiddlers('title','excludeLists');
			for (var t=0; t&lt;tids.length; t++) if (tids[t].title.startsWith(root)) last=tids[t].title;
		}
		// get next number (increment from last matching title)
		var n=1; var match=this.suffixPattern.exec(last); if (match) n=parseInt(match[1])+1;
		var newTitle=this.prefix+root+this.suffixText.format([String.zeroPad(n,this.zeroPad)]);
		// if not sparse mode, find the next hole to fill in...
		while (store.tiddlerExists(newTitle)||story.getTiddler(newTitle))
			{ n++; newTitle=this.prefix+root+this.suffixText.format([String.zeroPad(n,this.zeroPad)]); }
		if (!story.isDirty(title)) { // if tiddler is not being EDITED
			// duplicate stored tiddler (if any)
			var text=store.getTiddlerText(title,'');
			var who=config.options.txtUserName;
			var when=new Date();
			var newtags=[]; var newfields={};
			var tid=store.getTiddler(title); if (tid) {
				if (config.options.chkCopyTiddlerDate) var when=tid.modified;
				for (var t=0; t&lt;tid.tags.length; t++) newtags.push(tid.tags[t]);
				store.forEachField(tid,function(t,f,v){newfields[f]=v;},true);
			}
	                store.saveTiddler(newTitle,newTitle,text,who,when,newtags,newfields,true);
			story.displayTiddler(tiddlerElem,newTitle,template);
		} else {
			story.displayTiddler(tiddlerElem,newTitle,template);
			var fields=config.commands.copyTiddler.gatherFields(tiddlerElem); // get current editor fields
			var newTiddlerElem=story.getTiddler(newTitle);
			for (var f=0; f&lt;fields.length; f++) {  // set fields in new editor
				if (fields[f].name=='title') fields[f].value=newTitle; // rename title in new tiddler
				var fieldElem=config.commands.copyTiddler.findField(newTiddlerElem,fields[f].name);
				if (fieldElem) {
					if (fieldElem.getAttribute('type')=='checkbox')
						fieldElem.checked=fields[f].value;
					else 
						fieldElem.value=fields[f].value;
				}
			}
		}
		story.focusTiddler(newTitle,'title');
		return false;
	},
	findField: function(tiddlerElem,field) {
		var inputs=tiddlerElem.getElementsByTagName('input');
		for (var i=0; i&lt;inputs.length; i++) {
			if (inputs[i].getAttribute('type')=='checkbox' &amp;&amp; inputs[i].field == field) return inputs[i];
			if (inputs[i].getAttribute('type')=='text' &amp;&amp; inputs[i].getAttribute('edit') == field) return inputs[i];
		}
		var tas=tiddlerElem.getElementsByTagName('textarea');
		for (var i=0; i&lt;tas.length; i++) if (tas[i].getAttribute('edit') == field) return tas[i];
		var sels=tiddlerElem.getElementsByTagName('select');
		for (var i=0; i&lt;sels.length; i++) if (sels[i].getAttribute('edit') == field) return sels[i];
		return null;
	},
	gatherFields: function(tiddlerElem) { // get field names and values from current tiddler editor
		var fields=[];
		// get checkboxes and edit fields
		var inputs=tiddlerElem.getElementsByTagName('input');
		for (var i=0; i&lt;inputs.length; i++) {
			if (inputs[i].getAttribute('type')=='checkbox')
				if (inputs[i].field) fields.push({name:inputs[i].field,value:inputs[i].checked});
			if (inputs[i].getAttribute('type')=='text')
				if (inputs[i].getAttribute('edit')) fields.push({name:inputs[i].getAttribute('edit'),value:inputs[i].value});
		}
		// get textareas (multi-line edit fields)
		var tas=tiddlerElem.getElementsByTagName('textarea');
		for (var i=0; i&lt;tas.length; i++)
			if (tas[i].getAttribute('edit')) fields.push({name:tas[i].getAttribute('edit'),value:tas[i].value});
		// get selection lists (droplist or listbox)
		var sels=tiddlerElem.getElementsByTagName('select');
		for (var i=0; i&lt;sels.length; i++)
			if (sels[i].getAttribute('edit')) fields.push({name:sels[i].getAttribute('edit'),value:sels[i].value});
		return fields;
	}
};
//}}}
// // MACRO DEFINITION
//{{{
config.macros.copyTiddler = {
	label: 'copy',
	prompt: 'Make a copy of %0',
	handler: function(place,macroName,params,wikifier,paramString,tiddler) {
		var title=params.shift();
		params=paramString.parseParams('anon',null,true,false,false);
		var label	=getParam(params,'label',this.label+(title?' '+title:''));
		var prompt	=getParam(params,'prompt',this.prompt).format([title||this.notitle]);
		var b=createTiddlyButton(place,label,prompt,
			function(ev){return config.commands.copyTiddler.click(this,ev)});
		b.setAttribute('from',title||'');
	}
};
//}}}</pre>
</div>
<div title="CoreOverridePlugin" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405160608" modified="201405160611" tags="systemConfig excludeTimeline" changecount="2" content-type="text/x-tiddlywiki">
<pre>config.macros.search.placeholder=&quot;Search Notebook...&quot;</pre>
</div>
<div title="CoreTweaks" creator="ELSDesignStudios" modifier="Christopher Wilson" created="200608201502" modified="201405140604" tags="systemConfig excludeTimeline systemConfigDisable" content-type="" changecount="29">
<pre>/***
|Name|CoreTweaks|
|Source|http://www.TiddlyTools.com/#CoreTweaks|
|Version||
|Author|Eric Shulman|
|License|http://www.TiddlyTools.com/#LegalStatements|
|~CoreVersion|2.2.0|
|Type|plugin|
|Description|a small collection of overrides to TW core functions|
This tiddler contains small changes to TW core functions that correct or enhance standard features or behaviors.
***/
//{{{
// calculate TW version number - used to determine which tweaks should be applied
var ver=version.major+version.minor/10+version.revision/100;
//}}}
/***
----

***/
// // closed: won't fix //(leave as core tweaks)//
// // {{block{
/***
!!!637 TiddlyLink tooltip - custom formatting
***/
// // {{groupbox small{
/***
http://trac.tiddlywiki.org/ticket/637 - CLOSED: WON'T FIX
This tweak modifies the tooltip format that appears when you mouseover a link to a tiddler.  It adds an option to control the date format, as well as displaying the size of the tiddler (in bytes)

Tiddler link tooltip format:
{{stretch{&lt;&lt;option txtTiddlerLinkTootip&gt;&gt;}}}
^^where: %0=title, %1=username, %2=modification date, %3=size in bytes, %4=description slice, %5=first N characters of tiddler content^^
Tiddler link tooltip date format:
{{stretch{&lt;&lt;option txtTiddlerLinkTooltipDate&gt;&gt;}}}
Tiddler excerpt limit (chars):
{{stretch{&lt;&lt;option txtTiddlerLinkTooltipLimit&gt;&gt;}}}
***/
//{{{
config.messages.tiddlerLinkTooltip='%0 - %1, %2 (%3 bytes) - %4';
config.messages.tiddlerLinkTooltipDate='DDD, MMM DDth YYYY 0hh12:0mm AM';
config.messages.tiddlerLinkTooltipLimit=50;

config.options.txtTiddlerLinkTootip=
	config.options.txtTiddlerLinkTootip||config.messages.tiddlerLinkTooltip;
config.options.txtTiddlerLinkTooltipDate=
	config.options.txtTiddlerLinkTooltipDate||config.messages.tiddlerLinkTooltipDate;
config.options.txtTiddlerLinkTooltipLimit=
	config.options.txtTiddlerLinkTooltipLimit||config.messages.tiddlerLinkTooltipLimit;

Tiddler.prototype.getSubtitle = function() {
	var modifier = this.modifier;
	if(!modifier) modifier = config.messages.subtitleUnknown;
	var modified = this.modified;
	if(modified) modified = modified.formatString(config.options.txtTiddlerLinkTooltipDate);
	else modified = config.messages.subtitleUnknown;
	var descr=store.getTiddlerSlice(this.title,'Description')||'';
	var txt=this.text.substr(0,config.options.txtTiddlerLinkTooltipLimit);
	if (this.text.length&gt;config.options.txtTiddlerLinkTooltipLimit) txt+=&quot;...&quot;;
	return config.options.txtTiddlerLinkTootip.format([this.title,modifier,modified,this.text.length,descr,txt]);
};
//}}}
// // }}}}}}// // {{block{
/***
!!!607 add HREF link on permaview command
***/
// // {{groupbox small{
/***
http://trac.tiddlywiki.org/ticket/607 - CLOSED: WON'T FIX
This tweak automatically sets the HREF for the 'permaview' sidebar command link so you can use the 'right click' context menu for faster, easier bookmarking.  Note that this does ''not'' automatically set the permaview in the browser's current location URL... it just sets the HREF on the command link.  You still have to click the link to apply the permaview.
***/
//{{{
config.macros.permaview.handler = function(place)
{
	var btn=createTiddlyButton(place,this.label,this.prompt,this.onClick);
	addEvent(btn,'mouseover',this.setHREF);
	addEvent(btn,'focus',this.setHREF);
};
config.macros.permaview.setHREF = function(event){
	var links = [];
	story.forEachTiddler(function(title,element) {
		links.push(String.encodeTiddlyLink(title));
	});
	var newURL=document.location.href;
	var hashPos=newURL.indexOf('#');
	if (hashPos!=-1) newURL=newURL.substr(0,hashPos);
	this.href=newURL+'#'+encodeURIComponent(links.join(' '));
}
//}}}
// // }}}}}}// // {{block{
/***
!!!458 add permalink-like HREFs on internal TiddlyLinks
***/
// // {{groupbox small{
/***
http://trac.tiddlywiki.org/ticket/458 - CLOSED: WON'T FIX
This tweak assigns a permalink-like HREF to internal Tiddler links (which normally do not have any HREF defined).  This permits the link's context menu (right-click) to include 'open link in another window/tab' command.  Based on a request from Dustin Spicuzza.
***/
//{{{
window.coreTweaks_createTiddlyLink=window.createTiddlyLink;
window.createTiddlyLink=function(place,title,includeText,theClass,isStatic,linkedFromTiddler,noToggle)
{
	// create the core button, then add the HREF (to internal links only)
	var link=window.coreTweaks_createTiddlyLink.apply(this,arguments);
	if (!isStatic)
		link.href=document.location.href.split('#')[0]+'#'+encodeURIComponent(String.encodeTiddlyLink(title));
	return link;
}
//}}}
// // }}}}}}
// // to be fixed in 2.6.0:
// // {{block{
/***
!!!1151 adjust popup placement when root element is in scrolled DIV
***/
// // {{groupbox small{
/***
http://trac.tiddlywiki.org/ticket/1151
When a popup link is placed inside a DIV with style &quot;overflow:scroll&quot; or &quot;overflow:auto&quot; and that DIV is then scrolled, the position of the resulting popup appears further down the page that intended, because it is not adjusting for the relative scroll offset of the containing DIV.  This tweak patches the Popup.place() function to calculate and subtract the current scroll offset from the computed popup position, so that it appears in the correct location on the page.

Test case: //(scroll to the bottom of this DIV and click on &quot;test popup&quot;)//
{{groupbox{
 &lt;&lt;tiddler ScrollBox with: CoreTweaks##1151test 12em&gt;&gt;}}}/%
!1151test
&lt;&lt;tiddler About&gt;&gt;
&lt;&lt;showPopup tiddler:About label:&quot;test popup&quot; tip:About popupClass:sticky&gt;&gt;
!end
%/
***/
//{{{
window.findScrollOffsetX=function(obj) {
	var x=0;
	while(obj) {
		if (obj.scrollLeft &amp;&amp; obj.nodeName!='HTML')
			x+=obj.scrollLeft;
		obj=obj.parentNode;
	}
	return -x;
}

window.findScrollOffsetY=function(obj) {
	var y=0;
	while(obj) {
		if (obj.scrollTop &amp;&amp; obj.nodeName!='HTML')
			y+=obj.scrollTop;
		obj=obj.parentNode;
	}
	return -y;
}

var fn=Popup.place.toString();
if (fn.indexOf('findScrollOffsetX')==-1) { // only once
	fn=fn.replace(/var\s*rootLeft\s*=/,'var rootLeft = window.findScrollOffsetX(root) +');
	fn=fn.replace(/var\s*rootTop\s*=/,'var rootTop = window.findScrollOffsetY(root) +');
	eval('Popup.place='+fn);
}
//}}}
// // }}}}}}// // {{block{
/***
!!!1147 tiddler macro with params does not refresh
***/
// // {{groupbox small{
/***
http://trac.tiddlywiki.org/ticket/1147
when the {{{&lt;&lt;tiddler SomeTiddler&gt;&gt;}}} macro is handled, the resulting span has extra attributes: {{{refresh='content'}}} and {{{tiddler='SomeTiddler'}}}.  If SomeTiddler is changed, {{{store.notify('SomeTiddler')}}} triggers {{{refreshDisplay()}}}, which automatically re-renders transcluded content in any span that has these extra attributes.  However, when additional arguments are passed by using {{{&lt;&lt;tiddler SomeTiddler with: arg arg arg ...&gt;&gt;}}} then the resulting span does NOT get the extra attributes noted above and, as a consequence, the transcluded content is not being refreshed, even though the underlying tiddler has changed

To correct this, in {{{config.macros.tiddler.handler}}}:
*set the 'refresh' and 'tiddler' attributes even when arguments are present in the macro
*store the arguments themselves in an attribute (e.g, 'args'), using as a space-separated, bracketed list
Then, in {{{config.refreshers.content}}}:
*retrieve the stored arguments (if any) and the tiddler source
*substitute arguments into source and re-render the span with the updated content

***/
//{{{
config.refreshers.content=function(e,changeList) {
		var title = e.getAttribute(&quot;tiddler&quot;);
		var force = e.getAttribute(&quot;force&quot;);
		var args = e.getAttribute(&quot;args&quot;); // ADDED
		if(force != null || changeList == null || changeList.indexOf(title) != -1) {
			removeChildren(e);
//			wikify(store.getTiddlerText(title,&quot;&quot;),e,null,store.fetchTiddler(title)); // REMOVED
			config.macros.tiddler.transclude(e,title,args); // ADDED
			return true;
		} else
			return false;
};

config.macros.tiddler.handler=function(place,macroName,params,wikifier,paramString,tiddler) {
	params = paramString.parseParams(&quot;name&quot;,null,true,false,true);
	var names = params[0][&quot;name&quot;];
	var tiddlerName = names[0];
	var className = names[1] || null;
	var args = params[0][&quot;with&quot;];
	var wrapper = createTiddlyElement(place,&quot;span&quot;,null,className);
//	if(!args) { // REMOVED
		wrapper.setAttribute(&quot;refresh&quot;,&quot;content&quot;);
		wrapper.setAttribute(&quot;tiddler&quot;,tiddlerName);
// 	} // REMOVED
	if(args!==undefined) wrapper.setAttribute(&quot;args&quot;,'[['+args.join(']] [[')+']]'); // ADDED
	this.transclude(wrapper,tiddlerName,args); // REFACTORED TO ...tiddler.transclude
}

// REFACTORED FROM ...tiddler.handler
config.macros.tiddler.transclude=function(wrapper,tiddlerName,args) {
	var text = store.getTiddlerText(tiddlerName); if (!text) return;
	var stack = config.macros.tiddler.tiddlerStack;
	if(stack.indexOf(tiddlerName) !== -1) return;
	stack.push(tiddlerName);
	try {
		if (typeof args == &quot;string&quot;) args=args.readBracketedList(); // ADDED
		var n = args ? Math.min(args.length,9) : 0;
		for(var i=0; i&lt;n; i++) {
			var placeholderRE = new RegExp(&quot;\\$&quot; + (i + 1),&quot;mg&quot;);
			text = text.replace(placeholderRE,args[i]);
		}
		config.macros.tiddler.renderText(wrapper,text,tiddlerName,null); // REMOVED UNUSED 'params'
	} finally {
		stack.pop();
	}
};
//}}}
// // }}}}}}// // {{block{
/***
!!!1134 allow leading whitespace in section headings / TBD handle shadow tiddler sections
***/
// // {{groupbox small{
/***
http://trac.tiddlywiki.org/ticket/1134
This tweak REPLACES and extends {{{store.getTiddlerText()}}} so it can return sections defined in shadow tiddlers as well as permitting use of leading whitespace in section headings.
***/
//{{{
TiddlyWiki.prototype.getTiddlerText = function(title,defaultText)
{
	if(!title) return defaultText;
	var parts = title.split(config.textPrimitives.sectionSeparator);
	var title = parts[0];
	var section = parts[1];
	var parts = title.split(config.textPrimitives.sliceSeparator);
	var title = parts[0];
	var slice = parts[1]?this.getTiddlerSlice(title,parts[1]):null;
	if(slice) return slice;
	var tiddler = this.fetchTiddler(title);
	var text = defaultText;
	if(this.isShadowTiddler(title))
		text = this.getShadowTiddlerText(title);
	if(tiddler)
		text = tiddler.text;
	if(!section) return text;
	var re = new RegExp(&quot;(^!{1,6}[ \t]*&quot; + section.escapeRegExp() + &quot;[ \t]*\n)&quot;,&quot;mg&quot;);
	re.lastIndex = 0;
	var match = re.exec(text);
	if(match) {
		var t = text.substr(match.index+match[1].length);
		var re2 = /^!/mg;
		re2.lastIndex = 0;
		match = re2.exec(t); //# search for the next heading
		if(match)
			t = t.substr(0,match.index-1);//# don't include final \n
		return t;
	}
	return defaultText;
};
//}}}
// // }}}}}}// // {{block{
/***
!!!824 ~WindowTitle - alternative to combined ~SiteTitle/~SiteSubtitle in window titlebar
***/
// // {{groupbox small{
/***
http://trac.tiddlywiki.org/ticket/824 - OPEN
This tweak allows definition of an optional [[WindowTitle]] tiddler that, when present, provides alternative text for display in the browser window's titlebar, instead of using the combined text content from [[SiteTitle]] and [[SiteSubtitle]] (which will still be displayed as usual in the TiddlyWiki document header area).

Note: this ticket replaces http://trac.tiddlywiki.org/ticket/401 (closed), which proposed using a custom [[PageTitle]] tiddler for this purpose.  ''If you were using the previous '401 ~PageTitle' tweak, you will need to rename [[PageTitle]] to [[WindowTitle]] to continue to use your custom window title text''
***/
//{{{
config.shadowTiddlers.WindowTitle='&lt;&lt;tiddler SiteTitle&gt;&gt; - &lt;&lt;tiddler SiteSubtitle&gt;&gt;';
window.getPageTitle=function() { return wikifyPlain('WindowTitle'); }
store.addNotification('WindowTitle',refreshPageTitle); // so title stays in sync with tiddler changes
//}}}
// // }}}}}}// // {{block{
/***
!!!471 'creator' field for new tiddlers
***/
// // {{groupbox small{
/***
http://trac.tiddlywiki.org/ticket/471 - OPEN
This tweak HIJACKS the core's saveTiddler() function to automatically add a 'creator' field to a tiddler when it is FIRST created. You can use &quot;&quot;&quot;&lt;&lt;view creator&gt;&gt;&quot;&quot;&quot; (or &quot;&quot;&quot;&lt;&lt;view creator wikified&gt;&gt;&quot;&quot;&quot; if you prefer) to show this value embedded directly within the tiddler content, or {{{&lt;span macro=&quot;view creator&quot;&gt;&lt;/span&gt;}}} in the ViewTemplate and/or EditTemplate to display the creator value in each tiddler.  
***/
//{{{
// hijack saveTiddler()
TiddlyWiki.prototype.CoreTweaks_creatorSaveTiddler=TiddlyWiki.prototype.saveTiddler;
TiddlyWiki.prototype.saveTiddler=function(title,newTitle,newBody,modifier,modified,tags,fields)
{
	var existing=store.tiddlerExists(title);
	var tiddler=this.CoreTweaks_creatorSaveTiddler.apply(this,arguments);
	if (!existing) store.setValue(title,'creator',config.options.txtUserName);
	return tiddler;
}
//}}}
// // }}}}}}
// // fixed in ~TW2.4.3
// // {{block{
/***
!!!444 'tiddler' and 'place' - global variables for use in computed macro parameters
***/
// // {{groupbox small{
/***
http://trac.tiddlywiki.org/ticket/444 - CLOSED:FIXED - TW2.4.3 - http://trac.tiddlywiki.org/changeset/8367
When invoking a macro, this tweak makes the current containing tiddler object and DOM rendering location available as global variables (window.tiddler and window.place, respectively).  These globals can then be used within //computed macro parameters// to retrieve tiddler-relative and/or DOM-relative values or perform tiddler-specific side-effect functionality.
***/
//{{{
if (ver&lt;2.43) {
window.coreTweaks_invokeMacro = window.invokeMacro;
window.invokeMacro = function(place,macro,params,wikifier,tiddler) {
	var here=story.findContainingTiddler(place);
	window.tiddler=here?store.getTiddler(here.getAttribute('tiddler')):tiddler;
	window.place=place;
	window.coreTweaks_invokeMacro.apply(this,arguments);
}
}
//}}}
// // }}}}}}
// // fixed in ~TW2.4.2:
// // {{block{
/***
!!!823 apply option values via paramifiers (e.g. #chk...and #txt...)
***/
// // {{groupbox small{
/***
http://trac.tiddlywiki.org/ticket/823 - CLOSED:FIXED - TW2.4.2 http://trac.tiddlywiki.org/changeset/7988
This tweak extends and ''//replaces//'' the core {{{invokeParamifier()}}} function to support use of ''option paramifiers'' that set TiddlyWiki option values on-the-fly, directly from a document URL.

If a paramifier begins with 'chk' (checkbox) or 'txt' (text field), it's value will be automatically stored in {{{config.options.*}}}, adding to or overriding any existing 'chk' or 'txt' option values that may have already been loaded from browser cookies and/or assigned by the TW core or plugin initialization functions using hard-coded default values.  Note: option values that have been overriden by paramifiers are only applied during the current document session, and are not //automatically// retained.  However, if you edit an overridden option value during that session, then the modified value is, of course, saved in a browser cookie, as usual.
***/
//{{{
if (ver&lt;2.42) {
function invokeParamifier(params,handler)
{
	if(!params || params.length == undefined || params.length &lt;= 1)
		return;
	for(var t=1; t&lt;params.length; t++) {
		var p = config.paramifiers[params[t].name];
		if(p &amp;&amp; p[handler] instanceof Function)
			p[handler](params[t].value);
		else { // not a paramifier with handler()... check for an 'option' prefix
			var h=config.optionHandlers[params[t].name.substr(0,3)];
			if (h &amp;&amp; h.set instanceof Function)
				h.set(params[t].name,params[t].value);
		}
	}
}
}
//}}}
// // }}}}}}
// // open tickets:
// // {{block{
/***
!!!608/609/610 toolbars - toggles, separators and transclusion
***/
// // {{groupbox small{
/***
http://trac.tiddlywiki.org/ticket/608 - OPEN (more/less toggle)
http://trac.tiddlywiki.org/ticket/609 - OPEN (separators)
http://trac.tiddlywiki.org/ticket/610 - OPEN (wikify tiddler/slice/section content)

This combination tweak extends the &quot;&quot;&quot;&lt;&lt;toolbar&gt;&gt;&quot;&quot;&quot; macro to add use of '&lt;' to insert a 'less' menu command (the opposite of '&gt;' == 'more'), as well as use of '*' to insert linebreaks and &quot;!&quot; to insert a vertical line separator between toolbar items.  In addition, this tweak add the ability to use references to tiddlernames, slices, or sections and render their content inline within the toolbar, allowing easy creation of new toolbar commands using TW content (such as macros, links, inline scripts, etc.)

To produce a one-line style, with &quot;less&quot; at the end, use
| ViewToolbar| foo bar baz &gt; yabba dabba doo &lt; |
or to use a two-line style with more/less toggle:
| ViewToolbar| foo bar baz &gt; &lt; * yabba dabba doo |
***/
//{{{
merge(config.macros.toolbar,{
	moreLabel: 'more\u25BC',
	morePrompt: 'Show additional commands',
	lessLabel: '\u25C4less',
	lessPrompt: 'Hide additional commands',
	separator: '|'
});
config.macros.toolbar.onClickMore = function(ev) {
	var e = this.nextSibling;
	e.style.display = 'inline'; // show menu
	this.style.display = 'none'; // hide button
	return false;
};
config.macros.toolbar.onClickLess = function(ev) {
	var e = this.parentNode;
	var m = e.previousSibling;
	e.style.display = 'none'; // hide menu
	m.style.display = 'inline'; // show button
	return false;
};
config.macros.toolbar.handler = function(place,macroName,params,wikifier,paramString,tiddler) {
	for(var t=0; t&lt;params.length; t++) {
		var c = params[t];
		switch(c) {
			case '!':  // ELS - SEPARATOR (added)
				createTiddlyText(place,this.separator);
				break;
			case '*':  // ELS - LINEBREAK (added)
				createTiddlyElement(place,'BR');
				break;
			case '&lt;': // ELS - LESS COMMAND (added)
				var btn = createTiddlyButton(place,
					this.lessLabel,this.lessPrompt,config.macros.toolbar.onClickLess,'moreCommand');
				break;
			case '&gt;':
				var btn = createTiddlyButton(place,
					this.moreLabel,this.morePrompt,config.macros.toolbar.onClickMore,'moreCommand');
				var e = createTiddlyElement(place,'span',null,'moreCommand');
				e.style.display = 'none';
				place = e;
				break;
			default:
				var theClass = '';
				switch(c.substr(0,1)) {
					case '+':
						theClass = 'defaultCommand';
						c = c.substr(1);
						break;
					case '-':
						theClass = 'cancelCommand';
						c = c.substr(1);
						break;
				}
				if(c in config.commands)

					this.createCommand(place,c,tiddler,theClass);
				else { // ELS - WIKIFY TIDDLER/SLICE/SECTION (added)
					if (c.substr(0,1)=='~') c=c.substr(1); // ignore leading ~
					var txt=store.getTiddlerText(c);
					if (txt) {
						// trim any leading/trailing newlines
						txt=txt.replace(/^\n*/,'').replace(/\n*$/,'');
						// trim PRE format wrapper if any
						txt=txt.replace(/^\{\{\{\n/,'').replace(/\n\}\}\}$/,'');
						// render content into toolbar
						wikify(txt,createTiddlyElement(place,'span'),null,tiddler);
					}
				} // ELS - end WIKIFY CONTENT
				break;
		}
	}
};
//}}}
// // }}}}}}// // {{block{
/***
!!!529 IE fixup - case-sensitive element lookup of tiddler elements
***/
// // {{groupbox small{
/***
http://trac.tiddlywiki.org/ticket/529 - OPEN
This tweak hijacks the standard browser function, document.getElementById(), to work-around the case-INsensitivity error in Internet Explorer (all versions up to and including IE7) //''Note: This tweak is only applied when using IE, and only for lookups of rendered tiddler elements within the containing 'tiddlerDisplay' element.''//
***/
//{{{
if (config.browser.isIE) {
document.coreTweaks_coreGetElementById=document.getElementById;
document.getElementById=function(id) {
	var e=document.coreTweaks_coreGetElementById(id);
	if (!e || !e.parentNode || e.parentNode.id!='tiddlerDisplay') return e;
	for (var i=0; i&lt;e.parentNode.childNodes.length; i++)
		if (id==e.parentNode.childNodes[i].id) return e.parentNode.childNodes[i];
	return null;
};
}
//}}}
// // }}}}}}// // {{block{
/***
!!!890 add conditional test to &quot;&quot;&quot;&lt;&lt;tiddler&gt;&gt;&quot;&quot;&quot; macro
***/
// // {{groupbox small{
/***
http://trac.tiddlywiki.org/ticket/890 - OPEN
This tweak extends the {{{&lt;&lt;tiddler&gt;&gt;}}} macro syntax so you can include a javascript-based //test expression// to determine if the tiddler transclusion should be performed:
{{{
&lt;&lt;tiddler TiddlerName if:{{...}} with: param param etc.&gt;&gt;
}}}
If the test is ''true'', then the tiddler is transcluded as usual.  If the test is ''false'', then the transclusion is skipped and //no output is produced//.
***/
//{{{
config.macros.tiddler.if_handler = config.macros.tiddler.handler;
config.macros.tiddler.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	params = paramString.parseParams('name',null,true,false,true);
	if (!getParam(params,'if',true)) return;
	this.if_handler.apply(this,arguments);
};
//}}}
// // }}}}}}// // {{block{
/***
!!!683 FireFox3 Import bug: 'browse' button replacement
***/
// // {{groupbox small{
/***
http://trac.tiddlywiki.org/ticket/683 - OPEN
The web standard 'type=file' input control that has been used as a local path/file picker for TiddlyWiki no longer works as expected in FireFox3, which has, for security reasons, limited javascript access to this control so that *no* local filesystem path information can be revealed, even when it is intentional and necessary, as it is with TiddlyWiki.  This tweak provides alternative HTML source that patches the backstage import panel.  It replaces the 'type=file' input control with a text+button combination of controls that invokes a system-native secure 'file-chooser' dialog box to provide TiddlyWiki with access to a complete path+filename so that TW functions properly locate user-selected local files.
&gt;Note: ''This tweak also requires http://trac.tiddlywiki.org/ticket/604 - cross-platform askForFilename()''
***/
//{{{
if (window.Components) {
	var fixhtml='&lt;input name=&quot;txtBrowse&quot; style=&quot;width:30em&quot;&gt;&lt;input type=&quot;button&quot; value=&quot;...&quot;'
		+' onClick=&quot;window.browseForFilename(this.previousSibling,true)&quot;&gt;';
	var cmi=config.macros.importTiddlers;
	cmi.step1Html=cmi.step1Html.replace(/&lt;input type='file' size=50 name='txtBrowse'&gt;/,fixhtml);
}

merge(config.messages,{selectFile:'Please enter or select a file'}); // ready for I18N translation

window.browseForFilename=function(target,mustExist) { // note: both params are optional
	var msg=config.messages.selectFile;
	if (target &amp;&amp; target.title) msg=target.title; // use target field tooltip (if any) as dialog prompt text
	// get local path for current document
	var path=getLocalPath(document.location.href);
	var p=path.lastIndexOf('/'); if (p==-1) p=path.lastIndexOf('\\'); // Unix or Windows
	if (p!=-1) path=path.substr(0,p+1); // remove filename, leave trailing slash
	var file=''
	var result=window.askForFilename(msg,path,file,mustExist); // requires #604
	if (target &amp;&amp; result.length) // set target field and trigger handling
		{ target.value=result; target.onchange(); }
	return result; 
}
//}}}
// // }}}}}}// // {{block{
/***
!!!604 cross-platform askForFilename()
***/
// // {{groupbox small{
/***
http://trac.tiddlywiki.org/ticket/604 - OPEN
invokes a system-native secure 'file-chooser' dialog box to provide TiddlyWiki with access to a complete path+filename so that TW functions properly locate user-selected local files.
***/
//{{{
window.askForFilename=function(msg,path,file,mustExist) {
	var r = window.mozAskForFilename(msg,path,file,mustExist);
	if(r===null || r===false)
		r = window.ieAskForFilename(msg,path,file,mustExist);
	if(r===null || r===false)
		r = window.javaAskForFilename(msg,path,file,mustExist);
	if(r===null || r===false)
		r = prompt(msg,path+file);
	return r||'';
}

window.mozAskForFilename=function(msg,path,file,mustExist) {
	if(!window.Components) return false;
	try {
		netscape.security.PrivilegeManager.enablePrivilege('UniversalXPConnect');
		var nsIFilePicker = window.Components.interfaces.nsIFilePicker;
		var picker = Components.classes['@mozilla.org/filepicker;1'].createInstance(nsIFilePicker);
		picker.init(window, msg, mustExist?nsIFilePicker.modeOpen:nsIFilePicker.modeSave);
		var thispath = Components.classes['@mozilla.org/file/local;1'].createInstance(Components.interfaces.nsILocalFile);
		thispath.initWithPath(path);
		picker.displayDirectory=thispath;
		picker.defaultExtension='html';
		picker.defaultString=file;
		picker.appendFilters(nsIFilePicker.filterAll|nsIFilePicker.filterText|nsIFilePicker.filterHTML);
		if (picker.show()!=nsIFilePicker.returnCancel)
			var result=picker.file.path;
	}
	catch(ex) { displayMessage(ex.toString()); }
	return result;
}

window.ieAskForFilename=function(msg,path,file,mustExist) {
	if(!config.browser.isIE) return false;
	try {
		var s = new ActiveXObject('UserAccounts.CommonDialog');
		s.Filter='All files|*.*|Text files|*.txt|HTML files|*.htm;*.html|';
		s.FilterIndex=3; // default to HTML files;
		s.InitialDir=path;
		s.FileName=file;
		return s.showOpen()?s.FileName:'';
	}
	catch(ex) { displayMessage(ex.toString()); }
	return result;
}

window.javaAskForFilename=function(msg,path,file,mustExist) {
	if(!document.applets['TiddlySaver']) return false;
	// TBD: implement java-based askFile(...) function
	try { return document.applets['TiddlySaver'].askFile(msg,path,file,mustExist); } 
	catch(ex) { displayMessage(ex.toString()); }
}
//}}}
// // }}}}}}// // {{block{
/***
!!!657 wrap tabs onto multiple lines
***/
// // {{groupbox small{
/***
http://trac.tiddlywiki.org/ticket/657 - OPEN
This tweak inserts an extra space element following each tab, allowing them to wrap onto multiple lines if needed.
***/
//{{{
config.macros.tabs.handler = function(place,macroName,params)
{
	var cookie = params[0];
	var numTabs = (params.length-1)/3;
	var wrapper = createTiddlyElement(null,'div',null,'tabsetWrapper ' + cookie);
	var tabset = createTiddlyElement(wrapper,'div',null,'tabset');
	tabset.setAttribute('cookie',cookie);
	var validTab = false;
	for(var t=0; t&lt;numTabs; t++) {
		var label = params[t*3+1];
		var prompt = params[t*3+2];
		var content = params[t*3+3];
		var tab = createTiddlyButton(tabset,label,prompt,this.onClickTab,'tab tabUnselected');
		createTiddlyElement(tab,'span',null,null,' ',{style:'font-size:0pt;line-height:0px'}); // ELS
		tab.setAttribute('tab',label);
		tab.setAttribute('content',content);
		tab.title = prompt;
		if(config.options[cookie] == label)
			validTab = true;
	}
	if(!validTab)
		config.options[cookie] = params[1];
	place.appendChild(wrapper);
	this.switchTab(tabset,config.options[cookie]);
};
//}}}
// // }}}}}}// // {{block{
/***
!!!628 hide 'no such macro' errors
***/
// // {{groupbox small{
/***
http://trac.tiddlywiki.org/ticket/628 - OPEN
When invoking a macro that is not defined, this tweak prevents the display of the 'error in macro... no such macro' message.  This is useful when rendering tiddler content or templates that reference macros that are defined by //optional// plugins that have not been installed in the current document.

&lt;&lt;option chkHideMissingMacros&gt;&gt; hide 'no such macro' error messages
***/
//{{{
if (config.options.chkHideMissingMacros===undefined)
	config.options.chkHideMissingMacros=false;

window.coreTweaks_missingMacro_invokeMacro = window.invokeMacro;
window.invokeMacro = function(place,macro,params,wikifier,tiddler) {
	if (!config.macros[macro] || !config.macros[macro].handler)
		if (config.options.chkHideMissingMacros) return;
	window.coreTweaks_missingMacro_invokeMacro.apply(this,arguments);
}
//}}}
// // }}}}}}
// // &lt;&lt;foldHeadings&gt;&gt;</pre>
</div>
<div title="Cosmic Censorship Theorem" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405060528" modified="201405060552" tags="[[Topology Paper]]" changecount="8" content-type="text/x-tiddlywiki">
<pre>!!Weak Cosmic Censorship
The //weak cosmic censorship hypothesis// was conceived by Roger Penrose in 1969&lt;&lt;bibtex Penrose:1969pc&gt;&gt; and roughly states that no naked singularities, other then the big bang singularity, exist in the universe.

The //weak cosmic censorship hypothesis// asserts there can be no singularity visible from future null infinity. In other words, singularities need to be hidden from an observer at infinity by the event horizon of a black hole.
*Mathematically, the conjecture states that, for generic initial data, the maximal Cauchy development possesses a complete future null infinity.
*Any topological structures will collapse within the horizon of a set of black holes.
*The collapse is too rapid to allow observers to traverse the wormhole throat for known exact analytically extended black hole solutions.&lt;&lt;bibtex PhysRevLett.71.1486&gt;&gt;

!!Strong Cosmic Censorship
The //strong cosmic censorship hypothesis// asserts that, generically, general relativity is a deterministic theory, in the same sense that classical mechanics is a deterministic theory. In other words, the classical fate of all observers should be predictable from the initial data. Mathematically, the conjecture states that the maximal Cauchy development of generic compact or asymptotically flat initial data is locally inextendible as a regular Lorentzian manifold.

!!Notes
*Cosmic censorship asserts that the Kerr Metric must have a critical angular momentum value, else the singularity of the black hole would be revealed.
</pre>
</div>
<div title="Cover" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404240015" tags="Topology" changecount="1" content-type="">
<pre>!!Definition
A collection $\mathcal{A}$ of subsets of a space $X$ is said to ''//cover//'' $X$, or be a ''//covering//'' of $X$, if the union of the elements of $\mathcal{A}$ is equal to $X$.  It is called an ''//open covering//'' of $X$ if its elements are open subsets of $X$.</pre>
</div>
<div title="Covering Map" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405061111" tags="Topology" changecount="1" content-type="text/x-tiddlywiki">
<pre>!!Definition
Let $p:E\rightarrow B$ be continuous and surjective.  If every point $b \in B$ has a neighborhood $U$ that is [[Evenly Covered]] by $p$, then $p$ is called a ''//covering map//'', and $E$ is said to be a ''//covering space//'' of $B$.</pre>
</div>
<div title="CritPhenomena Bookmarks" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404142306" modified="201405150411" tags="[[Critical Phenomena]]" changecount="62" content-type="text/x-tiddlywiki">
<pre>{{sectionTOC{}}}
!!Analytical Papers
*__//Solution of Potts Model for Phase Transition//__&lt;&lt;bibtex suzuki1967solution&gt;&gt;
:The case of $q=4$ Clock model has the same universality class as the Ising system, since the partition function of the four-state clock model at temperature $T$ is formally isomorphic to that of two uncoupled Ising systems at T/2.
*__//Correlations equalities and some upper bounds for the critical temperature for spin one systems//__&lt;&lt;bibtex SaBarreto20125908&gt;&gt;
:Starting from correlation identities for the BlumeCapel spin 1 systems and using correlation inequalities, we obtain rigorous upper bounds for the critical temperature. The obtained results improve over effective field type results.
*__//Correlation inequalities and the decay of correlations in ferromagnets//__&lt;&lt;bibtex Simon1980&gt;&gt;
:We prove a variety of new correlation inequalities which bound intermediate distance correlations from below by long distance correlations. Typical is the following which holds for spin 1/2 nearest neighbor Ising ferromagnets... 
*__//Helicity Modulus, Superfluidity, and Scaling in Isotropic Systems//__&lt;&lt;bibtex PhysRevA.8.1111&gt;&gt;
:The ordered state of a $d$-dimensional isotropic system with an $n$-vector $(n\geq 2)$ order parameter is considered. By the imposition of suitable boundary conditions it is shown how to define explicitly a helicity modulus $\Upsilon (T)$ which measures the free-energy increment associated with &quot;twisting&quot; the direction of the order parameter. For a Bose system the superfluid density is seen to be $\rho_s(T)=(m/\hbar)^2\Upsilon(T)$. The difficulties of defining a correlation length in the ordered phase are discussed. 

!!Computational Papers
!!!!Phase Transitions
*__//Fourth-order cumulants to characterize the phase transitions of a spin-1 Ising model//__&lt;&lt;bibtex 1998BrJPh2858T&gt;&gt;
:Fourth-order cumulants to characterize the phase transitions of a spin-1 Ising model. They spend more time on the [[Blume-Capel model]] though.
*__//Numerical study of phase transitions in Potts models//__&lt;&lt;bibtex PhysRevA.44.8000&gt;&gt;
:A model is defined that interpolates between integer dimension and integer q-state Potts models.Phase transitions in these models are studied, and in particular the critical value $q_c$ where the phase ntransition changes from second to first order, is determined for several dimensions. For $(d,q, )$ the values $(2.0,4.05), (2.5,2.68), (3.0,2.21), (3.5,2.15),$ and $(4.0,2.07)$ are obtained.
*__//True and quasi-long-range order in the generalized  q-state clock model//__&lt;&lt;bibtex PhysRevE.80.060101&gt;&gt;
:From consideration of the order-parameter distribution, we propose an observable which makes a clear distinction between true and quasi-long-range orders in the two-dimensional generalized  $q$-state clock model. Measuring this quantity by Monte Carlo simulations for $q=8$ , we construct a phase diagram and identify critical properties across the phase-separation lines among the true long-range order, quasi-long-range order, and disorder. Our result supports the theoretical prediction that there appears a discontinuous order-disorder transition as soon as the two phase-separation lines merge.
*__//Phase transitions of the 6-clock model in two dimensions//__&lt;&lt;bibtex Yamagata1991&gt;&gt;
:It is confirmed that there exists a Kosterlitz-Thouless (KT) like phase in the ferromagnetic 6-clock model on the square lattice through studies of the interfacial free energy estimated by Monte Carlo simulations. The authors find that lower and upper transition temperatures are $T_1=0.75$ and $T_2=0.90$ respectively, and that the critical exponent eta for the correlation function in the KT-like phase varies from $0.15$ at $T_1$ to $0.26$ at $T_2$.
*__//New Monte Carlo technique for studying phase transitions//__&lt;&lt;bibtex PhysRevLett.61.2635&gt;&gt;
:We present a new method for using the data from Monte Carlo simulations that can increase the efficiency by $2$ or more orders of magnitude. A single Monte Carlo simulation is sufficient to obtain complete thermodynamic information over the entire scaling region near a phase transition. The accuracy of the method is demonstrated by comparison with exact results for the $d=2$ Ising model. New results for $d=2$ eight-state Potts model are also presented. The method is generally applicable to statistical models and lattice-gauge theories.
!!!!Helicity Modulus
*__//Response to a twist in systems with Z symmetry: The two-dimensional p-state clock model//__&lt;&lt;bibtex PhysRevB.88.104427&gt;&gt;
:We study response to a twist in the two-dimensional p-state clock model, which has the discrete $\mathbb{Z}_p$ symmetry. The response is measured in terms of helicity modulus, which is usually defined with respect to an infinitesimal twist. However, we demonstrate that such a definition is inappropriate for the clock model. The helicity modulus must be defined with respect to a finite, quantized twist which matches the discrete $\mathbb{Z}_p$ symmetry of the model. Numerical study of the appropriately defined helicity modulus resolves controversy over the clock model, showing the existence of two Berezinskii-Kosterlitz-Thouless transitions for $p&gt;4$
*__//Helicity modulus and specific heat of classical XY model in two dimensions//__&lt;&lt;bibtex PhysRevB.23.359&gt;&gt;
:A Monte Carlo simulation of the helicity modulus and the specific heat of the classical XY model in two dimensions is presented. In particular, we have investigated the dependence of these quantities with the size of the Monte Carlo sample. The height of the specific-heat peak is found to saturate as the infinite-volume limit is approached. The peak height of the derivative of the helicity modulus is found to grow rapidly with the increase in the size of the system and is located only 7% below the temperature at which the specific heat has the maximum.
*__//Helicity modulus near a three-state Potts-like transition//__&lt;&lt;bibtex Jiang1995104&gt;&gt;
:By employing Monte Carlo simulations, both the helicity modulus and the heat capacity of a coupled classical XY model in two dimensions have been calculated. The model is based on the Hamiltonian proposed by Bruinsma and Aeppli [Phys. Rev. Lett. 48, 1625 (1982)]. For the first time, the model enables us to study the temperature dependence of the helicity modulus and obtain the associated critical exponent near a three-state Potts transition.
!!!!Finite Size Scaling
*__//Finite Size Scaling of the 2D Six-Clock model//__&lt;&lt;bibtex Itakura2014&gt;&gt;
:Itakura demonstrated that it is nearly impossible, by means of Monte Carlo simulations of nite system to observe asymptotic critical behavior of isotropic-anisotropic phase transition in 2D six-clock model and those of similar symmetry.
*__//Finite Size Scaling for First Order Transitions: Potts Model//__&lt;&lt;bibtex Oliveira1995&gt;&gt;
:The nite-size scaling algorithm based on bulk and surface renormalization of de Oliveira (1992) is tested on q-state Potts models in dimensions D = 2 and 3. Our Monte Carlo data clearly distinguish between rst- and second-order phase transitions.
*__//Monte Carlo determination of the critical temperature for the two-dimensional XY model//__&lt;&lt;bibtex PhysRevB.37.5986&gt;&gt;
:The critical temperature for the determination XY on a square lattice is determined to within a few tenths of a percent by combining Monte Carlo simulations with a lattice size scaling relation.

!!Group Theory
*__//Discrete Cocompact Subgroups of the Four-Dimensional Nilpotent Connected Lie Group...//__&lt;&lt;bibtex Milnes2001224&gt;&gt;
:In this paper, the discrete cocompact subgroups $H$ of $G_4$ are classified and shown to be in $1-1$ correspondence with triples $(p1, p2, p3) \in \mathbb{Z}_3$ that satisfy $p2, p3 &gt; 0$ and a certain restriction on $p1$.  This paper gives a four-dimensional analog of the three-dimensional Heisenberg group.

!!External Links
*[[Various codes and methods for computing the Ising model|http://www.physics.buffalo.edu/phy411-506/topic2/]]
*[[Autocorrelation time and error analysis for the Metropolis Alg.|http://www.helsinki.fi/~rummukai/lectures/montecarlo_oulu/lectures/mc_notes2.pdf]]
*[[Small finite groups and Cayley tables|http://escarbille.free.fr/group/]]
*[[Exploring mathematica with abstract algebra|https://sites.google.com/site/eaamhl/downloads/aapackage]]
*[[Group theory notes, with lists of groups|http://www.jmilne.org/math/CourseNotes/GT.pdf]]
*[[Groups of order 16 made easy|http://math.sun.ac.za/~mwild/Marcel%20Wild%20-%20Home%20Page_files/Groups16AMM.pdf]]
*[[Ising Model Plots, Correlation Length|http://quantumtheory.physik.unibas.ch/people/bruder/Semesterprojekte2007/p1/index.html#x1-100002.1.5]]

&lt;&lt;sectionTOC&gt;&gt;</pre>
</div>
<div title="Critical Exponents" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404152020" modified="201404180204" tags="[[Critical Phenomena]]" changecount="29" content-type="text/x-tiddlywiki">
<pre>!!Critical Indices
Index values for the following table were obtained from&lt;&lt;bibtex kadanoff2000statistical&gt;&gt;.

|sortable3|k
|! |! |!|! |h
| !Physical Quantity | !Proportionality| !Name of Index | !Index Value (d=2) |h
| specific heat |  $C \propto |t|^{-\,\alpha}$ | $\alpha$ | $0$ (log singularity) |
| susceptibility | $\chi \propto |t|^{-\,\gamma}$ | $\gamma$ | $7/4$ |
| magnetization | $M \propto |t|^{\beta}\;\;\;$ | $\beta$ | $1/8$ |
| magnetization | ? | $\delta$ | $15$ |
| correlation length | $\,\xi \propto |t|^{\,-\nu}$ | $\nu$ | $1$ |
| correlation functions | $\chi \propto \xi^{2-\,\eta}$ | $\eta$ | $1/8$ |
|! |! |! |!|h
|@@font-size:11pt; ''Fig. 1:''  Table values valid for $h=0$, and $t \rightarrow 0$, where $t \equiv (T-T_c)/T_c.$ @@|c

Additionally, these exponents also follow the following relations:
\begin{align}
(2-\eta)\nu &amp;= \gamma\\[3pt]
\alpha + 2\beta + \gamma &amp;= 2\\[3pt]
\mu + \nu + \alpha &amp;= 2\\[3pt]
d\,\nu + \alpha &amp;= 2\\ 
\end{align}
where $d$ is the dimensionality of the system.  This last equation involving the dimensionality is obtained by making a further assumption in the system, know as strong scaling or hyperscaling, and is expected to be valid for $d\leq 4$.  Also, $\mu$ is the chemical potential of the system, when the system is moddeling a fluid&lt;&lt;bibtex baxter2007exactly&gt;&gt;.
</pre>
</div>
<div title="Critical Phenomena" modifier="Christopher Wilson" created="201404080032" modified="201404101205" tags="excludeTimeline">
<pre></pre>
</div>
<div title="CriticalPhenomena.bib" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404142020" modified="201404290723" tags="excludeTimeline bib" changecount="61" content-type="text/x-tiddlywiki">
<pre>@ARTICLE{McCoy:2010,
AUTHOR = {McCoy, B. },
TITLE   = {Ising model: exact results},
YEAR	= {2010},
JOURNAL	= {Scholarpedia},
VOLUME  = {5},
NUMBER  = {7},
PAGES   = {10313},
NOTE   = {revision 123804}
}
@article{Aizenman1980281,
title = {A comparison of plane rotor and Ising models },
journal = {Physics Letters A },
volume = {76},
number = {3-4},
pages = {281 - 282},
year = {1980},
note = {},
issn = {0375-9601},
doi = {http://dx.doi.org/10.1016/0375-9601(80)90493-4},
url = {http://www.sciencedirect.com/science/article/pii/0375960180904934},
author = {M. Aizenman and B. Simon},
local = {Research/Papers/Aizenman1980281.pdf}
}

@article{SaBarreto20125908,
title ={Correlations equalities and some upper bounds for the critical temperature for spin one systems},
journal ={Physica A: Statistical Mechanics and its Applications},
volume ={391},
number ={23},
pages ={5908 - 5917},
year ={2012},
issn ={0378-4371},
doi ={http://dx.doi.org/10.1016/j.physa.2012.07.026},
url ={http://www.sciencedirect.com/science/article/pii/S0378437112006917},
author ={F.C. S Barreto and A.L. Mota},
local={Research/Papers/SaBarreto20125908.pdf}
}

@article{Simon1980,
ajournal = {Comm. Math. Phys.},
author = {Simon, Barry},
journal = {Communications in Mathematical Physics},
number = {2},
pages = {111-126},
publisher = {Springer},
title = {Correlation inequalities and the decay of correlations in ferromagnets},
url = {http://projecteuclid.org/euclid.cmp/1103908399},
volume = {77},
year = {1980},
local = {Research/Papers/Simon1980.pdf}
}

@article{PhysRevB.37.5986,
  title = {Monte Carlo determination of the critical temperature for the two-dimensional XY model},
  author = {Weber, Hans and Minnhagen, Petter},
  journal = {Phys. Rev. B},
  volume = {37},
  issue = {10},
  pages = {5986-5989},
  numpages = {0},
  year = {1988},
  month = {Apr},
  publisher = {American Physical Society},
  doi = {10.1103/PhysRevB.37.5986},
  url = {http://link.aps.org/doi/10.1103/PhysRevB.37.5986},
  local = {Research/Papers/PhysRevB.37.5986.pdf}
}

@book{stanley1971introduction,
  title={Introduction to Phase Transitions and Critical Phenomena},
  author={Stanley, H.E.},
  isbn={9780195053166},
  lccn={87012357},
  series={International series of monographs on physics},
  url={http://books.google.com/books?id=C3BzcUxoaNkC},
  year={1971},
  publisher={Oxford University Press}
}

@ARTICLE{1998BrJPh2858T,
   author = {Tsai, S.-H. and Salinas, S.~R.},
    title = {Fourth-Order Cumulants to Characterize the Phase Transitions of a Spin-1 Ising Model},
  journal = {Brazilian Journal of Physics},
   eprint = {cond-mat/9810412},
     year = 1998,
    month = mar,
   volume = 28,
    pages = {58-65},
      doi = {10.1590/S0103-97331998000100008},
   	  url = {http://adsabs.harvard.edu/abs/1998BrJPh..28...58T},
    local = {Research/Papers/1998BrJPh2858T.pdf}
}

@article{PhysRevA.44.8000,
  title = {Numerical study of phase transitions in Potts models},
  author = {Barkema, Gerard and de Boer, Jan},
  journal = {Phys. Rev. A},
  volume = {44},
  issue = {12},
  pages = {8000-8005},
  numpages = {0},
  year = {1991},
  month = {Dec},
  publisher = {American Physical Society},
  doi = {10.1103/PhysRevA.44.8000},
  url = {http://link.aps.org/doi/10.1103/PhysRevA.44.8000},
  local = {Research/Papers/PhysRevA.44.8000.pdf}
}

@book{kadanoff2000statistical,
  title={Statistical Physics: Statics, Dynamics and Renormalization},
  author={Kadanoff, L.P.},
  isbn={9789810237646},
  lccn={98043592},
  series={Statistical Physics: Statics, Dynamics and Renormalization},
  url={http://books.google.com/books?id=22dadF5p6gYC},
  year={2000},
  publisher={World Scientific}
}

@article{PhysRevE.80.060101,
  title = {True and quasi-long-range order in the generalized q-state clock model},
  author = {Baek, Seung Ki and Minnhagen, Petter and Kim, Beom Jun},
  journal = {Phys. Rev. E},
  volume = {80},
  issue = {6},
  pages = {060101},
  numpages = {4},
  year = {2009},
  month = {Dec},
  publisher = {American Physical Society},
  doi = {10.1103/PhysRevE.80.060101},
  url = {http://link.aps.org/doi/10.1103/PhysRevE.80.060101},
  local={Research/Papers/PhysRevE.80.060101.pdf}
}

@article{Jiang1995104,
title = {Helicity modulus near a three-state Potts-like transition },
journal = {Physica A: Statistical Mechanics and its Applications },
volume = {221},
number = {13},
pages = {104 - 108},
year = {1995},
note = {Proceedings of the Second IUPAP Topical Conference and the Third Taipei International Symposium on Statistical Physics },
issn = {0378-4371},
doi = {http://dx.doi.org/10.1016/0378-4371(95)00249-7},
url = {http://www.sciencedirect.com/science/article/pii/0378437195002497},
author = {I.M. Jiang and C.C. Huang},
local = {Research/Papers/Jiang1995104.pdf}
}

@article{PhysRevA.8.1111,
  title = {Helicity Modulus, Superfluidity, and Scaling in Isotropic Systems},
  author = {Fisher, Michael E. and Barber, Michael N. and Jasnow, David},
  journal = {Phys. Rev. A},
  volume = {8},
  issue = {2},
  pages = {1111-1124},
  numpages = {0},
  year = {1973},
  month = {Aug},
  publisher = {American Physical Society},
  doi = {10.1103/PhysRevA.8.1111},
  url = {http://link.aps.org/doi/10.1103/PhysRevA.8.1111},
  local = {Research/Papers/PhysRevA.8.1111.pdf}
}

@article{PhysRevB.23.359,
  title = {Helicity modulus and specific heat of classical XY model in two dimensions},
  author = {Van Himbergen, Johannes E. and Chakravarty, Sudip},
  journal = {Phys. Rev. B},
  volume = {23},
  issue = {1},
  pages = {359-361},
  numpages = {0},
  year = {1981},
  month = {Jan},
  publisher = {American Physical Society},
  doi = {10.1103/PhysRevB.23.359},
  url = {http://link.aps.org/doi/10.1103/PhysRevB.23.359},
  local = {Research/Papers/PhysRevB.23.359.pdf}
}

@article{Milnes2001224,
title = {Discrete Cocompact Subgroups of the Four-Dimensional Nilpotent Connected Lie Group and Their Group C*-Algebras },
journal = {Journal of Mathematical Analysis and Applications },
volume = {253},
number = {1},
pages = {224 - 242},
year = {2001},
issn = {0022-247X},
doi = {http://dx.doi.org/10.1006/jmaa.2000.7097},
url = {http://www.sciencedirect.com/science/article/pii/S0022247X00970975},
author = {Paul Milnes and Samuel Walters},
keywords = {Four-dimensional nilpotent groups},
local = {Research/Papers/Milnes2001224.pdf}
}

@book{baxter2007exactly,
  title={Exactly Solved Models in Statistical Mechanics},
  author={Baxter, R.J.},
  isbn={9780486462714},
  lccn={2007037510},
  series={Dover Books on Physics Series},
  url={http://books.google.com/books?id=G3owDULfBuEC},
  year={2007},
  publisher={Dover Publications},
  local={Research/Papers/Baxter.pdf}
}

@article{Yamagata1991,
  author={A Yamagata and I Ono},
  title={Phase transitions of the 6-clock model in two dimensions},
  journal={Journal of Physics A: Mathematical and General},
  volume={24},
  number={1},
  pages={265},
  url={http://stacks.iop.org/0305-4470/24/i=1/a=033},
  year={1991},
  local={Research/Papers/Yamagata1991.pdf}
}

@article{PhysRevB.88.104427,
  title = {Response to a twist in systems with Z symmetry: The two-dimensional p-state clock model},
  author = {Kumano, Yuta and Hukushima, Koji and Tomita, Yusuke and Oshikawa, Masaki},
  journal = {Phys. Rev. B},
  volume = {88},
  issue = {10},
  pages = {104427},
  numpages = {6},
  year = {2013},
  month = {Sep},
  publisher = {American Physical Society},
  doi = {10.1103/PhysRevB.88.104427},
  url = {http://link.aps.org/doi/10.1103/PhysRevB.88.104427},
  local = {Research/Papers/PhysRevB.88.104427.pdf}
}

@article{suzuki1967solution,
  title={Solution of Potts Model for Phase Transition},
  author={Suzuki, Masuo},
  journal={Progress of Theoretical Physics},
  volume={37},
  number={4},
  pages={770-772},
  year={1967},
  publisher={Oxford University Press},
  url={http://ptp.oxfordjournals.org/content/37/4/770.full.pdf+html},
  local={Research/Papers/suzuki1967solution.pdf}
}

@article{PhysRevLett.61.2635,
  title = {New Monte Carlo technique for studying phase transitions},
  author = {Ferrenberg, Alan M. and Swendsen, Robert H.},
  journal = {Phys. Rev. Lett.},
  volume = {61},
  issue = {23},
  pages = {2635-2638},
  numpages = {0},
  year = {1988},
  month = {Dec},
  publisher = {American Physical Society},
  doi = {10.1103/PhysRevLett.61.2635},
  url = {http://link.aps.org/doi/10.1103/PhysRevLett.61.2635},
  local={Research/Papers/PhysRevLett.61.2635.pdf}
}

@ARTICLE{Itakura2014,
   author = {Itakura, M.},
    title = {Finite Size Scaling of the 2D Six-Clock Model},
  journal = {Journal of the Physical Society of Japan},
   eprint = {cond-mat/0101035},
     year = 2001,
    month = feb,
   volume = 70,
    pages = {600},
      doi = {10.1143/JPSJ.70.600},
   url = {http://arxiv.org/abs/cond-mat/0101035},
  adsnote = {Provided by the SAO/NASA Astrophysics Data System},
  local = {Research/Papers/Itakura2014.pdf}
}

@article{Brito2010,
  title = {Two-dimensional XY and clock models studied via the dynamics generated by rough surfaces},
  author = {Brito, A. Faissal and Redinz, Jos\'e Arnaldo and Plascak, J. A.},
  journal = {Phys. Rev. E},
  volume = {81},
  issue = {3},
  pages = {031130},
  numpages = {11},
  year = {2010},
  month = {Mar},
  publisher = {American Physical Society},
  doi = {10.1103/PhysRevE.81.031130},
  url = {http://link.aps.org/doi/10.1103/PhysRevE.81.031130},
  local={Research/Papers/Brito2010.pdf}
}

@ARTICLE{Oliveira1995,
   author = {de Oliveira, P.~M.~C. and Moss de Oliveira, S.~M. and Cordeiro, C.~E. and 
	Stauffer, D.},
    title = {Finite-size scaling for first-order transitions: Potts model},
  journal = {Journal of Statistical Physics},
   eprint = {cond-mat/9503102},
 keywords = {Potts model, renormalization, surface effects},
     year = 1995,
    month = sep,
   volume = 80,
    pages = {1433-1442},
      doi = {10.1007/BF02179879},
   adsurl = {http://adsabs.harvard.edu/abs/1995JSP....80.1433D},
  adsnote = {Provided by the SAO/NASA Astrophysics Data System},
  url={http://arXiv:cond-mat/9503102},
  local={Research/Papers/Oliveira1995.pdf}
}

@article{Wu1982,
  title = {The Potts model},
  author = {Wu, F. Y.},
  journal = {Rev. Mod. Phys.},
  volume = {54},
  issue = {1},
  pages = {235-268},
  numpages = {0},
  year = {1982},
  month = {Jan},
  publisher = {American Physical Society},
  doi = {10.1103/RevModPhys.54.235},
  url = {http://link.aps.org/doi/10.1103/RevModPhys.54.235},
  local = {Research/Papers/Wu1982.pdf}
}

@book{dmitri2001course,
  title={A Course in Metric Geometry},
  author={Dmitri Burago et. al.},
  isbn={9780821821299},
  lccn={20122062},
  series={Crm Proceedings \&amp; Lecture Notes},
  url={http://books.google.com/books?id=afnlx8sHmQIC&amp;pg=PA74&amp;dq=word+metric&amp;hl=en&amp;sa=X&amp;ei=Pi5bU4-rIYjQsQTyuIDoAg&amp;ved=0CDoQ6AEwAg#v=onepage&amp;q=word%20metric&amp;f=false},
  year={2001},
  publisher={American Mathematical Society}
}
</pre>
</div>
<div title="Cyclic Group Tables" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404192230" modified="201404290806" tags="excludeTimeline FixMe excludeLists" changecount="78" content-type="text/x-tiddlywiki">
<pre>@@color:red; THIS SLIDE NEEDS FIXING.@@

!Cyclic Groups
*What is the technical group structure of the clock model?  I haven't figured out a set of rules that give this matrix, other than just a relabling of values from the cyclic group $\mathbb{Z}_8$.

!!$\mathcal{C}_{L8}^*$ Clock Model Group Matrix
|sortable2|k
|[img[CritPhen\Models\C8\C8 Dist.png]]|
*In the traditional Clock Model $\mathcal{C}_{L8}$, we map the distance matrix as: $\;(4, 3, 2, 1, 0) \mapsto (1.00, 0.85, 0.50, 0.15, 0.00)$. 
*In the normalized Clock Model $\mathcal{C}_{L8}^*$, we map the distance matrix as: $(4, 3, 2, 1, 0) \mapsto (1.00, 0.75, 0.50, 0.25, 0.00)$. 
*This rescaling of the mapping allows for better comparisons with other models, and does not affect the qualitative nature of the model.
/%|[img[CritPhen\Models\H3\H3 Group.pngg]]%/
!!$\mathbb{Z}_8^*$ Group Matrix
|sortable2|k
|[img(340px+,)[CritPhen\Models\C8\Z8 Group.png]]|[img(340px+,)[CritPhen\Models\C8\Z8 Dist.png]]|

!!Site Occupancy
|sortable2|k
|[img[CritPhen\Models\C8\2d CL8_0 bins.png]]|[img[CritPhen\Models\C8\2d Clock8_0 bins.png]]|
|[img[CritPhen\Models\C8\2d Z8_0 bins.png]]|
*Stable Ground Sites: all sites.

!!Simulation Results
&lt;&lt;tabs CL8Tables  
&quot;CL8*&quot; &quot;CL8*&quot; [[C8 Group Images/CL8_0]]
&quot;Z8*&quot; &quot;Z8*&quot; [[C8 Group Images/Z8_0]]
&quot;Z8* vs. CL8*&quot; &quot;Z8* vs. CL8*&quot; [[C8 Group Images/Z8_0vC8_0]]
&quot;Z8* vs. Z4xZ2&quot; &quot;Z8* vs. Z4xZ2&quot; [[Misc Group Images/Z8_0vZ4xZ2_0]]
&quot;CL8* vs. H3&quot; &quot;CL8* vs. H3&quot; [[Misc Group Images/H3_0vC8_0]]
&gt;&gt;</pre>
</div>
<div title="D3.jsPlugin" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405121949" tags="excludeTimeline systemConfig" changecount="3" content-type="text/x-tiddlywiki">
<pre>/***
|Name|[[D3.jsPlugin]] |
|Source|&lt;&lt;tiddler url_d3tw&gt;&gt;|
|Documentation|[[D3.jsPluginInfo]]|
|Version|d3.js version: &lt;script&gt;return d3.version ;&lt;/script&gt; |
|Author|Okido |
|License|See below |
|~CoreVersion|2.6|
|Type|plugin|
|Requires||
|Description|Use the d3.js library functions for data visualisation and drawing on SVG/HTML canvas&lt;br&gt;This plugin contains a copy of the d3.js data visualisation library created by Michael Bostock&lt;br&gt; Use a capital D as plugin name, the lib should be loaded before any other d3.js related libs |
|Status|EXPERIMENTAL - SUBJECT TO CHANGE|
!!!!!Documentation
&lt;&lt;&lt;
Documentation about d3.js is available at http://d3js.org 
&lt;&lt;&lt;
!!!!!Usage
&lt;&lt;&lt;
Use [[InlineJavascriptPlugin]] to invoke d3.js functions from within tiddler content or write pure javascript in a plugin.
&lt;&lt;&lt;
!!!!!Documentation
&gt;see [[D3.jsPluginInfo]]
!!!!!Revisions
&lt;&lt;&lt;
2014.04.05 2.0 Updated core and implemented dendro graph
2012.01.17 1.0 First implementation in of [[D3.jsPlugin]].
&lt;&lt;&lt;
!!!!!License
Copyright (c) 2010-2014, Michael Bostock
All rights reserved.

Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

* Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
* Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
* The name Michael Bostock may not be used to endorse or promote products derived from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL MICHAEL BOSTOCK BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

!!!!!Code
***/

!function(){function n(n,t){return t&gt;n?-1:n&gt;t?1:n&gt;=t?0:0/0}function t(n){return null!=n&amp;&amp;!isNaN(n)}function e(n){return{left:function(t,e,r,u){for(arguments.length&lt;3&amp;&amp;(r=0),arguments.length&lt;4&amp;&amp;(u=t.length);u&gt;r;){var i=r+u&gt;&gt;&gt;1;n(t[i],e)&lt;0?r=i+1:u=i}return r},right:function(t,e,r,u){for(arguments.length&lt;3&amp;&amp;(r=0),arguments.length&lt;4&amp;&amp;(u=t.length);u&gt;r;){var i=r+u&gt;&gt;&gt;1;n(t[i],e)&gt;0?u=i:r=i+1}return r}}}function r(n){return n.length}function u(n){for(var t=1;n*t%1;)t*=10;return t}function i(n,t){try{for(var e in t)Object.defineProperty(n.prototype,e,{value:t[e],enumerable:!1})}catch(r){n.prototype=t}}function o(){}function a(n){return ha+n in this}function c(n){return n=ha+n,n in this&amp;&amp;delete this[n]}function s(){var n=[];return this.forEach(function(t){n.push(t)}),n}function l(){var n=0;for(var t in this)t.charCodeAt(0)===ga&amp;&amp;++n;return n}function f(){for(var n in this)if(n.charCodeAt(0)===ga)return!1;return!0}function h(){}function g(n,t,e){return function(){var r=e.apply(t,arguments);return r===t?n:r}}function p(n,t){if(t in n)return t;t=t.charAt(0).toUpperCase()+t.substring(1);for(var e=0,r=pa.length;r&gt;e;++e){var u=pa[e]+t;if(u in n)return u}}function v(){}function d(){}function m(n){function t(){for(var t,r=e,u=-1,i=r.length;++u&lt;i;)(t=r[u].on)&amp;&amp;t.apply(this,arguments);return n}var e=[],r=new o;return t.on=function(t,u){var i,o=r.get(t);return arguments.length&lt;2?o&amp;&amp;o.on:(o&amp;&amp;(o.on=null,e=e.slice(0,i=e.indexOf(o)).concat(e.slice(i+1)),r.remove(t)),u&amp;&amp;e.push(r.set(t,{on:u})),n)},t}function y(){Go.event.preventDefault()}function x(){for(var n,t=Go.event;n=t.sourceEvent;)t=n;return t}function M(n){for(var t=new d,e=0,r=arguments.length;++e&lt;r;)t[arguments[e]]=m(t);return t.of=function(e,r){return function(u){try{var i=u.sourceEvent=Go.event;u.target=n,Go.event=u,t[u.type].apply(e,r)}finally{Go.event=i}}},t}function _(n){return da(n,_a),n}function b(n){return&quot;function&quot;==typeof n?n:function(){return ma(n,this)}}function w(n){return&quot;function&quot;==typeof n?n:function(){return ya(n,this)}}function S(n,t){function e(){this.removeAttribute(n)}function r(){this.removeAttributeNS(n.space,n.local)}function u(){this.setAttribute(n,t)}function i(){this.setAttributeNS(n.space,n.local,t)}function o(){var e=t.apply(this,arguments);null==e?this.removeAttribute(n):this.setAttribute(n,e)}function a(){var e=t.apply(this,arguments);null==e?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,e)}return n=Go.ns.qualify(n),null==t?n.local?r:e:&quot;function&quot;==typeof t?n.local?a:o:n.local?i:u}function k(n){return n.trim().replace(/\s+/g,&quot; &quot;)}function E(n){return new RegExp(&quot;(?:^|\\s+)&quot;+Go.requote(n)+&quot;(?:\\s+|$)&quot;,&quot;g&quot;)}function A(n){return n.trim().split(/^|\s+/)}function C(n,t){function e(){for(var e=-1;++e&lt;u;)n[e](this,t)}function r(){for(var e=-1,r=t.apply(this,arguments);++e&lt;u;)n[e](this,r)}n=A(n).map(N);var u=n.length;return&quot;function&quot;==typeof t?r:e}function N(n){var t=E(n);return function(e,r){if(u=e.classList)return r?u.add(n):u.remove(n);var u=e.getAttribute(&quot;class&quot;)||&quot;&quot;;r?(t.lastIndex=0,t.test(u)||e.setAttribute(&quot;class&quot;,k(u+&quot; &quot;+n))):e.setAttribute(&quot;class&quot;,k(u.replace(t,&quot; &quot;)))}}function L(n,t,e){function r(){this.style.removeProperty(n)}function u(){this.style.setProperty(n,t,e)}function i(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(n):this.style.setProperty(n,r,e)}return null==t?r:&quot;function&quot;==typeof t?i:u}function T(n,t){function e(){delete this[n]}function r(){this[n]=t}function u(){var e=t.apply(this,arguments);null==e?delete this[n]:this[n]=e}return null==t?e:&quot;function&quot;==typeof t?u:r}function q(n){return&quot;function&quot;==typeof n?n:(n=Go.ns.qualify(n)).local?function(){return this.ownerDocument.createElementNS(n.space,n.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,n)}}function z(n){return{__data__:n}}function R(n){return function(){return Ma(this,n)}}function D(t){return arguments.length||(t=n),function(n,e){return n&amp;&amp;e?t(n.__data__,e.__data__):!n-!e}}function P(n,t){for(var e=0,r=n.length;r&gt;e;e++)for(var u,i=n[e],o=0,a=i.length;a&gt;o;o++)(u=i[o])&amp;&amp;t(u,o,e);return n}function U(n){return da(n,wa),n}function j(n){var t,e;return function(r,u,i){var o,a=n[i].update,c=a.length;for(i!=e&amp;&amp;(e=i,t=0),u&gt;=t&amp;&amp;(t=u+1);!(o=a[t])&amp;&amp;++t&lt;c;);return o}}function H(){var n=this.__transition__;n&amp;&amp;++n.active}function F(n,t,e){function r(){var t=this[o];t&amp;&amp;(this.removeEventListener(n,t,t.$),delete this[o])}function u(){var u=c(t,Qo(arguments));r.call(this),this.addEventListener(n,this[o]=u,u.$=e),u._=t}function i(){var t,e=new RegExp(&quot;^__on([^.]+)&quot;+Go.requote(n)+&quot;$&quot;);for(var r in this)if(t=r.match(e)){var u=this[r];this.removeEventListener(t[1],u,u.$),delete this[r]}}var o=&quot;__on&quot;+n,a=n.indexOf(&quot;.&quot;),c=O;a&gt;0&amp;&amp;(n=n.substring(0,a));var s=ka.get(n);return s&amp;&amp;(n=s,c=I),a?t?u:r:t?v:i}function O(n,t){return function(e){var r=Go.event;Go.event=e,t[0]=this.__data__;try{n.apply(this,t)}finally{Go.event=r}}}function I(n,t){var e=O(n,t);return function(n){var t=this,r=n.relatedTarget;r&amp;&amp;(r===t||8&amp;r.compareDocumentPosition(t))||e.call(t,n)}}function Y(){var n=&quot;.dragsuppress-&quot;+ ++Aa,t=&quot;click&quot;+n,e=Go.select(ea).on(&quot;touchmove&quot;+n,y).on(&quot;dragstart&quot;+n,y).on(&quot;selectstart&quot;+n,y);if(Ea){var r=ta.style,u=r[Ea];r[Ea]=&quot;none&quot;}return function(i){function o(){e.on(t,null)}e.on(n,null),Ea&amp;&amp;(r[Ea]=u),i&amp;&amp;(e.on(t,function(){y(),o()},!0),setTimeout(o,0))}}function Z(n,t){t.changedTouches&amp;&amp;(t=t.changedTouches[0]);var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(n.getScreenCTM().inverse()),[r.x,r.y]}var u=n.getBoundingClientRect();return[t.clientX-u.left-n.clientLeft,t.clientY-u.top-n.clientTop]}function V(){return Go.event.changedTouches[0].identifier}function $(){return Go.event.target}function X(){return ea}function B(n){return n&gt;0?1:0&gt;n?-1:0}function J(n,t,e){return(t[0]-n[0])*(e[1]-n[1])-(t[1]-n[1])*(e[0]-n[0])}function W(n){return n&gt;1?0:-1&gt;n?Ca:Math.acos(n)}function G(n){return n&gt;1?La:-1&gt;n?-La:Math.asin(n)}function K(n){return((n=Math.exp(n))-1/n)/2}function Q(n){return((n=Math.exp(n))+1/n)/2}function nt(n){return((n=Math.exp(2*n))-1)/(n+1)}function tt(n){return(n=Math.sin(n/2))*n}function et(){}function rt(n,t,e){return new ut(n,t,e)}function ut(n,t,e){this.h=n,this.s=t,this.l=e}function it(n,t,e){function r(n){return n&gt;360?n-=360:0&gt;n&amp;&amp;(n+=360),60&gt;n?i+(o-i)*n/60:180&gt;n?o:240&gt;n?i+(o-i)*(240-n)/60:i}function u(n){return Math.round(255*r(n))}var i,o;return n=isNaN(n)?0:(n%=360)&lt;0?n+360:n,t=isNaN(t)?0:0&gt;t?0:t&gt;1?1:t,e=0&gt;e?0:e&gt;1?1:e,o=.5&gt;=e?e*(1+t):e+t-e*t,i=2*e-o,yt(u(n+120),u(n),u(n-120))}function ot(n,t,e){return new at(n,t,e)}function at(n,t,e){this.h=n,this.c=t,this.l=e}function ct(n,t,e){return isNaN(n)&amp;&amp;(n=0),isNaN(t)&amp;&amp;(t=0),st(e,Math.cos(n*=za)*t,Math.sin(n)*t)}function st(n,t,e){return new lt(n,t,e)}function lt(n,t,e){this.l=n,this.a=t,this.b=e}function ft(n,t,e){var r=(n+16)/116,u=r+t/500,i=r-e/200;return u=gt(u)*Za,r=gt(r)*Va,i=gt(i)*$a,yt(vt(3.2404542*u-1.5371385*r-.4985314*i),vt(-.969266*u+1.8760108*r+.041556*i),vt(.0556434*u-.2040259*r+1.0572252*i))}function ht(n,t,e){return n&gt;0?ot(Math.atan2(e,t)*Ra,Math.sqrt(t*t+e*e),n):ot(0/0,0/0,n)}function gt(n){return n&gt;.206893034?n*n*n:(n-4/29)/7.787037}function pt(n){return n&gt;.008856?Math.pow(n,1/3):7.787037*n+4/29}function vt(n){return Math.round(255*(.00304&gt;=n?12.92*n:1.055*Math.pow(n,1/2.4)-.055))}function dt(n){return yt(n&gt;&gt;16,255&amp;n&gt;&gt;8,255&amp;n)}function mt(n){return dt(n)+&quot;&quot;}function yt(n,t,e){return new xt(n,t,e)}function xt(n,t,e){this.r=n,this.g=t,this.b=e}function Mt(n){return 16&gt;n?&quot;0&quot;+Math.max(0,n).toString(16):Math.min(255,n).toString(16)}function _t(n,t,e){var r,u,i,o=0,a=0,c=0;if(r=/([a-z]+)\((.*)\)/i.exec(n))switch(u=r[2].split(&quot;,&quot;),r[1]){case&quot;hsl&quot;:return e(parseFloat(u[0]),parseFloat(u[1])/100,parseFloat(u[2])/100);case&quot;rgb&quot;:return t(kt(u[0]),kt(u[1]),kt(u[2]))}return(i=Ja.get(n))?t(i.r,i.g,i.b):(null==n||&quot;#&quot;!==n.charAt(0)||isNaN(i=parseInt(n.substring(1),16))||(4===n.length?(o=(3840&amp;i)&gt;&gt;4,o=o&gt;&gt;4|o,a=240&amp;i,a=a&gt;&gt;4|a,c=15&amp;i,c=c&lt;&lt;4|c):7===n.length&amp;&amp;(o=(16711680&amp;i)&gt;&gt;16,a=(65280&amp;i)&gt;&gt;8,c=255&amp;i)),t(o,a,c))}function bt(n,t,e){var r,u,i=Math.min(n/=255,t/=255,e/=255),o=Math.max(n,t,e),a=o-i,c=(o+i)/2;return a?(u=.5&gt;c?a/(o+i):a/(2-o-i),r=n==o?(t-e)/a+(e&gt;t?6:0):t==o?(e-n)/a+2:(n-t)/a+4,r*=60):(r=0/0,u=c&gt;0&amp;&amp;1&gt;c?0:r),rt(r,u,c)}function wt(n,t,e){n=St(n),t=St(t),e=St(e);var r=pt((.4124564*n+.3575761*t+.1804375*e)/Za),u=pt((.2126729*n+.7151522*t+.072175*e)/Va),i=pt((.0193339*n+.119192*t+.9503041*e)/$a);return st(116*u-16,500*(r-u),200*(u-i))}function St(n){return(n/=255)&lt;=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}function kt(n){var t=parseFloat(n);return&quot;%&quot;===n.charAt(n.length-1)?Math.round(2.55*t):t}function Et(n){return&quot;function&quot;==typeof n?n:function(){return n}}function At(n){return n}function Ct(n){return function(t,e,r){return 2===arguments.length&amp;&amp;&quot;function&quot;==typeof e&amp;&amp;(r=e,e=null),Nt(t,e,n,r)}}function Nt(n,t,e,r){function u(){var n,t=c.status;if(!t&amp;&amp;c.responseText||t&gt;=200&amp;&amp;300&gt;t||304===t){try{n=e.call(i,c)}catch(r){return o.error.call(i,r),void 0}o.load.call(i,n)}else o.error.call(i,c)}var i={},o=Go.dispatch(&quot;beforesend&quot;,&quot;progress&quot;,&quot;load&quot;,&quot;error&quot;),a={},c=new XMLHttpRequest,s=null;return!ea.XDomainRequest||&quot;withCredentials&quot;in c||!/^(http(s)?:)?\/\//.test(n)||(c=new XDomainRequest),&quot;onload&quot;in c?c.onload=c.onerror=u:c.onreadystatechange=function(){c.readyState&gt;3&amp;&amp;u()},c.onprogress=function(n){var t=Go.event;Go.event=n;try{o.progress.call(i,c)}finally{Go.event=t}},i.header=function(n,t){return n=(n+&quot;&quot;).toLowerCase(),arguments.length&lt;2?a[n]:(null==t?delete a[n]:a[n]=t+&quot;&quot;,i)},i.mimeType=function(n){return arguments.length?(t=null==n?null:n+&quot;&quot;,i):t},i.responseType=function(n){return arguments.length?(s=n,i):s},i.response=function(n){return e=n,i},[&quot;get&quot;,&quot;post&quot;].forEach(function(n){i[n]=function(){return i.send.apply(i,[n].concat(Qo(arguments)))}}),i.send=function(e,r,u){if(2===arguments.length&amp;&amp;&quot;function&quot;==typeof r&amp;&amp;(u=r,r=null),c.open(e,n,!0),null==t||&quot;accept&quot;in a||(a.accept=t+&quot;,*/*&quot;),c.setRequestHeader)for(var l in a)c.setRequestHeader(l,a[l]);return null!=t&amp;&amp;c.overrideMimeType&amp;&amp;c.overrideMimeType(t),null!=s&amp;&amp;(c.responseType=s),null!=u&amp;&amp;i.on(&quot;error&quot;,u).on(&quot;load&quot;,function(n){u(null,n)}),o.beforesend.call(i,c),c.send(null==r?null:r),i},i.abort=function(){return c.abort(),i},Go.rebind(i,o,&quot;on&quot;),null==r?i:i.get(Lt(r))}function Lt(n){return 1===n.length?function(t,e){n(null==t?e:null)}:n}function Tt(){var n=qt(),t=zt()-n;t&gt;24?(isFinite(t)&amp;&amp;(clearTimeout(Qa),Qa=setTimeout(Tt,t)),Ka=0):(Ka=1,tc(Tt))}function qt(){var n=Date.now();for(nc=Wa;nc;)n&gt;=nc.t&amp;&amp;(nc.f=nc.c(n-nc.t)),nc=nc.n;return n}function zt(){for(var n,t=Wa,e=1/0;t;)t.f?t=n?n.n=t.n:Wa=t.n:(t.t&lt;e&amp;&amp;(e=t.t),t=(n=t).n);return Ga=n,e}function Rt(n,t){return t-(n?Math.ceil(Math.log(n)/Math.LN10):1)}function Dt(n,t){var e=Math.pow(10,3*fa(8-t));return{scale:t&gt;8?function(n){return n/e}:function(n){return n*e},symbol:n}}function Pt(n){var t=n.decimal,e=n.thousands,r=n.grouping,u=n.currency,i=r?function(n){for(var t=n.length,u=[],i=0,o=r[0];t&gt;0&amp;&amp;o&gt;0;)u.push(n.substring(t-=o,t+o)),o=r[i=(i+1)%r.length];return u.reverse().join(e)}:At;return function(n){var e=rc.exec(n),r=e[1]||&quot; &quot;,o=e[2]||&quot;&gt;&quot;,a=e[3]||&quot;&quot;,c=e[4]||&quot;&quot;,s=e[5],l=+e[6],f=e[7],h=e[8],g=e[9],p=1,v=&quot;&quot;,d=&quot;&quot;,m=!1;switch(h&amp;&amp;(h=+h.substring(1)),(s||&quot;0&quot;===r&amp;&amp;&quot;=&quot;===o)&amp;&amp;(s=r=&quot;0&quot;,o=&quot;=&quot;,f&amp;&amp;(l-=Math.floor((l-1)/4))),g){case&quot;n&quot;:f=!0,g=&quot;g&quot;;break;case&quot;%&quot;:p=100,d=&quot;%&quot;,g=&quot;f&quot;;break;case&quot;p&quot;:p=100,d=&quot;%&quot;,g=&quot;r&quot;;break;case&quot;b&quot;:case&quot;o&quot;:case&quot;x&quot;:case&quot;X&quot;:&quot;#&quot;===c&amp;&amp;(v=&quot;0&quot;+g.toLowerCase());case&quot;c&quot;:case&quot;d&quot;:m=!0,h=0;break;case&quot;s&quot;:p=-1,g=&quot;r&quot;}&quot;$&quot;===c&amp;&amp;(v=u[0],d=u[1]),&quot;r&quot;!=g||h||(g=&quot;g&quot;),null!=h&amp;&amp;(&quot;g&quot;==g?h=Math.max(1,Math.min(21,h)):(&quot;e&quot;==g||&quot;f&quot;==g)&amp;&amp;(h=Math.max(0,Math.min(20,h)))),g=uc.get(g)||Ut;var y=s&amp;&amp;f;return function(n){var e=d;if(m&amp;&amp;n%1)return&quot;&quot;;var u=0&gt;n||0===n&amp;&amp;0&gt;1/n?(n=-n,&quot;-&quot;):a;if(0&gt;p){var c=Go.formatPrefix(n,h);n=c.scale(n),e=c.symbol+d}else n*=p;n=g(n,h);var x=n.lastIndexOf(&quot;.&quot;),M=0&gt;x?n:n.substring(0,x),_=0&gt;x?&quot;&quot;:t+n.substring(x+1);!s&amp;&amp;f&amp;&amp;(M=i(M));var b=v.length+M.length+_.length+(y?0:u.length),w=l&gt;b?new Array(b=l-b+1).join(r):&quot;&quot;;return y&amp;&amp;(M=i(w+M)),u+=v,n=M+_,(&quot;&lt;&quot;===o?u+n+w:&quot;&gt;&quot;===o?w+u+n:&quot;^&quot;===o?w.substring(0,b&gt;&gt;=1)+u+n+w.substring(b):u+(y?n:w+n))+e}}}function Ut(n){return n+&quot;&quot;}function jt(){this._=new Date(arguments.length&gt;1?Date.UTC.apply(this,arguments):arguments[0])}function Ht(n,t,e){function r(t){var e=n(t),r=i(e,1);return r-t&gt;t-e?e:r}function u(e){return t(e=n(new oc(e-1)),1),e}function i(n,e){return t(n=new oc(+n),e),n}function o(n,r,i){var o=u(n),a=[];if(i&gt;1)for(;r&gt;o;)e(o)%i||a.push(new Date(+o)),t(o,1);else for(;r&gt;o;)a.push(new Date(+o)),t(o,1);return a}function a(n,t,e){try{oc=jt;var r=new jt;return r._=n,o(r,t,e)}finally{oc=Date}}n.floor=n,n.round=r,n.ceil=u,n.offset=i,n.range=o;var c=n.utc=Ft(n);return c.floor=c,c.round=Ft(r),c.ceil=Ft(u),c.offset=Ft(i),c.range=a,n}function Ft(n){return function(t,e){try{oc=jt;var r=new jt;return r._=t,n(r,e)._}finally{oc=Date}}}function Ot(n){function t(n){function t(t){for(var e,u,i,o=[],a=-1,c=0;++a&lt;r;)37===n.charCodeAt(a)&amp;&amp;(o.push(n.substring(c,a)),null!=(u=cc[e=n.charAt(++a)])&amp;&amp;(e=n.charAt(++a)),(i=C[e])&amp;&amp;(e=i(t,null==u?&quot;e&quot;===e?&quot; &quot;:&quot;0&quot;:u)),o.push(e),c=a+1);return o.push(n.substring(c,a)),o.join(&quot;&quot;)}var r=n.length;return t.parse=function(t){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},u=e(r,n,t,0);if(u!=t.length)return null;&quot;p&quot;in r&amp;&amp;(r.H=r.H%12+12*r.p);var i=null!=r.Z&amp;&amp;oc!==jt,o=new(i?jt:oc);return&quot;j&quot;in r?o.setFullYear(r.y,0,r.j):&quot;w&quot;in r&amp;&amp;(&quot;W&quot;in r||&quot;U&quot;in r)?(o.setFullYear(r.y,0,1),o.setFullYear(r.y,0,&quot;W&quot;in r?(r.w+6)%7+7*r.W-(o.getDay()+5)%7:r.w+7*r.U-(o.getDay()+6)%7)):o.setFullYear(r.y,r.m,r.d),o.setHours(r.H+Math.floor(r.Z/100),r.M+r.Z%100,r.S,r.L),i?o._:o},t.toString=function(){return n},t}function e(n,t,e,r){for(var u,i,o,a=0,c=t.length,s=e.length;c&gt;a;){if(r&gt;=s)return-1;if(u=t.charCodeAt(a++),37===u){if(o=t.charAt(a++),i=N[o in cc?t.charAt(a++):o],!i||(r=i(n,e,r))&lt;0)return-1}else if(u!=e.charCodeAt(r++))return-1}return r}function r(n,t,e){b.lastIndex=0;var r=b.exec(t.substring(e));return r?(n.w=w.get(r[0].toLowerCase()),e+r[0].length):-1}function u(n,t,e){M.lastIndex=0;var r=M.exec(t.substring(e));return r?(n.w=_.get(r[0].toLowerCase()),e+r[0].length):-1}function i(n,t,e){E.lastIndex=0;var r=E.exec(t.substring(e));return r?(n.m=A.get(r[0].toLowerCase()),e+r[0].length):-1}function o(n,t,e){S.lastIndex=0;var r=S.exec(t.substring(e));return r?(n.m=k.get(r[0].toLowerCase()),e+r[0].length):-1}function a(n,t,r){return e(n,C.c.toString(),t,r)}function c(n,t,r){return e(n,C.x.toString(),t,r)}function s(n,t,r){return e(n,C.X.toString(),t,r)}function l(n,t,e){var r=x.get(t.substring(e,e+=2).toLowerCase());return null==r?-1:(n.p=r,e)}var f=n.dateTime,h=n.date,g=n.time,p=n.periods,v=n.days,d=n.shortDays,m=n.months,y=n.shortMonths;t.utc=function(n){function e(n){try{oc=jt;var t=new oc;return t._=n,r(t)}finally{oc=Date}}var r=t(n);return e.parse=function(n){try{oc=jt;var t=r.parse(n);return t&amp;&amp;t._}finally{oc=Date}},e.toString=r.toString,e},t.multi=t.utc.multi=ae;var x=Go.map(),M=Yt(v),_=Zt(v),b=Yt(d),w=Zt(d),S=Yt(m),k=Zt(m),E=Yt(y),A=Zt(y);p.forEach(function(n,t){x.set(n.toLowerCase(),t)});var C={a:function(n){return d[n.getDay()]},A:function(n){return v[n.getDay()]},b:function(n){return y[n.getMonth()]},B:function(n){return m[n.getMonth()]},c:t(f),d:function(n,t){return It(n.getDate(),t,2)},e:function(n,t){return It(n.getDate(),t,2)},H:function(n,t){return It(n.getHours(),t,2)},I:function(n,t){return It(n.getHours()%12||12,t,2)},j:function(n,t){return It(1+ic.dayOfYear(n),t,3)},L:function(n,t){return It(n.getMilliseconds(),t,3)},m:function(n,t){return It(n.getMonth()+1,t,2)},M:function(n,t){return It(n.getMinutes(),t,2)},p:function(n){return p[+(n.getHours()&gt;=12)]},S:function(n,t){return It(n.getSeconds(),t,2)},U:function(n,t){return It(ic.sundayOfYear(n),t,2)},w:function(n){return n.getDay()},W:function(n,t){return It(ic.mondayOfYear(n),t,2)},x:t(h),X:t(g),y:function(n,t){return It(n.getFullYear()%100,t,2)},Y:function(n,t){return It(n.getFullYear()%1e4,t,4)},Z:ie,&quot;%&quot;:function(){return&quot;%&quot;}},N={a:r,A:u,b:i,B:o,c:a,d:Qt,e:Qt,H:te,I:te,j:ne,L:ue,m:Kt,M:ee,p:l,S:re,U:$t,w:Vt,W:Xt,x:c,X:s,y:Jt,Y:Bt,Z:Wt,&quot;%&quot;:oe};return t}function It(n,t,e){var r=0&gt;n?&quot;-&quot;:&quot;&quot;,u=(r?-n:n)+&quot;&quot;,i=u.length;return r+(e&gt;i?new Array(e-i+1).join(t)+u:u)}function Yt(n){return new RegExp(&quot;^(?:&quot;+n.map(Go.requote).join(&quot;|&quot;)+&quot;)&quot;,&quot;i&quot;)}function Zt(n){for(var t=new o,e=-1,r=n.length;++e&lt;r;)t.set(n[e].toLowerCase(),e);return t}function Vt(n,t,e){sc.lastIndex=0;var r=sc.exec(t.substring(e,e+1));return r?(n.w=+r[0],e+r[0].length):-1}function $t(n,t,e){sc.lastIndex=0;var r=sc.exec(t.substring(e));return r?(n.U=+r[0],e+r[0].length):-1}function Xt(n,t,e){sc.lastIndex=0;var r=sc.exec(t.substring(e));return r?(n.W=+r[0],e+r[0].length):-1}function Bt(n,t,e){sc.lastIndex=0;var r=sc.exec(t.substring(e,e+4));return r?(n.y=+r[0],e+r[0].length):-1}function Jt(n,t,e){sc.lastIndex=0;var r=sc.exec(t.substring(e,e+2));return r?(n.y=Gt(+r[0]),e+r[0].length):-1}function Wt(n,t,e){return/^[+-]\d{4}$/.test(t=t.substring(e,e+5))?(n.Z=-t,e+5):-1}function Gt(n){return n+(n&gt;68?1900:2e3)}function Kt(n,t,e){sc.lastIndex=0;var r=sc.exec(t.substring(e,e+2));return r?(n.m=r[0]-1,e+r[0].length):-1}function Qt(n,t,e){sc.lastIndex=0;var r=sc.exec(t.substring(e,e+2));return r?(n.d=+r[0],e+r[0].length):-1}function ne(n,t,e){sc.lastIndex=0;var r=sc.exec(t.substring(e,e+3));return r?(n.j=+r[0],e+r[0].length):-1}function te(n,t,e){sc.lastIndex=0;var r=sc.exec(t.substring(e,e+2));return r?(n.H=+r[0],e+r[0].length):-1}function ee(n,t,e){sc.lastIndex=0;var r=sc.exec(t.substring(e,e+2));return r?(n.M=+r[0],e+r[0].length):-1}function re(n,t,e){sc.lastIndex=0;var r=sc.exec(t.substring(e,e+2));return r?(n.S=+r[0],e+r[0].length):-1}function ue(n,t,e){sc.lastIndex=0;var r=sc.exec(t.substring(e,e+3));return r?(n.L=+r[0],e+r[0].length):-1}function ie(n){var t=n.getTimezoneOffset(),e=t&gt;0?&quot;-&quot;:&quot;+&quot;,r=~~(fa(t)/60),u=fa(t)%60;return e+It(r,&quot;0&quot;,2)+It(u,&quot;0&quot;,2)}function oe(n,t,e){lc.lastIndex=0;var r=lc.exec(t.substring(e,e+1));return r?e+r[0].length:-1}function ae(n){for(var t=n.length,e=-1;++e&lt;t;)n[e][0]=this(n[e][0]);return function(t){for(var e=0,r=n[e];!r[1](t);)r=n[++e];return r[0](t)}}function ce(){}function se(n,t,e){var r=e.s=n+t,u=r-n,i=r-u;e.t=n-i+(t-u)}function le(n,t){n&amp;&amp;pc.hasOwnProperty(n.type)&amp;&amp;pc[n.type](n,t)}function fe(n,t,e){var r,u=-1,i=n.length-e;for(t.lineStart();++u&lt;i;)r=n[u],t.point(r[0],r[1],r[2]);t.lineEnd()}function he(n,t){var e=-1,r=n.length;for(t.polygonStart();++e&lt;r;)fe(n[e],t,1);t.polygonEnd()}function ge(){function n(n,t){n*=za,t=t*za/2+Ca/4;var e=n-r,o=e&gt;=0?1:-1,a=o*e,c=Math.cos(t),s=Math.sin(t),l=i*s,f=u*c+l*Math.cos(a),h=l*o*Math.sin(a);dc.add(Math.atan2(h,f)),r=n,u=c,i=s}var t,e,r,u,i;mc.point=function(o,a){mc.point=n,r=(t=o)*za,u=Math.cos(a=(e=a)*za/2+Ca/4),i=Math.sin(a)},mc.lineEnd=function(){n(t,e)}}function pe(n){var t=n[0],e=n[1],r=Math.cos(e);return[r*Math.cos(t),r*Math.sin(t),Math.sin(e)]}function ve(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function de(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function me(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function ye(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function xe(n){var t=Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function Me(n){return[Math.atan2(n[1],n[0]),G(n[2])]}function _e(n,t){return fa(n[0]-t[0])&lt;Ta&amp;&amp;fa(n[1]-t[1])&lt;Ta}function be(n,t){n*=za;var e=Math.cos(t*=za);we(e*Math.cos(n),e*Math.sin(n),Math.sin(t))}function we(n,t,e){++yc,Mc+=(n-Mc)/yc,_c+=(t-_c)/yc,bc+=(e-bc)/yc}function Se(){function n(n,u){n*=za;var i=Math.cos(u*=za),o=i*Math.cos(n),a=i*Math.sin(n),c=Math.sin(u),s=Math.atan2(Math.sqrt((s=e*c-r*a)*s+(s=r*o-t*c)*s+(s=t*a-e*o)*s),t*o+e*a+r*c);xc+=s,wc+=s*(t+(t=o)),Sc+=s*(e+(e=a)),kc+=s*(r+(r=c)),we(t,e,r)}var t,e,r;Nc.point=function(u,i){u*=za;var o=Math.cos(i*=za);t=o*Math.cos(u),e=o*Math.sin(u),r=Math.sin(i),Nc.point=n,we(t,e,r)}}function ke(){Nc.point=be}function Ee(){function n(n,t){n*=za;var e=Math.cos(t*=za),o=e*Math.cos(n),a=e*Math.sin(n),c=Math.sin(t),s=u*c-i*a,l=i*o-r*c,f=r*a-u*o,h=Math.sqrt(s*s+l*l+f*f),g=r*o+u*a+i*c,p=h&amp;&amp;-W(g)/h,v=Math.atan2(h,g);Ec+=p*s,Ac+=p*l,Cc+=p*f,xc+=v,wc+=v*(r+(r=o)),Sc+=v*(u+(u=a)),kc+=v*(i+(i=c)),we(r,u,i)}var t,e,r,u,i;Nc.point=function(o,a){t=o,e=a,Nc.point=n,o*=za;var c=Math.cos(a*=za);r=c*Math.cos(o),u=c*Math.sin(o),i=Math.sin(a),we(r,u,i)},Nc.lineEnd=function(){n(t,e),Nc.lineEnd=ke,Nc.point=be}}function Ae(){return!0}function Ce(n,t,e,r,u){var i=[],o=[];if(n.forEach(function(n){if(!((t=n.length-1)&lt;=0)){var t,e=n[0],r=n[t];if(_e(e,r)){u.lineStart();for(var a=0;t&gt;a;++a)u.point((e=n[a])[0],e[1]);return u.lineEnd(),void 0}var c=new Le(e,n,null,!0),s=new Le(e,null,c,!1);c.o=s,i.push(c),o.push(s),c=new Le(r,n,null,!1),s=new Le(r,null,c,!0),c.o=s,i.push(c),o.push(s)}}),o.sort(t),Ne(i),Ne(o),i.length){for(var a=0,c=e,s=o.length;s&gt;a;++a)o[a].e=c=!c;for(var l,f,h=i[0];;){for(var g=h,p=!0;g.v;)if((g=g.n)===h)return;l=g.z,u.lineStart();do{if(g.v=g.o.v=!0,g.e){if(p)for(var a=0,s=l.length;s&gt;a;++a)u.point((f=l[a])[0],f[1]);else r(g.x,g.n.x,1,u);g=g.n}else{if(p){l=g.p.z;for(var a=l.length-1;a&gt;=0;--a)u.point((f=l[a])[0],f[1])}else r(g.x,g.p.x,-1,u);g=g.p}g=g.o,l=g.z,p=!p}while(!g.v);u.lineEnd()}}}function Ne(n){if(t=n.length){for(var t,e,r=0,u=n[0];++r&lt;t;)u.n=e=n[r],e.p=u,u=e;u.n=e=n[0],e.p=u}}function Le(n,t,e,r){this.x=n,this.z=t,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function Te(n,t,e,r){return function(u,i){function o(t,e){var r=u(t,e);n(t=r[0],e=r[1])&amp;&amp;i.point(t,e)}function a(n,t){var e=u(n,t);d.point(e[0],e[1])}function c(){y.point=a,d.lineStart()}function s(){y.point=o,d.lineEnd()}function l(n,t){v.push([n,t]);var e=u(n,t);M.point(e[0],e[1])}function f(){M.lineStart(),v=[]}function h(){l(v[0][0],v[0][1]),M.lineEnd();var n,t=M.clean(),e=x.buffer(),r=e.length;if(v.pop(),p.push(v),v=null,r)if(1&amp;t){n=e[0];var u,r=n.length-1,o=-1;if(r&gt;0){for(_||(i.polygonStart(),_=!0),i.lineStart();++o&lt;r;)i.point((u=n[o])[0],u[1]);i.lineEnd()}}else r&gt;1&amp;&amp;2&amp;t&amp;&amp;e.push(e.pop().concat(e.shift())),g.push(e.filter(qe))}var g,p,v,d=t(i),m=u.invert(r[0],r[1]),y={point:o,lineStart:c,lineEnd:s,polygonStart:function(){y.point=l,y.lineStart=f,y.lineEnd=h,g=[],p=[]},polygonEnd:function(){y.point=o,y.lineStart=c,y.lineEnd=s,g=Go.merge(g);var n=De(m,p);g.length?(_||(i.polygonStart(),_=!0),Ce(g,Re,n,e,i)):n&amp;&amp;(_||(i.polygonStart(),_=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),_&amp;&amp;(i.polygonEnd(),_=!1),g=p=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}},x=ze(),M=t(x),_=!1;return y}}function qe(n){return n.length&gt;1}function ze(){var n,t=[];return{lineStart:function(){t.push(n=[])},point:function(t,e){n.push([t,e])},lineEnd:v,buffer:function(){var e=t;return t=[],n=null,e},rejoin:function(){t.length&gt;1&amp;&amp;t.push(t.pop().concat(t.shift()))}}}function Re(n,t){return((n=n.x)[0]&lt;0?n[1]-La-Ta:La-n[1])-((t=t.x)[0]&lt;0?t[1]-La-Ta:La-t[1])}function De(n,t){var e=n[0],r=n[1],u=[Math.sin(e),-Math.cos(e),0],i=0,o=0;dc.reset();for(var a=0,c=t.length;c&gt;a;++a){var s=t[a],l=s.length;if(l)for(var f=s[0],h=f[0],g=f[1]/2+Ca/4,p=Math.sin(g),v=Math.cos(g),d=1;;){d===l&amp;&amp;(d=0),n=s[d];var m=n[0],y=n[1]/2+Ca/4,x=Math.sin(y),M=Math.cos(y),_=m-h,b=_&gt;=0?1:-1,w=b*_,S=w&gt;Ca,k=p*x;if(dc.add(Math.atan2(k*b*Math.sin(w),v*M+k*Math.cos(w))),i+=S?_+b*Na:_,S^h&gt;=e^m&gt;=e){var E=de(pe(f),pe(n));xe(E);var A=de(u,E);xe(A);var C=(S^_&gt;=0?-1:1)*G(A[2]);(r&gt;C||r===C&amp;&amp;(E[0]||E[1]))&amp;&amp;(o+=S^_&gt;=0?1:-1)}if(!d++)break;h=m,p=x,v=M,f=n}}return(-Ta&gt;i||Ta&gt;i&amp;&amp;0&gt;dc)^1&amp;o}function Pe(n){var t,e=0/0,r=0/0,u=0/0;return{lineStart:function(){n.lineStart(),t=1},point:function(i,o){var a=i&gt;0?Ca:-Ca,c=fa(i-e);fa(c-Ca)&lt;Ta?(n.point(e,r=(r+o)/2&gt;0?La:-La),n.point(u,r),n.lineEnd(),n.lineStart(),n.point(a,r),n.point(i,r),t=0):u!==a&amp;&amp;c&gt;=Ca&amp;&amp;(fa(e-u)&lt;Ta&amp;&amp;(e-=u*Ta),fa(i-a)&lt;Ta&amp;&amp;(i-=a*Ta),r=Ue(e,r,i,o),n.point(u,r),n.lineEnd(),n.lineStart(),n.point(a,r),t=0),n.point(e=i,r=o),u=a},lineEnd:function(){n.lineEnd(),e=r=0/0},clean:function(){return 2-t}}}function Ue(n,t,e,r){var u,i,o=Math.sin(n-e);return fa(o)&gt;Ta?Math.atan((Math.sin(t)*(i=Math.cos(r))*Math.sin(e)-Math.sin(r)*(u=Math.cos(t))*Math.sin(n))/(u*i*o)):(t+r)/2}function je(n,t,e,r){var u;if(null==n)u=e*La,r.point(-Ca,u),r.point(0,u),r.point(Ca,u),r.point(Ca,0),r.point(Ca,-u),r.point(0,-u),r.point(-Ca,-u),r.point(-Ca,0),r.point(-Ca,u);else if(fa(n[0]-t[0])&gt;Ta){var i=n[0]&lt;t[0]?Ca:-Ca;u=e*i/2,r.point(-i,u),r.point(0,u),r.point(i,u)}else r.point(t[0],t[1])}function He(n){function t(n,t){return Math.cos(n)*Math.cos(t)&gt;i}function e(n){var e,i,c,s,l;return{lineStart:function(){s=c=!1,l=1},point:function(f,h){var g,p=[f,h],v=t(f,h),d=o?v?0:u(f,h):v?u(f+(0&gt;f?Ca:-Ca),h):0;if(!e&amp;&amp;(s=c=v)&amp;&amp;n.lineStart(),v!==c&amp;&amp;(g=r(e,p),(_e(e,g)||_e(p,g))&amp;&amp;(p[0]+=Ta,p[1]+=Ta,v=t(p[0],p[1]))),v!==c)l=0,v?(n.lineStart(),g=r(p,e),n.point(g[0],g[1])):(g=r(e,p),n.point(g[0],g[1]),n.lineEnd()),e=g;else if(a&amp;&amp;e&amp;&amp;o^v){var m;d&amp;i||!(m=r(p,e,!0))||(l=0,o?(n.lineStart(),n.point(m[0][0],m[0][1]),n.point(m[1][0],m[1][1]),n.lineEnd()):(n.point(m[1][0],m[1][1]),n.lineEnd(),n.lineStart(),n.point(m[0][0],m[0][1])))}!v||e&amp;&amp;_e(e,p)||n.point(p[0],p[1]),e=p,c=v,i=d},lineEnd:function(){c&amp;&amp;n.lineEnd(),e=null},clean:function(){return l|(s&amp;&amp;c)&lt;&lt;1}}}function r(n,t,e){var r=pe(n),u=pe(t),o=[1,0,0],a=de(r,u),c=ve(a,a),s=a[0],l=c-s*s;if(!l)return!e&amp;&amp;n;var f=i*c/l,h=-i*s/l,g=de(o,a),p=ye(o,f),v=ye(a,h);me(p,v);var d=g,m=ve(p,d),y=ve(d,d),x=m*m-y*(ve(p,p)-1);if(!(0&gt;x)){var M=Math.sqrt(x),_=ye(d,(-m-M)/y);if(me(_,p),_=Me(_),!e)return _;var b,w=n[0],S=t[0],k=n[1],E=t[1];w&gt;S&amp;&amp;(b=w,w=S,S=b);var A=S-w,C=fa(A-Ca)&lt;Ta,N=C||Ta&gt;A;if(!C&amp;&amp;k&gt;E&amp;&amp;(b=k,k=E,E=b),N?C?k+E&gt;0^_[1]&lt;(fa(_[0]-w)&lt;Ta?k:E):k&lt;=_[1]&amp;&amp;_[1]&lt;=E:A&gt;Ca^(w&lt;=_[0]&amp;&amp;_[0]&lt;=S)){var L=ye(d,(-m+M)/y);return me(L,p),[_,Me(L)]}}}function u(t,e){var r=o?n:Ca-n,u=0;return-r&gt;t?u|=1:t&gt;r&amp;&amp;(u|=2),-r&gt;e?u|=4:e&gt;r&amp;&amp;(u|=8),u}var i=Math.cos(n),o=i&gt;0,a=fa(i)&gt;Ta,c=gr(n,6*za);return Te(t,e,c,o?[0,-n]:[-Ca,n-Ca])}function Fe(n,t,e,r){return function(u){var i,o=u.a,a=u.b,c=o.x,s=o.y,l=a.x,f=a.y,h=0,g=1,p=l-c,v=f-s;if(i=n-c,p||!(i&gt;0)){if(i/=p,0&gt;p){if(h&gt;i)return;g&gt;i&amp;&amp;(g=i)}else if(p&gt;0){if(i&gt;g)return;i&gt;h&amp;&amp;(h=i)}if(i=e-c,p||!(0&gt;i)){if(i/=p,0&gt;p){if(i&gt;g)return;i&gt;h&amp;&amp;(h=i)}else if(p&gt;0){if(h&gt;i)return;g&gt;i&amp;&amp;(g=i)}if(i=t-s,v||!(i&gt;0)){if(i/=v,0&gt;v){if(h&gt;i)return;g&gt;i&amp;&amp;(g=i)}else if(v&gt;0){if(i&gt;g)return;i&gt;h&amp;&amp;(h=i)}if(i=r-s,v||!(0&gt;i)){if(i/=v,0&gt;v){if(i&gt;g)return;i&gt;h&amp;&amp;(h=i)}else if(v&gt;0){if(h&gt;i)return;g&gt;i&amp;&amp;(g=i)}return h&gt;0&amp;&amp;(u.a={x:c+h*p,y:s+h*v}),1&gt;g&amp;&amp;(u.b={x:c+g*p,y:s+g*v}),u}}}}}}function Oe(n,t,e,r){function u(r,u){return fa(r[0]-n)&lt;Ta?u&gt;0?0:3:fa(r[0]-e)&lt;Ta?u&gt;0?2:1:fa(r[1]-t)&lt;Ta?u&gt;0?1:0:u&gt;0?3:2}function i(n,t){return o(n.x,t.x)}function o(n,t){var e=u(n,1),r=u(t,1);return e!==r?e-r:0===e?t[1]-n[1]:1===e?n[0]-t[0]:2===e?n[1]-t[1]:t[0]-n[0]}return function(a){function c(n){for(var t=0,e=d.length,r=n[1],u=0;e&gt;u;++u)for(var i,o=1,a=d[u],c=a.length,s=a[0];c&gt;o;++o)i=a[o],s[1]&lt;=r?i[1]&gt;r&amp;&amp;J(s,i,n)&gt;0&amp;&amp;++t:i[1]&lt;=r&amp;&amp;J(s,i,n)&lt;0&amp;&amp;--t,s=i;return 0!==t}function s(i,a,c,s){var l=0,f=0;if(null==i||(l=u(i,c))!==(f=u(a,c))||o(i,a)&lt;0^c&gt;0){do s.point(0===l||3===l?n:e,l&gt;1?r:t);while((l=(l+c+4)%4)!==f)}else s.point(a[0],a[1])}function l(u,i){return u&gt;=n&amp;&amp;e&gt;=u&amp;&amp;i&gt;=t&amp;&amp;r&gt;=i}function f(n,t){l(n,t)&amp;&amp;a.point(n,t)}function h(){N.point=p,d&amp;&amp;d.push(m=[]),S=!0,w=!1,_=b=0/0}function g(){v&amp;&amp;(p(y,x),M&amp;&amp;w&amp;&amp;A.rejoin(),v.push(A.buffer())),N.point=f,w&amp;&amp;a.lineEnd()}function p(n,t){n=Math.max(-Tc,Math.min(Tc,n)),t=Math.max(-Tc,Math.min(Tc,t));var e=l(n,t);if(d&amp;&amp;m.push([n,t]),S)y=n,x=t,M=e,S=!1,e&amp;&amp;(a.lineStart(),a.point(n,t));else if(e&amp;&amp;w)a.point(n,t);else{var r={a:{x:_,y:b},b:{x:n,y:t}};C(r)?(w||(a.lineStart(),a.point(r.a.x,r.a.y)),a.point(r.b.x,r.b.y),e||a.lineEnd(),k=!1):e&amp;&amp;(a.lineStart(),a.point(n,t),k=!1)}_=n,b=t,w=e}var v,d,m,y,x,M,_,b,w,S,k,E=a,A=ze(),C=Fe(n,t,e,r),N={point:f,lineStart:h,lineEnd:g,polygonStart:function(){a=A,v=[],d=[],k=!0},polygonEnd:function(){a=E,v=Go.merge(v);var t=c([n,r]),e=k&amp;&amp;t,u=v.length;(e||u)&amp;&amp;(a.polygonStart(),e&amp;&amp;(a.lineStart(),s(null,null,1,a),a.lineEnd()),u&amp;&amp;Ce(v,i,t,s,a),a.polygonEnd()),v=d=m=null}};return N}}function Ie(n,t){function e(e,r){return e=n(e,r),t(e[0],e[1])}return n.invert&amp;&amp;t.invert&amp;&amp;(e.invert=function(e,r){return e=t.invert(e,r),e&amp;&amp;n.invert(e[0],e[1])}),e}function Ye(n){var t=0,e=Ca/3,r=ir(n),u=r(t,e);return u.parallels=function(n){return arguments.length?r(t=n[0]*Ca/180,e=n[1]*Ca/180):[180*(t/Ca),180*(e/Ca)]},u}function Ze(n,t){function e(n,t){var e=Math.sqrt(i-2*u*Math.sin(t))/u;return[e*Math.sin(n*=u),o-e*Math.cos(n)]}var r=Math.sin(n),u=(r+Math.sin(t))/2,i=1+r*(2*u-r),o=Math.sqrt(i)/u;return e.invert=function(n,t){var e=o-t;return[Math.atan2(n,e)/u,G((i-(n*n+e*e)*u*u)/(2*u))]},e}function Ve(){function n(n,t){zc+=u*n-r*t,r=n,u=t}var t,e,r,u;jc.point=function(i,o){jc.point=n,t=r=i,e=u=o},jc.lineEnd=function(){n(t,e)}}function $e(n,t){Rc&gt;n&amp;&amp;(Rc=n),n&gt;Pc&amp;&amp;(Pc=n),Dc&gt;t&amp;&amp;(Dc=t),t&gt;Uc&amp;&amp;(Uc=t)}function Xe(){function n(n,t){o.push(&quot;M&quot;,n,&quot;,&quot;,t,i)}function t(n,t){o.push(&quot;M&quot;,n,&quot;,&quot;,t),a.point=e}function e(n,t){o.push(&quot;L&quot;,n,&quot;,&quot;,t)}function r(){a.point=n}function u(){o.push(&quot;Z&quot;)}var i=Be(4.5),o=[],a={point:n,lineStart:function(){a.point=t},lineEnd:r,polygonStart:function(){a.lineEnd=u},polygonEnd:function(){a.lineEnd=r,a.point=n},pointRadius:function(n){return i=Be(n),a},result:function(){if(o.length){var n=o.join(&quot;&quot;);return o=[],n}}};return a}function Be(n){return&quot;m0,&quot;+n+&quot;a&quot;+n+&quot;,&quot;+n+&quot; 0 1,1 0,&quot;+-2*n+&quot;a&quot;+n+&quot;,&quot;+n+&quot; 0 1,1 0,&quot;+2*n+&quot;z&quot;}function Je(n,t){Mc+=n,_c+=t,++bc}function We(){function n(n,r){var u=n-t,i=r-e,o=Math.sqrt(u*u+i*i);wc+=o*(t+n)/2,Sc+=o*(e+r)/2,kc+=o,Je(t=n,e=r)}var t,e;Fc.point=function(r,u){Fc.point=n,Je(t=r,e=u)}}function Ge(){Fc.point=Je}function Ke(){function n(n,t){var e=n-r,i=t-u,o=Math.sqrt(e*e+i*i);wc+=o*(r+n)/2,Sc+=o*(u+t)/2,kc+=o,o=u*n-r*t,Ec+=o*(r+n),Ac+=o*(u+t),Cc+=3*o,Je(r=n,u=t)}var t,e,r,u;Fc.point=function(i,o){Fc.point=n,Je(t=r=i,e=u=o)},Fc.lineEnd=function(){n(t,e)}}function Qe(n){function t(t,e){n.moveTo(t,e),n.arc(t,e,o,0,Na)}function e(t,e){n.moveTo(t,e),a.point=r}function r(t,e){n.lineTo(t,e)}function u(){a.point=t}function i(){n.closePath()}var o=4.5,a={point:t,lineStart:function(){a.point=e},lineEnd:u,polygonStart:function(){a.lineEnd=i},polygonEnd:function(){a.lineEnd=u,a.point=t},pointRadius:function(n){return o=n,a},result:v};return a}function nr(n){function t(n){return(a?r:e)(n)}function e(t){return rr(t,function(e,r){e=n(e,r),t.point(e[0],e[1])})}function r(t){function e(e,r){e=n(e,r),t.point(e[0],e[1])}function r(){x=0/0,S.point=i,t.lineStart()}function i(e,r){var i=pe([e,r]),o=n(e,r);u(x,M,y,_,b,w,x=o[0],M=o[1],y=e,_=i[0],b=i[1],w=i[2],a,t),t.point(x,M)}function o(){S.point=e,t.lineEnd()}function c(){r(),S.point=s,S.lineEnd=l}function s(n,t){i(f=n,h=t),g=x,p=M,v=_,d=b,m=w,S.point=i}function l(){u(x,M,y,_,b,w,g,p,f,v,d,m,a,t),S.lineEnd=o,o()}var f,h,g,p,v,d,m,y,x,M,_,b,w,S={point:e,lineStart:r,lineEnd:o,polygonStart:function(){t.polygonStart(),S.lineStart=c},polygonEnd:function(){t.polygonEnd(),S.lineStart=r}};return S}function u(t,e,r,a,c,s,l,f,h,g,p,v,d,m){var y=l-t,x=f-e,M=y*y+x*x;if(M&gt;4*i&amp;&amp;d--){var _=a+g,b=c+p,w=s+v,S=Math.sqrt(_*_+b*b+w*w),k=Math.asin(w/=S),E=fa(fa(w)-1)&lt;Ta||fa(r-h)&lt;Ta?(r+h)/2:Math.atan2(b,_),A=n(E,k),C=A[0],N=A[1],L=C-t,T=N-e,q=x*L-y*T;(q*q/M&gt;i||fa((y*L+x*T)/M-.5)&gt;.3||o&gt;a*g+c*p+s*v)&amp;&amp;(u(t,e,r,a,c,s,C,N,E,_/=S,b/=S,w,d,m),m.point(C,N),u(C,N,E,_,b,w,l,f,h,g,p,v,d,m))}}var i=.5,o=Math.cos(30*za),a=16;return t.precision=function(n){return arguments.length?(a=(i=n*n)&gt;0&amp;&amp;16,t):Math.sqrt(i)},t}function tr(n){var t=nr(function(t,e){return n([t*Ra,e*Ra])});return function(n){return or(t(n))}}function er(n){this.stream=n}function rr(n,t){return{point:t,sphere:function(){n.sphere()},lineStart:function(){n.lineStart()},lineEnd:function(){n.lineEnd()},polygonStart:function(){n.polygonStart()},polygonEnd:function(){n.polygonEnd()}}}function ur(n){return ir(function(){return n})()}function ir(n){function t(n){return n=a(n[0]*za,n[1]*za),[n[0]*h+c,s-n[1]*h]}function e(n){return n=a.invert((n[0]-c)/h,(s-n[1])/h),n&amp;&amp;[n[0]*Ra,n[1]*Ra]}function r(){a=Ie(o=sr(m,y,x),i);var n=i(v,d);return c=g-n[0]*h,s=p+n[1]*h,u()
}function u(){return l&amp;&amp;(l.valid=!1,l=null),t}var i,o,a,c,s,l,f=nr(function(n,t){return n=i(n,t),[n[0]*h+c,s-n[1]*h]}),h=150,g=480,p=250,v=0,d=0,m=0,y=0,x=0,M=Lc,_=At,b=null,w=null;return t.stream=function(n){return l&amp;&amp;(l.valid=!1),l=or(M(o,f(_(n)))),l.valid=!0,l},t.clipAngle=function(n){return arguments.length?(M=null==n?(b=n,Lc):He((b=+n)*za),u()):b},t.clipExtent=function(n){return arguments.length?(w=n,_=n?Oe(n[0][0],n[0][1],n[1][0],n[1][1]):At,u()):w},t.scale=function(n){return arguments.length?(h=+n,r()):h},t.translate=function(n){return arguments.length?(g=+n[0],p=+n[1],r()):[g,p]},t.center=function(n){return arguments.length?(v=n[0]%360*za,d=n[1]%360*za,r()):[v*Ra,d*Ra]},t.rotate=function(n){return arguments.length?(m=n[0]%360*za,y=n[1]%360*za,x=n.length&gt;2?n[2]%360*za:0,r()):[m*Ra,y*Ra,x*Ra]},Go.rebind(t,f,&quot;precision&quot;),function(){return i=n.apply(this,arguments),t.invert=i.invert&amp;&amp;e,r()}}function or(n){return rr(n,function(t,e){n.point(t*za,e*za)})}function ar(n,t){return[n,t]}function cr(n,t){return[n&gt;Ca?n-Na:-Ca&gt;n?n+Na:n,t]}function sr(n,t,e){return n?t||e?Ie(fr(n),hr(t,e)):fr(n):t||e?hr(t,e):cr}function lr(n){return function(t,e){return t+=n,[t&gt;Ca?t-Na:-Ca&gt;t?t+Na:t,e]}}function fr(n){var t=lr(n);return t.invert=lr(-n),t}function hr(n,t){function e(n,t){var e=Math.cos(t),a=Math.cos(n)*e,c=Math.sin(n)*e,s=Math.sin(t),l=s*r+a*u;return[Math.atan2(c*i-l*o,a*r-s*u),G(l*i+c*o)]}var r=Math.cos(n),u=Math.sin(n),i=Math.cos(t),o=Math.sin(t);return e.invert=function(n,t){var e=Math.cos(t),a=Math.cos(n)*e,c=Math.sin(n)*e,s=Math.sin(t),l=s*i-c*o;return[Math.atan2(c*i+s*o,a*r+l*u),G(l*r-a*u)]},e}function gr(n,t){var e=Math.cos(n),r=Math.sin(n);return function(u,i,o,a){var c=o*t;null!=u?(u=pr(e,u),i=pr(e,i),(o&gt;0?i&gt;u:u&gt;i)&amp;&amp;(u+=o*Na)):(u=n+o*Na,i=n-.5*c);for(var s,l=u;o&gt;0?l&gt;i:i&gt;l;l-=c)a.point((s=Me([e,-r*Math.cos(l),-r*Math.sin(l)]))[0],s[1])}}function pr(n,t){var e=pe(t);e[0]-=n,xe(e);var r=W(-e[1]);return((-e[2]&lt;0?-r:r)+2*Math.PI-Ta)%(2*Math.PI)}function vr(n,t,e){var r=Go.range(n,t-Ta,e).concat(t);return function(n){return r.map(function(t){return[n,t]})}}function dr(n,t,e){var r=Go.range(n,t-Ta,e).concat(t);return function(n){return r.map(function(t){return[t,n]})}}function mr(n){return n.source}function yr(n){return n.target}function xr(n,t,e,r){var u=Math.cos(t),i=Math.sin(t),o=Math.cos(r),a=Math.sin(r),c=u*Math.cos(n),s=u*Math.sin(n),l=o*Math.cos(e),f=o*Math.sin(e),h=2*Math.asin(Math.sqrt(tt(r-t)+u*o*tt(e-n))),g=1/Math.sin(h),p=h?function(n){var t=Math.sin(n*=h)*g,e=Math.sin(h-n)*g,r=e*c+t*l,u=e*s+t*f,o=e*i+t*a;return[Math.atan2(u,r)*Ra,Math.atan2(o,Math.sqrt(r*r+u*u))*Ra]}:function(){return[n*Ra,t*Ra]};return p.distance=h,p}function Mr(){function n(n,u){var i=Math.sin(u*=za),o=Math.cos(u),a=fa((n*=za)-t),c=Math.cos(a);Oc+=Math.atan2(Math.sqrt((a=o*Math.sin(a))*a+(a=r*i-e*o*c)*a),e*i+r*o*c),t=n,e=i,r=o}var t,e,r;Ic.point=function(u,i){t=u*za,e=Math.sin(i*=za),r=Math.cos(i),Ic.point=n},Ic.lineEnd=function(){Ic.point=Ic.lineEnd=v}}function _r(n,t){function e(t,e){var r=Math.cos(t),u=Math.cos(e),i=n(r*u);return[i*u*Math.sin(t),i*Math.sin(e)]}return e.invert=function(n,e){var r=Math.sqrt(n*n+e*e),u=t(r),i=Math.sin(u),o=Math.cos(u);return[Math.atan2(n*i,r*o),Math.asin(r&amp;&amp;e*i/r)]},e}function br(n,t){function e(n,t){o&gt;0?-La+Ta&gt;t&amp;&amp;(t=-La+Ta):t&gt;La-Ta&amp;&amp;(t=La-Ta);var e=o/Math.pow(u(t),i);return[e*Math.sin(i*n),o-e*Math.cos(i*n)]}var r=Math.cos(n),u=function(n){return Math.tan(Ca/4+n/2)},i=n===t?Math.sin(n):Math.log(r/Math.cos(t))/Math.log(u(t)/u(n)),o=r*Math.pow(u(n),i)/i;return i?(e.invert=function(n,t){var e=o-t,r=B(i)*Math.sqrt(n*n+e*e);return[Math.atan2(n,e)/i,2*Math.atan(Math.pow(o/r,1/i))-La]},e):Sr}function wr(n,t){function e(n,t){var e=i-t;return[e*Math.sin(u*n),i-e*Math.cos(u*n)]}var r=Math.cos(n),u=n===t?Math.sin(n):(r-Math.cos(t))/(t-n),i=r/u+n;return fa(u)&lt;Ta?ar:(e.invert=function(n,t){var e=i-t;return[Math.atan2(n,e)/u,i-B(u)*Math.sqrt(n*n+e*e)]},e)}function Sr(n,t){return[n,Math.log(Math.tan(Ca/4+t/2))]}function kr(n){var t,e=ur(n),r=e.scale,u=e.translate,i=e.clipExtent;return e.scale=function(){var n=r.apply(e,arguments);return n===e?t?e.clipExtent(null):e:n},e.translate=function(){var n=u.apply(e,arguments);return n===e?t?e.clipExtent(null):e:n},e.clipExtent=function(n){var o=i.apply(e,arguments);if(o===e){if(t=null==n){var a=Ca*r(),c=u();i([[c[0]-a,c[1]-a],[c[0]+a,c[1]+a]])}}else t&amp;&amp;(o=null);return o},e.clipExtent(null)}function Er(n,t){return[Math.log(Math.tan(Ca/4+t/2)),-n]}function Ar(n){return n[0]}function Cr(n){return n[1]}function Nr(n){for(var t=n.length,e=[0,1],r=2,u=2;t&gt;u;u++){for(;r&gt;1&amp;&amp;J(n[e[r-2]],n[e[r-1]],n[u])&lt;=0;)--r;e[r++]=u}return e.slice(0,r)}function Lr(n,t){return n[0]-t[0]||n[1]-t[1]}function Tr(n,t,e){return(e[0]-t[0])*(n[1]-t[1])&lt;(e[1]-t[1])*(n[0]-t[0])}function qr(n,t,e,r){var u=n[0],i=e[0],o=t[0]-u,a=r[0]-i,c=n[1],s=e[1],l=t[1]-c,f=r[1]-s,h=(a*(c-s)-f*(u-i))/(f*o-a*l);return[u+h*o,c+h*l]}function zr(n){var t=n[0],e=n[n.length-1];return!(t[0]-e[0]||t[1]-e[1])}function Rr(){tu(this),this.edge=this.site=this.circle=null}function Dr(n){var t=ns.pop()||new Rr;return t.site=n,t}function Pr(n){$r(n),Gc.remove(n),ns.push(n),tu(n)}function Ur(n){var t=n.circle,e=t.x,r=t.cy,u={x:e,y:r},i=n.P,o=n.N,a=[n];Pr(n);for(var c=i;c.circle&amp;&amp;fa(e-c.circle.x)&lt;Ta&amp;&amp;fa(r-c.circle.cy)&lt;Ta;)i=c.P,a.unshift(c),Pr(c),c=i;a.unshift(c),$r(c);for(var s=o;s.circle&amp;&amp;fa(e-s.circle.x)&lt;Ta&amp;&amp;fa(r-s.circle.cy)&lt;Ta;)o=s.N,a.push(s),Pr(s),s=o;a.push(s),$r(s);var l,f=a.length;for(l=1;f&gt;l;++l)s=a[l],c=a[l-1],Kr(s.edge,c.site,s.site,u);c=a[0],s=a[f-1],s.edge=Wr(c.site,s.site,null,u),Vr(c),Vr(s)}function jr(n){for(var t,e,r,u,i=n.x,o=n.y,a=Gc._;a;)if(r=Hr(a,o)-i,r&gt;Ta)a=a.L;else{if(u=i-Fr(a,o),!(u&gt;Ta)){r&gt;-Ta?(t=a.P,e=a):u&gt;-Ta?(t=a,e=a.N):t=e=a;break}if(!a.R){t=a;break}a=a.R}var c=Dr(n);if(Gc.insert(t,c),t||e){if(t===e)return $r(t),e=Dr(t.site),Gc.insert(c,e),c.edge=e.edge=Wr(t.site,c.site),Vr(t),Vr(e),void 0;if(!e)return c.edge=Wr(t.site,c.site),void 0;$r(t),$r(e);var s=t.site,l=s.x,f=s.y,h=n.x-l,g=n.y-f,p=e.site,v=p.x-l,d=p.y-f,m=2*(h*d-g*v),y=h*h+g*g,x=v*v+d*d,M={x:(d*y-g*x)/m+l,y:(h*x-v*y)/m+f};Kr(e.edge,s,p,M),c.edge=Wr(s,n,null,M),e.edge=Wr(n,p,null,M),Vr(t),Vr(e)}}function Hr(n,t){var e=n.site,r=e.x,u=e.y,i=u-t;if(!i)return r;var o=n.P;if(!o)return-1/0;e=o.site;var a=e.x,c=e.y,s=c-t;if(!s)return a;var l=a-r,f=1/i-1/s,h=l/s;return f?(-h+Math.sqrt(h*h-2*f*(l*l/(-2*s)-c+s/2+u-i/2)))/f+r:(r+a)/2}function Fr(n,t){var e=n.N;if(e)return Hr(e,t);var r=n.site;return r.y===t?r.x:1/0}function Or(n){this.site=n,this.edges=[]}function Ir(n){for(var t,e,r,u,i,o,a,c,s,l,f=n[0][0],h=n[1][0],g=n[0][1],p=n[1][1],v=Wc,d=v.length;d--;)if(i=v[d],i&amp;&amp;i.prepare())for(a=i.edges,c=a.length,o=0;c&gt;o;)l=a[o].end(),r=l.x,u=l.y,s=a[++o%c].start(),t=s.x,e=s.y,(fa(r-t)&gt;Ta||fa(u-e)&gt;Ta)&amp;&amp;(a.splice(o,0,new Qr(Gr(i.site,l,fa(r-f)&lt;Ta&amp;&amp;p-u&gt;Ta?{x:f,y:fa(t-f)&lt;Ta?e:p}:fa(u-p)&lt;Ta&amp;&amp;h-r&gt;Ta?{x:fa(e-p)&lt;Ta?t:h,y:p}:fa(r-h)&lt;Ta&amp;&amp;u-g&gt;Ta?{x:h,y:fa(t-h)&lt;Ta?e:g}:fa(u-g)&lt;Ta&amp;&amp;r-f&gt;Ta?{x:fa(e-g)&lt;Ta?t:f,y:g}:null),i.site,null)),++c)}function Yr(n,t){return t.angle-n.angle}function Zr(){tu(this),this.x=this.y=this.arc=this.site=this.cy=null}function Vr(n){var t=n.P,e=n.N;if(t&amp;&amp;e){var r=t.site,u=n.site,i=e.site;if(r!==i){var o=u.x,a=u.y,c=r.x-o,s=r.y-a,l=i.x-o,f=i.y-a,h=2*(c*f-s*l);if(!(h&gt;=-qa)){var g=c*c+s*s,p=l*l+f*f,v=(f*g-s*p)/h,d=(c*p-l*g)/h,f=d+a,m=ts.pop()||new Zr;m.arc=n,m.site=u,m.x=v+o,m.y=f+Math.sqrt(v*v+d*d),m.cy=f,n.circle=m;for(var y=null,x=Qc._;x;)if(m.y&lt;x.y||m.y===x.y&amp;&amp;m.x&lt;=x.x){if(!x.L){y=x.P;break}x=x.L}else{if(!x.R){y=x;break}x=x.R}Qc.insert(y,m),y||(Kc=m)}}}}function $r(n){var t=n.circle;t&amp;&amp;(t.P||(Kc=t.N),Qc.remove(t),ts.push(t),tu(t),n.circle=null)}function Xr(n){for(var t,e=Jc,r=Fe(n[0][0],n[0][1],n[1][0],n[1][1]),u=e.length;u--;)t=e[u],(!Br(t,n)||!r(t)||fa(t.a.x-t.b.x)&lt;Ta&amp;&amp;fa(t.a.y-t.b.y)&lt;Ta)&amp;&amp;(t.a=t.b=null,e.splice(u,1))}function Br(n,t){var e=n.b;if(e)return!0;var r,u,i=n.a,o=t[0][0],a=t[1][0],c=t[0][1],s=t[1][1],l=n.l,f=n.r,h=l.x,g=l.y,p=f.x,v=f.y,d=(h+p)/2,m=(g+v)/2;if(v===g){if(o&gt;d||d&gt;=a)return;if(h&gt;p){if(i){if(i.y&gt;=s)return}else i={x:d,y:c};e={x:d,y:s}}else{if(i){if(i.y&lt;c)return}else i={x:d,y:s};e={x:d,y:c}}}else if(r=(h-p)/(v-g),u=m-r*d,-1&gt;r||r&gt;1)if(h&gt;p){if(i){if(i.y&gt;=s)return}else i={x:(c-u)/r,y:c};e={x:(s-u)/r,y:s}}else{if(i){if(i.y&lt;c)return}else i={x:(s-u)/r,y:s};e={x:(c-u)/r,y:c}}else if(v&gt;g){if(i){if(i.x&gt;=a)return}else i={x:o,y:r*o+u};e={x:a,y:r*a+u}}else{if(i){if(i.x&lt;o)return}else i={x:a,y:r*a+u};e={x:o,y:r*o+u}}return n.a=i,n.b=e,!0}function Jr(n,t){this.l=n,this.r=t,this.a=this.b=null}function Wr(n,t,e,r){var u=new Jr(n,t);return Jc.push(u),e&amp;&amp;Kr(u,n,t,e),r&amp;&amp;Kr(u,t,n,r),Wc[n.i].edges.push(new Qr(u,n,t)),Wc[t.i].edges.push(new Qr(u,t,n)),u}function Gr(n,t,e){var r=new Jr(n,null);return r.a=t,r.b=e,Jc.push(r),r}function Kr(n,t,e,r){n.a||n.b?n.l===e?n.b=r:n.a=r:(n.a=r,n.l=t,n.r=e)}function Qr(n,t,e){var r=n.a,u=n.b;this.edge=n,this.site=t,this.angle=e?Math.atan2(e.y-t.y,e.x-t.x):n.l===t?Math.atan2(u.x-r.x,r.y-u.y):Math.atan2(r.x-u.x,u.y-r.y)}function nu(){this._=null}function tu(n){n.U=n.C=n.L=n.R=n.P=n.N=null}function eu(n,t){var e=t,r=t.R,u=e.U;u?u.L===e?u.L=r:u.R=r:n._=r,r.U=u,e.U=r,e.R=r.L,e.R&amp;&amp;(e.R.U=e),r.L=e}function ru(n,t){var e=t,r=t.L,u=e.U;u?u.L===e?u.L=r:u.R=r:n._=r,r.U=u,e.U=r,e.L=r.R,e.L&amp;&amp;(e.L.U=e),r.R=e}function uu(n){for(;n.L;)n=n.L;return n}function iu(n,t){var e,r,u,i=n.sort(ou).pop();for(Jc=[],Wc=new Array(n.length),Gc=new nu,Qc=new nu;;)if(u=Kc,i&amp;&amp;(!u||i.y&lt;u.y||i.y===u.y&amp;&amp;i.x&lt;u.x))(i.x!==e||i.y!==r)&amp;&amp;(Wc[i.i]=new Or(i),jr(i),e=i.x,r=i.y),i=n.pop();else{if(!u)break;Ur(u.arc)}t&amp;&amp;(Xr(t),Ir(t));var o={cells:Wc,edges:Jc};return Gc=Qc=Jc=Wc=null,o}function ou(n,t){return t.y-n.y||t.x-n.x}function au(n,t,e){return(n.x-e.x)*(t.y-n.y)-(n.x-t.x)*(e.y-n.y)}function cu(n){return n.x}function su(n){return n.y}function lu(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function fu(n,t,e,r,u,i){if(!n(t,e,r,u,i)){var o=.5*(e+u),a=.5*(r+i),c=t.nodes;c[0]&amp;&amp;fu(n,c[0],e,r,o,a),c[1]&amp;&amp;fu(n,c[1],o,r,u,a),c[2]&amp;&amp;fu(n,c[2],e,a,o,i),c[3]&amp;&amp;fu(n,c[3],o,a,u,i)}}function hu(n,t){n=Go.rgb(n),t=Go.rgb(t);var e=n.r,r=n.g,u=n.b,i=t.r-e,o=t.g-r,a=t.b-u;return function(n){return&quot;#&quot;+Mt(Math.round(e+i*n))+Mt(Math.round(r+o*n))+Mt(Math.round(u+a*n))}}function gu(n,t){var e,r={},u={};for(e in n)e in t?r[e]=du(n[e],t[e]):u[e]=n[e];for(e in t)e in n||(u[e]=t[e]);return function(n){for(e in r)u[e]=r[e](n);return u}}function pu(n,t){return t-=n=+n,function(e){return n+t*e}}function vu(n,t){var e,r,u,i=rs.lastIndex=us.lastIndex=0,o=-1,a=[],c=[];for(n+=&quot;&quot;,t+=&quot;&quot;;(e=rs.exec(n))&amp;&amp;(r=us.exec(t));)(u=r.index)&gt;i&amp;&amp;(u=t.substring(i,u),a[o]?a[o]+=u:a[++o]=u),(e=e[0])===(r=r[0])?a[o]?a[o]+=r:a[++o]=r:(a[++o]=null,c.push({i:o,x:pu(e,r)})),i=us.lastIndex;return i&lt;t.length&amp;&amp;(u=t.substring(i),a[o]?a[o]+=u:a[++o]=u),a.length&lt;2?c[0]?(t=c[0].x,function(n){return t(n)+&quot;&quot;}):function(){return t}:(t=c.length,function(n){for(var e,r=0;t&gt;r;++r)a[(e=c[r]).i]=e.x(n);return a.join(&quot;&quot;)})}function du(n,t){for(var e,r=Go.interpolators.length;--r&gt;=0&amp;&amp;!(e=Go.interpolators[r](n,t)););return e}function mu(n,t){var e,r=[],u=[],i=n.length,o=t.length,a=Math.min(n.length,t.length);for(e=0;a&gt;e;++e)r.push(du(n[e],t[e]));for(;i&gt;e;++e)u[e]=n[e];for(;o&gt;e;++e)u[e]=t[e];return function(n){for(e=0;a&gt;e;++e)u[e]=r[e](n);return u}}function yu(n){return function(t){return 0&gt;=t?0:t&gt;=1?1:n(t)}}function xu(n){return function(t){return 1-n(1-t)}}function Mu(n){return function(t){return.5*(.5&gt;t?n(2*t):2-n(2-2*t))}}function _u(n){return n*n}function bu(n){return n*n*n}function wu(n){if(0&gt;=n)return 0;if(n&gt;=1)return 1;var t=n*n,e=t*n;return 4*(.5&gt;n?e:3*(n-t)+e-.75)}function Su(n){return function(t){return Math.pow(t,n)}}function ku(n){return 1-Math.cos(n*La)}function Eu(n){return Math.pow(2,10*(n-1))}function Au(n){return 1-Math.sqrt(1-n*n)}function Cu(n,t){var e;return arguments.length&lt;2&amp;&amp;(t=.45),arguments.length?e=t/Na*Math.asin(1/n):(n=1,e=t/4),function(r){return 1+n*Math.pow(2,-10*r)*Math.sin((r-e)*Na/t)}}function Nu(n){return n||(n=1.70158),function(t){return t*t*((n+1)*t-n)}}function Lu(n){return 1/2.75&gt;n?7.5625*n*n:2/2.75&gt;n?7.5625*(n-=1.5/2.75)*n+.75:2.5/2.75&gt;n?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375}function Tu(n,t){n=Go.hcl(n),t=Go.hcl(t);var e=n.h,r=n.c,u=n.l,i=t.h-e,o=t.c-r,a=t.l-u;return isNaN(o)&amp;&amp;(o=0,r=isNaN(r)?t.c:r),isNaN(i)?(i=0,e=isNaN(e)?t.h:e):i&gt;180?i-=360:-180&gt;i&amp;&amp;(i+=360),function(n){return ct(e+i*n,r+o*n,u+a*n)+&quot;&quot;}}function qu(n,t){n=Go.hsl(n),t=Go.hsl(t);var e=n.h,r=n.s,u=n.l,i=t.h-e,o=t.s-r,a=t.l-u;return isNaN(o)&amp;&amp;(o=0,r=isNaN(r)?t.s:r),isNaN(i)?(i=0,e=isNaN(e)?t.h:e):i&gt;180?i-=360:-180&gt;i&amp;&amp;(i+=360),function(n){return it(e+i*n,r+o*n,u+a*n)+&quot;&quot;}}function zu(n,t){n=Go.lab(n),t=Go.lab(t);var e=n.l,r=n.a,u=n.b,i=t.l-e,o=t.a-r,a=t.b-u;return function(n){return ft(e+i*n,r+o*n,u+a*n)+&quot;&quot;}}function Ru(n,t){return t-=n,function(e){return Math.round(n+t*e)}}function Du(n){var t=[n.a,n.b],e=[n.c,n.d],r=Uu(t),u=Pu(t,e),i=Uu(ju(e,t,-u))||0;t[0]*e[1]&lt;e[0]*t[1]&amp;&amp;(t[0]*=-1,t[1]*=-1,r*=-1,u*=-1),this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-e[0],e[1]))*Ra,this.translate=[n.e,n.f],this.scale=[r,i],this.skew=i?Math.atan2(u,i)*Ra:0}function Pu(n,t){return n[0]*t[0]+n[1]*t[1]}function Uu(n){var t=Math.sqrt(Pu(n,n));return t&amp;&amp;(n[0]/=t,n[1]/=t),t}function ju(n,t,e){return n[0]+=e*t[0],n[1]+=e*t[1],n}function Hu(n,t){var e,r=[],u=[],i=Go.transform(n),o=Go.transform(t),a=i.translate,c=o.translate,s=i.rotate,l=o.rotate,f=i.skew,h=o.skew,g=i.scale,p=o.scale;return a[0]!=c[0]||a[1]!=c[1]?(r.push(&quot;translate(&quot;,null,&quot;,&quot;,null,&quot;)&quot;),u.push({i:1,x:pu(a[0],c[0])},{i:3,x:pu(a[1],c[1])})):c[0]||c[1]?r.push(&quot;translate(&quot;+c+&quot;)&quot;):r.push(&quot;&quot;),s!=l?(s-l&gt;180?l+=360:l-s&gt;180&amp;&amp;(s+=360),u.push({i:r.push(r.pop()+&quot;rotate(&quot;,null,&quot;)&quot;)-2,x:pu(s,l)})):l&amp;&amp;r.push(r.pop()+&quot;rotate(&quot;+l+&quot;)&quot;),f!=h?u.push({i:r.push(r.pop()+&quot;skewX(&quot;,null,&quot;)&quot;)-2,x:pu(f,h)}):h&amp;&amp;r.push(r.pop()+&quot;skewX(&quot;+h+&quot;)&quot;),g[0]!=p[0]||g[1]!=p[1]?(e=r.push(r.pop()+&quot;scale(&quot;,null,&quot;,&quot;,null,&quot;)&quot;),u.push({i:e-4,x:pu(g[0],p[0])},{i:e-2,x:pu(g[1],p[1])})):(1!=p[0]||1!=p[1])&amp;&amp;r.push(r.pop()+&quot;scale(&quot;+p+&quot;)&quot;),e=u.length,function(n){for(var t,i=-1;++i&lt;e;)r[(t=u[i]).i]=t.x(n);return r.join(&quot;&quot;)}}function Fu(n,t){return t=t-(n=+n)?1/(t-n):0,function(e){return(e-n)*t}}function Ou(n,t){return t=t-(n=+n)?1/(t-n):0,function(e){return Math.max(0,Math.min(1,(e-n)*t))}}function Iu(n){for(var t=n.source,e=n.target,r=Zu(t,e),u=[t];t!==r;)t=t.parent,u.push(t);for(var i=u.length;e!==r;)u.splice(i,0,e),e=e.parent;return u}function Yu(n){for(var t=[],e=n.parent;null!=e;)t.push(n),n=e,e=e.parent;return t.push(n),t}function Zu(n,t){if(n===t)return n;for(var e=Yu(n),r=Yu(t),u=e.pop(),i=r.pop(),o=null;u===i;)o=u,u=e.pop(),i=r.pop();return o}function Vu(n){n.fixed|=2}function $u(n){n.fixed&amp;=-7}function Xu(n){n.fixed|=4,n.px=n.x,n.py=n.y}function Bu(n){n.fixed&amp;=-5}function Ju(n,t,e){var r=0,u=0;if(n.charge=0,!n.leaf)for(var i,o=n.nodes,a=o.length,c=-1;++c&lt;a;)i=o[c],null!=i&amp;&amp;(Ju(i,t,e),n.charge+=i.charge,r+=i.charge*i.cx,u+=i.charge*i.cy);if(n.point){n.leaf||(n.point.x+=Math.random()-.5,n.point.y+=Math.random()-.5);var s=t*e[n.point.index];n.charge+=n.pointCharge=s,r+=s*n.point.x,u+=s*n.point.y}n.cx=r/n.charge,n.cy=u/n.charge}function Wu(n,t){return Go.rebind(n,t,&quot;sort&quot;,&quot;children&quot;,&quot;value&quot;),n.nodes=n,n.links=ni,n}function Gu(n){return n.children}function Ku(n){return n.value}function Qu(n,t){return t.value-n.value}function ni(n){return Go.merge(n.map(function(n){return(n.children||[]).map(function(t){return{source:n,target:t}})}))}function ti(n){return n.x}function ei(n){return n.y}function ri(n,t,e){n.y0=t,n.y=e}function ui(n){return Go.range(n.length)}function ii(n){for(var t=-1,e=n[0].length,r=[];++t&lt;e;)r[t]=0;return r}function oi(n){for(var t,e=1,r=0,u=n[0][1],i=n.length;i&gt;e;++e)(t=n[e][1])&gt;u&amp;&amp;(r=e,u=t);return r}function ai(n){return n.reduce(ci,0)}function ci(n,t){return n+t[1]}function si(n,t){return li(n,Math.ceil(Math.log(t.length)/Math.LN2+1))}function li(n,t){for(var e=-1,r=+n[0],u=(n[1]-r)/t,i=[];++e&lt;=t;)i[e]=u*e+r;return i}function fi(n){return[Go.min(n),Go.max(n)]}function hi(n,t){return n.parent==t.parent?1:2}function gi(n){var t=n.children;return t&amp;&amp;t.length?t[0]:n._tree.thread}function pi(n){var t,e=n.children;return e&amp;&amp;(t=e.length)?e[t-1]:n._tree.thread}function vi(n,t){var e=n.children;if(e&amp;&amp;(u=e.length))for(var r,u,i=-1;++i&lt;u;)t(r=vi(e[i],t),n)&gt;0&amp;&amp;(n=r);return n}function di(n,t){return n.x-t.x}function mi(n,t){return t.x-n.x}function yi(n,t){return n.depth-t.depth}function xi(n,t){function e(n,r){var u=n.children;if(u&amp;&amp;(o=u.length))for(var i,o,a=null,c=-1;++c&lt;o;)i=u[c],e(i,a),a=i;t(n,r)}e(n,null)}function Mi(n){for(var t,e=0,r=0,u=n.children,i=u.length;--i&gt;=0;)t=u[i]._tree,t.prelim+=e,t.mod+=e,e+=t.shift+(r+=t.change)}function _i(n,t,e){n=n._tree,t=t._tree;var r=e/(t.number-n.number);n.change+=r,t.change-=r,t.shift+=e,t.prelim+=e,t.mod+=e}function bi(n,t,e){return n._tree.ancestor.parent==t.parent?n._tree.ancestor:e}function wi(n,t){return n.value-t.value}function Si(n,t){var e=n._pack_next;n._pack_next=t,t._pack_prev=n,t._pack_next=e,e._pack_prev=t}function ki(n,t){n._pack_next=t,t._pack_prev=n}function Ei(n,t){var e=t.x-n.x,r=t.y-n.y,u=n.r+t.r;return.999*u*u&gt;e*e+r*r}function Ai(n){function t(n){l=Math.min(n.x-n.r,l),f=Math.max(n.x+n.r,f),h=Math.min(n.y-n.r,h),g=Math.max(n.y+n.r,g)}if((e=n.children)&amp;&amp;(s=e.length)){var e,r,u,i,o,a,c,s,l=1/0,f=-1/0,h=1/0,g=-1/0;if(e.forEach(Ci),r=e[0],r.x=-r.r,r.y=0,t(r),s&gt;1&amp;&amp;(u=e[1],u.x=u.r,u.y=0,t(u),s&gt;2))for(i=e[2],Ti(r,u,i),t(i),Si(r,i),r._pack_prev=i,Si(i,u),u=r._pack_next,o=3;s&gt;o;o++){Ti(r,u,i=e[o]);var p=0,v=1,d=1;for(a=u._pack_next;a!==u;a=a._pack_next,v++)if(Ei(a,i)){p=1;break}if(1==p)for(c=r._pack_prev;c!==a._pack_prev&amp;&amp;!Ei(c,i);c=c._pack_prev,d++);p?(d&gt;v||v==d&amp;&amp;u.r&lt;r.r?ki(r,u=a):ki(r=c,u),o--):(Si(r,i),u=i,t(i))}var m=(l+f)/2,y=(h+g)/2,x=0;for(o=0;s&gt;o;o++)i=e[o],i.x-=m,i.y-=y,x=Math.max(x,i.r+Math.sqrt(i.x*i.x+i.y*i.y));n.r=x,e.forEach(Ni)}}function Ci(n){n._pack_next=n._pack_prev=n}function Ni(n){delete n._pack_next,delete n._pack_prev}function Li(n,t,e,r){var u=n.children;if(n.x=t+=r*n.x,n.y=e+=r*n.y,n.r*=r,u)for(var i=-1,o=u.length;++i&lt;o;)Li(u[i],t,e,r)}function Ti(n,t,e){var r=n.r+e.r,u=t.x-n.x,i=t.y-n.y;if(r&amp;&amp;(u||i)){var o=t.r+e.r,a=u*u+i*i;o*=o,r*=r;var c=.5+(r-o)/(2*a),s=Math.sqrt(Math.max(0,2*o*(r+a)-(r-=a)*r-o*o))/(2*a);e.x=n.x+c*u+s*i,e.y=n.y+c*i-s*u}else e.x=n.x+r,e.y=n.y}function qi(n){return 1+Go.max(n,function(n){return n.y})}function zi(n){return n.reduce(function(n,t){return n+t.x},0)/n.length}function Ri(n){var t=n.children;return t&amp;&amp;t.length?Ri(t[0]):n}function Di(n){var t,e=n.children;return e&amp;&amp;(t=e.length)?Di(e[t-1]):n}function Pi(n){return{x:n.x,y:n.y,dx:n.dx,dy:n.dy}}function Ui(n,t){var e=n.x+t[3],r=n.y+t[0],u=n.dx-t[1]-t[3],i=n.dy-t[0]-t[2];return 0&gt;u&amp;&amp;(e+=u/2,u=0),0&gt;i&amp;&amp;(r+=i/2,i=0),{x:e,y:r,dx:u,dy:i}}function ji(n){var t=n[0],e=n[n.length-1];return e&gt;t?[t,e]:[e,t]}function Hi(n){return n.rangeExtent?n.rangeExtent():ji(n.range())}function Fi(n,t,e,r){var u=e(n[0],n[1]),i=r(t[0],t[1]);return function(n){return i(u(n))}}function Oi(n,t){var e,r=0,u=n.length-1,i=n[r],o=n[u];return i&gt;o&amp;&amp;(e=r,r=u,u=e,e=i,i=o,o=e),n[r]=t.floor(i),n[u]=t.ceil(o),n}function Ii(n){return n?{floor:function(t){return Math.floor(t/n)*n},ceil:function(t){return Math.ceil(t/n)*n}}:vs}function Yi(n,t,e,r){var u=[],i=[],o=0,a=Math.min(n.length,t.length)-1;for(n[a]&lt;n[0]&amp;&amp;(n=n.slice().reverse(),t=t.slice().reverse());++o&lt;=a;)u.push(e(n[o-1],n[o])),i.push(r(t[o-1],t[o]));return function(t){var e=Go.bisect(n,t,1,a)-1;return i[e](u[e](t))}}function Zi(n,t,e,r){function u(){var u=Math.min(n.length,t.length)&gt;2?Yi:Fi,c=r?Ou:Fu;return o=u(n,t,c,e),a=u(t,n,c,du),i}function i(n){return o(n)}var o,a;return i.invert=function(n){return a(n)},i.domain=function(t){return arguments.length?(n=t.map(Number),u()):n},i.range=function(n){return arguments.length?(t=n,u()):t},i.rangeRound=function(n){return i.range(n).interpolate(Ru)},i.clamp=function(n){return arguments.length?(r=n,u()):r},i.interpolate=function(n){return arguments.length?(e=n,u()):e},i.ticks=function(t){return Bi(n,t)},i.tickFormat=function(t,e){return Ji(n,t,e)},i.nice=function(t){return $i(n,t),u()},i.copy=function(){return Zi(n,t,e,r)},u()}function Vi(n,t){return Go.rebind(n,t,&quot;range&quot;,&quot;rangeRound&quot;,&quot;interpolate&quot;,&quot;clamp&quot;)}function $i(n,t){return Oi(n,Ii(Xi(n,t)[2]))}function Xi(n,t){null==t&amp;&amp;(t=10);var e=ji(n),r=e[1]-e[0],u=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),i=t/r*u;return.15&gt;=i?u*=10:.35&gt;=i?u*=5:.75&gt;=i&amp;&amp;(u*=2),e[0]=Math.ceil(e[0]/u)*u,e[1]=Math.floor(e[1]/u)*u+.5*u,e[2]=u,e}function Bi(n,t){return Go.range.apply(Go,Xi(n,t))}function Ji(n,t,e){var r=Xi(n,t);if(e){var u=rc.exec(e);if(u.shift(),&quot;s&quot;===u[8]){var i=Go.formatPrefix(Math.max(fa(r[0]),fa(r[1])));return u[7]||(u[7]=&quot;.&quot;+Wi(i.scale(r[2]))),u[8]=&quot;f&quot;,e=Go.format(u.join(&quot;&quot;)),function(n){return e(i.scale(n))+i.symbol}}u[7]||(u[7]=&quot;.&quot;+Gi(u[8],r)),e=u.join(&quot;&quot;)}else e=&quot;,.&quot;+Wi(r[2])+&quot;f&quot;;return Go.format(e)}function Wi(n){return-Math.floor(Math.log(n)/Math.LN10+.01)}function Gi(n,t){var e=Wi(t[2]);return n in ds?Math.abs(e-Wi(Math.max(fa(t[0]),fa(t[1]))))+ +(&quot;e&quot;!==n):e-2*(&quot;%&quot;===n)}function Ki(n,t,e,r){function u(n){return(e?Math.log(0&gt;n?0:n):-Math.log(n&gt;0?0:-n))/Math.log(t)}function i(n){return e?Math.pow(t,n):-Math.pow(t,-n)}function o(t){return n(u(t))}return o.invert=function(t){return i(n.invert(t))},o.domain=function(t){return arguments.length?(e=t[0]&gt;=0,n.domain((r=t.map(Number)).map(u)),o):r},o.base=function(e){return arguments.length?(t=+e,n.domain(r.map(u)),o):t},o.nice=function(){var t=Oi(r.map(u),e?Math:ys);return n.domain(t),r=t.map(i),o},o.ticks=function(){var n=ji(r),o=[],a=n[0],c=n[1],s=Math.floor(u(a)),l=Math.ceil(u(c)),f=t%1?2:t;if(isFinite(l-s)){if(e){for(;l&gt;s;s++)for(var h=1;f&gt;h;h++)o.push(i(s)*h);o.push(i(s))}else for(o.push(i(s));s++&lt;l;)for(var h=f-1;h&gt;0;h--)o.push(i(s)*h);for(s=0;o[s]&lt;a;s++);for(l=o.length;o[l-1]&gt;c;l--);o=o.slice(s,l)}return o},o.tickFormat=function(n,t){if(!arguments.length)return ms;arguments.length&lt;2?t=ms:&quot;function&quot;!=typeof t&amp;&amp;(t=Go.format(t));var r,a=Math.max(.1,n/o.ticks().length),c=e?(r=1e-12,Math.ceil):(r=-1e-12,Math.floor);return function(n){return n/i(c(u(n)+r))&lt;=a?t(n):&quot;&quot;}},o.copy=function(){return Ki(n.copy(),t,e,r)},Vi(o,n)}function Qi(n,t,e){function r(t){return n(u(t))}var u=no(t),i=no(1/t);return r.invert=function(t){return i(n.invert(t))},r.domain=function(t){return arguments.length?(n.domain((e=t.map(Number)).map(u)),r):e},r.ticks=function(n){return Bi(e,n)},r.tickFormat=function(n,t){return Ji(e,n,t)},r.nice=function(n){return r.domain($i(e,n))},r.exponent=function(o){return arguments.length?(u=no(t=o),i=no(1/t),n.domain(e.map(u)),r):t},r.copy=function(){return Qi(n.copy(),t,e)},Vi(r,n)}function no(n){return function(t){return 0&gt;t?-Math.pow(-t,n):Math.pow(t,n)}}function to(n,t){function e(e){return i[((u.get(e)||(&quot;range&quot;===t.t?u.set(e,n.push(e)):0/0))-1)%i.length]}function r(t,e){return Go.range(n.length).map(function(n){return t+e*n})}var u,i,a;return e.domain=function(r){if(!arguments.length)return n;n=[],u=new o;for(var i,a=-1,c=r.length;++a&lt;c;)u.has(i=r[a])||u.set(i,n.push(i));return e[t.t].apply(e,t.a)},e.range=function(n){return arguments.length?(i=n,a=0,t={t:&quot;range&quot;,a:arguments},e):i},e.rangePoints=function(u,o){arguments.length&lt;2&amp;&amp;(o=0);var c=u[0],s=u[1],l=(s-c)/(Math.max(1,n.length-1)+o);return i=r(n.length&lt;2?(c+s)/2:c+l*o/2,l),a=0,t={t:&quot;rangePoints&quot;,a:arguments},e},e.rangeBands=function(u,o,c){arguments.length&lt;2&amp;&amp;(o=0),arguments.length&lt;3&amp;&amp;(c=o);var s=u[1]&lt;u[0],l=u[s-0],f=u[1-s],h=(f-l)/(n.length-o+2*c);return i=r(l+h*c,h),s&amp;&amp;i.reverse(),a=h*(1-o),t={t:&quot;rangeBands&quot;,a:arguments},e},e.rangeRoundBands=function(u,o,c){arguments.length&lt;2&amp;&amp;(o=0),arguments.length&lt;3&amp;&amp;(c=o);var s=u[1]&lt;u[0],l=u[s-0],f=u[1-s],h=Math.floor((f-l)/(n.length-o+2*c)),g=f-l-(n.length-o)*h;return i=r(l+Math.round(g/2),h),s&amp;&amp;i.reverse(),a=Math.round(h*(1-o)),t={t:&quot;rangeRoundBands&quot;,a:arguments},e},e.rangeBand=function(){return a},e.rangeExtent=function(){return ji(t.a[0])},e.copy=function(){return to(n,t)},e.domain(n)}function eo(e,r){function u(){var n=0,t=r.length;for(o=[];++n&lt;t;)o[n-1]=Go.quantile(e,n/t);return i}function i(n){return isNaN(n=+n)?void 0:r[Go.bisect(o,n)]}var o;return i.domain=function(r){return arguments.length?(e=r.filter(t).sort(n),u()):e},i.range=function(n){return arguments.length?(r=n,u()):r},i.quantiles=function(){return o},i.invertExtent=function(n){return n=r.indexOf(n),0&gt;n?[0/0,0/0]:[n&gt;0?o[n-1]:e[0],n&lt;o.length?o[n]:e[e.length-1]]},i.copy=function(){return eo(e,r)},u()}function ro(n,t,e){function r(t){return e[Math.max(0,Math.min(o,Math.floor(i*(t-n))))]}function u(){return i=e.length/(t-n),o=e.length-1,r}var i,o;return r.domain=function(e){return arguments.length?(n=+e[0],t=+e[e.length-1],u()):[n,t]},r.range=function(n){return arguments.length?(e=n,u()):e},r.invertExtent=function(t){return t=e.indexOf(t),t=0&gt;t?0/0:t/i+n,[t,t+1/i]},r.copy=function(){return ro(n,t,e)},u()}function uo(n,t){function e(e){return e&gt;=e?t[Go.bisect(n,e)]:void 0}return e.domain=function(t){return arguments.length?(n=t,e):n},e.range=function(n){return arguments.length?(t=n,e):t},e.invertExtent=function(e){return e=t.indexOf(e),[n[e-1],n[e]]},e.copy=function(){return uo(n,t)},e}function io(n){function t(n){return+n}return t.invert=t,t.domain=t.range=function(e){return arguments.length?(n=e.map(t),t):n},t.ticks=function(t){return Bi(n,t)},t.tickFormat=function(t,e){return Ji(n,t,e)},t.copy=function(){return io(n)},t}function oo(n){return n.innerRadius}function ao(n){return n.outerRadius}function co(n){return n.startAngle}function so(n){return n.endAngle}function lo(n){function t(t){function o(){s.push(&quot;M&quot;,i(n(l),a))}for(var c,s=[],l=[],f=-1,h=t.length,g=Et(e),p=Et(r);++f&lt;h;)u.call(this,c=t[f],f)?l.push([+g.call(this,c,f),+p.call(this,c,f)]):l.length&amp;&amp;(o(),l=[]);return l.length&amp;&amp;o(),s.length?s.join(&quot;&quot;):null}var e=Ar,r=Cr,u=Ae,i=fo,o=i.key,a=.7;return t.x=function(n){return arguments.length?(e=n,t):e},t.y=function(n){return arguments.length?(r=n,t):r},t.defined=function(n){return arguments.length?(u=n,t):u},t.interpolate=function(n){return arguments.length?(o=&quot;function&quot;==typeof n?i=n:(i=ks.get(n)||fo).key,t):o},t.tension=function(n){return arguments.length?(a=n,t):a},t}function fo(n){return n.join(&quot;L&quot;)}function ho(n){return fo(n)+&quot;Z&quot;}function go(n){for(var t=0,e=n.length,r=n[0],u=[r[0],&quot;,&quot;,r[1]];++t&lt;e;)u.push(&quot;H&quot;,(r[0]+(r=n[t])[0])/2,&quot;V&quot;,r[1]);return e&gt;1&amp;&amp;u.push(&quot;H&quot;,r[0]),u.join(&quot;&quot;)}function po(n){for(var t=0,e=n.length,r=n[0],u=[r[0],&quot;,&quot;,r[1]];++t&lt;e;)u.push(&quot;V&quot;,(r=n[t])[1],&quot;H&quot;,r[0]);return u.join(&quot;&quot;)}function vo(n){for(var t=0,e=n.length,r=n[0],u=[r[0],&quot;,&quot;,r[1]];++t&lt;e;)u.push(&quot;H&quot;,(r=n[t])[0],&quot;V&quot;,r[1]);return u.join(&quot;&quot;)}function mo(n,t){return n.length&lt;4?fo(n):n[1]+Mo(n.slice(1,n.length-1),_o(n,t))}function yo(n,t){return n.length&lt;3?fo(n):n[0]+Mo((n.push(n[0]),n),_o([n[n.length-2]].concat(n,[n[1]]),t))}function xo(n,t){return n.length&lt;3?fo(n):n[0]+Mo(n,_o(n,t))}function Mo(n,t){if(t.length&lt;1||n.length!=t.length&amp;&amp;n.length!=t.length+2)return fo(n);var e=n.length!=t.length,r=&quot;&quot;,u=n[0],i=n[1],o=t[0],a=o,c=1;if(e&amp;&amp;(r+=&quot;Q&quot;+(i[0]-2*o[0]/3)+&quot;,&quot;+(i[1]-2*o[1]/3)+&quot;,&quot;+i[0]+&quot;,&quot;+i[1],u=n[1],c=2),t.length&gt;1){a=t[1],i=n[c],c++,r+=&quot;C&quot;+(u[0]+o[0])+&quot;,&quot;+(u[1]+o[1])+&quot;,&quot;+(i[0]-a[0])+&quot;,&quot;+(i[1]-a[1])+&quot;,&quot;+i[0]+&quot;,&quot;+i[1];for(var s=2;s&lt;t.length;s++,c++)i=n[c],a=t[s],r+=&quot;S&quot;+(i[0]-a[0])+&quot;,&quot;+(i[1]-a[1])+&quot;,&quot;+i[0]+&quot;,&quot;+i[1]}if(e){var l=n[c];r+=&quot;Q&quot;+(i[0]+2*a[0]/3)+&quot;,&quot;+(i[1]+2*a[1]/3)+&quot;,&quot;+l[0]+&quot;,&quot;+l[1]}return r}function _o(n,t){for(var e,r=[],u=(1-t)/2,i=n[0],o=n[1],a=1,c=n.length;++a&lt;c;)e=i,i=o,o=n[a],r.push([u*(o[0]-e[0]),u*(o[1]-e[1])]);return r}function bo(n){if(n.length&lt;3)return fo(n);var t=1,e=n.length,r=n[0],u=r[0],i=r[1],o=[u,u,u,(r=n[1])[0]],a=[i,i,i,r[1]],c=[u,&quot;,&quot;,i,&quot;L&quot;,Eo(Cs,o),&quot;,&quot;,Eo(Cs,a)];for(n.push(n[e-1]);++t&lt;=e;)r=n[t],o.shift(),o.push(r[0]),a.shift(),a.push(r[1]),Ao(c,o,a);return n.pop(),c.push(&quot;L&quot;,r),c.join(&quot;&quot;)}function wo(n){if(n.length&lt;4)return fo(n);for(var t,e=[],r=-1,u=n.length,i=[0],o=[0];++r&lt;3;)t=n[r],i.push(t[0]),o.push(t[1]);for(e.push(Eo(Cs,i)+&quot;,&quot;+Eo(Cs,o)),--r;++r&lt;u;)t=n[r],i.shift(),i.push(t[0]),o.shift(),o.push(t[1]),Ao(e,i,o);return e.join(&quot;&quot;)}function So(n){for(var t,e,r=-1,u=n.length,i=u+4,o=[],a=[];++r&lt;4;)e=n[r%u],o.push(e[0]),a.push(e[1]);for(t=[Eo(Cs,o),&quot;,&quot;,Eo(Cs,a)],--r;++r&lt;i;)e=n[r%u],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),Ao(t,o,a);return t.join(&quot;&quot;)}function ko(n,t){var e=n.length-1;if(e)for(var r,u,i=n[0][0],o=n[0][1],a=n[e][0]-i,c=n[e][1]-o,s=-1;++s&lt;=e;)r=n[s],u=s/e,r[0]=t*r[0]+(1-t)*(i+u*a),r[1]=t*r[1]+(1-t)*(o+u*c);return bo(n)}function Eo(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]+n[3]*t[3]}function Ao(n,t,e){n.push(&quot;C&quot;,Eo(Es,t),&quot;,&quot;,Eo(Es,e),&quot;,&quot;,Eo(As,t),&quot;,&quot;,Eo(As,e),&quot;,&quot;,Eo(Cs,t),&quot;,&quot;,Eo(Cs,e))}function Co(n,t){return(t[1]-n[1])/(t[0]-n[0])}function No(n){for(var t=0,e=n.length-1,r=[],u=n[0],i=n[1],o=r[0]=Co(u,i);++t&lt;e;)r[t]=(o+(o=Co(u=i,i=n[t+1])))/2;return r[t]=o,r}function Lo(n){for(var t,e,r,u,i=[],o=No(n),a=-1,c=n.length-1;++a&lt;c;)t=Co(n[a],n[a+1]),fa(t)&lt;Ta?o[a]=o[a+1]=0:(e=o[a]/t,r=o[a+1]/t,u=e*e+r*r,u&gt;9&amp;&amp;(u=3*t/Math.sqrt(u),o[a]=u*e,o[a+1]=u*r));for(a=-1;++a&lt;=c;)u=(n[Math.min(c,a+1)][0]-n[Math.max(0,a-1)][0])/(6*(1+o[a]*o[a])),i.push([u||0,o[a]*u||0]);return i}function To(n){return n.length&lt;3?fo(n):n[0]+Mo(n,Lo(n))}function qo(n){for(var t,e,r,u=-1,i=n.length;++u&lt;i;)t=n[u],e=t[0],r=t[1]+ws,t[0]=e*Math.cos(r),t[1]=e*Math.sin(r);return n}function zo(n){function t(t){function c(){v.push(&quot;M&quot;,a(n(m),f),l,s(n(d.reverse()),f),&quot;Z&quot;)}for(var h,g,p,v=[],d=[],m=[],y=-1,x=t.length,M=Et(e),_=Et(u),b=e===r?function(){return g}:Et(r),w=u===i?function(){return p}:Et(i);++y&lt;x;)o.call(this,h=t[y],y)?(d.push([g=+M.call(this,h,y),p=+_.call(this,h,y)]),m.push([+b.call(this,h,y),+w.call(this,h,y)])):d.length&amp;&amp;(c(),d=[],m=[]);return d.length&amp;&amp;c(),v.length?v.join(&quot;&quot;):null}var e=Ar,r=Ar,u=0,i=Cr,o=Ae,a=fo,c=a.key,s=a,l=&quot;L&quot;,f=.7;return t.x=function(n){return arguments.length?(e=r=n,t):r},t.x0=function(n){return arguments.length?(e=n,t):e},t.x1=function(n){return arguments.length?(r=n,t):r},t.y=function(n){return arguments.length?(u=i=n,t):i},t.y0=function(n){return arguments.length?(u=n,t):u},t.y1=function(n){return arguments.length?(i=n,t):i},t.defined=function(n){return arguments.length?(o=n,t):o},t.interpolate=function(n){return arguments.length?(c=&quot;function&quot;==typeof n?a=n:(a=ks.get(n)||fo).key,s=a.reverse||a,l=a.closed?&quot;M&quot;:&quot;L&quot;,t):c},t.tension=function(n){return arguments.length?(f=n,t):f},t}function Ro(n){return n.radius}function Do(n){return[n.x,n.y]}function Po(n){return function(){var t=n.apply(this,arguments),e=t[0],r=t[1]+ws;return[e*Math.cos(r),e*Math.sin(r)]}}function Uo(){return 64}function jo(){return&quot;circle&quot;}function Ho(n){var t=Math.sqrt(n/Ca);return&quot;M0,&quot;+t+&quot;A&quot;+t+&quot;,&quot;+t+&quot; 0 1,1 0,&quot;+-t+&quot;A&quot;+t+&quot;,&quot;+t+&quot; 0 1,1 0,&quot;+t+&quot;Z&quot;}function Fo(n,t){return da(n,Rs),n.id=t,n}function Oo(n,t,e,r){var u=n.id;return P(n,&quot;function&quot;==typeof e?function(n,i,o){n.__transition__[u].tween.set(t,r(e.call(n,n.__data__,i,o)))}:(e=r(e),function(n){n.__transition__[u].tween.set(t,e)}))}function Io(n){return null==n&amp;&amp;(n=&quot;&quot;),function(){this.textContent=n}}function Yo(n,t,e,r){var u=n.__transition__||(n.__transition__={active:0,count:0}),i=u[e];if(!i){var a=r.time;i=u[e]={tween:new o,time:a,ease:r.ease,delay:r.delay,duration:r.duration},++u.count,Go.timer(function(r){function o(r){return u.active&gt;e?s():(u.active=e,i.event&amp;&amp;i.event.start.call(n,l,t),i.tween.forEach(function(e,r){(r=r.call(n,l,t))&amp;&amp;v.push(r)}),Go.timer(function(){return p.c=c(r||1)?Ae:c,1},0,a),void 0)}function c(r){if(u.active!==e)return s();for(var o=r/g,a=f(o),c=v.length;c&gt;0;)v[--c].call(n,a);return o&gt;=1?(i.event&amp;&amp;i.event.end.call(n,l,t),s()):void 0}function s(){return--u.count?delete u[e]:delete n.__transition__,1}var l=n.__data__,f=i.ease,h=i.delay,g=i.duration,p=nc,v=[];return p.t=h+a,r&gt;=h?o(r-h):(p.c=o,void 0)},0,a)}}function Zo(n,t){n.attr(&quot;transform&quot;,function(n){return&quot;translate(&quot;+t(n)+&quot;,0)&quot;})}function Vo(n,t){n.attr(&quot;transform&quot;,function(n){return&quot;translate(0,&quot;+t(n)+&quot;)&quot;})}function $o(n){return n.toISOString()}function Xo(n,t,e){function r(t){return n(t)
}function u(n,e){var r=n[1]-n[0],u=r/e,i=Go.bisect(Ys,u);return i==Ys.length?[t.year,Xi(n.map(function(n){return n/31536e6}),e)[2]]:i?t[u/Ys[i-1]&lt;Ys[i]/u?i-1:i]:[$s,Xi(n,e)[2]]}return r.invert=function(t){return Bo(n.invert(t))},r.domain=function(t){return arguments.length?(n.domain(t),r):n.domain().map(Bo)},r.nice=function(n,t){function e(e){return!isNaN(e)&amp;&amp;!n.range(e,Bo(+e+1),t).length}var i=r.domain(),o=ji(i),a=null==n?u(o,10):&quot;number&quot;==typeof n&amp;&amp;u(o,n);return a&amp;&amp;(n=a[0],t=a[1]),r.domain(Oi(i,t&gt;1?{floor:function(t){for(;e(t=n.floor(t));)t=Bo(t-1);return t},ceil:function(t){for(;e(t=n.ceil(t));)t=Bo(+t+1);return t}}:n))},r.ticks=function(n,t){var e=ji(r.domain()),i=null==n?u(e,10):&quot;number&quot;==typeof n?u(e,n):!n.range&amp;&amp;[{range:n},t];return i&amp;&amp;(n=i[0],t=i[1]),n.range(e[0],Bo(+e[1]+1),1&gt;t?1:t)},r.tickFormat=function(){return e},r.copy=function(){return Xo(n.copy(),t,e)},Vi(r,n)}function Bo(n){return new Date(n)}function Jo(n){return JSON.parse(n.responseText)}function Wo(n){var t=na.createRange();return t.selectNode(na.body),t.createContextualFragment(n.responseText)}var Go={version:&quot;3.4.6&quot;};Date.now||(Date.now=function(){return+new Date});var Ko=[].slice,Qo=function(n){return Ko.call(n)},na=document,ta=na.documentElement,ea=window;try{Qo(ta.childNodes)[0].nodeType}catch(ra){Qo=function(n){for(var t=n.length,e=new Array(t);t--;)e[t]=n[t];return e}}try{na.createElement(&quot;div&quot;).style.setProperty(&quot;opacity&quot;,0,&quot;&quot;)}catch(ua){var ia=ea.Element.prototype,oa=ia.setAttribute,aa=ia.setAttributeNS,ca=ea.CSSStyleDeclaration.prototype,sa=ca.setProperty;ia.setAttribute=function(n,t){oa.call(this,n,t+&quot;&quot;)},ia.setAttributeNS=function(n,t,e){aa.call(this,n,t,e+&quot;&quot;)},ca.setProperty=function(n,t,e){sa.call(this,n,t+&quot;&quot;,e)}}Go.ascending=n,Go.descending=function(n,t){return n&gt;t?-1:t&gt;n?1:t&gt;=n?0:0/0},Go.min=function(n,t){var e,r,u=-1,i=n.length;if(1===arguments.length){for(;++u&lt;i&amp;&amp;!(null!=(e=n[u])&amp;&amp;e&gt;=e);)e=void 0;for(;++u&lt;i;)null!=(r=n[u])&amp;&amp;e&gt;r&amp;&amp;(e=r)}else{for(;++u&lt;i&amp;&amp;!(null!=(e=t.call(n,n[u],u))&amp;&amp;e&gt;=e);)e=void 0;for(;++u&lt;i;)null!=(r=t.call(n,n[u],u))&amp;&amp;e&gt;r&amp;&amp;(e=r)}return e},Go.max=function(n,t){var e,r,u=-1,i=n.length;if(1===arguments.length){for(;++u&lt;i&amp;&amp;!(null!=(e=n[u])&amp;&amp;e&gt;=e);)e=void 0;for(;++u&lt;i;)null!=(r=n[u])&amp;&amp;r&gt;e&amp;&amp;(e=r)}else{for(;++u&lt;i&amp;&amp;!(null!=(e=t.call(n,n[u],u))&amp;&amp;e&gt;=e);)e=void 0;for(;++u&lt;i;)null!=(r=t.call(n,n[u],u))&amp;&amp;r&gt;e&amp;&amp;(e=r)}return e},Go.extent=function(n,t){var e,r,u,i=-1,o=n.length;if(1===arguments.length){for(;++i&lt;o&amp;&amp;!(null!=(e=u=n[i])&amp;&amp;e&gt;=e);)e=u=void 0;for(;++i&lt;o;)null!=(r=n[i])&amp;&amp;(e&gt;r&amp;&amp;(e=r),r&gt;u&amp;&amp;(u=r))}else{for(;++i&lt;o&amp;&amp;!(null!=(e=u=t.call(n,n[i],i))&amp;&amp;e&gt;=e);)e=void 0;for(;++i&lt;o;)null!=(r=t.call(n,n[i],i))&amp;&amp;(e&gt;r&amp;&amp;(e=r),r&gt;u&amp;&amp;(u=r))}return[e,u]},Go.sum=function(n,t){var e,r=0,u=n.length,i=-1;if(1===arguments.length)for(;++i&lt;u;)isNaN(e=+n[i])||(r+=e);else for(;++i&lt;u;)isNaN(e=+t.call(n,n[i],i))||(r+=e);return r},Go.mean=function(n,e){var r,u=0,i=n.length,o=-1,a=i;if(1===arguments.length)for(;++o&lt;i;)t(r=n[o])?u+=r:--a;else for(;++o&lt;i;)t(r=e.call(n,n[o],o))?u+=r:--a;return a?u/a:void 0},Go.quantile=function(n,t){var e=(n.length-1)*t+1,r=Math.floor(e),u=+n[r-1],i=e-r;return i?u+i*(n[r]-u):u},Go.median=function(e,r){return arguments.length&gt;1&amp;&amp;(e=e.map(r)),e=e.filter(t),e.length?Go.quantile(e.sort(n),.5):void 0};var la=e(n);Go.bisectLeft=la.left,Go.bisect=Go.bisectRight=la.right,Go.bisector=function(t){return e(1===t.length?function(e,r){return n(t(e),r)}:t)},Go.shuffle=function(n){for(var t,e,r=n.length;r;)e=0|Math.random()*r--,t=n[r],n[r]=n[e],n[e]=t;return n},Go.permute=function(n,t){for(var e=t.length,r=new Array(e);e--;)r[e]=n[t[e]];return r},Go.pairs=function(n){for(var t,e=0,r=n.length-1,u=n[0],i=new Array(0&gt;r?0:r);r&gt;e;)i[e]=[t=u,u=n[++e]];return i},Go.zip=function(){if(!(u=arguments.length))return[];for(var n=-1,t=Go.min(arguments,r),e=new Array(t);++n&lt;t;)for(var u,i=-1,o=e[n]=new Array(u);++i&lt;u;)o[i]=arguments[i][n];return e},Go.transpose=function(n){return Go.zip.apply(Go,n)},Go.keys=function(n){var t=[];for(var e in n)t.push(e);return t},Go.values=function(n){var t=[];for(var e in n)t.push(n[e]);return t},Go.entries=function(n){var t=[];for(var e in n)t.push({key:e,value:n[e]});return t},Go.merge=function(n){for(var t,e,r,u=n.length,i=-1,o=0;++i&lt;u;)o+=n[i].length;for(e=new Array(o);--u&gt;=0;)for(r=n[u],t=r.length;--t&gt;=0;)e[--o]=r[t];return e};var fa=Math.abs;Go.range=function(n,t,e){if(arguments.length&lt;3&amp;&amp;(e=1,arguments.length&lt;2&amp;&amp;(t=n,n=0)),1/0===(t-n)/e)throw new Error(&quot;infinite range&quot;);var r,i=[],o=u(fa(e)),a=-1;if(n*=o,t*=o,e*=o,0&gt;e)for(;(r=n+e*++a)&gt;t;)i.push(r/o);else for(;(r=n+e*++a)&lt;t;)i.push(r/o);return i},Go.map=function(n){var t=new o;if(n instanceof o)n.forEach(function(n,e){t.set(n,e)});else for(var e in n)t.set(e,n[e]);return t},i(o,{has:a,get:function(n){return this[ha+n]},set:function(n,t){return this[ha+n]=t},remove:c,keys:s,values:function(){var n=[];return this.forEach(function(t,e){n.push(e)}),n},entries:function(){var n=[];return this.forEach(function(t,e){n.push({key:t,value:e})}),n},size:l,empty:f,forEach:function(n){for(var t in this)t.charCodeAt(0)===ga&amp;&amp;n.call(this,t.substring(1),this[t])}});var ha=&quot;\x00&quot;,ga=ha.charCodeAt(0);Go.nest=function(){function n(t,a,c){if(c&gt;=i.length)return r?r.call(u,a):e?a.sort(e):a;for(var s,l,f,h,g=-1,p=a.length,v=i[c++],d=new o;++g&lt;p;)(h=d.get(s=v(l=a[g])))?h.push(l):d.set(s,[l]);return t?(l=t(),f=function(e,r){l.set(e,n(t,r,c))}):(l={},f=function(e,r){l[e]=n(t,r,c)}),d.forEach(f),l}function t(n,e){if(e&gt;=i.length)return n;var r=[],u=a[e++];return n.forEach(function(n,u){r.push({key:n,values:t(u,e)})}),u?r.sort(function(n,t){return u(n.key,t.key)}):r}var e,r,u={},i=[],a=[];return u.map=function(t,e){return n(e,t,0)},u.entries=function(e){return t(n(Go.map,e,0),0)},u.key=function(n){return i.push(n),u},u.sortKeys=function(n){return a[i.length-1]=n,u},u.sortValues=function(n){return e=n,u},u.rollup=function(n){return r=n,u},u},Go.set=function(n){var t=new h;if(n)for(var e=0,r=n.length;r&gt;e;++e)t.add(n[e]);return t},i(h,{has:a,add:function(n){return this[ha+n]=!0,n},remove:function(n){return n=ha+n,n in this&amp;&amp;delete this[n]},values:s,size:l,empty:f,forEach:function(n){for(var t in this)t.charCodeAt(0)===ga&amp;&amp;n.call(this,t.substring(1))}}),Go.behavior={},Go.rebind=function(n,t){for(var e,r=1,u=arguments.length;++r&lt;u;)n[e=arguments[r]]=g(n,t,t[e]);return n};var pa=[&quot;webkit&quot;,&quot;ms&quot;,&quot;moz&quot;,&quot;Moz&quot;,&quot;o&quot;,&quot;O&quot;];Go.dispatch=function(){for(var n=new d,t=-1,e=arguments.length;++t&lt;e;)n[arguments[t]]=m(n);return n},d.prototype.on=function(n,t){var e=n.indexOf(&quot;.&quot;),r=&quot;&quot;;if(e&gt;=0&amp;&amp;(r=n.substring(e+1),n=n.substring(0,e)),n)return arguments.length&lt;2?this[n].on(r):this[n].on(r,t);if(2===arguments.length){if(null==t)for(n in this)this.hasOwnProperty(n)&amp;&amp;this[n].on(r,null);return this}},Go.event=null,Go.requote=function(n){return n.replace(va,&quot;\\$&amp;&quot;)};var va=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,da={}.__proto__?function(n,t){n.__proto__=t}:function(n,t){for(var e in t)n[e]=t[e]},ma=function(n,t){return t.querySelector(n)},ya=function(n,t){return t.querySelectorAll(n)},xa=ta[p(ta,&quot;matchesSelector&quot;)],Ma=function(n,t){return xa.call(n,t)};&quot;function&quot;==typeof Sizzle&amp;&amp;(ma=function(n,t){return Sizzle(n,t)[0]||null},ya=Sizzle,Ma=Sizzle.matchesSelector),Go.selection=function(){return Sa};var _a=Go.selection.prototype=[];_a.select=function(n){var t,e,r,u,i=[];n=b(n);for(var o=-1,a=this.length;++o&lt;a;){i.push(t=[]),t.parentNode=(r=this[o]).parentNode;for(var c=-1,s=r.length;++c&lt;s;)(u=r[c])?(t.push(e=n.call(u,u.__data__,c,o)),e&amp;&amp;&quot;__data__&quot;in u&amp;&amp;(e.__data__=u.__data__)):t.push(null)}return _(i)},_a.selectAll=function(n){var t,e,r=[];n=w(n);for(var u=-1,i=this.length;++u&lt;i;)for(var o=this[u],a=-1,c=o.length;++a&lt;c;)(e=o[a])&amp;&amp;(r.push(t=Qo(n.call(e,e.__data__,a,u))),t.parentNode=e);return _(r)};var ba={svg:&quot;http://www.w3.org/2000/svg&quot;,xhtml:&quot;http://www.w3.org/1999/xhtml&quot;,xlink:&quot;http://www.w3.org/1999/xlink&quot;,xml:&quot;http://www.w3.org/XML/1998/namespace&quot;,xmlns:&quot;http://www.w3.org/2000/xmlns/&quot;};Go.ns={prefix:ba,qualify:function(n){var t=n.indexOf(&quot;:&quot;),e=n;return t&gt;=0&amp;&amp;(e=n.substring(0,t),n=n.substring(t+1)),ba.hasOwnProperty(e)?{space:ba[e],local:n}:n}},_a.attr=function(n,t){if(arguments.length&lt;2){if(&quot;string&quot;==typeof n){var e=this.node();return n=Go.ns.qualify(n),n.local?e.getAttributeNS(n.space,n.local):e.getAttribute(n)}for(t in n)this.each(S(t,n[t]));return this}return this.each(S(n,t))},_a.classed=function(n,t){if(arguments.length&lt;2){if(&quot;string&quot;==typeof n){var e=this.node(),r=(n=A(n)).length,u=-1;if(t=e.classList){for(;++u&lt;r;)if(!t.contains(n[u]))return!1}else for(t=e.getAttribute(&quot;class&quot;);++u&lt;r;)if(!E(n[u]).test(t))return!1;return!0}for(t in n)this.each(C(t,n[t]));return this}return this.each(C(n,t))},_a.style=function(n,t,e){var r=arguments.length;if(3&gt;r){if(&quot;string&quot;!=typeof n){2&gt;r&amp;&amp;(t=&quot;&quot;);for(e in n)this.each(L(e,n[e],t));return this}if(2&gt;r)return ea.getComputedStyle(this.node(),null).getPropertyValue(n);e=&quot;&quot;}return this.each(L(n,t,e))},_a.property=function(n,t){if(arguments.length&lt;2){if(&quot;string&quot;==typeof n)return this.node()[n];for(t in n)this.each(T(t,n[t]));return this}return this.each(T(n,t))},_a.text=function(n){return arguments.length?this.each(&quot;function&quot;==typeof n?function(){var t=n.apply(this,arguments);this.textContent=null==t?&quot;&quot;:t}:null==n?function(){this.textContent=&quot;&quot;}:function(){this.textContent=n}):this.node().textContent},_a.html=function(n){return arguments.length?this.each(&quot;function&quot;==typeof n?function(){var t=n.apply(this,arguments);this.innerHTML=null==t?&quot;&quot;:t}:null==n?function(){this.innerHTML=&quot;&quot;}:function(){this.innerHTML=n}):this.node().innerHTML},_a.append=function(n){return n=q(n),this.select(function(){return this.appendChild(n.apply(this,arguments))})},_a.insert=function(n,t){return n=q(n),t=b(t),this.select(function(){return this.insertBefore(n.apply(this,arguments),t.apply(this,arguments)||null)})},_a.remove=function(){return this.each(function(){var n=this.parentNode;n&amp;&amp;n.removeChild(this)})},_a.data=function(n,t){function e(n,e){var r,u,i,a=n.length,f=e.length,h=Math.min(a,f),g=new Array(f),p=new Array(f),v=new Array(a);if(t){var d,m=new o,y=new o,x=[];for(r=-1;++r&lt;a;)d=t.call(u=n[r],u.__data__,r),m.has(d)?v[r]=u:m.set(d,u),x.push(d);for(r=-1;++r&lt;f;)d=t.call(e,i=e[r],r),(u=m.get(d))?(g[r]=u,u.__data__=i):y.has(d)||(p[r]=z(i)),y.set(d,i),m.remove(d);for(r=-1;++r&lt;a;)m.has(x[r])&amp;&amp;(v[r]=n[r])}else{for(r=-1;++r&lt;h;)u=n[r],i=e[r],u?(u.__data__=i,g[r]=u):p[r]=z(i);for(;f&gt;r;++r)p[r]=z(e[r]);for(;a&gt;r;++r)v[r]=n[r]}p.update=g,p.parentNode=g.parentNode=v.parentNode=n.parentNode,c.push(p),s.push(g),l.push(v)}var r,u,i=-1,a=this.length;if(!arguments.length){for(n=new Array(a=(r=this[0]).length);++i&lt;a;)(u=r[i])&amp;&amp;(n[i]=u.__data__);return n}var c=U([]),s=_([]),l=_([]);if(&quot;function&quot;==typeof n)for(;++i&lt;a;)e(r=this[i],n.call(r,r.parentNode.__data__,i));else for(;++i&lt;a;)e(r=this[i],n);return s.enter=function(){return c},s.exit=function(){return l},s},_a.datum=function(n){return arguments.length?this.property(&quot;__data__&quot;,n):this.property(&quot;__data__&quot;)},_a.filter=function(n){var t,e,r,u=[];&quot;function&quot;!=typeof n&amp;&amp;(n=R(n));for(var i=0,o=this.length;o&gt;i;i++){u.push(t=[]),t.parentNode=(e=this[i]).parentNode;for(var a=0,c=e.length;c&gt;a;a++)(r=e[a])&amp;&amp;n.call(r,r.__data__,a,i)&amp;&amp;t.push(r)}return _(u)},_a.order=function(){for(var n=-1,t=this.length;++n&lt;t;)for(var e,r=this[n],u=r.length-1,i=r[u];--u&gt;=0;)(e=r[u])&amp;&amp;(i&amp;&amp;i!==e.nextSibling&amp;&amp;i.parentNode.insertBefore(e,i),i=e);return this},_a.sort=function(n){n=D.apply(this,arguments);for(var t=-1,e=this.length;++t&lt;e;)this[t].sort(n);return this.order()},_a.each=function(n){return P(this,function(t,e,r){n.call(t,t.__data__,e,r)})},_a.call=function(n){var t=Qo(arguments);return n.apply(t[0]=this,t),this},_a.empty=function(){return!this.node()},_a.node=function(){for(var n=0,t=this.length;t&gt;n;n++)for(var e=this[n],r=0,u=e.length;u&gt;r;r++){var i=e[r];if(i)return i}return null},_a.size=function(){var n=0;return this.each(function(){++n}),n};var wa=[];Go.selection.enter=U,Go.selection.enter.prototype=wa,wa.append=_a.append,wa.empty=_a.empty,wa.node=_a.node,wa.call=_a.call,wa.size=_a.size,wa.select=function(n){for(var t,e,r,u,i,o=[],a=-1,c=this.length;++a&lt;c;){r=(u=this[a]).update,o.push(t=[]),t.parentNode=u.parentNode;for(var s=-1,l=u.length;++s&lt;l;)(i=u[s])?(t.push(r[s]=e=n.call(u.parentNode,i.__data__,s,a)),e.__data__=i.__data__):t.push(null)}return _(o)},wa.insert=function(n,t){return arguments.length&lt;2&amp;&amp;(t=j(this)),_a.insert.call(this,n,t)},_a.transition=function(){for(var n,t,e=Ls||++Ds,r=[],u=Ts||{time:Date.now(),ease:wu,delay:0,duration:250},i=-1,o=this.length;++i&lt;o;){r.push(n=[]);for(var a=this[i],c=-1,s=a.length;++c&lt;s;)(t=a[c])&amp;&amp;Yo(t,c,e,u),n.push(t)}return Fo(r,e)},_a.interrupt=function(){return this.each(H)},Go.select=function(n){var t=[&quot;string&quot;==typeof n?ma(n,na):n];return t.parentNode=ta,_([t])},Go.selectAll=function(n){var t=Qo(&quot;string&quot;==typeof n?ya(n,na):n);return t.parentNode=ta,_([t])};var Sa=Go.select(ta);_a.on=function(n,t,e){var r=arguments.length;if(3&gt;r){if(&quot;string&quot;!=typeof n){2&gt;r&amp;&amp;(t=!1);for(e in n)this.each(F(e,n[e],t));return this}if(2&gt;r)return(r=this.node()[&quot;__on&quot;+n])&amp;&amp;r._;e=!1}return this.each(F(n,t,e))};var ka=Go.map({mouseenter:&quot;mouseover&quot;,mouseleave:&quot;mouseout&quot;});ka.forEach(function(n){&quot;on&quot;+n in na&amp;&amp;ka.remove(n)});var Ea=&quot;onselectstart&quot;in na?null:p(ta.style,&quot;userSelect&quot;),Aa=0;Go.mouse=function(n){return Z(n,x())},Go.touches=function(n,t){return arguments.length&lt;2&amp;&amp;(t=x().touches),t?Qo(t).map(function(t){var e=Z(n,t);return e.identifier=t.identifier,e}):[]},Go.behavior.drag=function(){function n(){this.on(&quot;mousedown.drag&quot;,u).on(&quot;touchstart.drag&quot;,i)}function t(n,t,u,i,o){return function(){function a(){var n,e,r=t(h,v);r&amp;&amp;(n=r[0]-x[0],e=r[1]-x[1],p|=n|e,x=r,g({type:&quot;drag&quot;,x:r[0]+s[0],y:r[1]+s[1],dx:n,dy:e}))}function c(){t(h,v)&amp;&amp;(m.on(i+d,null).on(o+d,null),y(p&amp;&amp;Go.event.target===f),g({type:&quot;dragend&quot;}))}var s,l=this,f=Go.event.target,h=l.parentNode,g=e.of(l,arguments),p=0,v=n(),d=&quot;.drag&quot;+(null==v?&quot;&quot;:&quot;-&quot;+v),m=Go.select(u()).on(i+d,a).on(o+d,c),y=Y(),x=t(h,v);r?(s=r.apply(l,arguments),s=[s.x-x[0],s.y-x[1]]):s=[0,0],g({type:&quot;dragstart&quot;})}}var e=M(n,&quot;drag&quot;,&quot;dragstart&quot;,&quot;dragend&quot;),r=null,u=t(v,Go.mouse,X,&quot;mousemove&quot;,&quot;mouseup&quot;),i=t(V,Go.touch,$,&quot;touchmove&quot;,&quot;touchend&quot;);return n.origin=function(t){return arguments.length?(r=t,n):r},Go.rebind(n,e,&quot;on&quot;)};var Ca=Math.PI,Na=2*Ca,La=Ca/2,Ta=1e-6,qa=Ta*Ta,za=Ca/180,Ra=180/Ca,Da=Math.SQRT2,Pa=2,Ua=4;Go.interpolateZoom=function(n,t){function e(n){var t=n*y;if(m){var e=Q(v),o=i/(Pa*h)*(e*nt(Da*t+v)-K(v));return[r+o*s,u+o*l,i*e/Q(Da*t+v)]}return[r+n*s,u+n*l,i*Math.exp(Da*t)]}var r=n[0],u=n[1],i=n[2],o=t[0],a=t[1],c=t[2],s=o-r,l=a-u,f=s*s+l*l,h=Math.sqrt(f),g=(c*c-i*i+Ua*f)/(2*i*Pa*h),p=(c*c-i*i-Ua*f)/(2*c*Pa*h),v=Math.log(Math.sqrt(g*g+1)-g),d=Math.log(Math.sqrt(p*p+1)-p),m=d-v,y=(m||Math.log(c/i))/Da;return e.duration=1e3*y,e},Go.behavior.zoom=function(){function n(n){n.on(A,s).on(Fa+&quot;.zoom&quot;,f).on(C,h).on(&quot;dblclick.zoom&quot;,g).on(L,l)}function t(n){return[(n[0]-S.x)/S.k,(n[1]-S.y)/S.k]}function e(n){return[n[0]*S.k+S.x,n[1]*S.k+S.y]}function r(n){S.k=Math.max(E[0],Math.min(E[1],n))}function u(n,t){t=e(t),S.x+=n[0]-t[0],S.y+=n[1]-t[1]}function i(){_&amp;&amp;_.domain(x.range().map(function(n){return(n-S.x)/S.k}).map(x.invert)),w&amp;&amp;w.domain(b.range().map(function(n){return(n-S.y)/S.k}).map(b.invert))}function o(n){n({type:&quot;zoomstart&quot;})}function a(n){i(),n({type:&quot;zoom&quot;,scale:S.k,translate:[S.x,S.y]})}function c(n){n({type:&quot;zoomend&quot;})}function s(){function n(){l=1,u(Go.mouse(r),g),a(s)}function e(){f.on(C,ea===r?h:null).on(N,null),p(l&amp;&amp;Go.event.target===i),c(s)}var r=this,i=Go.event.target,s=T.of(r,arguments),l=0,f=Go.select(ea).on(C,n).on(N,e),g=t(Go.mouse(r)),p=Y();H.call(r),o(s)}function l(){function n(){var n=Go.touches(g);return h=S.k,n.forEach(function(n){n.identifier in v&amp;&amp;(v[n.identifier]=t(n))}),n}function e(){for(var t=Go.event.changedTouches,e=0,i=t.length;i&gt;e;++e)v[t[e].identifier]=null;var o=n(),c=Date.now();if(1===o.length){if(500&gt;c-m){var s=o[0],l=v[s.identifier];r(2*S.k),u(s,l),y(),a(p)}m=c}else if(o.length&gt;1){var s=o[0],f=o[1],h=s[0]-f[0],g=s[1]-f[1];d=h*h+g*g}}function i(){for(var n,t,e,i,o=Go.touches(g),c=0,s=o.length;s&gt;c;++c,i=null)if(e=o[c],i=v[e.identifier]){if(t)break;n=e,t=i}if(i){var l=(l=e[0]-n[0])*l+(l=e[1]-n[1])*l,f=d&amp;&amp;Math.sqrt(l/d);n=[(n[0]+e[0])/2,(n[1]+e[1])/2],t=[(t[0]+i[0])/2,(t[1]+i[1])/2],r(f*h)}m=null,u(n,t),a(p)}function f(){if(Go.event.touches.length){for(var t=Go.event.changedTouches,e=0,r=t.length;r&gt;e;++e)delete v[t[e].identifier];for(var u in v)return void n()}b.on(x,null),w.on(A,s).on(L,l),k(),c(p)}var h,g=this,p=T.of(g,arguments),v={},d=0,x=&quot;.zoom-&quot;+Go.event.changedTouches[0].identifier,M=&quot;touchmove&quot;+x,_=&quot;touchend&quot;+x,b=Go.select(Go.event.target).on(M,i).on(_,f),w=Go.select(g).on(A,null).on(L,e),k=Y();H.call(g),e(),o(p)}function f(){var n=T.of(this,arguments);d?clearTimeout(d):(H.call(this),o(n)),d=setTimeout(function(){d=null,c(n)},50),y();var e=v||Go.mouse(this);p||(p=t(e)),r(Math.pow(2,.002*ja())*S.k),u(e,p),a(n)}function h(){p=null}function g(){var n=T.of(this,arguments),e=Go.mouse(this),i=t(e),s=Math.log(S.k)/Math.LN2;o(n),r(Math.pow(2,Go.event.shiftKey?Math.ceil(s)-1:Math.floor(s)+1)),u(e,i),a(n),c(n)}var p,v,d,m,x,_,b,w,S={x:0,y:0,k:1},k=[960,500],E=Ha,A=&quot;mousedown.zoom&quot;,C=&quot;mousemove.zoom&quot;,N=&quot;mouseup.zoom&quot;,L=&quot;touchstart.zoom&quot;,T=M(n,&quot;zoomstart&quot;,&quot;zoom&quot;,&quot;zoomend&quot;);return n.event=function(n){n.each(function(){var n=T.of(this,arguments),t=S;Ls?Go.select(this).transition().each(&quot;start.zoom&quot;,function(){S=this.__chart__||{x:0,y:0,k:1},o(n)}).tween(&quot;zoom:zoom&quot;,function(){var e=k[0],r=k[1],u=e/2,i=r/2,o=Go.interpolateZoom([(u-S.x)/S.k,(i-S.y)/S.k,e/S.k],[(u-t.x)/t.k,(i-t.y)/t.k,e/t.k]);return function(t){var r=o(t),c=e/r[2];this.__chart__=S={x:u-r[0]*c,y:i-r[1]*c,k:c},a(n)}}).each(&quot;end.zoom&quot;,function(){c(n)}):(this.__chart__=S,o(n),a(n),c(n))})},n.translate=function(t){return arguments.length?(S={x:+t[0],y:+t[1],k:S.k},i(),n):[S.x,S.y]},n.scale=function(t){return arguments.length?(S={x:S.x,y:S.y,k:+t},i(),n):S.k},n.scaleExtent=function(t){return arguments.length?(E=null==t?Ha:[+t[0],+t[1]],n):E},n.center=function(t){return arguments.length?(v=t&amp;&amp;[+t[0],+t[1]],n):v},n.size=function(t){return arguments.length?(k=t&amp;&amp;[+t[0],+t[1]],n):k},n.x=function(t){return arguments.length?(_=t,x=t.copy(),S={x:0,y:0,k:1},n):_},n.y=function(t){return arguments.length?(w=t,b=t.copy(),S={x:0,y:0,k:1},n):w},Go.rebind(n,T,&quot;on&quot;)};var ja,Ha=[0,1/0],Fa=&quot;onwheel&quot;in na?(ja=function(){return-Go.event.deltaY*(Go.event.deltaMode?120:1)},&quot;wheel&quot;):&quot;onmousewheel&quot;in na?(ja=function(){return Go.event.wheelDelta},&quot;mousewheel&quot;):(ja=function(){return-Go.event.detail},&quot;MozMousePixelScroll&quot;);et.prototype.toString=function(){return this.rgb()+&quot;&quot;},Go.hsl=function(n,t,e){return 1===arguments.length?n instanceof ut?rt(n.h,n.s,n.l):_t(&quot;&quot;+n,bt,rt):rt(+n,+t,+e)};var Oa=ut.prototype=new et;Oa.brighter=function(n){return n=Math.pow(.7,arguments.length?n:1),rt(this.h,this.s,this.l/n)},Oa.darker=function(n){return n=Math.pow(.7,arguments.length?n:1),rt(this.h,this.s,n*this.l)},Oa.rgb=function(){return it(this.h,this.s,this.l)},Go.hcl=function(n,t,e){return 1===arguments.length?n instanceof at?ot(n.h,n.c,n.l):n instanceof lt?ht(n.l,n.a,n.b):ht((n=wt((n=Go.rgb(n)).r,n.g,n.b)).l,n.a,n.b):ot(+n,+t,+e)};var Ia=at.prototype=new et;Ia.brighter=function(n){return ot(this.h,this.c,Math.min(100,this.l+Ya*(arguments.length?n:1)))},Ia.darker=function(n){return ot(this.h,this.c,Math.max(0,this.l-Ya*(arguments.length?n:1)))},Ia.rgb=function(){return ct(this.h,this.c,this.l).rgb()},Go.lab=function(n,t,e){return 1===arguments.length?n instanceof lt?st(n.l,n.a,n.b):n instanceof at?ct(n.l,n.c,n.h):wt((n=Go.rgb(n)).r,n.g,n.b):st(+n,+t,+e)};var Ya=18,Za=.95047,Va=1,$a=1.08883,Xa=lt.prototype=new et;Xa.brighter=function(n){return st(Math.min(100,this.l+Ya*(arguments.length?n:1)),this.a,this.b)},Xa.darker=function(n){return st(Math.max(0,this.l-Ya*(arguments.length?n:1)),this.a,this.b)},Xa.rgb=function(){return ft(this.l,this.a,this.b)},Go.rgb=function(n,t,e){return 1===arguments.length?n instanceof xt?yt(n.r,n.g,n.b):_t(&quot;&quot;+n,yt,it):yt(~~n,~~t,~~e)};var Ba=xt.prototype=new et;Ba.brighter=function(n){n=Math.pow(.7,arguments.length?n:1);var t=this.r,e=this.g,r=this.b,u=30;return t||e||r?(t&amp;&amp;u&gt;t&amp;&amp;(t=u),e&amp;&amp;u&gt;e&amp;&amp;(e=u),r&amp;&amp;u&gt;r&amp;&amp;(r=u),yt(Math.min(255,~~(t/n)),Math.min(255,~~(e/n)),Math.min(255,~~(r/n)))):yt(u,u,u)},Ba.darker=function(n){return n=Math.pow(.7,arguments.length?n:1),yt(~~(n*this.r),~~(n*this.g),~~(n*this.b))},Ba.hsl=function(){return bt(this.r,this.g,this.b)},Ba.toString=function(){return&quot;#&quot;+Mt(this.r)+Mt(this.g)+Mt(this.b)};var Ja=Go.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Ja.forEach(function(n,t){Ja.set(n,dt(t))}),Go.functor=Et,Go.xhr=Ct(At),Go.dsv=function(n,t){function e(n,e,i){arguments.length&lt;3&amp;&amp;(i=e,e=null);var o=Nt(n,t,null==e?r:u(e),i);return o.row=function(n){return arguments.length?o.response(null==(e=n)?r:u(n)):e},o}function r(n){return e.parse(n.responseText)}function u(n){return function(t){return e.parse(t.responseText,n)}}function i(t){return t.map(o).join(n)}function o(n){return a.test(n)?'&quot;'+n.replace(/\&quot;/g,'&quot;&quot;')+'&quot;':n}var a=new RegExp('[&quot;'+n+&quot;\n]&quot;),c=n.charCodeAt(0);return e.parse=function(n,t){var r;return e.parseRows(n,function(n,e){if(r)return r(n,e-1);var u=new Function(&quot;d&quot;,&quot;return {&quot;+n.map(function(n,t){return JSON.stringify(n)+&quot;: d[&quot;+t+&quot;]&quot;}).join(&quot;,&quot;)+&quot;}&quot;);r=t?function(n,e){return t(u(n),e)}:u})},e.parseRows=function(n,t){function e(){if(l&gt;=s)return o;if(u)return u=!1,i;var t=l;if(34===n.charCodeAt(t)){for(var e=t;e++&lt;s;)if(34===n.charCodeAt(e)){if(34!==n.charCodeAt(e+1))break;++e}l=e+2;var r=n.charCodeAt(e+1);return 13===r?(u=!0,10===n.charCodeAt(e+2)&amp;&amp;++l):10===r&amp;&amp;(u=!0),n.substring(t+1,e).replace(/&quot;&quot;/g,'&quot;')}for(;s&gt;l;){var r=n.charCodeAt(l++),a=1;if(10===r)u=!0;else if(13===r)u=!0,10===n.charCodeAt(l)&amp;&amp;(++l,++a);else if(r!==c)continue;return n.substring(t,l-a)}return n.substring(t)}for(var r,u,i={},o={},a=[],s=n.length,l=0,f=0;(r=e())!==o;){for(var h=[];r!==i&amp;&amp;r!==o;)h.push(r),r=e();(!t||(h=t(h,f++)))&amp;&amp;a.push(h)}return a},e.format=function(t){if(Array.isArray(t[0]))return e.formatRows(t);var r=new h,u=[];return t.forEach(function(n){for(var t in n)r.has(t)||u.push(r.add(t))}),[u.map(o).join(n)].concat(t.map(function(t){return u.map(function(n){return o(t[n])}).join(n)})).join(&quot;\n&quot;)},e.formatRows=function(n){return n.map(i).join(&quot;\n&quot;)},e},Go.csv=Go.dsv(&quot;,&quot;,&quot;text/csv&quot;),Go.tsv=Go.dsv(&quot;	&quot;,&quot;text/tab-separated-values&quot;),Go.touch=function(n,t,e){if(arguments.length&lt;3&amp;&amp;(e=t,t=x().changedTouches),t)for(var r,u=0,i=t.length;i&gt;u;++u)if((r=t[u]).identifier===e)return Z(n,r)};var Wa,Ga,Ka,Qa,nc,tc=ea[p(ea,&quot;requestAnimationFrame&quot;)]||function(n){setTimeout(n,17)};Go.timer=function(n,t,e){var r=arguments.length;2&gt;r&amp;&amp;(t=0),3&gt;r&amp;&amp;(e=Date.now());var u=e+t,i={c:n,t:u,f:!1,n:null};Ga?Ga.n=i:Wa=i,Ga=i,Ka||(Qa=clearTimeout(Qa),Ka=1,tc(Tt))},Go.timer.flush=function(){qt(),zt()},Go.round=function(n,t){return t?Math.round(n*(t=Math.pow(10,t)))/t:Math.round(n)};var ec=[&quot;y&quot;,&quot;z&quot;,&quot;a&quot;,&quot;f&quot;,&quot;p&quot;,&quot;n&quot;,&quot;\xb5&quot;,&quot;m&quot;,&quot;&quot;,&quot;k&quot;,&quot;M&quot;,&quot;G&quot;,&quot;T&quot;,&quot;P&quot;,&quot;E&quot;,&quot;Z&quot;,&quot;Y&quot;].map(Dt);Go.formatPrefix=function(n,t){var e=0;return n&amp;&amp;(0&gt;n&amp;&amp;(n*=-1),t&amp;&amp;(n=Go.round(n,Rt(n,t))),e=1+Math.floor(1e-12+Math.log(n)/Math.LN10),e=Math.max(-24,Math.min(24,3*Math.floor((e-1)/3)))),ec[8+e/3]};var rc=/(?:([^{])?([&lt;&gt;=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,uc=Go.map({b:function(n){return n.toString(2)},c:function(n){return String.fromCharCode(n)},o:function(n){return n.toString(8)},x:function(n){return n.toString(16)},X:function(n){return n.toString(16).toUpperCase()},g:function(n,t){return n.toPrecision(t)},e:function(n,t){return n.toExponential(t)},f:function(n,t){return n.toFixed(t)},r:function(n,t){return(n=Go.round(n,Rt(n,t))).toFixed(Math.max(0,Math.min(20,Rt(n*(1+1e-15),t))))}}),ic=Go.time={},oc=Date;jt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ac.setUTCDate.apply(this._,arguments)},setDay:function(){ac.setUTCDay.apply(this._,arguments)},setFullYear:function(){ac.setUTCFullYear.apply(this._,arguments)},setHours:function(){ac.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){ac.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ac.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ac.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ac.setUTCSeconds.apply(this._,arguments)},setTime:function(){ac.setTime.apply(this._,arguments)}};var ac=Date.prototype;ic.year=Ht(function(n){return n=ic.day(n),n.setMonth(0,1),n},function(n,t){n.setFullYear(n.getFullYear()+t)},function(n){return n.getFullYear()}),ic.years=ic.year.range,ic.years.utc=ic.year.utc.range,ic.day=Ht(function(n){var t=new oc(2e3,0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t},function(n,t){n.setDate(n.getDate()+t)},function(n){return n.getDate()-1}),ic.days=ic.day.range,ic.days.utc=ic.day.utc.range,ic.dayOfYear=function(n){var t=ic.year(n);return Math.floor((n-t-6e4*(n.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},[&quot;sunday&quot;,&quot;monday&quot;,&quot;tuesday&quot;,&quot;wednesday&quot;,&quot;thursday&quot;,&quot;friday&quot;,&quot;saturday&quot;].forEach(function(n,t){t=7-t;var e=ic[n]=Ht(function(n){return(n=ic.day(n)).setDate(n.getDate()-(n.getDay()+t)%7),n},function(n,t){n.setDate(n.getDate()+7*Math.floor(t))},function(n){var e=ic.year(n).getDay();return Math.floor((ic.dayOfYear(n)+(e+t)%7)/7)-(e!==t)});ic[n+&quot;s&quot;]=e.range,ic[n+&quot;s&quot;].utc=e.utc.range,ic[n+&quot;OfYear&quot;]=function(n){var e=ic.year(n).getDay();return Math.floor((ic.dayOfYear(n)+(e+t)%7)/7)}}),ic.week=ic.sunday,ic.weeks=ic.sunday.range,ic.weeks.utc=ic.sunday.utc.range,ic.weekOfYear=ic.sundayOfYear;var cc={&quot;-&quot;:&quot;&quot;,_:&quot; &quot;,0:&quot;0&quot;},sc=/^\s*\d+/,lc=/^%/;Go.locale=function(n){return{numberFormat:Pt(n),timeFormat:Ot(n)}};var fc=Go.locale({decimal:&quot;.&quot;,thousands:&quot;,&quot;,grouping:[3],currency:[&quot;$&quot;,&quot;&quot;],dateTime:&quot;%a %b %e %X %Y&quot;,date:&quot;%m/%d/%Y&quot;,time:&quot;%H:%M:%S&quot;,periods:[&quot;AM&quot;,&quot;PM&quot;],days:[&quot;Sunday&quot;,&quot;Monday&quot;,&quot;Tuesday&quot;,&quot;Wednesday&quot;,&quot;Thursday&quot;,&quot;Friday&quot;,&quot;Saturday&quot;],shortDays:[&quot;Sun&quot;,&quot;Mon&quot;,&quot;Tue&quot;,&quot;Wed&quot;,&quot;Thu&quot;,&quot;Fri&quot;,&quot;Sat&quot;],months:[&quot;January&quot;,&quot;February&quot;,&quot;March&quot;,&quot;April&quot;,&quot;May&quot;,&quot;June&quot;,&quot;July&quot;,&quot;August&quot;,&quot;September&quot;,&quot;October&quot;,&quot;November&quot;,&quot;December&quot;],shortMonths:[&quot;Jan&quot;,&quot;Feb&quot;,&quot;Mar&quot;,&quot;Apr&quot;,&quot;May&quot;,&quot;Jun&quot;,&quot;Jul&quot;,&quot;Aug&quot;,&quot;Sep&quot;,&quot;Oct&quot;,&quot;Nov&quot;,&quot;Dec&quot;]});Go.format=fc.numberFormat,Go.geo={},ce.prototype={s:0,t:0,add:function(n){se(n,this.t,hc),se(hc.s,this.s,this),this.s?this.t+=hc.t:this.s=hc.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var hc=new ce;Go.geo.stream=function(n,t){n&amp;&amp;gc.hasOwnProperty(n.type)?gc[n.type](n,t):le(n,t)};var gc={Feature:function(n,t){le(n.geometry,t)},FeatureCollection:function(n,t){for(var e=n.features,r=-1,u=e.length;++r&lt;u;)le(e[r].geometry,t)}},pc={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var e=n.coordinates,r=-1,u=e.length;++r&lt;u;)n=e[r],t.point(n[0],n[1],n[2])},LineString:function(n,t){fe(n.coordinates,t,0)},MultiLineString:function(n,t){for(var e=n.coordinates,r=-1,u=e.length;++r&lt;u;)fe(e[r],t,0)},Polygon:function(n,t){he(n.coordinates,t)},MultiPolygon:function(n,t){for(var e=n.coordinates,r=-1,u=e.length;++r&lt;u;)he(e[r],t)},GeometryCollection:function(n,t){for(var e=n.geometries,r=-1,u=e.length;++r&lt;u;)le(e[r],t)}};Go.geo.area=function(n){return vc=0,Go.geo.stream(n,mc),vc};var vc,dc=new ce,mc={sphere:function(){vc+=4*Ca},point:v,lineStart:v,lineEnd:v,polygonStart:function(){dc.reset(),mc.lineStart=ge},polygonEnd:function(){var n=2*dc;vc+=0&gt;n?4*Ca+n:n,mc.lineStart=mc.lineEnd=mc.point=v}};Go.geo.bounds=function(){function n(n,t){x.push(M=[l=n,h=n]),f&gt;t&amp;&amp;(f=t),t&gt;g&amp;&amp;(g=t)}function t(t,e){var r=pe([t*za,e*za]);if(m){var u=de(m,r),i=[u[1],-u[0],0],o=de(i,u);xe(o),o=Me(o);var c=t-p,s=c&gt;0?1:-1,v=o[0]*Ra*s,d=fa(c)&gt;180;if(d^(v&gt;s*p&amp;&amp;s*t&gt;v)){var y=o[1]*Ra;y&gt;g&amp;&amp;(g=y)}else if(v=(v+360)%360-180,d^(v&gt;s*p&amp;&amp;s*t&gt;v)){var y=-o[1]*Ra;f&gt;y&amp;&amp;(f=y)}else f&gt;e&amp;&amp;(f=e),e&gt;g&amp;&amp;(g=e);d?p&gt;t?a(l,t)&gt;a(l,h)&amp;&amp;(h=t):a(t,h)&gt;a(l,h)&amp;&amp;(l=t):h&gt;=l?(l&gt;t&amp;&amp;(l=t),t&gt;h&amp;&amp;(h=t)):t&gt;p?a(l,t)&gt;a(l,h)&amp;&amp;(h=t):a(t,h)&gt;a(l,h)&amp;&amp;(l=t)}else n(t,e);m=r,p=t}function e(){_.point=t}function r(){M[0]=l,M[1]=h,_.point=n,m=null}function u(n,e){if(m){var r=n-p;y+=fa(r)&gt;180?r+(r&gt;0?360:-360):r}else v=n,d=e;mc.point(n,e),t(n,e)}function i(){mc.lineStart()}function o(){u(v,d),mc.lineEnd(),fa(y)&gt;Ta&amp;&amp;(l=-(h=180)),M[0]=l,M[1]=h,m=null}function a(n,t){return(t-=n)&lt;0?t+360:t}function c(n,t){return n[0]-t[0]}function s(n,t){return t[0]&lt;=t[1]?t[0]&lt;=n&amp;&amp;n&lt;=t[1]:n&lt;t[0]||t[1]&lt;n}var l,f,h,g,p,v,d,m,y,x,M,_={point:n,lineStart:e,lineEnd:r,polygonStart:function(){_.point=u,_.lineStart=i,_.lineEnd=o,y=0,mc.polygonStart()},polygonEnd:function(){mc.polygonEnd(),_.point=n,_.lineStart=e,_.lineEnd=r,0&gt;dc?(l=-(h=180),f=-(g=90)):y&gt;Ta?g=90:-Ta&gt;y&amp;&amp;(f=-90),M[0]=l,M[1]=h}};return function(n){g=h=-(l=f=1/0),x=[],Go.geo.stream(n,_);var t=x.length;if(t){x.sort(c);for(var e,r=1,u=x[0],i=[u];t&gt;r;++r)e=x[r],s(e[0],u)||s(e[1],u)?(a(u[0],e[1])&gt;a(u[0],u[1])&amp;&amp;(u[1]=e[1]),a(e[0],u[1])&gt;a(u[0],u[1])&amp;&amp;(u[0]=e[0])):i.push(u=e);
for(var o,e,p=-1/0,t=i.length-1,r=0,u=i[t];t&gt;=r;u=e,++r)e=i[r],(o=a(u[1],e[0]))&gt;p&amp;&amp;(p=o,l=e[0],h=u[1])}return x=M=null,1/0===l||1/0===f?[[0/0,0/0],[0/0,0/0]]:[[l,f],[h,g]]}}(),Go.geo.centroid=function(n){yc=xc=Mc=_c=bc=wc=Sc=kc=Ec=Ac=Cc=0,Go.geo.stream(n,Nc);var t=Ec,e=Ac,r=Cc,u=t*t+e*e+r*r;return qa&gt;u&amp;&amp;(t=wc,e=Sc,r=kc,Ta&gt;xc&amp;&amp;(t=Mc,e=_c,r=bc),u=t*t+e*e+r*r,qa&gt;u)?[0/0,0/0]:[Math.atan2(e,t)*Ra,G(r/Math.sqrt(u))*Ra]};var yc,xc,Mc,_c,bc,wc,Sc,kc,Ec,Ac,Cc,Nc={sphere:v,point:be,lineStart:Se,lineEnd:ke,polygonStart:function(){Nc.lineStart=Ee},polygonEnd:function(){Nc.lineStart=Se}},Lc=Te(Ae,Pe,je,[-Ca,-Ca/2]),Tc=1e9;Go.geo.clipExtent=function(){var n,t,e,r,u,i,o={stream:function(n){return u&amp;&amp;(u.valid=!1),u=i(n),u.valid=!0,u},extent:function(a){return arguments.length?(i=Oe(n=+a[0][0],t=+a[0][1],e=+a[1][0],r=+a[1][1]),u&amp;&amp;(u.valid=!1,u=null),o):[[n,t],[e,r]]}};return o.extent([[0,0],[960,500]])},(Go.geo.conicEqualArea=function(){return Ye(Ze)}).raw=Ze,Go.geo.albers=function(){return Go.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},Go.geo.albersUsa=function(){function n(n){var i=n[0],o=n[1];return t=null,e(i,o),t||(r(i,o),t)||u(i,o),t}var t,e,r,u,i=Go.geo.albers(),o=Go.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a=Go.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(n,e){t=[n,e]}};return n.invert=function(n){var t=i.scale(),e=i.translate(),r=(n[0]-e[0])/t,u=(n[1]-e[1])/t;return(u&gt;=.12&amp;&amp;.234&gt;u&amp;&amp;r&gt;=-.425&amp;&amp;-.214&gt;r?o:u&gt;=.166&amp;&amp;.234&gt;u&amp;&amp;r&gt;=-.214&amp;&amp;-.115&gt;r?a:i).invert(n)},n.stream=function(n){var t=i.stream(n),e=o.stream(n),r=a.stream(n);return{point:function(n,u){t.point(n,u),e.point(n,u),r.point(n,u)},sphere:function(){t.sphere(),e.sphere(),r.sphere()},lineStart:function(){t.lineStart(),e.lineStart(),r.lineStart()},lineEnd:function(){t.lineEnd(),e.lineEnd(),r.lineEnd()},polygonStart:function(){t.polygonStart(),e.polygonStart(),r.polygonStart()},polygonEnd:function(){t.polygonEnd(),e.polygonEnd(),r.polygonEnd()}}},n.precision=function(t){return arguments.length?(i.precision(t),o.precision(t),a.precision(t),n):i.precision()},n.scale=function(t){return arguments.length?(i.scale(t),o.scale(.35*t),a.scale(t),n.translate(i.translate())):i.scale()},n.translate=function(t){if(!arguments.length)return i.translate();var s=i.scale(),l=+t[0],f=+t[1];return e=i.translate(t).clipExtent([[l-.455*s,f-.238*s],[l+.455*s,f+.238*s]]).stream(c).point,r=o.translate([l-.307*s,f+.201*s]).clipExtent([[l-.425*s+Ta,f+.12*s+Ta],[l-.214*s-Ta,f+.234*s-Ta]]).stream(c).point,u=a.translate([l-.205*s,f+.212*s]).clipExtent([[l-.214*s+Ta,f+.166*s+Ta],[l-.115*s-Ta,f+.234*s-Ta]]).stream(c).point,n},n.scale(1070)};var qc,zc,Rc,Dc,Pc,Uc,jc={point:v,lineStart:v,lineEnd:v,polygonStart:function(){zc=0,jc.lineStart=Ve},polygonEnd:function(){jc.lineStart=jc.lineEnd=jc.point=v,qc+=fa(zc/2)}},Hc={point:$e,lineStart:v,lineEnd:v,polygonStart:v,polygonEnd:v},Fc={point:Je,lineStart:We,lineEnd:Ge,polygonStart:function(){Fc.lineStart=Ke},polygonEnd:function(){Fc.point=Je,Fc.lineStart=We,Fc.lineEnd=Ge}};Go.geo.path=function(){function n(n){return n&amp;&amp;(&quot;function&quot;==typeof a&amp;&amp;i.pointRadius(+a.apply(this,arguments)),o&amp;&amp;o.valid||(o=u(i)),Go.geo.stream(n,o)),i.result()}function t(){return o=null,n}var e,r,u,i,o,a=4.5;return n.area=function(n){return qc=0,Go.geo.stream(n,u(jc)),qc},n.centroid=function(n){return Mc=_c=bc=wc=Sc=kc=Ec=Ac=Cc=0,Go.geo.stream(n,u(Fc)),Cc?[Ec/Cc,Ac/Cc]:kc?[wc/kc,Sc/kc]:bc?[Mc/bc,_c/bc]:[0/0,0/0]},n.bounds=function(n){return Pc=Uc=-(Rc=Dc=1/0),Go.geo.stream(n,u(Hc)),[[Rc,Dc],[Pc,Uc]]},n.projection=function(n){return arguments.length?(u=(e=n)?n.stream||tr(n):At,t()):e},n.context=function(n){return arguments.length?(i=null==(r=n)?new Xe:new Qe(n),&quot;function&quot;!=typeof a&amp;&amp;i.pointRadius(a),t()):r},n.pointRadius=function(t){return arguments.length?(a=&quot;function&quot;==typeof t?t:(i.pointRadius(+t),+t),n):a},n.projection(Go.geo.albersUsa()).context(null)},Go.geo.transform=function(n){return{stream:function(t){var e=new er(t);for(var r in n)e[r]=n[r];return e}}},er.prototype={point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},Go.geo.projection=ur,Go.geo.projectionMutator=ir,(Go.geo.equirectangular=function(){return ur(ar)}).raw=ar.invert=ar,Go.geo.rotation=function(n){function t(t){return t=n(t[0]*za,t[1]*za),t[0]*=Ra,t[1]*=Ra,t}return n=sr(n[0]%360*za,n[1]*za,n.length&gt;2?n[2]*za:0),t.invert=function(t){return t=n.invert(t[0]*za,t[1]*za),t[0]*=Ra,t[1]*=Ra,t},t},cr.invert=ar,Go.geo.circle=function(){function n(){var n=&quot;function&quot;==typeof r?r.apply(this,arguments):r,t=sr(-n[0]*za,-n[1]*za,0).invert,u=[];return e(null,null,1,{point:function(n,e){u.push(n=t(n,e)),n[0]*=Ra,n[1]*=Ra}}),{type:&quot;Polygon&quot;,coordinates:[u]}}var t,e,r=[0,0],u=6;return n.origin=function(t){return arguments.length?(r=t,n):r},n.angle=function(r){return arguments.length?(e=gr((t=+r)*za,u*za),n):t},n.precision=function(r){return arguments.length?(e=gr(t*za,(u=+r)*za),n):u},n.angle(90)},Go.geo.distance=function(n,t){var e,r=(t[0]-n[0])*za,u=n[1]*za,i=t[1]*za,o=Math.sin(r),a=Math.cos(r),c=Math.sin(u),s=Math.cos(u),l=Math.sin(i),f=Math.cos(i);return Math.atan2(Math.sqrt((e=f*o)*e+(e=s*l-c*f*a)*e),c*l+s*f*a)},Go.geo.graticule=function(){function n(){return{type:&quot;MultiLineString&quot;,coordinates:t()}}function t(){return Go.range(Math.ceil(i/d)*d,u,d).map(h).concat(Go.range(Math.ceil(s/m)*m,c,m).map(g)).concat(Go.range(Math.ceil(r/p)*p,e,p).filter(function(n){return fa(n%d)&gt;Ta}).map(l)).concat(Go.range(Math.ceil(a/v)*v,o,v).filter(function(n){return fa(n%m)&gt;Ta}).map(f))}var e,r,u,i,o,a,c,s,l,f,h,g,p=10,v=p,d=90,m=360,y=2.5;return n.lines=function(){return t().map(function(n){return{type:&quot;LineString&quot;,coordinates:n}})},n.outline=function(){return{type:&quot;Polygon&quot;,coordinates:[h(i).concat(g(c).slice(1),h(u).reverse().slice(1),g(s).reverse().slice(1))]}},n.extent=function(t){return arguments.length?n.majorExtent(t).minorExtent(t):n.minorExtent()},n.majorExtent=function(t){return arguments.length?(i=+t[0][0],u=+t[1][0],s=+t[0][1],c=+t[1][1],i&gt;u&amp;&amp;(t=i,i=u,u=t),s&gt;c&amp;&amp;(t=s,s=c,c=t),n.precision(y)):[[i,s],[u,c]]},n.minorExtent=function(t){return arguments.length?(r=+t[0][0],e=+t[1][0],a=+t[0][1],o=+t[1][1],r&gt;e&amp;&amp;(t=r,r=e,e=t),a&gt;o&amp;&amp;(t=a,a=o,o=t),n.precision(y)):[[r,a],[e,o]]},n.step=function(t){return arguments.length?n.majorStep(t).minorStep(t):n.minorStep()},n.majorStep=function(t){return arguments.length?(d=+t[0],m=+t[1],n):[d,m]},n.minorStep=function(t){return arguments.length?(p=+t[0],v=+t[1],n):[p,v]},n.precision=function(t){return arguments.length?(y=+t,l=vr(a,o,90),f=dr(r,e,y),h=vr(s,c,90),g=dr(i,u,y),n):y},n.majorExtent([[-180,-90+Ta],[180,90-Ta]]).minorExtent([[-180,-80-Ta],[180,80+Ta]])},Go.geo.greatArc=function(){function n(){return{type:&quot;LineString&quot;,coordinates:[t||r.apply(this,arguments),e||u.apply(this,arguments)]}}var t,e,r=mr,u=yr;return n.distance=function(){return Go.geo.distance(t||r.apply(this,arguments),e||u.apply(this,arguments))},n.source=function(e){return arguments.length?(r=e,t=&quot;function&quot;==typeof e?null:e,n):r},n.target=function(t){return arguments.length?(u=t,e=&quot;function&quot;==typeof t?null:t,n):u},n.precision=function(){return arguments.length?n:0},n},Go.geo.interpolate=function(n,t){return xr(n[0]*za,n[1]*za,t[0]*za,t[1]*za)},Go.geo.length=function(n){return Oc=0,Go.geo.stream(n,Ic),Oc};var Oc,Ic={sphere:v,point:v,lineStart:Mr,lineEnd:v,polygonStart:v,polygonEnd:v},Yc=_r(function(n){return Math.sqrt(2/(1+n))},function(n){return 2*Math.asin(n/2)});(Go.geo.azimuthalEqualArea=function(){return ur(Yc)}).raw=Yc;var Zc=_r(function(n){var t=Math.acos(n);return t&amp;&amp;t/Math.sin(t)},At);(Go.geo.azimuthalEquidistant=function(){return ur(Zc)}).raw=Zc,(Go.geo.conicConformal=function(){return Ye(br)}).raw=br,(Go.geo.conicEquidistant=function(){return Ye(wr)}).raw=wr;var Vc=_r(function(n){return 1/n},Math.atan);(Go.geo.gnomonic=function(){return ur(Vc)}).raw=Vc,Sr.invert=function(n,t){return[n,2*Math.atan(Math.exp(t))-La]},(Go.geo.mercator=function(){return kr(Sr)}).raw=Sr;var $c=_r(function(){return 1},Math.asin);(Go.geo.orthographic=function(){return ur($c)}).raw=$c;var Xc=_r(function(n){return 1/(1+n)},function(n){return 2*Math.atan(n)});(Go.geo.stereographic=function(){return ur(Xc)}).raw=Xc,Er.invert=function(n,t){return[-t,2*Math.atan(Math.exp(n))-La]},(Go.geo.transverseMercator=function(){var n=kr(Er),t=n.center,e=n.rotate;return n.center=function(n){return n?t([-n[1],n[0]]):(n=t(),[-n[1],n[0]])},n.rotate=function(n){return n?e([n[0],n[1],n.length&gt;2?n[2]+90:90]):(n=e(),[n[0],n[1],n[2]-90])},n.rotate([0,0])}).raw=Er,Go.geom={},Go.geom.hull=function(n){function t(n){if(n.length&lt;3)return[];var t,u=Et(e),i=Et(r),o=n.length,a=[],c=[];for(t=0;o&gt;t;t++)a.push([+u.call(this,n[t],t),+i.call(this,n[t],t),t]);for(a.sort(Lr),t=0;o&gt;t;t++)c.push([a[t][0],-a[t][1]]);var s=Nr(a),l=Nr(c),f=l[0]===s[0],h=l[l.length-1]===s[s.length-1],g=[];for(t=s.length-1;t&gt;=0;--t)g.push(n[a[s[t]][2]]);for(t=+f;t&lt;l.length-h;++t)g.push(n[a[l[t]][2]]);return g}var e=Ar,r=Cr;return arguments.length?t(n):(t.x=function(n){return arguments.length?(e=n,t):e},t.y=function(n){return arguments.length?(r=n,t):r},t)},Go.geom.polygon=function(n){return da(n,Bc),n};var Bc=Go.geom.polygon.prototype=[];Bc.area=function(){for(var n,t=-1,e=this.length,r=this[e-1],u=0;++t&lt;e;)n=r,r=this[t],u+=n[1]*r[0]-n[0]*r[1];return.5*u},Bc.centroid=function(n){var t,e,r=-1,u=this.length,i=0,o=0,a=this[u-1];for(arguments.length||(n=-1/(6*this.area()));++r&lt;u;)t=a,a=this[r],e=t[0]*a[1]-a[0]*t[1],i+=(t[0]+a[0])*e,o+=(t[1]+a[1])*e;return[i*n,o*n]},Bc.clip=function(n){for(var t,e,r,u,i,o,a=zr(n),c=-1,s=this.length-zr(this),l=this[s-1];++c&lt;s;){for(t=n.slice(),n.length=0,u=this[c],i=t[(r=t.length-a)-1],e=-1;++e&lt;r;)o=t[e],Tr(o,l,u)?(Tr(i,l,u)||n.push(qr(i,o,l,u)),n.push(o)):Tr(i,l,u)&amp;&amp;n.push(qr(i,o,l,u)),i=o;a&amp;&amp;n.push(n[0]),l=u}return n};var Jc,Wc,Gc,Kc,Qc,ns=[],ts=[];Or.prototype.prepare=function(){for(var n,t=this.edges,e=t.length;e--;)n=t[e].edge,n.b&amp;&amp;n.a||t.splice(e,1);return t.sort(Yr),t.length},Qr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},nu.prototype={insert:function(n,t){var e,r,u;if(n){if(t.P=n,t.N=n.N,n.N&amp;&amp;(n.N.P=t),n.N=t,n.R){for(n=n.R;n.L;)n=n.L;n.L=t}else n.R=t;e=n}else this._?(n=uu(this._),t.P=null,t.N=n,n.P=n.L=t,e=n):(t.P=t.N=null,this._=t,e=null);for(t.L=t.R=null,t.U=e,t.C=!0,n=t;e&amp;&amp;e.C;)r=e.U,e===r.L?(u=r.R,u&amp;&amp;u.C?(e.C=u.C=!1,r.C=!0,n=r):(n===e.R&amp;&amp;(eu(this,e),n=e,e=n.U),e.C=!1,r.C=!0,ru(this,r))):(u=r.L,u&amp;&amp;u.C?(e.C=u.C=!1,r.C=!0,n=r):(n===e.L&amp;&amp;(ru(this,e),n=e,e=n.U),e.C=!1,r.C=!0,eu(this,r))),e=n.U;this._.C=!1},remove:function(n){n.N&amp;&amp;(n.N.P=n.P),n.P&amp;&amp;(n.P.N=n.N),n.N=n.P=null;var t,e,r,u=n.U,i=n.L,o=n.R;if(e=i?o?uu(o):i:o,u?u.L===n?u.L=e:u.R=e:this._=e,i&amp;&amp;o?(r=e.C,e.C=n.C,e.L=i,i.U=e,e!==o?(u=e.U,e.U=n.U,n=e.R,u.L=n,e.R=o,o.U=e):(e.U=u,u=e,n=e.R)):(r=n.C,n=e),n&amp;&amp;(n.U=u),!r){if(n&amp;&amp;n.C)return n.C=!1,void 0;do{if(n===this._)break;if(n===u.L){if(t=u.R,t.C&amp;&amp;(t.C=!1,u.C=!0,eu(this,u),t=u.R),t.L&amp;&amp;t.L.C||t.R&amp;&amp;t.R.C){t.R&amp;&amp;t.R.C||(t.L.C=!1,t.C=!0,ru(this,t),t=u.R),t.C=u.C,u.C=t.R.C=!1,eu(this,u),n=this._;break}}else if(t=u.L,t.C&amp;&amp;(t.C=!1,u.C=!0,ru(this,u),t=u.L),t.L&amp;&amp;t.L.C||t.R&amp;&amp;t.R.C){t.L&amp;&amp;t.L.C||(t.R.C=!1,t.C=!0,eu(this,t),t=u.L),t.C=u.C,u.C=t.L.C=!1,ru(this,u),n=this._;break}t.C=!0,n=u,u=u.U}while(!n.C);n&amp;&amp;(n.C=!1)}}},Go.geom.voronoi=function(n){function t(n){var t=new Array(n.length),r=a[0][0],u=a[0][1],i=a[1][0],o=a[1][1];return iu(e(n),a).cells.forEach(function(e,a){var c=e.edges,s=e.site,l=t[a]=c.length?c.map(function(n){var t=n.start();return[t.x,t.y]}):s.x&gt;=r&amp;&amp;s.x&lt;=i&amp;&amp;s.y&gt;=u&amp;&amp;s.y&lt;=o?[[r,o],[i,o],[i,u],[r,u]]:[];l.point=n[a]}),t}function e(n){return n.map(function(n,t){return{x:Math.round(i(n,t)/Ta)*Ta,y:Math.round(o(n,t)/Ta)*Ta,i:t}})}var r=Ar,u=Cr,i=r,o=u,a=es;return n?t(n):(t.links=function(n){return iu(e(n)).edges.filter(function(n){return n.l&amp;&amp;n.r}).map(function(t){return{source:n[t.l.i],target:n[t.r.i]}})},t.triangles=function(n){var t=[];return iu(e(n)).cells.forEach(function(e,r){for(var u,i,o=e.site,a=e.edges.sort(Yr),c=-1,s=a.length,l=a[s-1].edge,f=l.l===o?l.r:l.l;++c&lt;s;)u=l,i=f,l=a[c].edge,f=l.l===o?l.r:l.l,r&lt;i.i&amp;&amp;r&lt;f.i&amp;&amp;au(o,i,f)&lt;0&amp;&amp;t.push([n[r],n[i.i],n[f.i]])}),t},t.x=function(n){return arguments.length?(i=Et(r=n),t):r},t.y=function(n){return arguments.length?(o=Et(u=n),t):u},t.clipExtent=function(n){return arguments.length?(a=null==n?es:n,t):a===es?null:a},t.size=function(n){return arguments.length?t.clipExtent(n&amp;&amp;[[0,0],n]):a===es?null:a&amp;&amp;a[1]},t)};var es=[[-1e6,-1e6],[1e6,1e6]];Go.geom.delaunay=function(n){return Go.geom.voronoi().triangles(n)},Go.geom.quadtree=function(n,t,e,r,u){function i(n){function i(n,t,e,r,u,i,o,a){if(!isNaN(e)&amp;&amp;!isNaN(r))if(n.leaf){var c=n.x,l=n.y;if(null!=c)if(fa(c-e)+fa(l-r)&lt;.01)s(n,t,e,r,u,i,o,a);else{var f=n.point;n.x=n.y=n.point=null,s(n,f,c,l,u,i,o,a),s(n,t,e,r,u,i,o,a)}else n.x=e,n.y=r,n.point=t}else s(n,t,e,r,u,i,o,a)}function s(n,t,e,r,u,o,a,c){var s=.5*(u+a),l=.5*(o+c),f=e&gt;=s,h=r&gt;=l,g=(h&lt;&lt;1)+f;n.leaf=!1,n=n.nodes[g]||(n.nodes[g]=lu()),f?u=s:a=s,h?o=l:c=l,i(n,t,e,r,u,o,a,c)}var l,f,h,g,p,v,d,m,y,x=Et(a),M=Et(c);if(null!=t)v=t,d=e,m=r,y=u;else if(m=y=-(v=d=1/0),f=[],h=[],p=n.length,o)for(g=0;p&gt;g;++g)l=n[g],l.x&lt;v&amp;&amp;(v=l.x),l.y&lt;d&amp;&amp;(d=l.y),l.x&gt;m&amp;&amp;(m=l.x),l.y&gt;y&amp;&amp;(y=l.y),f.push(l.x),h.push(l.y);else for(g=0;p&gt;g;++g){var _=+x(l=n[g],g),b=+M(l,g);v&gt;_&amp;&amp;(v=_),d&gt;b&amp;&amp;(d=b),_&gt;m&amp;&amp;(m=_),b&gt;y&amp;&amp;(y=b),f.push(_),h.push(b)}var w=m-v,S=y-d;w&gt;S?y=d+w:m=v+S;var k=lu();if(k.add=function(n){i(k,n,+x(n,++g),+M(n,g),v,d,m,y)},k.visit=function(n){fu(n,k,v,d,m,y)},g=-1,null==t){for(;++g&lt;p;)i(k,n[g],f[g],h[g],v,d,m,y);--g}else n.forEach(k.add);return f=h=n=l=null,k}var o,a=Ar,c=Cr;return(o=arguments.length)?(a=cu,c=su,3===o&amp;&amp;(u=e,r=t,e=t=0),i(n)):(i.x=function(n){return arguments.length?(a=n,i):a},i.y=function(n){return arguments.length?(c=n,i):c},i.extent=function(n){return arguments.length?(null==n?t=e=r=u=null:(t=+n[0][0],e=+n[0][1],r=+n[1][0],u=+n[1][1]),i):null==t?null:[[t,e],[r,u]]},i.size=function(n){return arguments.length?(null==n?t=e=r=u=null:(t=e=0,r=+n[0],u=+n[1]),i):null==t?null:[r-t,u-e]},i)},Go.interpolateRgb=hu,Go.interpolateObject=gu,Go.interpolateNumber=pu,Go.interpolateString=vu;var rs=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,us=new RegExp(rs.source,&quot;g&quot;);Go.interpolate=du,Go.interpolators=[function(n,t){var e=typeof t;return(&quot;string&quot;===e?Ja.has(t)||/^(#|rgb\(|hsl\()/.test(t)?hu:vu:t instanceof et?hu:Array.isArray(t)?mu:&quot;object&quot;===e&amp;&amp;isNaN(t)?gu:pu)(n,t)}],Go.interpolateArray=mu;var is=function(){return At},os=Go.map({linear:is,poly:Su,quad:function(){return _u},cubic:function(){return bu},sin:function(){return ku},exp:function(){return Eu},circle:function(){return Au},elastic:Cu,back:Nu,bounce:function(){return Lu}}),as=Go.map({&quot;in&quot;:At,out:xu,&quot;in-out&quot;:Mu,&quot;out-in&quot;:function(n){return Mu(xu(n))}});Go.ease=function(n){var t=n.indexOf(&quot;-&quot;),e=t&gt;=0?n.substring(0,t):n,r=t&gt;=0?n.substring(t+1):&quot;in&quot;;return e=os.get(e)||is,r=as.get(r)||At,yu(r(e.apply(null,Ko.call(arguments,1))))},Go.interpolateHcl=Tu,Go.interpolateHsl=qu,Go.interpolateLab=zu,Go.interpolateRound=Ru,Go.transform=function(n){var t=na.createElementNS(Go.ns.prefix.svg,&quot;g&quot;);return(Go.transform=function(n){if(null!=n){t.setAttribute(&quot;transform&quot;,n);var e=t.transform.baseVal.consolidate()}return new Du(e?e.matrix:cs)})(n)},Du.prototype.toString=function(){return&quot;translate(&quot;+this.translate+&quot;)rotate(&quot;+this.rotate+&quot;)skewX(&quot;+this.skew+&quot;)scale(&quot;+this.scale+&quot;)&quot;};var cs={a:1,b:0,c:0,d:1,e:0,f:0};Go.interpolateTransform=Hu,Go.layout={},Go.layout.bundle=function(){return function(n){for(var t=[],e=-1,r=n.length;++e&lt;r;)t.push(Iu(n[e]));return t}},Go.layout.chord=function(){function n(){var n,s,f,h,g,p={},v=[],d=Go.range(i),m=[];for(e=[],r=[],n=0,h=-1;++h&lt;i;){for(s=0,g=-1;++g&lt;i;)s+=u[h][g];v.push(s),m.push(Go.range(i)),n+=s}for(o&amp;&amp;d.sort(function(n,t){return o(v[n],v[t])}),a&amp;&amp;m.forEach(function(n,t){n.sort(function(n,e){return a(u[t][n],u[t][e])})}),n=(Na-l*i)/n,s=0,h=-1;++h&lt;i;){for(f=s,g=-1;++g&lt;i;){var y=d[h],x=m[y][g],M=u[y][x],_=s,b=s+=M*n;p[y+&quot;-&quot;+x]={index:y,subindex:x,startAngle:_,endAngle:b,value:M}}r[y]={index:y,startAngle:f,endAngle:s,value:(s-f)/n},s+=l}for(h=-1;++h&lt;i;)for(g=h-1;++g&lt;i;){var w=p[h+&quot;-&quot;+g],S=p[g+&quot;-&quot;+h];(w.value||S.value)&amp;&amp;e.push(w.value&lt;S.value?{source:S,target:w}:{source:w,target:S})}c&amp;&amp;t()}function t(){e.sort(function(n,t){return c((n.source.value+n.target.value)/2,(t.source.value+t.target.value)/2)})}var e,r,u,i,o,a,c,s={},l=0;return s.matrix=function(n){return arguments.length?(i=(u=n)&amp;&amp;u.length,e=r=null,s):u},s.padding=function(n){return arguments.length?(l=n,e=r=null,s):l},s.sortGroups=function(n){return arguments.length?(o=n,e=r=null,s):o},s.sortSubgroups=function(n){return arguments.length?(a=n,e=null,s):a},s.sortChords=function(n){return arguments.length?(c=n,e&amp;&amp;t(),s):c},s.chords=function(){return e||n(),e},s.groups=function(){return r||n(),r},s},Go.layout.force=function(){function n(n){return function(t,e,r,u){if(t.point!==n){var i=t.cx-n.x,o=t.cy-n.y,a=u-e,c=i*i+o*o;if(c&gt;a*a/d){if(p&gt;c){var s=t.charge/c;n.px-=i*s,n.py-=o*s}return!0}if(t.point&amp;&amp;c&amp;&amp;p&gt;c){var s=t.pointCharge/c;n.px-=i*s,n.py-=o*s}}return!t.charge}}function t(n){n.px=Go.event.x,n.py=Go.event.y,a.resume()}var e,r,u,i,o,a={},c=Go.dispatch(&quot;start&quot;,&quot;tick&quot;,&quot;end&quot;),s=[1,1],l=.9,f=ss,h=ls,g=-30,p=fs,v=.1,d=.64,m=[],y=[];return a.tick=function(){if((r*=.99)&lt;.005)return c.end({type:&quot;end&quot;,alpha:r=0}),!0;var t,e,a,f,h,p,d,x,M,_=m.length,b=y.length;for(e=0;b&gt;e;++e)a=y[e],f=a.source,h=a.target,x=h.x-f.x,M=h.y-f.y,(p=x*x+M*M)&amp;&amp;(p=r*i[e]*((p=Math.sqrt(p))-u[e])/p,x*=p,M*=p,h.x-=x*(d=f.weight/(h.weight+f.weight)),h.y-=M*d,f.x+=x*(d=1-d),f.y+=M*d);if((d=r*v)&amp;&amp;(x=s[0]/2,M=s[1]/2,e=-1,d))for(;++e&lt;_;)a=m[e],a.x+=(x-a.x)*d,a.y+=(M-a.y)*d;if(g)for(Ju(t=Go.geom.quadtree(m),r,o),e=-1;++e&lt;_;)(a=m[e]).fixed||t.visit(n(a));for(e=-1;++e&lt;_;)a=m[e],a.fixed?(a.x=a.px,a.y=a.py):(a.x-=(a.px-(a.px=a.x))*l,a.y-=(a.py-(a.py=a.y))*l);c.tick({type:&quot;tick&quot;,alpha:r})},a.nodes=function(n){return arguments.length?(m=n,a):m},a.links=function(n){return arguments.length?(y=n,a):y},a.size=function(n){return arguments.length?(s=n,a):s},a.linkDistance=function(n){return arguments.length?(f=&quot;function&quot;==typeof n?n:+n,a):f},a.distance=a.linkDistance,a.linkStrength=function(n){return arguments.length?(h=&quot;function&quot;==typeof n?n:+n,a):h},a.friction=function(n){return arguments.length?(l=+n,a):l},a.charge=function(n){return arguments.length?(g=&quot;function&quot;==typeof n?n:+n,a):g},a.chargeDistance=function(n){return arguments.length?(p=n*n,a):Math.sqrt(p)},a.gravity=function(n){return arguments.length?(v=+n,a):v},a.theta=function(n){return arguments.length?(d=n*n,a):Math.sqrt(d)},a.alpha=function(n){return arguments.length?(n=+n,r?r=n&gt;0?n:0:n&gt;0&amp;&amp;(c.start({type:&quot;start&quot;,alpha:r=n}),Go.timer(a.tick)),a):r},a.start=function(){function n(n,r){if(!e){for(e=new Array(c),a=0;c&gt;a;++a)e[a]=[];for(a=0;s&gt;a;++a){var u=y[a];e[u.source.index].push(u.target),e[u.target.index].push(u.source)}}for(var i,o=e[t],a=-1,s=o.length;++a&lt;s;)if(!isNaN(i=o[a][n]))return i;return Math.random()*r}var t,e,r,c=m.length,l=y.length,p=s[0],v=s[1];for(t=0;c&gt;t;++t)(r=m[t]).index=t,r.weight=0;for(t=0;l&gt;t;++t)r=y[t],&quot;number&quot;==typeof r.source&amp;&amp;(r.source=m[r.source]),&quot;number&quot;==typeof r.target&amp;&amp;(r.target=m[r.target]),++r.source.weight,++r.target.weight;for(t=0;c&gt;t;++t)r=m[t],isNaN(r.x)&amp;&amp;(r.x=n(&quot;x&quot;,p)),isNaN(r.y)&amp;&amp;(r.y=n(&quot;y&quot;,v)),isNaN(r.px)&amp;&amp;(r.px=r.x),isNaN(r.py)&amp;&amp;(r.py=r.y);if(u=[],&quot;function&quot;==typeof f)for(t=0;l&gt;t;++t)u[t]=+f.call(this,y[t],t);else for(t=0;l&gt;t;++t)u[t]=f;if(i=[],&quot;function&quot;==typeof h)for(t=0;l&gt;t;++t)i[t]=+h.call(this,y[t],t);else for(t=0;l&gt;t;++t)i[t]=h;if(o=[],&quot;function&quot;==typeof g)for(t=0;c&gt;t;++t)o[t]=+g.call(this,m[t],t);else for(t=0;c&gt;t;++t)o[t]=g;return a.resume()},a.resume=function(){return a.alpha(.1)},a.stop=function(){return a.alpha(0)},a.drag=function(){return e||(e=Go.behavior.drag().origin(At).on(&quot;dragstart.force&quot;,Vu).on(&quot;drag.force&quot;,t).on(&quot;dragend.force&quot;,$u)),arguments.length?(this.on(&quot;mouseover.force&quot;,Xu).on(&quot;mouseout.force&quot;,Bu).call(e),void 0):e},Go.rebind(a,c,&quot;on&quot;)};var ss=20,ls=1,fs=1/0;Go.layout.hierarchy=function(){function n(t,o,a){var c=u.call(e,t,o);if(t.depth=o,a.push(t),c&amp;&amp;(s=c.length)){for(var s,l,f=-1,h=t.children=new Array(s),g=0,p=o+1;++f&lt;s;)l=h[f]=n(c[f],p,a),l.parent=t,g+=l.value;r&amp;&amp;h.sort(r),i&amp;&amp;(t.value=g)}else delete t.children,i&amp;&amp;(t.value=+i.call(e,t,o)||0);return t}function t(n,r){var u=n.children,o=0;if(u&amp;&amp;(a=u.length))for(var a,c=-1,s=r+1;++c&lt;a;)o+=t(u[c],s);else i&amp;&amp;(o=+i.call(e,n,r)||0);return i&amp;&amp;(n.value=o),o}function e(t){var e=[];return n(t,0,e),e}var r=Qu,u=Gu,i=Ku;return e.sort=function(n){return arguments.length?(r=n,e):r},e.children=function(n){return arguments.length?(u=n,e):u},e.value=function(n){return arguments.length?(i=n,e):i},e.revalue=function(n){return t(n,0),n},e},Go.layout.partition=function(){function n(t,e,r,u){var i=t.children;if(t.x=e,t.y=t.depth*u,t.dx=r,t.dy=u,i&amp;&amp;(o=i.length)){var o,a,c,s=-1;for(r=t.value?r/t.value:0;++s&lt;o;)n(a=i[s],e,c=a.value*r,u),e+=c}}function t(n){var e=n.children,r=0;if(e&amp;&amp;(u=e.length))for(var u,i=-1;++i&lt;u;)r=Math.max(r,t(e[i]));return 1+r}function e(e,i){var o=r.call(this,e,i);return n(o[0],0,u[0],u[1]/t(o[0])),o}var r=Go.layout.hierarchy(),u=[1,1];return e.size=function(n){return arguments.length?(u=n,e):u},Wu(e,r)},Go.layout.pie=function(){function n(i){var o=i.map(function(e,r){return+t.call(n,e,r)}),a=+(&quot;function&quot;==typeof r?r.apply(this,arguments):r),c=((&quot;function&quot;==typeof u?u.apply(this,arguments):u)-a)/Go.sum(o),s=Go.range(i.length);null!=e&amp;&amp;s.sort(e===hs?function(n,t){return o[t]-o[n]}:function(n,t){return e(i[n],i[t])});var l=[];return s.forEach(function(n){var t;l[n]={data:i[n],value:t=o[n],startAngle:a,endAngle:a+=t*c}}),l}var t=Number,e=hs,r=0,u=Na;return n.value=function(e){return arguments.length?(t=e,n):t},n.sort=function(t){return arguments.length?(e=t,n):e},n.startAngle=function(t){return arguments.length?(r=t,n):r},n.endAngle=function(t){return arguments.length?(u=t,n):u},n};var hs={};Go.layout.stack=function(){function n(a,c){var s=a.map(function(e,r){return t.call(n,e,r)}),l=s.map(function(t){return t.map(function(t,e){return[i.call(n,t,e),o.call(n,t,e)]})}),f=e.call(n,l,c);s=Go.permute(s,f),l=Go.permute(l,f);var h,g,p,v=r.call(n,l,c),d=s.length,m=s[0].length;for(g=0;m&gt;g;++g)for(u.call(n,s[0][g],p=v[g],l[0][g][1]),h=1;d&gt;h;++h)u.call(n,s[h][g],p+=l[h-1][g][1],l[h][g][1]);return a}var t=At,e=ui,r=ii,u=ri,i=ti,o=ei;return n.values=function(e){return arguments.length?(t=e,n):t},n.order=function(t){return arguments.length?(e=&quot;function&quot;==typeof t?t:gs.get(t)||ui,n):e},n.offset=function(t){return arguments.length?(r=&quot;function&quot;==typeof t?t:ps.get(t)||ii,n):r},n.x=function(t){return arguments.length?(i=t,n):i},n.y=function(t){return arguments.length?(o=t,n):o},n.out=function(t){return arguments.length?(u=t,n):u},n};var gs=Go.map({&quot;inside-out&quot;:function(n){var t,e,r=n.length,u=n.map(oi),i=n.map(ai),o=Go.range(r).sort(function(n,t){return u[n]-u[t]}),a=0,c=0,s=[],l=[];for(t=0;r&gt;t;++t)e=o[t],c&gt;a?(a+=i[e],s.push(e)):(c+=i[e],l.push(e));return l.reverse().concat(s)},reverse:function(n){return Go.range(n.length).reverse()},&quot;default&quot;:ui}),ps=Go.map({silhouette:function(n){var t,e,r,u=n.length,i=n[0].length,o=[],a=0,c=[];for(e=0;i&gt;e;++e){for(t=0,r=0;u&gt;t;t++)r+=n[t][e][1];r&gt;a&amp;&amp;(a=r),o.push(r)}for(e=0;i&gt;e;++e)c[e]=(a-o[e])/2;return c},wiggle:function(n){var t,e,r,u,i,o,a,c,s,l=n.length,f=n[0],h=f.length,g=[];for(g[0]=c=s=0,e=1;h&gt;e;++e){for(t=0,u=0;l&gt;t;++t)u+=n[t][e][1];for(t=0,i=0,a=f[e][0]-f[e-1][0];l&gt;t;++t){for(r=0,o=(n[t][e][1]-n[t][e-1][1])/(2*a);t&gt;r;++r)o+=(n[r][e][1]-n[r][e-1][1])/a;i+=o*n[t][e][1]}g[e]=c-=u?i/u*a:0,s&gt;c&amp;&amp;(s=c)}for(e=0;h&gt;e;++e)g[e]-=s;return g},expand:function(n){var t,e,r,u=n.length,i=n[0].length,o=1/u,a=[];for(e=0;i&gt;e;++e){for(t=0,r=0;u&gt;t;t++)r+=n[t][e][1];if(r)for(t=0;u&gt;t;t++)n[t][e][1]/=r;else for(t=0;u&gt;t;t++)n[t][e][1]=o}for(e=0;i&gt;e;++e)a[e]=0;return a},zero:ii});Go.layout.histogram=function(){function n(n,i){for(var o,a,c=[],s=n.map(e,this),l=r.call(this,s,i),f=u.call(this,l,s,i),i=-1,h=s.length,g=f.length-1,p=t?1:1/h;++i&lt;g;)o=c[i]=[],o.dx=f[i+1]-(o.x=f[i]),o.y=0;if(g&gt;0)for(i=-1;++i&lt;h;)a=s[i],a&gt;=l[0]&amp;&amp;a&lt;=l[1]&amp;&amp;(o=c[Go.bisect(f,a,1,g)-1],o.y+=p,o.push(n[i]));return c}var t=!0,e=Number,r=fi,u=si;return n.value=function(t){return arguments.length?(e=t,n):e},n.range=function(t){return arguments.length?(r=Et(t),n):r},n.bins=function(t){return arguments.length?(u=&quot;number&quot;==typeof t?function(n){return li(n,t)}:Et(t),n):u},n.frequency=function(e){return arguments.length?(t=!!e,n):t},n},Go.layout.tree=function(){function n(n,i){function o(n,t){var r=n.children,u=n._tree;if(r&amp;&amp;(i=r.length)){for(var i,a,s,l=r[0],f=l,h=-1;++h&lt;i;)s=r[h],o(s,a),f=c(s,a,f),a=s;Mi(n);var g=.5*(l._tree.prelim+s._tree.prelim);t?(u.prelim=t._tree.prelim+e(n,t),u.mod=u.prelim-g):u.prelim=g}else t&amp;&amp;(u.prelim=t._tree.prelim+e(n,t))}function a(n,t){n.x=n._tree.prelim+t;var e=n.children;if(e&amp;&amp;(r=e.length)){var r,u=-1;for(t+=n._tree.mod;++u&lt;r;)a(e[u],t)}}function c(n,t,r){if(t){for(var u,i=n,o=n,a=t,c=n.parent.children[0],s=i._tree.mod,l=o._tree.mod,f=a._tree.mod,h=c._tree.mod;a=pi(a),i=gi(i),a&amp;&amp;i;)c=gi(c),o=pi(o),o._tree.ancestor=n,u=a._tree.prelim+f-i._tree.prelim-s+e(a,i),u&gt;0&amp;&amp;(_i(bi(a,n,r),n,u),s+=u,l+=u),f+=a._tree.mod,s+=i._tree.mod,h+=c._tree.mod,l+=o._tree.mod;a&amp;&amp;!pi(o)&amp;&amp;(o._tree.thread=a,o._tree.mod+=f-l),i&amp;&amp;!gi(c)&amp;&amp;(c._tree.thread=i,c._tree.mod+=s-h,r=n)}return r}var s=t.call(this,n,i),l=s[0];xi(l,function(n,t){n._tree={ancestor:n,prelim:0,mod:0,change:0,shift:0,number:t?t._tree.number+1:0}}),o(l),a(l,-l._tree.prelim);var f=vi(l,mi),h=vi(l,di),g=vi(l,yi),p=f.x-e(f,h)/2,v=h.x+e(h,f)/2,d=g.depth||1;return xi(l,u?function(n){n.x*=r[0],n.y=n.depth*r[1],delete n._tree}:function(n){n.x=(n.x-p)/(v-p)*r[0],n.y=n.depth/d*r[1],delete n._tree}),s}var t=Go.layout.hierarchy().sort(null).value(null),e=hi,r=[1,1],u=!1;return n.separation=function(t){return arguments.length?(e=t,n):e},n.size=function(t){return arguments.length?(u=null==(r=t),n):u?null:r},n.nodeSize=function(t){return arguments.length?(u=null!=(r=t),n):u?r:null},Wu(n,t)},Go.layout.pack=function(){function n(n,i){var o=e.call(this,n,i),a=o[0],c=u[0],s=u[1],l=null==t?Math.sqrt:&quot;function&quot;==typeof t?t:function(){return t};if(a.x=a.y=0,xi(a,function(n){n.r=+l(n.value)}),xi(a,Ai),r){var f=r*(t?1:Math.max(2*a.r/c,2*a.r/s))/2;xi(a,function(n){n.r+=f}),xi(a,Ai),xi(a,function(n){n.r-=f})}return Li(a,c/2,s/2,t?1:1/Math.max(2*a.r/c,2*a.r/s)),o}var t,e=Go.layout.hierarchy().sort(wi),r=0,u=[1,1];return n.size=function(t){return arguments.length?(u=t,n):u},n.radius=function(e){return arguments.length?(t=null==e||&quot;function&quot;==typeof e?e:+e,n):t},n.padding=function(t){return arguments.length?(r=+t,n):r},Wu(n,e)},Go.layout.cluster=function(){function n(n,i){var o,a=t.call(this,n,i),c=a[0],s=0;xi(c,function(n){var t=n.children;t&amp;&amp;t.length?(n.x=zi(t),n.y=qi(t)):(n.x=o?s+=e(n,o):0,n.y=0,o=n)});var l=Ri(c),f=Di(c),h=l.x-e(l,f)/2,g=f.x+e(f,l)/2;return xi(c,u?function(n){n.x=(n.x-c.x)*r[0],n.y=(c.y-n.y)*r[1]}:function(n){n.x=(n.x-h)/(g-h)*r[0],n.y=(1-(c.y?n.y/c.y:1))*r[1]}),a}var t=Go.layout.hierarchy().sort(null).value(null),e=hi,r=[1,1],u=!1;return n.separation=function(t){return arguments.length?(e=t,n):e},n.size=function(t){return arguments.length?(u=null==(r=t),n):u?null:r},n.nodeSize=function(t){return arguments.length?(u=null!=(r=t),n):u?r:null},Wu(n,t)},Go.layout.treemap=function(){function n(n,t){for(var e,r,u=-1,i=n.length;++u&lt;i;)r=(e=n[u]).value*(0&gt;t?0:t),e.area=isNaN(r)||0&gt;=r?0:r}function t(e){var i=e.children;if(i&amp;&amp;i.length){var o,a,c,s=f(e),l=[],h=i.slice(),p=1/0,v=&quot;slice&quot;===g?s.dx:&quot;dice&quot;===g?s.dy:&quot;slice-dice&quot;===g?1&amp;e.depth?s.dy:s.dx:Math.min(s.dx,s.dy);for(n(h,s.dx*s.dy/e.value),l.area=0;(c=h.length)&gt;0;)l.push(o=h[c-1]),l.area+=o.area,&quot;squarify&quot;!==g||(a=r(l,v))&lt;=p?(h.pop(),p=a):(l.area-=l.pop().area,u(l,v,s,!1),v=Math.min(s.dx,s.dy),l.length=l.area=0,p=1/0);l.length&amp;&amp;(u(l,v,s,!0),l.length=l.area=0),i.forEach(t)}}function e(t){var r=t.children;if(r&amp;&amp;r.length){var i,o=f(t),a=r.slice(),c=[];for(n(a,o.dx*o.dy/t.value),c.area=0;i=a.pop();)c.push(i),c.area+=i.area,null!=i.z&amp;&amp;(u(c,i.z?o.dx:o.dy,o,!a.length),c.length=c.area=0);r.forEach(e)}}function r(n,t){for(var e,r=n.area,u=0,i=1/0,o=-1,a=n.length;++o&lt;a;)(e=n[o].area)&amp;&amp;(i&gt;e&amp;&amp;(i=e),e&gt;u&amp;&amp;(u=e));return r*=r,t*=t,r?Math.max(t*u*p/r,r/(t*i*p)):1/0}function u(n,t,e,r){var u,i=-1,o=n.length,a=e.x,s=e.y,l=t?c(n.area/t):0;if(t==e.dx){for((r||l&gt;e.dy)&amp;&amp;(l=e.dy);++i&lt;o;)u=n[i],u.x=a,u.y=s,u.dy=l,a+=u.dx=Math.min(e.x+e.dx-a,l?c(u.area/l):0);u.z=!0,u.dx+=e.x+e.dx-a,e.y+=l,e.dy-=l}else{for((r||l&gt;e.dx)&amp;&amp;(l=e.dx);++i&lt;o;)u=n[i],u.x=a,u.y=s,u.dx=l,s+=u.dy=Math.min(e.y+e.dy-s,l?c(u.area/l):0);u.z=!1,u.dy+=e.y+e.dy-s,e.x+=l,e.dx-=l}}function i(r){var u=o||a(r),i=u[0];return i.x=0,i.y=0,i.dx=s[0],i.dy=s[1],o&amp;&amp;a.revalue(i),n([i],i.dx*i.dy/i.value),(o?e:t)(i),h&amp;&amp;(o=u),u}var o,a=Go.layout.hierarchy(),c=Math.round,s=[1,1],l=null,f=Pi,h=!1,g=&quot;squarify&quot;,p=.5*(1+Math.sqrt(5));return i.size=function(n){return arguments.length?(s=n,i):s},i.padding=function(n){function t(t){var e=n.call(i,t,t.depth);return null==e?Pi(t):Ui(t,&quot;number&quot;==typeof e?[e,e,e,e]:e)}function e(t){return Ui(t,n)}if(!arguments.length)return l;var r;return f=null==(l=n)?Pi:&quot;function&quot;==(r=typeof n)?t:&quot;number&quot;===r?(n=[n,n,n,n],e):e,i},i.round=function(n){return arguments.length?(c=n?Math.round:Number,i):c!=Number},i.sticky=function(n){return arguments.length?(h=n,o=null,i):h},i.ratio=function(n){return arguments.length?(p=n,i):p},i.mode=function(n){return arguments.length?(g=n+&quot;&quot;,i):g},Wu(i,a)},Go.random={normal:function(n,t){var e=arguments.length;return 2&gt;e&amp;&amp;(t=1),1&gt;e&amp;&amp;(n=0),function(){var e,r,u;do e=2*Math.random()-1,r=2*Math.random()-1,u=e*e+r*r;while(!u||u&gt;1);return n+t*e*Math.sqrt(-2*Math.log(u)/u)}},logNormal:function(){var n=Go.random.normal.apply(Go,arguments);return function(){return Math.exp(n())}},bates:function(n){var t=Go.random.irwinHall(n);return function(){return t()/n}},irwinHall:function(n){return function(){for(var t=0,e=0;n&gt;e;e++)t+=Math.random();return t}}},Go.scale={};var vs={floor:At,ceil:At};Go.scale.linear=function(){return Zi([0,1],[0,1],du,!1)};var ds={s:1,g:1,p:1,r:1,e:1};Go.scale.log=function(){return Ki(Go.scale.linear().domain([0,1]),10,!0,[1,10])};var ms=Go.format(&quot;.0e&quot;),ys={floor:function(n){return-Math.ceil(-n)},ceil:function(n){return-Math.floor(-n)}};Go.scale.pow=function(){return Qi(Go.scale.linear(),1,[0,1])},Go.scale.sqrt=function(){return Go.scale.pow().exponent(.5)},Go.scale.ordinal=function(){return to([],{t:&quot;range&quot;,a:[[]]})},Go.scale.category10=function(){return Go.scale.ordinal().range(xs)},Go.scale.category20=function(){return Go.scale.ordinal().range(Ms)},Go.scale.category20b=function(){return Go.scale.ordinal().range(_s)},Go.scale.category20c=function(){return Go.scale.ordinal().range(bs)};var xs=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(mt),Ms=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(mt),_s=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(mt),bs=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(mt);Go.scale.quantile=function(){return eo([],[])},Go.scale.quantize=function(){return ro(0,1,[0,1])},Go.scale.threshold=function(){return uo([.5],[0,1])},Go.scale.identity=function(){return io([0,1])},Go.svg={},Go.svg.arc=function(){function n(){var n=t.apply(this,arguments),i=e.apply(this,arguments),o=r.apply(this,arguments)+ws,a=u.apply(this,arguments)+ws,c=(o&gt;a&amp;&amp;(c=o,o=a,a=c),a-o),s=Ca&gt;c?&quot;0&quot;:&quot;1&quot;,l=Math.cos(o),f=Math.sin(o),h=Math.cos(a),g=Math.sin(a);
return c&gt;=Ss?n?&quot;M0,&quot;+i+&quot;A&quot;+i+&quot;,&quot;+i+&quot; 0 1,1 0,&quot;+-i+&quot;A&quot;+i+&quot;,&quot;+i+&quot; 0 1,1 0,&quot;+i+&quot;M0,&quot;+n+&quot;A&quot;+n+&quot;,&quot;+n+&quot; 0 1,0 0,&quot;+-n+&quot;A&quot;+n+&quot;,&quot;+n+&quot; 0 1,0 0,&quot;+n+&quot;Z&quot;:&quot;M0,&quot;+i+&quot;A&quot;+i+&quot;,&quot;+i+&quot; 0 1,1 0,&quot;+-i+&quot;A&quot;+i+&quot;,&quot;+i+&quot; 0 1,1 0,&quot;+i+&quot;Z&quot;:n?&quot;M&quot;+i*l+&quot;,&quot;+i*f+&quot;A&quot;+i+&quot;,&quot;+i+&quot; 0 &quot;+s+&quot;,1 &quot;+i*h+&quot;,&quot;+i*g+&quot;L&quot;+n*h+&quot;,&quot;+n*g+&quot;A&quot;+n+&quot;,&quot;+n+&quot; 0 &quot;+s+&quot;,0 &quot;+n*l+&quot;,&quot;+n*f+&quot;Z&quot;:&quot;M&quot;+i*l+&quot;,&quot;+i*f+&quot;A&quot;+i+&quot;,&quot;+i+&quot; 0 &quot;+s+&quot;,1 &quot;+i*h+&quot;,&quot;+i*g+&quot;L0,0&quot;+&quot;Z&quot;}var t=oo,e=ao,r=co,u=so;return n.innerRadius=function(e){return arguments.length?(t=Et(e),n):t},n.outerRadius=function(t){return arguments.length?(e=Et(t),n):e},n.startAngle=function(t){return arguments.length?(r=Et(t),n):r},n.endAngle=function(t){return arguments.length?(u=Et(t),n):u},n.centroid=function(){var n=(t.apply(this,arguments)+e.apply(this,arguments))/2,i=(r.apply(this,arguments)+u.apply(this,arguments))/2+ws;return[Math.cos(i)*n,Math.sin(i)*n]},n};var ws=-La,Ss=Na-Ta;Go.svg.line=function(){return lo(At)};var ks=Go.map({linear:fo,&quot;linear-closed&quot;:ho,step:go,&quot;step-before&quot;:po,&quot;step-after&quot;:vo,basis:bo,&quot;basis-open&quot;:wo,&quot;basis-closed&quot;:So,bundle:ko,cardinal:xo,&quot;cardinal-open&quot;:mo,&quot;cardinal-closed&quot;:yo,monotone:To});ks.forEach(function(n,t){t.key=n,t.closed=/-closed$/.test(n)});var Es=[0,2/3,1/3,0],As=[0,1/3,2/3,0],Cs=[0,1/6,2/3,1/6];Go.svg.line.radial=function(){var n=lo(qo);return n.radius=n.x,delete n.x,n.angle=n.y,delete n.y,n},po.reverse=vo,vo.reverse=po,Go.svg.area=function(){return zo(At)},Go.svg.area.radial=function(){var n=zo(qo);return n.radius=n.x,delete n.x,n.innerRadius=n.x0,delete n.x0,n.outerRadius=n.x1,delete n.x1,n.angle=n.y,delete n.y,n.startAngle=n.y0,delete n.y0,n.endAngle=n.y1,delete n.y1,n},Go.svg.chord=function(){function n(n,a){var c=t(this,i,n,a),s=t(this,o,n,a);return&quot;M&quot;+c.p0+r(c.r,c.p1,c.a1-c.a0)+(e(c,s)?u(c.r,c.p1,c.r,c.p0):u(c.r,c.p1,s.r,s.p0)+r(s.r,s.p1,s.a1-s.a0)+u(s.r,s.p1,c.r,c.p0))+&quot;Z&quot;}function t(n,t,e,r){var u=t.call(n,e,r),i=a.call(n,u,r),o=c.call(n,u,r)+ws,l=s.call(n,u,r)+ws;return{r:i,a0:o,a1:l,p0:[i*Math.cos(o),i*Math.sin(o)],p1:[i*Math.cos(l),i*Math.sin(l)]}}function e(n,t){return n.a0==t.a0&amp;&amp;n.a1==t.a1}function r(n,t,e){return&quot;A&quot;+n+&quot;,&quot;+n+&quot; 0 &quot;+ +(e&gt;Ca)+&quot;,1 &quot;+t}function u(n,t,e,r){return&quot;Q 0,0 &quot;+r}var i=mr,o=yr,a=Ro,c=co,s=so;return n.radius=function(t){return arguments.length?(a=Et(t),n):a},n.source=function(t){return arguments.length?(i=Et(t),n):i},n.target=function(t){return arguments.length?(o=Et(t),n):o},n.startAngle=function(t){return arguments.length?(c=Et(t),n):c},n.endAngle=function(t){return arguments.length?(s=Et(t),n):s},n},Go.svg.diagonal=function(){function n(n,u){var i=t.call(this,n,u),o=e.call(this,n,u),a=(i.y+o.y)/2,c=[i,{x:i.x,y:a},{x:o.x,y:a},o];return c=c.map(r),&quot;M&quot;+c[0]+&quot;C&quot;+c[1]+&quot; &quot;+c[2]+&quot; &quot;+c[3]}var t=mr,e=yr,r=Do;return n.source=function(e){return arguments.length?(t=Et(e),n):t},n.target=function(t){return arguments.length?(e=Et(t),n):e},n.projection=function(t){return arguments.length?(r=t,n):r},n},Go.svg.diagonal.radial=function(){var n=Go.svg.diagonal(),t=Do,e=n.projection;return n.projection=function(n){return arguments.length?e(Po(t=n)):t},n},Go.svg.symbol=function(){function n(n,r){return(Ns.get(t.call(this,n,r))||Ho)(e.call(this,n,r))}var t=jo,e=Uo;return n.type=function(e){return arguments.length?(t=Et(e),n):t},n.size=function(t){return arguments.length?(e=Et(t),n):e},n};var Ns=Go.map({circle:Ho,cross:function(n){var t=Math.sqrt(n/5)/2;return&quot;M&quot;+-3*t+&quot;,&quot;+-t+&quot;H&quot;+-t+&quot;V&quot;+-3*t+&quot;H&quot;+t+&quot;V&quot;+-t+&quot;H&quot;+3*t+&quot;V&quot;+t+&quot;H&quot;+t+&quot;V&quot;+3*t+&quot;H&quot;+-t+&quot;V&quot;+t+&quot;H&quot;+-3*t+&quot;Z&quot;},diamond:function(n){var t=Math.sqrt(n/(2*zs)),e=t*zs;return&quot;M0,&quot;+-t+&quot;L&quot;+e+&quot;,0&quot;+&quot; 0,&quot;+t+&quot; &quot;+-e+&quot;,0&quot;+&quot;Z&quot;},square:function(n){var t=Math.sqrt(n)/2;return&quot;M&quot;+-t+&quot;,&quot;+-t+&quot;L&quot;+t+&quot;,&quot;+-t+&quot; &quot;+t+&quot;,&quot;+t+&quot; &quot;+-t+&quot;,&quot;+t+&quot;Z&quot;},&quot;triangle-down&quot;:function(n){var t=Math.sqrt(n/qs),e=t*qs/2;return&quot;M0,&quot;+e+&quot;L&quot;+t+&quot;,&quot;+-e+&quot; &quot;+-t+&quot;,&quot;+-e+&quot;Z&quot;},&quot;triangle-up&quot;:function(n){var t=Math.sqrt(n/qs),e=t*qs/2;return&quot;M0,&quot;+-e+&quot;L&quot;+t+&quot;,&quot;+e+&quot; &quot;+-t+&quot;,&quot;+e+&quot;Z&quot;}});Go.svg.symbolTypes=Ns.keys();var Ls,Ts,qs=Math.sqrt(3),zs=Math.tan(30*za),Rs=[],Ds=0;Rs.call=_a.call,Rs.empty=_a.empty,Rs.node=_a.node,Rs.size=_a.size,Go.transition=function(n){return arguments.length?Ls?n.transition():n:Sa.transition()},Go.transition.prototype=Rs,Rs.select=function(n){var t,e,r,u=this.id,i=[];n=b(n);for(var o=-1,a=this.length;++o&lt;a;){i.push(t=[]);for(var c=this[o],s=-1,l=c.length;++s&lt;l;)(r=c[s])&amp;&amp;(e=n.call(r,r.__data__,s,o))?(&quot;__data__&quot;in r&amp;&amp;(e.__data__=r.__data__),Yo(e,s,u,r.__transition__[u]),t.push(e)):t.push(null)}return Fo(i,u)},Rs.selectAll=function(n){var t,e,r,u,i,o=this.id,a=[];n=w(n);for(var c=-1,s=this.length;++c&lt;s;)for(var l=this[c],f=-1,h=l.length;++f&lt;h;)if(r=l[f]){i=r.__transition__[o],e=n.call(r,r.__data__,f,c),a.push(t=[]);for(var g=-1,p=e.length;++g&lt;p;)(u=e[g])&amp;&amp;Yo(u,g,o,i),t.push(u)}return Fo(a,o)},Rs.filter=function(n){var t,e,r,u=[];&quot;function&quot;!=typeof n&amp;&amp;(n=R(n));for(var i=0,o=this.length;o&gt;i;i++){u.push(t=[]);for(var e=this[i],a=0,c=e.length;c&gt;a;a++)(r=e[a])&amp;&amp;n.call(r,r.__data__,a,i)&amp;&amp;t.push(r)}return Fo(u,this.id)},Rs.tween=function(n,t){var e=this.id;return arguments.length&lt;2?this.node().__transition__[e].tween.get(n):P(this,null==t?function(t){t.__transition__[e].tween.remove(n)}:function(r){r.__transition__[e].tween.set(n,t)})},Rs.attr=function(n,t){function e(){this.removeAttribute(a)}function r(){this.removeAttributeNS(a.space,a.local)}function u(n){return null==n?e:(n+=&quot;&quot;,function(){var t,e=this.getAttribute(a);return e!==n&amp;&amp;(t=o(e,n),function(n){this.setAttribute(a,t(n))})})}function i(n){return null==n?r:(n+=&quot;&quot;,function(){var t,e=this.getAttributeNS(a.space,a.local);return e!==n&amp;&amp;(t=o(e,n),function(n){this.setAttributeNS(a.space,a.local,t(n))})})}if(arguments.length&lt;2){for(t in n)this.attr(t,n[t]);return this}var o=&quot;transform&quot;==n?Hu:du,a=Go.ns.qualify(n);return Oo(this,&quot;attr.&quot;+n,t,a.local?i:u)},Rs.attrTween=function(n,t){function e(n,e){var r=t.call(this,n,e,this.getAttribute(u));return r&amp;&amp;function(n){this.setAttribute(u,r(n))}}function r(n,e){var r=t.call(this,n,e,this.getAttributeNS(u.space,u.local));return r&amp;&amp;function(n){this.setAttributeNS(u.space,u.local,r(n))}}var u=Go.ns.qualify(n);return this.tween(&quot;attr.&quot;+n,u.local?r:e)},Rs.style=function(n,t,e){function r(){this.style.removeProperty(n)}function u(t){return null==t?r:(t+=&quot;&quot;,function(){var r,u=ea.getComputedStyle(this,null).getPropertyValue(n);return u!==t&amp;&amp;(r=du(u,t),function(t){this.style.setProperty(n,r(t),e)})})}var i=arguments.length;if(3&gt;i){if(&quot;string&quot;!=typeof n){2&gt;i&amp;&amp;(t=&quot;&quot;);for(e in n)this.style(e,n[e],t);return this}e=&quot;&quot;}return Oo(this,&quot;style.&quot;+n,t,u)},Rs.styleTween=function(n,t,e){function r(r,u){var i=t.call(this,r,u,ea.getComputedStyle(this,null).getPropertyValue(n));return i&amp;&amp;function(t){this.style.setProperty(n,i(t),e)}}return arguments.length&lt;3&amp;&amp;(e=&quot;&quot;),this.tween(&quot;style.&quot;+n,r)},Rs.text=function(n){return Oo(this,&quot;text&quot;,n,Io)},Rs.remove=function(){return this.each(&quot;end.transition&quot;,function(){var n;this.__transition__.count&lt;2&amp;&amp;(n=this.parentNode)&amp;&amp;n.removeChild(this)})},Rs.ease=function(n){var t=this.id;return arguments.length&lt;1?this.node().__transition__[t].ease:(&quot;function&quot;!=typeof n&amp;&amp;(n=Go.ease.apply(Go,arguments)),P(this,function(e){e.__transition__[t].ease=n}))},Rs.delay=function(n){var t=this.id;return arguments.length&lt;1?this.node().__transition__[t].delay:P(this,&quot;function&quot;==typeof n?function(e,r,u){e.__transition__[t].delay=+n.call(e,e.__data__,r,u)}:(n=+n,function(e){e.__transition__[t].delay=n}))},Rs.duration=function(n){var t=this.id;return arguments.length&lt;1?this.node().__transition__[t].duration:P(this,&quot;function&quot;==typeof n?function(e,r,u){e.__transition__[t].duration=Math.max(1,n.call(e,e.__data__,r,u))}:(n=Math.max(1,n),function(e){e.__transition__[t].duration=n}))},Rs.each=function(n,t){var e=this.id;if(arguments.length&lt;2){var r=Ts,u=Ls;Ls=e,P(this,function(t,r,u){Ts=t.__transition__[e],n.call(t,t.__data__,r,u)}),Ts=r,Ls=u}else P(this,function(r){var u=r.__transition__[e];(u.event||(u.event=Go.dispatch(&quot;start&quot;,&quot;end&quot;))).on(n,t)});return this},Rs.transition=function(){for(var n,t,e,r,u=this.id,i=++Ds,o=[],a=0,c=this.length;c&gt;a;a++){o.push(n=[]);for(var t=this[a],s=0,l=t.length;l&gt;s;s++)(e=t[s])&amp;&amp;(r=Object.create(e.__transition__[u]),r.delay+=r.duration,Yo(e,s,i,r)),n.push(e)}return Fo(o,i)},Go.svg.axis=function(){function n(n){n.each(function(){var n,s=Go.select(this),l=this.__chart__||e,f=this.__chart__=e.copy(),h=null==c?f.ticks?f.ticks.apply(f,a):f.domain():c,g=null==t?f.tickFormat?f.tickFormat.apply(f,a):At:t,p=s.selectAll(&quot;.tick&quot;).data(h,f),v=p.enter().insert(&quot;g&quot;,&quot;.domain&quot;).attr(&quot;class&quot;,&quot;tick&quot;).style(&quot;opacity&quot;,Ta),d=Go.transition(p.exit()).style(&quot;opacity&quot;,Ta).remove(),m=Go.transition(p.order()).style(&quot;opacity&quot;,1),y=Hi(f),x=s.selectAll(&quot;.domain&quot;).data([0]),M=(x.enter().append(&quot;path&quot;).attr(&quot;class&quot;,&quot;domain&quot;),Go.transition(x));v.append(&quot;line&quot;),v.append(&quot;text&quot;);var _=v.select(&quot;line&quot;),b=m.select(&quot;line&quot;),w=p.select(&quot;text&quot;).text(g),S=v.select(&quot;text&quot;),k=m.select(&quot;text&quot;);switch(r){case&quot;bottom&quot;:n=Zo,_.attr(&quot;y2&quot;,u),S.attr(&quot;y&quot;,Math.max(u,0)+o),b.attr(&quot;x2&quot;,0).attr(&quot;y2&quot;,u),k.attr(&quot;x&quot;,0).attr(&quot;y&quot;,Math.max(u,0)+o),w.attr(&quot;dy&quot;,&quot;.71em&quot;).style(&quot;text-anchor&quot;,&quot;middle&quot;),M.attr(&quot;d&quot;,&quot;M&quot;+y[0]+&quot;,&quot;+i+&quot;V0H&quot;+y[1]+&quot;V&quot;+i);break;case&quot;top&quot;:n=Zo,_.attr(&quot;y2&quot;,-u),S.attr(&quot;y&quot;,-(Math.max(u,0)+o)),b.attr(&quot;x2&quot;,0).attr(&quot;y2&quot;,-u),k.attr(&quot;x&quot;,0).attr(&quot;y&quot;,-(Math.max(u,0)+o)),w.attr(&quot;dy&quot;,&quot;0em&quot;).style(&quot;text-anchor&quot;,&quot;middle&quot;),M.attr(&quot;d&quot;,&quot;M&quot;+y[0]+&quot;,&quot;+-i+&quot;V0H&quot;+y[1]+&quot;V&quot;+-i);break;case&quot;left&quot;:n=Vo,_.attr(&quot;x2&quot;,-u),S.attr(&quot;x&quot;,-(Math.max(u,0)+o)),b.attr(&quot;x2&quot;,-u).attr(&quot;y2&quot;,0),k.attr(&quot;x&quot;,-(Math.max(u,0)+o)).attr(&quot;y&quot;,0),w.attr(&quot;dy&quot;,&quot;.32em&quot;).style(&quot;text-anchor&quot;,&quot;end&quot;),M.attr(&quot;d&quot;,&quot;M&quot;+-i+&quot;,&quot;+y[0]+&quot;H0V&quot;+y[1]+&quot;H&quot;+-i);break;case&quot;right&quot;:n=Vo,_.attr(&quot;x2&quot;,u),S.attr(&quot;x&quot;,Math.max(u,0)+o),b.attr(&quot;x2&quot;,u).attr(&quot;y2&quot;,0),k.attr(&quot;x&quot;,Math.max(u,0)+o).attr(&quot;y&quot;,0),w.attr(&quot;dy&quot;,&quot;.32em&quot;).style(&quot;text-anchor&quot;,&quot;start&quot;),M.attr(&quot;d&quot;,&quot;M&quot;+i+&quot;,&quot;+y[0]+&quot;H0V&quot;+y[1]+&quot;H&quot;+i)}if(f.rangeBand){var E=f,A=E.rangeBand()/2;l=f=function(n){return E(n)+A}}else l.rangeBand?l=f:d.call(n,f);v.call(n,l),m.call(n,f)})}var t,e=Go.scale.linear(),r=Ps,u=6,i=6,o=3,a=[10],c=null;return n.scale=function(t){return arguments.length?(e=t,n):e},n.orient=function(t){return arguments.length?(r=t in Us?t+&quot;&quot;:Ps,n):r},n.ticks=function(){return arguments.length?(a=arguments,n):a},n.tickValues=function(t){return arguments.length?(c=t,n):c},n.tickFormat=function(e){return arguments.length?(t=e,n):t},n.tickSize=function(t){var e=arguments.length;return e?(u=+t,i=+arguments[e-1],n):u},n.innerTickSize=function(t){return arguments.length?(u=+t,n):u},n.outerTickSize=function(t){return arguments.length?(i=+t,n):i},n.tickPadding=function(t){return arguments.length?(o=+t,n):o},n.tickSubdivide=function(){return arguments.length&amp;&amp;n},n};var Ps=&quot;bottom&quot;,Us={top:1,right:1,bottom:1,left:1};Go.svg.brush=function(){function n(i){i.each(function(){var i=Go.select(this).style(&quot;pointer-events&quot;,&quot;all&quot;).style(&quot;-webkit-tap-highlight-color&quot;,&quot;rgba(0,0,0,0)&quot;).on(&quot;mousedown.brush&quot;,u).on(&quot;touchstart.brush&quot;,u),o=i.selectAll(&quot;.background&quot;).data([0]);o.enter().append(&quot;rect&quot;).attr(&quot;class&quot;,&quot;background&quot;).style(&quot;visibility&quot;,&quot;hidden&quot;).style(&quot;cursor&quot;,&quot;crosshair&quot;),i.selectAll(&quot;.extent&quot;).data([0]).enter().append(&quot;rect&quot;).attr(&quot;class&quot;,&quot;extent&quot;).style(&quot;cursor&quot;,&quot;move&quot;);var a=i.selectAll(&quot;.resize&quot;).data(p,At);a.exit().remove(),a.enter().append(&quot;g&quot;).attr(&quot;class&quot;,function(n){return&quot;resize &quot;+n}).style(&quot;cursor&quot;,function(n){return js[n]}).append(&quot;rect&quot;).attr(&quot;x&quot;,function(n){return/[ew]$/.test(n)?-3:null}).attr(&quot;y&quot;,function(n){return/^[ns]/.test(n)?-3:null}).attr(&quot;width&quot;,6).attr(&quot;height&quot;,6).style(&quot;visibility&quot;,&quot;hidden&quot;),a.style(&quot;display&quot;,n.empty()?&quot;none&quot;:null);var l,f=Go.transition(i),h=Go.transition(o);c&amp;&amp;(l=Hi(c),h.attr(&quot;x&quot;,l[0]).attr(&quot;width&quot;,l[1]-l[0]),e(f)),s&amp;&amp;(l=Hi(s),h.attr(&quot;y&quot;,l[0]).attr(&quot;height&quot;,l[1]-l[0]),r(f)),t(f)})}function t(n){n.selectAll(&quot;.resize&quot;).attr(&quot;transform&quot;,function(n){return&quot;translate(&quot;+l[+/e$/.test(n)]+&quot;,&quot;+f[+/^s/.test(n)]+&quot;)&quot;})}function e(n){n.select(&quot;.extent&quot;).attr(&quot;x&quot;,l[0]),n.selectAll(&quot;.extent,.n&gt;rect,.s&gt;rect&quot;).attr(&quot;width&quot;,l[1]-l[0])}function r(n){n.select(&quot;.extent&quot;).attr(&quot;y&quot;,f[0]),n.selectAll(&quot;.extent,.e&gt;rect,.w&gt;rect&quot;).attr(&quot;height&quot;,f[1]-f[0])}function u(){function u(){32==Go.event.keyCode&amp;&amp;(C||(x=null,L[0]-=l[1],L[1]-=f[1],C=2),y())}function p(){32==Go.event.keyCode&amp;&amp;2==C&amp;&amp;(L[0]+=l[1],L[1]+=f[1],C=0,y())}function v(){var n=Go.mouse(_),u=!1;M&amp;&amp;(n[0]+=M[0],n[1]+=M[1]),C||(Go.event.altKey?(x||(x=[(l[0]+l[1])/2,(f[0]+f[1])/2]),L[0]=l[+(n[0]&lt;x[0])],L[1]=f[+(n[1]&lt;x[1])]):x=null),E&amp;&amp;d(n,c,0)&amp;&amp;(e(S),u=!0),A&amp;&amp;d(n,s,1)&amp;&amp;(r(S),u=!0),u&amp;&amp;(t(S),w({type:&quot;brush&quot;,mode:C?&quot;move&quot;:&quot;resize&quot;}))}function d(n,t,e){var r,u,a=Hi(t),c=a[0],s=a[1],p=L[e],v=e?f:l,d=v[1]-v[0];return C&amp;&amp;(c-=p,s-=d+p),r=(e?g:h)?Math.max(c,Math.min(s,n[e])):n[e],C?u=(r+=p)+d:(x&amp;&amp;(p=Math.max(c,Math.min(s,2*x[e]-r))),r&gt;p?(u=r,r=p):u=p),v[0]!=r||v[1]!=u?(e?o=null:i=null,v[0]=r,v[1]=u,!0):void 0}function m(){v(),S.style(&quot;pointer-events&quot;,&quot;all&quot;).selectAll(&quot;.resize&quot;).style(&quot;display&quot;,n.empty()?&quot;none&quot;:null),Go.select(&quot;body&quot;).style(&quot;cursor&quot;,null),T.on(&quot;mousemove.brush&quot;,null).on(&quot;mouseup.brush&quot;,null).on(&quot;touchmove.brush&quot;,null).on(&quot;touchend.brush&quot;,null).on(&quot;keydown.brush&quot;,null).on(&quot;keyup.brush&quot;,null),N(),w({type:&quot;brushend&quot;})}var x,M,_=this,b=Go.select(Go.event.target),w=a.of(_,arguments),S=Go.select(_),k=b.datum(),E=!/^(n|s)$/.test(k)&amp;&amp;c,A=!/^(e|w)$/.test(k)&amp;&amp;s,C=b.classed(&quot;extent&quot;),N=Y(),L=Go.mouse(_),T=Go.select(ea).on(&quot;keydown.brush&quot;,u).on(&quot;keyup.brush&quot;,p);if(Go.event.changedTouches?T.on(&quot;touchmove.brush&quot;,v).on(&quot;touchend.brush&quot;,m):T.on(&quot;mousemove.brush&quot;,v).on(&quot;mouseup.brush&quot;,m),S.interrupt().selectAll(&quot;*&quot;).interrupt(),C)L[0]=l[0]-L[0],L[1]=f[0]-L[1];else if(k){var q=+/w$/.test(k),z=+/^n/.test(k);M=[l[1-q]-L[0],f[1-z]-L[1]],L[0]=l[q],L[1]=f[z]}else Go.event.altKey&amp;&amp;(x=L.slice());S.style(&quot;pointer-events&quot;,&quot;none&quot;).selectAll(&quot;.resize&quot;).style(&quot;display&quot;,null),Go.select(&quot;body&quot;).style(&quot;cursor&quot;,b.style(&quot;cursor&quot;)),w({type:&quot;brushstart&quot;}),v()}var i,o,a=M(n,&quot;brushstart&quot;,&quot;brush&quot;,&quot;brushend&quot;),c=null,s=null,l=[0,0],f=[0,0],h=!0,g=!0,p=Hs[0];return n.event=function(n){n.each(function(){var n=a.of(this,arguments),t={x:l,y:f,i:i,j:o},e=this.__chart__||t;this.__chart__=t,Ls?Go.select(this).transition().each(&quot;start.brush&quot;,function(){i=e.i,o=e.j,l=e.x,f=e.y,n({type:&quot;brushstart&quot;})}).tween(&quot;brush:brush&quot;,function(){var e=mu(l,t.x),r=mu(f,t.y);return i=o=null,function(u){l=t.x=e(u),f=t.y=r(u),n({type:&quot;brush&quot;,mode:&quot;resize&quot;})}}).each(&quot;end.brush&quot;,function(){i=t.i,o=t.j,n({type:&quot;brush&quot;,mode:&quot;resize&quot;}),n({type:&quot;brushend&quot;})}):(n({type:&quot;brushstart&quot;}),n({type:&quot;brush&quot;,mode:&quot;resize&quot;}),n({type:&quot;brushend&quot;}))})},n.x=function(t){return arguments.length?(c=t,p=Hs[!c&lt;&lt;1|!s],n):c},n.y=function(t){return arguments.length?(s=t,p=Hs[!c&lt;&lt;1|!s],n):s},n.clamp=function(t){return arguments.length?(c&amp;&amp;s?(h=!!t[0],g=!!t[1]):c?h=!!t:s&amp;&amp;(g=!!t),n):c&amp;&amp;s?[h,g]:c?h:s?g:null},n.extent=function(t){var e,r,u,a,h;return arguments.length?(c&amp;&amp;(e=t[0],r=t[1],s&amp;&amp;(e=e[0],r=r[0]),i=[e,r],c.invert&amp;&amp;(e=c(e),r=c(r)),e&gt;r&amp;&amp;(h=e,e=r,r=h),(e!=l[0]||r!=l[1])&amp;&amp;(l=[e,r])),s&amp;&amp;(u=t[0],a=t[1],c&amp;&amp;(u=u[1],a=a[1]),o=[u,a],s.invert&amp;&amp;(u=s(u),a=s(a)),u&gt;a&amp;&amp;(h=u,u=a,a=h),(u!=f[0]||a!=f[1])&amp;&amp;(f=[u,a])),n):(c&amp;&amp;(i?(e=i[0],r=i[1]):(e=l[0],r=l[1],c.invert&amp;&amp;(e=c.invert(e),r=c.invert(r)),e&gt;r&amp;&amp;(h=e,e=r,r=h))),s&amp;&amp;(o?(u=o[0],a=o[1]):(u=f[0],a=f[1],s.invert&amp;&amp;(u=s.invert(u),a=s.invert(a)),u&gt;a&amp;&amp;(h=u,u=a,a=h))),c&amp;&amp;s?[[e,u],[r,a]]:c?[e,r]:s&amp;&amp;[u,a])},n.clear=function(){return n.empty()||(l=[0,0],f=[0,0],i=o=null),n},n.empty=function(){return!!c&amp;&amp;l[0]==l[1]||!!s&amp;&amp;f[0]==f[1]},Go.rebind(n,a,&quot;on&quot;)};var js={n:&quot;ns-resize&quot;,e:&quot;ew-resize&quot;,s:&quot;ns-resize&quot;,w:&quot;ew-resize&quot;,nw:&quot;nwse-resize&quot;,ne:&quot;nesw-resize&quot;,se:&quot;nwse-resize&quot;,sw:&quot;nesw-resize&quot;},Hs=[[&quot;n&quot;,&quot;e&quot;,&quot;s&quot;,&quot;w&quot;,&quot;nw&quot;,&quot;ne&quot;,&quot;se&quot;,&quot;sw&quot;],[&quot;e&quot;,&quot;w&quot;],[&quot;n&quot;,&quot;s&quot;],[]],Fs=ic.format=fc.timeFormat,Os=Fs.utc,Is=Os(&quot;%Y-%m-%dT%H:%M:%S.%LZ&quot;);Fs.iso=Date.prototype.toISOString&amp;&amp;+new Date(&quot;2000-01-01T00:00:00.000Z&quot;)?$o:Is,$o.parse=function(n){var t=new Date(n);return isNaN(t)?null:t},$o.toString=Is.toString,ic.second=Ht(function(n){return new oc(1e3*Math.floor(n/1e3))},function(n,t){n.setTime(n.getTime()+1e3*Math.floor(t))},function(n){return n.getSeconds()}),ic.seconds=ic.second.range,ic.seconds.utc=ic.second.utc.range,ic.minute=Ht(function(n){return new oc(6e4*Math.floor(n/6e4))},function(n,t){n.setTime(n.getTime()+6e4*Math.floor(t))},function(n){return n.getMinutes()}),ic.minutes=ic.minute.range,ic.minutes.utc=ic.minute.utc.range,ic.hour=Ht(function(n){var t=n.getTimezoneOffset()/60;return new oc(36e5*(Math.floor(n/36e5-t)+t))},function(n,t){n.setTime(n.getTime()+36e5*Math.floor(t))},function(n){return n.getHours()}),ic.hours=ic.hour.range,ic.hours.utc=ic.hour.utc.range,ic.month=Ht(function(n){return n=ic.day(n),n.setDate(1),n},function(n,t){n.setMonth(n.getMonth()+t)},function(n){return n.getMonth()}),ic.months=ic.month.range,ic.months.utc=ic.month.utc.range;var Ys=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Zs=[[ic.second,1],[ic.second,5],[ic.second,15],[ic.second,30],[ic.minute,1],[ic.minute,5],[ic.minute,15],[ic.minute,30],[ic.hour,1],[ic.hour,3],[ic.hour,6],[ic.hour,12],[ic.day,1],[ic.day,2],[ic.week,1],[ic.month,1],[ic.month,3],[ic.year,1]],Vs=Fs.multi([[&quot;.%L&quot;,function(n){return n.getMilliseconds()}],[&quot;:%S&quot;,function(n){return n.getSeconds()}],[&quot;%I:%M&quot;,function(n){return n.getMinutes()}],[&quot;%I %p&quot;,function(n){return n.getHours()}],[&quot;%a %d&quot;,function(n){return n.getDay()&amp;&amp;1!=n.getDate()}],[&quot;%b %d&quot;,function(n){return 1!=n.getDate()}],[&quot;%B&quot;,function(n){return n.getMonth()}],[&quot;%Y&quot;,Ae]]),$s={range:function(n,t,e){return Go.range(Math.ceil(n/e)*e,+t,e).map(Bo)},floor:At,ceil:At};Zs.year=ic.year,ic.scale=function(){return Xo(Go.scale.linear(),Zs,Vs)};var Xs=Zs.map(function(n){return[n[0].utc,n[1]]}),Bs=Os.multi([[&quot;.%L&quot;,function(n){return n.getUTCMilliseconds()}],[&quot;:%S&quot;,function(n){return n.getUTCSeconds()}],[&quot;%I:%M&quot;,function(n){return n.getUTCMinutes()}],[&quot;%I %p&quot;,function(n){return n.getUTCHours()}],[&quot;%a %d&quot;,function(n){return n.getUTCDay()&amp;&amp;1!=n.getUTCDate()}],[&quot;%b %d&quot;,function(n){return 1!=n.getUTCDate()}],[&quot;%B&quot;,function(n){return n.getUTCMonth()}],[&quot;%Y&quot;,Ae]]);Xs.year=ic.year.utc,ic.scale.utc=function(){return Xo(Go.scale.linear(),Xs,Bs)},Go.text=Ct(function(n){return n.responseText}),Go.json=function(n,t){return Nt(n,&quot;application/json&quot;,Jo,t)},Go.html=function(n,t){return Nt(n,&quot;text/html&quot;,Wo,t)},Go.xml=Ct(function(n){return n.responseXML}),&quot;function&quot;==typeof define&amp;&amp;define.amd?define(Go):&quot;object&quot;==typeof module&amp;&amp;module.exports?module.exports=Go:this.d3=Go}();
</pre>
</div>
<div title="D4 Group Tables" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404192013" modified="201404210328" changecount="43" content-type="text/x-tiddlywiki">
<pre>See [[D8 Group Tables]].</pre>
</div>
<div title="D8 Group Images" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404210123" modified="201404210534" tags="excludeTimeline excludeList Images" changecount="4" content-type="">
<pre>&lt;part D8_0&gt;
|sortable2|k
|!|!|h
|&gt;|!Standard Plots|h
| [img[CritPhen\Models\D8\Plots\2d D8_0, M.png]] | [img[CritPhen\Models\D8\Plots\2d D8_0, E.png]] |
| [img[CritPhen\Models\D8\Plots\2d D8_0, X.png]] | [img[CritPhen\Models\D8\Plots\2d D8_0, C.png]] |
|&gt;|!Log-Log Plots|h
| [img[CritPhen\Models\D8\Plots\2d D8_0, M_ln.png]] | [img[CritPhen\Models\D8\Plots\2d D8_0, C_ln.png]] |
| [img[CritPhen\Models\D8\Plots\2d D8_0, X_ln.png]] |
|&gt;|!Cumulants|h
|[img[CritPhen\Models\D8\Plots\2d D8_0, M4.png]] | [img[CritPhen\Models\D8\Plots\2d D8_0, E4.png]] |
|!|!|h
&lt;/part&gt;
&lt;part D8_2&gt;
|sortable2|k
|!|!|h
|&gt;|!Standard Plots|h
| [img[CritPhen\Models\D8\Plots\2d D8_2, M.png]] | [img[CritPhen\Models\D8\Plots\2d D8_2, E.png]] |
| [img[CritPhen\Models\D8\Plots\2d D8_2, X.png]] | [img[CritPhen\Models\D8\Plots\2d D8_2, C.png]] |
|&gt;|!Log-Log Plots|h
| [img[CritPhen\Models\D8\Plots\2d D8_2, M_ln.png]] | [img[CritPhen\Models\D8\Plots\2d D8_2, C_ln.png]] |
| [img[CritPhen\Models\D8\Plots\2d D8_2, X_ln.png]] |
|&gt;|!Cumulants|h
|[img[CritPhen\Models\D8\Plots\2d D8_2, M4.png]] | [img[CritPhen\Models\D8\Plots\2d D8_2, E4.png]] |
|!|!|h
&lt;/part&gt;</pre>
</div>
<div title="D8 Group Tables" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404210327" modified="201404290806" tags="excludeTimeline FixMe excludeLists" changecount="11" content-type="text/x-tiddlywiki">
<pre>@@color:red; THIS SLIDE NEEDS FIXING.@@

!!The Dihedral Group Matrix
|sortable2|k
|[img(340px+,)[CritPhen\Models\D8\D8 Group.png]]|[img(340px+,)[CritPhen\Models\D8\D8 Dist.png]]|
*Group Relations: $a^4 = b^2 = e,\; ba = a^{-1}b.$ 
*The element $a$ is termed the rotation or the generator of the cyclic piece, and $b$ is termed the reflection.
*$D_4$ is also commonly referred to as $D_8$.

!!Site Occupancy
|sortable2|k
|[img[CritPhen\Models\D8\2d D8 bins_1258.png]]|[img[CritPhen\Models\D8\2d D8 bins_3467.png]]|
*Stable Ground Sites: $1\; {\small (50\%)}, 3\; {\small (50\%)}$.
*Complementary Sites: $1\Leftrightarrow 3, 2\Leftrightarrow 4, 5\Leftrightarrow 7, 6\Leftrightarrow 8.$

!!Simulation Results
&lt;&lt;tabs D8Tables 
&quot;bin 1&quot; &quot;bin 1&quot; [[D8 Group Images/D8_0]]
&quot;bin 3&quot; &quot;bin 3&quot; [[D8 Group Images/D8_2]]
&quot;D8 vs. Q8&quot; &quot;D8 vs. Q8&quot; [[Misc Group Images/Q8_0vD8_0]]
&quot;D8 vs. H3&quot; &quot;D8 vs. H3&quot; [[Misc Group Images/D8_0vH3_0]]
&gt;&gt;</pre>
</div>
<div title="DC3.LightBox" modifier="Christopher Wilson" created="201404100418" tags="systemConfig excludeTimeline" changecount="2">
<pre>/***
|''Name:''|~DC3.LightBox|
|''Description:''|LightBox support library|
|''Date:''|Dec 25, 2006|
|''Source:''|http://solo.dc3.com/tw/#LightBoxPlugin|
|''Author:''|Bob Denny ~DC-3 Dreams, SP|
|''License:''|[[Creative Commons Attribution-ShareAlike 2.5 License|http://creativecommons.org/licenses/by-sa/2.5/]]|
|''Version:''|1.0.1|
|''~CoreVersion:''|2.1.x|
|''Browser:''|Firefox 1.5/2.0; Internet Explorer 6.0/7.0; Safari|
|''Require:''|LightBoxCSS (see below), support HTML in MarkupPreHead (see below), access to icon images in subdir ''im'' (showAlert() only)|
!Description
This plugin implements a lightbox widget for ~TiddlyWiki. Via Javascript, you can display any HTML div in the lightbox, or use &quot;canned&quot; divs for displaying HTML message in a box or an alert with icon. The lightbox is closed by either clicking the X-icon or anywhere outside the lightbox. Only one lightbox can be active at a time. See the usage section below.
!!Usage
This plugin is a __library__, not a macro. Thus, it must be tagged {{{systemConfig}}}, but it does not support macro invocation. It is callable only from Javascript so the [[InlineJavascriptPlugin|http://www.tiddlytools.com/#InlineJavascriptPlugin]] is a virtual necessity!
|!Usage|!Sample Javascript|
|Display HTML message|{{{DC3.LightBox.showContent(&quot;Some &lt;i&gt;message&lt;/i&gt;&quot;);}}}|
|Display alert|{{{DC3.LightBox.showAlert(&quot;ok&quot;, &quot;All is well&quot;);}}}|
|Display any DIV in a lightbox|{{{DC3.LightBox.showBox(&quot;myLightBox&quot;);}}}|
|Close current lightbox|{{{DC3.LightBox.hideBox()}}}|
*The frame for the showContent() and showAlert() methods should expand to enclose text, but this happens only on IE and not FireFox. To be safe, just keep your messages short and use showBox() and your own HTML div for &quot;big&quot; messages etc.
*The first parameter to showAlert() is the icon name. This is simply translated to {{{im/icon.png}}}. The standard icon image files (below) are used with icon strings of &quot;error, &quot;info&quot;, &quot;ok&quot;, &quot;question&quot;, and &quot;warning&quot;. 
*The generalized showBox() method can be used to display images, media players, whatever you want! Just make up the HTML div, give it an id, then pass that ID to showBox().
!!Advanced Usage - onClose
All three of the above methods support an optional parameter onClose, supplied as the last parameter in a call. It must evaluate to a function which is called (with no parameters) when the lightbox is about to close. If the onClose() function returns false, the lightbox will not be closed. For example 
{{{
DC3.LightBox.showAlert(&quot;warning&quot;, &quot;Something &lt;em&gt;bad&lt;/em&gt; is about to happen&quot;, soundBuzzer);
}}}
!Installation
#Paste this entire tiddler into a tiddler called DC3.LightBox and tag it {{{systemConfig}}}.
#Paste the Required CSS (below) into a tiddler called LightBoxCSS and tag it {{{systemContent}}}.
#Paste the content for MarkupPreHead (below) into MarkupPreHead.
#Put the image files (below) into a subfolder ''im'' relative to the location of the TiddlyWiki. 
!!!Required CSS
Paste into a tiddler called LightBoxCSS.
{{{
#lightBoxOverlay {
    position:absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 90;   
    background-color: #000;
    -moz-opacity: 0.6;
    opacity: .60;
    filter: alpha(opacity=60);
}
#lightBoxOverlay[id]{ 
    position: fixed;
}

div.lightBox {
    background: #2d2d2d;
    color: #fff;
    border: 2px solid #eee;
}

img.lightBoxClose {
    position: absolute;
    top: -5px;
    right: -5px;
    margin: 0px;
    cursor: pointer;
}

div.lightBoxAlert {
    width: 300px;
    height: 64px;
    background: #2d2d2d;
    color: #fff;
    padding: 10px;
    border: 2px solid #eee;
}

div.lightBoxAlertIcon {
	position: absolute;
	top: 8px;
	left: 8px;
	width: 48px;
	height: 48px;
}

div.lightBoxAlertMessage {
	margin-left: 56px;
	margin-top: 16px;
}
}}}
!!!Content for MarkupPreHead
{{{
&lt;!-- LightBox translucent overlay --&gt;
&lt;div id=&quot;lightBoxOverlay&quot; onclick=&quot;DC3.LightBox.hideBox()&quot; style=&quot;display:none&quot;&gt;&lt;/div&gt;
&lt;!-- General use simple LightBox --&gt;
&lt;div class=&quot;lightBox&quot; id=&quot;lightBox&quot; style=&quot;display:none&quot;&gt;
	&lt;img class=&quot;lightBoxClose&quot; src=&quot;im/close.gif&quot; onclick=&quot;DC3.LightBox.hideBox()&quot; alt=&quot;Close&quot; title=&quot;Close this window&quot; /&gt;
	&lt;div id=&quot;lightBoxContent&quot;&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;!-- General use Alert LightBox --&gt;
&lt;div class=&quot;lightBoxAlert&quot; id=&quot;lightBoxAlert&quot; style=&quot;display:none&quot;&gt;
	&lt;img class=&quot;lightBoxClose&quot; src=&quot;im/close.gif&quot; onclick=&quot;DC3.LightBox.hideBox()&quot; alt=&quot;Close&quot; title=&quot;Close this window&quot; /&gt;
	&lt;div class=&quot;lightBoxAlertIcon&quot;&gt;&lt;img id=&quot;lightBoxAlertIcon&quot; src=&quot;runtime&quot; alt=&quot;runtime&quot; title=&quot;runtime&quot;&gt;&lt;/div&gt;
	&lt;div class=&quot;lightBoxAlertMessage&quot; id=&quot;lightBoxAlertMessage&quot;&gt;runtime&lt;/div&gt;
&lt;/div&gt;
&lt;!-- End of LightBox --&gt;
}}}
!!!Images (close box and alert icons)
These must be in a subfolder ''im'' below the ~TiddlyWiki. You can get the images by right clicking on the links and //save target/link//, or right clicking on the images and //save image//. @@Note: The images below will display ugly in IE6, but they will display nice (with transparency) in the lightbox alerts, owing to the use of the DXFilters for transparency in the code.@@
|[[close.gif|im/close.gif]]|[img[im/close.gif]]|[[error.png|im/error.png]]|[img[im/error.png]]|
|[[info.png|im/info.png]]|[img[im/info.png]]|[[ok.png|im/ok.png]]|[img[im/ok.png]]|
|[[question.png|im/question.png]]|[img[im/question.png]]|[[warning.png|im/warning.png]]|[img[im/warning.png]]|
!!Credits
This TiddlyWiki library and CSS is an amalgamation of the techniques and code described in the following: 
* [[Original LightBox|http://www.huddletogether.com/projects/lightbox/]] by Lokesh Dhakar
* [[Lightweight LightBox|http://www.pjhyett.com/posts/190-the-lightbox-effect-without-lightbox]] that can show any DIV by PJ Hyett
* [[Better Modal Windows with LightBox|http://blog.feedmarker.com/2006/02/12/how-to-make-better-modal-windows-with-lightbox/]] by Bruno
Bruno's CSS for the overlay is much better than the first two, it is independent of any PNG image(s) and does not have CSS quirk-hacks for IE, nor does it use IE's DXFilters for PNG transparency. Of course for IE6, the DXFilters are used in the Javascript!
!!Revision History
&lt;&lt;&lt;
''2006.12.02 [1.0.1]'' Initial creation
''2006.12.03 [1.0.1]'' hideBox() no longer takes //id// just closes currently open box. Needed for overlay click/close.
''2006.12.03 [1.0.1]'' Add support for special Alert type LightBox with switchable icon. Hack IE for alpha transparency. See inline comments. Add showContent(html), showAlert(icon, message)
''2006.12.04 [1.0.1]'' Ignore show calls if box is already displayed. Optional callback for hideBox(), can prevent hiding. Allows modal box to be set up by caller.
''2006.12.25 [1.0.1]'' Documentation and installation instructions
&lt;&lt;&lt;
!!Code
***/
//{{{

// Initialize style sheet from tiddler
refreshStyles(&quot;LightBoxCSS&quot;);

if (!window.DC3) window.DC3 = {};
window.DC3.LightBox = 
{
	//
	//Internal proterties
	//
	_curBox: null,						// [sentinel]
	_onClose: null,						// [sentinel]
	_alertImgDiv: null,					// [sentinel]
	_alertImgHTML: null,				// [sentinel]
	
	//
	// Public interface
	//
	showContent: function(content, onClose) {							// Uses generic LightBox in MarkupPreBody
		if(this._curBox) return;										// Ignore if box already showing (typ.)
		document.getElementById(&quot;lightBoxContent&quot;).innerHTML = content;
		this.showBox(&quot;lightBox&quot;, onClose);
	},
	
	showAlert: function(icon, message, onClose) {						// Uses standard alert LightBox in MarkupPreBody
		if(this._curBox) return;
		var icoElem = document.getElementById(&quot;lightBoxAlertIcon&quot;);
		icoElem.src = &quot;im/&quot; + icon + &quot;.png&quot;;							// Requires icon.png (48 x 48)
		icoElem.title = icon;
		icoElem.alt = icon;
		document.getElementById(&quot;lightBoxAlertMessage&quot;).innerHTML = message;
		DC3.LightBox.showBox(&quot;lightBoxAlert&quot;, onClose);
	},
	
	showBox: function(id, onClose) 
	{
		if(this._curBox) return;
		this._onClose = onClose;										// If valid, call this in hideBox. See comments there!
		//
		// Surprise! In IE, the height:100% in the #overlay CSS definition does
		// not honor the z-order, and calculates the height to be the top margin!
		// So, for IE, I have added this imperfect hack which ,forces the overlay
		// size to the scroll size. This causes funny scrollbar behavior, but the
		// alternatives I tried were really complex. 
		//
		// Surprise #2! IE6 doesn't support alpha transparency in PNG images, and 
		// I use same for the icons in the LightBox Alert. Another hack needed.
		// We can't just change the DIV from containing an IMG tag to using the
		// bloody MS AlphaImageLoader, we also have to save the original IMG tag
		// because the alert is multi-use: the image to be shown can be changed 
		// dynamically. When closing the Lightbox, we restore the original inner
		// IMG tag and clear the filter style. On showing the box, we grab the path
		// to the image file then zap the IMG tag, using the image file path in
		// the filter/AlphaImageLoader. Egad!!!
		//
		var ovly = document.getElementById('lightBoxOverlay');
		if(config.browser.isIE) {
			var h1 = document.documentElement.scrollHeight;
			var h2 = document.documentElement.offsetHeight;
			ovly.style.height = Math.max(h1, h2);
			ovly.style.width = document.documentElement.scrollWidth;
			// Change icon div for IE proprietary
			var alertDivs = document.getElementById(id).getElementsByTagName(&quot;div&quot;);
			this._alertImgDiv = null;
			for(var i in alertDivs) {
				if(alertDivs[i].className &amp;&amp; alertDivs[i].className == &quot;lightBoxAlertIcon&quot;) {
					this._alertImgDiv = alertDivs[i];
					break;
				}
			}
			if(this._alertImgDiv) {
				var imgFile = this._alertImgDiv.firstChild.src;
				this._alertImgHTML = this._alertImgDiv.innerHTML;		// Saved to allow dynamic change of image file
				this._alertImgDiv.innerHTML = &quot;&quot;;
				this._alertImgDiv.style.filter = &quot;progid:DXImageTransform.Microsoft.AlphaImageLoader(src=\&quot;&quot; + imgFile + &quot;\&quot;, sizingMethod=\&quot;scale\&quot;)&quot;;
			}
		}
	    ovly.style.display = 'block';
	    this._center(id);
	    this._curBox = id;
	    return false;
	},
	
	hideBox: function()
	{
		if(!this._curBox) return;
		if(this._onClose &amp;&amp; this._onClose() === false)					// If onClose() returns false, refuse to close
			return false;
	    document.getElementById(this._curBox).style.display = 'none';
	    document.getElementById('lightBoxOverlay').style.display = 'none';
	    this._curBox = null;											// Allow show calls once again
		// Restore original non-IE image. Code may dynamically change image file!
		if(this._alertImgDiv) {
			this._alertImgDiv.innerHTML = this._alertImgHTML;
			this._alertImgDiv.style.filter = &quot;&quot;;
		}
	    return false;
	},
	
	//
	// Internal methods
	//
	_getDimensions: function(elem)		// Lifted from Prototype and made independent
	{
		if(elem.style.display != 'none')
		  return { width: elem.offsetWidth, height: elem.offsetHeight};
		
		// All *Width and *Height properties give 0 on elements with display none,
		// so enable the elem temporarily
		var els = elem.style;
		var origVis = els.visibility;
		var origPos = els.position;
		els.visibility = 'hidden';
		els.position = 'absolute';
		els.display = '';
		var origW = elem.clientWidth;
		var origH = elem.clientHeight;
		els.display = 'none';
		els.position = origPos;
		els.visibility = origVis;
		return {width: origW, height: origH};
	},
	
	//
	// This is rather big. I'll have to look at more elegant way(s)
	// of doing this... some day! :-)
	//
	_center: function(elem)
	{
	    try{
	        elem = document.getElementById(elem);
	    }catch(e){
	        return;
	    }
	
	    var my_width  = 0;
	    var my_height = 0;
	
	    if ( typeof( window.innerWidth ) == 'number' ){
	        my_width  = window.innerWidth;
	        my_height = window.innerHeight;
	    } else if ( document.documentElement &amp;&amp; 
	             ( document.documentElement.clientWidth ||
	               document.documentElement.clientHeight ) ){
	        my_width  = document.documentElement.clientWidth;
	        my_height = document.documentElement.clientHeight;
	    }
	    else if ( document.body &amp;&amp;
	            ( document.body.clientWidth || document.body.clientHeight ) ){
	        my_width  = document.body.clientWidth;
	        my_height = document.body.clientHeight;
	    }
	
	    elem.style.position = 'absolute';
	    elem.style.zIndex   = 99;
	
	    var scrollY = 0;
	
	    if ( document.documentElement &amp;&amp; document.documentElement.scrollTop ){
	        scrollY = document.documentElement.scrollTop;
	    }else if ( document.body &amp;&amp; document.body.scrollTop ){
	        scrollY = document.body.scrollTop;
	    }else if ( window.pageYOffset ){
	        scrollY = window.pageYOffset;
	    }else if ( window.scrollY ){
	        scrollY = window.scrollY;
	    }
	
	    var elementDimensions = this._getDimensions(elem);
	
	    var setX = ( my_width  - elementDimensions.width  ) / 2;
	    var setY = ( my_height - elementDimensions.height ) / 2 + scrollY;
	
	    setX = ( setX &lt; 0 ) ? 0 : setX;
	    setY = ( setY &lt; 0 ) ? 0 : setY;
	
	    elem.style.left = setX + &quot;px&quot;;
	    elem.style.top  = setY + &quot;px&quot;;
	
	    elem.style.display  = 'block';
	}
};
//}}}
</pre>
</div>
<div title="Debye Length" modifier="Christopher Wilson" created="201305310239" modified="201302221000" tags="[[Plasma Theory]]" changecount="2" content-type="">
<pre>The Debye length is the distance within which [[collective interactions|Collective Behavior]] within a plasma occur, and is defined as 
$$ \lambda_D \equiv \left(\frac{\epsilon\,k_B\,T}{\sum_{j=1}^N n^0_j\,q_j^2}\right)^{1/2}$$
where $n^0_j $ is the mean concentration of charges of species $j = 1,2,\dots,N$. 
+++!!!![Show Motivating Derivation]&gt;
Consider a [[quasineutral gas|Quasineutrality]] of charged particles.  We begin by calculating the potential $\Phi$ around a chosen test particle.  Assuming electrostatic conditions, we have $\vec{E} = -\vec{\nabla}\Phi$.  Then, Gauss's law gives us $-\nabla^2 \Phi = \frac{\rho}{\epsilon}$, where $\rho$ is the charge density of the gas.  The charge density is due to:
*the stationary test charge $q_{t}\,\delta(\vec{x} - \vec{x}_t)$.
*the polarization charge $\delta\rho$, due to the electric potential $\Phi$ in the plasma.
Through a thermodynamic treatment, the charge concentration $n(\vec{x})$ is described by the Boltzman Distribution,
$$n(\vec{x}) = n^0 \exp\left(-\frac{q\,\Phi(x)}{k_B\,T}\right)$$
where $n^0$ is the mean charge concentration.  By taking a Taylor Expansion of the above, we obtain
$$n = n^0\left(1 - \frac{q\,\Phi}{k_B\,T} + \cdots\right)$$
Then, for $N$ different species of charged particles, we may write
$$ \delta \rho = \sum_j n_j\,q_j = \sum_j n^0_j q_j \left(1 - \frac{q\,\Phi}{k_B\,T} + \cdots\right)$$
Now, to satisfy the condition of quasineutrality, we require that $\sum_j n^0_j\,q_j = 0$.  Therefore, to a first order expansion, the polarization charge may be written as
$$\delta\rho = -\sum_j \frac{n^0_j\,q_j^2 \Phi}{k_B\,T_j}$$
Then, since we noted that $\rho = q_{t} + \delta\rho$, Gauss's law becomes
$$-\nabla^2\Phi = \frac{q_{t}}{\epsilon}\delta(\vec{x}-\vec{x}_t) - \frac{1}{\epsilon}\sum_j\frac{n^0_j\,q_j^2 \Phi}{k_B\,T_j}$$
It is from this expression that the Debye Length is defined as
$$\frac{1}{\lambda_D^2} \equiv \left(\frac{\sum_{j=1}^N n^0_j\,q_j^2}{\epsilon\,k_B\,T}\right)$$
This allows us to write
$$\left(\nabla^2 - \frac{1}{\lambda_D^2}\right)\Phi = -\frac{1}{\epsilon}q_{t}\delta(\vec{x}-\vec{x}_t)$$
Solving this equation yields the potential as&lt;&lt;bibtex chen1984introduction&gt;&gt;
$$\Phi(\vec{x}) = \frac{q_{t}\,e^{\,X/\lambda_D}}{4\pi\epsilon X};\qquad X\equiv |\vec{x}-\vec{x}_0|$$

===</pre>
</div>
<div title="Debye Sphere" modifier="Christopher Wilson" created="201305310605" modified="201302221000" tags="[[Plasma Theory]]" changecount="7" content-type="">
<pre>The number of particles $N_{D}$ in a Debye Sphere is given by 
$$N_{D} = \frac{4}{3}n\pi\lambda_D^3$$
We require that $N_{D} \ggg 1$ for [[Collective Behavior]] to occur, as well as for [[Debye Shielding|Debye Length]] to be a statistically valid concept.</pre>
</div>
<div title="DefaultTiddlers" creator="psd" modifier="Christopher Wilson" created="201305222205" modified="201405142045" tags="excludeTimeline" content-type="" changecount="8">
<pre>[[Welcome]]</pre>
</div>
<div title="Dense" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404240541" modified="201404260545" tags="Topology" changecount="18" content-type="text/x-tiddlywiki">
<pre>!!Definition
A subset $A$ of $X$ is said to be ''//dense//'' in $X$ if $\bar{A} = X$.
</pre>
</div>
<div title="DiffFormatterPlugin" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405160827" tags="ambit excludeTimeline" content-type="text/x-tiddlywiki" changecount="2">
<pre>/***
|''Name''|DiffFormatter|
|''Description''|highlighting of text comparisons|
|''Author''|FND|
|''Version''|0.9.0|
|''Status''|beta|
|''Source''|http://svn.tiddlywiki.org/Trunk/contributors/FND/formatters/DiffFormatter.js|
|''CodeRepository''|http://svn.tiddlywiki.org/Trunk/contributors/FND/|
|''License''|[[BSD|http://www.opensource.org/licenses/bsd-license.php]]|
|''Keywords''|formatting|
!Description
Highlights changes in a unified [[diff|http://en.wikipedia.org/wiki/Diff#Unified_format]].
!Notes
Based on Martin Budden's [[DiffFormatterPlugin|http://svn.tiddlywiki.org/Trunk/contributors/MartinBudden/formatters/DiffFormatterPlugin.js]].
!Usage
The formatter is applied to blocks wrapped in &lt;html&gt;&lt;code&gt;{{{diff{..}}}&lt;/code&gt;&lt;/html&gt; within tiddlers tagged with &quot;diff&quot;.
!Revision History
!!v0.9 (2010-04-07)
* initial release; fork of DiffFormatterPlugin
!StyleSheet
.diff { white-space: pre; font-family: monospace; }
.diff ins, .diff del { display: block; text-decoration: none; }
.diff ins { background-color: #dfd; }
.diff del { background-color: #fdd; }
.diff .highlight { background-color: [[ColorPalette::SecondaryPale]]; }
!Code
***/
//{{{
(function() {

config.shadowTiddlers.StyleSheetDiffFormatter = store.getTiddlerText(tiddler.title + &quot;##StyleSheet&quot;);
store.addNotification(&quot;StyleSheetDiffFormatter&quot;, refreshStyles);

var formatters = [{
		name: &quot;diffWrapper&quot;,
		match: &quot;^\\{\\{diff\\{\n&quot;, // XXX: suboptimal
		termRegExp: /(.*\}\}\})$/mg,
		handler: function(w) {
			var el = createTiddlyElement(w.output, &quot;div&quot;, null, &quot;diff&quot;);
			w.subWikifyTerm(el, this.termRegExp);
		}
	}, {
		name: &quot;diffRange&quot;,
		match: &quot;^(?:@@|[+\\-]{3}) &quot;,
		lookaheadRegExp: /^(?:@@|[+\-]{3}) .*\n/mg,
		handler: function(w) {
			createTiddlyElement(w.output, &quot;div&quot;, null, &quot;highlight&quot;).
				innerHTML = &quot;&amp;#8230;&quot;;
			this.lookaheadRegExp.lastIndex = w.matchStart;
			var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
			if(lookaheadMatch &amp;&amp; lookaheadMatch.index == w.matchStart) {
				w.nextMatch = this.lookaheadRegExp.lastIndex;
			}
		}
	}, {
		name: &quot;diffAdded&quot;,
		match: &quot;^\\+&quot;,
		termRegExp: /(\n)/mg,
		handler: function(w) {
			var el = createTiddlyElement(w.output, &quot;ins&quot;, null, &quot;added&quot;);
			w.subWikifyTerm(el, this.termRegExp);
		}
	}, {
		name: &quot;diffRemoved&quot;,
		match: &quot;^-&quot;,
		termRegExp: /(\n)/mg,
		handler: function(w) {
			var el = createTiddlyElement(w.output, &quot;del&quot;, null, &quot;removed&quot;);
			w.subWikifyTerm(el, this.termRegExp);
		}
	}
];

config.parsers.diffFormatter = new Formatter(formatters);
config.parsers.diffFormatter.format = &quot;diff&quot;;
config.parsers.diffFormatter.formatTag = &quot;diff&quot;;

})();
//}}}</pre>
</div>
<div title="Differentiable Manifold" modifier="Christopher Wilson" created="201404092125" modified="201404120958" tags="Topology" content-type="">
<pre>!!Definition
An $n$-dimensional, $C^m$, [[manifold|Manifold]] $M^n$ (''//m-differentiable manifold//'') is a set of points together with an [[atlas|Atlas]] $\{(O_\alpha,\varphi_\alpha)\}$ satisfying the following properties:
# Each point $x$ in $M^n$ lies in at least one $O_\alpha$, i.e. the set $\{O_\alpha\}$ covers $M^n$;
# For each $\alpha$, there exists a [[homeomorphism|Homeomorphism]] $\varphi_\alpha : O_\alpha \rightarrow U_\alpha$, where $U_\alpha$ is an open subset of $\mathbb{R}^n$.
# If any two sets $O_\alpha$ and $O_\beta$ overlap, we can consider the [[transition map|Transition Map]] $\tau_{\alpha,\beta} = \varphi_\beta \circ \varphi_\alpha^{-1}$ that takes points in $\varphi_\alpha(O_\alpha \cap O_\beta) \subset U_\alpha \subset \mathbb{R}^n$ to points in  $\varphi_\beta(O_\alpha \cap O_\beta) \subset U_\beta \subset \mathbb{R}^n$.  We require this map to be $C^m$, i.e. $m$-times continuously differentiable.
!!Notes
*By further requiring that the [[transition map]] be given by smooth functions, we are able to use differential equations in describing physical laws.</pre>
</div>
<div title="DisableDblClickPlugin" modifier="Christopher Wilson" created="201404090441" modified="201404101920" tags="systemConfig excludeTimeline systemConfigDisable" changecount="1">
<pre>/***
|Name|DisableDoubleClickOnTiddlersPlugin|
|Description|Disables the double click to edit feature.|
***/
/*{{{*/
if (config.options['chkDoubleClickToEdit']===undefined)
        config.options['chkDoubleClickToEdit']=true;
if (!Story.prototype.onTiddlerDblClick_save) {

Story.prototype.onTiddlerDblClick_save=Story.prototype.onTiddlerDblClick;
        Story.prototype.onTiddlerDblClick = function(ev) {
                if (config.options['chkDoubleClickToEdit'])
                        return story.onTiddlerDblClick_save.apply
(this,arguments);
        }
}
/*}}}*/</pre>
</div>
<div title="DisableWikiLinksPlugin" modifier="Christopher Wilson" created="200512092239" modified="201404121543" tags="systemConfig excludeTimeline" content-type="" changecount="5">
<pre>/***
|Name|DisableWikiLinksPlugin|
|Source|http://www.TiddlyTools.com/#DisableWikiLinksPlugin|
|Version|1.6.0|
|Author|Eric Shulman|
|License|http://www.TiddlyTools.com/#LegalStatements|
|~CoreVersion|2.1|
|Type|plugin|
|Description|selectively disable TiddlyWiki's automatic ~WikiWord linking behavior|
This plugin allows you to disable TiddlyWiki's automatic ~WikiWord linking behavior, so that WikiWords embedded in tiddler content will be rendered as regular text, instead of being automatically converted to tiddler links.  To create a tiddler link when automatic linking is disabled, you must enclose the link text within {{{[[...]]}}}.
!!!!!Usage
&lt;&lt;&lt;
You can block automatic WikiWord linking behavior for any specific tiddler by ''tagging it with&lt;&lt;tag excludeWikiWords&gt;&gt;'' (see configuration below) or, check a plugin option to disable automatic WikiWord links to non-existing tiddler titles, while still linking WikiWords that correspond to existing tiddlers titles or shadow tiddler titles.  You can also block specific selected WikiWords from being automatically linked by listing them in [[DisableWikiLinksList]] (see configuration below), separated by whitespace.  This tiddler is optional and, when present, causes the listed words to always be excluded, even if automatic linking of other WikiWords is being permitted.  

Note: WikiWords contained in default ''shadow'' tiddlers will be automatically linked unless you select an additional checkbox option lets you disable these automatic links as well, though this is not recommended, since it can make it more difficult to access some TiddlyWiki standard default content (such as AdvancedOptions or SideBarTabs)
&lt;&lt;&lt;
!!!!!Configuration
&lt;&lt;&lt;
&lt;&lt;option chkDisableWikiLinks&gt;&gt; Disable ALL automatic WikiWord tiddler links
&lt;&lt;option chkAllowLinksFromShadowTiddlers&gt;&gt; ... except for WikiWords //contained in// shadow tiddlers
&lt;&lt;option chkDisableNonExistingWikiLinks&gt;&gt; Disable automatic WikiWord links for non-existing tiddlers
Disable automatic WikiWord links for words listed in: &lt;&lt;option txtDisableWikiLinksList&gt;&gt;
Disable automatic WikiWord links for tiddlers tagged with: &lt;&lt;option txtDisableWikiLinksTag&gt;&gt;
&lt;&lt;&lt;
!!!!!Revisions
&lt;&lt;&lt;
2008.07.22 [1.6.0] hijack tiddler changed() method to filter disabled wiki words from internal links[] array (so they won't appear in the missing tiddlers list)
2007.06.09 [1.5.0] added configurable txtDisableWikiLinksTag (default value: &quot;excludeWikiWords&quot;) to allows selective disabling of automatic WikiWord links for any tiddler tagged with that value.
2006.12.31 [1.4.0] in formatter, test for chkDisableNonExistingWikiLinks
2006.12.09 [1.3.0] in formatter, test for excluded wiki words specified in DisableWikiLinksList
2006.12.09 [1.2.2] fix logic in autoLinkWikiWords() (was allowing links TO shadow tiddlers, even when chkDisableWikiLinks is TRUE).  
2006.12.09 [1.2.1] revised logic for handling links in shadow content
2006.12.08 [1.2.0] added hijack of Tiddler.prototype.autoLinkWikiWords so regular (non-bracketed) WikiWords won't be added to the missing list
2006.05.24 [1.1.0] added option to NOT bypass automatic wikiword links when displaying default shadow content (default is to auto-link shadow content)
2006.02.05 [1.0.1] wrapped wikifier hijack in init function to eliminate globals and avoid FireFox 1.5.0.1 crash bug when referencing globals
2005.12.09 [1.0.0] initial release
&lt;&lt;&lt;
!!!!!Code
***/
//{{{
version.extensions.DisableWikiLinksPlugin= {major: 1, minor: 6, revision: 0, date: new Date(2008,7,22)};

if (config.options.chkDisableNonExistingWikiLinks==undefined) config.options.chkDisableNonExistingWikiLinks= false;
if (config.options.chkDisableWikiLinks==undefined) config.options.chkDisableWikiLinks=false;
if (config.options.txtDisableWikiLinksList==undefined) config.options.txtDisableWikiLinksList=&quot;DisableWikiLinksList&quot;;
if (config.options.chkAllowLinksFromShadowTiddlers==undefined) config.options.chkAllowLinksFromShadowTiddlers=true;
if (config.options.txtDisableWikiLinksTag==undefined) config.options.txtDisableWikiLinksTag=&quot;excludeWikiWords&quot;;

// find the formatter for wikiLink and replace handler with 'pass-thru' rendering
initDisableWikiLinksFormatter();
function initDisableWikiLinksFormatter() {
	for (var i=0; i&lt;config.formatters.length &amp;&amp; config.formatters[i].name!=&quot;wikiLink&quot;; i++);
	config.formatters[i].coreHandler=config.formatters[i].handler;
	config.formatters[i].handler=function(w) {
		// supress any leading &quot;~&quot; (if present)
		var skip=(w.matchText.substr(0,1)==config.textPrimitives.unWikiLink)?1:0;
		var title=w.matchText.substr(skip);
		var exists=store.tiddlerExists(title);
		var inShadow=w.tiddler &amp;&amp; store.isShadowTiddler(w.tiddler.title);
		// check for excluded Tiddler
		if (w.tiddler &amp;&amp; w.tiddler.isTagged(config.options.txtDisableWikiLinksTag))
			{ w.outputText(w.output,w.matchStart+skip,w.nextMatch); return; }
		// check for specific excluded wiki words
		var t=store.getTiddlerText(config.options.txtDisableWikiLinksList);
		if (t &amp;&amp; t.length &amp;&amp; t.indexOf(w.matchText)!=-1)
			{ w.outputText(w.output,w.matchStart+skip,w.nextMatch); return; }
		// if not disabling links from shadows (default setting)
		if (config.options.chkAllowLinksFromShadowTiddlers &amp;&amp; inShadow)
			return this.coreHandler(w);
		// check for non-existing non-shadow tiddler
		if (config.options.chkDisableNonExistingWikiLinks &amp;&amp; !exists)
			{ w.outputText(w.output,w.matchStart+skip,w.nextMatch); return; }
		// if not enabled, just do standard WikiWord link formatting
		if (!config.options.chkDisableWikiLinks)
			return this.coreHandler(w);
		// just return text without linking
		w.outputText(w.output,w.matchStart+skip,w.nextMatch)
	}
}

Tiddler.prototype.coreAutoLinkWikiWords = Tiddler.prototype.autoLinkWikiWords;
Tiddler.prototype.autoLinkWikiWords = function()
{
	// if all automatic links are not disabled, just return results from core function
	if (!config.options.chkDisableWikiLinks)
		return this.coreAutoLinkWikiWords.apply(this,arguments);
	return false;
}

Tiddler.prototype.disableWikiLinks_changed = Tiddler.prototype.changed;
Tiddler.prototype.changed = function()
{
	this.disableWikiLinks_changed.apply(this,arguments);
	// remove excluded wiki words from links array
	var t=store.getTiddlerText(config.options.txtDisableWikiLinksList,&quot;&quot;).readBracketedList();
	if (t.length) for (var i=0; i&lt;t.length; i++)
		if (this.links.contains(t[i]))
			this.links.splice(this.links.indexOf(t[i]),1);
};
//}}}</pre>
</div>
<div title="DisableWikifyPlugin" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405150115" modified="201405150126" tags="systemConfig systemConfigDisable excludeTimeline" changecount="20" content-type="text/x-tiddlywiki">
<pre>//{{{
var f=config.formatters[config.formatters.findByField(&quot;name&quot;,&quot;list&quot;)];
f.match=&quot;^(//)&quot;;
f.lookaheadRegExp=/^(//)/mg;
//}}}</pre>
</div>
<div title="Discrete Topology" modifier="Christopher Wilson" created="201403312132" modified="201404082208" tags="[[Common Topologies]]" content-type="">
<pre>!!Definition
Let $ X \neq \varnothing$ be a set, and let $\mathcal{T} = \mathcal{P}(X)$ be the power set of $X$.  

Then $\mathcal{T}$ is called the ''//discrete topology//'' on $X$ and $(X,\mathcal{T}) = (X,\mathcal{P}(X))$ is called the discrete space on $X$.

!!Notes
*The ''//discrete topology//'' is the largest topology on a space $X$, where every point in $X$ is an open set in the ''//discrete topology//''.  This is contrast to the [[trivial topology|Trivial Topology]], which is the smallest topology on a space $X$.&lt;&lt;bibtex rowlanddiscrete&gt;&gt;
*For all $U \subset X: U$ is both closed and open in $(X,\mathcal{T})$.

!!References</pre>
</div>
<div title="DomTweaksPlugin" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405161157" tags="systemConfig excludeTimeline" changecount="2" content-type="text/x-tiddlywiki">
<pre>/***
|Name|DOMTweaksPlugin|
|Source|http://www.TiddlyTools.com/#DOMTweaksPlugin|
|Version|1.0.1|
|Author|Eric Shulman|
|License|http://www.TiddlyTools.com/#LegalStatements|
|~CoreVersion|2.1|
|Type|plugin|
|Description|set DOM element IDs, add/remove classes and/or reposition rendered elements|
This plugin defines several useful macro-based functions for performing direct manipulation of DOM elements, including setting element ID's, moving elements, and adding/removing classnames from elements.
!!!!!Usage
&lt;&lt;&lt;
{{{&lt;&lt;DOM setID id force&gt;&gt;}}}
&gt;assign an ID to the DOM element in which this macro is being rendered.  If the current DOM element already has an ID, the new ID will //not// replace  the current ID, unless you include the additional &quot;''force''&quot; keyword parameter.  (note: requiring this extra parameter helps minimize any problems that may arise if an existing, system-assigned ID is unintentionally re-assigned due to mis-placement of the macro... e.g., renaming 'mainMenu' or 'header' is NOT a good idea, and is prevented unless &quot;force&quot; is used)
{{{&lt;&lt;DOM move id&gt;&gt;}}}
&gt;Move any uniquely identified DOM element to the current rendering location.  Allows dynamic relocation of standard TW elements such as 'sidebar', 'mainMenu', as well as any other DOM elements that have an ID assigned to them (via the {{{&lt;&lt;DOM setID id&gt;&gt;}}} macro).  You can also use this macro to move [[NestedSlidersPlugin]]-generated slider/floating panels that have had an ID assigned to them (using either the {{{&lt;&lt;DOM setID id&gt;&gt;}}} macro or the NestedSlidersPlugin {{{#panelID:}}} syntax).
{{{&lt;&lt;DOM addclass classname&gt;&gt;}}}
&gt;add a classname to the DOM element in which this macro is being rendered
{{{&lt;&lt;DOM removeClass classname&gt;&gt;}}}
&gt;remove a classname from the DOM element in which this macro is being rendered
&lt;&lt;&lt;
!!!!!Revisions
&lt;&lt;&lt;
2007.07.20 [1.0.1] in setID handler, check for existing ID so multiple elements don't get the same ID.  Also added basic parameter checks.
2007.07.20 [1.0.0] initial release
&lt;&lt;&lt;
!!!!!Code
***/
//{{{
version.extensions.DOMTweaksPlugin= {major: 1, minor: 0, revision: 1, date: new Date(2007,7,20)};
config.macros.DOM= {
	handler: function(place,macroName,params) {
		if (!params.length) return;
		switch (params[0].toUpperCase()) {
			case &quot;SETID&quot;:
				if (!params[1]) return;
				if (place.id==params[1]) break; // already has this ID... do nothing!
				if (document.getElementById(params[1])) // if ID is already used by something else
					displayMessage(&quot;DOMTweaks: ID already in use: '&quot;+params[1]+&quot;'&quot;);
				else if (!place.id.length || params[2]&amp;&amp;params[2].toUpperCase==&quot;FORCE&quot;)
					place.id=params[1]; // set (or clear) the ID
				else
					displayMessage(&quot;DOMTweaks: to re-assign existing ID for '&quot;+place.id+&quot;', use the 'Force' option... Luke. :-)&quot; );
				break;
			case &quot;MOVE&quot;:
				if (!params[1]) return;
				var e=document.getElementById(params[1]); if (e) place.insertBefore(e,null);
				break;
			case &quot;ADDCLASS&quot;:
				if (!params[1]) return;
				if (addClass instanceof Function) addClass(place,params[1]);
				break;
			case &quot;REMOVECLASS&quot;:
				if (!params[1]) return;
				if (removeClass instanceof Function) removeClass(place,params[1]);
				break;
		}
	}
}
//}}}</pre>
</div>
<div title="DropDownMenuPlugin" modifier="Christopher Wilson" created="201305261542" modified="201305272010" tags="systemConfig excludeTimeline" changecount="1">
<pre>/***
|''Name:''|DropDownMenuPlugin|
|''Description:''|Create dropdown menus from unordered lists|
|''Author:''|Saq Imtiaz ( lewcid@gmail.com )|
|''Source:''|http://tw.lewcid.org/#DropDownMenuPlugin|
|''Code Repository:''|http://tw.lewcid.org/svn/plugins|
|''Version:''|2.1|
|''Date:''|11/04/2007|
|''License:''|[[Creative Commons Attribution-ShareAlike 3.0 License|http://creativecommons.org/licenses/by-sa/3.0/]]|
|''~CoreVersion:''|2.2.5|

!!Usage:
* create a two-level unordered list using wiki syntax, and place {{{&lt;&lt;dropMenu&gt;&gt;}}} on the line after it.
* to create a vertical menu use {{{&lt;&lt;dropMenu vertical&gt;&gt;}}} instead.
* to assign custom classes to the list, just pass them as parameters to the macro {{{&lt;&lt;dropMenu className1 className2 className3&gt;&gt;}}}

!!Features:
*Supports just a single level of drop-downs, as anything more usually provides a poor experience for the user.
* Very light weight, about 1.5kb of JavaScript and 4kb of CSS.
* Comes with two built in css 'themes', the default horizontal and vertical. 

!!Customizing:
* to customize the appearance of the menu's, you can either add a custom class as described above or, you can edit the CSS via the StyleSheetDropDownMenu shadow tiddler.

!!Examples:
* [[DropDownMenuDemo]]

***/
// /%
//!BEGIN-PLUGIN-CODE
config.macros.dropMenu={

	dropdownchar: &quot;\u25bc&quot;,

	handler : function(place,macroName,params,wikifier,paramString,tiddler){
		list = findRelated(place.lastChild,&quot;UL&quot;,&quot;tagName&quot;,&quot;previousSibling&quot;);
		if (!list)
			return;
		addClass(list,&quot;suckerfish&quot;);
		if (params.length){
			addClass(list,paramString);
		}
		this.fixLinks(list);
	},
	
	fixLinks : function(el){
		var els = el.getElementsByTagName(&quot;li&quot;);
		for(var i = 0; i &lt; els.length; i++) {
			if(els[i].getElementsByTagName(&quot;ul&quot;).length&gt;0){
				var link = findRelated(els[i].firstChild,&quot;A&quot;,&quot;tagName&quot;,&quot;nextSibling&quot;);
				if(!link){
					var ih = els[i].firstChild.data;
					els[i].removeChild(els[i].firstChild);
					var d = createTiddlyElement(null,&quot;a&quot;,null,null,ih+this.dropdownchar,{href:&quot;javascript:;&quot;});
					els[i].insertBefore(d,els[i].firstChild);
				}
				else{
					link.firstChild.data = link.firstChild.data + this.dropdownchar;
					removeClass(link,&quot;tiddlyLinkNonExisting&quot;);
				}
			}
			els[i].onmouseover = function() {
				addClass(this, &quot;sfhover&quot;);
			};
			els[i].onmouseout = function() {
				removeClass(this, &quot;sfhover&quot;);
			};
		}
	}	
};

config.shadowTiddlers[&quot;StyleSheetDropDownMenuPlugin&quot;] = 
	 &quot;/*{{{*/\n&quot;+
	 &quot;/***** LAYOUT STYLES -  DO NOT EDIT! *****/\n&quot;+
	 &quot;ul.suckerfish, ul.suckerfish ul {\n&quot;+
	 &quot;	margin: 0;\n&quot;+
	 &quot;	padding: 0;\n&quot;+
	 &quot;	list-style: none;\n&quot;+
	 &quot;	line-height:1.2em;\n&quot;+
	 &quot;}\n\n&quot;+
	 &quot;ul.suckerfish  li {\n&quot;+
	 &quot;	display: inline-block; \n&quot;+
	 &quot;	display: block;\n&quot;+
	 &quot;	float: left; \n&quot;+
	 &quot;}\n\n&quot;+
	 &quot;ul.suckerfish li ul {\n&quot;+
	 &quot;	position: absolute;\n&quot;+
	 &quot;	left: -999em;\n&quot;+
	 &quot;}\n\n&quot;+
	 &quot;ul.suckerfish li:hover ul, ul.suckerfish li.sfhover ul {\n&quot;+
	 &quot;	left: auto;\n&quot;+
	 &quot;}\n\n&quot;+
	 &quot;ul.suckerfish ul li {\n&quot;+
	 &quot;	float: none;\n&quot;+
	 &quot;	border-right: 0;\n&quot;+
	 &quot;	border-left:0;\n&quot;+
	 &quot;}\n\n&quot;+
	 &quot;ul.suckerfish a, ul.suckerfish a:hover {\n&quot;+
	 &quot;	display: block;\n&quot;+
	 &quot;}\n\n&quot;+
	 &quot;ul.suckerfish li a.tiddlyLink, ul.suckerfish li a, #mainMenu ul.suckerfish li a {font-weight:bold;}\n&quot;+
	 &quot;/**** END LAYOUT STYLES *****/\n&quot;+
	 &quot;\n\n&quot;+
	 &quot;/**** COLORS AND APPEARANCE - DEFAULT *****/\n&quot;+
	 &quot;ul.suckerfish li a {\n&quot;+
	 &quot;	padding: 0.5em 1.5em;\n&quot;+
	 &quot;	color: [[ColorPalette::PrimaryLight]];\n&quot;+
	 &quot;	border-bottom: 0;\n&quot;+
	 &quot;	font-weight:bold;\n&quot;+
	 &quot;}\n\n&quot;+
	 &quot;ul.suckerfish li:hover a, ul.suckerfish li.sfhover a{\n&quot;+
	 &quot;}\n\n&quot;+
	 &quot;ul.suckerfish li:hover ul a, ul.suckerfish li.sfhover ul a{\n&quot;+
	 &quot;	color: #000;\n&quot;+
	 &quot;	background: [[ColorPalette::PrimaryPale]];\n&quot;+
	 &quot;	border-top:1px solid #FFF;\n&quot;+
	 &quot;}\n\n&quot;+
	 &quot;ul.suckerfish ul li a:hover {\n&quot;+
	 &quot;	background: [[ColorPalette::PrimaryLight]];\n&quot;+
	 &quot;}\n\n&quot;+
	 &quot;ul.suckerfish li a{\n&quot;+
	 &quot;	width:9em;\n&quot;+
	 &quot;}\n\n&quot;+
	 &quot;ul.suckerfish ul li a, ul.suckerfish ul li a:hover{\n&quot;+
	 &quot;	display:inline-block;\n&quot;+
	 &quot;	width:9em;\n&quot;+
	 &quot;}\n\n&quot;+
	 &quot;ul.suckerfish li {\n&quot;+
	 &quot;}\n&quot;+
	 &quot;/***** END COLORS AND APPEARANCE - DEFAULT *****/\n&quot;+
	 &quot;\n\n&quot;+
	 &quot;/***** LAYOUT AND APPEARANCE: VERTICAL *****/\n&quot;+
	 &quot;ul.suckerfish.vertical li{\n&quot;+
	 &quot;	width:10em;\n&quot;+
	 &quot;	border-left: 0px solid #00558f;\n&quot;+
	 &quot;}\n\n&quot;+
	 &quot;ul.suckerfish.vertical ul li, ul.suckerfish.vertical li a, ul.suckerfish.vertical li:hover a, ul.suckerfish.vertical li.sfhover a {\n&quot;+
	 &quot;	border-left: 0.8em solid #00558f;\n&quot;+
	 &quot;}\n\n&quot;+
	 &quot;ul.suckerfish.vertical li a, ul.suckerfish.vertical li:hover a, ul.suckerfish.vertical li.sfhover a,  ul.suckerfish.vertical li.sfhover a:hover{\n&quot;+
	 &quot;	width:8em;\n&quot;+
	 &quot;}\n\n&quot;+
	 &quot;ul.suckerfish.vertical {\n&quot;+
	 &quot;	width:10em; text-align:left;\n&quot;+
	 &quot;	float:left;\n&quot;+
	 &quot;}\n\n&quot;+
	 &quot;ul.suckerfish.vertical li a {\n&quot;+
	 &quot;	padding: 0.5em 1em 0.5em 1em;\n&quot;+
	 &quot;	border-top:1px solid  #fff;\n&quot;+
	 &quot;}\n\n&quot;+
	 &quot;ul.suckerfish.vertical, ul.suckerfish.vertical ul {\n&quot;+
	 &quot;	line-height:1.4em;\n&quot;+
	 &quot;}\n\n&quot;+
	 &quot;ul.suckerfish.vertical li:hover ul, ul.suckerfish.vertical li.sfhover ul { \n&quot;+
	 &quot;	margin: -2.4em 0 0 10.9em;\n&quot;+
	 &quot;}\n\n&quot;+
	 &quot;ul.suckerfish.vertical li:hover ul li a, ul.suckerfish.vertical li.sfhover ul li a {\n&quot;+
	 &quot;	border: 0px solid #FFF;\n&quot;+
	 &quot;}\n\n&quot;+
	 &quot;ul.suckerfish.vertical li:hover a, ul.suckerfish.vertical li.sfhover a{\n&quot;+
	 &quot;	padding-right:1.1em;\n&quot;+
	 &quot;}\n\n&quot;+
	 &quot;ul.suckerfish.vertical li:hover ul li, ul.suckerfish.vertical li.sfhover ul li {\n&quot;+
	 &quot;	border-bottom:1px solid  #fff;\n&quot;+
	 &quot;}\n\n&quot;+
	 &quot;/***** END LAYOUT AND APPEARANCE: VERTICAL *****/\n&quot;+
	 &quot;/*}}}*/&quot;;
store.addNotification(&quot;StyleSheetDropDownMenuPlugin&quot;,refreshStyles);
//!END-PLUGIN-CODE
// %/</pre>
</div>
<div title="EditTemplate" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405171231" tags="excludeTimeline systemTemplate" content-type="text/html" changecount="2">
<pre>&lt;span class=&quot;toolbar&quot; macro=&quot;toolbar deleteTiddler&quot;&gt;&lt;span macro='setIcon2 fa-trash-o'&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;toolbar&quot; macro=&quot;toolbar revisions&quot;&gt;&lt;span macro='setIcon2 fa-book'&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;toolbar&quot; macro=&quot;toolbar copyTiddler&quot;&gt;&lt;span macro='setIcon2 fa-copy'&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;toolbar&quot; macro=&quot;toolbar cancelTiddler&quot;&gt;&lt;span macro='setIcon2 fa-undo'&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;toolbar&quot; macro=&quot;toolbar cmSave&quot;&gt;&lt;span macro='setIcon2 fa-check'&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class='toolbar' macro='toolbar previewTiddler' style='margin-right:30px;'&gt;&lt;/span&gt;
&lt;span class='toolbar' macro='typeChooser' style='margin-right:30px;'&gt;&lt;/span&gt;
&lt;!--&lt;span class='QuickEdit' macro='tiddler QuickEditToolbar with: show'&gt;&lt;/span&gt;--&gt;
&lt;div class=&quot;title&quot; macro=&quot;view title&quot;&gt;&lt;/div&gt;
&lt;div class=&quot;editLabel&quot;&gt;Title&lt;/div&gt;&lt;div class=&quot;editor&quot; macro=&quot;edit title&quot;&gt;&lt;/div&gt;
&lt;div macro='annotations'&gt;&lt;/div&gt;
&lt;div class=&quot;editLabel&quot;&gt;Content&lt;/div&gt;&lt;div class=&quot;editor&quot; macro=&quot;edit text 20&quot;&gt;&lt;/div&gt;
&lt;div class=&quot;editLabel&quot;&gt;Tags&lt;/div&gt;&lt;div class=&quot;editor&quot; macro=&quot;edit tags&quot;&gt;&lt;/div&gt;
&lt;div class=&quot;editorFooter&quot;&gt;&lt;span macro=&quot;message views.editor.tagPrompt&quot;&gt;&lt;/span&gt;&lt;span macro=&quot;tagChooser&quot;&gt;&lt;/span&gt;&lt;/div&gt;
&lt;div class='editor' macro='preview hide text 20'&gt;&lt;/div&gt;
&lt;div class='editor' macro='edit alias'&gt;&lt;/div&gt;&lt;div class='editorFooter'&gt;&lt;span macro='message abegoTiddlerAlias.lingo.aliasPrompt'&gt;&lt;/span&gt;&lt;/div&gt;</pre>
</div>
<div title="Einstein Equations" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405060620" modified="201405060624" tags="[[Topology Paper]]" changecount="9" content-type="text/x-tiddlywiki">
<pre>The //Einstein equations// are given by 
$$R_{\mu\nu} - \tfrac{1}{2}g_{\mu\nu}R+\Lambda g_{\mu\nu} = 8\pi G T_{\mu\nu}.$$
*$R_{\mu\nu}$ is the [[Ricci Tensor]] of the metric $g_{\mu\nu}$.
*$R$ is the [[Ricci Scalar]].
*$T_{\mu\nu}$ is the [[Stress-Energy Tensor]].
*$\Lambda$ is the [[Cosmological Constant]].


These field equations have the properties that:
*They should reproduce the Newtonian gravitational theory in the low mass limit, with large separations and low velocities.
*They should determine the metric up to the freedom to make coordinate transformations, given initial data on some spacelike surface.&lt;&lt;bibtex hawking1979general&gt;&gt;
</pre>
</div>
<div title="Embedded Webpage" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404140911" modified="201404140954" tags="example excludeTimeline" changecount="6" content-type="">
<pre>&lt;html&gt;&lt;iframe src=&quot;http://www.aps.org/publications/apsnews/&quot; width=&quot;100%&quot; height=&quot;800&quot; 
style=&quot;border: none;&quot;&gt;&lt;/iframe&gt;&lt;/html&gt;</pre>
</div>
<div title="EncryptedVaultPlugin" modifier="Christopher Wilson" created="201404090522" modified="201404090526" tags="excludeTimeline systemConfig systemConfigDisable">
<pre>/***
|''Name:''|EncryptedVaultPlugin|
|''Description:''|Adds RC4 encryption and password protection to tiddywiki.|
|''Version:''|1.0.1|
|''Date:''|Dec 21,2007|
|''Source:''|http://visualtw.ouvaton.org/VisualTW.html|
|''Author:''|Pascal Collin|
|''License:''|[[BSD open source license|License]]|
|''~CoreVersion:''|2.2.0|
|''Browser:''|Firefox 2.0; InternetExplorer 6.0, others|
!Description
*Create an ''encrypted vault'' where all tiddlers are ''password protected''. 
*By default, only the system tiddlers aren't encrypted.
*Even shadow tiddlers (MainMenu, SiteTitle, PageTemplate, StyleSheet, ...) ''can be encrypted''. The shadow version is used until unlocking.
!Demo
Use &lt;&lt;unlock&gt;&gt; button on a protected wiki. By example : http://visualtw.ouvaton.org/demo/EncryptedVaultPlugin.html
!Installation
#Import the plugin (tagged as systemConfig)
#Save and reload
#Save once more time to create the encrypted vault
#Reload and set a password
!Usage
*Use &lt;&lt;unlock&gt;&gt;&lt;&lt;setPassword&gt;&gt; button (available by default in SideBarOptions)
*Use a blank password to save unencrypted (disable vault usage)
*Use {{{unencrypted}}} tag to avoid encryption for some tiddler
*Use {{{forceEncryption}}} tag to force some shadow tiddler to be encrypted
!Configuration
The following macros are available :
*{{{&lt;&lt;unlock ButtonTitle ButtonTooltip OpenTiddlersWhenUnlock CloseTiddlersWhenUnlock&gt;&gt;}}} creates a button to unlock the encrypted vault (all parameters are optionnal)
*{{{&lt;&lt;setPassword ButtonTitle ButtonTooltip&gt;&gt;}}} if unlocked, creates a button to set the current password (all parameters are optionnal)
*{{{&lt;&lt;purge ButtonTitle ButtonTooltip&gt;&gt;}}} if locked, creates a button to purge a locked vault, useful for lost password (encrypted content is the deleted)
*{{{&lt;&lt;ifLocked tiddlyText&gt;&gt;}}} displays tiddlyText (wikified) if the vault is locked
*{{{&lt;&lt;ifUnlocked tiddlyText&gt;&gt;}}} displays tiddlyText (wikified) if the vault is unlocked
&lt;&lt;ifLocked &quot;!!!!Lost password ?&quot;&gt;&gt;&lt;&lt;ifLocked &quot;Click on&quot;&gt;&gt; &lt;&lt;purge&gt;&gt;&lt;&lt;ifLocked &quot;to delete any content locked in the encrypted vault.&quot;&gt;&gt;
***/
//{{{

config.messages.vaultCreationInfo = &quot;The encrypted vault has been created&quot;;
config.messages.purgeConfirm = &quot;Purge the encrypted vault ?\n\nAll unlocked content will be lost.&quot;;
config.messages.vaultPurgedInfo = &quot;All contents have been purged from encrypted vault.\nPassword has been blanked.\nYou must save once to apply this changes.&quot;;
config.messages.vaultEncryptedInfo = &quot;Saving with encryption&quot;;
config.messages.vaultUnchangedInfo = &quot;No changes in Encrypted vault&quot;;
config.messages.noLockedVaultWarning = &quot;Unable to proceed. No locked encrypted vault.&quot;;
config.messages.emptyVaultInfo = &quot;Saving without encryption&quot;;
config.messages.saveWithLockedVaultConfirm = &quot;Encrypted vault is locked. No changes will apply inside.\n\nAre you sure ?&quot;;
config.messages.confirmOverload = &quot;This following tiddler already exists in system store. Overload ?\nOK : the encrypted version will replace the system store version\nCancel : the system store version will replace the encrypted version&quot;;

SaverBase.systemStore=&quot;unencrypted&quot;;
SaverBase.vault=&quot;forceEncryption&quot;;

var startSaveVaultArea = '&lt;div id=&quot;' + 'vaultArea&quot;&gt;'; // Split up into two so that indexOf() of this source doesn't find it
var endSaveVaultArea = '&lt;/d' + 'iv&gt;';

config.shadowTiddlers.SideBarOptions = config.shadowTiddlers.SideBarOptions.replace(/&lt;&lt;saveChanges&gt;&gt;/,&quot;&lt;&lt;unlock&gt;&gt;&lt;&lt;setPassword&gt;&gt;&lt;&lt;saveChanges&gt;&gt;&quot;);
config.shadowTiddlers.GettingStarted+=&quot;\n\n&lt;&lt;ifLocked 'This TiddlyWiki use EncryptedVaultPlugin. To load protected content click on'&gt;&gt;&lt;&lt;unlock&gt;&gt;&lt;&lt;ifUnlocked 'This TiddlyWiki use EncryptedVaultPlugin. To set or change password click on'&gt;&gt;&lt;&lt;setPassword&gt;&gt;&quot;

window.updateOriginal= function(original,posDiv)	// overriding the TW2.2 standard function
{
	var vaultIsUpdatable = (!locateVaultArea(original) || !vault.isLocked() || vault.purge);  // vault is new, unlocked or must be purged
	
	if(!posDiv)
		posDiv = locateStoreArea(original);
	if(!posDiv) {
		alert(config.messages.invalidFileError.format([localPath]));
		return null;
	}
	var revised = original.substr(0,posDiv[0] + startSaveArea.length) + &quot;\n&quot; +
				convertUnicodeToUTF8((vaultIsUpdatable &amp;&amp; vault.password) ? store.allUnencryptedTiddlersAsHtml() : store.allTiddlersAsHtml())  + &quot;\n&quot; +
				original.substr(posDiv[1]);
				
	if (vaultIsUpdatable) {
		posVault = locateVaultArea(original)
		if(!posVault) {
			revised=createVault(revised);
			posVault = locateVaultArea(revised);
			if(!posVault) {
				alert(config.messages.invalidFileError.format([localPath]));
				return;
			}
		}
		var revised = revised.substr(0,posVault[0] + startSaveVaultArea.length) +
					convertUnicodeToUTF8(vault.password ? vault.encrypt(store.allEncryptedTiddlersAsHtml()) : &quot;&quot;) +
					revised.substr(posVault[1]);
		if (vault.password) displayMessage(config.messages.vaultEncryptedInfo);
		else displayMessage(config.messages.emptyVaultInfo);
	}
	else displayMessage(config.messages.vaultUnchangedInfo);
	
	var newSiteTitle = convertUnicodeToUTF8(getPageTitle()).htmlEncode();
	revised = revised.replaceChunk(&quot;&lt;title&quot;+&quot;&gt;&quot;,&quot;&lt;/title&quot;+&quot;&gt;&quot;,&quot; &quot; + newSiteTitle + &quot; &quot;);
	revised = updateLanguageAttribute(revised);
	revised = updateMarkupBlock(revised,&quot;PRE-HEAD&quot;,&quot;MarkupPreHead&quot;);
	revised = updateMarkupBlock(revised,&quot;POST-HEAD&quot;,&quot;MarkupPostHead&quot;);
	revised = updateMarkupBlock(revised,&quot;PRE-BODY&quot;,&quot;MarkupPreBody&quot;);
	revised = updateMarkupBlock(revised,&quot;POST-SCRIPT&quot;,&quot;MarkupPostBody&quot;);
	return revised;
}

function createVault(original) {
	var revised=original.replace(/&lt;!--POST-SHADOWAREA--&gt;/,'&lt;!--POST-SHADOWAREA--&gt;\n&lt;div id=&quot;vaultArea&quot;&gt;&lt;/div&gt;\n&lt;!--POST-VAULTAREA--&gt;');
	var vaultStyles = '&lt;!--PRE-VAULTSTYLE-START--&gt;\n&lt;style type=&quot;text/css&quot;&gt;\n#vaultArea {display:none;}\n#vaultArea div {padding:0.5em; margin:1em 0em 0em 0em; border-color:#fff #666 #444 #ddd; border-style:solid; border-width:2px; overflow:auto;}\n&lt;/style&gt;\n&lt;!--PRE-VAULTSTYLE-END--&gt;\n';
	if (revised.search(&quot;&lt;!--PRE-VAULTSTYLE-START--&gt;&quot;)&lt;0) var revised=revised.replace(/&lt;!--POST-HEAD-START--&gt;/,vaultStyles +'&lt;!--POST-HEAD-START--&gt;');
	alert(config.messages.vaultCreationInfo);
	return revised;
}

function locateVaultArea(original)  //cloned from the TW2.2 standard function
{
	// Locate the vaultArea div's. Should be just before the storeArea div
	var posOpeningDiv = original.indexOf(startSaveVaultArea);
	var limitClosingDiv = original.indexOf(&quot;&lt;&quot;+&quot;!--POST-VAULTAREA--&quot;+&quot;&gt;&quot;);
	if(limitClosingDiv == -1)
		limitClosingDiv = original.indexOf(&quot;&lt;div id=&quot;+'&quot;storeArea&quot;'+&quot;&gt;&quot;);
	var posClosingDiv = original.lastIndexOf(endSaveVaultArea,limitClosingDiv);
	return (posOpeningDiv != -1 &amp;&amp; posClosingDiv != -1) ? [posOpeningDiv,posClosingDiv] : null;
}

TiddlyWiki.prototype.allUnencryptedTiddlersAsHtml = function() {
	return store.getSaver().externalize(store, SaverBase.systemStore);
};

TiddlyWiki.prototype.allEncryptedTiddlersAsHtml = function() {
	return store.getSaver().externalize(store, SaverBase.vault);
};

SaverBase.prototype.externalize = function(store, tiddlerType) // overriding the TW2.2 standard function
{
	var results = [];
	var tiddlers = store.getTiddlers(&quot;title&quot;);
	for(var t = 0; t &lt; tiddlers.length; t++)
		if (!tiddlerType || (this.getTiddlerType(tiddlers[t]) == tiddlerType))	// this line was changed from standard function
			results.push(this.externalizeTiddler(store,tiddlers[t]));
	return results.join(&quot;\n&quot;);
};

SaverBase.prototype.getTiddlerType= function(tiddler) {
	if (tiddler.isTagged(SaverBase.vault)) return SaverBase.vault;
	if (store.isShadowTiddler([tiddler.title])) return SaverBase.systemStore;
	if (tiddler.isTagged(&quot;systemConfig&quot;)||tiddler.isTagged(SaverBase.systemStore)) return SaverBase.systemStore;
	return SaverBase.vault;
};

LoaderBase.prototype.loadTiddler = function(store,node,tiddlers) // overriding the TW2.2 standard function
{
	var title = this.getTitle(store,node);
	if (store.getTiddler(title) &amp;&amp; !confirm(config.messages.confirmOverload+&quot;\n\n&quot;+title)) // this line was changed from standard function
		return;	
	if(title) {
		var tiddler = store.createTiddler(title);
		this.internalizeTiddler(store,tiddler,title,node);
		tiddlers.push(tiddler);
	}
};

window.saveChanges_noVault = window.saveChanges;
window.saveChanges= function(onlyIfDirty,tiddlers){
	if (!vault.isLocked() || vault.purge || !vault.exists() || (vault.isLocked() &amp;&amp; confirm(config.messages.saveWithLockedVaultConfirm)))
		saveChanges_noVault(onlyIfDirty,tiddlers);
}

vault = {
	load : function(){
		if (!vault.isLocked()) {
			alert(config.messages.vaultAlreadyUnlockedWarning);
			return false;
		}
		else {
			var storeElem = document.getElementById(&quot;vaultArea&quot;);
			if (storeElem) {
				var src = storeElem.innerHTML;
				var pwd = vault.password ? vault.password : &quot;&quot;;
				while ((vault.isEncrypted(src)) &amp;&amp; (pwd!=null)) {
					if (pwd) src = vault.decrypt(src, pwd);
					if (vault.isEncrypted(src)) pwd = prompt(vault.prompt,pwd);
				}
				if (pwd!=null) vault.password = pwd;
				if (!vault.isEncrypted(src)) {
					var wasDirty = store.isDirty();
					var e = document.createElement(&quot;div&quot;);
					e.innerHTML=src;
					if (src) store.getLoader().loadTiddlers(store,e.childNodes);
					vault.loaded = true;
					refreshAll();
					story.refreshAllTiddlers();
					store.setDirty(wasDirty);
					return true;
				}
				else return false;
			}
		}
	},
	decrypt : function(src,pwd){
		var res = Crypto.cryptomx.decrypt(pwd,src.substr(vault.prefix.length));
		return res  ? res : src;
	},
	isEncrypted : function(src) {
		return (src.substr(0,vault.prefix.length) == vault.prefix);
	},
	encrypt : function(src){
		return vault.password ? vault.prefix + Crypto.cryptomx.encrypt(vault.password,src) : src;
	},
	isLocked : function(){
		if (vault.loaded) return false;
		var storeElem = document.getElementById(&quot;vaultArea&quot;);
		return (!storeElem || (storeElem &amp;&amp; vault.isEncrypted(storeElem.innerHTML)));
	},
	exists : function() {
		return (document.getElementById(&quot;vaultArea&quot;)!=null);
	},
	prefix : &quot;Cryptomx@&quot;,
	prompt : &quot;Enter a password&quot;,
	loaded : false,
	purge : false
}

config.macros.unlock = {
	handler : function(place,macroName,params,wikifier,paramString,tiddler) {
		var label = params[0] ? params[0] : &quot;unlock vault&quot;;
		var tooltip = params[1] ? params[1] : &quot;unlock encrypted vault&quot;;
		var openTiddlers = params[2] ? params[2] : &quot;&quot;;
		var closeTiddlers = params[3] ? params[3] : &quot;&quot;;
		if (vault.isLocked() &amp;&amp; vault.exists()) {
			var btn = createTiddlyButton(place,label, tooltip,this.onClick);
			btn.setAttribute(&quot;openTiddlers&quot;,openTiddlers);
			btn.setAttribute(&quot;closeTiddlers&quot;,closeTiddlers);
		}
	},
    onClick:function(){
		var openTiddlers = this.getAttribute(&quot;openTiddlers&quot;);
		var closeTiddlers = this.getAttribute(&quot;closeTiddlers&quot;);
		if (vault.load()) {
			if (closeTiddlers) {
				var tiddlers = store.filterTiddlers(closeTiddlers);
				for(var t=0; t&lt;tiddlers.length; t++) {
					var elem = document.getElementById(story.idPrefix + tiddlers[t].title);
					if (elem &amp;&amp; elem.getAttribute(&quot;dirty&quot;)!=&quot;true&quot;)
						story.closeTiddler(tiddlers[t].title);
				}
			}
			if (openTiddlers) {
				var tiddlers = store.filterTiddlers(openTiddlers);
				for(var t=0; t&lt;tiddlers.length; t++)
					story.displayTiddler(&quot;bottom&quot;,tiddlers[t].title);
			}
		}
		return false;
	}
}

config.macros.setPassword = {
	handler : function(place,macroName,params,wikifier,paramString,tiddler) {
		var label = params[0] ? params[0] : &quot;set password&quot;;
		var tooltip = params[1] ? params[1] : &quot;Set password for encrypted vault&quot;;
		if (!vault.isLocked()) createTiddlyButton(place, label, tooltip,this.onClick);
	},
    onClick:function(){
		var pwd = prompt(vault.prompt,(vault.password ? vault.password : &quot;&quot;));
		if (pwd != null) vault.password = pwd;
		return false;
	}
}

config.macros.purge = {
	handler : function(place,macroName,params,wikifier,paramString,tiddler) {
		var label = params[0] ? params[0] : &quot;purge vault&quot;;
		var tooltip = params[1] ? params[1] : &quot;Delete locked vault&quot;;
		if (vault.isLocked() &amp;&amp; vault.exists()) createTiddlyButton(place,label, tooltip,this.onClick);
	},
    onClick:function(){
		if (!vault.isLocked())
			alert(config.messages.noLockedVaultWarning);
		else
			if (confirm(config.messages.purgeConfirm)) {
				vault.purge=true;
				alert(config.messages.vaultPurgedInfo);
			}
		return false;
	}
}

config.macros.ifLocked = {
	handler : function(place,macroName,params,wikifier,paramString,tiddler) {
		if (vault.isLocked() &amp;&amp; vault.exists()) wikify(params[0],place,null,tiddler);
	}
}

config.macros.ifUnlocked = {
	handler : function(place,macroName,params,wikifier,paramString,tiddler) {
		if (!vault.isLocked()) wikify(params[0],place,null,tiddler);
	}
}

//}}}


/***
Cryptomx code from http://cryptomx.sourceforge.net
***/
//{{{
Crypto.cryptomx = {
	dg :'',
	makeArray: function(n) {
		for (var i=1; i&lt;=n; i++) {
			this[i]=0
		}
		return this
	},
	rc4: function(key, text) {
		var i, x, y, t, x2;
		this.status(&quot;rc4&quot;)
		s=this.makeArray(0);
		
		for (i=0; i&lt;256; i++) {
			s[i]=i
		}
		y=0
		for (x=0; x&lt;256; x++) {
			y=(key.charCodeAt(x % key.length) + s[x] + y) % 256
			t=s[x]; s[x]=s[y]; s[y]=t
		}
		x=0;  y=0;
		var z=&quot;&quot;
		for (x=0; x&lt;text.length; x++) {
			x2=x % 256
			y=( s[x2] + y) % 256
			t=s[x2]; s[x2]=s[y]; s[y]=t
			z+= String.fromCharCode((text.charCodeAt(x) ^ s[(s[x2] + s[y]) % 256]))
		}
		return z
	},
	badd: function(a,b) { // binary add
		var r=''
		var c=0
		while(a || b) {
			c=this.chop(a)+this.chop(b)+c
			a=a.slice(0,-1); b=b.slice(0,-1)
			if(c &amp; 1) {
				r=&quot;1&quot;+r
			} else {
				r=&quot;0&quot;+r
			}
			c&gt;&gt;=1
		}
		if(c) {r=&quot;1&quot;+r}
		return r
	},
	chop:function(a) {
		if(a.length) {
			return parseInt(a.charAt(a.length-1))
		} else {
			return 0
		}
	},
	bsub:function(a,b) { // binary subtract
		var r=''
		var c=0
		while(a) {
			c=this.chop(a)-this.chop(b)-c
			a=a.slice(0,-1); b=b.slice(0,-1)
			if(c==0) {
				r=&quot;0&quot;+r
			}
			if(c == 1) {
				r=&quot;1&quot;+r
				c=0
			}
			if(c == -1) {
				r=&quot;1&quot;+r
				c=1
			}
			if(c==-2) {
				r=&quot;0&quot;+r
				c=1
			}
		}
		if(b || c) {return ''}
		return this.bnorm(r)
	},
	bnorm:function(r) { // trim off leading 0s
		var i=r.indexOf('1')
		if(i == -1) {
			return '0'
		} else {
			return r.substr(i)
		}
	},
	bmul:function(a,b) { // binary multiply
		var r=''; var p=''
		while(a) {
			if(this.chop(a) == '1') {
				r=this.badd(r,b+p)
			}
			a=a.slice(0,-1)
			p+='0'
		}
		return r;
	},
	bmod:function(a,m) { // binary modulo
		return this.bdiv(a,m).mod
	},
	bdiv:function(a,m) { // binary divide &amp; modulo
		// this.q = quotient this.mod=remainder
		var lm=m.length, al=a.length
		var p='',d
		this.q=''
		for(n=0; n&lt;al; n++) {
			p=p+a.charAt(n);
			if(p.length&lt;lm || (d=this.bsub(p,m)) == '') {
				this.q+='0'
			} else {
				if(this.q.charAt(0)=='0') {
					this.q='1'
				} else {
					this.q+=&quot;1&quot;
				}
				p=d
			}
		}
		this.mod=this.bnorm(p)
		return this
	},
	bmodexp:function(x,y,m) { // binary modular exponentiation
		var r='1'
		this.status(&quot;bmodexp &quot;+x+&quot; &quot;+y+&quot; &quot;+m)
		
		while(y) {
			if(this.chop(y) == 1) {
				r=this.bmod(this.bmul(r,x),m)
			}
			y=y.slice(0,y.length-1)
			x=this.bmod(this.bmul(x,x),m)
		}
		return this.bnorm(r)
	},
	modexp:function(x,y,m) { // modular exponentiation
		// convert packed bits (text) into strings of 0s and 1s
		return this.b2t(this.bmodexp(this.t2b(x),this.t2b(y),this.t2b(m)))
	},
	i2b: function(i) { // convert integer to binary
		var r=''
		while(i) {
			if(i &amp; 1) { r=&quot;1&quot;+r} else {r=&quot;0&quot;+r}
			i&gt;&gt;=1;
		}
		return r? r:'0'
	},
	t2b:function(s) {
		var r=''
		if(s=='') {return '0'}
		while(s.length) {
			var i=s.charCodeAt(0)
			s=s.substr(1)
			for(n=0; n&lt;8; n++) {
				r=((i &amp; 1)? '1':'0') + r
				i&gt;&gt;=1;
			}
		}
		return this.bnorm(r)
	},
	b2t:function(b) {
		var r=''; var v=0; var m=1
		while(b.length) {
			v|=this.chop(b)*m
			b=b.slice(0,-1)
			m&lt;&lt;=1
			if(m==256 || b=='') {
				r+=String.fromCharCode(v)
				v=0; m=1
			}
		}
		return r
	},
	b64s:'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_&quot;',
	textToBase64:function(t) {
		this.status(&quot;t 2 b64&quot;)
		var r=''; var m=0; var a=0; var tl=t.length-1; var c
		for(n=0; n&lt;=tl; n++) {
			c=t.charCodeAt(n)
			r+=this.b64s.charAt((c &lt;&lt; m | a) &amp; 63)
			a = c &gt;&gt; (6-m)
			m+=2
			if(m==6 || n==tl) {
				r+=this.b64s.charAt(a)
				if((n%45)==44) {r+=&quot;\n&quot;}
				m=0
				a=0
			}
		}
		return r
	},
	base64ToText:function(t) {
		this.status(&quot;b64 2 t&quot;)
		var r=''; var m=0; var a=0; var c
		for(n=0; n&lt;t.length; n++) {
			c=this.b64s.indexOf(t.charAt(n))
			if(c &gt;= 0) {
				if(m) {
					r+=String.fromCharCode((c &lt;&lt; (8-m))&amp;255 | a)
				}
				a = c &gt;&gt; m
				m+=2
				if(m==8) { m=0 }
			}
		}
		return r
	},

	rand:function(n) {  return Math.floor(Math.random() * n) },
	rstring:function(s,l) {
		var r=&quot;&quot;
		var sl=s.length
		while(l&gt;0) {
			l=l-1;
			r+=s.charAt(rand(sl))
		}
		//status(&quot;rstring &quot;+r)
		return r
	},
	key2:function(k) {
		var l=k.length
		var kl=l
		var r=''
		while(l--) {
			r+=k.charAt((l*3)%kl)
		}
		return r
	},
	rsaEncrypt:function(keylen,key,mod,text) {
		// I read that rc4 with keys larger than 256 bytes doesn't significantly
		// increase the level of rc4 encryption because it's sbuffer is 256 bytes
		// makes sense to me, but what do i know...

		this.status(&quot;encrypt&quot;)
		if(text.length &gt;= keylen) {
			var sessionkey=this.rc4(rstring(text,keylen),rstring(text,keylen))

			// session key must be less than mod, so mod it
			sessionkey=this.b2t(bmod(t2b(sessionkey),t2b(mod)))
			alert(&quot;sessionkey=&quot;+sessionkey)

			// return the rsa encoded key and the encrypted text
			// i'm double encrypting because it would seem to me to
			// lessen known-plaintext attacks, but what do i know
			return this.modexp(sessionkey,key,mod) +
			this.rc4(this.key2(sessionkey),this.rc4(sessionkey,text))
		} else {

			// don't need a session key
			return this.modexp(text,key,mod)
		}
	},
	rsaDecrypt:function(keylen,key,mod,text) {
		this.status(&quot;decrypt&quot;)
		if(text.length &lt;= keylen) {
			return this.modexp(text,key,mod)
		} else {

			// sessionkey is first keylen bytes
			var sessionkey=text.substr(0,keylen)
			text=text.substr(keylen)

			// un-rsa the session key
			sessionkey=this.modexp(sessionkey,key,mod)
			alert(&quot;sessionkey=&quot;+sessionkey)

			// double decrypt the text
			return this.rc4(sessionkey,this.rc4(this.key2(sessionkey,text),text))
		}
	},
	trim2:function(d) { return d.substr(0,d.lastIndexOf('1')+1) },
	bgcd:function(u,v) { // return greatest common divisor
		// algorythm from http://algo.inria.fr/banderier/Seminar/Vallee/index.html
		var d, t
		while(1) {
			d=this.bsub(v,u)
			//alert(v+&quot; - &quot;+u+&quot; = &quot;+d)
			if(d=='0') {return u}
			if(d) {
				if(d.substr(-1)=='0') {
					v=d.substr(0,d.lastIndexOf('1')+1) // v=(v-u)/2^val2(v-u)
				} else v=d
			} else {
				t=v; v=u; u=t // swap u and v
			}
		}
	},

	isPrime:function(p) {
		var n,p1,p12,t
		p1=this.bsub(p,'1')
		t=p1.length-p1.lastIndexOf('1')
		p12=this.trim2(p1)
		for(n=0; n&lt;2; n+=this.mrtest(p,p1,p12,t)) {
			if(n&lt;0) return 0
		}
		return 1
	},
	mrtest:function(p,p1,p12,t) {
		// Miller-Rabin test from forum.swathmore.edu/dr.math/
		var n,a,u
		a='1'+this.rstring('01',Math.floor(p.length/2)) // random a
		//alert(&quot;mrtest &quot;+p+&quot;, &quot;+p1+&quot;, &quot;+a+&quot;-&quot;+p12)
		u=this.bmodexp(a,p12,p)
		if(u=='1') {return 1}
		for(n=0;n&lt;t;n++) {
			u=this.bmod(this.bmul(u,u),p)
			//dg+=u+&quot; &quot;
			if(u=='1') return -100
			if(u==p1) return 1
		}
		return -100
	},
	pfactors:'11100011001110101111000110001101',
	// this number is 3*5*7*11*13*17*19*23*29*31*37
	prime:function(bits) {
		// return a prime number of bits length
		var p='1'+this.rstring('001',bits-2)+'1'
		while( ! this.isPrime(p)) {
			p=badd(p,'10'); // add 2
		}
		alert(&quot;p is &quot;+p)
		return p
	},
	genkey:function(bits) {
		q=prime(bits)
		do {
			p=q
			q=prime(bits)
		} while(bgcd(p,q)!='1')
		p1q1=this.bmul(this.bsub(p,'1'),this.bsub(q,'1'))
		// now we need a d, e,  and an n so that:
		//  p1q1*n-1=de  -&gt; bmod(bsub(bmul(d,e),'1'),p1q1)='0'
		// or more specifically an n so that d &amp; p1q1 are rel prime and factor e
		n='1'+this.rstring('001',Math.floor(bits/3)+2)
		alert('n is '+n)
		factorMe=this.badd(this.bmul(p1q1,n),'1')
		alert('factor is '+factorMe)
		//e=bgcd(factorMe,p1q1)
		//alert('bgcd='+e)
		e='1'
		// is this always 1?
		//r=bdiv(factorMe,e)
		//alert('r='+r.q+&quot; &quot;+r.mod)
		//if(r.mod != '0') {alert('Mod Error!')}
		//factorMe=r.q
		d=this.bgcd(factorMe,'11100011001110101111000110001101')
		alert('d='+d)
		if(d == '1' &amp;&amp; e == '1') {alert('Factoring failed '+factorMe+' p='+p+' q='+q)}
		e=this.bmul(e,d)
		r=this.bdiv(factorMe,d)
		d=r.q
		if(r.mod != '0') {alert('Mod Error 2!')}

		this.mod=this.b2t(bmul(p,q))
		this.pub=this.b2t(e)
		this.priv=this.b2t(d)
	},
	status:function(a) { },//alert(a)}
	encrypt:function(key,text) {
		return this.textToBase64(this.rc4(key,&quot;check:&quot;+text));
	},
	decrypt:function(key,text){
		var uncrypt = this.rc4(key,this.base64ToText(text));
		return (uncrypt.substr(0,6)==&quot;check:&quot;) ? uncrypt.substr(6) : null;
	}
}

//}}}</pre>
</div>
<div title="EscribaColors" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404121853" modified="201404121856" tags="systemPalette excludeTimeline excludeLists" changecount="5" content-type="">
<pre>Name: EscribaColors
Background: #fff
Foreground: #000
PrimaryPale: #CFF
PrimaryLight: #6CC
PrimaryMid: #099
PrimaryDark: #066
SecondaryPale: #ffc
SecondaryLight: #fe8
SecondaryMid: #399
SecondaryDark: #841
TertiaryPale: #eee
TertiaryLight: #ccc
TertiaryMid: #999
TertiaryDark: #666
Error: #f88</pre>
</div>
<div title="Euicho" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404121857" modified="201404132219" tags="systemPalette excludeTimeline excludeLists" changecount="4" content-type="">
<pre>Name: Euicho
Background: #fff
Foreground: #000
PrimaryPale: #033
PrimaryLight: #0a5d72
PrimaryMid: #60b439
PrimaryDark: #014
SecondaryPale: #ffc
SecondaryLight: #fe8
SecondaryMid: #db4
SecondaryDark: #841
TertiaryPale: #eee
TertiaryLight: #ccc
TertiaryMid: #999
TertiaryDark: #666
Error: #f88</pre>
</div>
<div title="Euler-Lagrange Equation" modifier="Christopher Wilson" created="201305222119" modified="201404140501" tags="KeepRevisions ClassicalMechanics" content-type="" changecount="5">
<pre>We begin by assuming that the Lagrangian is only explicitly dependent on position and velocity, and implicitly dependent on time.  Equivalently, this means that \(\mathcal{L} = \mathcal{L}(x,\dot{x};t)\).  In what follows, we will make use of the shorthand notation, $$\partial_x \equiv \frac{\partial}{\partial x}\qquad \mathrm{ and } \qquad \partial_{\dot{x}} \equiv \frac{\partial}{\partial \dot{x}}$$
The ~Euler-Lagrange equation of motion manifests as a consequence of extremizing the action integral.  For a given action \(S\), the action is at an extremum when the condition $$\delta S(x) = S(x + \delta x) - S(x) = 0$$
is met.  By writing the action in terms of the Lagrangian,
$$S = \int \mathcal{L}(x,\dot{x};t)\,dt,$$
we may write the pertubation \(\delta S\) as 
$$\delta S = \int \mathcal{L}(x + \delta x,\dot{x} + \delta\dot{x}; t)\,dt - \int \mathcal{L}(x,\dot{x};t)\,dt$$
By performing a first order Taylor expansion on the first integral, our expression becomes
\begin{align}\delta S &amp;= \int\Bigl[ \mathcal{L}(x,\dot{x};t) + \partial_x \mathcal{L}(x,\dot{x};t) \delta x + \partial_{\dot{x}} \mathcal{L}(x,\dot{x};t) \delta \dot{x}\Bigr]\,dt - \int \mathcal{L}(x,\dot{x};t)\, dt \\
 &amp;= \int\Bigl[\partial_x \mathcal{L}(x,\dot{x};t)\delta x  + \partial_{\dot{x}} \mathcal{L}(x,\dot{x};t)\delta \dot{x}\Bigr]\,dt\end{align}
A quick integration by parts on the right hand term within the integral results in
$$\delta S = \int\partial_x \mathcal{L}(x,\dot{x};t) \delta x \,dt\, -\, \int \frac{d}{dt}\Bigl[\partial_{\dot{x}}\mathcal{L}(x,\dot{x};t)\Bigr]\delta x\,dt\, +\, \partial_{\dot{x}}\mathcal{L}(x,\dot{x};t)\delta x \Bigr|_{t_a}^{t_b}$$
Now, as per the variational principle, the action is stationary at the endpoints \(x(t_a)\) and \(x(t_b)\); thus, \(\delta x(t_a), \delta x(t_b) = 0\).  The corresponding term above then drops off, and we are left with the expression
$$\delta S = \int\Bigl[\partial_x \mathcal{L}(x,\dot{x};t) \, -\, \frac{d}{dt}\Bigl(\partial_{\dot{x}}\mathcal{L}(x,\dot{x};t)\Bigr) \Bigr]\delta x\,dt\, $$
Since the value of the above integral is independent of the endpoints, the requirement that \(\delta S = 0\) implies the [[Euler-Lagrange Equation]] of motion:
$$\partial_x \mathcal{L} - \frac{d}{dt}\partial_{\dot{x}}\mathcal{L}\,\equiv \,0.$$
The above relationship ensures that \(\delta S = 0\) for any variation \(\delta x\) in path described by \(x(t)\).</pre>
</div>
<div title="Euler-Lagrange Equation Revision(0001)" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404140455" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" content-type="" changecount="5">
<pre>We begin by assuming that the Lagrangian is only explicitly dependent on position and velocity, and implicitly dependent on time.  Equivalently, this means that \(\mathcal{L} = \mathcal{L}(x,\dot{x};t)\).  In what follows, we will make use of the shorthand notation, $$\partial_x \equiv \frac{\partial}{\partial x}\qquad \mathrm{ and } \qquad \partial_{\dot{x}} \equiv \frac{\partial}{\partial \dot{x}}$$
The ~Euler-Lagrange equation of motion manifests as a consequence of extremizing the action integral.  For a given action \(S\), the action is at an extremum when the condition $$\delta S(x) = S(x + \delta x) - S(x) = 0$$
is met.  By writing the action in terms of the Lagrangian,
$$S = \int \mathcal{L}(x,\dot{x};t)\,dt,$$
we may write the pertubation \(\delta S\) as 
$$\delta S = \int \mathcal{L}(x + \delta x,\dot{x} + \delta\dot{x}; t)\,dt - \int \mathcal{L}(x,\dot{x};t)\,dt$$
By performing a first order Taylor expansion on the first integral, our expression becomes
\begin{align}\delta S &amp;= \int\Bigl[ \mathcal{L}(x,\dot{x};t) + \partial_x \mathcal{L}(x,\dot{x};t) \delta x + \partial_{\dot{x}} \mathcal{L}(x,\dot{x};t) \delta \dot{x}\Bigr]\,dt - \int \mathcal{L}(x,\dot{x};t)\, dt\\
 &amp;= \int\Bigl[\partial_x \mathcal{L}(x,\dot{x};t)\delta x  + \partial_{\dot{x}} \mathcal{L}(x,\dot{x};t)\delta \dot{x}\Bigr]\,dt\end{align}
A quick integration by parts on the right hand term within the integral results in
$$\delta S = \int\partial_x \mathcal{L}(x,\dot{x};t) \delta x \,dt\, -\, \int \frac{d}{dt}\Bigl[\partial_{\dot{x}}\mathcal{L}(x,\dot{x};t)\Bigr]\delta x\,dt\, +\, \partial_{\dot{x}}\mathcal{L}(x,\dot{x};t)\delta x \Bigr|_{t_a}^{t_b}$$
Now, as per the variational principle, the action is stationary at the endpoints \(x(t_a)\) and \(x(t_b)\); thus, \(\delta x(t_a), \delta x(t_b) = 0\).  The corresponding term above then drops off, and we are left with the expression
$$\delta S = \int\Bigl[\partial_x \mathcal{L}(x,\dot{x};t) \, -\, \frac{d}{dt}\Bigl(\partial_{\dot{x}}\mathcal{L}(x,\dot{x};t)\Bigr) \Bigr]\delta x\,dt\, $$
Since the value of the above integral is independent of the endpoints, the requirement that \(\delta S = 0\) implies the [[Euler-Lagrange Equation]] of motion:
$$\partial_x \mathcal{L} - \frac{d}{dt}\partial_{\dot{x}}\mathcal{L}\,\equiv \,0.$$
The above relationship ensures that \(\delta S = 0\) for any variation \(\delta x\) in path described by \(x(t)\).</pre>
</div>
<div title="Evenly Covered" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405061107" modified="201405061109" tags="Topology" alias="" changecount="4" content-type="text/x-tiddlywiki">
<pre>!!Definition
Let $p :E\rightarrow B$ be a continuous surjective map.  The open set $U$ of $B$ is said to be ''//evenly covered//'' by $p$ if the inverse image $p^{-1}(U)$ can be written as the union of disjoint open sets $V_\alpha \in E$ such that for each $\alpha$, the restriction of $p$ to $V_\alpha$ is a [[Homeomorphism]] of $V_\alpha$ onto $U$.  The collection $\{V_\alpha\}$ will be called a partition of $p^{-1}(U)$ into //slices//.
*If $U$ is an open set that is evenly covered by $p$, we often picture the set $p^{-1}(U)$ as a ``stack of pancakes,&quot; each having hte same size and shape as $U$, floating in the air above $U$; the map $p$ squashes them all down onto $U$.</pre>
</div>
<div title="ExamplePieChartData" creator="jon" modifier="Christopher Wilson" created="201008060955" modified="201404140748" tags="example-data excludeLists excludeTimeline" content-type="" changecount="3" _hash="0dd6a9ad820d02f1c0ee9f72a0495e27d2fd4728" server.content-type="" server.permissions="read" server.bag="charts_public" server.recipe="charts_public" server.host="http://charts.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/charts_public" server.title="ExamplePieChartData">
<pre>This table of data shows people's preferred programming languages. 117 fictional people were asked the question.

|Javascript|Python|PHP|Java|
|1|20|35|32|</pre>
</div>
<div title="ExcludedTimelinePlugin" modifier="Christopher Wilson" created="201305222314" modified="201305222315" tags="systemConfig excludeTimeline" changecount="1">
<pre>// // Excludes any tiddlers from timeline that have been tagged with ''excludeTimeline''
/*{{{*/
config.macros.timeline.handler = function(place,macroName,params)
{
	var field = params[0] ? params[0] : &quot;modified&quot;;
	var tiddlers = store.reverseLookup(&quot;tags&quot;,&quot;excludeTimeline&quot;,false,field);
	var lastDay = &quot;&quot;;
	var last = params[1] ? tiddlers.length-Math.min(tiddlers.length,parseInt(params[1])) : 0;
	for(var t=tiddlers.length-1; t&gt;=last; t--)
		{
		var tiddler = tiddlers[t];
		var theDay = tiddler[field].convertToLocalYYYYMMDDHHMM().substr(0,8);
		if(theDay != lastDay)
			{
			var theDateList = document.createElement(&quot;ul&quot;);
			place.appendChild(theDateList);
			createTiddlyElement(theDateList,&quot;li&quot;,null,&quot;listTitle&quot;,tiddler[field].formatString(this.dateFormat));
			lastDay = theDay;
			}
		var theDateListItem = createTiddlyElement(theDateList,&quot;li&quot;,null,&quot;listLink&quot;);
		theDateListItem.appendChild(createTiddlyLink(place,tiddler.title,true));
		}
}
/*}}}*/
		</pre>
</div>
<div title="ExtendTagButtonPlugin" modifier="Christopher Wilson" created="201106271027" modified="201305222315" tags="systemConfig excludeTimeline systemConfigDisable" changecount="2">
<pre>/***
|Name:|ExtentTagButtonPlugin|
|Description:|Adds a New tiddler button in the tag drop down|
|Version:|3.2a|
|Date:|27-Jun-2011|
|Source:|http://mptw.tiddlyspot.com/#ExtendTagButtonPlugin|
|Author:|Simon Baird &lt;simon.baird@gmail.com&gt;|
|License|http://mptw.tiddlyspot.com/#TheBSDLicense|
***/
//{{{

window.onClickTag_mptw_orig = window.onClickTag;
window.onClickTag = function(e) {
  window.onClickTag_mptw_orig.apply(this,arguments);
  var tag = this.getAttribute(&quot;tag&quot;);
  var title = this.getAttribute(&quot;tiddler&quot;);
  // Thanks Saq, you're a genius :)
  var popup = Popup.stack[Popup.stack.length-1].popup;
  createTiddlyElement(createTiddlyElement(popup,&quot;li&quot;,null,&quot;listBreak&quot;),&quot;div&quot;);
  wikify(&quot;&lt;&lt;newTiddler label:'New tiddler' tag:'&quot;+tag+&quot;'&gt;&gt;&quot;,createTiddlyElement(popup,&quot;li&quot;));
  return false;
}

//}}}
</pre>
</div>
<div title="ExtraKeysAddOn" modifier="Christopher Wilson" created="201404120335" modified="201404120542" tags="cmtwAddOn excludeLists excludeMissing systemConfig excludeTimeline" content-type="text/x-tiddlywiki" changecount="2">
<pre>/***
|''Name''|ExtraKeysAddOn|
|''Description''|This AddOn contains the extra key handling for zCodeMirrorPlugin|
|''Author''|PMario|
|''Version''|0.1.3|
|''Status''|''beta''|
|''Source''|http://codemirror-plugins.tiddlyspace.com/#RenderBuffer.js|
|''License''|[[CC by-nc-sa 3.0|http://creativecommons.org/licenses/by-nc-sa/3.0/]]|
|''CoreVersion''|2.5.0|
|''Keywords''|TAB key handling |
! Documentation
&lt;&lt;&lt;
This addOn needs to be used together with [[zCodeMirrorPlugin]]. It contains:
* simpleTab
** If TAB key is pressed, it just inserts a tab. 
** If some text is selected the text will be deleted and a tab will be inserted.
* smartTab
** If no text is selected it inserts a tab.
** If some text or some lines are selected the selected lines will be indented by one tab.
** If text is selected &lt;shift&gt;&lt;tab&gt; will unindent the selected lines. This behaviour is preferred, for programming.
* Using {{{simpleTab}}} or {{{smartTab}}} can be configured at CodeMirrorConfig tiddler.
** Default is .. {{{ extraKeys: smartTab }}}
* &lt;F11&gt; key toggles the editor height.
&lt;&lt;&lt;
! Important
&lt;&lt;&lt;
The option {{{chkInsertTabs}}} needs to be ''unchecked'' to use {{{smartTab}}} handling.
&lt;&lt;option chkInsertTabs&gt;&gt; {{{chkInsertTabs}}} Use the tab key to insert tab characters instead of moving between fields.
&lt;&lt;&lt;
! History
&lt;&lt;&lt;
* V 0.1.3 2012-06-33
** Updated &quot;shift-tab&quot; handling for &quot;smartTab&quot; mode.
* V 0.1.2 2012-03-13
** Added functions to make editor height persistent.
** + bug fixes introduce with V 0.1.1
&lt;&lt;&lt;
***/
//{{{

version.extensions.ExtraKeyAddOns = {
	major: 0,
	minor: 0,
	revision: 1,
	date: new Date(2012, 6, 23)
};

// Returns the specified field (input or textarea element) in a tiddler
// or null if it found no field 
Story.prototype.hasTiddlerField = function(title,field)
{
	var tiddlerElem = this.getTiddler(title);
	var e = null;
	if(tiddlerElem) {
		var t,children = tiddlerElem.getElementsByTagName(&quot;*&quot;);
		for(t=0; t&lt;children.length; t++) {
			var c = children[t];
			if(c.tagName.toLowerCase() == &quot;input&quot; || c.tagName.toLowerCase() == &quot;textarea&quot;) {
				if(c.getAttribute(&quot;edit&quot;) == field)
					e = c;
			}
		}
	}
	return e;
};

if (!config.tools) config.tools = {};
if (!config.tools.cm) config.tools.cm = {};
if (!config.tools.cm.addOns) config.tools.cm.addOns = {};

(function ($) {

    var me;
	config.tools.cm.addOns.toggleMaxHeight = me = {

		F11: function (ed) {		
			var oldHeight, 
				$scroll,
				tidEl = story.findContainingTiddler(ed.getWrapperElement()),
				cmHeight,
				corr = 25;		// TODO make configurable

			$scroll = $(ed.getScrollerElement());
			oH = $scroll.data('oldHeight');
			if (!oH || oH == $scroll.height()) {
				$scroll.data('oldHeight', $scroll.height());
				$scroll.height(config.tools.cm.guessMaxHeight(corr));
				window.scrollTo(0,ensureVisible(ed.getScrollerElement())+1); // +1 sucks but I want to see the border!
				cmHeight = 'max';
			}
			else {
				window.scrollTo(0,ensureVisible(ed.getScrollerElement())-1); // -1 sucks
				$scroll.height(oH);
				cmHeight = 'min';
			}
			var title = tidEl.getAttribute('tiddler');

			var f = story.hasTiddlerField(title,'cm.height'); 
			if (!f ) {
				story.addCustomFields(tidEl, 'cm.height:'+cmHeight);
			}
			else {
				f.setAttribute('value', cmHeight);		
			}
			ed.refresh();
		}
	},
	
	// smartTab
	//	if _no_ text is selected, it inserts a tab char
	//	if text is selected, it indents the selected block
	config.tools.cm.addOns.smartTab = {
		&quot;Shift-Tab&quot;: function (instance) {
			CodeMirror.commands.indentLess(instance);
		},

		&quot;Tab&quot;: function (instance) {
			if (instance.somethingSelected())
				CodeMirror.commands.indentMore(instance);
			else
				CodeMirror.commands.insertTab(instance);
		}
	}, // end plugin

	// simpleTab
	//	if _no_ text is selected, it inserts a tab char
	//	if text is selected, it _deletes_ the selected block and inserts a tab char
	config.tools.cm.addOns.simpleTab = {
		Tab: &quot;insertTab&quot;
	}	
	
})(jQuery);

//}}}</pre>
</div>
<div title="Fermi's Golden Rule" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405032222" modified="201405040447" changecount="12" content-type="text/x-tiddlywiki" alias="">
<pre>When transitioning to a continuum of final states, $\bigl|\psi_f\bigr&gt;$, the number of states between $E_f$ and $E_f + dE_f$ is equal to $\rho(E_f)\,dE_f$, where $\rho(E_f)$ is the density of states.  The total transition $W_{if}$ is obtained from the [[transition rate]] $\Gamma_{if}$ as
$$W_{fi} = \int\Gamma_{fi}\,\rho(E_f)\,dE_f = \frac{2\pi}{\hbar}\bigl|\hat{V}_{\!fi}\bigr|^2\rho(E_i),\qquad (t\gg 1),$$
where $\hat{V}_{\!fi} \equiv \bigl&lt;\psi_f\bigl|\hat{V}\bigl|\psi_i\bigr&gt;$.

This is referred to as [[Fermi's Golden Rule]].</pre>
</div>
<div title="FileDropPlugin" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404140612" modified="201404140614" tags="systemConfig excludeTimeline systemConfigDisable" content-type="" changecount="3">
<pre>/***
|Name|FileDropPlugin|
|Source|http://www.TiddlyTools.com/#FileDropPlugin|
|Version|2.1.4|
|Author|BradleyMeck and Eric Shulman|
|License|http://www.TiddlyTools.com/#LegalStatements|
|~CoreVersion|2.1|
|Type|plugin|
|Description|drag-and-drop files/directories to create tiddlers|
''requires FireFox or another Mozilla-compatible browser.''
!!!!!Usage
&lt;&lt;&lt;
This plugin automatically creates tiddlers from files that are dropped onto an open TiddlyWiki document.  You can drop multiple selected files and/or folders to create many tiddlers at once.  New tiddler titles are created using the filename of each dropped file (i.e., omitting the path).  If a title is already in use, you are prompted to enter a new title for that file.  If you drop a folder, you will be asked if you want to create a simple 'directory list' of files in a single tiddler or create one tiddler for each file in that folder.  

By default, it is assumed that all dropped files contain text.  However, if [[AttachFilePlugin]], [[AttachFilePluginFormatters]] and [[AttachFileMIMETypes]] are installed, then you can drop ''//binary data files//'' as well as text files.  If the MIME type of a dropped file is not &quot;text/plain&quot;, then AttachFilePlugin is used to create an 'attachment' tiddler, rather than creating a simple text tiddler.

When creating text tiddlers, you can embed a //link// to the original external file at the top of the new tiddler, in addition to (or instead of) the text content itself.  The format for this link (see Configuration, below) uses embedded ''//replacement markers//'' that allow you to generate a variety of wiki-formatted output, where:
*%0 = filename (without path)
*%1 = local &quot;&quot;&quot;file://...&quot;&quot;&quot; URL
*%2 = local path and filename (OS-native format)
*%3 = relative path (if subdirectory of current document directory)
*%4 = file size
*%5 = file date
*%6 = current date
*%7 = current ~TiddlyWiki username
*\n = newline
By default, the link format uses the filename (%0) and local URL (%1), enclosed within a //hidden section// syntax, like this:
{{{
/%
!link
[[%0|%1]]
!end
%/
}}}
This permits the link to be embedded along with the text content, without changing the appearance of that content when the tiddler is viewed.  To display the link in your tiddler content, use:
{{{
&lt;&lt;tiddler TiddlerName##link&gt;&gt;
}}}
&lt;&lt;&lt;
!!!!!Configuration
&lt;&lt;&lt;
__FileDropPlugin options:__
&lt;&lt;option chkFileDropContent&gt;&gt;Copy file content into tiddlers if smaller than: &lt;&lt;option txtFileDropDataLimit&gt;&gt; bytes
&amp;nbsp; //(note: excess text content will be truncated, oversized binary files will skipped, 0=no limit)//
&lt;&lt;option chkFileDropLink&gt;&gt;Generate external links to files, using this format:{{editor{&lt;html&gt;&lt;nowiki&gt;&lt;textarea rows=&quot;4&quot; onchange=&quot;
config.macros.option.propagateOption('txtFileDropLinkFormat','value',this.value.escapeLineBreaks(),'input');
&quot;&gt;&lt;/textarea&gt;&lt;/html&gt;&lt;&lt;tiddler {{
	var ta=place.lastChild.getElementsByTagName('textarea')[0];
	var v=config.options.txtFileDropLinkFormat.unescapeLineBreaks();
	ta.value=v;
&quot;&quot;;}}&gt;&gt;}}}&lt;&lt;option chkFileDropTrimFilename&gt;&gt;Omit file extensions from tiddler titles
&lt;&lt;option chkFileDropDisplay&gt;&gt;Automatically display newly created tiddlers
Tag newly created tiddlers with: &lt;&lt;option txtFileDropTags&gt;&gt;

__FileDropPlugin+AttachFilePlugin options:__ //(binary file data as encoded 'base64' text)//
&lt;&lt;option chkFileDropAttachLocalLink&gt;&gt; attachment includes reference to local path/filename
&gt;Note: if the plugin does not seem to work, enter ''about:config'' in the Firefox address bar, and make sure that {{{signed.applets.codebase_principal_support}}} is set to ''true''
&lt;&lt;&lt;
!!!!!Examples (custom handler functions)
&lt;&lt;&lt;
Adds a single file with confirmation and prompting for title:
{{{
config.macros.fileDrop.addEventListener('application/x-moz-file',
	function(nsiFile) {
		var msg='You have dropped the file:\n'
			+nsiFile.path+'\n'
			+'onto the page, it will be imported as a tiddler. Is that ok?'
		if(confirm(msg)) {
			var newDate = new Date();
			var title = prompt('what would you like to name the tiddler?');
			store.saveTiddler(title,title,loadFile(nsiFile.path),config.options.txtUserName,newDate,[]);
		}
		return true;
	});
}}}
Adds a single file without confirmation, using path/filename as tiddler title:
{{{
config.macros.fileDrop.addEventListener('application/x-moz-file',
	function(nsiFile) {
		var newDate = new Date();
		store.saveTiddler(nsiFile.path,nsiFile.path,loadFile(nsiFile.path),config.options.txtUserName,newDate,[]);
		story.displayTiddler(null,nsiFile.path)
		return true;
	});
}}}
&lt;&lt;&lt;
!!!!!Revisions
&lt;&lt;&lt;
2010.03.06 2.1.4 added event listener for 'dragover' (for FireFox 3.6+)
2009.10.10 2.1.3 fixed IE code error
2009.10.08 2.1.2 fixed chkFileDropContent bypass handling for binary attachments
2009.10.07 2.1.0 added chkFileDropContent and chkFileDropLink/txtFileDropLinkFormat
2009.08.19 2.0.0 fixed event listener registration for FireFox 3.5+.  Also, merged with FileDropPluginConfig, with code cleanup/reduction
2008.08.11 1.5.1 added chkFileDropAttachLocalLink option to allow suppression of local path/file link
2007.xx.xx *.*.* add suspend/resume of notifications to improve performance when multiple files are handled
2007.01.01 0.9.9 extensions for AttachFilePlugin
2006.11.04 0.1.1 initial release by Bradley Meck
&lt;&lt;&lt;
!!!!!Code
***/
//{{{
version.extensions.FileDropPlugin={major:2, minor:1, revision:4, date: new Date(2010,3,6)};

config.macros.fileDrop = {
	customDropHandlers: [],
	addEventListener: function(paramflavor,func,inFront) {
		var obj={}; obj.flavor=paramflavor; obj.handler=func;
		if (!inFront) this.customDropHandlers.push(obj);
		else this.customDropHandlers.shift(obj);
	},
	dragDropHandler: function(evt) {
		netscape.security.PrivilegeManager.enablePrivilege('UniversalXPConnect');
		var dragService = Components.classes['@mozilla.org/widget/dragservice;1'].getService(Components.interfaces.nsIDragService);
		var dragSession = dragService.getCurrentSession();
		var transferObject = Components.classes['@mozilla.org/widget/transferable;1'].createInstance();
		transferObject = transferObject.QueryInterface(Components.interfaces.nsITransferable);
		transferObject.addDataFlavor('application/x-moz-file');
		var numItems = dragSession.numDropItems;
		if (numItems&gt;1) {
			clearMessage();
			displayMessage('Reading '+numItems+' files...');
			store.suspendNotifications();
		}
		for (var i = 0; i &lt; numItems; i++) {
			dragSession.getData(transferObject, i);
			var dataObj = {};
			var dropSizeObj = {};
			for(var ind=0; ind&lt;config.macros.fileDrop.customDropHandlers.length; ind++) {
				var item = config.macros.fileDrop.customDropHandlers[ind];
				if(dragSession.isDataFlavorSupported(item.flavor)) {
					transferObject.getTransferData(item.flavor, dataObj, dropSizeObj);
					var droppedFile = dataObj.value.QueryInterface(Components.interfaces.nsIFile);
					var result = item.handler.call(item,droppedFile);
					evt.stopPropagation();
					evt.preventDefault();
					if (result) break;
				}
			}
		}
		if (numItems&gt;1) {
			store.resumeNotifications();
			store.notifyAll();
			displayMessage(numItems+' files have been processed');
		}
	}
}
//}}}
/***
!!!!!window event handlers
***/
//{{{
if(!window.event) {
	window.addEventListener('dragdrop',	// FireFox3.1-
		config.macros.fileDrop.dragDropHandler, true);
	window.addEventListener('drop',		// FireFox3.5+
		config.macros.fileDrop.dragDropHandler, true);
	window.addEventListener('dragover',	// FireFox3.6+
		function(e){e.stopPropagation();e.preventDefault();}, true); 
}
//}}}
/***
!!!!!handler for files, directories and binary attachments (see [[AttachFilePlugin]])
***/
//{{{
var defaults={
	chkFileDropDisplay:		true,
	chkFileDropTrimFilename:	false,
	chkFileDropContent:		true,
	chkFileDropLink:		true,
	txtFileDropLinkFormat:		'/%\\n!link\\n[[%0|%1]]\\n!end\\n%/',
	txtFileDropDataLimit:		'32768',
	chkFileDropAttachLocalLink:	true,
	txtFileDropTags:		''
};
for (var id in defaults) if (config.options[id]===undefined)
	config.options[id]=defaults[id];

config.macros.fileDrop.addEventListener('application/x-moz-file',function(nsiFile) {
	var co=config.options; // abbrev
	var header='Index of %0\n^^(as of %1)^^\n|!filename| !size | !modified |\n';
	var item='|[[%0|%1]]| %2|%3|\n';
	var footer='Total of %0 bytes in %1 files\n';
	var now=new Date();
	var files=[nsiFile];
	if (nsiFile.isDirectory()) {
		var folder=nsiFile.directoryEntries;
		var files=[];
		while (folder.hasMoreElements()) {
			var f=folder.getNext().QueryInterface(Components.interfaces.nsILocalFile);
			if (f instanceof Components.interfaces.nsILocalFile &amp;&amp; !f.isDirectory()) files.push(f);
		}
		var msg=nsiFile.path.replace(/\\/g,'/')+'\n\n';
		msg+='contains '+files.length+' files... ';
		msg+='select OK to attach all files or CANCEL to create a list...';
		if (!confirm(msg)) { // create a list in a tiddler
			var title=nsiFile.leafName; // tiddler name is last directory name in path
			while (title &amp;&amp; title.length &amp;&amp; store.tiddlerExists(title)) {
				if (confirm(config.messages.overwriteWarning.format([title]))) break;
				title=prompt('Enter a new tiddler title',nsiFile.path.replace(/\\/g,'/'));
			}
			if (!title || !title.length) return true; // cancelled
			var text=header.format([nsiFile.path.replace(/\\/g,'/'),now.toLocaleString()]);
			var total=0;
			for (var i=0; i&lt;files.length; i++) { var f=files[i];
				var name=f.leafName;
				if (co.chkFileDropTrimFilename)
					{ var p=name.split('.'); if (p.length&gt;1) p.pop(); name=p.join('.'); }
				var path='file:///'+f.path.replace(/\\/g,'/');
				var size=f.fileSize; total+=size;
				var when=new Date(f.lastModifiedTime).formatString('YYYY.0MM.0DD 0hh:0mm:0ss');
				text+=item.format([name,path,size,when]);
			}
			text+=footer.format([total,files.length]);
			var newtags=co.txtFileDropTags?co.txtFileDropTags.readBracketedList():[];
			store.saveTiddler(null,title,text,co.txtUserName,now,newtags);
			if (co.chkFileDropDisplay) story.displayTiddler(null,title);
			return true;
		}
	}
	if (files.length&gt;1) store.suspendNotifications();
	for (i=0; i&lt;files.length; i++) {
		var file=files[i];
		if (file.isDirectory()) continue; // skip over nested directories
		var type='text/plain';
		var title=file.leafName; // tiddler name is file name
		if (co.chkFileDropTrimFilename)
			{ var p=title.split('.'); if (p.length&gt;1) p.pop(); title=p.join('.'); }
		var name=file.leafName;
		var path=file.path;
		var url='file:///'+path.replace(/\\/g,'/');
		var size=file.fileSize;
		var when=new Date(file.lastModifiedTime);
		var now=new Date();
		var who=config.options.txtUserName;
		var h=document.location.href;
		var cwd=getLocalPath(decodeURIComponent(h.substr(0,h.lastIndexOf('/')+1)));
		var relpath=path.startsWith(cwd)?'./'+path.substr(cwd.length):path;
		while (title &amp;&amp; title.length &amp;&amp; store.tiddlerExists(title)) {
			if (confirm(config.messages.overwriteWarning.format([title]))) break;
			title=prompt('Enter a new tiddler title',path.replace(/\\/g,'/'));
		}
		if (!title || !title.length) continue; // cancelled
		if (config.macros.attach) {
			type=config.macros.attach.getMIMEType(name,'');
			if (!type.length)
				type=prompt('Unknown file type.  Enter a MIME type','text/plain');
			if (!type||!type.length) continue; // cancelled
		}
		var newtags=co.txtFileDropTags?co.txtFileDropTags.readBracketedList():[];
		if (type=='text/plain' || !co.chkFileDropContent) {
			var txt=''; var fmt=co.txtFileDropLinkFormat.unescapeLineBreaks();
			if (co.chkFileDropLink) txt+=fmt.format([name,url,path,relpath,size,when,now,who]);
			if (co.chkFileDropContent) {
				var out=loadFile(path); var lim=co.txtFileDropDataLimit;
				txt+=co.txtFileDropDataLimit?out.substr(0,lim):out;
				if (size&gt;lim) txt+='\n----\nfilesize ('+size+')'
					+' is larger than FileDrop limit ('+lim+')...\n'
					+'additional content has been omitted';
			}
			store.saveTiddler(null,title,txt,co.txtUserName,now,newtags);
		} else {
			var embed=co.chkFileDropContent
				&amp;&amp; (!co.txtFileDropDataLimit||size&lt;co.txtFileDropDataLimit);
			newtags.push('attachment'); newtags.push('excludeMissing');
			config.macros.attach.createAttachmentTiddler(path,
				now.formatString(config.macros.timeline.dateFormat),
				'attached by FileDropPlugin', newtags, title,
				embed, co.chkFileDropAttachLocalLink, false,
				relpath, '', type,!co.chkFileDropDisplay);
		}
		if (co.chkFileDropDisplay) story.displayTiddler(null,title);
	}
	if (files.length&gt;1) { store.resumeNotifications(); store.notifyAll(); }
	return true;
})
//}}}</pre>
</div>
<div title="Finite Intersection Property" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404240512" modified="201404240512" tags="Topology" changecount="3" content-type="text/x-tiddlywiki">
<pre>!!Definition
A collection $\mathcal{C}$ of subsets of $X$ is said to have the ''//finite intersection property//'' if for every finite subcollection $$\left\{C_1, \ldots, C_n\right\}$$ of $\mathcal{C}$, the intersection $\cap_n C_n$ is nonempty.</pre>
</div>
<div title="First-Countable" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404240528" modified="201404240540" tags="Topology" changecount="6" content-type="text/x-tiddlywiki">
<pre>!!Definition
A space $X$ is said to have a ''//countable basis at x//'' if there is a countable collection $\mathcal{B}$ of neighborhoods of $x$ such that each neighborhood of $x$ contains at least one of the elements of $\mathcal{B}$.  A space that has a countable basis at each of its point is said to satisify the ''//first countability axiom//'', or to be ''//first-countable//''.

!!Notes
*Every metrizable space satisifies this axiom.
*In first countable spaces, convergent sequences are adequate to detect limit points of sets and to check continuity of functions.

!!Theorems
*Let $A$ be a subset of $X$.  If there is a sequence of points of $A$ converging to $x$, then $x \in \bar{A}$; the converse holds if $X$ is first-countable.
*Let $f:X\rightarrow Y$.  If $f$ is continuous, then for every convergent sequence $x_n \rightarrow x$ in $X$, the sequence $f(x_n)$ converges to $f(x)$.  The converse holds if $X$ is first-countable.
*Subspaces and countable products of second-countable spaces are second-countable.</pre>
</div>
<div title="Fluid Systems" creator="Christopher Wilson" modifier="Christopher Wilson" created="201411020216" tags="[[Critical Phenomena]]" changecount="18" alias="" content-type="text/x-tiddlywiki">
<pre>Working within the canonical ensemble, let $\sigma  = \sigma(T,V,N)$ represent a generic state of the thermodynamic system, a function of the systems temperature $T$, volume $V$, and number of particles $N$.  Assume that the number of possible states is large and that the system is in thermal equilibrium with the surrounding environment.  These assumptions allow the probability of the occurrence of configuration $\sigma$ to be expressed using the Boltzmann law
$$\mathcal{P}(\sigma) = Z^{-1}{e^{-\beta H(\sigma)}}$$
where $H(\sigma)$ is the Hamiltonian of configuration $\sigma$, and $\beta = 1/k_b T$ is the inverse of the absolute temperature times the Boltzmann factor. The denominator $Z = Z(T,V)$ is the partition function of the system, 
$$Z = \sum_\sigma e^{-\beta H(\sigma)},$$
which ensures the normalization of probabilities, $\sum_\sigma  \mathcal{P(\sigma)} = 1$.  This allows the expectation value of any physical observable $Q$ to be expressed as the weighted average over all states of the system,
$$\langle Q \rangle = \sum_\sigma Q \mathcal{P(\sigma)}.$$
From the partition function, a change of variables allows the expression $Z \equiv e^{-\beta F},$ or equivalently, $$F = k_B T\log Z,$$ where $F = F(T,V)$ is the Helmholtz free energy of the system.  The preceding expression leads to the differential equation $\beta \partial_\beta F + F = U,$ where $U =  \langle H(\sigma) \rangle $ is the internal energy of the system; this implies the following relationship between the free and internal energy,
$$ F = U - T S,$$
where $S = S(\sigma)$ is the entropy of the configuration. From this expression, further calculations reveal that
$$C = \frac{1}{k_BT^2}\bigl(\Delta H\bigr)^2,$$
where $C \equiv \partial_T U$ is defined as the heat capacity of the system.  Additionally, note that the Euler equation of the fluid system is written as$$U = TS - PV + \mu N,$$ with $\mu$ denoting the chemical potential.</pre>
</div>
<div title="FoldHeadingsPlugin" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405161224" tags="systemConfig excludeTimeline systemConfigDisable" changecount="3" content-type="text/x-tiddlywiki">
<pre>/***
|Name|FoldHeadingsPlugin|
|Source|http://www.TiddlyTools.com/#FoldHeadingsPlugin|
|Version|1.1.2|
|Author|Eric Shulman|
|License|http://www.TiddlyTools.com/#LegalStatements|
|~CoreVersion|2.1|
|Type|plugin|
|Description|automatically turn headings into slider-like panels that can be folded/unfolded with a single click|
This plugin defines a macro that automatically converts heading-formatted content into sliders that let you expand/collapse their content by clicking on individual headings.
!!!!!Usage
&lt;&lt;&lt;
{{{
&lt;&lt;foldHeadings opened|closed tag tag tag...&gt;&gt;
}}}
where: ''opened'' or ''closed'' is a keyword indicating the initial state of the sections (default: opened), and ''tag tag tag...'' is an optional list of tags to match, so that the foldable effect is only applied to tiddlers that contain one (or more) of the indicated tags.  

When you place the macro in a tiddler, any heading-formatted content (i.e, &quot;!&quot; through &quot;!!!!!&quot;) in that tiddler will automatically become //'fold-able'//, allowing you to expand/collapse the content that follows each heading simply by clicking on that heading.  Each content section begins with the first element following a heading, and continues until either another heading is found or the end of the tiddler is reached.  For example:
{{{
&lt;&lt;foldHeadings closed&gt;&gt;
}}}
is embedded in ''this'' tiddler in order to make all the headings it contains 'fold-able'.  Note that the macro has been placed at the //end// of the tiddler because it only operates on *rendered* content.  Thus, only headings that //precede// it in the same tiddler will become fold-able, as any headings that //follow// it are not actually rendered until //after// the macro has been processed.

You can further limit the effect of the macro within the tiddler by surrounding several headings in a &quot;CSS class wrapper&quot; (&quot;&quot;&quot;{{classname{...}}}&quot;&quot;&quot;) or other containing DOM element (e.g., &quot;&quot;&quot;@@display:inline;...@@&quot;&quot;&quot;) and then embedding the {{{&lt;&lt;foldHeadings&gt;&gt;}}} macro inside that container (at the end)... only those headings that are also within that container will be made fold-able, instead of converting ''all'' the headings in that tiddler.

Conversely, if you want the fold-able ability to apply to the headings in //all// tiddlers, ''without having to alter //any// of those individual tiddlers'', you can add the macro to the end of your [[ViewTemplate]], so that it will be invoked after the content in each tiddler has been rendered, causing all headings they contain to automatically become fold-able.  For example:
{{{
&lt;span macro=&quot;foldHeadings closed&quot;&gt;&lt;/span&gt;
}}}
You can also limit this effect to selected tiddlers by specifying one or more tags as additional macro parameters.  For example:
{{{
&lt;span macro=&quot;foldHeadings closed systemConfig&quot;&gt;&lt;/span&gt;
}}}
is only applied to headings contained in //plugin tiddlers// (i.e., tiddlers tagged with &lt;&lt;tag systemConfig&gt;&gt;), while headings in other tiddlers remain unaffected by the macro, even though it is embedded in the common [[ViewTemplate]] definition.
&lt;&lt;&lt;
!!!!!Revisions
&lt;&lt;&lt;
2009.11.30 [1.1.2] corrected CSS 'text-weight' to 'font-weight'
2009.01.06 [1.1.1] removed hijack of scrollToSection() (see [[SectionLinksPlugin]] for equivalent code)
2008.11.17 [1.1.0] added hijack of 'scrollToSection()' function (see [[CoreTweaks]] and http://trac.tiddlywiki.org/ticket/784)
2007.12.06 [1.0.2] fix handling for empty sections when checking for sliderPanel/floatingPanel
2007.12.02 [1.0.1] fix handling when content following a heading is already a sliderPanel/floatingPanel
2007.12.01 [1.0.0] initial release
&lt;&lt;&lt;
!!!!!Code
***/
//{{{
version.extensions.FoldHeadingsPlugin= {major: 1, minor: 1, revision: 2, date: new Date(2009,11,30)};

config.macros.foldHeadings = {
	guideText: &quot;opened|closed className&quot;,
	showtip: &quot;click to show '%0'&quot;,
	hidetip: &quot;click to hide '%0'&quot;,
	showlabel: &quot;more...&quot;,
	hidelabel: &quot;[x]&quot;,
	html: &quot;&lt;span style='float:right;font-weight:normal;font-size:80%;' class='TiddlyLinkExisting'&gt;%0&amp;nbsp;&lt;/span&gt;&quot;,
	handler: function(place,macroName,params) {
		var show=params[0] &amp;&amp; params.shift().toLowerCase()!=&quot;closed&quot;;
		if (params.length) { // if filtering by tag(s)
			var here=story.findContainingTiddler(place);
			if (here) var tid=store.getTiddler(here.getAttribute(&quot;tiddler&quot;));
			if (!tid || !tid.tags.containsAny(params)) return; // in a tiddler and not tagged... do nothing...
		}
		var elems=place.parentNode.getElementsByTagName(&quot;*&quot;);
		var heads=[]; for (var i=0; i&lt;elems.length; i++) { // get non-foldable heading elements
			var n=elems[i].nodeName; var foldable=hasClass(elems[i],&quot;foldable&quot;);
			if ((n==&quot;H1&quot;||n==&quot;H2&quot;||n==&quot;H3&quot;||n==&quot;H4&quot;||n==&quot;H5&quot;)&amp;&amp;!foldable)
				heads.push(elems[i]);
			}
		for (var i=0; i&lt;heads.length; i++) { var h=heads[i]; // for each heading element...
			// find start/end of section content (up to next heading or end of content)
			var start=end=h.nextSibling; while (end &amp;&amp; end.nextSibling) {
				var n=end.nextSibling.nodeName.toUpperCase();
				if (n==&quot;H1&quot;||n==&quot;H2&quot;||n==&quot;H3&quot;||n==&quot;H4&quot;||n==&quot;H5&quot;) break;
				end=end.nextSibling;
			}
			if (start &amp;&amp; hasClass(start,&quot;sliderPanel&quot;)||hasClass(start,&quot;floatingPanel&quot;)) continue; // heading is already a slider!
			var span=createTiddlyElement(null,&quot;span&quot;,null,&quot;sliderPanel&quot;); // create container
			span.style.display=show?&quot;inline&quot;:&quot;none&quot;; // set initial display state
			h.parentNode.insertBefore(span,start); // and insert it following the heading element
			// move section elements into container...
			var e=start; while (e) { var next=e.nextSibling; span.insertBefore(e,null); if (e==end) break; e=next; }
			// set heading label/tip/cursor...
			h.title=(show?this.hidetip:this.showtip).format([h.textContent])
			h.innerHTML=this.html.format([show?this.hidelabel:this.showlabel])+h.innerHTML;
			h.style.cursor='pointer';
			addClass(h,&quot;foldable&quot;); // so we know it been done (and to add extra styles)
			h.onclick=function() {
				var panel=this.nextSibling; var show=panel.style.display==&quot;none&quot;;
				// update panel display state
				if (config.options.chkAnimate) anim.startAnimating(new Slider(panel,show));
				else panel.style.display = show?&quot;inline&quot;:&quot;none&quot;;
				// update heading label/tip
				this.removeChild(this.firstChild); // remove existing label
				var fh=config.macros.foldHeadings; // abbreviation for readability...
				this.title=(show?fh.hidetip:fh.showtip).format([this.textContent])
				this.innerHTML=fh.html.format([show?fh.hidelabel:fh.showlabel])+this.innerHTML;
			}
		}		
	}
}

if (story.scrollToSection) {
Story.prototype.foldheadings_scrollToSection=Story.prototype.scrollToSection;
Story.prototype.scrollToSection=function(title,section) {
	var e=this.foldheadings_scrollToSection.apply(this,arguments);
	// if scrolling to a folded section heading, click to expand it
	if (e &amp;&amp; hasClass(e,'foldable') &amp;&amp; e.nextSibling.style.display=='none') e.onclick();
}
}
//}}}
// //&lt;&lt;foldHeadings closed&gt;&gt;</pre>
</div>
<div title="Font Comparison" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405100733" modified="201405150234" tags="Reference excludeTimeline" changecount="25" content-type="text/x-tiddlywiki" alias="">
<pre>&lt;html&gt;
&lt;div class=&quot;courier&quot;&gt;!!!!courier
In geometry, a ''//hypersurface//'' is a generalization of the concept of hyperplane. Suppose an enveloping manifold $\mathcal{M}$ has $n$ dimensions; then any submanifold of $\mathcal{M}$ of $n  1$ dimensions is a hypersurface. Equivalently, the codimension of a hypersurface is one. For example, the $n$-sphere in $\mathbb{R}^{n+1}$ is called a hypersphere. Hypersurfaces occur frequently in multivariable calculus as level sets. \&lt;\&lt;/div&gt;
&lt;div class=&quot;cmtex10&quot;&gt;!!!!cmtex10
In geometry, a ''//hypersurface//'' is a generalization of the concept of hyperplane. Suppose an enveloping manifold $\mathcal{M}$ has $n$ dimensions; then any submanifold of $\mathcal{M}$ of $n  1$ dimensions is a hypersurface. Equivalently, the codimension of a hypersurface is one. For example, the $n$-sphere in $\mathbb{R}^{n+1}$ is called a hypersphere. Hypersurfaces occur frequently in multivariable calculus as level sets. \&lt;\&lt;/div&gt;
&lt;div class=&quot;cmtt10&quot;&gt;!!!!cmtt10
In geometry, a ''//hypersurface//'' is a generalization of the concept of hyperplane. Suppose an enveloping manifold $\mathcal{M}$ has $n$ dimensions; then any submanifold of $\mathcal{M}$ of $n  1$ dimensions is a hypersurface. Equivalently, the codimension of a hypersurface is one. For example, the $n$-sphere in $\mathbb{R}^{n+1}$ is called a hypersphere. Hypersurfaces occur frequently in multivariable calculus as level sets. \&lt;\&lt;/div&gt;
&lt;div class=&quot;cmr8&quot;&gt;!!!!cmr8
In geometry, a ''//hypersurface//'' is a generalization of the concept of hyperplane. Suppose an enveloping manifold $\mathcal{M}$ has $n$ dimensions; then any submanifold of $\mathcal{M}$ of $n  1$ dimensions is a hypersurface. Equivalently, the codimension of a hypersurface is one. For example, the $n$-sphere in $\mathbb{R}^{n+1}$ is called a hypersphere. Hypersurfaces occur frequently in multivariable calculus as level sets. \&lt;\&lt;/div&gt;

&lt;div class=&quot;texgyrepagella&quot;&gt;!!!!texgyrepagella
In geometry, a ''//hypersurface//'' is a generalization of the concept of hyperplane. Suppose an enveloping manifold $\mathcal{M}$ has $n$ dimensions; then any submanifold of $\mathcal{M}$ of $n  1$ dimensions is a hypersurface. Equivalently, the codimension of a hypersurface is one. For example, the $n$-sphere in $\mathbb{R}^{n+1}$ is called a hypersphere. Hypersurfaces occur frequently in multivariable calculus as level sets. \&lt;\&lt;/div&gt;
&lt;div class=&quot;texgyreschola&quot;&gt;!!!!texgyreschola
In geometry, a ''//hypersurface//'' is a generalization of the concept of hyperplane. Suppose an enveloping manifold $\mathcal{M}$ has $n$ dimensions; then any submanifold of $\mathcal{M}$ of $n  1$ dimensions is a hypersurface. Equivalently, the codimension of a hypersurface is one. For example, the $n$-sphere in $\mathbb{R}^{n+1}$ is called a hypersphere. Hypersurfaces occur frequently in multivariable calculus as level sets. \&lt;\&lt;/div&gt;
&lt;div class=&quot;texgyretermes&quot;&gt;!!!!texgyretermes
In geometry, a ''//hypersurface//'' is a generalization of the concept of hyperplane. Suppose an enveloping manifold $\mathcal{M}$ has $n$ dimensions; then any submanifold of $\mathcal{M}$ of $n  1$ dimensions is a hypersurface. Equivalently, the codimension of a hypersurface is one. For example, the $n$-sphere in $\mathbb{R}^{n+1}$ is called a hypersphere. Hypersurfaces occur frequently in multivariable calculus as level sets. \&lt;\&lt;/div&gt;
&lt;div class=&quot;lmroman10-regular&quot;&gt;!!!!lmroman10-regular
In ''geometry'', a ''//hypersurface//'' is a generalization of the concept of hyperplane. Suppose an enveloping manifold $\mathcal{M}$ has $n$ dimensions; then any submanifold of $\mathcal{M}$ of $n  1$ dimensions is a hypersurface. Equivalently, the codimension of a hypersurface is one. For example, the $n$-sphere in $\mathbb{R}^{n+1}$ is called a hypersphere. Hypersurfaces occur frequently in multivariable calculus as level sets. \&lt;\&lt;/div&gt;
&lt;div class=&quot;cmr10 cmr10_bl&quot;&gt;!!!!cmr10
In ''geometry'', a ''//hypersurface//'' is a generalization of the concept of hyperplane. Suppose an enveloping manifold $\mathcal{M}$ has $n$ dimensions; then any submanifold of $\mathcal{M}$ of $n  1$ dimensions is a hypersurface. Equivalently, the codimension of a hypersurface is one. For example, the $n$-sphere in $\mathbb{R}^{n+1}$ is called a hypersphere. Hypersurfaces occur frequently in multivariable calculus as level sets. \&lt;/div&gt;
&lt;div class=&quot;cmr10_ams&quot;&gt;!!!!cmr10_ams
In geometry, a ''//hypersurface//'' is a generalization of the concept of hyperplane. Suppose an enveloping manifold $\mathcal{M}$ has $n$ dimensions; then any submanifold of $\mathcal{M}$ of $n  1$ dimensions is a hypersurface. Equivalently, the codimension of a hypersurface is one. For example, the $n$-sphere in $\mathbb{R}^{n+1}$ is called a hypersphere. Hypersurfaces occur frequently in multivariable calculus as level sets. \&lt;/div&gt;
&lt;div class=&quot;MathJax_Main-Regular&quot;&gt;!!!!MathJax_Main-Regular
In geometry, a ''//hypersurface//'' is a generalization of the concept of hyperplane. Suppose an enveloping manifold $\mathcal{M}$ has $n$ dimensions; then any submanifold of $\mathcal{M}$ of $n  1$ dimensions is a hypersurface. Equivalently, the codimension of a hypersurface is one. For example, the $n$-sphere in $\mathbb{R}^{n+1}$ is called a hypersphere. Hypersurfaces occur frequently in multivariable calculus as level sets. \&lt;/div&gt;
&lt;div class=&quot;MathJax_Math-Regular&quot;&gt;!!!!MathJax_Math-Regular
In geometry, a ''//hypersurface//'' is a generalization of the concept of hyperplane. Suppose an enveloping manifold $\mathcal{M}$ has $n$ dimensions; then any submanifold of $\mathcal{M}$ of $n  1$ dimensions is a hypersurface. Equivalently, the codimension of a hypersurface is one. For example, the $n$-sphere in $\mathbb{R}^{n+1}$ is called a hypersphere. Hypersurfaces occur frequently in multivariable calculus as level sets. \&lt;/div&gt;
&lt;div class=&quot;georgia&quot;&gt;!!!!Georgia
In geometry, a ''//hypersurface//'' is a generalization of the concept of hyperplane. Suppose an enveloping manifold $\mathcal{M}$ has $n$ dimensions; then any submanifold of $\mathcal{M}$ of $n  1$ dimensions is a hypersurface. Equivalently, the codimension of a hypersurface is one. For example, the $n$-sphere in $\mathbb{R}^{n+1}$ is called a hypersphere. Hypersurfaces occur frequently in multivariable calculus as level sets. \&lt;/div&gt;
&lt;div class=&quot;SourceSerifPro-Regular&quot;&gt;!!!!SourceSerifPro-Regular
In geometry, a ''//hypersurface//'' is a generalization of the concept of hyperplane. Suppose an enveloping manifold $\mathcal{M}$ has $n$ dimensions; then any submanifold of $\mathcal{M}$ of $n  1$ dimensions is a hypersurface. Equivalently, the codimension of a hypersurface is one. For example, the $n$-sphere in $\mathbb{R}^{n+1}$ is called a hypersphere. Hypersurfaces occur frequently in multivariable calculus as level sets. \&lt;\&lt;/div&gt;
&lt;div class=&quot;texgyrebonum&quot;&gt;!!!!texgyrebonum
In geometry, a ''//hypersurface//'' is a generalization of the concept of hyperplane. Suppose an enveloping manifold $\mathcal{M}$ has $n$ dimensions; then any submanifold of $\mathcal{M}$ of $n  1$ dimensions is a hypersurface. Equivalently, the codimension of a hypersurface is one. For example, the $n$-sphere in $\mathbb{R}^{n+1}$ is called a hypersphere. Hypersurfaces occur frequently in multivariable calculus as level sets. \&lt;\&lt;/div&gt;
&lt;/html&gt;</pre>
</div>
<div title="FontSizePlugin" modifier="Christopher Wilson" created="201305232336" modified="201404102224" tags="systemConfig excludeTimeline systemConfigDisable" changecount="1">
<pre>/***
|Name|FontSizePlugin|
|Description|Resize tiddler text on the fly.|
|Created by|SaqImtiaz|
|Location|http://tw.lewcid.org/#FontSizePlugin|
|Version|1.0|
|Requires|~TW2.x|
!Description:
Resize tiddler text on the fly. The text size is remembered between sessions by use of a cookie.
You can customize the maximum and minimum allowed sizes.
(only affects tiddler content text, not any other text)

Also, you can load a TW file with a font-size specified in the url.
Eg: http://tw.lewcid.org/#font:110

!Demo:
Try using the font-size buttons in the sidebar, or in the MainMenu above.

!Installation:
Copy the contents of this tiddler to your TW, tag with systemConfig, save and reload your TW.
Then put {{{&lt;&lt;fontSize &quot;font-size:&quot;&gt;&gt;}}} in your SideBarOptions tiddler, or anywhere else that you might like.

!Usage
{{{&lt;&lt;fontSize&gt;&gt;}}} results in &lt;&lt;fontSize&gt;&gt;
{{{&lt;&lt;fontSize font-size: &gt;&gt;}}} results in &lt;&lt;fontSize font-size:&gt;&gt;

!Customizing:
The buttons and prefix text are wrapped in a span with class fontResizer, for easy css styling.
To change the default font-size, and the maximum and minimum font-size allowed, edit the config.fontSize.settings section of the code below.

!Notes:
This plugin assumes that the initial font-size is 100% and then increases or decreases the size by 10%. This stepsize of 10% can also be customized.

!History:
*27-07-06, version 1.0 : prevented double clicks from triggering editing of containing tiddler.
*25-07-06,  version 0.9

!Code
***/

//{{{
config.fontSize={};

//configuration settings
config.fontSize.settings =
{
            defaultSize : 100,  // all sizes in %
            maxSize : 200,
            minSize : 40,
            stepSize : 10
};

//startup code
var fontSettings = config.fontSize.settings;

if (!config.options.txtFontSize)
            {config.options.txtFontSize = fontSettings.defaultSize;
            saveOptionCookie(&quot;txtFontSize&quot;);}
setStylesheet(&quot;.tiddler .viewer {font-size:&quot;+config.options.txtFontSize+&quot;%;}\n&quot;,&quot;fontResizerStyles&quot;);
setStylesheet(&quot;#contentWrapper .fontResizer .button {display:inline;font-size:105%; font-weight:bold; margin:0 1px; padding: 0 3px; text-align:center !important;}\n .fontResizer {margin:0 0.5em;}&quot;,&quot;fontResizerButtonStyles&quot;);

//macro
config.macros.fontSize={};
config.macros.fontSize.handler = function (place,macroName,params,wikifier,paramString,tiddler)
{

               var sp = createTiddlyElement(place,&quot;span&quot;,null,&quot;fontResizer&quot;);
               sp.ondblclick=this.onDblClick;
               if (params[0])
                           createTiddlyText(sp,params[0]);
               createTiddlyButton(sp,&quot;+&quot;,&quot;increase font-size&quot;,this.incFont);
               createTiddlyButton(sp,&quot;=&quot;,&quot;reset font-size&quot;,this.resetFont);
               createTiddlyButton(sp,&quot;-&quot;,&quot;decrease font-size&quot;,this.decFont);
}

config.macros.fontSize.onDblClick = function (e)
{
             if (!e) var e = window.event;
             e.cancelBubble = true;
             if (e.stopPropagation) e.stopPropagation();
             return false;
}

config.macros.fontSize.setFont = function ()
{
               saveOptionCookie(&quot;txtFontSize&quot;);
               setStylesheet(&quot;.tiddler .viewer {font-size:&quot;+config.options.txtFontSize+&quot;%;}\n&quot;,&quot;fontResizerStyles&quot;);
}

config.macros.fontSize.incFont=function()
{
               if (config.options.txtFontSize &lt; fontSettings.maxSize)
                  config.options.txtFontSize = (config.options.txtFontSize*1)+fontSettings.stepSize;
               config.macros.fontSize.setFont();
}

config.macros.fontSize.decFont=function()
{

               if (config.options.txtFontSize &gt; fontSettings.minSize)
                  config.options.txtFontSize = (config.options.txtFontSize*1) - fontSettings.stepSize;
               config.macros.fontSize.setFont();
}

config.macros.fontSize.resetFont=function()
{

               config.options.txtFontSize=fontSettings.defaultSize;
               config.macros.fontSize.setFont();
}

config.paramifiers.font =
{
               onstart: function(v)
                  {
                   config.options.txtFontSize = v;
                   config.macros.fontSize.setFont();
                  }
};
//}}}</pre>
</div>
<div title="FootnotesDemo" modifier="Christopher Wilson" created="201305232330" modified="201305240613" tags="excludeTimeline" changecount="2" content-type="">
<pre>''Creating a footnote is very easy. Just put the text of the footnote inside triple backticks.''
{{{``` text of footnote ```}}}

''Try clicking on the red numbers, in the paragraphs below, to see the footnotes. 
Edit this tiddler, to see how easy it is, to create footnotes.''

Lorem ipsum dolor sit amet, consectetuer adipiscing elit```This is my first footnote```. Duis eleifend. Phasellus id orci. Suspendisse quis elit pharetra arcu fringilla vulputate. Nullam et orci. In vel dolor quis eros euismod vehicula. Mauris eros lectus, imperdiet id, aliquet quis, mollis bibendum, libero. Suspendisse turpis diam, lobortis id, consectetuer a, porta a, nisl. Morbi tristique, tellus ac mollis suscipit, dolor dui convallis massa, a tristique ligula nisl ac turpis. Pellentesque in elit sit amet urna mattis vulputate. Cras convallis gravida nulla. Integer luctus ante et velit. In vel urna. Donec in sapien.

Ut elementum egestas nibh. Sed at urna non lectus```You can have as many footnotes as you like``` accumsan lobortis. Ut risus nibh, commodo non, blandit sit amet, consequat id, nisl. Nulla facilisi. Curabitur massa magna, vulputate sed, porttitor accumsan, eleifend sit amet, dui. Curabitur risus. Integer id enim vel ligula porttitor laoreet. Vivamus congue lorem id urna. Donec viverra. Donec et massa non arcu sollicitudin bibendum. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Pellentesque velit mauris, lacinia eget, lobortis vitae, aliquam a, lectus. Donec pulvinar, libero sit amet auctor volutpat, mauris est posuere nisi, vel aliquet enim nisi in ipsum. Nullam at eros ac leo convallis blandit```Clicking on a footnote link, takes you to the footnote```.

Aliquam erat volutpat. Nam congue. Maecenas vitae tortor. In enim leo, rutrum non, tincidunt at, adipiscing in, lectus. Donec bibendum, lacus a ultricies ultricies, lacus erat rhoncus augue, sit amet vehicula libero massa eget sem. Donec quis felis. Nullam auctor interdum purus. Mauris mauris. Integer interdum blandit erat. Nulla facilisi. Integer fermentum gravida nunc. Maecenas vitae justo ut tortor ultrices dictum. Maecenas purus magna, pellentesque vel, luctus vel, commodo a, enim. Ut convallis, metus in consectetuer dapibus, nisi mi malesuada justo, nec feugiat leo magna et orci. In hendrerit enim eget sem sollicitudin auctor```Footnotes are numbered automatically```. Donec hendrerit, lorem id tincidunt bibendum, dolor dui dignissim velit, eu aliquet dolor sapien tincidunt nunc. Duis condimentum leo laoreet nibh. Proin in lacus quis ante lacinia vestibulum.

Donec pharetra diam at massa. Aliquam ut eros in odio malesuada euismod. Nam interdum. Sed quis quam sed justo hendrerit facilisis. Morbi euismod. Fusce urna lacus, lobortis vitae, feugiat quis, commodo eu, dui. Nunc dui lacus, ultricies sed, pharetra ac, feugiat id, velit. Sed accumsan, metus at pharetra accumsan, nisl ante vulputate lectus, in pretium dui sem nec dui. Quisque mattis arcu eget nulla. Mauris turpis. Donec elementum lacinia turpis. Donec enim diam, feugiat id, feugiat gravida, mollis non, magna```Each footnote, has a back button, to take you to where you came from```. </pre>
</div>
<div title="FootnotesPlugin" modifier="Christopher Wilson" created="201305232328" modified="201405150415" tags="systemConfig excludeTimeline" changecount="14" content-type="">
<pre>/***
|''Name:''|FootnotesPlugin|
|''Description:''|Create automated tiddler footnotes.|
|''Author:''|Saq Imtiaz ( lewcid@gmail.com )|
|''Source:''|http://tw.lewcid.org/#FootnotesPlugin|
|''Code Repository:''|http://tw.lewcid.org/svn/plugins|
|''Version:''|2.01|
|''Date:''|10/25/07|
|''License:''|[[Creative Commons Attribution-ShareAlike 3.0 License|http://creativecommons.org/licenses/by-sa/3.0/]]|
|''~CoreVersion:''|2.2.2|

!!Usage:
*To create a footnote, just put the footnote text inside triple backticks.
*Footnotes are numbered automatically, and listed at the bottom of the tiddler.
*{{{Creating a footnote is easy. ```This is the text for my footnote```}}}
*[[Example|FootnotesDemo]]
***/
//{{{
//!BEGIN-PLUGIN-CODE
config.footnotesPlugin = {
	backLabel: &quot;back&quot;,
	prompt:&quot;show footnote&quot;
};

config.formatters.unshift( {
    name: &quot;footnotes&quot;,
    match: &quot;```&quot;,
    lookaheadRegExp: /```((?:.|\n)*?)```/g,
    handler: function(w)
    {
        this.lookaheadRegExp.lastIndex = w.matchStart;
        var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
        if(lookaheadMatch &amp;&amp; lookaheadMatch.index == w.matchStart )
            {
			var tiddler = story.findContainingTiddler(w.output);
			if (!tiddler.notes)
				tiddler.notes = [];
			var title = tiddler.getAttribute(&quot;tiddler&quot;);
			tiddler.notes.pushUnique(lookaheadMatch[1]);
			var pos = tiddler.notes.indexOf(lookaheadMatch[1]) + 1;
			createTiddlyButton(w.output,pos,config.footnotesPlugin.prompt,function(){var x = document.getElementById(title+&quot;ftn&quot;+pos);window.scrollTo(0,ensureVisible(x)+(ensureVisible(x)&lt;findScrollY()?(findWindowHeight()-x.offsetHeight):0));return false;},&quot;ftnlink&quot;,title+&quot;ftnlink&quot;+pos);			
			w.nextMatch = lookaheadMatch.index + lookaheadMatch[0].length;
            }
    }
});

old_footnotes_refreshTiddler = Story.prototype.refreshTiddler;
Story.prototype.refreshTiddler = function(title,template,force)
{
    var tiddler = old_footnotes_refreshTiddler.apply(this,arguments);
	if (tiddler.notes &amp;&amp; tiddler.notes.length)
	{
		var holder = createTiddlyElement(null,&quot;div&quot;,null,&quot;footnoteholder&quot;);
		wikify(&quot;\n&quot;,holder);
		wikify(&quot;!!References\n&quot;,holder);
		var list = createTiddlyElement(holder,&quot;ol&quot;,title+&quot;footnoteholder&quot;);
		for (var i=0; i&lt;tiddler.notes.length; i++)
		{
			var ftn = createTiddlyElement(list,&quot;li&quot;,title+&quot;ftn&quot;+(i+1),&quot;footnote&quot;);
			wikify(tiddler.notes[i]+&quot; &quot;,ftn);
			createTiddlyButton(ftn,&quot;[&quot;+config.footnotesPlugin.backLabel+&quot;]&quot;,config.footnotesPlugin.backLabel,function(){window.scrollTo(0,ensureVisible(document.getElementById(this.parentNode.id.replace(&quot;ftn&quot;,&quot;ftnlink&quot;))));return false;},&quot;ftnbklink&quot;);
		}
		var count = tiddler.childNodes.length;
		for (var j=0; j&lt;count; j++){
			if(hasClass(tiddler.childNodes[j],&quot;viewer&quot;)){
				var viewer = tiddler.childNodes[j];	
			}
		}
		viewer.appendChild(holder);
		tiddler.notes = [];
	}
    return tiddler;
};

setStylesheet(
&quot;.tiddler a.ftnlink {vertical-align: super; font-size: 0.8em; color:[[ColorPalette::PrimaryMid]];}\n&quot;+
&quot;.tiddler a.ftnlink:hover, .tiddler .footnoteholder a.ftnbklink:hover{color:#fff;background:[[ColorPalette::PrimaryMid]];}\n&quot;+
&quot;.tiddler div.footnoteholder{margin:1.8em 1.0em; padding:0.1em 0.0em 0.1em 0.0em ;border-left: 1px solid #ccc;}&quot;+
&quot;.tiddler footnoteholder ol {font-size: 0.9em; line-height: 1.2em;}\n&quot;+
&quot;.tiddler .footnoteholder li.footnote {margin: 0 0 5px 0;}\n&quot;+
&quot;.tiddler .footnoteholder a.ftnbklink{color:[[ColorPalette::PrimaryLight]];}\n&quot;,&quot;FootNotesStyles&quot;);
//!END-PLUGIN-CODE
//}}}</pre>
</div>
<div title="ForEachTiddlerExamples" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405090345" modified="201405090408" tags="excludeTimeline" changecount="13" content-type="text/x-tiddlywiki">
<pre>Create File with list of all tiddlers
{{{
&lt;&lt;forEachTiddler
 write 
 'tiddler.title+&quot;\n&quot;' 

 toFile 'file:///c:/MyTiddlerList.txt' withLineSeparator '\r\n'
&gt;&gt;
}}}
&lt;&lt;forEachTiddler
 write 
 'tiddler.title+&quot;\n&quot;' 

 toFile 'file:///c:/MyTiddlerList.txt' withLineSeparator '\r\n'
&gt;&gt;




'Pagewise' list all Tiddlers (10 Tiddlers per page, with page up/down buttons)
With a little scripting you can use the ForEachTiddlerPlugin to display the result &quot;by pages&quot;. I.e. you don't display the full result list, but (e.g.) 10 at a time. 

Using a &quot;pagewise&quot; display may be useful when the result may get very large. This way you avoid scrolling the window to see the result. It also speeds up things since less items need to be display at a time.

''Example:''

&lt;&lt;forEachTiddler
    script '
        window.fetItemsPerPage = 10;

        function getHeader(context,count) {
            if (!window.fetStartIndex || window.fetStartIndex &lt; 0) 
                window.fetStartIndex = 0;

            // ensure not to page behind the last page
            if (window.fetStartIndex &gt;= count)
                window.fetStartIndex = Math.min(Math.max(window.fetStartIndex-window.fetItemsPerPage,0),count-1);

            createTiddlyButton(context.place,&quot;&lt;&quot;,null,
                    function(e) {
                        window.fetStartIndex -= window.fetItemsPerPage;
                        story.refreshTiddler(context.viewerTiddler.title,null,true);
                    });
            createTiddlyButton(context.place,&quot;&gt;&quot;,null,
                    function(e) {
                        window.fetStartIndex += window.fetItemsPerPage;
                        story.refreshTiddler(context.viewerTiddler.title,null,true);
                    });

            var startNo = window.fetStartIndex+1;
            var endNo = Math.min(count,window.fetStartIndex+window.fetItemsPerPage);

            return &quot;(&quot;+startNo+&quot; - &quot;+endNo+ &quot; of &quot;+ count + &quot; items)\n&quot;;
        }
    '

    write
            '(index &gt;= window.fetStartIndex) &amp;&amp; (index &lt; window.fetStartIndex + 10) ? &quot;* [[&quot;+tiddler.title+&quot;]]\n&quot; : &quot;&quot;'

        begin
            'getHeader(context,count)'
&gt;&gt;
''Code''
{{{
&lt;&lt;forEachTiddler
    script '
        window.fetItemsPerPage = 10;

        function getHeader(context,count) {
            if (!window.fetStartIndex || window.fetStartIndex &lt; 0) 
                window.fetStartIndex = 0;

            // ensure not to page behind the last page
            if (window.fetStartIndex &gt;= count)
                window.fetStartIndex = Math.min(Math.max(window.fetStartIndex-window.fetItemsPerPage,0),count-1);

            createTiddlyButton(context.place,&quot;&lt;&quot;,null,
                    function(e) {
                        window.fetStartIndex -= window.fetItemsPerPage;
                        story.refreshTiddler(context.viewerTiddler.title,null,true);
                    });
            createTiddlyButton(context.place,&quot;&gt;&quot;,null,
                    function(e) {
                        window.fetStartIndex += window.fetItemsPerPage;
                        story.refreshTiddler(context.viewerTiddler.title,null,true);
                    });

            var startNo = window.fetStartIndex+1;
            var endNo = Math.min(count,window.fetStartIndex+window.fetItemsPerPage);

            return &quot;(&quot;+startNo+&quot; - &quot;+endNo+ &quot; of &quot;+ count + &quot; items)\n&quot;;
        }
    '

    write
            '(index &gt;= window.fetStartIndex) &amp;&amp; (index &lt; window.fetStartIndex + 10) ? &quot;* [[&quot;+tiddler.title+&quot;]]\n&quot; : &quot;&quot;'

        begin
            'getHeader(context,count)'
&gt;&gt;
}}}


List all Tiddlers changed in the last 30 days
{{{
&lt;&lt;forEachTiddler
    script '
        function lastDays(tiddler) {
            var compareDate = new Date();
            compareDate.setDate(compareDate.getDate() - 30);  
            if (tiddler.modified &gt; compareDate) 
                return &quot;[[&quot; + tiddler.title + &quot;]], &quot;; 
            else 
                return &quot;&quot;; 
        }
    '

    write 'lastDays(tiddler)'
&gt;&gt;
}}}
//(Based on source code provided by Edmund Rodgers)//

''//Result://''
&lt;&lt;forEachTiddler
    script '
        function lastDays(tiddler) {
            var compareDate = new Date();
            compareDate.setDate(compareDate.getDate() - 30);  
            if (tiddler.modified &gt; compareDate) 
                return &quot;[[&quot; + tiddler.title + &quot;]], &quot;; 
            else 
                return &quot;&quot;; 
        }
    '

    write 'lastDays(tiddler)'
&gt;&gt;


{{{
&lt;&lt;forEachTiddler 
 where 
 'tiddler.title.contains(&quot;.bib&quot;)' 
 sortBy 
 'tiddler.title.length' 
 descending
&gt;&gt;
}}}
''//Result://''
&lt;&lt;forEachTiddler 
 where 
 'tiddler.title.contains(&quot;.bib&quot;)' 
 sortBy 
 'tiddler.title.length' 
 descending
&gt;&gt;


*Get a comma separated list of all systemConfig tiddlers
{{{
&lt;&lt;forEachTiddler 
 where
 'tiddler.tags.contains(&quot;systemConfig&quot;)'
 write
 '((index == 0) ? &quot;&quot; : &quot;, &quot;)+&quot;[[&quot;+tiddler.title+&quot;]]&quot;'
&gt;&gt;
}}}
''//Explaination//''
The initial idea to accomplish the task is use a write parameter list this: {{{&quot;[[&quot;+tiddler.name+&quot;]], &quot;}. But to avoid that a comma is appended after the final tiddler the write parameter is a little bit more complex and refers to the build-in variable {{index}}.

''//Result://''
&lt;&lt;forEachTiddler
 where
 'tiddler.tags.contains(&quot;systemConfig&quot;)'
 write
 '((index == 0) ? &quot;&quot; : &quot;, &quot;)+&quot;[[&quot;+tiddler.title+&quot;]]&quot;'
&gt;&gt;

&lt;&lt;forEachTiddler
 in 
 'file:///C:/Users/MetxChris/Dropbox/Public/TW/index.html'
 write
 'tiddler.title+&quot;\n&quot;'
&gt;&gt;</pre>
</div>
<div title="ForEachTiddlerInfo" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405090409" tags="excludeTimeline" changecount="1" content-type="text/x-tiddlywiki">
<pre>//~~(Part of the [[ForEachTiddlerPlugin]])~~//

Create customizable lists, tables etc. for your selections of tiddlers. Specify the tiddlers to include and their order through a powerful language.

''Syntax:'' 
|&gt;|{{{&lt;&lt;}}}''forEachTiddler'' [''in'' //tiddlyWikiPath//] [''where'' //whereCondition//] [''sortBy'' //sortExpression// [''ascending'' //or// ''descending'']] [''script'' //scriptText//] [//action// [//actionParameters//]]{{{&gt;&gt;}}}|
|//tiddlyWikiPath//|The filepath to the TiddlyWiki the macro should work on. When missing the current TiddlyWiki is used.|
|//whereCondition//|(quoted) JavaScript boolean expression. May refer to the build-in variables {{{tiddler}}} and {{{context}}}.|
|//sortExpression//|(quoted) JavaScript expression returning &quot;comparable&quot; objects (using '{{{&lt;}}}','{{{&gt;}}}','{{{==}}}'. May refer to the build-in variables {{{tiddler}}} and {{{context}}}.|
|//scriptText//|(quoted) JavaScript text. Typically defines JavaScript functions that are called by the various JavaScript expressions (whereClause, sortClause, action arguments,...)|
|//action//|The action that should be performed on every selected tiddler, in the given order. By default the actions [[addToList|AddToListAction]] and [[write|WriteAction]] are supported. When no action is specified [[addToList|AddToListAction]] is used.|
|//actionParameters//|(action specific) parameters the action may refer while processing the tiddlers (see action descriptions for details). &lt;&lt;tiddler [[JavaScript in actionParameters]]&gt;&gt;|
|&gt;|~~Syntax formatting: Keywords in ''bold'', optional parts in [...]. 'or' means that exactly one of the two alternatives must exist.~~|


''Using JavaScript''

To give you a lot of flexibility the [[ForEachTiddlerMacro]] uses JavaScript in its arguments. Even if you are not that familiar with JavaScript you may find forEachTiddler useful. Just have a look at the various ready-to-use [[ForEachTiddlerExamples]] and adapt them to your needs.

''The Elements of the Macro''

The arguments of the ForEachTiddlerMacro consist of multiple parts, each of them being optional.

&lt;&lt;slider chkFETInClause [[inClause]] &quot;inClause&quot; &quot;inClause&quot;&gt;&gt;
&lt;&lt;slider chkFETWhereClause [[whereClause]] &quot;whereClause&quot; &quot;whereClause&quot;&gt;&gt;
&lt;&lt;slider chkFETSortClause [[sortClause]] &quot;sortClause&quot; &quot;sortClause&quot;&gt;&gt;
&lt;&lt;slider chkFETScriptClause [[scriptClause]] &quot;scriptClause&quot; &quot;scriptClause&quot;&gt;&gt;
&lt;&lt;slider chkFETActions [[Action Specification]] &quot;Action Specification&quot; &quot;Action Specification&quot;&gt;&gt;

''Using Macros and &quot;&gt;&quot; inside the forEachTiddler Macro''

You may use other macro calls into the expression, especially in the actionParameters. To avoid that the {{{&gt;&gt;}}} of such a macro call is misinterpreted as the end of the {{{&lt;&lt;forEachTiddler...&gt;&gt;}}} macro you must escape the {{{&gt;&gt;}}} of the inner macro with {{{$))}}} E.g. if you want to use {{{&lt;&lt;tiddler ...&gt;&gt;}}} inside the {{{forEachTiddler}}} macro you have to write {{{&lt;&lt;tiddler ...$))}}}.

In addition it is necessary to escape single {{{&gt;}}} with the text {{{$)}}}.

''Using {{{&lt;&lt;tiddler ... with: ...&gt;&gt;}}} to re-use ForEachTiddler definitions''

Sometimes you may want to use a certain ForEachTiddler definition in slight variations. E.g. you may want to list either the tiddlers tagged with &quot;ToDo&quot; and in the other case with &quot;Done&quot;. To do so you may use &quot;Tiddler parameters&quot;. Here an example:

Replace the variable part of the ForEachTiddler definition with $1 ($2,... $9 are supported). E.g. you may create the tiddler &quot;ListTaggedTiddlers&quot; like this
{{{
&lt;&lt;forEachTiddler 
 where 
 'tiddler.tags.contains(&quot;$1&quot;)'
&gt;&gt;
}}}

Now you can use the ListTaggedTiddlers for various specific tags, using the {{{&lt;&lt;tiddler ...&gt;&gt;}}} macro:
{{{
&lt;&lt;tiddler ListTaggedTiddlers with: &quot;systemConfig&quot;&gt;&gt;
}}}
{{{
&lt;&lt;tiddler ListTaggedTiddlers with: &quot;Plugin&quot;&gt;&gt;
}}}


See also [[ForEachTiddlerExamples]].</pre>
</div>
<div title="ForEachTiddlerPlugin" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405090344" tags="systemConfig excludeTimeline" changecount="3" content-type="text/x-tiddlywiki">
<pre>/***
|''Name:''|ForEachTiddlerPlugin|
|''Version:''|1.0.8 (2007-04-12)|
|''Source:''|http://tiddlywiki.abego-software.de/#ForEachTiddlerPlugin|
|''Author:''|UdoBorkowski (ub [at] abego-software [dot] de)|
|''Licence:''|[[BSD open source license (abego Software)|http://www.abego-software.de/legal/apl-v10.html]]|
|''Copyright:''|&amp;copy; 2005-2007 [[abego Software|http://www.abego-software.de]]|
|''TiddlyWiki:''|1.2.38+, 2.0|
|''Browser:''|Firefox 1.0.4+; Firefox 1.5; InternetExplorer 6.0|
!Description

Create customizable lists, tables etc. for your selections of tiddlers. Specify the tiddlers to include and their order through a powerful language.

''Syntax:'' 
|&gt;|{{{&lt;&lt;}}}''forEachTiddler'' [''in'' //tiddlyWikiPath//] [''where'' //whereCondition//] [''sortBy'' //sortExpression// [''ascending'' //or// ''descending'']] [''script'' //scriptText//] [//action// [//actionParameters//]]{{{&gt;&gt;}}}|
|//tiddlyWikiPath//|The filepath to the TiddlyWiki the macro should work on. When missing the current TiddlyWiki is used.|
|//whereCondition//|(quoted) JavaScript boolean expression. May refer to the build-in variables {{{tiddler}}} and  {{{context}}}.|
|//sortExpression//|(quoted) JavaScript expression returning &quot;comparable&quot; objects (using '{{{&lt;}}}','{{{&gt;}}}','{{{==}}}'. May refer to the build-in variables {{{tiddler}}} and  {{{context}}}.|
|//scriptText//|(quoted) JavaScript text. Typically defines JavaScript functions that are called by the various JavaScript expressions (whereClause, sortClause, action arguments,...)|
|//action//|The action that should be performed on every selected tiddler, in the given order. By default the actions [[addToList|AddToListAction]] and [[write|WriteAction]] are supported. When no action is specified [[addToList|AddToListAction]]  is used.|
|//actionParameters//|(action specific) parameters the action may refer while processing the tiddlers (see action descriptions for details). &lt;&lt;tiddler [[JavaScript in actionParameters]]&gt;&gt;|
|&gt;|~~Syntax formatting: Keywords in ''bold'', optional parts in [...]. 'or' means that exactly one of the two alternatives must exist.~~|

See details see [[ForEachTiddlerMacro]] and [[ForEachTiddlerExamples]].

!Revision history
* v1.0.8 (2007-04-12)
** Adapted to latest TiddlyWiki 2.2 Beta importTiddlyWiki API (introduced with changeset 2004). TiddlyWiki 2.2 Beta builds prior to changeset 2004 are no longer supported (but TiddlyWiki 2.1 and earlier, of cause)
* v1.0.7 (2007-03-28)
** Also support &quot;pre&quot; formatted TiddlyWikis (introduced with TW 2.2) (when using &quot;in&quot; clause to work on external tiddlers)
* v1.0.6 (2006-09-16)
** Context provides &quot;viewerTiddler&quot;, i.e. the tiddler used to view the macro. Most times this is equal to the &quot;inTiddler&quot;, but when using the &quot;tiddler&quot; macro both may be different.
** Support &quot;begin&quot;, &quot;end&quot; and &quot;none&quot; expressions in &quot;write&quot; action
* v1.0.5 (2006-02-05)
** Pass tiddler containing the macro with wikify, context object also holds reference to tiddler containing the macro (&quot;inTiddler&quot;). Thanks to SimonBaird.
** Support Firefox 1.5.0.1
** Internal
*** Make &quot;JSLint&quot; conform
*** &quot;Only install once&quot;
* v1.0.4 (2006-01-06)
** Support TiddlyWiki 2.0
* v1.0.3 (2005-12-22)
** Features: 
*** Write output to a file supports multi-byte environments (Thanks to Bram Chen) 
*** Provide API to access the forEachTiddler functionality directly through JavaScript (see getTiddlers and performMacro)
** Enhancements:
*** Improved error messages on InternetExplorer.
* v1.0.2 (2005-12-10)
** Features: 
*** context object also holds reference to store (TiddlyWiki)
** Fixed Bugs: 
*** ForEachTiddler 1.0.1 has broken support on win32 Opera 8.51 (Thanks to BrunoSabin for reporting)
* v1.0.1 (2005-12-08)
** Features: 
*** Access tiddlers stored in separated TiddlyWikis through the &quot;in&quot; option. I.e. you are no longer limited to only work on the &quot;current TiddlyWiki&quot;.
*** Write output to an external file using the &quot;toFile&quot; option of the &quot;write&quot; action. With this option you may write your customized tiddler exports.
*** Use the &quot;script&quot; section to define &quot;helper&quot; JavaScript functions etc. to be used in the various JavaScript expressions (whereClause, sortClause, action arguments,...).
*** Access and store context information for the current forEachTiddler invocation (through the build-in &quot;context&quot; object) .
*** Improved script evaluation (for where/sort clause and write scripts).
* v1.0.0 (2005-11-20)
** initial version

!Code
***/
//{{{

	
//============================================================================
//============================================================================
//		   ForEachTiddlerPlugin
//============================================================================
//============================================================================

// Only install once
if (!version.extensions.ForEachTiddlerPlugin) {

if (!window.abego) window.abego = {};

version.extensions.ForEachTiddlerPlugin = {
	major: 1, minor: 0, revision: 8, 
	date: new Date(2007,3,12), 
	source: &quot;http://tiddlywiki.abego-software.de/#ForEachTiddlerPlugin&quot;,
	licence: &quot;[[BSD open source license (abego Software)|http://www.abego-software.de/legal/apl-v10.html]]&quot;,
	copyright: &quot;Copyright (c) abego Software GmbH, 2005-2007 (www.abego-software.de)&quot;
};

// For backward compatibility with TW 1.2.x
//
if (!TiddlyWiki.prototype.forEachTiddler) {
	TiddlyWiki.prototype.forEachTiddler = function(callback) {
		for(var t in this.tiddlers) {
			callback.call(this,t,this.tiddlers[t]);
		}
	};
}

//============================================================================
// forEachTiddler Macro
//============================================================================

version.extensions.forEachTiddler = {
	major: 1, minor: 0, revision: 8, date: new Date(2007,3,12), provider: &quot;http://tiddlywiki.abego-software.de&quot;};

// ---------------------------------------------------------------------------
// Configurations and constants 
// ---------------------------------------------------------------------------

config.macros.forEachTiddler = {
	 // Standard Properties
	 label: &quot;forEachTiddler&quot;,
	 prompt: &quot;Perform actions on a (sorted) selection of tiddlers&quot;,

	 // actions
	 actions: {
		 addToList: {},
		 write: {}
	 }
};

// ---------------------------------------------------------------------------
//  The forEachTiddler Macro Handler 
// ---------------------------------------------------------------------------

config.macros.forEachTiddler.getContainingTiddler = function(e) {
	while(e &amp;&amp; !hasClass(e,&quot;tiddler&quot;))
		e = e.parentNode;
	var title = e ? e.getAttribute(&quot;tiddler&quot;) : null; 
	return title ? store.getTiddler(title) : null;
};

config.macros.forEachTiddler.handler = function(place,macroName,params,wikifier,paramString,tiddler) {
	// config.macros.forEachTiddler.traceMacroCall(place,macroName,params,wikifier,paramString,tiddler);

	if (!tiddler) tiddler = config.macros.forEachTiddler.getContainingTiddler(place);
	// --- Parsing ------------------------------------------

	var i = 0; // index running over the params
	// Parse the &quot;in&quot; clause
	var tiddlyWikiPath = undefined;
	if ((i &lt; params.length) &amp;&amp; params[i] == &quot;in&quot;) {
		i++;
		if (i &gt;= params.length) {
			this.handleError(place, &quot;TiddlyWiki path expected behind 'in'.&quot;);
			return;
		}
		tiddlyWikiPath = this.paramEncode((i &lt; params.length) ? params[i] : &quot;&quot;);
		i++;
	}

	// Parse the where clause
	var whereClause =&quot;true&quot;;
	if ((i &lt; params.length) &amp;&amp; params[i] == &quot;where&quot;) {
		i++;
		whereClause = this.paramEncode((i &lt; params.length) ? params[i] : &quot;&quot;);
		i++;
	}

	// Parse the sort stuff
	var sortClause = null;
	var sortAscending = true; 
	if ((i &lt; params.length) &amp;&amp; params[i] == &quot;sortBy&quot;) {
		i++;
		if (i &gt;= params.length) {
			this.handleError(place, &quot;sortClause missing behind 'sortBy'.&quot;);
			return;
		}
		sortClause = this.paramEncode(params[i]);
		i++;

		if ((i &lt; params.length) &amp;&amp; (params[i] == &quot;ascending&quot; || params[i] == &quot;descending&quot;)) {
			 sortAscending = params[i] == &quot;ascending&quot;;
			 i++;
		}
	}

	// Parse the script
	var scriptText = null;
	if ((i &lt; params.length) &amp;&amp; params[i] == &quot;script&quot;) {
		i++;
		scriptText = this.paramEncode((i &lt; params.length) ? params[i] : &quot;&quot;);
		i++;
	}

	// Parse the action. 
	// When we are already at the end use the default action
	var actionName = &quot;addToList&quot;;
	if (i &lt; params.length) {
	   if (!config.macros.forEachTiddler.actions[params[i]]) {
			this.handleError(place, &quot;Unknown action '&quot;+params[i]+&quot;'.&quot;);
			return;
		} else {
			actionName = params[i]; 
			i++;
		}
	} 
	
	// Get the action parameter
	// (the parsing is done inside the individual action implementation.)
	var actionParameter = params.slice(i);


	// --- Processing ------------------------------------------
	try {
		this.performMacro({
				place: place, 
				inTiddler: tiddler,
				whereClause: whereClause, 
				sortClause: sortClause, 
				sortAscending: sortAscending, 
				actionName: actionName, 
				actionParameter: actionParameter, 
				scriptText: scriptText, 
				tiddlyWikiPath: tiddlyWikiPath});

	} catch (e) {
		this.handleError(place, e);
	}
};

// Returns an object with properties &quot;tiddlers&quot; and &quot;context&quot;.
// tiddlers holds the (sorted) tiddlers selected by the parameter,
// context the context of the execution of the macro.
//
// The action is not yet performed.
//
// @parameter see performMacro
//
config.macros.forEachTiddler.getTiddlersAndContext = function(parameter) {

	var context = config.macros.forEachTiddler.createContext(parameter.place, parameter.whereClause, parameter.sortClause, parameter.sortAscending, parameter.actionName, parameter.actionParameter, parameter.scriptText, parameter.tiddlyWikiPath, parameter.inTiddler);

	var tiddlyWiki = parameter.tiddlyWikiPath ? this.loadTiddlyWiki(parameter.tiddlyWikiPath) : store;
	context[&quot;tiddlyWiki&quot;] = tiddlyWiki;
	
	// Get the tiddlers, as defined by the whereClause
	var tiddlers = this.findTiddlers(parameter.whereClause, context, tiddlyWiki);
	context[&quot;tiddlers&quot;] = tiddlers;

	// Sort the tiddlers, when sorting is required.
	if (parameter.sortClause) {
		this.sortTiddlers(tiddlers, parameter.sortClause, parameter.sortAscending, context);
	}

	return {tiddlers: tiddlers, context: context};
};

// Returns the (sorted) tiddlers selected by the parameter.
//
// The action is not yet performed.
//
// @parameter see performMacro
//
config.macros.forEachTiddler.getTiddlers = function(parameter) {
	return this.getTiddlersAndContext(parameter).tiddlers;
};

// Performs the macros with the given parameter.
//
// @param parameter holds the parameter of the macro as separate properties.
//				  The following properties are supported:
//
//						place
//						whereClause
//						sortClause
//						sortAscending
//						actionName
//						actionParameter
//						scriptText
//						tiddlyWikiPath
//
//					All properties are optional. 
//					For most actions the place property must be defined.
//
config.macros.forEachTiddler.performMacro = function(parameter) {
	var tiddlersAndContext = this.getTiddlersAndContext(parameter);

	// Perform the action
	var actionName = parameter.actionName ? parameter.actionName : &quot;addToList&quot;;
	var action = config.macros.forEachTiddler.actions[actionName];
	if (!action) {
		this.handleError(parameter.place, &quot;Unknown action '&quot;+actionName+&quot;'.&quot;);
		return;
	}

	var actionHandler = action.handler;
	actionHandler(parameter.place, tiddlersAndContext.tiddlers, parameter.actionParameter, tiddlersAndContext.context);
};

// ---------------------------------------------------------------------------
//  The actions 
// ---------------------------------------------------------------------------

// Internal.
//
// --- The addToList Action -----------------------------------------------
//
config.macros.forEachTiddler.actions.addToList.handler = function(place, tiddlers, parameter, context) {
	// Parse the parameter
	var p = 0;

	// Check for extra parameters
	if (parameter.length &gt; p) {
		config.macros.forEachTiddler.createExtraParameterErrorElement(place, &quot;addToList&quot;, parameter, p);
		return;
	}

	// Perform the action.
	var list = document.createElement(&quot;ul&quot;);
	place.appendChild(list);
	for (var i = 0; i &lt; tiddlers.length; i++) {
		var tiddler = tiddlers[i];
		var listItem = document.createElement(&quot;li&quot;);
		list.appendChild(listItem);
		createTiddlyLink(listItem, tiddler.title, true);
	}
};

abego.parseNamedParameter = function(name, parameter, i) {
	var beginExpression = null;
	if ((i &lt; parameter.length) &amp;&amp; parameter[i] == name) {
		i++;
		if (i &gt;= parameter.length) {
			throw &quot;Missing text behind '%0'&quot;.format([name]);
		}
		
		return config.macros.forEachTiddler.paramEncode(parameter[i]);
	}
	return null;
}

// Internal.
//
// --- The write Action ---------------------------------------------------
//
config.macros.forEachTiddler.actions.write.handler = function(place, tiddlers, parameter, context) {
	// Parse the parameter
	var p = 0;
	if (p &gt;= parameter.length) {
		this.handleError(place, &quot;Missing expression behind 'write'.&quot;);
		return;
	}

	var textExpression = config.macros.forEachTiddler.paramEncode(parameter[p]);
	p++;

	// Parse the &quot;begin&quot; option
	var beginExpression = abego.parseNamedParameter(&quot;begin&quot;, parameter, p);
	if (beginExpression !== null) 
		p += 2;
	var endExpression = abego.parseNamedParameter(&quot;end&quot;, parameter, p);
	if (endExpression !== null) 
		p += 2;
	var noneExpression = abego.parseNamedParameter(&quot;none&quot;, parameter, p);
	if (noneExpression !== null) 
		p += 2;

	// Parse the &quot;toFile&quot; option
	var filename = null;
	var lineSeparator = undefined;
	if ((p &lt; parameter.length) &amp;&amp; parameter[p] == &quot;toFile&quot;) {
		p++;
		if (p &gt;= parameter.length) {
			this.handleError(place, &quot;Filename expected behind 'toFile' of 'write' action.&quot;);
			return;
		}
		
		filename = config.macros.forEachTiddler.getLocalPath(config.macros.forEachTiddler.paramEncode(parameter[p]));
		p++;
		if ((p &lt; parameter.length) &amp;&amp; parameter[p] == &quot;withLineSeparator&quot;) {
			p++;
			if (p &gt;= parameter.length) {
				this.handleError(place, &quot;Line separator text expected behind 'withLineSeparator' of 'write' action.&quot;);
				return;
			}
			lineSeparator = config.macros.forEachTiddler.paramEncode(parameter[p]);
			p++;
		}
	}
	
	// Check for extra parameters
	if (parameter.length &gt; p) {
		config.macros.forEachTiddler.createExtraParameterErrorElement(place, &quot;write&quot;, parameter, p);
		return;
	}

	// Perform the action.
	var func = config.macros.forEachTiddler.getEvalTiddlerFunction(textExpression, context);
	var count = tiddlers.length;
	var text = &quot;&quot;;
	if (count &gt; 0 &amp;&amp; beginExpression)
		text += config.macros.forEachTiddler.getEvalTiddlerFunction(beginExpression, context)(undefined, context, count, undefined);
	
	for (var i = 0; i &lt; count; i++) {
		var tiddler = tiddlers[i];
		text += func(tiddler, context, count, i);
	}
	
	if (count &gt; 0 &amp;&amp; endExpression)
		text += config.macros.forEachTiddler.getEvalTiddlerFunction(endExpression, context)(undefined, context, count, undefined);

	if (count == 0 &amp;&amp; noneExpression) 
		text += config.macros.forEachTiddler.getEvalTiddlerFunction(noneExpression, context)(undefined, context, count, undefined);
		

	if (filename) {
		if (lineSeparator !== undefined) {
			lineSeparator = lineSeparator.replace(/\\n/mg, &quot;\n&quot;).replace(/\\r/mg, &quot;\r&quot;);
			text = text.replace(/\n/mg,lineSeparator);
		}
		saveFile(filename, convertUnicodeToUTF8(text));
	} else {
		var wrapper = createTiddlyElement(place, &quot;span&quot;);
		wikify(text, wrapper, null/* highlightRegExp */, context.inTiddler);
	}
};


// ---------------------------------------------------------------------------
//  Helpers
// ---------------------------------------------------------------------------

// Internal.
//
config.macros.forEachTiddler.createContext = function(placeParam, whereClauseParam, sortClauseParam, sortAscendingParam, actionNameParam, actionParameterParam, scriptText, tiddlyWikiPathParam, inTiddlerParam) {
	return {
		place : placeParam, 
		whereClause : whereClauseParam, 
		sortClause : sortClauseParam, 
		sortAscending : sortAscendingParam, 
		script : scriptText,
		actionName : actionNameParam, 
		actionParameter : actionParameterParam,
		tiddlyWikiPath : tiddlyWikiPathParam,
		inTiddler : inTiddlerParam, // the tiddler containing the &lt;&lt;forEachTiddler ...&gt;&gt; macro call.
		viewerTiddler : config.macros.forEachTiddler.getContainingTiddler(placeParam) // the tiddler showing the forEachTiddler result
	};
};

// Internal.
//
// Returns a TiddlyWiki with the tiddlers loaded from the TiddlyWiki of 
// the given path.
//
config.macros.forEachTiddler.loadTiddlyWiki = function(path, idPrefix) {
	if (!idPrefix) {
		idPrefix = &quot;store&quot;;
	}
	var lenPrefix = idPrefix.length;
	
	// Read the content of the given file
	var content = loadFile(this.getLocalPath(path));
	if(content === null) {
		throw &quot;TiddlyWiki '&quot;+path+&quot;' not found.&quot;;
	}
	
	var tiddlyWiki = new TiddlyWiki();

	// Starting with TW 2.2 there is a helper function to import the tiddlers
	if (tiddlyWiki.importTiddlyWiki) {
		if (!tiddlyWiki.importTiddlyWiki(content))
			throw &quot;File '&quot;+path+&quot;' is not a TiddlyWiki.&quot;;
		tiddlyWiki.dirty = false;
		return tiddlyWiki;
	}
	
	// The legacy code, for TW &lt; 2.2
	
	// Locate the storeArea div's
	var posOpeningDiv = content.indexOf(startSaveArea);
	var posClosingDiv = content.lastIndexOf(endSaveArea);
	if((posOpeningDiv == -1) || (posClosingDiv == -1)) {
		throw &quot;File '&quot;+path+&quot;' is not a TiddlyWiki.&quot;;
	}
	var storageText = content.substr(posOpeningDiv + startSaveArea.length, posClosingDiv);
	
	// Create a &quot;div&quot; element that contains the storage text
	var myStorageDiv = document.createElement(&quot;div&quot;);
	myStorageDiv.innerHTML = storageText;
	myStorageDiv.normalize();
	
	// Create all tiddlers in a new TiddlyWiki
	// (following code is modified copy of TiddlyWiki.prototype.loadFromDiv)
	var store = myStorageDiv.childNodes;
	for(var t = 0; t &lt; store.length; t++) {
		var e = store[t];
		var title = null;
		if(e.getAttribute)
			title = e.getAttribute(&quot;tiddler&quot;);
		if(!title &amp;&amp; e.id &amp;&amp; e.id.substr(0,lenPrefix) == idPrefix)
			title = e.id.substr(lenPrefix);
		if(title &amp;&amp; title !== &quot;&quot;) {
			var tiddler = tiddlyWiki.createTiddler(title);
			tiddler.loadFromDiv(e,title);
		}
	}
	tiddlyWiki.dirty = false;

	return tiddlyWiki;
};


	
// Internal.
//
// Returns a function that has a function body returning the given javaScriptExpression.
// The function has the parameters:
// 
//	 (tiddler, context, count, index)
//
config.macros.forEachTiddler.getEvalTiddlerFunction = function (javaScriptExpression, context) {
	var script = context[&quot;script&quot;];
	var functionText = &quot;var theFunction = function(tiddler, context, count, index) { return &quot;+javaScriptExpression+&quot;}&quot;;
	var fullText = (script ? script+&quot;;&quot; : &quot;&quot;)+functionText+&quot;;theFunction;&quot;;
	return eval(fullText);
};

// Internal.
//
config.macros.forEachTiddler.findTiddlers = function(whereClause, context, tiddlyWiki) {
	var result = [];
	var func = config.macros.forEachTiddler.getEvalTiddlerFunction(whereClause, context);
	tiddlyWiki.forEachTiddler(function(title,tiddler) {
		if (func(tiddler, context, undefined, undefined)) {
			result.push(tiddler);
		}
	});
	return result;
};

// Internal.
//
config.macros.forEachTiddler.createExtraParameterErrorElement = function(place, actionName, parameter, firstUnusedIndex) {
	var message = &quot;Extra parameter behind '&quot;+actionName+&quot;':&quot;;
	for (var i = firstUnusedIndex; i &lt; parameter.length; i++) {
		message += &quot; &quot;+parameter[i];
	}
	this.handleError(place, message);
};

// Internal.
//
config.macros.forEachTiddler.sortAscending = function(tiddlerA, tiddlerB) {
	var result = 
		(tiddlerA.forEachTiddlerSortValue == tiddlerB.forEachTiddlerSortValue) 
			? 0
			: (tiddlerA.forEachTiddlerSortValue &lt; tiddlerB.forEachTiddlerSortValue)
			   ? -1 
			   : +1; 
	return result;
};

// Internal.
//
config.macros.forEachTiddler.sortDescending = function(tiddlerA, tiddlerB) {
	var result = 
		(tiddlerA.forEachTiddlerSortValue == tiddlerB.forEachTiddlerSortValue) 
			? 0
			: (tiddlerA.forEachTiddlerSortValue &lt; tiddlerB.forEachTiddlerSortValue)
			   ? +1 
			   : -1; 
	return result;
};

// Internal.
//
config.macros.forEachTiddler.sortTiddlers = function(tiddlers, sortClause, ascending, context) {
	// To avoid evaluating the sortClause whenever two items are compared 
	// we pre-calculate the sortValue for every item in the array and store it in a 
	// temporary property (&quot;forEachTiddlerSortValue&quot;) of the tiddlers.
	var func = config.macros.forEachTiddler.getEvalTiddlerFunction(sortClause, context);
	var count = tiddlers.length;
	var i;
	for (i = 0; i &lt; count; i++) {
		var tiddler = tiddlers[i];
		tiddler.forEachTiddlerSortValue = func(tiddler,context, undefined, undefined);
	}

	// Do the sorting
	tiddlers.sort(ascending ? this.sortAscending : this.sortDescending);

	// Delete the temporary property that holds the sortValue.	
	for (i = 0; i &lt; tiddlers.length; i++) {
		delete tiddlers[i].forEachTiddlerSortValue;
	}
};


// Internal.
//
config.macros.forEachTiddler.trace = function(message) {
	displayMessage(message);
};

// Internal.
//
config.macros.forEachTiddler.traceMacroCall = function(place,macroName,params) {
	var message =&quot;&lt;&lt;&quot;+macroName;
	for (var i = 0; i &lt; params.length; i++) {
		message += &quot; &quot;+params[i];
	}
	message += &quot;&gt;&gt;&quot;;
	displayMessage(message);
};


// Internal.
//
// Creates an element that holds an error message
// 
config.macros.forEachTiddler.createErrorElement = function(place, exception) {
	var message = (exception.description) ? exception.description : exception.toString();
	return createTiddlyElement(place,&quot;span&quot;,null,&quot;forEachTiddlerError&quot;,&quot;&lt;&lt;forEachTiddler ...&gt;&gt;: &quot;+message);
};

// Internal.
//
// @param place [may be null]
//
config.macros.forEachTiddler.handleError = function(place, exception) {
	if (place) {
		this.createErrorElement(place, exception);
	} else {
		throw exception;
	}
};

// Internal.
//
// Encodes the given string.
//
// Replaces 
//	 &quot;$))&quot; to &quot;&gt;&gt;&quot;
//	 &quot;$)&quot; to &quot;&gt;&quot;
//
config.macros.forEachTiddler.paramEncode = function(s) {
	var reGTGT = new RegExp(&quot;\\$\\)\\)&quot;,&quot;mg&quot;);
	var reGT = new RegExp(&quot;\\$\\)&quot;,&quot;mg&quot;);
	return s.replace(reGTGT, &quot;&gt;&gt;&quot;).replace(reGT, &quot;&gt;&quot;);
};

// Internal.
//
// Returns the given original path (that is a file path, starting with &quot;file:&quot;)
// as a path to a local file, in the systems native file format.
//
// Location information in the originalPath (i.e. the &quot;#&quot; and stuff following)
// is stripped.
// 
config.macros.forEachTiddler.getLocalPath = function(originalPath) {
	// Remove any location part of the URL
	var hashPos = originalPath.indexOf(&quot;#&quot;);
	if(hashPos != -1)
		originalPath = originalPath.substr(0,hashPos);
	// Convert to a native file format assuming
	// &quot;file:///x:/path/path/path...&quot; - pc local file --&gt; &quot;x:\path\path\path...&quot;
	// &quot;file://///server/share/path/path/path...&quot; - FireFox pc network file --&gt; &quot;\\server\share\path\path\path...&quot;
	// &quot;file:///path/path/path...&quot; - mac/unix local file --&gt; &quot;/path/path/path...&quot;
	// &quot;file://server/share/path/path/path...&quot; - pc network file --&gt; &quot;\\server\share\path\path\path...&quot;
	var localPath;
	if(originalPath.charAt(9) == &quot;:&quot;) // pc local file
		localPath = unescape(originalPath.substr(8)).replace(new RegExp(&quot;/&quot;,&quot;g&quot;),&quot;\\&quot;);
	else if(originalPath.indexOf(&quot;file://///&quot;) === 0) // FireFox pc network file
		localPath = &quot;\\\\&quot; + unescape(originalPath.substr(10)).replace(new RegExp(&quot;/&quot;,&quot;g&quot;),&quot;\\&quot;);
	else if(originalPath.indexOf(&quot;file:///&quot;) === 0) // mac/unix local file
		localPath = unescape(originalPath.substr(7));
	else if(originalPath.indexOf(&quot;file:/&quot;) === 0) // mac/unix local file
		localPath = unescape(originalPath.substr(5));
	else // pc network file
		localPath = &quot;\\\\&quot; + unescape(originalPath.substr(7)).replace(new RegExp(&quot;/&quot;,&quot;g&quot;),&quot;\\&quot;);	
	return localPath;
};

// ---------------------------------------------------------------------------
// Stylesheet Extensions (may be overridden by local StyleSheet)
// ---------------------------------------------------------------------------
//
setStylesheet(
	&quot;.forEachTiddlerError{color: #ffffff;background-color: #880000;}&quot;,
	&quot;forEachTiddler&quot;);

//============================================================================
// End of forEachTiddler Macro
//============================================================================


//============================================================================
// String.startsWith Function
//============================================================================
//
// Returns true if the string starts with the given prefix, false otherwise.
//
version.extensions[&quot;String.startsWith&quot;] = {major: 1, minor: 0, revision: 0, date: new Date(2005,11,20), provider: &quot;http://tiddlywiki.abego-software.de&quot;};
//
String.prototype.startsWith = function(prefix) {
	var n =  prefix.length;
	return (this.length &gt;= n) &amp;&amp; (this.slice(0, n) == prefix);
};



//============================================================================
// String.endsWith Function
//============================================================================
//
// Returns true if the string ends with the given suffix, false otherwise.
//
version.extensions[&quot;String.endsWith&quot;] = {major: 1, minor: 0, revision: 0, date: new Date(2005,11,20), provider: &quot;http://tiddlywiki.abego-software.de&quot;};
//
String.prototype.endsWith = function(suffix) {
	var n = suffix.length;
	return (this.length &gt;= n) &amp;&amp; (this.right(n) == suffix);
};


//============================================================================
// String.contains Function
//============================================================================
//
// Returns true when the string contains the given substring, false otherwise.
//
version.extensions[&quot;String.contains&quot;] = {major: 1, minor: 0, revision: 0, date: new Date(2005,11,20), provider: &quot;http://tiddlywiki.abego-software.de&quot;};
//
String.prototype.contains = function(substring) {
	return this.indexOf(substring) &gt;= 0;
};

//============================================================================
// Array.indexOf Function
//============================================================================
//
// Returns the index of the first occurance of the given item in the array or 
// -1 when no such item exists.
//
// @param item [may be null]
//
version.extensions[&quot;Array.indexOf&quot;] = {major: 1, minor: 0, revision: 0, date: new Date(2005,11,20), provider: &quot;http://tiddlywiki.abego-software.de&quot;};
//
Array.prototype.indexOf = function(item) {
	for (var i = 0; i &lt; this.length; i++) {
		if (this[i] == item) {
			return i;
		}
	}
	return -1;
};

//============================================================================
// Array.contains Function
//============================================================================
//
// Returns true when the array contains the given item, otherwise false. 
//
// @param item [may be null]
//
version.extensions[&quot;Array.contains&quot;] = {major: 1, minor: 0, revision: 0, date: new Date(2005,11,20), provider: &quot;http://tiddlywiki.abego-software.de&quot;};
//
Array.prototype.contains = function(item) {
	return (this.indexOf(item) &gt;= 0);
};

//============================================================================
// Array.containsAny Function
//============================================================================
//
// Returns true when the array contains at least one of the elements 
// of the item. Otherwise (or when items contains no elements) false is returned.
//
version.extensions[&quot;Array.containsAny&quot;] = {major: 1, minor: 0, revision: 0, date: new Date(2005,11,20), provider: &quot;http://tiddlywiki.abego-software.de&quot;};
//
Array.prototype.containsAny = function(items) {
	for(var i = 0; i &lt; items.length; i++) {
		if (this.contains(items[i])) {
			return true;
		}
	}
	return false;
};


//============================================================================
// Array.containsAll Function
//============================================================================
//
// Returns true when the array contains all the items, otherwise false.
// 
// When items is null false is returned (even if the array contains a null).
//
// @param items [may be null] 
//
version.extensions[&quot;Array.containsAll&quot;] = {major: 1, minor: 0, revision: 0, date: new Date(2005,11,20), provider: &quot;http://tiddlywiki.abego-software.de&quot;};
//
Array.prototype.containsAll = function(items) {
	for(var i = 0; i &lt; items.length; i++) {
		if (!this.contains(items[i])) {
			return false;
		}
	}
	return true;
};


} // of &quot;install only once&quot;

// Used Globals (for JSLint) ==============
// ... DOM
/*global 	document */
// ... TiddlyWiki Core
/*global 	convertUnicodeToUTF8, createTiddlyElement, createTiddlyLink, 
			displayMessage, endSaveArea, hasClass, loadFile, saveFile, 
			startSaveArea, store, wikify */
//}}}


/***
!Licence and Copyright
Copyright (c) abego Software ~GmbH, 2005 ([[www.abego-software.de|http://www.abego-software.de]])

Redistribution and use in source and binary forms, with or without modification,
are permitted provided that the following conditions are met:

Redistributions of source code must retain the above copyright notice, this
list of conditions and the following disclaimer.

Redistributions in binary form must reproduce the above copyright notice, this
list of conditions and the following disclaimer in the documentation and/or other
materials provided with the distribution.

Neither the name of abego Software nor the names of its contributors may be
used to endorse or promote products derived from this software without specific
prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND ANY
EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,
INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR
BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN
ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH
DAMAGE.
***/

</pre>
</div>
<div title="Free Energy" modifier="Christopher Wilson" created="201402250041" modified="201405101733" changecount="5" content-type="">
<pre>!!Definition
The ''//free energy//'' $F$ is defined as 
$$e^{-\beta F} \equiv Z \quad\Leftrightarrow\quad  F = -k_BT\ln Z,$$
where $Z$ is the partition function of the system. 

!!Usage
In terms of the mean energy $\bigl&lt;H\bigr&gt;$, entropy $S$, and temperature $T$, the free energy and its derivatives with respect to temperature are given by
\begin{align}
 F &amp;=  \bigl&lt;H\bigr&gt; - TS.\\[5pt]
\partial_T F &amp;= \;\frac{1}{k_BT^2}\bigl&lt;\bigl(\Delta H\bigr)^2\bigr&gt; - S \\
\partial^2_T F &amp;= - \frac{1}{k_BT^3}\bigl&lt;\bigl(\Delta H\bigr)^2\bigr&gt;.
\end{align}
This implies that the mean energy may be expressed as 
$$\partial_T \left&lt;H\right&gt; = \frac{1}{k_BT^2}\bigl&lt;\bigl(\Delta H\bigr)^2\bigr&gt;.$$
In terms of the heat capacity $C$, we have
$$ C =  \partial_T \left&lt;H\right&gt; = - T \partial^2_T F.$$

*+++!!!![Show Derivation]
A relation between the free energy and mean energy of the system, $F$ and $\bigl&lt;H(\sigma)\bigr&gt;$, respectively, may be derived as follows:
Beginning with the form of $F$ given by
$$F  = -\frac{1}{\beta} \ln Z = -\frac{1}{\beta} \ln\left(\sum_\sigma e^{-\beta H(\sigma)}\right).$$
Noting that
\begin{align}
\partial_\beta \ln Z &amp;= \partial_\beta \ln\left(\sum_\sigma e^{-\beta H(\sigma)}\right) \\
&amp;= - \frac{1}{Z}\sum_\sigma H(\sigma)e^{-\beta H(\sigma)} \\
&amp;= - \bigl&lt;H(\sigma)\bigr&gt;,
\end{align}
we can differentiate $F$ with respect to $\beta$ to obtain
\begin{align}
\partial_\beta F &amp;=  \frac{1}{\beta^2}\ln\left(\sum_\sigma e^{-\beta H(\sigma)}\right) + \frac{1}{\beta}\left&lt;H(\sigma)\right&gt;\\
&amp;= -\frac{1}{\beta}F + \frac{1}{\beta}\left&lt;H(\sigma)\right&gt;.
\end{align}
This leads to the differential equation in $\beta$ of 
$$ \beta \partial_\beta F + F = \left&lt;H(\sigma)\right&gt;,\tag{1}$$
which corresponds to the solution
$$ F = \Bigl&lt;H(\sigma)\Bigr&gt; - S(\sigma)(k_B\beta)^{-1},\tag{2}$$
where the sign of the constant (which can be shown to be the entropy of the system) was taken to be negative, by convention. Then, differentiating again with respect to $\beta$ gives
$$ \partial_\beta F = S(\sigma)(k_B\beta)^{-2} + \partial_\beta \Bigl&lt;H(\sigma)\Bigr&gt;,$$
where
\begin{align}
\partial_\beta \left&lt;H(\sigma)\right&gt; &amp;= \partial_\beta \frac{1}{Z} \sum_\sigma (H(\sigma))e^{-\beta H(\sigma)}\\
&amp; = \frac{1}{Z^2}\left(\sum_\sigma (-H^2(\sigma))e^{-\beta H(\sigma)}Z - \sum_\sigma (-H(\sigma))e^{-\beta H(\sigma)}\sum_\sigma (H(\sigma))e^{-\beta H(\sigma)}\right) \\
&amp;= -\left(\bigl&lt;H^2(\sigma)\bigr&gt; - \bigl&lt;H(\sigma)\bigr&gt;^2\right)\\
&amp; = - \Bigl&lt;\bigl(\Delta H(\sigma)\bigr)^2\Bigr&gt;.
\end{align}
Using the chain rule, we note that 
$$\partial_\beta = \frac{\partial T}{\partial \beta}\partial_T = -\frac{1}{k_B \beta^2}\partial_T. \tag{3}$$
This allows us to write the above as 
$$\partial_T \left&lt;H(\sigma)\right&gt; = \frac{1}{k_BT^2}\Bigl&lt;\bigl(\Delta H(\sigma)\bigr)^2\Bigr&gt;.$$
Furthermore, it follows that the change in the the free energy with respect to temperature is proportional to the variance of the free energy, divided by temperature squared:
$$\partial_T F = \frac{1}{k_BT^2}\Bigl&lt;\bigl(\Delta H(\sigma)\bigr)^2\Bigr&gt; - S(\sigma). \tag{4}$$
From Eqs. (2) and (4), we summarize the results of our derivation thus far as
\begin{align}
F &amp;= \bigl&lt;H\bigr&gt; - TS = - k_b T \ln Z \tag{5a}\\
\partial_T F &amp;= \frac{1}{k_BT^2}\bigl&lt;\bigl(\Delta H\bigr)^2\bigr&gt; - S \tag{5b}.
\end{align}
where $\quad\bigl&lt;H\bigr&gt; = -\partial_\beta \ln Z\quad$ and $\quad\bigl&lt;\bigl(\Delta H\bigr)^2\bigr&gt; = \partial^2_\beta \ln Z$.

These results may be further extended by considering the second derivative of the free energy with respect to temperature. Instead of explicitly calculating this quantity from (5b), let us note that
$$\bigl&lt;\bigl(\Delta H\bigr)^2\bigr&gt; = \partial^2_\beta \ln Z = - \partial^2_\beta(\beta F).$$
Working with these, we find that
\begin{align}
\bigl&lt;\bigl(\Delta H\bigr)^2\bigr&gt; &amp;= -  \partial_\beta ( F + \beta \partial_\beta F) \\
&amp;=  -  ( 2\partial_\beta F + \beta \partial^2_\beta F)
\end{align}
In order to switch variables from $\beta$ to $k_B T$, we use Eq. (3) again to note that
$$ \partial^2_\beta = (k_BT)^2(2T\partial_T + T^2\partial^2_T).$$
Then, we continue the above with
\begin{align}
\bigl&lt;\bigl(\Delta H\bigr)^2\bigr&gt; &amp;=-(-2k_BT^2\partial_T F + \frac{1}{k_BT}(k_BT)^2(2T\partial_T + T^2\partial^2_T)F) \\
&amp;=- (-2k_BT^2\partial_T F + 2k_BT^2\partial_T F + k_BT^3\partial^2_TF) \\
&amp;=- k_BT^3\partial^2_TF 
\end{align}
Therefore, we may write the second derivative with respect to temperature as
$$\partial^2_T F = - \frac{1}{k_BT^3}\bigl&lt;\bigl(\Delta H\bigr)^2\bigr&gt;.$$
Finishing this up, we define the heat capacity as $C = - T \partial^2_T F$, so that the above result implies
$$C = \frac{1}{k_BT^2}\bigl&lt;\bigl(\Delta H\bigr)^2\bigr&gt;.$$
Noting our previous result, we also equivalently have $C = \partial_T \left&lt;H\right&gt;$.</pre>
</div>
<div title="Gannon Singularity Theorem" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405060517" modified="201405060523" tags="[[Topology Paper]]" changecount="7" content-type="text/x-tiddlywiki">
<pre>!!Theorem
Let $(\mathcal{M}, g_{\mu\nu})$ be a spacetime (a four-manifold with a [[Lorentzian|Lorentzian Manifold]]) such that:
#$\mathcal{M} \approx \mathbb{R} \times \mathcal{S}$.
#$\mathcal{S}$ is a non-[[Simply Connected]] [[Cauchy Surface]] and [[Regular]] near infinity.
#The [[Weak Energy Condition]] is satisfied.

Then $(\mathcal{M}, g_{\mu\nu})$ is null geodesically incomplete.&lt;&lt;bibtex Gannon1975&gt;&gt;

!!Discussion
Gannon's theorem tells us that if there is some topology anomaly that lives long enough, then some singularity developes.  If the [[Cosmic Censorship Theorem]] is valid, then these topology anomalies are hidden by an event horizon.
*Topology change does not occur on scales the size of the universe, because this would imply [[Tipler Violation]] of the energy conditions, which is valid for all types of known matter.
*Topological change is possible at the quantum scale due to non-conservation of energy by the uncertainty principle.
*Thus, the [[Topological Censorship Theorem]] states that outsize all event horizons, topology anomalies are only permitted at the Planck scale, and they cannot grow to macroscopic size and persist for macroscopically long times.
</pre>
</div>
<div title="GettingStarted" creator="psd" modifier="Christopher Wilson" created="201305230253" tags="excludeTimeline" changecount="2">
<pre>To get started with this blank [[TiddlyWiki]], you'll need to modify the following tiddlers:
* [[SiteTitle]] &amp; [[SiteSubtitle]]: The title and subtitle of the site, as shown above (after saving, they will also appear in the browser title bar)
* [[MainMenu]]: The menu (usually on the left)
* [[DefaultTiddlers]]: Contains the names of the tiddlers that you want to appear when the TiddlyWiki is opened
You'll also need to enter your username for signing your edits: &lt;&lt;option txtUserName&gt;&gt;

See also [[MPTW]].</pre>
</div>
<div title="Globally Hyperbolic" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405060601" modified="201405061212" tags="[[Topology Paper]]" changecount="14" content-type="text/x-tiddlywiki">
<pre>!!Definition
A set $\mathcal{N}$ is said to be //globally hyperbolic// if the [[Strong Casuality Assumption]] holds on $\mathcal{N}$, and if for any two points $p, q \in \mathcal{N}$, the set $\mathcal{J}^+(p)\cap\mathcal{J}^-(q)$ is [[Compact]] and is contained on $\mathcal{N}$.&lt;&lt;bibtex hawking1973large&gt;&gt;
*$\mathcal{J}^+(p)\cap\mathcal{J}^-(q)$ does not contain any points on the edge of  spacetime, i.e. at infinity or at a singularity. (Same meaning as an [[Inextensible Curve]]? I think they are different)
*The reason for the name //globally hyperbolicity// is that on $\mathcal{N}$, the wave equation for a delta function source at $p \in \mathcal{N}$ has a unique solution which vanishes outside $\mathcal{N} - \mathcal{J}^+(p,\mathcal{N})$.
*Globally hyperbolic curves have [[Cauchy Surfaces|Cauchy Surface]].


A spacetime $(\mathcal{M},g_{\mu\nu})$ is //globally hyperbolic// if it has a [[Cauchy Surface]] $\Sigma$; that is, $(\mathcal{M},g_{\mu\nu})$ is the domain of dependence $D(\Sigma)$ of a spacelike hypersurface, $\Sigma$.&lt;&lt;bibtex PhysRevLett.71.1486&gt;&gt;</pre>
</div>
<div title="Group Tables" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404200403" modified="201404290808" tags="[[Critical Phenomena]]" changecount="9" content-type="text/x-tiddlywiki">
<pre></pre>
</div>
<div title="H3 Group Images" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404201934" modified="201404210022" tags="excludeTimeline excludeLists Images" changecount="19" content-type="">
<pre>&lt;part H3_02&gt;
|sortable2|k
|!|!|h
|&gt;|!Standard Plots|h
| [img[CritPhen\Models\H3\Plots\2d H3_02, M.png]] | [img[CritPhen\Models\H3\Plots\2d H3_02, E.png]] |
| [img[CritPhen\Models\H3\Plots\2d H3_02, X.png]] | [img[CritPhen\Models\H3\Plots\2d H3_02, C.png]] |
|&gt;|!Log-Log Plots|h
| [img[CritPhen\Models\H3\Plots\2d H3_02, M_ln.png]] | [img[CritPhen\Models\H3\Plots\2d H3_02, C_ln.png]] |
| [img[CritPhen\Models\H3\Plots\2d H3_02, X_ln.png]] |
|&gt;|!Cumulants|h
|[img[CritPhen\Models\H3\Plots\2d H3_02, M4.png]] | [img[CritPhen\Models\H3\Plots\2d H3_02, E4.png]] |
|!|!|h
&lt;/part&gt;
&lt;part H3_0&gt;
|sortable2|k
|!|!|h
|&gt;|!Standard Plots|h
| [img[CritPhen\Models\H3\Plots\2d H3_0, M.png]] | [img[CritPhen\Models\H3\Plots\2d H3_0, E.png]] |
| [img[CritPhen\Models\H3\Plots\2d H3_0, X.png]] | [img[CritPhen\Models\H3\Plots\2d H3_0, C.png]] |
|&gt;|!Log-Log Plots|h
| [img[CritPhen\Models\H3\Plots\2d H3_0, M_ln.png]] | [img[CritPhen\Models\H3\Plots\2d H3_0, C_ln.png]] |
| [img[CritPhen\Models\H3\Plots\2d H3_0, X_ln.png]] |
|&gt;|!Cumulants|h
| [img[CritPhen\Models\H3\Plots\2d H3_0, M4.png]] | [img[CritPhen\Models\H3\Plots\2d H3_0, E4.png]] |
|!|!|h
&lt;/part&gt;
&lt;part H3_1&gt;
|sortable2|k
|!|!|h
|&gt;|!Standard Plots|h
| [img[CritPhen\Models\H3\Plots\2d H3_1, M.png]] | [img[CritPhen\Models\H3\Plots\2d H3_1, E.png]] |
| [img[CritPhen\Models\H3\Plots\2d H3_1, X.png]] | [img[CritPhen\Models\H3\Plots\2d H3_1, C.png]] |
|&gt;|!Log-Log Plots|h
| [img[CritPhen\Models\H3\Plots\2d H3_1, M_ln.png]] | [img[CritPhen\Models\H3\Plots\2d H3_1, C_ln.png]] |
| [img[CritPhen\Models\H3\Plots\2d H3_1, X_ln.png]] |
|&gt;|!Cumulants|h
| [img[CritPhen\Models\H3\Plots\2d H3_1, M4.png]] | [img[CritPhen\Models\H3\Plots\2d H3_1, E4.png]] |
|!|!|h
&lt;/part&gt;
&lt;part H3_2&gt;
|sortable2|k
|!|!|h
|&gt;|!Standard Plots|h
| [img[CritPhen\Models\H3\Plots\2d H3_2, M.png]] | [img[CritPhen\Models\H3\Plots\2d H3_2, E.png]] |
| [img[CritPhen\Models\H3\Plots\2d H3_2, X.png]] | [img[CritPhen\Models\H3\Plots\2d H3_2, C.png]] |
|&gt;|!Log-Log Plots|h
| [img[CritPhen\Models\H3\Plots\2d H3_2, M_ln.png]] | [img[CritPhen\Models\H3\Plots\2d H3_2, C_ln.png]] |
| [img[CritPhen\Models\H3\Plots\2d H3_2, X_ln.png]] |
|&gt;|!Cumulants|h
|[img[CritPhen\Models\H3\Plots\2d H3_2, M4.png]] | [img[CritPhen\Models\H3\Plots\2d H3_2, E4.png]] |
|!|!|h
&lt;/part&gt;
&lt;part H3_7&gt;
|sortable2|k
|!|!|h
|&gt;|!Standard Plots|h
| [img[CritPhen\Models\H3\Plots\2d H3_7, M.png]] | [img[CritPhen\Models\H3\Plots\2d H3_7, E.png]] |
| [img[CritPhen\Models\H3\Plots\2d H3_7, X.png]] | [img[CritPhen\Models\H3\Plots\2d H3_7, C.png]] |
|&gt;|!Log-Log Plots|h
| [img[CritPhen\Models\H3\Plots\2d H3_7, M_ln.png]] | [img[CritPhen\Models\H3\Plots\2d H3_7, C_ln.png]] |
| [img[CritPhen\Models\H3\Plots\2d H3_7, X_ln.png]] |
|&gt;|!Cumulants|h
|[img[CritPhen\Models\H3\Plots\2d H3_7, M4.png]] | [img[CritPhen\Models\H3\Plots\2d H3_7, E4.png]] |
|!|!|h
&lt;/part&gt;</pre>
</div>
<div title="H3 Group Tables" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404192153" modified="201404290806" tags="excludeTimeline FixMe excludeLists" changecount="65" content-type="text/x-tiddlywiki">
<pre>@@color:red; THIS SLIDE NEEDS FIXING.@@

Using this group table gives the reversed Clock Model.

!!The Heisenberg Group Matrix
|sortable2|k
|[img(340px+,)[CritPhen\Models\H3\H3 Group.png]]|[img(340px+,)[CritPhen\Models\H3\H3 Dist.png]]|
*Group Relations: $a^2 = b^2 = e,\; z = aba^{-1}b^{-1},\; [a,z] = [b,z] = 0.$
*$a$ is a half-rotation followed by a reflection.
*$b\;$  is a reflection followed by a quarter-rotation.

!!Site Occupancy
|sortable2|k
|[img[CritPhen\Models\H3\2d H3 bins_1.png]]|[img[CritPhen\Models\H3\2d H3 bins_3.png]]|
|[img[CritPhen\Models\H3\2d H3 bins_8.png]]|
*Stable Ground Sites: All but $4, 5$.
*Only sites $1, 8$ exist in the second phase. 
*The final phase always looks the same, regardless of starting position.
*Complementary Sites: $1\Leftrightarrow 8, (2, 3) \Leftrightarrow (6, 7).$

!!Simulation Results
&lt;&lt;tabs H3Tables 
&quot;bin 1&quot; &quot;bin 1&quot; [[H3 Group Images/H3_0]]
&quot;bin 3&quot; &quot;bin 3&quot; [[H3 Group Images/H3_2]]
&quot;bins 1 vs. 3&quot; &quot;bins 1 vs. 3&quot; [[H3 Group Images/H3_02]]
&quot;D8 vs. H3&quot; &quot;D8 vs. H3&quot; [[Misc Group Images/D8_0vH3_0]]
&quot;CL8* vs. H3&quot; &quot;CL8* vs. H3&quot; [[Misc Group Images/H3_0vC8_0]]
&gt;&gt;

!!Files
*[[Download Data Files|CritPhen\Models\H3\H3Data.zip]]

</pre>
</div>
<div title="H3_p Images" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404290408" modified="201404290737" tags="excludeTimeline excludeLists Images" changecount="14" content-type="text/x-tiddlywiki">
<pre>&lt;part H3_4&gt;
|sortable3|k
| [img[CritPhen\Models\H3_p\Plots\2d H3_4, M.png]] | [img[CritPhen\Models\H3_p\Plots\2d H3_4, E.png]] |
| [img[CritPhen\Models\H3_p\Plots\2d H3_4, X.png]] | [img[CritPhen\Models\H3_p\Plots\2d H3_4, C.png]] |
&lt;/part&gt;
&lt;part H3_3&gt;
|sortable3|k
| [img[CritPhen\Models\H3_p\Plots\2d H3_3, M.png]] | [img[CritPhen\Models\H3_p\Plots\2d H3_3, E.png]] |
| [img[CritPhen\Models\H3_p\Plots\2d H3_3, X.png]] | [img[CritPhen\Models\H3_p\Plots\2d H3_3, C.png]] |
&lt;/part&gt;
&lt;part H3_2&gt;
|sortable3|k
| [img[CritPhen\Models\H3_p\Plots\2d H3_2, M.png]] | [img[CritPhen\Models\H3_p\Plots\2d H3_2, E.png]] |
| [img[CritPhen\Models\H3_p\Plots\2d H3_2, X.png]] | [img[CritPhen\Models\H3_p\Plots\2d H3_2, C.png]] |
&lt;/part&gt;
&lt;part H3_2metric&gt;
|sortable3|k
| Distance matrix for $H_3(\mathbb{Z}_2)$ |
| [img[Research\Images\H3_2 metric.png]]|
| Gives Clock-like transition. |c
&lt;/part&gt;
&lt;part D4metric&gt;
|sortable3|k
| Distance matrix for $D_4$ |
| [img[Research\Images\D4 metric.png]]|
| Acts like three Ising copies. |c
&lt;/part&gt;
&lt;part Q8metric&gt;
|sortable3|k
| Distance matrix for $Q_8$ |
| [img[Research\Images\Q8 metric.png]]|
| Gives Potts-like transition. |c
&lt;/part&gt;</pre>
</div>
<div title="HTMLFormattingPlugin" modifier="Christopher Wilson" created="201404120856" tags="systemConfig excludeTimeline" changecount="4" content-type="">
<pre>/***
|Name|HTMLFormattingPlugin|
|Source|http://www.TiddlyTools.com/#HTMLFormattingPlugin|
|Documentation|http://www.TiddlyTools.com/#HTMLFormattingPluginInfo|
|Version|2.4.0|
|Author|Eric Shulman - ELS Design Studios|
|License|http://www.TiddlyTools.com/#LegalStatements &lt;br&gt;and [[Creative Commons Attribution-ShareAlike 2.5 License|http://creativecommons.org/licenses/by-sa/2.5/]]|
|~CoreVersion|2.1|
|Type|plugin|
|Requires||
|Overrides|'HTML' formatter|
|Description|embed wiki syntax formatting inside of HTML content|
The ~HTMLFormatting plugin allows you to ''mix wiki-style formatting syntax within HTML formatted content'' by extending the action of the standard TiddlyWiki formatting handler.
!!!!!Documentation
&gt;see [[HTMLFormattingPluginInfo]]
!!!!!Revisions
&lt;&lt;&lt;
2009.01.05 [2.4.0] in wikifyTextNodes(), pass w.highlightRegExp and w.tiddler to wikify() so that search term highlighting and tiddler-relative macro processing will work
| see [[HTMLFormattingPluginInfo]] for additional revision details |
2005.06.26 [1.0.0] Initial Release (as code adaptation - pre-dates TiddlyWiki plugin architecture!!)
&lt;&lt;&lt;
!!!!!Code
***/
//{{{
version.extensions.HTMLFormattingPlugin= {major: 2, minor: 4, revision: 0, date: new Date(2009,1,5)};

// find the formatter for HTML and replace the handler
initHTMLFormatter();
function initHTMLFormatter()
{
	for (var i=0; i&lt;config.formatters.length &amp;&amp; config.formatters[i].name!=&quot;html&quot;; i++);
	if (i&lt;config.formatters.length)	config.formatters[i].handler=function(w) {
		if (!this.lookaheadRegExp)  // fixup for TW2.0.x
			this.lookaheadRegExp = new RegExp(this.lookahead,&quot;mg&quot;);
		this.lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source)
		if(lookaheadMatch &amp;&amp; lookaheadMatch.index == w.matchStart) {
			var html=lookaheadMatch[1];
			// if &lt;nowiki&gt; is present, just let browser handle it!
			if (html.indexOf('&lt;nowiki&gt;')!=-1)
				createTiddlyElement(w.output,&quot;span&quot;).innerHTML=html;
			else {
				// if &lt;hide linebreaks&gt; is present, suppress wiki-style literal handling of newlines
				if (html.indexOf('&lt;hide linebreaks&gt;')!=-1) html=html.replace(/\n/g,' ');
				// remove all \r's added by IE textarea and mask newlines and macro brackets
				html=html.replace(/\r/g,'').replace(/\n/g,'\\n').replace(/&lt;&lt;/g,'%%(').replace(/&gt;&gt;/g,')%%');
				// create span, let browser parse HTML
				var e=createTiddlyElement(w.output,&quot;span&quot;); e.innerHTML=html;
				// then re-render text nodes as wiki-formatted content
				wikifyTextNodes(e,w);
			}
			w.nextMatch = this.lookaheadRegExp.lastIndex; // continue parsing
		}
	}
}

// wikify #text nodes that remain after HTML content is processed (pre-order recursion)
function wikifyTextNodes(theNode,w)
{
	function unmask(s) { return s.replace(/\%%\(/g,'&lt;&lt;').replace(/\)\%%/g,'&gt;&gt;').replace(/\\n/g,'\n'); }
	switch (theNode.nodeName.toLowerCase()) {
		case 'style': case 'option': case 'select':
			theNode.innerHTML=unmask(theNode.innerHTML);
			break;
		case 'textarea':
			theNode.value=unmask(theNode.value);
			break;
		case '#text':
			var txt=unmask(theNode.nodeValue);
			var newNode=createTiddlyElement(null,&quot;span&quot;);
			theNode.parentNode.replaceChild(newNode,theNode);
			wikify(txt,newNode,highlightHack,w.tiddler);
			break;
		default:
			for (var i=0;i&lt;theNode.childNodes.length;i++)
				wikifyTextNodes(theNode.childNodes.item(i),w); // recursion
			break;
	}
}
//}}}</pre>
</div>
<div title="Harmonic Perturbation" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405040426" modified="201405101040" changecount="17" content-type="text/x-tiddlywiki" alias="[[harmonic perturbation]]">
<pre>Let the interaction term be given by $V(t) = \hat{\eta} e^{i\omega t} + \hat{\eta}^\dagger e^{-i\omega t}$, where $\hat{\eta}$ is time-independent.  Furthermore, let $$\hat{\eta}_{_{\!\Large fi}} \equiv \Bigr&lt;\psi_f\bigr|\hat{\eta}\bigr|\psi_i\Bigr&gt;.$$

The first order transition probability gives 
$$\mathcal{P}_{fi}(t) = \frac{1}{\hbar^2}\biggl|\int_0^t\hat{\eta}_{fi}e^{it'(\omega_{fi}+\omega)}\,dt'+\int_0^t\hat{\eta}_{fi}^\dagger e^{it'(\omega_{fi}-\omega)}\,dt'\biggr|^2.$$

The cross-terms are neglected, as they are small and supposedly yield no lasting transition.  Furthermore, noting that $|e^{i\alpha t} - 1 |^2 = 4\sin^2(\alpha t/2)$, we have
$$\mathcal{P}_{fi}(t) = \frac{1}{\hbar^2}\bigl|\hat{\eta}_{fi}\bigr|^2 \frac{4\sin^2\bigl((\omega_{fi}+\omega)t/2\bigr)}{(\omega_{fi} + \omega)^2}+\frac{1}{\hbar^2}\bigl|\hat{\eta}_{fi}^\dagger\bigr|^2 \frac{4\sin^2\bigl((\omega_{fi}-\omega)t/2\bigr)}{(\omega_{fi} - \omega)^2}.$$
Note that the transition probability is a maximum at the resonant frequencies $\omega_{fi} = \pm \omega$.

Following the same asymptotic method as given in the [[constant perturbation]] calculation, we find the [[transition rate]] in the $t\rightarrow \infty$ limit to be 
$$\Gamma_{fi}(t) = \frac{2\pi}{\hbar}\bigl|\hat{\eta}_{fi}\bigr|^2 \delta(E_f-E_i+\hbar \omega) +\frac{2\pi}{\hbar}\bigl|\hat{\eta}_{fi}^\dagger\bigr|^2 \delta(E_f-E_i-\hbar \omega) .$$

This is non-zero when $E_f = E_i \pm \hbar\omega$.

*$E_f &lt; E_i \Rightarrow $ [[Stimulated Emission]] due to $\hat{V}(t)$.
*$E_f &gt; E_i \Rightarrow $ [[Photon Absorbtion]] due to $\hat{V}(t)$.
*The effect of a harmonic perturbation is to transfer to the system, or remove from the system, a photon of energy $\hbar\omega$.
*This is in contrast to a [[Constant Perturbation]], where no energy is transferred.</pre>
</div>
<div title="Heisenberg Group" modifier="Christopher Wilson" created="201404082203" modified="201404210048" tags="[[Critical Phenomena]]" changecount="14" content-type="text/x-tiddlywiki">
<pre>!!Group Structure
In three-dimensions, there is a unique (up to isomorphism) connected, simply connected, nilpotent Lie group, which we denote as $G_3$, which is known as the Heisenberg group.  This group defines a non-abelian multiplication rule on the set $\mathbb{R}^3$ as follows:
$$(x,y,z)(x',y',z') = (x+x'+z\,y',y+y',z+z').$$
From this, we may show that every cocompact discrete subgroup $H$ of $G_3$ is isomorphic to a group $H_3(p)$, which is defined on $\mathbb{Z}^3$ with the multiplication rule:
$$(k,m,n)(k',m',n') = (k+k'+p\,n\,m',m+m',n+n'),$$
for some $p\in\mathbb{N}$.  The integer Heisenberg group $H_3 = H_3(1)$ is known as the lattice subgroup of $G_3$.  Similarly, we also note that the analogous four dimensional unique Lie group $G_4$ defined on $\mathbb{R}^4$ follows the multiplication rule:
$$(w,x,y,z)(x',y',z') = (w+w'+z\,x+y'\,z(z-1)/2,x+x'+z\,y',y+y',z+z'),$$
which shows that the higher dimensional group $G_4$ may be thought of as an additional structure built on top of $G_3$.&lt;&lt;bibtex Milnes2001224&gt;&gt;

!!Simulation Results
See [[H3 Group Tables]].
</pre>
</div>
<div title="Heisenberg Picture" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405032100" modified="201405032300" changecount="4" content-type="text/x-tiddlywiki">
<pre>The state vectors are frozen in time in the Heisenberg picture:
$$\Bigl|\Psi(t)\Bigr&gt;_H = e^{i\hat{H}t/\hbar}\Bigl|\Psi(t)\Bigr&gt;_S = \hat{U}^\dagger\Bigl|\Psi(t)\Bigr&gt;_S$$
Operators evolve as 
$$\hat{A}_H(t) = e^{i\hat{H}t/\hbar}\,\hat{A}\,e^{-i\hat{H}t/\hbar}$$
The Heisenberg equation of motion is given by
$$\frac{d\hat{A}_H}{dt} = \frac{1}{i\hbar}\bigl[\hat{A}_H,\hat{H}\bigr]$$</pre>
</div>
<div title="Helicity Modulus" modifier="Christopher Wilson" created="201404072318" modified="201404210247" tags="[[Critical Phenomena]]" changecount="1" content-type="">
<pre>!!Definition
The ''//Helicity Modulus//'' or ''//~Spin-Stiffness//'' $\Upsilon$ is a constant which represents the cost in [[Free Energy]] $F$ of an initial twist $\theta$ in the phase of the order parameter of the system, $$\Upsilon = \frac{1}{N}\partial^2_\theta F(\theta) \biggr|_{\theta = 0},$$ where $N$ is the number of lattice points in the system.</pre>
</div>
<div title="HideTiddlerSubtitle" modifier="Christopher Wilson" created="200607170718" modified="201404121825" tags="transclusion excludeTimeline" content-type="" changecount="3">
<pre>/%
!info
|Name|HideTiddlerSubtitle|
|Source|http://www.TiddlyTools.com/#HideTiddlerSubtitle|
|Version|2.0.1|
|Author|Eric Shulman|
|License|http://www.TiddlyTools.com/#LegalStatements|
|~CoreVersion|2.1|
|Type|transclusion|
|Description|hide a tiddler's subtitle (date and author)|
Usage:
&lt;&lt;&lt;
{{{
&lt;&lt;tiddler HideTiddlerSubtitle&gt;&gt;
&lt;&lt;tiddler HideTiddlerSubtitle with: TiddlerTitle&gt;&gt;
}}}
&lt;&lt;&lt;
!end
!show
&lt;&lt;tiddler {{
	var title=&quot;$1&quot;;
	if (title=='$'+'1')
		title=(story.findContainingTiddler(place)||place).getAttribute('tiddler')||'';
	var t=story.getTiddler(title); if (t) {
		var e=t.getElementsByTagName('*');
		for (var i=0; i&lt;e.length; i++)
			if (hasClass(e[i],'subtitle')) e[i].style.display='none';
	}
'';}}&gt;&gt;
!end
%/&lt;&lt;tiddler {{
	var src='HideTiddlerSubtitle';
	src+(tiddler&amp;&amp;tiddler.title==src?'##info':'##show');}}
with: [[$1]]&gt;&gt;</pre>
</div>
<div title="HideTiddlerTags" modifier="Christopher Wilson" created="200601042022" modified="201404121825" tags="transclusion excludeTimeline" content-type="" changecount="5">
<pre>/%
!info
|Name|HideTiddlerTags|
|Source|http://www.TiddlyTools.com/#HideTiddlerTags|
|Version|2.0.1|
|Author|Eric Shulman|
|License|http://www.TiddlyTools.com/#LegalStatements|
|~CoreVersion|2.1|
|Type|transclusion|
|Description|hide a tiddler's 'tagged' and 'tagging' displays (if any)|
Usage:
&lt;&lt;&lt;
{{{
&lt;&lt;tiddler HideTiddlerTags&gt;&gt;
&lt;&lt;tiddler HideTiddlerTags with: TiddlerTitle&gt;&gt;
}}}
&lt;&lt;&lt;
!end
!show
&lt;&lt;tiddler {{
	var title=&quot;$1&quot;;
	if (title=='$'+'1') {
		var here=story.findContainingTiddler(place);
		if (here) title=here.getAttribute('tiddler');
	}
	var t=story.getTiddler(title); if (t) {
		var e=t.getElementsByTagName('*');
		for (var i=0; i&lt;e.length; i++)
			if (hasClass(e[i],'tagging')||hasClass(e[i],'tagged'))
				e[i].style.display='none';
	}
'';}}&gt;&gt;
!end
%/&lt;&lt;tiddler {{
	var src='HideTiddlerTags';
	src+(tiddler&amp;&amp;tiddler.title==src?'##info':'##show');}}
with: [[$1]]&gt;&gt;</pre>
</div>
<div title="HideWhenPlugin" modifier="Christopher Wilson" created="201106271027" modified="201305222315" tags="systemConfig excludeTimeline" changecount="3">
<pre>/***
|Name:|HideWhenPlugin|
|Description:|Allows conditional inclusion/exclusion in templates|
|Version:|3.2a|
|Date:|27-Jun-2011|
|Source:|http://mptw.tiddlyspot.com/#HideWhenPlugin|
|Author:|Simon Baird &lt;simon.baird@gmail.com&gt;|
|License:|http://mptw.tiddlyspot.com/#TheBSDLicense|
For use in ViewTemplate and EditTemplate. Example usage:
{{{&lt;div macro=&quot;showWhenTagged Task&quot;&gt;[[TaskToolbar]]&lt;/div&gt;}}}
{{{&lt;div macro=&quot;showWhen tiddler.modifier == 'BartSimpson'&quot;&gt;&lt;img src=&quot;bart.gif&quot;/&gt;&lt;/div&gt;}}}

Warning: the showWhen and hideWhen macros will blindly eval paramString.
This could be used to execute harmful javascript from a tiddler.

(TODO: Make some effort to sanitize paramString. Perhaps disallow the equals sign?)
***/
//{{{

window.hideWhenLastTest = false;

window.removeElementWhen = function(test,place) {
  window.hideWhenLastTest = test;
  if (test) {
    jQuery(place).empty()
    place.parentNode.removeChild(place);
  }
};

merge(config.macros,{

  hideWhen: { handler: function(place,macroName,params,wikifier,paramString,tiddler) {
    removeElementWhen( eval(paramString), place );
  }},

  showWhen: { handler: function(place,macroName,params,wikifier,paramString,tiddler) {
    removeElementWhen( !eval(paramString), place );
  }},

  hideWhenTagged: { handler: function (place,macroName,params,wikifier,paramString,tiddler) {
    removeElementWhen( tiddler.tags.containsAll(params), place );
  }},

  showWhenTagged: { handler: function (place,macroName,params,wikifier,paramString,tiddler) {
    removeElementWhen( !tiddler.tags.containsAll(params), place );
  }},

  hideWhenTaggedAny: { handler: function (place,macroName,params,wikifier,paramString,tiddler) {
    removeElementWhen( tiddler.tags.containsAny(params), place );
  }},

  showWhenTaggedAny: { handler: function (place,macroName,params,wikifier,paramString,tiddler) {
    removeElementWhen( !tiddler.tags.containsAny(params), place );
  }},

  hideWhenTaggedAll: { handler: function (place,macroName,params,wikifier,paramString,tiddler) {
    removeElementWhen( tiddler.tags.containsAll(params), place );
  }},

  showWhenTaggedAll: { handler: function (place,macroName,params,wikifier,paramString,tiddler) {
    removeElementWhen( !tiddler.tags.containsAll(params), place );
  }},

  hideWhenExists: { handler: function(place,macroName,params,wikifier,paramString,tiddler) {
    removeElementWhen( store.tiddlerExists(params[0]) || store.isShadowTiddler(params[0]), place );
  }},

  showWhenExists: { handler: function(place,macroName,params,wikifier,paramString,tiddler) {
    removeElementWhen( !(store.tiddlerExists(params[0]) || store.isShadowTiddler(params[0])), place );
  }},

  hideWhenTitleIs: { handler: function(place,macroName,params,wikifier,paramString,tiddler) {
    removeElementWhen( tiddler.title == params[0], place );
  }},

  showWhenTitleIs: { handler: function(place,macroName,params,wikifier,paramString,tiddler) {
    removeElementWhen( tiddler.title != params[0], place );
  }},

  'else': { handler: function(place,macroName,params,wikifier,paramString,tiddler) {
    removeElementWhen( !window.hideWhenLastTest, place );
  }}

});

//}}}
</pre>
</div>
<div title="HighCharts Examples" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405190910" tags="example HighCharts excludeTimeline" content-type="text/x-tiddlywiki" alias="" changecount="9">
<pre>http://www.highcharts.com/, these look decent, but their application is essentially maxed out in the graphics displayed below.  Enable/disable data series by clicking on legend entries.  Real plots (the 4th entry below) don't look as good.

&lt;&lt;tiddler HighCharts1&gt;&gt;
&lt;&lt;tiddler HighCharts2&gt;&gt;
&lt;&lt;tiddler HighCharts3&gt;&gt;
&lt;&lt;tiddler HighCharts4&gt;&gt;</pre>
</div>
<div title="HighCharts1" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405190847" modified="201405190909" tags="example excludeTimeline" content-type="text/x-tiddlywiki" alias="" changecount="40">
<pre>&lt;html&gt;&lt;div id=&quot;container&quot; style=&quot;width: 100%px; height: 400px; margin: 0 auto&quot;&gt;&lt;/div&gt;&lt;/html&gt;&lt;script&gt;
jQuery(function () {
        jQuery('#container').highcharts({
		      credits: {
            enabled: false
        },
		  
            title: {
                text: 'Monthly Average Temperature',
                x: 0 //center
            },
					        chart: {
           
            zoomType: 'xy'
        },
            subtitle: {
                text: 'Source: WorldClimate.com',
                x: 0
            },
            xAxis: {
                categories: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun',
                    'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']
            },
            yAxis: {
                title: {
                    text: 'Temperature (C)'
                },
				 gridLineWidth: 1,
                plotLines: [{
                    value: 0,
                    width: 1,
                    color: '#808080'
                }]
            },
            tooltip: {
                valueSuffix: 'C'
            },
  
			  legend: {
			              itemMarginTop: -10,
            itemMarginBottom: 0
		    },
            series: [{
                name: 'Tokyo',
                data: [7.0, 6.9, 9.5, 14.5, 18.2, 21.5, 25.2, 26.5, 23.3, 18.3, 13.9, 9.6]
            }, {
                name: 'New York',
                data: [-0.2, 0.8, 5.7, 11.3, 17.0, 22.0, 24.8, 24.1, 20.1, 14.1, 8.6, 2.5]
            }, {
                name: 'Berlin',
                data: [-0.9, 0.6, 3.5, 8.4, 13.5, 17.0, 18.6, 17.9, 14.3, 9.0, 3.9, 1.0]
            }, {
                name: 'London',
                data: [3.9, 4.2, 5.7, 8.5, 11.9, 15.2, 17.0, 16.6, 14.2, 10.3, 6.6, 4.8]
            }]
        });
    });
    

&lt;/script&gt;</pre>
</div>
<div title="HighCharts2" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405190857" modified="201405190909" tags="example excludeTimeline" content-type="text/x-tiddlywiki" alias="" changecount="33">
<pre>&lt;html&gt;&lt;div id=&quot;container2&quot; style=&quot;width: 100%px; height: 400px; margin: 0 auto&quot;&gt;&lt;/div&gt;&lt;/html&gt;&lt;script src=&quot;./Graphics Scripts/Highcharts/js/highcharts-more.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot;&gt;
jQuery(function () {
     
	var ranges = [
			[1246406400000, 14.3, 27.7],
			[1246492800000, 14.5, 27.8],
			[1246579200000, 15.5, 29.6],
			[1246665600000, 16.7, 30.7],
			[1246752000000, 16.5, 25.0],
			[1246838400000, 17.8, 25.7],
			[1246924800000, 13.5, 24.8],
			[1247011200000, 10.5, 21.4],
			[1247097600000, 9.2, 23.8],
			[1247184000000, 11.6, 21.8],
			[1247270400000, 10.7, 23.7],
			[1247356800000, 11.0, 23.3],
			[1247443200000, 11.6, 23.7],
			[1247529600000, 11.8, 20.7],
			[1247616000000, 12.6, 22.4],
			[1247702400000, 13.6, 19.6],
			[1247788800000, 11.4, 22.6],
			[1247875200000, 13.2, 25.0],
			[1247961600000, 14.2, 21.6],
			[1248048000000, 13.1, 17.1],
			[1248134400000, 12.2, 15.5],
			[1248220800000, 12.0, 20.8],
			[1248307200000, 12.0, 17.1],
			[1248393600000, 12.7, 18.3],
			[1248480000000, 12.4, 19.4],
			[1248566400000, 12.6, 19.9],
			[1248652800000, 11.9, 20.2],
			[1248739200000, 11.0, 19.3],
			[1248825600000, 10.8, 17.8],
			[1248912000000, 11.8, 18.5],
			[1248998400000, 10.8, 16.1]
		],
		averages = [
			[1246406400000, 21.5],
			[1246492800000, 22.1],
			[1246579200000, 23],
			[1246665600000, 23.8],
			[1246752000000, 21.4],
			[1246838400000, 21.3],
			[1246924800000, 18.3],
			[1247011200000, 15.4],
			[1247097600000, 16.4],
			[1247184000000, 17.7],
			[1247270400000, 17.5],
			[1247356800000, 17.6],
			[1247443200000, 17.7],
			[1247529600000, 16.8],
			[1247616000000, 17.7],
			[1247702400000, 16.3],
			[1247788800000, 17.8],
			[1247875200000, 18.1],
			[1247961600000, 17.2],
			[1248048000000, 14.4],
			[1248134400000, 13.7],
			[1248220800000, 15.7],
			[1248307200000, 14.6],
			[1248393600000, 15.3],
			[1248480000000, 15.3],
			[1248566400000, 15.8],
			[1248652800000, 15.2],
			[1248739200000, 14.8],
			[1248825600000, 14.4],
			[1248912000000, 15],
			[1248998400000, 13.6]
		];

    
    	jQuery('#container2').highcharts({
    	 credits: {
            enabled: false
        },

		        chart: {
           
            zoomType: 'xy'
        },
		    title: {
		        text: 'July temperatures'
		    },
		
		    xAxis: {
		        type: 'datetime'
		    },
		    
		    yAxis: {
		        title: {
		            text: null
		        }
		    },
		
		    tooltip: {
		        crosshairs: true,
		        shared: true,
		        valueSuffix: 'C'
		    },
		    
		    legend: {itemMarginTop: -10,
		    },
		
		    series: [{
		    	name: 'Temperature',
		    	data: averages,
		    	zIndex: 1,
		    	marker: {
		    		fillColor: 'white',
		    		lineWidth: 2,
		    		lineColor: Highcharts.getOptions().colors[0]
		    	}
		    }, {
		        name: 'Range',
		        data: ranges,
		        type: 'arearange',
		        lineWidth: 0,
		    	linkedTo: ':previous',
		    	color: Highcharts.getOptions().colors[0],
		    	fillOpacity: 0.3,
		    	zIndex: 0
		    }]
		
		});
    
});
		&lt;/script&gt;</pre>
</div>
<div title="HighCharts3" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405190929" modified="201405190929" tags="HighCharts example excludeTimeline" content-type="text/x-tiddlywiki" alias="" changecount="8">
<pre>&lt;html&gt;&lt;div id=&quot;container3&quot; style=&quot;width: 100%px; height: 400px; margin: 0 auto&quot;&gt;&lt;/div&gt;&lt;/html&gt;&lt;script&gt;
jQuery(function () {
        jQuery('#container3').highcharts({
             credits: {
            enabled: false
        },
            title: {
                text: 'Logarithmic axis demo'
            },
            legend: {
			itemMarginTop: -10
			},
            xAxis: {
                tickInterval: 1
            },
            
            yAxis: {
                type: 'logarithmic',
                minorTickInterval: 0.1
            },
            
            tooltip: {
                headerFormat: '&lt;b&gt;{series.name}&lt;/b&gt;&lt;br /&gt;',
                pointFormat: 'x = {point.x}, y = {point.y}'
            },
                    chart: {
           
            zoomType: 'xy'
        },
            series: [{            
                data: [1, 2, 4, 8, 16, 32, 64, 128, 256, 512],
                pointStart: 1
            }]
        });
    });

&lt;/script&gt;</pre>
</div>
<div title="HighCharts4" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405191122" tags="example excludeTimeline" content-type="text/x-tiddlywiki" alias="" changecount="145">
<pre>&lt;html&gt;&lt;div id=&quot;container4&quot; style=&quot;width: 100%px; height: 400px; margin: 0 auto&quot;&gt;&lt;/div&gt;&lt;/html&gt;&lt;script&gt;
jQuery(function () {
	jQuery('#container4').highcharts({
		       chart: {padding:0,marginTop:60,
            type: 'spline',
            zoomType: 'xy'
        },
		plotOptions: {series: {shadow: true}},
		credits: {enabled: false},
	title: {text: 'Specific Heat', x: 0},
       subtitle: {
		   align:'right',
		   verticalAlign: 'bottom',
		   text: 'J=2, 32^2 grid, 10^6 sweeps',
		   x: -5, y:5},
		xAxis: {title: {text: 'T'},
					min:0.2,max:1.0,
         gridLineColor: '#EEEEEE',
    
					plotLines: [{value: 0.2,width: 1,color: '#C0C0C8'}]},
            	yAxis: {endOnTick: false, min:0,labels: {
                    formatter: function() {
                        return this.value;
                    }
                },tickInterval: 10,
						title: {text: 'C'},
				 		gridLineWidth: 1,
                		plotLines: [{value: 0,width: 1,color: '#eee'}]},
            	tooltip: {valueSuffix: ' '},
			  	legend: {floating:true,itemMarginTop: -5,itemMarginBottom: 0,x:-70,  align: 'right',
                verticalAlign: 'top',},
				series: [{name: 'H3_3', data: [[0.100000000000000,0.819236000000000],[0.110000000000000,0.677053000000000],[0.120000000000000,0.568935000000000],[0.130000000000000,0.484904000000000],[0.140000000000000,0.418422000000000],[0.150000000000000,0.365193000000000],[0.160000000000000,0.322307000000000],[0.170000000000000,0.287680000000000],[0.180000000000000,0.260035000000000],[0.190000000000000,0.239020000000000],[0.200000000000000,0.223174000000000],[0.210000000000000,0.213143000000000],[0.220000000000000,0.207764000000000],[0.230000000000000,0.209050000000000],[0.240000000000000,0.213634000000000],[0.250000000000000,0.224538000000000],[0.260000000000000,0.242318000000000],[0.270000000000000,0.262087000000000],[0.280000000000000,0.289633000000000],[0.290000000000000,0.327678000000000],[0.300000000000000,0.366332000000000],[0.310000000000000,0.413841000000000],[0.320000000000000,0.474255000000000],[0.330000000000000,0.535353000000000],[0.340000000000000,0.605284000000000],[0.350000000000000,0.688548000000000],[0.360000000000000,0.779536000000000],[0.370000000000000,0.877555000000000],[0.380000000000000,0.996721000000000],[0.390000000000000,1.12675300000000],[0.400000000000000,1.28541400000000],[0.410000000000000,1.44541000000000],[0.420000000000000,1.63675400000000],[0.430000000000000,1.82146200000000],[0.440000000000000,2.05426900000000],[0.450000000000000,2.33847400000000],[0.460000000000000,2.63946800000000],[0.470000000000000,3.00019300000000],[0.480000000000000,3.36630000000000],[0.490000000000000,3.81888400000000],[0.500000000000000,4.39327700000000],[0.510000000000000,4.62248800000000],[0.520000000000000,4.43585000000000],[0.530000000000000,3.85619600000000],[0.540000000000000,3.39708200000000],[0.550000000000000,3.16023200000000],[0.560000000000000,3.03443300000000],[0.570000000000000,2.97191900000000],[0.580000000000000,2.98286500000000],[0.590000000000000,3.10282400000000],[0.600000000000000,3.25279800000000],[0.610000000000000,3.43697100000000],[0.620000000000000,3.69591800000000],[0.630000000000000,4.09082500000000],[0.640000000000000,4.74434700000000],[0.650000000000000,5.90341600000000],[0.660000000000000,8.30026500000000],[0.670000000000000,9.80891700000000],[0.680000000000000,7.35840900000000],[0.690000000000000,5.33909900000000],[0.700000000000000,4.50550000000000],[0.710000000000000,3.96321800000000],[0.720000000000000,3.52326500000000],[0.730000000000000,3.25518400000000],[0.740000000000000,2.94235000000000],[0.750000000000000,2.71553900000000],[0.760000000000000,2.50840200000000],[0.770000000000000,2.31756000000000],[0.780000000000000,2.18074500000000],[0.790000000000000,2.03381600000000],[0.800000000000000,1.92011700000000],[0.810000000000000,1.79993500000000],[0.820000000000000,1.70516300000000],[0.830000000000000,1.61336100000000],[0.840000000000000,1.52769600000000],[0.850000000000000,1.45177700000000],[0.860000000000000,1.37986900000000],[0.870000000000000,1.31409900000000],[0.880000000000000,1.25338300000000],[0.890000000000000,1.19972500000000],[0.900000000000000,1.15012600000000],[0.910000000000000,1.09850800000000],[0.920000000000000,1.05483500000000],[0.930000000000000,1.01542600000000],[0.940000000000000,0.971917000000000],[0.950000000000000,0.932296000000000],[0.960000000000000,0.897076000000000],[0.970000000000000,0.865276000000000],[0.980000000000000,0.833737000000000],[0.990000000000000,0.804779000000000],[1,0.780441000000000],[1.01000000000000,0.751768000000000],[1.02000000000000,0.725218000000000],[1.03000000000000,0.703802000000000],[1.04000000000000,0.678720000000000],[1.05000000000000,0.657581000000000],[1.06000000000000,0.636496000000000],[1.07000000000000,0.615919000000000],[1.08000000000000,0.599339000000000],[1.09000000000000,0.581721000000000],[1.10000000000000,0.566057000000000],[1.11000000000000,0.548409000000000],[1.12000000000000,0.533328000000000],[1.13000000000000,0.518706000000000],[1.14000000000000,0.504521000000000],[1.15000000000000,0.490708000000000],[1.16000000000000,0.476725000000000],[1.17000000000000,0.464068000000000],[1.18000000000000,0.451540000000000],[1.19000000000000,0.439818000000000],[1.20000000000000,0.428968000000000],[1.21000000000000,0.418639000000000],[1.22000000000000,0.408724000000000],[1.23000000000000,0.398682000000000],[1.24000000000000,0.388671000000000],[1.25000000000000,0.379515000000000],[1.26000000000000,0.371576000000000],[1.27000000000000,0.361424000000000],[1.28000000000000,0.353086000000000],[1.29000000000000,0.346475000000000],[1.30000000000000,0.337881000000000],[1.31000000000000,0.330306000000000],[1.32000000000000,0.323466000000000],[1.33000000000000,0.315726000000000],[1.34000000000000,0.309214000000000],[1.35000000000000,0.303215000000000],[1.36000000000000,0.296509000000000],[1.37000000000000,0.289775000000000],[1.38000000000000,0.283990000000000],[1.39000000000000,0.277572000000000],[1.40000000000000,0.273190000000000],[1.41000000000000,0.267205000000000],[1.42000000000000,0.262096000000000],[1.43000000000000,0.257184000000000],[1.44000000000000,0.251691000000000],[1.45000000000000,0.246959000000000],[1.46000000000000,0.242329000000000],[1.47000000000000,0.237281000000000],[1.48000000000000,0.233357000000000],[1.49000000000000,0.228714000000000],[1.50000000000000,0.224956000000000],[1.51000000000000,0.220576000000000],[1.52000000000000,0.216548000000000],[1.53000000000000,0.211930000000000],[1.54000000000000,0.208980000000000],[1.55000000000000,0.205026000000000],[1.56000000000000,0.201602000000000],[1.57000000000000,0.198052000000000],[1.58000000000000,0.194220000000000],[1.59000000000000,0.190982000000000],[1.60000000000000,0.188015000000000],[1.61000000000000,0.185027000000000],[1.62000000000000,0.181598000000000],[1.63000000000000,0.178428000000000],[1.64000000000000,0.175789000000000],[1.65000000000000,0.172854000000000],[1.66000000000000,0.170420000000000],[1.67000000000000,0.167275000000000],[1.68000000000000,0.164813000000000],[1.69000000000000,0.161958000000000],[1.70000000000000,0.159385000000000],[1.71000000000000,0.156828000000000],[1.72000000000000,0.154571000000000],[1.73000000000000,0.152203000000000],[1.74000000000000,0.150173000000000],[1.75000000000000,0.147818000000000],[1.76000000000000,0.145733000000000],[1.77000000000000,0.143503000000000],[1.78000000000000,0.141476000000000],[1.79000000000000,0.139118000000000],[1.80000000000000,0.137080000000000],[1.81000000000000,0.135054000000000],[1.82000000000000,0.133164000000000],[1.83000000000000,0.131276000000000],[1.84000000000000,0.129150000000000],[1.85000000000000,0.127662000000000],[1.86000000000000,0.125757000000000],[1.87000000000000,0.124136000000000],[1.88000000000000,0.122428000000000],[1.89000000000000,0.120759000000000],[1.90000000000000,0.119045000000000],[1.91000000000000,0.117575000000000],[1.92000000000000,0.115847000000000],[1.93000000000000,0.114138000000000],[1.94000000000000,0.112786000000000],[1.95000000000000,0.111307000000000],[1.96000000000000,0.109742000000000],[1.97000000000000,0.108254000000000],[1.98000000000000,0.106818000000000],[1.99000000000000,0.105505000000000]],
	pointInterval: 0.01,pointStart: 0.1, marker: {enabled: false},             				
            }, {
                name: 'H3_4',
                data: [1.452, 0.531, 0.602, 0.688, 0.799, 0.919, 1.062, 1.212, 1.413, 1.569, 1.792, 2.037, 2.294, 2.614, 2.906, 3.226, 3.518, 3.849, 4.273, 4.528, 4.436, 4.568, 4.660, 5.120, 6.306, 11.732, 42.946, 9.738, 6.738, 5.440, 4.445, 3.844, 3.362, 2.965, 2.659, 2.432, 2.208, 2.035, 1.884, 1.740, 1.627, 1.519, 1.427, 1.341, 1.264, 1.191, 1.127, 1.074, 1.014, 0.965, 0.921, 0.880, 0.837, 0.802, 0.767, 0.735, 0.706, 0.679, 0.652, 0.629, 0.602, 0.583, 0.561, 0.543, 0.521, 0.505, 0.488, 0.472, 0.457, 0.444, 0.430, 0.415, 0.403, 0.393, 0.380, 0.369, 0.359, 0.349, 0.339, 0.329, 0.321, 0.313, 0.304, 0.297, 0.289, 0.282, 0.275, 0.268, 0.261, 0.254, 0.249, 0.243, 0.237, 0.232, 0.227, 0.222, 0.217, 0.212, 0.207, 0.203, 0.198, 0.194, 0.190, 0.187, 0.182, 0.178, 0.175, 0.172,],
	pointInterval: 0.01,pointStart: 0.2, marker: {enabled: false}, 
            }]
        });
    });
    

&lt;/script&gt;</pre>
</div>
<div title="HighCharts4 (1)" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405191244" tags="example excludeTimeline" content-type="text/x-tiddlywiki" alias="" changecount="2">
<pre>&lt;html&gt;&lt;div id=&quot;container5&quot; style=&quot;width: 100%px; height: 400px; margin: 0 auto&quot;&gt;&lt;/div&gt;&lt;/html&gt;&lt;script&gt;
jQuery(function () {
	jQuery('#container5').highcharts({
		       chart: {
            type: 'scatter',
            zoomType: 'xy'
        },
		plotOptions: {series: {shadow: true}},
	
			credits: {enabled: false},
			title: {text: 'Specific Heat', x: 0},
				chart: {zoomType: 'xy'},
            	subtitle: {text: 'J=2, 32^2 grid, 10^6 sweeps',x: 0},
				xAxis: {title: {text: 'T'},min:0.2,max:1.0,plotLines: [{value: 0.2,width: 1,color: '#808080'}]},
            	yAxis: {min:0,
						title: {text: 'C'},
				 		gridLineWidth: 0,
                		plotLines: [{value: 0,width: 1,color: '#808080'}]},
            	tooltip: {valueSuffix: ' '},
			  	legend: {floating:true,itemMarginTop: -5,itemMarginBottom: 0,x:-70,  align: 'right',
                verticalAlign: 'top',},
				series: [{name: 'H3_3', data: [[0.100000000000000,0.819236000000000],[0.110000000000000,0.677053000000000],[0.120000000000000,0.568935000000000],[0.130000000000000,0.484904000000000],[0.140000000000000,0.418422000000000],[0.150000000000000,0.365193000000000],[0.160000000000000,0.322307000000000],[0.170000000000000,0.287680000000000],[0.180000000000000,0.260035000000000],[0.190000000000000,0.239020000000000],[0.200000000000000,0.223174000000000],[0.210000000000000,0.213143000000000],[0.220000000000000,0.207764000000000],[0.230000000000000,0.209050000000000],[0.240000000000000,0.213634000000000],[0.250000000000000,0.224538000000000],[0.260000000000000,0.242318000000000],[0.270000000000000,0.262087000000000],[0.280000000000000,0.289633000000000],[0.290000000000000,0.327678000000000],[0.300000000000000,0.366332000000000],[0.310000000000000,0.413841000000000],[0.320000000000000,0.474255000000000],[0.330000000000000,0.535353000000000],[0.340000000000000,0.605284000000000],[0.350000000000000,0.688548000000000],[0.360000000000000,0.779536000000000],[0.370000000000000,0.877555000000000],[0.380000000000000,0.996721000000000],[0.390000000000000,1.12675300000000],[0.400000000000000,1.28541400000000],[0.410000000000000,1.44541000000000],[0.420000000000000,1.63675400000000],[0.430000000000000,1.82146200000000],[0.440000000000000,2.05426900000000],[0.450000000000000,2.33847400000000],[0.460000000000000,2.63946800000000],[0.470000000000000,3.00019300000000],[0.480000000000000,3.36630000000000],[0.490000000000000,3.81888400000000],[0.500000000000000,4.39327700000000],[0.510000000000000,4.62248800000000],[0.520000000000000,4.43585000000000],[0.530000000000000,3.85619600000000],[0.540000000000000,3.39708200000000],[0.550000000000000,3.16023200000000],[0.560000000000000,3.03443300000000],[0.570000000000000,2.97191900000000],[0.580000000000000,2.98286500000000],[0.590000000000000,3.10282400000000],[0.600000000000000,3.25279800000000],[0.610000000000000,3.43697100000000],[0.620000000000000,3.69591800000000],[0.630000000000000,4.09082500000000],[0.640000000000000,4.74434700000000],[0.650000000000000,5.90341600000000],[0.660000000000000,8.30026500000000],[0.670000000000000,9.80891700000000],[0.680000000000000,7.35840900000000],[0.690000000000000,5.33909900000000],[0.700000000000000,4.50550000000000],[0.710000000000000,3.96321800000000],[0.720000000000000,3.52326500000000],[0.730000000000000,3.25518400000000],[0.740000000000000,2.94235000000000],[0.750000000000000,2.71553900000000],[0.760000000000000,2.50840200000000],[0.770000000000000,2.31756000000000],[0.780000000000000,2.18074500000000],[0.790000000000000,2.03381600000000],[0.800000000000000,1.92011700000000],[0.810000000000000,1.79993500000000],[0.820000000000000,1.70516300000000],[0.830000000000000,1.61336100000000],[0.840000000000000,1.52769600000000],[0.850000000000000,1.45177700000000],[0.860000000000000,1.37986900000000],[0.870000000000000,1.31409900000000],[0.880000000000000,1.25338300000000],[0.890000000000000,1.19972500000000],[0.900000000000000,1.15012600000000],[0.910000000000000,1.09850800000000],[0.920000000000000,1.05483500000000],[0.930000000000000,1.01542600000000],[0.940000000000000,0.971917000000000],[0.950000000000000,0.932296000000000],[0.960000000000000,0.897076000000000],[0.970000000000000,0.865276000000000],[0.980000000000000,0.833737000000000],[0.990000000000000,0.804779000000000],[1,0.780441000000000],[1.01000000000000,0.751768000000000],[1.02000000000000,0.725218000000000],[1.03000000000000,0.703802000000000],[1.04000000000000,0.678720000000000],[1.05000000000000,0.657581000000000],[1.06000000000000,0.636496000000000],[1.07000000000000,0.615919000000000],[1.08000000000000,0.599339000000000],[1.09000000000000,0.581721000000000],[1.10000000000000,0.566057000000000],[1.11000000000000,0.548409000000000],[1.12000000000000,0.533328000000000],[1.13000000000000,0.518706000000000],[1.14000000000000,0.504521000000000],[1.15000000000000,0.490708000000000],[1.16000000000000,0.476725000000000],[1.17000000000000,0.464068000000000],[1.18000000000000,0.451540000000000],[1.19000000000000,0.439818000000000],[1.20000000000000,0.428968000000000],[1.21000000000000,0.418639000000000],[1.22000000000000,0.408724000000000],[1.23000000000000,0.398682000000000],[1.24000000000000,0.388671000000000],[1.25000000000000,0.379515000000000],[1.26000000000000,0.371576000000000],[1.27000000000000,0.361424000000000],[1.28000000000000,0.353086000000000],[1.29000000000000,0.346475000000000],[1.30000000000000,0.337881000000000],[1.31000000000000,0.330306000000000],[1.32000000000000,0.323466000000000],[1.33000000000000,0.315726000000000],[1.34000000000000,0.309214000000000],[1.35000000000000,0.303215000000000],[1.36000000000000,0.296509000000000],[1.37000000000000,0.289775000000000],[1.38000000000000,0.283990000000000],[1.39000000000000,0.277572000000000],[1.40000000000000,0.273190000000000],[1.41000000000000,0.267205000000000],[1.42000000000000,0.262096000000000],[1.43000000000000,0.257184000000000],[1.44000000000000,0.251691000000000],[1.45000000000000,0.246959000000000],[1.46000000000000,0.242329000000000],[1.47000000000000,0.237281000000000],[1.48000000000000,0.233357000000000],[1.49000000000000,0.228714000000000],[1.50000000000000,0.224956000000000],[1.51000000000000,0.220576000000000],[1.52000000000000,0.216548000000000],[1.53000000000000,0.211930000000000],[1.54000000000000,0.208980000000000],[1.55000000000000,0.205026000000000],[1.56000000000000,0.201602000000000],[1.57000000000000,0.198052000000000],[1.58000000000000,0.194220000000000],[1.59000000000000,0.190982000000000],[1.60000000000000,0.188015000000000],[1.61000000000000,0.185027000000000],[1.62000000000000,0.181598000000000],[1.63000000000000,0.178428000000000],[1.64000000000000,0.175789000000000],[1.65000000000000,0.172854000000000],[1.66000000000000,0.170420000000000],[1.67000000000000,0.167275000000000],[1.68000000000000,0.164813000000000],[1.69000000000000,0.161958000000000],[1.70000000000000,0.159385000000000],[1.71000000000000,0.156828000000000],[1.72000000000000,0.154571000000000],[1.73000000000000,0.152203000000000],[1.74000000000000,0.150173000000000],[1.75000000000000,0.147818000000000],[1.76000000000000,0.145733000000000],[1.77000000000000,0.143503000000000],[1.78000000000000,0.141476000000000],[1.79000000000000,0.139118000000000],[1.80000000000000,0.137080000000000],[1.81000000000000,0.135054000000000],[1.82000000000000,0.133164000000000],[1.83000000000000,0.131276000000000],[1.84000000000000,0.129150000000000],[1.85000000000000,0.127662000000000],[1.86000000000000,0.125757000000000],[1.87000000000000,0.124136000000000],[1.88000000000000,0.122428000000000],[1.89000000000000,0.120759000000000],[1.90000000000000,0.119045000000000],[1.91000000000000,0.117575000000000],[1.92000000000000,0.115847000000000],[1.93000000000000,0.114138000000000],[1.94000000000000,0.112786000000000],[1.95000000000000,0.111307000000000],[1.96000000000000,0.109742000000000],[1.97000000000000,0.108254000000000],[1.98000000000000,0.106818000000000],[1.99000000000000,0.105505000000000]],
	pointInterval: 0.01,pointStart: 0.1, marker: {enabled: true},             				
            }, {
                name: 'H3_4',
                data: [1.452, 0.531, 0.602, 0.688, 0.799, 0.919, 1.062, 1.212, 1.413, 1.569, 1.792, 2.037, 2.294, 2.614, 2.906, 3.226, 3.518, 3.849, 4.273, 4.528, 4.436, 4.568, 4.660, 5.120, 6.306, 11.732, 42.946, 9.738, 6.738, 5.440, 4.445, 3.844, 3.362, 2.965, 2.659, 2.432, 2.208, 2.035, 1.884, 1.740, 1.627, 1.519, 1.427, 1.341, 1.264, 1.191, 1.127, 1.074, 1.014, 0.965, 0.921, 0.880, 0.837, 0.802, 0.767, 0.735, 0.706, 0.679, 0.652, 0.629, 0.602, 0.583, 0.561, 0.543, 0.521, 0.505, 0.488, 0.472, 0.457, 0.444, 0.430, 0.415, 0.403, 0.393, 0.380, 0.369, 0.359, 0.349, 0.339, 0.329, 0.321, 0.313, 0.304, 0.297, 0.289, 0.282, 0.275, 0.268, 0.261, 0.254, 0.249, 0.243, 0.237, 0.232, 0.227, 0.222, 0.217, 0.212, 0.207, 0.203, 0.198, 0.194, 0.190, 0.187, 0.182, 0.178, 0.175, 0.172,],
	pointInterval: 0.01,pointStart: 0.2, marker: {enabled: true}, 
            }]
        });
    });
    

&lt;/script&gt;</pre>
</div>
<div title="HighCharts5" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405191245" modified="201405191248" tags="example excludeTimeline" content-type="text/x-tiddlywiki" alias="" changecount="4">
<pre>&lt;html&gt;&lt;div id=&quot;container6&quot; style=&quot;width: 100%px; height: 400px; margin: 0 auto&quot;&gt;&lt;/div&gt;&lt;/html&gt;&lt;script&gt;
jQuery(function () {
    jQuery('#container6').highcharts({
        chart: {
            type: 'scatter',
            zoomType: 'xy'
        },
        title: {
            text: 'Height Versus Weight of 507 Individuals by Gender'
        },
        subtitle: {
            text: 'Source: Heinz  2003'
        },
        xAxis: {
            title: {
                enabled: true,
                text: 'Height (cm)'
            },
            startOnTick: true,
            endOnTick: true,
            showLastLabel: true
        },
        yAxis: {
            title: {
                text: 'Weight (kg)'
            }
        },
        legend: {
            layout: 'vertical',
            align: 'left',
            verticalAlign: 'top',
            x: 100,
            y: 70,
            floating: true,
            backgroundColor: (Highcharts.theme &amp;&amp; Highcharts.theme.legendBackgroundColor) || '#FFFFFF',
            borderWidth: 1
        },
        plotOptions: {
            scatter: {
                marker: {
                    radius: 5,
                    states: {
                        hover: {
                            enabled: true,
                            lineColor: 'rgb(100,100,100)'
                        }
                    }
                },
                states: {
                    hover: {
                        marker: {
                            enabled: false
                        }
                    }
                },
                tooltip: {
                    headerFormat: '&lt;b&gt;{series.name}&lt;/b&gt;&lt;br&gt;',
                    pointFormat: '{point.x} cm, {point.y} kg'
                }
            }
        },
        series: [{
            name: 'Female',
            color: 'rgba(223, 83, 83, .5)',
            data: [[161.2, 51.6], [167.5, 59.0], [159.5, 49.2], [157.0, 63.0], [155.8, 53.6],
                [170.0, 59.0], [159.1, 47.6], [166.0, 69.8], [176.2, 66.8], [160.2, 75.2],
                [172.5, 55.2], [170.9, 54.2], [172.9, 62.5], [153.4, 42.0], [160.0, 50.0],
                [147.2, 49.8], [168.2, 49.2], [175.0, 73.2], [157.0, 47.8], [167.6, 68.8],
                [159.5, 50.6], [175.0, 82.5], [166.8, 57.2], [176.5, 87.8], [170.2, 72.8],
                [174.0, 54.5], [173.0, 59.8], [179.9, 67.3], [170.5, 67.8], [160.0, 47.0],
                [154.4, 46.2], [162.0, 55.0], [176.5, 83.0], [160.0, 54.4], [152.0, 45.8],
                [162.1, 53.6], [170.0, 73.2], [160.2, 52.1], [161.3, 67.9], [166.4, 56.6],
                [168.9, 62.3], [163.8, 58.5], [167.6, 54.5], [160.0, 50.2], [161.3, 60.3],
                [167.6, 58.3], [165.1, 56.2], [160.0, 50.2], [170.0, 72.9], [157.5, 59.8],
                [167.6, 61.0], [160.7, 69.1], [163.2, 55.9], [152.4, 46.5], [157.5, 54.3],
                [168.3, 54.8], [180.3, 60.7], [165.5, 60.0], [165.0, 62.0], [164.5, 60.3],
                [156.0, 52.7], [160.0, 74.3], [163.0, 62.0], [165.7, 73.1], [161.0, 80.0],
                [162.0, 54.7], [166.0, 53.2], [174.0, 75.7], [172.7, 61.1], [167.6, 55.7],
                [151.1, 48.7], [164.5, 52.3], [163.5, 50.0], [152.0, 59.3], [169.0, 62.5],
                [164.0, 55.7], [161.2, 54.8], [155.0, 45.9], [170.0, 70.6], [176.2, 67.2],
                [170.0, 69.4], [162.5, 58.2], [170.3, 64.8], [164.1, 71.6], [169.5, 52.8],
                [163.2, 59.8], [154.5, 49.0], [159.8, 50.0], [173.2, 69.2], [170.0, 55.9],
                [161.4, 63.4], [169.0, 58.2], [166.2, 58.6], [159.4, 45.7], [162.5, 52.2],
                [159.0, 48.6], [162.8, 57.8], [159.0, 55.6], [179.8, 66.8], [162.9, 59.4],
                [161.0, 53.6], [151.1, 73.2], [168.2, 53.4], [168.9, 69.0], [173.2, 58.4],
                [171.8, 56.2], [178.0, 70.6], [164.3, 59.8], [163.0, 72.0], [168.5, 65.2],
                [166.8, 56.6], [172.7, 105.2], [163.5, 51.8], [169.4, 63.4], [167.8, 59.0],
                [159.5, 47.6], [167.6, 63.0], [161.2, 55.2], [160.0, 45.0], [163.2, 54.0],
                [162.2, 50.2], [161.3, 60.2], [149.5, 44.8], [157.5, 58.8], [163.2, 56.4],
                [172.7, 62.0], [155.0, 49.2], [156.5, 67.2], [164.0, 53.8], [160.9, 54.4],
                [162.8, 58.0], [167.0, 59.8], [160.0, 54.8], [160.0, 43.2], [168.9, 60.5],
                [158.2, 46.4], [156.0, 64.4], [160.0, 48.8], [167.1, 62.2], [158.0, 55.5],
                [167.6, 57.8], [156.0, 54.6], [162.1, 59.2], [173.4, 52.7], [159.8, 53.2],
                [170.5, 64.5], [159.2, 51.8], [157.5, 56.0], [161.3, 63.6], [162.6, 63.2],
                [160.0, 59.5], [168.9, 56.8], [165.1, 64.1], [162.6, 50.0], [165.1, 72.3],
                [166.4, 55.0], [160.0, 55.9], [152.4, 60.4], [170.2, 69.1], [162.6, 84.5],
                [170.2, 55.9], [158.8, 55.5], [172.7, 69.5], [167.6, 76.4], [162.6, 61.4],
                [167.6, 65.9], [156.2, 58.6], [175.2, 66.8], [172.1, 56.6], [162.6, 58.6],
                [160.0, 55.9], [165.1, 59.1], [182.9, 81.8], [166.4, 70.7], [165.1, 56.8],
                [177.8, 60.0], [165.1, 58.2], [175.3, 72.7], [154.9, 54.1], [158.8, 49.1],
                [172.7, 75.9], [168.9, 55.0], [161.3, 57.3], [167.6, 55.0], [165.1, 65.5],
                [175.3, 65.5], [157.5, 48.6], [163.8, 58.6], [167.6, 63.6], [165.1, 55.2],
                [165.1, 62.7], [168.9, 56.6], [162.6, 53.9], [164.5, 63.2], [176.5, 73.6],
                [168.9, 62.0], [175.3, 63.6], [159.4, 53.2], [160.0, 53.4], [170.2, 55.0],
                [162.6, 70.5], [167.6, 54.5], [162.6, 54.5], [160.7, 55.9], [160.0, 59.0],
                [157.5, 63.6], [162.6, 54.5], [152.4, 47.3], [170.2, 67.7], [165.1, 80.9],
                [172.7, 70.5], [165.1, 60.9], [170.2, 63.6], [170.2, 54.5], [170.2, 59.1],
                [161.3, 70.5], [167.6, 52.7], [167.6, 62.7], [165.1, 86.3], [162.6, 66.4],
                [152.4, 67.3], [168.9, 63.0], [170.2, 73.6], [175.2, 62.3], [175.2, 57.7],
                [160.0, 55.4], [165.1, 104.1], [174.0, 55.5], [170.2, 77.3], [160.0, 80.5],
                [167.6, 64.5], [167.6, 72.3], [167.6, 61.4], [154.9, 58.2], [162.6, 81.8],
                [175.3, 63.6], [171.4, 53.4], [157.5, 54.5], [165.1, 53.6], [160.0, 60.0],
                [174.0, 73.6], [162.6, 61.4], [174.0, 55.5], [162.6, 63.6], [161.3, 60.9],
                [156.2, 60.0], [149.9, 46.8], [169.5, 57.3], [160.0, 64.1], [175.3, 63.6],
                [169.5, 67.3], [160.0, 75.5], [172.7, 68.2], [162.6, 61.4], [157.5, 76.8],
                [176.5, 71.8], [164.4, 55.5], [160.7, 48.6], [174.0, 66.4], [163.8, 67.3]]

        }, {
            name: 'Male',
            color: 'rgba(119, 152, 191, .5)',
            data: [[174.0, 65.6], [175.3, 71.8], [193.5, 80.7], [186.5, 72.6], [187.2, 78.8],
                [181.5, 74.8], [184.0, 86.4], [184.5, 78.4], [175.0, 62.0], [184.0, 81.6],
                [180.0, 76.6], [177.8, 83.6], [192.0, 90.0], [176.0, 74.6], [174.0, 71.0],
                [184.0, 79.6], [192.7, 93.8], [171.5, 70.0], [173.0, 72.4], [176.0, 85.9],
                [176.0, 78.8], [180.5, 77.8], [172.7, 66.2], [176.0, 86.4], [173.5, 81.8],
                [178.0, 89.6], [180.3, 82.8], [180.3, 76.4], [164.5, 63.2], [173.0, 60.9],
                [183.5, 74.8], [175.5, 70.0], [188.0, 72.4], [189.2, 84.1], [172.8, 69.1],
                [170.0, 59.5], [182.0, 67.2], [170.0, 61.3], [177.8, 68.6], [184.2, 80.1],
                [186.7, 87.8], [171.4, 84.7], [172.7, 73.4], [175.3, 72.1], [180.3, 82.6],
                [182.9, 88.7], [188.0, 84.1], [177.2, 94.1], [172.1, 74.9], [167.0, 59.1],
                [169.5, 75.6], [174.0, 86.2], [172.7, 75.3], [182.2, 87.1], [164.1, 55.2],
                [163.0, 57.0], [171.5, 61.4], [184.2, 76.8], [174.0, 86.8], [174.0, 72.2],
                [177.0, 71.6], [186.0, 84.8], [167.0, 68.2], [171.8, 66.1], [182.0, 72.0],
                [167.0, 64.6], [177.8, 74.8], [164.5, 70.0], [192.0, 101.6], [175.5, 63.2],
                [171.2, 79.1], [181.6, 78.9], [167.4, 67.7], [181.1, 66.0], [177.0, 68.2],
                [174.5, 63.9], [177.5, 72.0], [170.5, 56.8], [182.4, 74.5], [197.1, 90.9],
                [180.1, 93.0], [175.5, 80.9], [180.6, 72.7], [184.4, 68.0], [175.5, 70.9],
                [180.6, 72.5], [177.0, 72.5], [177.1, 83.4], [181.6, 75.5], [176.5, 73.0],
                [175.0, 70.2], [174.0, 73.4], [165.1, 70.5], [177.0, 68.9], [192.0, 102.3],
                [176.5, 68.4], [169.4, 65.9], [182.1, 75.7], [179.8, 84.5], [175.3, 87.7],
                [184.9, 86.4], [177.3, 73.2], [167.4, 53.9], [178.1, 72.0], [168.9, 55.5],
                [157.2, 58.4], [180.3, 83.2], [170.2, 72.7], [177.8, 64.1], [172.7, 72.3],
                [165.1, 65.0], [186.7, 86.4], [165.1, 65.0], [174.0, 88.6], [175.3, 84.1],
                [185.4, 66.8], [177.8, 75.5], [180.3, 93.2], [180.3, 82.7], [177.8, 58.0],
                [177.8, 79.5], [177.8, 78.6], [177.8, 71.8], [177.8, 116.4], [163.8, 72.2],
                [188.0, 83.6], [198.1, 85.5], [175.3, 90.9], [166.4, 85.9], [190.5, 89.1],
                [166.4, 75.0], [177.8, 77.7], [179.7, 86.4], [172.7, 90.9], [190.5, 73.6],
                [185.4, 76.4], [168.9, 69.1], [167.6, 84.5], [175.3, 64.5], [170.2, 69.1],
                [190.5, 108.6], [177.8, 86.4], [190.5, 80.9], [177.8, 87.7], [184.2, 94.5],
                [176.5, 80.2], [177.8, 72.0], [180.3, 71.4], [171.4, 72.7], [172.7, 84.1],
                [172.7, 76.8], [177.8, 63.6], [177.8, 80.9], [182.9, 80.9], [170.2, 85.5],
                [167.6, 68.6], [175.3, 67.7], [165.1, 66.4], [185.4, 102.3], [181.6, 70.5],
                [172.7, 95.9], [190.5, 84.1], [179.1, 87.3], [175.3, 71.8], [170.2, 65.9],
                [193.0, 95.9], [171.4, 91.4], [177.8, 81.8], [177.8, 96.8], [167.6, 69.1],
                [167.6, 82.7], [180.3, 75.5], [182.9, 79.5], [176.5, 73.6], [186.7, 91.8],
                [188.0, 84.1], [188.0, 85.9], [177.8, 81.8], [174.0, 82.5], [177.8, 80.5],
                [171.4, 70.0], [185.4, 81.8], [185.4, 84.1], [188.0, 90.5], [188.0, 91.4],
                [182.9, 89.1], [176.5, 85.0], [175.3, 69.1], [175.3, 73.6], [188.0, 80.5],
                [188.0, 82.7], [175.3, 86.4], [170.5, 67.7], [179.1, 92.7], [177.8, 93.6],
                [175.3, 70.9], [182.9, 75.0], [170.8, 93.2], [188.0, 93.2], [180.3, 77.7],
                [177.8, 61.4], [185.4, 94.1], [168.9, 75.0], [185.4, 83.6], [180.3, 85.5],
                [174.0, 73.9], [167.6, 66.8], [182.9, 87.3], [160.0, 72.3], [180.3, 88.6],
                [167.6, 75.5], [186.7, 101.4], [175.3, 91.1], [175.3, 67.3], [175.9, 77.7],
                [175.3, 81.8], [179.1, 75.5], [181.6, 84.5], [177.8, 76.6], [182.9, 85.0],
                [177.8, 102.5], [184.2, 77.3], [179.1, 71.8], [176.5, 87.9], [188.0, 94.3],
                [174.0, 70.9], [167.6, 64.5], [170.2, 77.3], [167.6, 72.3], [188.0, 87.3],
                [174.0, 80.0], [176.5, 82.3], [180.3, 73.6], [167.6, 74.1], [188.0, 85.9],
                [180.3, 73.2], [167.6, 76.3], [183.0, 65.9], [183.0, 90.9], [179.1, 89.1],
                [170.2, 62.3], [177.8, 82.7], [179.1, 79.1], [190.5, 98.2], [177.8, 84.1],
                [180.3, 83.2], [180.3, 83.2]]
        }]
    });
});
&lt;/script&gt;</pre>
</div>
<div title="HighchartsJS.js" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405190846" modified="201405190905" tags="excludeTimeline js systemConfig" changecount="4" alias="" content-type="text/javascript">
<pre>/*
 Highcharts JS v4.0.1 (2014-04-24)

 (c) 2009-2014 Torstein Honsi

 License: www.highcharts.com/license
*/
(function(){function q(a,b){var c;a||(a={});for(c in b)a[c]=b[c];return a}function w(){var a,b=arguments,c,d={},e=function(a,b){var c,d;typeof a!==&quot;object&quot;&amp;&amp;(a={});for(d in b)b.hasOwnProperty(d)&amp;&amp;(c=b[d],a[d]=c&amp;&amp;typeof c===&quot;object&quot;&amp;&amp;Object.prototype.toString.call(c)!==&quot;[object Array]&quot;&amp;&amp;d!==&quot;renderTo&quot;&amp;&amp;typeof c.nodeType!==&quot;number&quot;?e(a[d]||{},c):b[d]);return a};b[0]===!0&amp;&amp;(d=b[1],b=Array.prototype.slice.call(b,2));c=b.length;for(a=0;a&lt;c;a++)d=e(d,b[a]);return d}function z(a,b){return parseInt(a,b||
10)}function Fa(a){return typeof a===&quot;string&quot;}function ca(a){return typeof a===&quot;object&quot;}function La(a){return Object.prototype.toString.call(a)===&quot;[object Array]&quot;}function ha(a){return typeof a===&quot;number&quot;}function za(a){return U.log(a)/U.LN10}function ia(a){return U.pow(10,a)}function ja(a,b){for(var c=a.length;c--;)if(a[c]===b){a.splice(c,1);break}}function r(a){return a!==t&amp;&amp;a!==null}function H(a,b,c){var d,e;if(Fa(b))r(c)?a.setAttribute(b,c):a&amp;&amp;a.getAttribute&amp;&amp;(e=a.getAttribute(b));else if(r(b)&amp;&amp;
ca(b))for(d in b)a.setAttribute(d,b[d]);return e}function qa(a){return La(a)?a:[a]}function m(){var a=arguments,b,c,d=a.length;for(b=0;b&lt;d;b++)if(c=a[b],typeof c!==&quot;undefined&quot;&amp;&amp;c!==null)return c}function G(a,b){if(Aa&amp;&amp;!aa&amp;&amp;b&amp;&amp;b.opacity!==t)b.filter=&quot;alpha(opacity=&quot;+b.opacity*100+&quot;)&quot;;q(a.style,b)}function Y(a,b,c,d,e){a=y.createElement(a);b&amp;&amp;q(a,b);e&amp;&amp;G(a,{padding:0,border:Q,margin:0});c&amp;&amp;G(a,c);d&amp;&amp;d.appendChild(a);return a}function ka(a,b){var c=function(){};c.prototype=new a;q(c.prototype,b);return c}
function Ga(a,b,c,d){var e=E.lang,a=+a||0,f=b===-1?(a.toString().split(&quot;.&quot;)[1]||&quot;&quot;).length:isNaN(b=M(b))?2:b,b=c===void 0?e.decimalPoint:c,d=d===void 0?e.thousandsSep:d,e=a&lt;0?&quot;-&quot;:&quot;&quot;,c=String(z(a=M(a).toFixed(f))),g=c.length&gt;3?c.length%3:0;return e+(g?c.substr(0,g)+d:&quot;&quot;)+c.substr(g).replace(/(\d{3})(?=\d)/g,&quot;$1&quot;+d)+(f?b+M(a-c).toFixed(f).slice(2):&quot;&quot;)}function Ha(a,b){return Array((b||2)+1-String(a).length).join(0)+a}function Ma(a,b,c){var d=a[b];a[b]=function(){var a=Array.prototype.slice.call(arguments);
a.unshift(d);return c.apply(this,a)}}function Ia(a,b){for(var c=&quot;{&quot;,d=!1,e,f,g,h,i,j=[];(c=a.indexOf(c))!==-1;){e=a.slice(0,c);if(d){f=e.split(&quot;:&quot;);g=f.shift().split(&quot;.&quot;);i=g.length;e=b;for(h=0;h&lt;i;h++)e=e[g[h]];if(f.length)f=f.join(&quot;:&quot;),g=/\.([0-9])/,h=E.lang,i=void 0,/f$/.test(f)?(i=(i=f.match(g))?i[1]:-1,e!==null&amp;&amp;(e=Ga(e,i,h.decimalPoint,f.indexOf(&quot;,&quot;)&gt;-1?h.thousandsSep:&quot;&quot;))):e=cb(f,e)}j.push(e);a=a.slice(c+1);c=(d=!d)?&quot;}&quot;:&quot;{&quot;}j.push(a);return j.join(&quot;&quot;)}function mb(a){return U.pow(10,T(U.log(a)/
U.LN10))}function nb(a,b,c,d){var e,c=m(c,1);e=a/c;b||(b=[1,2,2.5,5,10],d&amp;&amp;d.allowDecimals===!1&amp;&amp;(c===1?b=[1,2,5,10]:c&lt;=0.1&amp;&amp;(b=[1/c])));for(d=0;d&lt;b.length;d++)if(a=b[d],e&lt;=(b[d]+(b[d+1]||b[d]))/2)break;a*=c;return a}function Bb(){this.symbol=this.color=0}function ob(a,b){var c=a.length,d,e;for(e=0;e&lt;c;e++)a[e].ss_i=e;a.sort(function(a,c){d=b(a,c);return d===0?a.ss_i-c.ss_i:d});for(e=0;e&lt;c;e++)delete a[e].ss_i}function Na(a){for(var b=a.length,c=a[0];b--;)a[b]&lt;c&amp;&amp;(c=a[b]);return c}function Ba(a){for(var b=
a.length,c=a[0];b--;)a[b]&gt;c&amp;&amp;(c=a[b]);return c}function Oa(a,b){for(var c in a)a[c]&amp;&amp;a[c]!==b&amp;&amp;a[c].destroy&amp;&amp;a[c].destroy(),delete a[c]}function Pa(a){db||(db=Y(Ja));a&amp;&amp;db.appendChild(a);db.innerHTML=&quot;&quot;}function ra(a,b){var c=&quot;Highcharts error #&quot;+a+&quot;: www.highcharts.com/errors/&quot;+a;if(b)throw c;else I.console&amp;&amp;console.log(c)}function da(a){return parseFloat(a.toPrecision(14))}function Qa(a,b){va=m(a,b.animation)}function Cb(){var a=E.global.useUTC,b=a?&quot;getUTC&quot;:&quot;get&quot;,c=a?&quot;setUTC&quot;:&quot;set&quot;;Ra=(a&amp;&amp;E.global.timezoneOffset||
0)*6E4;eb=a?Date.UTC:function(a,b,c,g,h,i){return(new Date(a,b,m(c,1),m(g,0),m(h,0),m(i,0))).getTime()};pb=b+&quot;Minutes&quot;;qb=b+&quot;Hours&quot;;rb=b+&quot;Day&quot;;Xa=b+&quot;Date&quot;;fb=b+&quot;Month&quot;;gb=b+&quot;FullYear&quot;;Db=c+&quot;Minutes&quot;;Eb=c+&quot;Hours&quot;;sb=c+&quot;Date&quot;;Fb=c+&quot;Month&quot;;Gb=c+&quot;FullYear&quot;}function P(){}function Sa(a,b,c,d){this.axis=a;this.pos=b;this.type=c||&quot;&quot;;this.isNew=!0;!c&amp;&amp;!d&amp;&amp;this.addLabel()}function la(){this.init.apply(this,arguments)}function Ya(){this.init.apply(this,arguments)}function Hb(a,b,c,d,e){var f=a.chart.inverted;
this.axis=a;this.isNegative=c;this.options=b;this.x=d;this.total=null;this.points={};this.stack=e;this.alignOptions={align:b.align||(f?c?&quot;left&quot;:&quot;right&quot;:&quot;center&quot;),verticalAlign:b.verticalAlign||(f?&quot;middle&quot;:c?&quot;bottom&quot;:&quot;top&quot;),y:m(b.y,f?4:c?14:-6),x:m(b.x,f?c?-6:6:0)};this.textAlign=b.textAlign||(f?c?&quot;right&quot;:&quot;left&quot;:&quot;center&quot;)}var t,y=document,I=window,U=Math,u=U.round,T=U.floor,Ka=U.ceil,v=U.max,C=U.min,M=U.abs,Z=U.cos,ea=U.sin,ma=U.PI,Ca=ma*2/360,wa=navigator.userAgent,Ib=I.opera,Aa=/msie/i.test(wa)&amp;&amp;
!Ib,hb=y.documentMode===8,ib=/AppleWebKit/.test(wa),Ta=/Firefox/.test(wa),Jb=/(Mobile|Android|Windows Phone)/.test(wa),xa=&quot;http://www.w3.org/2000/svg&quot;,aa=!!y.createElementNS&amp;&amp;!!y.createElementNS(xa,&quot;svg&quot;).createSVGRect,Nb=Ta&amp;&amp;parseInt(wa.split(&quot;Firefox/&quot;)[1],10)&lt;4,fa=!aa&amp;&amp;!Aa&amp;&amp;!!y.createElement(&quot;canvas&quot;).getContext,Za,$a,Kb={},tb=0,db,E,cb,va,ub,A,sa=function(){},V=[],ab=0,Ja=&quot;div&quot;,Q=&quot;none&quot;,Ob=/^[0-9]+$/,Pb=&quot;stroke-width&quot;,eb,Ra,pb,qb,rb,Xa,fb,gb,Db,Eb,sb,Fb,Gb,F={},R=I.Highcharts=I.Highcharts?ra(16,
!0):{};cb=function(a,b,c){if(!r(b)||isNaN(b))return&quot;Invalid date&quot;;var a=m(a,&quot;%Y-%m-%d %H:%M:%S&quot;),d=new Date(b-Ra),e,f=d[qb](),g=d[rb](),h=d[Xa](),i=d[fb](),j=d[gb](),k=E.lang,l=k.weekdays,d=q({a:l[g].substr(0,3),A:l[g],d:Ha(h),e:h,b:k.shortMonths[i],B:k.months[i],m:Ha(i+1),y:j.toString().substr(2,2),Y:j,H:Ha(f),I:Ha(f%12||12),l:f%12||12,M:Ha(d[pb]()),p:f&lt;12?&quot;AM&quot;:&quot;PM&quot;,P:f&lt;12?&quot;am&quot;:&quot;pm&quot;,S:Ha(d.getSeconds()),L:Ha(u(b%1E3),3)},R.dateFormats);for(e in d)for(;a.indexOf(&quot;%&quot;+e)!==-1;)a=a.replace(&quot;%&quot;+e,typeof d[e]===
&quot;function&quot;?d[e](b):d[e]);return c?a.substr(0,1).toUpperCase()+a.substr(1):a};Bb.prototype={wrapColor:function(a){if(this.color&gt;=a)this.color=0},wrapSymbol:function(a){if(this.symbol&gt;=a)this.symbol=0}};A=function(){for(var a=0,b=arguments,c=b.length,d={};a&lt;c;a++)d[b[a++]]=b[a];return d}(&quot;millisecond&quot;,1,&quot;second&quot;,1E3,&quot;minute&quot;,6E4,&quot;hour&quot;,36E5,&quot;day&quot;,864E5,&quot;week&quot;,6048E5,&quot;month&quot;,26784E5,&quot;year&quot;,31556952E3);ub={init:function(a,b,c){var b=b||&quot;&quot;,d=a.shift,e=b.indexOf(&quot;C&quot;)&gt;-1,f=e?7:3,g,b=b.split(&quot; &quot;),c=[].concat(c),
h,i,j=function(a){for(g=a.length;g--;)a[g]===&quot;M&quot;&amp;&amp;a.splice(g+1,0,a[g+1],a[g+2],a[g+1],a[g+2])};e&amp;&amp;(j(b),j(c));a.isArea&amp;&amp;(h=b.splice(b.length-6,6),i=c.splice(c.length-6,6));if(d&lt;=c.length/f&amp;&amp;b.length===c.length)for(;d--;)c=[].concat(c).splice(0,f).concat(c);a.shift=0;if(b.length)for(a=c.length;b.length&lt;a;)d=[].concat(b).splice(b.length-f,f),e&amp;&amp;(d[f-6]=d[f-2],d[f-5]=d[f-1]),b=b.concat(d);h&amp;&amp;(b=b.concat(h),c=c.concat(i));return[b,c]},step:function(a,b,c,d){var e=[],f=a.length;if(c===1)e=d;else if(f===
b.length&amp;&amp;c&lt;1)for(;f--;)d=parseFloat(a[f]),e[f]=isNaN(d)?a[f]:c*parseFloat(b[f]-d)+d;else e=b;return e}};(function(a){I.HighchartsAdapter=I.HighchartsAdapter||a&amp;&amp;{init:function(b){var c=a.fx,d=c.step,e,f=a.Tween,g=f&amp;&amp;f.propHooks;e=a.cssHooks.opacity;a.extend(a.easing,{easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c}});a.each([&quot;cur&quot;,&quot;_default&quot;,&quot;width&quot;,&quot;height&quot;,&quot;opacity&quot;],function(a,b){var e=d,k;b===&quot;cur&quot;?e=c.prototype:b===&quot;_default&quot;&amp;&amp;f&amp;&amp;(e=g[b],b=&quot;set&quot;);(k=e[b])&amp;&amp;(e[b]=function(c){var d,c=
a?c:this;if(c.prop!==&quot;align&quot;)return d=c.elem,d.attr?d.attr(c.prop,b===&quot;cur&quot;?t:c.now):k.apply(this,arguments)})});Ma(e,&quot;get&quot;,function(a,b,c){return b.attr?b.opacity||0:a.call(this,b,c)});e=function(a){var c=a.elem,d;if(!a.started)d=b.init(c,c.d,c.toD),a.start=d[0],a.end=d[1],a.started=!0;c.attr(&quot;d&quot;,b.step(a.start,a.end,a.pos,c.toD))};f?g.d={set:e}:d.d=e;this.each=Array.prototype.forEach?function(a,b){return Array.prototype.forEach.call(a,b)}:function(a,b){for(var c=0,d=a.length;c&lt;d;c++)if(b.call(a[c],
a[c],c,a)===!1)return c};a.fn.highcharts=function(){var a=&quot;Chart&quot;,b=arguments,c,d;if(this[0]){Fa(b[0])&amp;&amp;(a=b[0],b=Array.prototype.slice.call(b,1));c=b[0];if(c!==t)c.chart=c.chart||{},c.chart.renderTo=this[0],new R[a](c,b[1]),d=this;c===t&amp;&amp;(d=V[H(this[0],&quot;data-highcharts-chart&quot;)])}return d}},getScript:a.getScript,inArray:a.inArray,adapterRun:function(b,c){return a(b)[c]()},grep:a.grep,map:function(a,c){for(var d=[],e=0,f=a.length;e&lt;f;e++)d[e]=c.call(a[e],a[e],e,a);return d},offset:function(b){return a(b).offset()},
addEvent:function(b,c,d){a(b).bind(c,d)},removeEvent:function(b,c,d){var e=y.removeEventListener?&quot;removeEventListener&quot;:&quot;detachEvent&quot;;y[e]&amp;&amp;b&amp;&amp;!b[e]&amp;&amp;(b[e]=function(){});a(b).unbind(c,d)},fireEvent:function(b,c,d,e){var f=a.Event(c),g=&quot;detached&quot;+c,h;!Aa&amp;&amp;d&amp;&amp;(delete d.layerX,delete d.layerY,delete d.returnValue);q(f,d);b[c]&amp;&amp;(b[g]=b[c],b[c]=null);a.each([&quot;preventDefault&quot;,&quot;stopPropagation&quot;],function(a,b){var c=f[b];f[b]=function(){try{c.call(f)}catch(a){b===&quot;preventDefault&quot;&amp;&amp;(h=!0)}}});a(b).trigger(f);
b[g]&amp;&amp;(b[c]=b[g],b[g]=null);e&amp;&amp;!f.isDefaultPrevented()&amp;&amp;!h&amp;&amp;e(f)},washMouseEvent:function(a){var c=a.originalEvent||a;if(c.pageX===t)c.pageX=a.pageX,c.pageY=a.pageY;return c},animate:function(b,c,d){var e=a(b);if(!b.style)b.style={};if(c.d)b.toD=c.d,c.d=1;e.stop();c.opacity!==t&amp;&amp;b.attr&amp;&amp;(c.opacity+=&quot;px&quot;);e.animate(c,d)},stop:function(b){a(b).stop()}}})(I.jQuery);var S=I.HighchartsAdapter,N=S||{};S&amp;&amp;S.init.call(S,ub);var jb=N.adapterRun,Qb=N.getScript,Da=N.inArray,p=N.each,vb=N.grep,Rb=N.offset,Ua=
N.map,K=N.addEvent,W=N.removeEvent,D=N.fireEvent,Sb=N.washMouseEvent,kb=N.animate,bb=N.stop,N={enabled:!0,x:0,y:15,style:{color:&quot;#606060&quot;,cursor:&quot;default&quot;,fontSize:&quot;11px&quot;}};E={colors:&quot;#7cb5ec,#434348,#90ed7d,#f7a35c,#8085e9,#f15c80,#e4d354,#8085e8,#8d4653,#91e8e1&quot;.split(&quot;,&quot;),symbols:[&quot;circle&quot;,&quot;diamond&quot;,&quot;square&quot;,&quot;triangle&quot;,&quot;triangle-down&quot;],lang:{loading:&quot;Loading...&quot;,months:&quot;January,February,March,April,May,June,July,August,September,October,November,December&quot;.split(&quot;,&quot;),shortMonths:&quot;Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec&quot;.split(&quot;,&quot;),
weekdays:&quot;Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday&quot;.split(&quot;,&quot;),decimalPoint:&quot;.&quot;,numericSymbols:&quot;k,M,G,T,P,E&quot;.split(&quot;,&quot;),resetZoom:&quot;Reset zoom&quot;,resetZoomTitle:&quot;Reset zoom level 1:1&quot;,thousandsSep:&quot;,&quot;},global:{useUTC:!0,canvasToolsURL:&quot;http://code.highcharts.com/4.0.1/modules/canvas-tools.js&quot;,VMLRadialGradientURL:&quot;http://code.highcharts.com/4.0.1/gfx/vml-radial-gradient.png&quot;},chart:{borderColor:&quot;#4572A7&quot;,borderRadius:0,defaultSeriesType:&quot;line&quot;,ignoreHiddenSeries:!0,spacing:[10,10,15,
10],backgroundColor:&quot;#FFFFFF&quot;,plotBorderColor:&quot;#C0C0C0&quot;,resetZoomButton:{theme:{zIndex:20},position:{align:&quot;right&quot;,x:-10,y:10}}},title:{text:&quot;Chart title&quot;,align:&quot;center&quot;,margin:15,style:{color:&quot;#333333&quot;,fontSize:&quot;18px&quot;}},subtitle:{text:&quot;&quot;,align:&quot;center&quot;,style:{color:&quot;#555555&quot;}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1E3},events:{},lineWidth:2,marker:{lineWidth:0,radius:4,lineColor:&quot;#FFFFFF&quot;,states:{hover:{enabled:!0},select:{fillColor:&quot;#FFFFFF&quot;,lineColor:&quot;#000000&quot;,
lineWidth:2}}},point:{events:{}},dataLabels:w(N,{align:&quot;center&quot;,enabled:!1,formatter:function(){return this.y===null?&quot;&quot;:Ga(this.y,-1)},verticalAlign:&quot;bottom&quot;,y:0}),cropThreshold:300,pointRange:0,states:{hover:{marker:{},halo:{size:10,opacity:0.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1E3}},labels:{style:{position:&quot;absolute&quot;,color:&quot;#3E576F&quot;}},legend:{enabled:!0,align:&quot;center&quot;,layout:&quot;horizontal&quot;,labelFormatter:function(){return this.name},borderColor:&quot;#909090&quot;,borderRadius:0,navigation:{activeColor:&quot;#274b6d&quot;,
inactiveColor:&quot;#CCC&quot;},shadow:!1,itemStyle:{color:&quot;#333333&quot;,fontSize:&quot;12px&quot;,fontWeight:&quot;bold&quot;},itemHoverStyle:{color:&quot;#000&quot;},itemHiddenStyle:{color:&quot;#CCC&quot;},itemCheckboxStyle:{position:&quot;absolute&quot;,width:&quot;13px&quot;,height:&quot;13px&quot;},symbolPadding:5,verticalAlign:&quot;bottom&quot;,x:0,y:0,title:{style:{fontWeight:&quot;bold&quot;}}},loading:{labelStyle:{fontWeight:&quot;bold&quot;,position:&quot;relative&quot;,top:&quot;1em&quot;},style:{position:&quot;absolute&quot;,backgroundColor:&quot;white&quot;,opacity:0.5,textAlign:&quot;center&quot;}},tooltip:{enabled:!0,animation:aa,backgroundColor:&quot;rgba(249, 249, 249, .85)&quot;,
borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:&quot;%A, %b %e, %H:%M:%S.%L&quot;,second:&quot;%A, %b %e, %H:%M:%S&quot;,minute:&quot;%A, %b %e, %H:%M&quot;,hour:&quot;%A, %b %e, %H:%M&quot;,day:&quot;%A, %b %e, %Y&quot;,week:&quot;Week from %A, %b %e, %Y&quot;,month:&quot;%B %Y&quot;,year:&quot;%Y&quot;},headerFormat:'&lt;span style=&quot;font-size: 10px&quot;&gt;{point.key}&lt;/span&gt;&lt;br/&gt;',pointFormat:'&lt;span style=&quot;color:{series.color}&quot;&gt;&lt;/span&gt; {series.name}: &lt;b&gt;{point.y}&lt;/b&gt;&lt;br/&gt;',shadow:!0,snap:Jb?25:10,style:{color:&quot;#333333&quot;,cursor:&quot;default&quot;,fontSize:&quot;12px&quot;,padding:&quot;8px&quot;,
whiteSpace:&quot;nowrap&quot;}},credits:{enabled:!0,text:&quot;Highcharts.com&quot;,href:&quot;http://www.highcharts.com&quot;,position:{align:&quot;right&quot;,x:-10,verticalAlign:&quot;bottom&quot;,y:-5},style:{cursor:&quot;pointer&quot;,color:&quot;#909090&quot;,fontSize:&quot;9px&quot;}}};var ba=E.plotOptions,S=ba.line;Cb();var Tb=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,Ub=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,Vb=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,ya=function(a){var b=[],c,
d;(function(a){a&amp;&amp;a.stops?d=Ua(a.stops,function(a){return ya(a[1])}):(c=Tb.exec(a))?b=[z(c[1]),z(c[2]),z(c[3]),parseFloat(c[4],10)]:(c=Ub.exec(a))?b=[z(c[1],16),z(c[2],16),z(c[3],16),1]:(c=Vb.exec(a))&amp;&amp;(b=[z(c[1]),z(c[2]),z(c[3]),1])})(a);return{get:function(c){var f;d?(f=w(a),f.stops=[].concat(f.stops),p(d,function(a,b){f.stops[b]=[f.stops[b][0],a.get(c)]})):f=b&amp;&amp;!isNaN(b[0])?c===&quot;rgb&quot;?&quot;rgb(&quot;+b[0]+&quot;,&quot;+b[1]+&quot;,&quot;+b[2]+&quot;)&quot;:c===&quot;a&quot;?b[3]:&quot;rgba(&quot;+b.join(&quot;,&quot;)+&quot;)&quot;:a;return f},brighten:function(a){if(d)p(d,
function(b){b.brighten(a)});else if(ha(a)&amp;&amp;a!==0){var c;for(c=0;c&lt;3;c++)b[c]+=z(a*255),b[c]&lt;0&amp;&amp;(b[c]=0),b[c]&gt;255&amp;&amp;(b[c]=255)}return this},rgba:b,setOpacity:function(a){b[3]=a;return this}}};P.prototype={init:function(a,b){this.element=b===&quot;span&quot;?Y(b):y.createElementNS(xa,b);this.renderer=a},opacity:1,animate:function(a,b,c){b=m(b,va,!0);bb(this);if(b){b=w(b,{});if(c)b.complete=c;kb(this,a,b)}else this.attr(a),c&amp;&amp;c()},colorGradient:function(a,b,c){var d=this.renderer,e,f,g,h,i,j,k,l,o,n,s=[];a.linearGradient?
f=&quot;linearGradient&quot;:a.radialGradient&amp;&amp;(f=&quot;radialGradient&quot;);if(f){g=a[f];h=d.gradients;j=a.stops;o=c.radialReference;La(g)&amp;&amp;(a[f]=g={x1:g[0],y1:g[1],x2:g[2],y2:g[3],gradientUnits:&quot;userSpaceOnUse&quot;});f===&quot;radialGradient&quot;&amp;&amp;o&amp;&amp;!r(g.gradientUnits)&amp;&amp;(g=w(g,{cx:o[0]-o[2]/2+g.cx*o[2],cy:o[1]-o[2]/2+g.cy*o[2],r:g.r*o[2],gradientUnits:&quot;userSpaceOnUse&quot;}));for(n in g)n!==&quot;id&quot;&amp;&amp;s.push(n,g[n]);for(n in j)s.push(j[n]);s=s.join(&quot;,&quot;);h[s]?a=h[s].attr(&quot;id&quot;):(g.id=a=&quot;highcharts-&quot;+tb++,h[s]=i=d.createElement(f).attr(g).add(d.defs),
i.stops=[],p(j,function(a){a[1].indexOf(&quot;rgba&quot;)===0?(e=ya(a[1]),k=e.get(&quot;rgb&quot;),l=e.get(&quot;a&quot;)):(k=a[1],l=1);a=d.createElement(&quot;stop&quot;).attr({offset:a[0],&quot;stop-color&quot;:k,&quot;stop-opacity&quot;:l}).add(i);i.stops.push(a)}));c.setAttribute(b,&quot;url(&quot;+d.url+&quot;#&quot;+a+&quot;)&quot;)}},attr:function(a,b){var c,d,e=this.element,f,g=this,h;typeof a===&quot;string&quot;&amp;&amp;b!==t&amp;&amp;(c=a,a={},a[c]=b);if(typeof a===&quot;string&quot;)g=(this[a+&quot;Getter&quot;]||this._defaultGetter).call(this,a,e);else{for(c in a){d=a[c];h=!1;this.symbolName&amp;&amp;/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(c)&amp;&amp;
(f||(this.symbolAttr(a),f=!0),h=!0);if(this.rotation&amp;&amp;(c===&quot;x&quot;||c===&quot;y&quot;))this.doTransform=!0;h||(this[c+&quot;Setter&quot;]||this._defaultSetter).call(this,d,c,e);this.shadows&amp;&amp;/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(c)&amp;&amp;this.updateShadows(c,d)}if(this.doTransform)this.updateTransform(),this.doTransform=!1}return g},updateShadows:function(a,b){for(var c=this.shadows,d=c.length;d--;)c[d].setAttribute(a,a===&quot;height&quot;?v(b-(c[d].cutHeight||0),0):a===&quot;d&quot;?this.d:b)},addClass:function(a){var b=this.element,
c=H(b,&quot;class&quot;)||&quot;&quot;;c.indexOf(a)===-1&amp;&amp;H(b,&quot;class&quot;,c+&quot; &quot;+a);return this},symbolAttr:function(a){var b=this;p(&quot;x,y,r,start,end,width,height,innerR,anchorX,anchorY&quot;.split(&quot;,&quot;),function(c){b[c]=m(a[c],b[c])});b.attr({d:b.renderer.symbols[b.symbolName](b.x,b.y,b.width,b.height,b)})},clip:function(a){return this.attr(&quot;clip-path&quot;,a?&quot;url(&quot;+this.renderer.url+&quot;#&quot;+a.id+&quot;)&quot;:Q)},crisp:function(a){var b,c={},d,e=a.strokeWidth||this.strokeWidth||this.attr&amp;&amp;this.attr(&quot;stroke-width&quot;)||0;d=u(e)%2/2;a.x=T(a.x||this.x||
0)+d;a.y=T(a.y||this.y||0)+d;a.width=T((a.width||this.width||0)-2*d);a.height=T((a.height||this.height||0)-2*d);a.strokeWidth=e;for(b in a)this[b]!==a[b]&amp;&amp;(this[b]=c[b]=a[b]);return c},css:function(a){var b=this.styles,c={},d=this.element,e,f,g=&quot;&quot;;e=!b;if(a&amp;&amp;a.color)a.fill=a.color;if(b)for(f in a)a[f]!==b[f]&amp;&amp;(c[f]=a[f],e=!0);if(e){e=this.textWidth=a&amp;&amp;a.width&amp;&amp;d.nodeName.toLowerCase()===&quot;text&quot;&amp;&amp;z(a.width);b&amp;&amp;(a=q(b,c));this.styles=a;e&amp;&amp;(fa||!aa&amp;&amp;this.renderer.forExport)&amp;&amp;delete a.width;if(Aa&amp;&amp;!aa)G(this.element,
a);else{b=function(a,b){return&quot;-&quot;+b.toLowerCase()};for(f in a)g+=f.replace(/([A-Z])/g,b)+&quot;:&quot;+a[f]+&quot;;&quot;;H(d,&quot;style&quot;,g)}e&amp;&amp;this.added&amp;&amp;this.renderer.buildText(this)}return this},on:function(a,b){var c=this,d=c.element;$a&amp;&amp;a===&quot;click&quot;?(d.ontouchstart=function(a){c.touchEventFired=Date.now();a.preventDefault();b.call(d,a)},d.onclick=function(a){(wa.indexOf(&quot;Android&quot;)===-1||Date.now()-(c.touchEventFired||0)&gt;1100)&amp;&amp;b.call(d,a)}):d[&quot;on&quot;+a]=b;return this},setRadialReference:function(a){this.element.radialReference=
a;return this},translate:function(a,b){return this.attr({translateX:a,translateY:b})},invert:function(){this.inverted=!0;this.updateTransform();return this},updateTransform:function(){var a=this.translateX||0,b=this.translateY||0,c=this.scaleX,d=this.scaleY,e=this.inverted,f=this.rotation,g=this.element;e&amp;&amp;(a+=this.attr(&quot;width&quot;),b+=this.attr(&quot;height&quot;));a=[&quot;translate(&quot;+a+&quot;,&quot;+b+&quot;)&quot;];e?a.push(&quot;rotate(90) scale(-1,1)&quot;):f&amp;&amp;a.push(&quot;rotate(&quot;+f+&quot; &quot;+(g.getAttribute(&quot;x&quot;)||0)+&quot; &quot;+(g.getAttribute(&quot;y&quot;)||0)+&quot;)&quot;);
(r(c)||r(d))&amp;&amp;a.push(&quot;scale(&quot;+m(c,1)+&quot; &quot;+m(d,1)+&quot;)&quot;);a.length&amp;&amp;g.setAttribute(&quot;transform&quot;,a.join(&quot; &quot;))},toFront:function(){var a=this.element;a.parentNode.appendChild(a);return this},align:function(a,b,c){var d,e,f,g,h={};e=this.renderer;f=e.alignedObjects;if(a){if(this.alignOptions=a,this.alignByTranslate=b,!c||Fa(c))this.alignTo=d=c||&quot;renderer&quot;,ja(f,this),f.push(this),c=null}else a=this.alignOptions,b=this.alignByTranslate,d=this.alignTo;c=m(c,e[d],e);d=a.align;e=a.verticalAlign;f=(c.x||0)+(a.x||
0);g=(c.y||0)+(a.y||0);if(d===&quot;right&quot;||d===&quot;center&quot;)f+=(c.width-(a.width||0))/{right:1,center:2}[d];h[b?&quot;translateX&quot;:&quot;x&quot;]=u(f);if(e===&quot;bottom&quot;||e===&quot;middle&quot;)g+=(c.height-(a.height||0))/({bottom:1,middle:2}[e]||1);h[b?&quot;translateY&quot;:&quot;y&quot;]=u(g);this[this.placed?&quot;animate&quot;:&quot;attr&quot;](h);this.placed=!0;this.alignAttr=h;return this},getBBox:function(){var a=this.bBox,b=this.renderer,c,d,e=this.rotation;c=this.element;var f=this.styles,g=e*Ca;d=this.textStr;var h;if(d===&quot;&quot;||Ob.test(d))h=&quot;num.&quot;+d.toString().length+
(f?&quot;|&quot;+f.fontSize+&quot;|&quot;+f.fontFamily:&quot;&quot;);h&amp;&amp;(a=b.cache[h]);if(!a){if(c.namespaceURI===xa||b.forExport){try{a=c.getBBox?q({},c.getBBox()):{width:c.offsetWidth,height:c.offsetHeight}}catch(i){}if(!a||a.width&lt;0)a={width:0,height:0}}else a=this.htmlGetBBox();if(b.isSVG){c=a.width;d=a.height;if(Aa&amp;&amp;f&amp;&amp;f.fontSize===&quot;11px&quot;&amp;&amp;d.toPrecision(3)===&quot;16.9&quot;)a.height=d=14;if(e)a.width=M(d*ea(g))+M(c*Z(g)),a.height=M(d*Z(g))+M(c*ea(g))}this.bBox=a;h&amp;&amp;(b.cache[h]=a)}return a},show:function(a){return a&amp;&amp;this.element.namespaceURI===
xa?(this.element.removeAttribute(&quot;visibility&quot;),this):this.attr({visibility:a?&quot;inherit&quot;:&quot;visible&quot;})},hide:function(){return this.attr({visibility:&quot;hidden&quot;})},fadeOut:function(a){var b=this;b.animate({opacity:0},{duration:a||150,complete:function(){b.hide()}})},add:function(a){var b=this.renderer,c=a||b,d=c.element||b.box,e=this.element,f=this.zIndex,g,h;if(a)this.parentGroup=a;this.parentInverted=a&amp;&amp;a.inverted;this.textStr!==void 0&amp;&amp;b.buildText(this);if(f)c.handleZ=!0,f=z(f);if(c.handleZ){a=d.childNodes;
for(g=0;g&lt;a.length;g++)if(b=a[g],c=H(b,&quot;zIndex&quot;),b!==e&amp;&amp;(z(c)&gt;f||!r(f)&amp;&amp;r(c))){d.insertBefore(e,b);h=!0;break}}h||d.appendChild(e);this.added=!0;if(this.onAdd)this.onAdd();return this},safeRemoveChild:function(a){var b=a.parentNode;b&amp;&amp;b.removeChild(a)},destroy:function(){var a=this,b=a.element||{},c=a.shadows,d=a.renderer.isSVG&amp;&amp;b.nodeName===&quot;SPAN&quot;&amp;&amp;a.parentGroup,e,f;b.onclick=b.onmouseout=b.onmouseover=b.onmousemove=b.point=null;bb(a);if(a.clipPath)a.clipPath=a.clipPath.destroy();if(a.stops){for(f=
0;f&lt;a.stops.length;f++)a.stops[f]=a.stops[f].destroy();a.stops=null}a.safeRemoveChild(b);for(c&amp;&amp;p(c,function(b){a.safeRemoveChild(b)});d&amp;&amp;d.div.childNodes.length===0;)b=d.parentGroup,a.safeRemoveChild(d.div),delete d.div,d=b;a.alignTo&amp;&amp;ja(a.renderer.alignedObjects,a);for(e in a)delete a[e];return null},shadow:function(a,b,c){var d=[],e,f,g=this.element,h,i,j,k;if(a){i=m(a.width,3);j=(a.opacity||0.15)/i;k=this.parentInverted?&quot;(-1,-1)&quot;:&quot;(&quot;+m(a.offsetX,1)+&quot;, &quot;+m(a.offsetY,1)+&quot;)&quot;;for(e=1;e&lt;=i;e++){f=
g.cloneNode(0);h=i*2+1-2*e;H(f,{isShadow:&quot;true&quot;,stroke:a.color||&quot;black&quot;,&quot;stroke-opacity&quot;:j*e,&quot;stroke-width&quot;:h,transform:&quot;translate&quot;+k,fill:Q});if(c)H(f,&quot;height&quot;,v(H(f,&quot;height&quot;)-h,0)),f.cutHeight=h;b?b.element.appendChild(f):g.parentNode.insertBefore(f,g);d.push(f)}this.shadows=d}return this},xGetter:function(a){this.element.nodeName===&quot;circle&quot;&amp;&amp;(a={x:&quot;cx&quot;,y:&quot;cy&quot;}[a]||a);return this._defaultGetter(a)},_defaultGetter:function(a){a=m(this[a],this.element?this.element.getAttribute(a):null,0);/^[0-9\.]+$/.test(a)&amp;&amp;
(a=parseFloat(a));return a},dSetter:function(a,b,c){a&amp;&amp;a.join&amp;&amp;(a=a.join(&quot; &quot;));/(NaN| {2}|^$)/.test(a)&amp;&amp;(a=&quot;M 0 0&quot;);c.setAttribute(b,a);this[b]=a},dashstyleSetter:function(a){var b;if(a=a&amp;&amp;a.toLowerCase()){a=a.replace(&quot;shortdashdotdot&quot;,&quot;3,1,1,1,1,1,&quot;).replace(&quot;shortdashdot&quot;,&quot;3,1,1,1&quot;).replace(&quot;shortdot&quot;,&quot;1,1,&quot;).replace(&quot;shortdash&quot;,&quot;3,1,&quot;).replace(&quot;longdash&quot;,&quot;8,3,&quot;).replace(/dot/g,&quot;1,3,&quot;).replace(&quot;dash&quot;,&quot;4,3,&quot;).replace(/,$/,&quot;&quot;).split(&quot;,&quot;);for(b=a.length;b--;)a[b]=z(a[b])*this.element.getAttribute(&quot;stroke-width&quot;);
a=a.join(&quot;,&quot;);this.element.setAttribute(&quot;stroke-dasharray&quot;,a)}},alignSetter:function(a){this.element.setAttribute(&quot;text-anchor&quot;,{left:&quot;start&quot;,center:&quot;middle&quot;,right:&quot;end&quot;}[a])},opacitySetter:function(a,b,c){this[b]=a;c.setAttribute(b,a)},&quot;stroke-widthSetter&quot;:function(a,b,c){a===0&amp;&amp;(a=1.0E-5);this.strokeWidth=a;c.setAttribute(b,a)},titleSetter:function(a){var b=this.element.getElementsByTagName(&quot;title&quot;)[0];b||(b=y.createElementNS(xa,&quot;title&quot;),this.element.appendChild(b));b.textContent=a},textSetter:function(a){if(a!==
this.textStr)delete this.bBox,this.textStr=a,this.added&amp;&amp;this.renderer.buildText(this)},fillSetter:function(a,b,c){typeof a===&quot;string&quot;?c.setAttribute(b,a):a&amp;&amp;this.colorGradient(a,b,c)},zIndexSetter:function(a,b,c){c.setAttribute(b,a);this[b]=a},_defaultSetter:function(a,b,c){c.setAttribute(b,a)}};P.prototype.yGetter=P.prototype.xGetter;P.prototype.translateXSetter=P.prototype.translateYSetter=P.prototype.rotationSetter=P.prototype.verticalAlignSetter=P.prototype.scaleXSetter=P.prototype.scaleYSetter=
function(a,b){this[b]=a;this.doTransform=!0};P.prototype.strokeSetter=P.prototype.fillSetter;var ta=function(){this.init.apply(this,arguments)};ta.prototype={Element:P,init:function(a,b,c,d,e){var f=location,g,d=this.createElement(&quot;svg&quot;).attr({version:&quot;1.1&quot;}).css(this.getStyle(d));g=d.element;a.appendChild(g);a.innerHTML.indexOf(&quot;xmlns&quot;)===-1&amp;&amp;H(g,&quot;xmlns&quot;,xa);this.isSVG=!0;this.box=g;this.boxWrapper=d;this.alignedObjects=[];this.url=(Ta||ib)&amp;&amp;y.getElementsByTagName(&quot;base&quot;).length?f.href.replace(/#.*?$/,
&quot;&quot;).replace(/([\('\)])/g,&quot;\\$1&quot;).replace(/ /g,&quot;%20&quot;):&quot;&quot;;this.createElement(&quot;desc&quot;).add().element.appendChild(y.createTextNode(&quot;Created with Highcharts 4.0.1&quot;));this.defs=this.createElement(&quot;defs&quot;).add();this.forExport=e;this.gradients={};this.cache={};this.setSize(b,c,!1);var h;if(Ta&amp;&amp;a.getBoundingClientRect)this.subPixelFix=b=function(){G(a,{left:0,top:0});h=a.getBoundingClientRect();G(a,{left:Ka(h.left)-h.left+&quot;px&quot;,top:Ka(h.top)-h.top+&quot;px&quot;})},b(),K(I,&quot;resize&quot;,b)},getStyle:function(a){return this.style=
q({fontFamily:'&quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, Arial, Helvetica, sans-serif',fontSize:&quot;12px&quot;},a)},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var a=this.defs;this.box=null;this.boxWrapper=this.boxWrapper.destroy();Oa(this.gradients||{});this.gradients=null;if(a)this.defs=a.destroy();this.subPixelFix&amp;&amp;W(I,&quot;resize&quot;,this.subPixelFix);return this.alignedObjects=null},createElement:function(a){var b=new this.Element;b.init(this,a);return b},draw:function(){},
buildText:function(a){for(var b=a.element,c=this,d=c.forExport,e=m(a.textStr,&quot;&quot;).toString(),f=e.indexOf(&quot;&lt;&quot;)!==-1,g=b.childNodes,h,i,j=H(b,&quot;x&quot;),k=a.styles,l=a.textWidth,o=k&amp;&amp;k.lineHeight,n=g.length,s=function(a){return o?z(o):c.fontMetrics(/(px|em)$/.test(a&amp;&amp;a.style.fontSize)?a.style.fontSize:k&amp;&amp;k.fontSize||c.style.fontSize||12).h};n--;)b.removeChild(g[n]);!f&amp;&amp;e.indexOf(&quot; &quot;)===-1?b.appendChild(y.createTextNode(e)):(h=/&lt;.*style=&quot;([^&quot;]+)&quot;.*&gt;/,i=/&lt;.*href=&quot;(http[^&quot;]+)&quot;.*&gt;/,l&amp;&amp;!a.added&amp;&amp;this.box.appendChild(b),
e=f?e.replace(/&lt;(b|strong)&gt;/g,'&lt;span style=&quot;font-weight:bold&quot;&gt;').replace(/&lt;(i|em)&gt;/g,'&lt;span style=&quot;font-style:italic&quot;&gt;').replace(/&lt;a/g,&quot;&lt;span&quot;).replace(/&lt;\/(b|strong|i|em|a)&gt;/g,&quot;&lt;/span&gt;&quot;).split(/&lt;br.*?&gt;/g):[e],e[e.length-1]===&quot;&quot;&amp;&amp;e.pop(),p(e,function(e,f){var g,n=0,e=e.replace(/&lt;span/g,&quot;|||&lt;span&quot;).replace(/&lt;\/span&gt;/g,&quot;&lt;/span&gt;|||&quot;);g=e.split(&quot;|||&quot;);p(g,function(e){if(e!==&quot;&quot;||g.length===1){var o={},m=y.createElementNS(xa,&quot;tspan&quot;),p;h.test(e)&amp;&amp;(p=e.match(h)[1].replace(/(;| |^)color([ :])/,&quot;$1fill$2&quot;),
H(m,&quot;style&quot;,p));i.test(e)&amp;&amp;!d&amp;&amp;(H(m,&quot;onclick&quot;,'location.href=&quot;'+e.match(i)[1]+'&quot;'),G(m,{cursor:&quot;pointer&quot;}));e=(e.replace(/&lt;(.|\n)*?&gt;/g,&quot;&quot;)||&quot; &quot;).replace(/&amp;lt;/g,&quot;&lt;&quot;).replace(/&amp;gt;/g,&quot;&gt;&quot;);if(e!==&quot; &quot;){m.appendChild(y.createTextNode(e));if(n)o.dx=0;else if(f&amp;&amp;j!==null)o.x=j;H(m,o);!n&amp;&amp;f&amp;&amp;(!aa&amp;&amp;d&amp;&amp;G(m,{display:&quot;block&quot;}),H(m,&quot;dy&quot;,s(m),ib&amp;&amp;m.offsetHeight));b.appendChild(m);n++;if(l)for(var e=e.replace(/([^\^])-/g,&quot;$1- &quot;).split(&quot; &quot;),o=e.length&gt;1&amp;&amp;k.whiteSpace!==&quot;nowrap&quot;,$,r,B=a._clipHeight,q=[],v=s(),t=
1;o&amp;&amp;(e.length||q.length);)delete a.bBox,$=a.getBBox(),r=$.width,!aa&amp;&amp;c.forExport&amp;&amp;(r=c.measureSpanWidth(m.firstChild.data,a.styles)),$=r&gt;l,!$||e.length===1?(e=q,q=[],e.length&amp;&amp;(t++,B&amp;&amp;t*v&gt;B?(e=[&quot;...&quot;],a.attr(&quot;title&quot;,a.textStr)):(m=y.createElementNS(xa,&quot;tspan&quot;),H(m,{dy:v,x:j}),p&amp;&amp;H(m,&quot;style&quot;,p),b.appendChild(m),r&gt;l&amp;&amp;(l=r)))):(m.removeChild(m.firstChild),q.unshift(e.pop())),e.length&amp;&amp;m.appendChild(y.createTextNode(e.join(&quot; &quot;).replace(/- /g,&quot;-&quot;)))}}})}))},button:function(a,b,c,d,e,f,g,h,i){var j=this.label(a,
b,c,i,null,null,null,null,&quot;button&quot;),k=0,l,o,n,s,m,p,a={x1:0,y1:0,x2:0,y2:1},e=w({&quot;stroke-width&quot;:1,stroke:&quot;#CCCCCC&quot;,fill:{linearGradient:a,stops:[[0,&quot;#FEFEFE&quot;],[1,&quot;#F6F6F6&quot;]]},r:2,padding:5,style:{color:&quot;black&quot;}},e);n=e.style;delete e.style;f=w(e,{stroke:&quot;#68A&quot;,fill:{linearGradient:a,stops:[[0,&quot;#FFF&quot;],[1,&quot;#ACF&quot;]]}},f);s=f.style;delete f.style;g=w(e,{stroke:&quot;#68A&quot;,fill:{linearGradient:a,stops:[[0,&quot;#9BD&quot;],[1,&quot;#CDF&quot;]]}},g);m=g.style;delete g.style;h=w(e,{style:{color:&quot;#CCC&quot;}},h);p=h.style;delete h.style;
K(j.element,Aa?&quot;mouseover&quot;:&quot;mouseenter&quot;,function(){k!==3&amp;&amp;j.attr(f).css(s)});K(j.element,Aa?&quot;mouseout&quot;:&quot;mouseleave&quot;,function(){k!==3&amp;&amp;(l=[e,f,g][k],o=[n,s,m][k],j.attr(l).css(o))});j.setState=function(a){(j.state=k=a)?a===2?j.attr(g).css(m):a===3&amp;&amp;j.attr(h).css(p):j.attr(e).css(n)};return j.on(&quot;click&quot;,function(){k!==3&amp;&amp;d.call(j)}).attr(e).css(q({cursor:&quot;default&quot;},n))},crispLine:function(a,b){a[1]===a[4]&amp;&amp;(a[1]=a[4]=u(a[1])-b%2/2);a[2]===a[5]&amp;&amp;(a[2]=a[5]=u(a[2])+b%2/2);return a},path:function(a){var b=
{fill:Q};La(a)?b.d=a:ca(a)&amp;&amp;q(b,a);return this.createElement(&quot;path&quot;).attr(b)},circle:function(a,b,c){a=ca(a)?a:{x:a,y:b,r:c};b=this.createElement(&quot;circle&quot;);b.xSetter=function(a){this.element.setAttribute(&quot;cx&quot;,a)};b.ySetter=function(a){this.element.setAttribute(&quot;cy&quot;,a)};return b.attr(a)},arc:function(a,b,c,d,e,f){if(ca(a))b=a.y,c=a.r,d=a.innerR,e=a.start,f=a.end,a=a.x;a=this.symbol(&quot;arc&quot;,a||0,b||0,c||0,c||0,{innerR:d||0,start:e||0,end:f||0});a.r=c;return a},rect:function(a,b,c,d,e,f){var e=ca(a)?a.r:
e,g=this.createElement(&quot;rect&quot;),a=ca(a)?a:a===t?{}:{x:a,y:b,width:v(c,0),height:v(d,0)};if(f!==t)a.strokeWidth=f,a=g.crisp(a);if(e)a.r=e;g.rSetter=function(a){H(this.element,{rx:a,ry:a})};return g.attr(a)},setSize:function(a,b,c){var d=this.alignedObjects,e=d.length;this.width=a;this.height=b;for(this.boxWrapper[m(c,!0)?&quot;animate&quot;:&quot;attr&quot;]({width:a,height:b});e--;)d[e].align()},g:function(a){var b=this.createElement(&quot;g&quot;);return r(a)?b.attr({&quot;class&quot;:&quot;highcharts-&quot;+a}):b},image:function(a,b,c,d,e){var f=
{preserveAspectRatio:Q};arguments.length&gt;1&amp;&amp;q(f,{x:b,y:c,width:d,height:e});f=this.createElement(&quot;image&quot;).attr(f);f.element.setAttributeNS?f.element.setAttributeNS(&quot;http://www.w3.org/1999/xlink&quot;,&quot;href&quot;,a):f.element.setAttribute(&quot;hc-svg-href&quot;,a);return f},symbol:function(a,b,c,d,e,f){var g,h=this.symbols[a],h=h&amp;&amp;h(u(b),u(c),d,e,f),i=/^url\((.*?)\)$/,j,k;if(h)g=this.path(h),q(g,{symbolName:a,x:b,y:c,width:d,height:e}),f&amp;&amp;q(g,f);else if(i.test(a))k=function(a,b){a.element&amp;&amp;(a.attr({width:b[0],height:b[1]}),
a.alignByTranslate||a.translate(u((d-b[0])/2),u((e-b[1])/2)))},j=a.match(i)[1],a=Kb[j],g=this.image(j).attr({x:b,y:c}),g.isImg=!0,a?k(g,a):(g.attr({width:0,height:0}),Y(&quot;img&quot;,{onload:function(){k(g,Kb[j]=[this.width,this.height])},src:j}));return g},symbols:{circle:function(a,b,c,d){var e=0.166*c;return[&quot;M&quot;,a+c/2,b,&quot;C&quot;,a+c+e,b,a+c+e,b+d,a+c/2,b+d,&quot;C&quot;,a-e,b+d,a-e,b,a+c/2,b,&quot;Z&quot;]},square:function(a,b,c,d){return[&quot;M&quot;,a,b,&quot;L&quot;,a+c,b,a+c,b+d,a,b+d,&quot;Z&quot;]},triangle:function(a,b,c,d){return[&quot;M&quot;,a+c/2,b,&quot;L&quot;,
a+c,b+d,a,b+d,&quot;Z&quot;]},&quot;triangle-down&quot;:function(a,b,c,d){return[&quot;M&quot;,a,b,&quot;L&quot;,a+c,b,a+c/2,b+d,&quot;Z&quot;]},diamond:function(a,b,c,d){return[&quot;M&quot;,a+c/2,b,&quot;L&quot;,a+c,b+d/2,a+c/2,b+d,a,b+d/2,&quot;Z&quot;]},arc:function(a,b,c,d,e){var f=e.start,c=e.r||c||d,g=e.end-0.001,d=e.innerR,h=e.open,i=Z(f),j=ea(f),k=Z(g),g=ea(g),e=e.end-f&lt;ma?0:1;return[&quot;M&quot;,a+c*i,b+c*j,&quot;A&quot;,c,c,0,e,1,a+c*k,b+c*g,h?&quot;M&quot;:&quot;L&quot;,a+d*k,b+d*g,&quot;A&quot;,d,d,0,e,0,a+d*i,b+d*j,h?&quot;&quot;:&quot;Z&quot;]},callout:function(a,b,c,d,e){var f=C(e&amp;&amp;e.r||0,c,d),g=f+6,h=e&amp;&amp;e.anchorX,i=e&amp;&amp;e.anchorY,
e=u(e.strokeWidth||0)%2/2;a+=e;b+=e;e=[&quot;M&quot;,a+f,b,&quot;L&quot;,a+c-f,b,&quot;C&quot;,a+c,b,a+c,b,a+c,b+f,&quot;L&quot;,a+c,b+d-f,&quot;C&quot;,a+c,b+d,a+c,b+d,a+c-f,b+d,&quot;L&quot;,a+f,b+d,&quot;C&quot;,a,b+d,a,b+d,a,b+d-f,&quot;L&quot;,a,b+f,&quot;C&quot;,a,b,a,b,a+f,b];h&amp;&amp;h&gt;c&amp;&amp;i&gt;b+g&amp;&amp;i&lt;b+d-g?e.splice(13,3,&quot;L&quot;,a+c,i-6,a+c+6,i,a+c,i+6,a+c,b+d-f):h&amp;&amp;h&lt;0&amp;&amp;i&gt;b+g&amp;&amp;i&lt;b+d-g?e.splice(33,3,&quot;L&quot;,a,i+6,a-6,i,a,i-6,a,b+f):i&amp;&amp;i&gt;d&amp;&amp;h&gt;a+g&amp;&amp;h&lt;a+c-g?e.splice(23,3,&quot;L&quot;,h+6,b+d,h,b+d+6,h-6,b+d,a+f,b+d):i&amp;&amp;i&lt;0&amp;&amp;h&gt;a+g&amp;&amp;h&lt;a+c-g&amp;&amp;e.splice(3,3,&quot;L&quot;,h-6,b,h,b-6,h+6,b,c-f,b);return e}},clipRect:function(a,
b,c,d){var e=&quot;highcharts-&quot;+tb++,f=this.createElement(&quot;clipPath&quot;).attr({id:e}).add(this.defs),a=this.rect(a,b,c,d,0).add(f);a.id=e;a.clipPath=f;return a},text:function(a,b,c,d){var e=fa||!aa&amp;&amp;this.forExport,f={};if(d&amp;&amp;!this.forExport)return this.html(a,b,c);f.x=Math.round(b||0);if(c)f.y=Math.round(c);if(a||a===0)f.text=a;a=this.createElement(&quot;text&quot;).attr(f);e&amp;&amp;a.css({position:&quot;absolute&quot;});if(!d)a.xSetter=function(a,b,c){var d=c.childNodes,e,f;for(f=1;f&lt;d.length;f++)e=d[f],e.getAttribute(&quot;x&quot;)===c.getAttribute(&quot;x&quot;)&amp;&amp;
e.setAttribute(&quot;x&quot;,a);c.setAttribute(b,a)};return a},fontMetrics:function(a){var a=a||this.style.fontSize,a=/px/.test(a)?z(a):/em/.test(a)?parseFloat(a)*12:12,a=a&lt;24?a+4:u(a*1.2),b=u(a*0.8);return{h:a,b:b}},label:function(a,b,c,d,e,f,g,h,i){function j(){var a,b;a=s.element.style;J=(Va===void 0||wb===void 0||n.styles.textAlign)&amp;&amp;s.textStr&amp;&amp;s.getBBox();n.width=(Va||J.width||0)+2*x+v;n.height=(wb||J.height||0)+2*x;na=x+o.fontMetrics(a&amp;&amp;a.fontSize).b;if(z){if(!m)a=u(-L*x),b=h?-na:0,n.box=m=d?o.symbol(d,
a,b,n.width,n.height,B):o.rect(a,b,n.width,n.height,0,B[Pb]),m.attr(&quot;fill&quot;,Q).add(n);m.isImg||m.attr(q({width:u(n.width),height:u(n.height)},B));B=null}}function k(){var a=n.styles,a=a&amp;&amp;a.textAlign,b=v+x*(1-L),c;c=h?0:na;if(r(Va)&amp;&amp;J&amp;&amp;(a===&quot;center&quot;||a===&quot;right&quot;))b+={center:0.5,right:1}[a]*(Va-J.width);if(b!==s.x||c!==s.y)s.attr(&quot;x&quot;,b),c!==t&amp;&amp;s.attr(&quot;y&quot;,c);s.x=b;s.y=c}function l(a,b){m?m.attr(a,b):B[a]=b}var o=this,n=o.g(i),s=o.text(&quot;&quot;,0,0,g).attr({zIndex:1}),m,J,L=0,x=3,v=0,Va,wb,xb,yb,y=0,B={},na,
z;n.onAdd=function(){s.add(n);n.attr({text:a||&quot;&quot;,x:b,y:c});m&amp;&amp;r(e)&amp;&amp;n.attr({anchorX:e,anchorY:f})};n.widthSetter=function(a){Va=a};n.heightSetter=function(a){wb=a};n.paddingSetter=function(a){r(a)&amp;&amp;a!==x&amp;&amp;(x=a,k())};n.paddingLeftSetter=function(a){r(a)&amp;&amp;a!==v&amp;&amp;(v=a,k())};n.alignSetter=function(a){L={left:0,center:0.5,right:1}[a]};n.textSetter=function(a){a!==t&amp;&amp;s.textSetter(a);j();k()};n[&quot;stroke-widthSetter&quot;]=function(a,b){a&amp;&amp;(z=!0);y=a%2/2;l(b,a)};n.strokeSetter=n.fillSetter=n.rSetter=function(a,
b){b===&quot;fill&quot;&amp;&amp;a&amp;&amp;(z=!0);l(b,a)};n.anchorXSetter=function(a,b){e=a;l(b,a+y-xb)};n.anchorYSetter=function(a,b){f=a;l(b,a-yb)};n.xSetter=function(a){n.x=a;L&amp;&amp;(a-=L*((Va||J.width)+x));xb=u(a);n.attr(&quot;translateX&quot;,xb)};n.ySetter=function(a){yb=n.y=u(a);n.attr(&quot;translateY&quot;,yb)};var A=n.css;return q(n,{css:function(a){if(a){var b={},a=w(a);p(&quot;fontSize,fontWeight,fontFamily,color,lineHeight,width,textDecoration,textShadow&quot;.split(&quot;,&quot;),function(c){a[c]!==t&amp;&amp;(b[c]=a[c],delete a[c])});s.css(b)}return A.call(n,
a)},getBBox:function(){return{width:J.width+2*x,height:J.height+2*x,x:J.x-x,y:J.y-x}},shadow:function(a){m&amp;&amp;m.shadow(a);return n},destroy:function(){W(n.element,&quot;mouseenter&quot;);W(n.element,&quot;mouseleave&quot;);s&amp;&amp;(s=s.destroy());m&amp;&amp;(m=m.destroy());P.prototype.destroy.call(n);n=o=j=k=l=null}})}};Za=ta;q(P.prototype,{htmlCss:function(a){var b=this.element;if(b=a&amp;&amp;b.tagName===&quot;SPAN&quot;&amp;&amp;a.width)delete a.width,this.textWidth=b,this.updateTransform();this.styles=q(this.styles,a);G(this.element,a);return this},htmlGetBBox:function(){var a=
this.element,b=this.bBox;if(!b){if(a.nodeName===&quot;text&quot;)a.style.position=&quot;absolute&quot;;b=this.bBox={x:a.offsetLeft,y:a.offsetTop,width:a.offsetWidth,height:a.offsetHeight}}return b},htmlUpdateTransform:function(){if(this.added){var a=this.renderer,b=this.element,c=this.translateX||0,d=this.translateY||0,e=this.x||0,f=this.y||0,g=this.textAlign||&quot;left&quot;,h={left:0,center:0.5,right:1}[g],i=this.shadows;G(b,{marginLeft:c,marginTop:d});i&amp;&amp;p(i,function(a){G(a,{marginLeft:c+1,marginTop:d+1})});this.inverted&amp;&amp;
p(b.childNodes,function(c){a.invertChild(c,b)});if(b.tagName===&quot;SPAN&quot;){var j=this.rotation,k,l=z(this.textWidth),o=[j,g,b.innerHTML,this.textWidth].join(&quot;,&quot;);if(o!==this.cTT){k=a.fontMetrics(b.style.fontSize).b;r(j)&amp;&amp;this.setSpanRotation(j,h,k);i=m(this.elemWidth,b.offsetWidth);if(i&gt;l&amp;&amp;/[ \-]/.test(b.textContent||b.innerText))G(b,{width:l+&quot;px&quot;,display:&quot;block&quot;,whiteSpace:&quot;normal&quot;}),i=l;this.getSpanCorrection(i,k,h,j,g)}G(b,{left:e+(this.xCorr||0)+&quot;px&quot;,top:f+(this.yCorr||0)+&quot;px&quot;});if(ib)k=b.offsetHeight;
this.cTT=o}}else this.alignOnAdd=!0},setSpanRotation:function(a,b,c){var d={},e=Aa?&quot;-ms-transform&quot;:ib?&quot;-webkit-transform&quot;:Ta?&quot;MozTransform&quot;:Ib?&quot;-o-transform&quot;:&quot;&quot;;d[e]=d.transform=&quot;rotate(&quot;+a+&quot;deg)&quot;;d[e+(Ta?&quot;Origin&quot;:&quot;-origin&quot;)]=d.transformOrigin=b*100+&quot;% &quot;+c+&quot;px&quot;;G(this.element,d)},getSpanCorrection:function(a,b,c){this.xCorr=-a*c;this.yCorr=-b}});q(ta.prototype,{html:function(a,b,c){var d=this.createElement(&quot;span&quot;),e=d.element,f=d.renderer;d.textSetter=function(a){a!==e.innerHTML&amp;&amp;delete this.bBox;
e.innerHTML=this.textStr=a};d.xSetter=d.ySetter=d.alignSetter=d.rotationSetter=function(a,b){b===&quot;align&quot;&amp;&amp;(b=&quot;textAlign&quot;);d[b]=a;d.htmlUpdateTransform()};d.attr({text:a,x:u(b),y:u(c)}).css({position:&quot;absolute&quot;,whiteSpace:&quot;nowrap&quot;,fontFamily:this.style.fontFamily,fontSize:this.style.fontSize});d.css=d.htmlCss;if(f.isSVG)d.add=function(a){var b,c=f.box.parentNode,j=[];if(this.parentGroup=a){if(b=a.div,!b){for(;a;)j.push(a),a=a.parentGroup;p(j.reverse(),function(a){var d;b=a.div=a.div||Y(Ja,{className:H(a.element,
&quot;class&quot;)},{position:&quot;absolute&quot;,left:(a.translateX||0)+&quot;px&quot;,top:(a.translateY||0)+&quot;px&quot;},b||c);d=b.style;q(a,{translateXSetter:function(b,c){d.left=b+&quot;px&quot;;a[c]=b;a.doTransform=!0},translateYSetter:function(b,c){d.top=b+&quot;px&quot;;a[c]=b;a.doTransform=!0},visibilitySetter:function(a,b){d[b]=a}})})}}else b=c;b.appendChild(e);d.added=!0;d.alignOnAdd&amp;&amp;d.htmlUpdateTransform();return d};return d}});var X;if(!aa&amp;&amp;!fa){R.VMLElement=X={init:function(a,b){var c=[&quot;&lt;&quot;,b,' filled=&quot;f&quot; stroked=&quot;f&quot;'],d=[&quot;position: &quot;,&quot;absolute&quot;,
&quot;;&quot;],e=b===Ja;(b===&quot;shape&quot;||e)&amp;&amp;d.push(&quot;left:0;top:0;width:1px;height:1px;&quot;);d.push(&quot;visibility: &quot;,e?&quot;hidden&quot;:&quot;visible&quot;);c.push(' style=&quot;',d.join(&quot;&quot;),'&quot;/&gt;');if(b)c=e||b===&quot;span&quot;||b===&quot;img&quot;?c.join(&quot;&quot;):a.prepVML(c),this.element=Y(c);this.renderer=a},add:function(a){var b=this.renderer,c=this.element,d=b.box,d=a?a.element||a:d;a&amp;&amp;a.inverted&amp;&amp;b.invertChild(c,d);d.appendChild(c);this.added=!0;this.alignOnAdd&amp;&amp;!this.deferUpdateTransform&amp;&amp;this.updateTransform();if(this.onAdd)this.onAdd();return this},updateTransform:P.prototype.htmlUpdateTransform,
setSpanRotation:function(){var a=this.rotation,b=Z(a*Ca),c=ea(a*Ca);G(this.element,{filter:a?[&quot;progid:DXImageTransform.Microsoft.Matrix(M11=&quot;,b,&quot;, M12=&quot;,-c,&quot;, M21=&quot;,c,&quot;, M22=&quot;,b,&quot;, sizingMethod='auto expand')&quot;].join(&quot;&quot;):Q})},getSpanCorrection:function(a,b,c,d,e){var f=d?Z(d*Ca):1,g=d?ea(d*Ca):0,h=m(this.elemHeight,this.element.offsetHeight),i;this.xCorr=f&lt;0&amp;&amp;-a;this.yCorr=g&lt;0&amp;&amp;-h;i=f*g&lt;0;this.xCorr+=g*b*(i?1-c:c);this.yCorr-=f*b*(d?i?c:1-c:1);e&amp;&amp;e!==&quot;left&quot;&amp;&amp;(this.xCorr-=a*c*(f&lt;0?-1:1),d&amp;&amp;(this.yCorr-=
h*c*(g&lt;0?-1:1)),G(this.element,{textAlign:e}))},pathToVML:function(a){for(var b=a.length,c=[];b--;)if(ha(a[b]))c[b]=u(a[b]*10)-5;else if(a[b]===&quot;Z&quot;)c[b]=&quot;x&quot;;else if(c[b]=a[b],a.isArc&amp;&amp;(a[b]===&quot;wa&quot;||a[b]===&quot;at&quot;))c[b+5]===c[b+7]&amp;&amp;(c[b+7]+=a[b+7]&gt;a[b+5]?1:-1),c[b+6]===c[b+8]&amp;&amp;(c[b+8]+=a[b+8]&gt;a[b+6]?1:-1);return c.join(&quot; &quot;)||&quot;x&quot;},clip:function(a){var b=this,c;a?(c=a.members,ja(c,b),c.push(b),b.destroyClip=function(){ja(c,b)},a=a.getCSS(b)):(b.destroyClip&amp;&amp;b.destroyClip(),a={clip:hb?&quot;inherit&quot;:&quot;rect(auto)&quot;});
return b.css(a)},css:P.prototype.htmlCss,safeRemoveChild:function(a){a.parentNode&amp;&amp;Pa(a)},destroy:function(){this.destroyClip&amp;&amp;this.destroyClip();return P.prototype.destroy.apply(this)},on:function(a,b){this.element[&quot;on&quot;+a]=function(){var a=I.event;a.target=a.srcElement;b(a)};return this},cutOffPath:function(a,b){var c,a=a.split(/[ ,]/);c=a.length;if(c===9||c===11)a[c-4]=a[c-2]=z(a[c-2])-10*b;return a.join(&quot; &quot;)},shadow:function(a,b,c){var d=[],e,f=this.element,g=this.renderer,h,i=f.style,j,k=f.path,
l,o,n,s;k&amp;&amp;typeof k.value!==&quot;string&quot;&amp;&amp;(k=&quot;x&quot;);o=k;if(a){n=m(a.width,3);s=(a.opacity||0.15)/n;for(e=1;e&lt;=3;e++){l=n*2+1-2*e;c&amp;&amp;(o=this.cutOffPath(k.value,l+0.5));j=['&lt;shape isShadow=&quot;true&quot; strokeweight=&quot;',l,'&quot; filled=&quot;false&quot; path=&quot;',o,'&quot; coordsize=&quot;10 10&quot; style=&quot;',f.style.cssText,'&quot; /&gt;'];h=Y(g.prepVML(j),null,{left:z(i.left)+m(a.offsetX,1),top:z(i.top)+m(a.offsetY,1)});if(c)h.cutOff=l+1;j=['&lt;stroke color=&quot;',a.color||&quot;black&quot;,'&quot; opacity=&quot;',s*e,'&quot;/&gt;'];Y(g.prepVML(j),null,null,h);b?b.element.appendChild(h):
f.parentNode.insertBefore(h,f);d.push(h)}this.shadows=d}return this},updateShadows:sa,setAttr:function(a,b){hb?this.element[a]=b:this.element.setAttribute(a,b)},classSetter:function(a){this.element.className=a},dashstyleSetter:function(a,b,c){(c.getElementsByTagName(&quot;stroke&quot;)[0]||Y(this.renderer.prepVML([&quot;&lt;stroke/&gt;&quot;]),null,null,c))[b]=a||&quot;solid&quot;;this[b]=a},dSetter:function(a,b,c){var d=this.shadows,a=a||[];this.d=a.join(&quot; &quot;);c.path=a=this.pathToVML(a);if(d)for(c=d.length;c--;)d[c].path=d[c].cutOff?
this.cutOffPath(a,d[c].cutOff):a;this.setAttr(b,a)},fillSetter:function(a,b,c){var d=c.nodeName;if(d===&quot;SPAN&quot;)c.style.color=a;else if(d!==&quot;IMG&quot;)c.filled=a!==Q,this.setAttr(&quot;fillcolor&quot;,this.renderer.color(a,c,b,this))},opacitySetter:sa,rotationSetter:function(a,b,c){c=c.style;this[b]=c[b]=a;c.left=-u(ea(a*Ca)+1)+&quot;px&quot;;c.top=u(Z(a*Ca))+&quot;px&quot;},strokeSetter:function(a,b,c){this.setAttr(&quot;strokecolor&quot;,this.renderer.color(a,c,b))},&quot;stroke-widthSetter&quot;:function(a,b,c){c.stroked=!!a;this[b]=a;ha(a)&amp;&amp;(a+=&quot;px&quot;);
this.setAttr(&quot;strokeweight&quot;,a)},titleSetter:function(a,b){this.setAttr(b,a)},visibilitySetter:function(a,b,c){a===&quot;inherit&quot;&amp;&amp;(a=&quot;visible&quot;);this.shadows&amp;&amp;p(this.shadows,function(c){c.style[b]=a});c.nodeName===&quot;DIV&quot;&amp;&amp;(a=a===&quot;hidden&quot;?&quot;-999em&quot;:0,hb||(c.style[b]=a?&quot;visible&quot;:&quot;hidden&quot;),b=&quot;top&quot;);c.style[b]=a},xSetter:function(a,b,c){this[b]=a;b===&quot;x&quot;?b=&quot;left&quot;:b===&quot;y&quot;&amp;&amp;(b=&quot;top&quot;);this.updateClipping?(this[b]=a,this.updateClipping()):c.style[b]=a},zIndexSetter:function(a,b,c){c.style[b]=a}};X=ka(P,X);X.prototype.ySetter=
X.prototype.widthSetter=X.prototype.heightSetter=X.prototype.xSetter;var ga={Element:X,isIE8:wa.indexOf(&quot;MSIE 8.0&quot;)&gt;-1,init:function(a,b,c,d){var e;this.alignedObjects=[];d=this.createElement(Ja).css(q(this.getStyle(d),{position:&quot;relative&quot;}));e=d.element;a.appendChild(d.element);this.isVML=!0;this.box=e;this.boxWrapper=d;this.cache={};this.setSize(b,c,!1);if(!y.namespaces.hcv){y.namespaces.add(&quot;hcv&quot;,&quot;urn:schemas-microsoft-com:vml&quot;);try{y.createStyleSheet().cssText=&quot;hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } &quot;}catch(f){y.styleSheets[0].cssText+=
&quot;hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } &quot;}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(a,b,c,d){var e=this.createElement(),f=ca(a);return q(e,{members:[],left:(f?a.x:a)+1,top:(f?a.y:b)+1,width:(f?a.width:c)-1,height:(f?a.height:d)-1,getCSS:function(a){var b=a.element,c=b.nodeName,a=a.inverted,d=this.top-(c===&quot;shape&quot;?b.offsetTop:0),e=this.left,b=e+this.width,f=d+this.height,d={clip:&quot;rect(&quot;+u(a?e:d)+&quot;px,&quot;+u(a?
f:b)+&quot;px,&quot;+u(a?b:f)+&quot;px,&quot;+u(a?d:e)+&quot;px)&quot;};!a&amp;&amp;hb&amp;&amp;c===&quot;DIV&quot;&amp;&amp;q(d,{width:b+&quot;px&quot;,height:f+&quot;px&quot;});return d},updateClipping:function(){p(e.members,function(a){a.element&amp;&amp;a.css(e.getCSS(a))})}})},color:function(a,b,c,d){var e=this,f,g=/^rgba/,h,i,j=Q;a&amp;&amp;a.linearGradient?i=&quot;gradient&quot;:a&amp;&amp;a.radialGradient&amp;&amp;(i=&quot;pattern&quot;);if(i){var k,l,o=a.linearGradient||a.radialGradient,n,s,m,J,L,x=&quot;&quot;,a=a.stops,r,v=[],q=function(){h=['&lt;fill colors=&quot;'+v.join(&quot;,&quot;)+'&quot; opacity=&quot;',m,'&quot; o:opacity2=&quot;',s,'&quot; type=&quot;',i,'&quot; ',x,'focus=&quot;100%&quot; method=&quot;any&quot; /&gt;'];
Y(e.prepVML(h),null,null,b)};n=a[0];r=a[a.length-1];n[0]&gt;0&amp;&amp;a.unshift([0,n[1]]);r[0]&lt;1&amp;&amp;a.push([1,r[1]]);p(a,function(a,b){g.test(a[1])?(f=ya(a[1]),k=f.get(&quot;rgb&quot;),l=f.get(&quot;a&quot;)):(k=a[1],l=1);v.push(a[0]*100+&quot;% &quot;+k);b?(m=l,J=k):(s=l,L=k)});if(c===&quot;fill&quot;)if(i===&quot;gradient&quot;)c=o.x1||o[0]||0,a=o.y1||o[1]||0,n=o.x2||o[2]||0,o=o.y2||o[3]||0,x='angle=&quot;'+(90-U.atan((o-a)/(n-c))*180/ma)+'&quot;',q();else{var j=o.r,t=j*2,u=j*2,y=o.cx,B=o.cy,na=b.radialReference,w,j=function(){na&amp;&amp;(w=d.getBBox(),y+=(na[0]-w.x)/w.width-
0.5,B+=(na[1]-w.y)/w.height-0.5,t*=na[2]/w.width,u*=na[2]/w.height);x='src=&quot;'+E.global.VMLRadialGradientURL+'&quot; size=&quot;'+t+&quot;,&quot;+u+'&quot; origin=&quot;0.5,0.5&quot; position=&quot;'+y+&quot;,&quot;+B+'&quot; color2=&quot;'+L+'&quot; ';q()};d.added?j():d.onAdd=j;j=J}else j=k}else if(g.test(a)&amp;&amp;b.tagName!==&quot;IMG&quot;)f=ya(a),h=[&quot;&lt;&quot;,c,' opacity=&quot;',f.get(&quot;a&quot;),'&quot;/&gt;'],Y(this.prepVML(h),null,null,b),j=f.get(&quot;rgb&quot;);else{j=b.getElementsByTagName(c);if(j.length)j[0].opacity=1,j[0].type=&quot;solid&quot;;j=a}return j},prepVML:function(a){var b=this.isIE8,a=a.join(&quot;&quot;);b?
(a=a.replace(&quot;/&gt;&quot;,' xmlns=&quot;urn:schemas-microsoft-com:vml&quot; /&gt;'),a=a.indexOf('style=&quot;')===-1?a.replace(&quot;/&gt;&quot;,' style=&quot;display:inline-block;behavior:url(#default#VML);&quot; /&gt;'):a.replace('style=&quot;','style=&quot;display:inline-block;behavior:url(#default#VML);')):a=a.replace(&quot;&lt;&quot;,&quot;&lt;hcv:&quot;);return a},text:ta.prototype.html,path:function(a){var b={coordsize:&quot;10 10&quot;};La(a)?b.d=a:ca(a)&amp;&amp;q(b,a);return this.createElement(&quot;shape&quot;).attr(b)},circle:function(a,b,c){var d=this.symbol(&quot;circle&quot;);if(ca(a))c=a.r,b=a.y,a=a.x;d.isCircle=
!0;d.r=c;return d.attr({x:a,y:b})},g:function(a){var b;a&amp;&amp;(b={className:&quot;highcharts-&quot;+a,&quot;class&quot;:&quot;highcharts-&quot;+a});return this.createElement(Ja).attr(b)},image:function(a,b,c,d,e){var f=this.createElement(&quot;img&quot;).attr({src:a});arguments.length&gt;1&amp;&amp;f.attr({x:b,y:c,width:d,height:e});return f},createElement:function(a){return a===&quot;rect&quot;?this.symbol(a):ta.prototype.createElement.call(this,a)},invertChild:function(a,b){var c=this,d=b.style,e=a.tagName===&quot;IMG&quot;&amp;&amp;a.style;G(a,{flip:&quot;x&quot;,left:z(d.width)-(e?z(e.top):
1),top:z(d.height)-(e?z(e.left):1),rotation:-90});p(a.childNodes,function(b){c.invertChild(b,a)})},symbols:{arc:function(a,b,c,d,e){var f=e.start,g=e.end,h=e.r||c||d,c=e.innerR,d=Z(f),i=ea(f),j=Z(g),k=ea(g);if(g-f===0)return[&quot;x&quot;];f=[&quot;wa&quot;,a-h,b-h,a+h,b+h,a+h*d,b+h*i,a+h*j,b+h*k];e.open&amp;&amp;!c&amp;&amp;f.push(&quot;e&quot;,&quot;M&quot;,a,b);f.push(&quot;at&quot;,a-c,b-c,a+c,b+c,a+c*j,b+c*k,a+c*d,b+c*i,&quot;x&quot;,&quot;e&quot;);f.isArc=!0;return f},circle:function(a,b,c,d,e){e&amp;&amp;(c=d=2*e.r);e&amp;&amp;e.isCircle&amp;&amp;(a-=c/2,b-=d/2);return[&quot;wa&quot;,a,b,a+c,b+d,a+c,b+d/2,a+
c,b+d/2,&quot;e&quot;]},rect:function(a,b,c,d,e){return ta.prototype.symbols[!r(e)||!e.r?&quot;square&quot;:&quot;callout&quot;].call(0,a,b,c,d,e)}}};R.VMLRenderer=X=function(){this.init.apply(this,arguments)};X.prototype=w(ta.prototype,ga);Za=X}ta.prototype.measureSpanWidth=function(a,b){var c=y.createElement(&quot;span&quot;),d;d=y.createTextNode(a);c.appendChild(d);G(c,b);this.box.appendChild(c);d=c.offsetWidth;Pa(c);return d};var Lb;if(fa)R.CanVGRenderer=X=function(){xa=&quot;http://www.w3.org/1999/xhtml&quot;},X.prototype.symbols={},Lb=function(){function a(){var a=
b.length,d;for(d=0;d&lt;a;d++)b[d]();b=[]}var b=[];return{push:function(c,d){b.length===0&amp;&amp;Qb(d,a);b.push(c)}}}(),Za=X;Sa.prototype={addLabel:function(){var a=this.axis,b=a.options,c=a.chart,d=a.horiz,e=a.categories,f=a.names,g=this.pos,h=b.labels,i=a.tickPositions,d=d&amp;&amp;e&amp;&amp;!h.step&amp;&amp;!h.staggerLines&amp;&amp;!h.rotation&amp;&amp;c.plotWidth/i.length||!d&amp;&amp;(c.margin[3]||c.chartWidth*0.33),j=g===i[0],k=g===i[i.length-1],l,f=e?m(e[g],f[g],g):g,e=this.label,o=i.info;a.isDatetimeAxis&amp;&amp;o&amp;&amp;(l=b.dateTimeLabelFormats[o.higherRanks[g]||
o.unitName]);this.isFirst=j;this.isLast=k;b=a.labelFormatter.call({axis:a,chart:c,isFirst:j,isLast:k,dateTimeLabelFormat:l,value:a.isLog?da(ia(f)):f});g=d&amp;&amp;{width:v(1,u(d-2*(h.padding||10)))+&quot;px&quot;};g=q(g,h.style);if(r(e))e&amp;&amp;e.attr({text:b}).css(g);else{l={align:a.labelAlign};if(ha(h.rotation))l.rotation=h.rotation;if(d&amp;&amp;h.ellipsis)l._clipHeight=a.len/i.length;this.label=r(b)&amp;&amp;h.enabled?c.renderer.text(b,0,0,h.useHTML).attr(l).css(g).add(a.labelGroup):null}},getLabelSize:function(){var a=this.label,
b=this.axis;return a?a.getBBox()[b.horiz?&quot;height&quot;:&quot;width&quot;]:0},getLabelSides:function(){var a=this.label.getBBox(),b=this.axis,c=b.horiz,d=b.options.labels,a=c?a.width:a.height,b=c?d.x-a*{left:0,center:0.5,right:1}[b.labelAlign]:0;return[b,c?a+b:a]},handleOverflow:function(a,b){var c=!0,d=this.axis,e=this.isFirst,f=this.isLast,g=d.horiz?b.x:b.y,h=d.reversed,i=d.tickPositions,j=this.getLabelSides(),k=j[0],j=j[1],l,o,n,s=this.label.line||0;l=d.labelEdge;o=d.justifyLabels&amp;&amp;(e||f);l[s]===t||g+k&gt;l[s]?l[s]=
g+j:o||(c=!1);if(o){l=(o=d.justifyToPlot)?d.pos:0;o=o?l+d.len:d.chart.chartWidth;do a+=e?1:-1,n=d.ticks[i[a]];while(i[a]&amp;&amp;(!n||n.label.line!==s));d=n&amp;&amp;n.label.xy&amp;&amp;n.label.xy.x+n.getLabelSides()[e?0:1];e&amp;&amp;!h||f&amp;&amp;h?g+k&lt;l&amp;&amp;(g=l-k,n&amp;&amp;g+j&gt;d&amp;&amp;(c=!1)):g+j&gt;o&amp;&amp;(g=o-j,n&amp;&amp;g+k&lt;d&amp;&amp;(c=!1));b.x=g}return c},getPosition:function(a,b,c,d){var e=this.axis,f=e.chart,g=d&amp;&amp;f.oldChartHeight||f.chartHeight;return{x:a?e.translate(b+c,null,null,d)+e.transB:e.left+e.offset+(e.opposite?(d&amp;&amp;f.oldChartWidth||f.chartWidth)-e.right-
e.left:0),y:a?g-e.bottom+e.offset-(e.opposite?e.height:0):g-e.translate(b+c,null,null,d)-e.transB}},getLabelPosition:function(a,b,c,d,e,f,g,h){var i=this.axis,j=i.transA,k=i.reversed,l=i.staggerLines,o=i.chart.renderer.fontMetrics(e.style.fontSize).b,n=e.rotation,a=a+e.x-(f&amp;&amp;d?f*j*(k?-1:1):0),b=b+e.y-(f&amp;&amp;!d?f*j*(k?1:-1):0);n&amp;&amp;i.side===2&amp;&amp;(b-=o-o*Z(n*Ca));!r(e.y)&amp;&amp;!n&amp;&amp;(b+=o-c.getBBox().height/2);if(l)c.line=g/(h||1)%l,b+=c.line*(i.labelOffset/l);return{x:a,y:b}},getMarkPath:function(a,b,c,d,e,f){return f.crispLine([&quot;M&quot;,
a,b,&quot;L&quot;,a+(e?0:-c),b+(e?c:0)],d)},render:function(a,b,c){var d=this.axis,e=d.options,f=d.chart.renderer,g=d.horiz,h=this.type,i=this.label,j=this.pos,k=e.labels,l=this.gridLine,o=h?h+&quot;Grid&quot;:&quot;grid&quot;,n=h?h+&quot;Tick&quot;:&quot;tick&quot;,s=e[o+&quot;LineWidth&quot;],p=e[o+&quot;LineColor&quot;],J=e[o+&quot;LineDashStyle&quot;],L=e[n+&quot;Length&quot;],o=e[n+&quot;Width&quot;]||0,x=e[n+&quot;Color&quot;],r=e[n+&quot;Position&quot;],n=this.mark,v=k.step,q=!0,u=d.tickmarkOffset,w=this.getPosition(g,j,u,b),y=w.x,w=w.y,B=g&amp;&amp;y===d.pos+d.len||!g&amp;&amp;w===d.pos?-1:1;this.isActive=!0;if(s){j=d.getPlotLinePath(j+
u,s*B,b,!0);if(l===t){l={stroke:p,&quot;stroke-width&quot;:s};if(J)l.dashstyle=J;if(!h)l.zIndex=1;if(b)l.opacity=0;this.gridLine=l=s?f.path(j).attr(l).add(d.gridGroup):null}if(!b&amp;&amp;l&amp;&amp;j)l[this.isNew?&quot;attr&quot;:&quot;animate&quot;]({d:j,opacity:c})}if(o&amp;&amp;L)r===&quot;inside&quot;&amp;&amp;(L=-L),d.opposite&amp;&amp;(L=-L),h=this.getMarkPath(y,w,L,o*B,g,f),n?n.animate({d:h,opacity:c}):this.mark=f.path(h).attr({stroke:x,&quot;stroke-width&quot;:o,opacity:c}).add(d.axisGroup);if(i&amp;&amp;!isNaN(y))i.xy=w=this.getLabelPosition(y,w,i,g,k,u,a,v),this.isFirst&amp;&amp;!this.isLast&amp;&amp;
!m(e.showFirstLabel,1)||this.isLast&amp;&amp;!this.isFirst&amp;&amp;!m(e.showLastLabel,1)?q=!1:!d.isRadial&amp;&amp;!k.step&amp;&amp;!k.rotation&amp;&amp;!b&amp;&amp;c!==0&amp;&amp;(q=this.handleOverflow(a,w)),v&amp;&amp;a%v&amp;&amp;(q=!1),q&amp;&amp;!isNaN(w.y)?(w.opacity=c,i[this.isNew?&quot;attr&quot;:&quot;animate&quot;](w),this.isNew=!1):i.attr(&quot;y&quot;,-9999)},destroy:function(){Oa(this,this.axis)}};R.PlotLineOrBand=function(a,b){this.axis=a;if(b)this.options=b,this.id=b.id};R.PlotLineOrBand.prototype={render:function(){var a=this,b=a.axis,c=b.horiz,d=(b.pointRange||0)/2,e=a.options,f=e.label,
g=a.label,h=e.width,i=e.to,j=e.from,k=r(j)&amp;&amp;r(i),l=e.value,o=e.dashStyle,n=a.svgElem,s=[],p,J=e.color,L=e.zIndex,x=e.events,q={},t=b.chart.renderer;b.isLog&amp;&amp;(j=za(j),i=za(i),l=za(l));if(h){if(s=b.getPlotLinePath(l,h),q={stroke:J,&quot;stroke-width&quot;:h},o)q.dashstyle=o}else if(k){j=v(j,b.min-d);i=C(i,b.max+d);s=b.getPlotBandPath(j,i,e);if(J)q.fill=J;if(e.borderWidth)q.stroke=e.borderColor,q[&quot;stroke-width&quot;]=e.borderWidth}else return;if(r(L))q.zIndex=L;if(n)if(s)n.animate({d:s},null,n.onGetPath);else{if(n.hide(),
n.onGetPath=function(){n.show()},g)a.label=g=g.destroy()}else if(s&amp;&amp;s.length&amp;&amp;(a.svgElem=n=t.path(s).attr(q).add(),x))for(p in d=function(b){n.on(b,function(c){x[b].apply(a,[c])})},x)d(p);if(f&amp;&amp;r(f.text)&amp;&amp;s&amp;&amp;s.length&amp;&amp;b.width&gt;0&amp;&amp;b.height&gt;0){f=w({align:c&amp;&amp;k&amp;&amp;&quot;center&quot;,x:c?!k&amp;&amp;4:10,verticalAlign:!c&amp;&amp;k&amp;&amp;&quot;middle&quot;,y:c?k?16:10:k?6:-4,rotation:c&amp;&amp;!k&amp;&amp;90},f);if(!g){q={align:f.textAlign||f.align,rotation:f.rotation};if(r(L))q.zIndex=L;a.label=g=t.text(f.text,0,0,f.useHTML).attr(q).css(f.style).add()}b=[s[1],
s[4],m(s[6],s[1])];s=[s[2],s[5],m(s[7],s[2])];c=Na(b);k=Na(s);g.align(f,!1,{x:c,y:k,width:Ba(b)-c,height:Ba(s)-k});g.show()}else g&amp;&amp;g.hide();return a},destroy:function(){ja(this.axis.plotLinesAndBands,this);delete this.axis;Oa(this)}};la.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:&quot;%H:%M:%S.%L&quot;,second:&quot;%H:%M:%S&quot;,minute:&quot;%H:%M&quot;,hour:&quot;%H:%M&quot;,day:&quot;%e. %b&quot;,week:&quot;%e. %b&quot;,month:&quot;%b '%y&quot;,year:&quot;%Y&quot;},endOnTick:!1,gridLineColor:&quot;#C0C0C0&quot;,labels:N,lineColor:&quot;#C0D0E0&quot;,lineWidth:1,minPadding:0.01,
maxPadding:0.01,minorGridLineColor:&quot;#E0E0E0&quot;,minorGridLineWidth:1,minorTickColor:&quot;#A0A0A0&quot;,minorTickLength:2,minorTickPosition:&quot;outside&quot;,startOfWeek:1,startOnTick:!1,tickColor:&quot;#C0D0E0&quot;,tickLength:10,tickmarkPlacement:&quot;between&quot;,tickPixelInterval:100,tickPosition:&quot;outside&quot;,tickWidth:1,title:{align:&quot;middle&quot;,style:{color:&quot;#707070&quot;}},type:&quot;linear&quot;},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:0.05,minPadding:0.05,startOnTick:!0,
tickWidth:0,title:{rotation:270,text:&quot;Values&quot;},stackLabels:{enabled:!1,formatter:function(){return Ga(this.total,-1)},style:N.style}},defaultLeftAxisOptions:{labels:{x:-15,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{x:0,y:20},title:{rotation:0}},defaultTopAxisOptions:{labels:{x:0,y:-15},title:{rotation:0}},init:function(a,b){var c=b.isX;this.horiz=a.inverted?!c:c;this.coll=(this.isXAxis=c)?&quot;xAxis&quot;:&quot;yAxis&quot;;this.opposite=
b.opposite;this.side=b.side||(this.horiz?this.opposite?0:2:this.opposite?1:3);this.setOptions(b);var d=this.options,e=d.type;this.labelFormatter=d.labels.formatter||this.defaultLabelFormatter;this.userOptions=b;this.minPixelPadding=0;this.chart=a;this.reversed=d.reversed;this.zoomEnabled=d.zoomEnabled!==!1;this.categories=d.categories||e===&quot;category&quot;;this.names=[];this.isLog=e===&quot;logarithmic&quot;;this.isDatetimeAxis=e===&quot;datetime&quot;;this.isLinked=r(d.linkedTo);this.tickmarkOffset=this.categories&amp;&amp;d.tickmarkPlacement===
&quot;between&quot;?0.5:0;this.ticks={};this.labelEdge=[];this.minorTicks={};this.plotLinesAndBands=[];this.alternateBands={};this.len=0;this.minRange=this.userMinRange=d.minRange||d.maxZoom;this.range=d.range;this.offset=d.offset||0;this.stacks={};this.oldStacks={};this.min=this.max=null;this.crosshair=m(d.crosshair,qa(a.options.tooltip.crosshairs)[c?0:1],!1);var f,d=this.options.events;Da(this,a.axes)===-1&amp;&amp;(c&amp;&amp;!this.isColorAxis?a.axes.splice(a.xAxis.length,0,this):a.axes.push(this),a[this.coll].push(this));
this.series=this.series||[];if(a.inverted&amp;&amp;c&amp;&amp;this.reversed===t)this.reversed=!0;this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine;for(f in d)K(this,f,d[f]);if(this.isLog)this.val2lin=za,this.lin2val=ia},setOptions:function(a){this.options=w(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],w(E[this.coll],a))},defaultLabelFormatter:function(){var a=
this.axis,b=this.value,c=a.categories,d=this.dateTimeLabelFormat,e=E.lang.numericSymbols,f=e&amp;&amp;e.length,g,h=a.options.labels.format,a=a.isLog?b:a.tickInterval;if(h)g=Ia(h,this);else if(c)g=b;else if(d)g=cb(d,b);else if(f&amp;&amp;a&gt;=1E3)for(;f--&amp;&amp;g===t;)c=Math.pow(1E3,f+1),a&gt;=c&amp;&amp;e[f]!==null&amp;&amp;(g=Ga(b/c,-1)+e[f]);g===t&amp;&amp;(g=M(b)&gt;=1E4?Ga(b,0):Ga(b,-1,t,&quot;&quot;));return g},getSeriesExtremes:function(){var a=this,b=a.chart;a.hasVisibleSeries=!1;a.dataMin=a.dataMax=null;a.buildStacks&amp;&amp;a.buildStacks();p(a.series,function(c){if(c.visible||
!b.options.chart.ignoreHiddenSeries){var d;d=c.options.threshold;var e;a.hasVisibleSeries=!0;a.isLog&amp;&amp;d&lt;=0&amp;&amp;(d=null);if(a.isXAxis){if(d=c.xData,d.length)a.dataMin=C(m(a.dataMin,d[0]),Na(d)),a.dataMax=v(m(a.dataMax,d[0]),Ba(d))}else{c.getExtremes();e=c.dataMax;c=c.dataMin;if(r(c)&amp;&amp;r(e))a.dataMin=C(m(a.dataMin,c),c),a.dataMax=v(m(a.dataMax,e),e);if(r(d))if(a.dataMin&gt;=d)a.dataMin=d,a.ignoreMinPadding=!0;else if(a.dataMax&lt;d)a.dataMax=d,a.ignoreMaxPadding=!0}}})},translate:function(a,b,c,d,e,f){var g=
1,h=0,i=d?this.oldTransA:this.transA,d=d?this.oldMin:this.min,j=this.minPixelPadding,e=(this.options.ordinal||this.isLog&amp;&amp;e)&amp;&amp;this.lin2val;if(!i)i=this.transA;if(c)g*=-1,h=this.len;this.reversed&amp;&amp;(g*=-1,h-=g*(this.sector||this.len));b?(a=a*g+h,a-=j,a=a/i+d,e&amp;&amp;(a=this.lin2val(a))):(e&amp;&amp;(a=this.val2lin(a)),f===&quot;between&quot;&amp;&amp;(f=0.5),a=g*(a-d)*i+h+g*j+(ha(f)?i*f*this.pointRange:0));return a},toPixels:function(a,b){return this.translate(a,!1,!this.horiz,null,!0)+(b?0:this.pos)},toValue:function(a,b){return this.translate(a-
(b?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(a,b,c,d,e){var f=this.chart,g=this.left,h=this.top,i,j,k=c&amp;&amp;f.oldChartHeight||f.chartHeight,l=c&amp;&amp;f.oldChartWidth||f.chartWidth,o;i=this.transB;e=m(e,this.translate(a,null,null,c));a=c=u(e+i);i=j=u(k-e-i);if(isNaN(e))o=!0;else if(this.horiz){if(i=h,j=k-this.bottom,a&lt;g||a&gt;g+this.width)o=!0}else if(a=g,c=l-this.right,i&lt;h||i&gt;h+this.height)o=!0;return o&amp;&amp;!d?null:f.renderer.crispLine([&quot;M&quot;,a,i,&quot;L&quot;,c,j],b||1)},getLinearTickPositions:function(a,
b,c){var d,e=da(T(b/a)*a),f=da(Ka(c/a)*a),g=[];if(b===c&amp;&amp;ha(b))return[b];for(b=e;b&lt;=f;){g.push(b);b=da(b+a);if(b===d)break;d=b}return g},getMinorTickPositions:function(){var a=this.options,b=this.tickPositions,c=this.minorTickInterval,d=[],e;if(this.isLog){e=b.length;for(a=1;a&lt;e;a++)d=d.concat(this.getLogTickPositions(c,b[a-1],b[a],!0))}else if(this.isDatetimeAxis&amp;&amp;a.minorTickInterval===&quot;auto&quot;)d=d.concat(this.getTimeTicks(this.normalizeTimeTickInterval(c),this.min,this.max,a.startOfWeek)),d[0]&lt;this.min&amp;&amp;
d.shift();else for(b=this.min+(b[0]-this.min)%c;b&lt;=this.max;b+=c)d.push(b);return d},adjustForMinRange:function(){var a=this.options,b=this.min,c=this.max,d,e=this.dataMax-this.dataMin&gt;=this.minRange,f,g,h,i,j;if(this.isXAxis&amp;&amp;this.minRange===t&amp;&amp;!this.isLog)r(a.min)||r(a.max)?this.minRange=null:(p(this.series,function(a){i=a.xData;for(g=j=a.xIncrement?1:i.length-1;g&gt;0;g--)if(h=i[g]-i[g-1],f===t||h&lt;f)f=h}),this.minRange=C(f*5,this.dataMax-this.dataMin));if(c-b&lt;this.minRange){var k=this.minRange;d=
(k-c+b)/2;d=[b-d,m(a.min,b-d)];if(e)d[2]=this.dataMin;b=Ba(d);c=[b+k,m(a.max,b+k)];if(e)c[2]=this.dataMax;c=Na(c);c-b&lt;k&amp;&amp;(d[0]=c-k,d[1]=m(a.min,c-k),b=Ba(d))}this.min=b;this.max=c},setAxisTranslation:function(a){var b=this,c=b.max-b.min,d=b.axisPointRange||0,e,f=0,g=0,h=b.linkedParent,i=!!b.categories,j=b.transA;if(b.isXAxis||i||d)h?(f=h.minPointOffset,g=h.pointRangePadding):p(b.series,function(a){var h=i?1:b.isXAxis?a.pointRange:b.axisPointRange||0,j=a.options.pointPlacement,n=a.closestPointRange;
h&gt;c&amp;&amp;(h=0);d=v(d,h);f=v(f,Fa(j)?0:h/2);g=v(g,j===&quot;on&quot;?0:h);!a.noSharedTooltip&amp;&amp;r(n)&amp;&amp;(e=r(e)?C(e,n):n)}),h=b.ordinalSlope&amp;&amp;e?b.ordinalSlope/e:1,b.minPointOffset=f*=h,b.pointRangePadding=g*=h,b.pointRange=C(d,c),b.closestPointRange=e;if(a)b.oldTransA=j;b.translationSlope=b.transA=j=b.len/(c+g||1);b.transB=b.horiz?b.left:b.bottom;b.minPixelPadding=j*f},setTickPositions:function(a){var b=this,c=b.chart,d=b.options,e=b.isLog,f=b.isDatetimeAxis,g=b.isXAxis,h=b.isLinked,i=b.options.tickPositioner,j=d.maxPadding,
k=d.minPadding,l=d.tickInterval,o=d.minTickInterval,n=d.tickPixelInterval,s,$=b.categories;h?(b.linkedParent=c[b.coll][d.linkedTo],c=b.linkedParent.getExtremes(),b.min=m(c.min,c.dataMin),b.max=m(c.max,c.dataMax),d.type!==b.linkedParent.options.type&amp;&amp;ra(11,1)):(b.min=m(b.userMin,d.min,b.dataMin),b.max=m(b.userMax,d.max,b.dataMax));if(e)!a&amp;&amp;C(b.min,m(b.dataMin,b.min))&lt;=0&amp;&amp;ra(10,1),b.min=da(za(b.min)),b.max=da(za(b.max));if(b.range&amp;&amp;r(b.max))b.userMin=b.min=v(b.min,b.max-b.range),b.userMax=b.max,b.range=
null;b.beforePadding&amp;&amp;b.beforePadding();b.adjustForMinRange();if(!$&amp;&amp;!b.axisPointRange&amp;&amp;!b.usePercentage&amp;&amp;!h&amp;&amp;r(b.min)&amp;&amp;r(b.max)&amp;&amp;(c=b.max-b.min)){if(!r(d.min)&amp;&amp;!r(b.userMin)&amp;&amp;k&amp;&amp;(b.dataMin&lt;0||!b.ignoreMinPadding))b.min-=c*k;if(!r(d.max)&amp;&amp;!r(b.userMax)&amp;&amp;j&amp;&amp;(b.dataMax&gt;0||!b.ignoreMaxPadding))b.max+=c*j}if(ha(d.floor))b.min=v(b.min,d.floor);if(ha(d.ceiling))b.max=C(b.max,d.ceiling);b.min===b.max||b.min===void 0||b.max===void 0?b.tickInterval=1:h&amp;&amp;!l&amp;&amp;n===b.linkedParent.options.tickPixelInterval?b.tickInterval=
b.linkedParent.tickInterval:(b.tickInterval=m(l,$?1:(b.max-b.min)*n/v(b.len,n)),!r(l)&amp;&amp;b.len&lt;n&amp;&amp;!this.isRadial&amp;&amp;!this.isLog&amp;&amp;!$&amp;&amp;d.startOnTick&amp;&amp;d.endOnTick&amp;&amp;(s=!0,b.tickInterval/=4));g&amp;&amp;!a&amp;&amp;p(b.series,function(a){a.processData(b.min!==b.oldMin||b.max!==b.oldMax)});b.setAxisTranslation(!0);b.beforeSetTickPositions&amp;&amp;b.beforeSetTickPositions();if(b.postProcessTickInterval)b.tickInterval=b.postProcessTickInterval(b.tickInterval);if(b.pointRange)b.tickInterval=v(b.pointRange,b.tickInterval);if(!l&amp;&amp;b.tickInterval&lt;
o)b.tickInterval=o;if(!f&amp;&amp;!e&amp;&amp;!l)b.tickInterval=nb(b.tickInterval,null,mb(b.tickInterval),d);b.minorTickInterval=d.minorTickInterval===&quot;auto&quot;&amp;&amp;b.tickInterval?b.tickInterval/5:d.minorTickInterval;b.tickPositions=a=d.tickPositions?[].concat(d.tickPositions):i&amp;&amp;i.apply(b,[b.min,b.max]);if(!a)!b.ordinalPositions&amp;&amp;(b.max-b.min)/b.tickInterval&gt;v(2*b.len,200)&amp;&amp;ra(19,!0),a=f?b.getTimeTicks(b.normalizeTimeTickInterval(b.tickInterval,d.units),b.min,b.max,d.startOfWeek,b.ordinalPositions,b.closestPointRange,
!0):e?b.getLogTickPositions(b.tickInterval,b.min,b.max):b.getLinearTickPositions(b.tickInterval,b.min,b.max),s&amp;&amp;a.splice(1,a.length-2),b.tickPositions=a;if(!h)e=a[0],f=a[a.length-1],h=b.minPointOffset||0,d.startOnTick?b.min=e:b.min-h&gt;e&amp;&amp;a.shift(),d.endOnTick?b.max=f:b.max+h&lt;f&amp;&amp;a.pop(),a.length===1&amp;&amp;(d=M(b.max)&gt;1E13?1:0.001,b.min-=d,b.max+=d)},setMaxTicks:function(){var a=this.chart,b=a.maxTicks||{},c=this.tickPositions,d=this._maxTicksKey=[this.coll,this.pos,this.len].join(&quot;-&quot;);if(!this.isLinked&amp;&amp;
!this.isDatetimeAxis&amp;&amp;c&amp;&amp;c.length&gt;(b[d]||0)&amp;&amp;this.options.alignTicks!==!1)b[d]=c.length;a.maxTicks=b},adjustTickAmount:function(){var a=this._maxTicksKey,b=this.tickPositions,c=this.chart.maxTicks;if(c&amp;&amp;c[a]&amp;&amp;!this.isDatetimeAxis&amp;&amp;!this.categories&amp;&amp;!this.isLinked&amp;&amp;this.options.alignTicks!==!1&amp;&amp;this.min!==t){var d=this.tickAmount,e=b.length;this.tickAmount=a=c[a];if(e&lt;a){for(;b.length&lt;a;)b.push(da(b[b.length-1]+this.tickInterval));this.transA*=(e-1)/(a-1);this.max=b[b.length-1]}if(r(d)&amp;&amp;a!==d)this.isDirty=
!0}},setScale:function(){var a=this.stacks,b,c,d,e;this.oldMin=this.min;this.oldMax=this.max;this.oldAxisLength=this.len;this.setAxisSize();e=this.len!==this.oldAxisLength;p(this.series,function(a){if(a.isDirtyData||a.isDirty||a.xAxis.isDirty)d=!0});if(e||d||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax){if(!this.isXAxis)for(b in a)for(c in a[b])a[b][c].total=null,a[b][c].cum=0;this.forceRedraw=!1;this.getSeriesExtremes();this.setTickPositions();this.oldUserMin=
this.userMin;this.oldUserMax=this.userMax;if(!this.isDirty)this.isDirty=e||this.min!==this.oldMin||this.max!==this.oldMax}else if(!this.isXAxis){if(this.oldStacks)a=this.stacks=this.oldStacks;for(b in a)for(c in a[b])a[b][c].cum=a[b][c].total}this.setMaxTicks()},setExtremes:function(a,b,c,d,e){var f=this,g=f.chart,c=m(c,!0),e=q(e,{min:a,max:b});D(f,&quot;setExtremes&quot;,e,function(){f.userMin=a;f.userMax=b;f.eventArgs=e;f.isDirtyExtremes=!0;c&amp;&amp;g.redraw(d)})},zoom:function(a,b){var c=this.dataMin,d=this.dataMax,
e=this.options;this.allowZoomOutside||(r(c)&amp;&amp;a&lt;=C(c,m(e.min,c))&amp;&amp;(a=t),r(d)&amp;&amp;b&gt;=v(d,m(e.max,d))&amp;&amp;(b=t));this.displayBtn=a!==t||b!==t;this.setExtremes(a,b,!1,t,{trigger:&quot;zoom&quot;});return!0},setAxisSize:function(){var a=this.chart,b=this.options,c=b.offsetLeft||0,d=this.horiz,e=m(b.width,a.plotWidth-c+(b.offsetRight||0)),f=m(b.height,a.plotHeight),g=m(b.top,a.plotTop),b=m(b.left,a.plotLeft+c),c=/%$/;c.test(f)&amp;&amp;(f=parseInt(f,10)/100*a.plotHeight);c.test(g)&amp;&amp;(g=parseInt(g,10)/100*a.plotHeight+a.plotTop);
this.left=b;this.top=g;this.width=e;this.height=f;this.bottom=a.chartHeight-f-g;this.right=a.chartWidth-e-b;this.len=v(d?e:f,0);this.pos=d?b:g},getExtremes:function(){var a=this.isLog;return{min:a?da(ia(this.min)):this.min,max:a?da(ia(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(a){var b=this.isLog,c=b?ia(this.min):this.min,b=b?ia(this.max):this.max;c&gt;a||a===null?a=c:b&lt;a&amp;&amp;(a=b);return this.translate(a,0,1,0,1)},autoLabelAlign:function(a){a=
(m(a,0)-this.side*90+720)%360;return a&gt;15&amp;&amp;a&lt;165?&quot;right&quot;:a&gt;195&amp;&amp;a&lt;345?&quot;left&quot;:&quot;center&quot;},getOffset:function(){var a=this,b=a.chart,c=b.renderer,d=a.options,e=a.tickPositions,f=a.ticks,g=a.horiz,h=a.side,i=b.inverted?[1,0,3,2][h]:h,j,k=0,l,o=0,n=d.title,s=d.labels,$=0,J=b.axisOffset,L=b.clipOffset,x=[-1,1,1,-1][h],q,u=1,w=m(s.maxStaggerLines,5),y,z,A,B,na=h===2?c.fontMetrics(s.style.fontSize).b:0;a.hasData=j=a.hasVisibleSeries||r(a.min)&amp;&amp;r(a.max)&amp;&amp;!!e;a.showAxis=b=j||m(d.showEmpty,!0);a.staggerLines=
a.horiz&amp;&amp;s.staggerLines;if(!a.axisGroup)a.gridGroup=c.g(&quot;grid&quot;).attr({zIndex:d.gridZIndex||1}).add(),a.axisGroup=c.g(&quot;axis&quot;).attr({zIndex:d.zIndex||2}).add(),a.labelGroup=c.g(&quot;axis-labels&quot;).attr({zIndex:s.zIndex||7}).addClass(&quot;highcharts-&quot;+a.coll.toLowerCase()+&quot;-labels&quot;).add();if(j||a.isLinked){a.labelAlign=m(s.align||a.autoLabelAlign(s.rotation));p(e,function(b){f[b]?f[b].addLabel():f[b]=new Sa(a,b)});if(a.horiz&amp;&amp;!a.staggerLines&amp;&amp;w&amp;&amp;!s.rotation){for(q=a.reversed?[].concat(e).reverse():e;u&lt;w;){j=
[];y=!1;for(s=0;s&lt;q.length;s++)z=q[s],A=(A=f[z].label&amp;&amp;f[z].label.getBBox())?A.width:0,B=s%u,A&amp;&amp;(z=a.translate(z),j[B]!==t&amp;&amp;z&lt;j[B]&amp;&amp;(y=!0),j[B]=z+A);if(y)u++;else break}if(u&gt;1)a.staggerLines=u}p(e,function(b){if(h===0||h===2||{1:&quot;left&quot;,3:&quot;right&quot;}[h]===a.labelAlign)$=v(f[b].getLabelSize(),$)});if(a.staggerLines)$*=a.staggerLines,a.labelOffset=$}else for(q in f)f[q].destroy(),delete f[q];if(n&amp;&amp;n.text&amp;&amp;n.enabled!==!1){if(!a.axisTitle)a.axisTitle=c.text(n.text,0,0,n.useHTML).attr({zIndex:7,rotation:n.rotation||
0,align:n.textAlign||{low:&quot;left&quot;,middle:&quot;center&quot;,high:&quot;right&quot;}[n.align]}).addClass(&quot;highcharts-&quot;+this.coll.toLowerCase()+&quot;-title&quot;).css(n.style).add(a.axisGroup),a.axisTitle.isNew=!0;if(b)k=a.axisTitle.getBBox()[g?&quot;height&quot;:&quot;width&quot;],o=m(n.margin,g?5:10),l=n.offset;a.axisTitle[b?&quot;show&quot;:&quot;hide&quot;]()}a.offset=x*m(d.offset,J[h]);a.axisTitleMargin=m(l,$+o+($&amp;&amp;x*d.labels[g?&quot;y&quot;:&quot;x&quot;]-na));J[h]=v(J[h],a.axisTitleMargin+k+x*a.offset);L[i]=v(L[i],T(d.lineWidth/2)*2)},getLinePath:function(a){var b=this.chart,c=this.opposite,
d=this.offset,e=this.horiz,f=this.left+(c?this.width:0)+d,d=b.chartHeight-this.bottom-(c?this.height:0)+d;c&amp;&amp;(a*=-1);return b.renderer.crispLine([&quot;M&quot;,e?this.left:f,e?d:this.top,&quot;L&quot;,e?b.chartWidth-this.right:f,e?d:b.chartHeight-this.bottom],a)},getTitlePosition:function(){var a=this.horiz,b=this.left,c=this.top,d=this.len,e=this.options.title,f=a?b:c,g=this.opposite,h=this.offset,i=z(e.style.fontSize||12),d={low:f+(a?0:d),middle:f+d/2,high:f+(a?d:0)}[e.align],b=(a?c+this.height:b)+(a?1:-1)*(g?-1:1)*
this.axisTitleMargin+(this.side===2?i:0);return{x:a?d:b+(g?this.width:0)+h+(e.x||0),y:a?b-(g?this.height:0)+h:d+(e.y||0)}},render:function(){var a=this,b=a.horiz,c=a.reversed,d=a.chart,e=d.renderer,f=a.options,g=a.isLog,h=a.isLinked,i=a.tickPositions,j,k=a.axisTitle,l=a.ticks,o=a.minorTicks,n=a.alternateBands,s=f.stackLabels,m=f.alternateGridColor,J=a.tickmarkOffset,L=f.lineWidth,x=d.hasRendered&amp;&amp;r(a.oldMin)&amp;&amp;!isNaN(a.oldMin),q=a.hasData,v=a.showAxis,u,w=f.labels.overflow,y=a.justifyLabels=b&amp;&amp;w!==
!1,z;a.labelEdge.length=0;a.justifyToPlot=w===&quot;justify&quot;;p([l,o,n],function(a){for(var b in a)a[b].isActive=!1});if(q||h)if(a.minorTickInterval&amp;&amp;!a.categories&amp;&amp;p(a.getMinorTickPositions(),function(b){o[b]||(o[b]=new Sa(a,b,&quot;minor&quot;));x&amp;&amp;o[b].isNew&amp;&amp;o[b].render(null,!0);o[b].render(null,!1,1)}),i.length&amp;&amp;(j=i.slice(),(b&amp;&amp;c||!b&amp;&amp;!c)&amp;&amp;j.reverse(),y&amp;&amp;(j=j.slice(1).concat([j[0]])),p(j,function(b,c){y&amp;&amp;(c=c===j.length-1?0:c+1);if(!h||b&gt;=a.min&amp;&amp;b&lt;=a.max)l[b]||(l[b]=new Sa(a,b)),x&amp;&amp;l[b].isNew&amp;&amp;l[b].render(c,
!0,0.1),l[b].render(c,!1,1)}),J&amp;&amp;a.min===0&amp;&amp;(l[-1]||(l[-1]=new Sa(a,-1,null,!0)),l[-1].render(-1))),m&amp;&amp;p(i,function(b,c){if(c%2===0&amp;&amp;b&lt;a.max)n[b]||(n[b]=new R.PlotLineOrBand(a)),u=b+J,z=i[c+1]!==t?i[c+1]+J:a.max,n[b].options={from:g?ia(u):u,to:g?ia(z):z,color:m},n[b].render(),n[b].isActive=!0}),!a._addedPlotLB)p((f.plotLines||[]).concat(f.plotBands||[]),function(b){a.addPlotBandOrLine(b)}),a._addedPlotLB=!0;p([l,o,n],function(a){var b,c,e=[],f=va?va.duration||500:0,g=function(){for(c=e.length;c--;)a[e[c]]&amp;&amp;
!a[e[c]].isActive&amp;&amp;(a[e[c]].destroy(),delete a[e[c]])};for(b in a)if(!a[b].isActive)a[b].render(b,!1,0),a[b].isActive=!1,e.push(b);a===n||!d.hasRendered||!f?g():f&amp;&amp;setTimeout(g,f)});if(L)b=a.getLinePath(L),a.axisLine?a.axisLine.animate({d:b}):a.axisLine=e.path(b).attr({stroke:f.lineColor,&quot;stroke-width&quot;:L,zIndex:7}).add(a.axisGroup),a.axisLine[v?&quot;show&quot;:&quot;hide&quot;]();if(k&amp;&amp;v)k[k.isNew?&quot;attr&quot;:&quot;animate&quot;](a.getTitlePosition()),k.isNew=!1;s&amp;&amp;s.enabled&amp;&amp;a.renderStackTotals();a.isDirty=!1},redraw:function(){var a=
this.chart.pointer;a&amp;&amp;a.reset(!0);this.render();p(this.plotLinesAndBands,function(a){a.render()});p(this.series,function(a){a.isDirty=!0})},destroy:function(a){var b=this,c=b.stacks,d,e=b.plotLinesAndBands;a||W(b);for(d in c)Oa(c[d]),c[d]=null;p([b.ticks,b.minorTicks,b.alternateBands],function(a){Oa(a)});for(a=e.length;a--;)e[a].destroy();p(&quot;stackTotalGroup,axisLine,axisTitle,axisGroup,cross,gridGroup,labelGroup&quot;.split(&quot;,&quot;),function(a){b[a]&amp;&amp;(b[a]=b[a].destroy())});this.cross&amp;&amp;this.cross.destroy()},
drawCrosshair:function(a,b){if(this.crosshair)if((r(b)||!m(this.crosshair.snap,!0))===!1)this.hideCrosshair();else{var c,d=this.crosshair,e=d.animation;m(d.snap,!0)?r(b)&amp;&amp;(c=this.chart.inverted!=this.horiz?b.plotX:this.len-b.plotY):c=this.horiz?a.chartX-this.pos:this.len-a.chartY+this.pos;c=this.isRadial?this.getPlotLinePath(this.isXAxis?b.x:m(b.stackY,b.y)):this.getPlotLinePath(null,null,null,null,c);if(c===null)this.hideCrosshair();else if(this.cross)this.cross.attr({visibility:&quot;visible&quot;})[e?&quot;animate&quot;:
&quot;attr&quot;]({d:c},e);else{e={&quot;stroke-width&quot;:d.width||1,stroke:d.color||&quot;#C0C0C0&quot;,zIndex:d.zIndex||2};if(d.dashStyle)e.dashstyle=d.dashStyle;this.cross=this.chart.renderer.path(c).attr(e).add()}}},hideCrosshair:function(){this.cross&amp;&amp;this.cross.hide()}};q(la.prototype,{getPlotBandPath:function(a,b){var c=this.getPlotLinePath(b),d=this.getPlotLinePath(a);d&amp;&amp;c?d.push(c[4],c[5],c[1],c[2]):d=null;return d},addPlotBand:function(a){this.addPlotBandOrLine(a,&quot;plotBands&quot;)},addPlotLine:function(a){this.addPlotBandOrLine(a,
&quot;plotLines&quot;)},addPlotBandOrLine:function(a,b){var c=(new R.PlotLineOrBand(this,a)).render(),d=this.userOptions;c&amp;&amp;(b&amp;&amp;(d[b]=d[b]||[],d[b].push(a)),this.plotLinesAndBands.push(c));return c},removePlotBandOrLine:function(a){for(var b=this.plotLinesAndBands,c=this.options,d=this.userOptions,e=b.length;e--;)b[e].id===a&amp;&amp;b[e].destroy();p([c.plotLines||[],d.plotLines||[],c.plotBands||[],d.plotBands||[]],function(b){for(e=b.length;e--;)b[e].id===a&amp;&amp;ja(b,b[e])})}});la.prototype.getTimeTicks=function(a,b,
c,d){var e=[],f={},g=E.global.useUTC,h,i=new Date(b-Ra),j=a.unitRange,k=a.count;if(r(b)){j&gt;=A.second&amp;&amp;(i.setMilliseconds(0),i.setSeconds(j&gt;=A.minute?0:k*T(i.getSeconds()/k)));if(j&gt;=A.minute)i[Db](j&gt;=A.hour?0:k*T(i[pb]()/k));if(j&gt;=A.hour)i[Eb](j&gt;=A.day?0:k*T(i[qb]()/k));if(j&gt;=A.day)i[sb](j&gt;=A.month?1:k*T(i[Xa]()/k));j&gt;=A.month&amp;&amp;(i[Fb](j&gt;=A.year?0:k*T(i[fb]()/k)),h=i[gb]());j&gt;=A.year&amp;&amp;(h-=h%k,i[Gb](h));if(j===A.week)i[sb](i[Xa]()-i[rb]()+m(d,1));b=1;Ra&amp;&amp;(i=new Date(i.getTime()+Ra));h=i[gb]();for(var d=
i.getTime(),l=i[fb](),o=i[Xa](),n=g?Ra:(864E5+i.getTimezoneOffset()*6E4)%864E5;d&lt;c;)e.push(d),j===A.year?d=eb(h+b*k,0):j===A.month?d=eb(h,l+b*k):!g&amp;&amp;(j===A.day||j===A.week)?d=eb(h,l,o+b*k*(j===A.day?1:7)):d+=j*k,b++;e.push(d);p(vb(e,function(a){return j&lt;=A.hour&amp;&amp;a%A.day===n}),function(a){f[a]=&quot;day&quot;})}e.info=q(a,{higherRanks:f,totalRange:j*k});return e};la.prototype.normalizeTimeTickInterval=function(a,b){var c=b||[[&quot;millisecond&quot;,[1,2,5,10,20,25,50,100,200,500]],[&quot;second&quot;,[1,2,5,10,15,30]],[&quot;minute&quot;,
[1,2,5,10,15,30]],[&quot;hour&quot;,[1,2,3,4,6,8,12]],[&quot;day&quot;,[1,2]],[&quot;week&quot;,[1,2]],[&quot;month&quot;,[1,2,3,4,6]],[&quot;year&quot;,null]],d=c[c.length-1],e=A[d[0]],f=d[1],g;for(g=0;g&lt;c.length;g++)if(d=c[g],e=A[d[0]],f=d[1],c[g+1]&amp;&amp;a&lt;=(e*f[f.length-1]+A[c[g+1][0]])/2)break;e===A.year&amp;&amp;a&lt;5*e&amp;&amp;(f=[1,2,5]);c=nb(a/e,f,d[0]===&quot;year&quot;?v(mb(a/e),1):1);return{unitRange:e,count:c,unitName:d[0]}};la.prototype.getLogTickPositions=function(a,b,c,d){var e=this.options,f=this.len,g=[];if(!d)this._minorAutoInterval=null;if(a&gt;=0.5)a=u(a),g=this.getLinearTickPositions(a,
b,c);else if(a&gt;=0.08)for(var f=T(b),h,i,j,k,l,e=a&gt;0.3?[1,2,4]:a&gt;0.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];f&lt;c+1&amp;&amp;!l;f++){i=e.length;for(h=0;h&lt;i&amp;&amp;!l;h++)j=za(ia(f)*e[h]),j&gt;b&amp;&amp;(!d||k&lt;=c)&amp;&amp;g.push(k),k&gt;c&amp;&amp;(l=!0),k=j}else if(b=ia(b),c=ia(c),a=e[d?&quot;minorTickInterval&quot;:&quot;tickInterval&quot;],a=m(a===&quot;auto&quot;?null:a,this._minorAutoInterval,(c-b)*(e.tickPixelInterval/(d?5:1))/((d?f/this.tickPositions.length:f)||1)),a=nb(a,null,mb(a)),g=Ua(this.getLinearTickPositions(a,b,c),za),!d)this._minorAutoInterval=a/5;if(!d)this.tickInterval=
a;return g};var Mb=R.Tooltip=function(){this.init.apply(this,arguments)};Mb.prototype={init:function(a,b){var c=b.borderWidth,d=b.style,e=z(d.padding);this.chart=a;this.options=b;this.crosshairs=[];this.now={x:0,y:0};this.isHidden=!0;this.label=a.renderer.label(&quot;&quot;,0,0,b.shape||&quot;callout&quot;,null,null,b.useHTML,null,&quot;tooltip&quot;).attr({padding:e,fill:b.backgroundColor,&quot;stroke-width&quot;:c,r:b.borderRadius,zIndex:8}).css(d).css({padding:0}).add().attr({y:-9999});fa||this.label.shadow(b.shadow);this.shared=b.shared},
destroy:function(){if(this.label)this.label=this.label.destroy();clearTimeout(this.hideTimer);clearTimeout(this.tooltipTimeout)},move:function(a,b,c,d){var e=this,f=e.now,g=e.options.animation!==!1&amp;&amp;!e.isHidden,h=e.followPointer||e.len&gt;1;q(f,{x:g?(2*f.x+a)/3:a,y:g?(f.y+b)/2:b,anchorX:h?t:g?(2*f.anchorX+c)/3:c,anchorY:h?t:g?(f.anchorY+d)/2:d});e.label.attr(f);if(g&amp;&amp;(M(a-f.x)&gt;1||M(b-f.y)&gt;1))clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){e&amp;&amp;e.move(a,b,c,d)},32)},hide:function(){var a=
this,b;clearTimeout(this.hideTimer);if(!this.isHidden)b=this.chart.hoverPoints,this.hideTimer=setTimeout(function(){a.label.fadeOut();a.isHidden=!0},m(this.options.hideDelay,500)),b&amp;&amp;p(b,function(a){a.setState()}),this.chart.hoverPoints=null},getAnchor:function(a,b){var c,d=this.chart,e=d.inverted,f=d.plotTop,g=0,h=0,i,a=qa(a);c=a[0].tooltipPos;this.followPointer&amp;&amp;b&amp;&amp;(b.chartX===t&amp;&amp;(b=d.pointer.normalize(b)),c=[b.chartX-d.plotLeft,b.chartY-f]);c||(p(a,function(a){i=a.series.yAxis;g+=a.plotX;h+=(a.plotLow?
(a.plotLow+a.plotHigh)/2:a.plotY)+(!e&amp;&amp;i?i.top-f:0)}),g/=a.length,h/=a.length,c=[e?d.plotWidth-h:g,this.shared&amp;&amp;!e&amp;&amp;a.length&gt;1&amp;&amp;b?b.chartY-f:e?d.plotHeight-g:h]);return Ua(c,u)},getPosition:function(a,b,c){var d=this.chart,e=this.distance,f={},g,h=[&quot;y&quot;,d.chartHeight,b,c.plotY+d.plotTop],i=[&quot;x&quot;,d.chartWidth,a,c.plotX+d.plotLeft],j=c.ttBelow||d.inverted&amp;&amp;!c.negative||!d.inverted&amp;&amp;c.negative,k=function(a,b,c,d){var g=c&lt;d-e,b=d+e+c&lt;b,c=d-e-c;d+=e;if(j&amp;&amp;b)f[a]=d;else if(!j&amp;&amp;g)f[a]=c;else if(g)f[a]=c;else if(b)f[a]=
d;else return!1},l=function(a,b,c,d){if(d&lt;e||d&gt;b-e)return!1;else f[a]=d&lt;c/2?1:d&gt;b-c/2?b-c-2:d-c/2},o=function(a){var b=h;h=i;i=b;g=a},n=function(){k.apply(0,h)!==!1?l.apply(0,i)===!1&amp;&amp;!g&amp;&amp;(o(!0),n()):g?f.x=f.y=0:(o(!0),n())};(d.inverted||this.len&gt;1)&amp;&amp;o();n();return f},defaultFormatter:function(a){var b=this.points||qa(this),c=b[0].series,d;d=[a.tooltipHeaderFormatter(b[0])];p(b,function(a){c=a.series;d.push(c.tooltipFormatter&amp;&amp;c.tooltipFormatter(a)||a.point.tooltipFormatter(c.tooltipOptions.pointFormat))});
d.push(a.options.footerFormat||&quot;&quot;);return d.join(&quot;&quot;)},refresh:function(a,b){var c=this.chart,d=this.label,e=this.options,f,g,h={},i,j=[];i=e.formatter||this.defaultFormatter;var h=c.hoverPoints,k,l=this.shared;clearTimeout(this.hideTimer);this.followPointer=qa(a)[0].series.tooltipOptions.followPointer;g=this.getAnchor(a,b);f=g[0];g=g[1];l&amp;&amp;(!a.series||!a.series.noSharedTooltip)?(c.hoverPoints=a,h&amp;&amp;p(h,function(a){a.setState()}),p(a,function(a){a.setState(&quot;hover&quot;);j.push(a.getLabelConfig())}),h={x:a[0].category,
y:a[0].y},h.points=j,this.len=j.length,a=a[0]):h=a.getLabelConfig();i=i.call(h,this);h=a.series;this.distance=m(h.tooltipOptions.distance,16);i===!1?this.hide():(this.isHidden&amp;&amp;(bb(d),d.attr(&quot;opacity&quot;,1).show()),d.attr({text:i}),k=e.borderColor||a.color||h.color||&quot;#606060&quot;,d.attr({stroke:k}),this.updatePosition({plotX:f,plotY:g,negative:a.negative,ttBelow:a.ttBelow}),this.isHidden=!1);D(c,&quot;tooltipRefresh&quot;,{text:i,x:f+c.plotLeft,y:g+c.plotTop,borderColor:k})},updatePosition:function(a){var b=this.chart,
c=this.label,c=(this.options.positioner||this.getPosition).call(this,c.width,c.height,a);this.move(u(c.x),u(c.y),a.plotX+b.plotLeft,a.plotY+b.plotTop)},tooltipHeaderFormatter:function(a){var b=a.series,c=b.tooltipOptions,d=c.dateTimeLabelFormats,e=c.xDateFormat,f=b.xAxis,g=f&amp;&amp;f.options.type===&quot;datetime&quot;&amp;&amp;ha(a.key),c=c.headerFormat,f=f&amp;&amp;f.closestPointRange,h;if(g&amp;&amp;!e){if(f)for(h in A){if(A[h]&gt;=f||A[h]&lt;=A.day&amp;&amp;a.key%A[h]&gt;0){e=d[h];break}}else e=d.day;e=e||d.year}g&amp;&amp;e&amp;&amp;(c=c.replace(&quot;{point.key}&quot;,&quot;{point.key:&quot;+
e+&quot;}&quot;));return Ia(c,{point:a,series:b})}};var oa;$a=y.documentElement.ontouchstart!==t;var Wa=R.Pointer=function(a,b){this.init(a,b)};Wa.prototype={init:function(a,b){var c=b.chart,d=c.events,e=fa?&quot;&quot;:c.zoomType,c=a.inverted,f;this.options=b;this.chart=a;this.zoomX=f=/x/.test(e);this.zoomY=e=/y/.test(e);this.zoomHor=f&amp;&amp;!c||e&amp;&amp;c;this.zoomVert=e&amp;&amp;!c||f&amp;&amp;c;this.hasZoom=f||e;this.runChartClick=d&amp;&amp;!!d.click;this.pinchDown=[];this.lastValidTouch={};if(R.Tooltip&amp;&amp;b.tooltip.enabled)a.tooltip=new Mb(a,b.tooltip),
this.followTouchMove=b.tooltip.followTouchMove;this.setDOMEvents()},normalize:function(a,b){var c,d,a=a||window.event,a=Sb(a);if(!a.target)a.target=a.srcElement;d=a.touches?a.touches.length?a.touches.item(0):a.changedTouches[0]:a;if(!b)this.chartPosition=b=Rb(this.chart.container);d.pageX===t?(c=v(a.x,a.clientX-b.left),d=a.y):(c=d.pageX-b.left,d=d.pageY-b.top);return q(a,{chartX:u(c),chartY:u(d)})},getCoordinates:function(a){var b={xAxis:[],yAxis:[]};p(this.chart.axes,function(c){b[c.isXAxis?&quot;xAxis&quot;:
&quot;yAxis&quot;].push({axis:c,value:c.toValue(a[c.horiz?&quot;chartX&quot;:&quot;chartY&quot;])})});return b},getIndex:function(a){var b=this.chart;return b.inverted?b.plotHeight+b.plotTop-a.chartY:a.chartX-b.plotLeft},runPointActions:function(a){var b=this.chart,c=b.series,d=b.tooltip,e,f,g=b.hoverPoint,h=b.hoverSeries,i,j,k=b.chartWidth,l=this.getIndex(a);if(d&amp;&amp;this.options.tooltip.shared&amp;&amp;(!h||!h.noSharedTooltip)){f=[];i=c.length;for(j=0;j&lt;i;j++)if(c[j].visible&amp;&amp;c[j].options.enableMouseTracking!==!1&amp;&amp;!c[j].noSharedTooltip&amp;&amp;
c[j].singularTooltips!==!0&amp;&amp;c[j].tooltipPoints.length&amp;&amp;(e=c[j].tooltipPoints[l])&amp;&amp;e.series)e._dist=M(l-e.clientX),k=C(k,e._dist),f.push(e);for(i=f.length;i--;)f[i]._dist&gt;k&amp;&amp;f.splice(i,1);if(f.length&amp;&amp;f[0].clientX!==this.hoverX)d.refresh(f,a),this.hoverX=f[0].clientX}c=h&amp;&amp;h.tooltipOptions.followPointer;if(h&amp;&amp;h.tracker&amp;&amp;!c){if((e=h.tooltipPoints[l])&amp;&amp;e!==g)e.onMouseOver(a)}else d&amp;&amp;c&amp;&amp;!d.isHidden&amp;&amp;(h=d.getAnchor([{}],a),d.updatePosition({plotX:h[0],plotY:h[1]}));if(d&amp;&amp;!this._onDocumentMouseMove)this._onDocumentMouseMove=
function(a){if(V[oa])V[oa].pointer.onDocumentMouseMove(a)},K(y,&quot;mousemove&quot;,this._onDocumentMouseMove);p(b.axes,function(b){b.drawCrosshair(a,m(e,g))})},reset:function(a){var b=this.chart,c=b.hoverSeries,d=b.hoverPoint,e=b.tooltip,f=e&amp;&amp;e.shared?b.hoverPoints:d;(a=a&amp;&amp;e&amp;&amp;f)&amp;&amp;qa(f)[0].plotX===t&amp;&amp;(a=!1);if(a)e.refresh(f),d&amp;&amp;d.setState(d.state,!0);else{if(d)d.onMouseOut();if(c)c.onMouseOut();e&amp;&amp;e.hide();if(this._onDocumentMouseMove)W(y,&quot;mousemove&quot;,this._onDocumentMouseMove),this._onDocumentMouseMove=null;
p(b.axes,function(a){a.hideCrosshair()});this.hoverX=null}},scaleGroups:function(a,b){var c=this.chart,d;p(c.series,function(e){d=a||e.getPlotBox();e.xAxis&amp;&amp;e.xAxis.zoomEnabled&amp;&amp;(e.group.attr(d),e.markerGroup&amp;&amp;(e.markerGroup.attr(d),e.markerGroup.clip(b?c.clipRect:null)),e.dataLabelsGroup&amp;&amp;e.dataLabelsGroup.attr(d))});c.clipRect.attr(b||c.clipBox)},dragStart:function(a){var b=this.chart;b.mouseIsDown=a.type;b.cancelClick=!1;b.mouseDownX=this.mouseDownX=a.chartX;b.mouseDownY=this.mouseDownY=a.chartY},
drag:function(a){var b=this.chart,c=b.options.chart,d=a.chartX,e=a.chartY,f=this.zoomHor,g=this.zoomVert,h=b.plotLeft,i=b.plotTop,j=b.plotWidth,k=b.plotHeight,l,o=this.mouseDownX,n=this.mouseDownY;d&lt;h?d=h:d&gt;h+j&amp;&amp;(d=h+j);e&lt;i?e=i:e&gt;i+k&amp;&amp;(e=i+k);this.hasDragged=Math.sqrt(Math.pow(o-d,2)+Math.pow(n-e,2));if(this.hasDragged&gt;10){l=b.isInsidePlot(o-h,n-i);if(b.hasCartesianSeries&amp;&amp;(this.zoomX||this.zoomY)&amp;&amp;l&amp;&amp;!this.selectionMarker)this.selectionMarker=b.renderer.rect(h,i,f?1:j,g?1:k,0).attr({fill:c.selectionMarkerFill||
&quot;rgba(69,114,167,0.25)&quot;,zIndex:7}).add();this.selectionMarker&amp;&amp;f&amp;&amp;(d-=o,this.selectionMarker.attr({width:M(d),x:(d&gt;0?0:d)+o}));this.selectionMarker&amp;&amp;g&amp;&amp;(d=e-n,this.selectionMarker.attr({height:M(d),y:(d&gt;0?0:d)+n}));l&amp;&amp;!this.selectionMarker&amp;&amp;c.panning&amp;&amp;b.pan(a,c.panning)}},drop:function(a){var b=this.chart,c=this.hasPinched;if(this.selectionMarker){var d={xAxis:[],yAxis:[],originalEvent:a.originalEvent||a},a=this.selectionMarker,e=a.attr?a.attr(&quot;x&quot;):a.x,f=a.attr?a.attr(&quot;y&quot;):a.y,g=a.attr?a.attr(&quot;width&quot;):
a.width,h=a.attr?a.attr(&quot;height&quot;):a.height,i;if(this.hasDragged||c)p(b.axes,function(a){if(a.zoomEnabled){var b=a.horiz,c=a.toValue(b?e:f),b=a.toValue(b?e+g:f+h);!isNaN(c)&amp;&amp;!isNaN(b)&amp;&amp;(d[a.coll].push({axis:a,min:C(c,b),max:v(c,b)}),i=!0)}}),i&amp;&amp;D(b,&quot;selection&quot;,d,function(a){b.zoom(q(a,c?{animation:!1}:null))});this.selectionMarker=this.selectionMarker.destroy();c&amp;&amp;this.scaleGroups()}if(b)G(b.container,{cursor:b._cursor}),b.cancelClick=this.hasDragged&gt;10,b.mouseIsDown=this.hasDragged=this.hasPinched=
!1,this.pinchDown=[]},onContainerMouseDown:function(a){a=this.normalize(a);a.preventDefault&amp;&amp;a.preventDefault();this.dragStart(a)},onDocumentMouseUp:function(a){V[oa]&amp;&amp;V[oa].pointer.drop(a)},onDocumentMouseMove:function(a){var b=this.chart,c=this.chartPosition,d=b.hoverSeries,a=this.normalize(a,c);c&amp;&amp;d&amp;&amp;!this.inClass(a.target,&quot;highcharts-tracker&quot;)&amp;&amp;!b.isInsidePlot(a.chartX-b.plotLeft,a.chartY-b.plotTop)&amp;&amp;this.reset()},onContainerMouseLeave:function(){var a=V[oa];if(a)a.pointer.reset(),a.pointer.chartPosition=
null},onContainerMouseMove:function(a){var b=this.chart;oa=b.index;a=this.normalize(a);b.mouseIsDown===&quot;mousedown&quot;&amp;&amp;this.drag(a);(this.inClass(a.target,&quot;highcharts-tracker&quot;)||b.isInsidePlot(a.chartX-b.plotLeft,a.chartY-b.plotTop))&amp;&amp;!b.openMenu&amp;&amp;this.runPointActions(a)},inClass:function(a,b){for(var c;a;){if(c=H(a,&quot;class&quot;))if(c.indexOf(b)!==-1)return!0;else if(c.indexOf(&quot;highcharts-container&quot;)!==-1)return!1;a=a.parentNode}},onTrackerMouseOut:function(a){var b=this.chart.hoverSeries,c=(a=a.relatedTarget||
a.toElement)&amp;&amp;a.point&amp;&amp;a.point.series;if(b&amp;&amp;!b.options.stickyTracking&amp;&amp;!this.inClass(a,&quot;highcharts-tooltip&quot;)&amp;&amp;c!==b)b.onMouseOut()},onContainerClick:function(a){var b=this.chart,c=b.hoverPoint,d=b.plotLeft,e=b.plotTop,a=this.normalize(a);a.cancelBubble=!0;b.cancelClick||(c&amp;&amp;this.inClass(a.target,&quot;highcharts-tracker&quot;)?(D(c.series,&quot;click&quot;,q(a,{point:c})),b.hoverPoint&amp;&amp;c.firePointEvent(&quot;click&quot;,a)):(q(a,this.getCoordinates(a)),b.isInsidePlot(a.chartX-d,a.chartY-e)&amp;&amp;D(b,&quot;click&quot;,a)))},setDOMEvents:function(){var a=
this,b=a.chart.container;b.onmousedown=function(b){a.onContainerMouseDown(b)};b.onmousemove=function(b){a.onContainerMouseMove(b)};b.onclick=function(b){a.onContainerClick(b)};K(b,&quot;mouseleave&quot;,a.onContainerMouseLeave);ab===1&amp;&amp;K(y,&quot;mouseup&quot;,a.onDocumentMouseUp);if($a)b.ontouchstart=function(b){a.onContainerTouchStart(b)},b.ontouchmove=function(b){a.onContainerTouchMove(b)},ab===1&amp;&amp;K(y,&quot;touchend&quot;,a.onDocumentTouchEnd)},destroy:function(){var a;W(this.chart.container,&quot;mouseleave&quot;,this.onContainerMouseLeave);
ab||(W(y,&quot;mouseup&quot;,this.onDocumentMouseUp),W(y,&quot;touchend&quot;,this.onDocumentTouchEnd));clearInterval(this.tooltipTimeout);for(a in this)this[a]=null}};q(R.Pointer.prototype,{pinchTranslate:function(a,b,c,d,e,f){(this.zoomHor||this.pinchHor)&amp;&amp;this.pinchTranslateDirection(!0,a,b,c,d,e,f);(this.zoomVert||this.pinchVert)&amp;&amp;this.pinchTranslateDirection(!1,a,b,c,d,e,f)},pinchTranslateDirection:function(a,b,c,d,e,f,g,h){var i=this.chart,j=a?&quot;x&quot;:&quot;y&quot;,k=a?&quot;X&quot;:&quot;Y&quot;,l=&quot;chart&quot;+k,o=a?&quot;width&quot;:&quot;height&quot;,n=i[&quot;plot&quot;+(a?
&quot;Left&quot;:&quot;Top&quot;)],s,m,p=h||1,q=i.inverted,x=i.bounds[a?&quot;h&quot;:&quot;v&quot;],r=b.length===1,v=b[0][l],u=c[0][l],t=!r&amp;&amp;b[1][l],w=!r&amp;&amp;c[1][l],y,c=function(){!r&amp;&amp;M(v-t)&gt;20&amp;&amp;(p=h||M(u-w)/M(v-t));m=(n-u)/p+v;s=i[&quot;plot&quot;+(a?&quot;Width&quot;:&quot;Height&quot;)]/p};c();b=m;b&lt;x.min?(b=x.min,y=!0):b+s&gt;x.max&amp;&amp;(b=x.max-s,y=!0);y?(u-=0.8*(u-g[j][0]),r||(w-=0.8*(w-g[j][1])),c()):g[j]=[u,w];q||(f[j]=m-n,f[o]=s);f=q?1/p:p;e[o]=s;e[j]=b;d[q?a?&quot;scaleY&quot;:&quot;scaleX&quot;:&quot;scale&quot;+k]=p;d[&quot;translate&quot;+k]=f*n+(u-f*v)},pinch:function(a){var b=this,c=b.chart,d=b.pinchDown,
e=b.followTouchMove,f=a.touches,g=f.length,h=b.lastValidTouch,i=b.hasZoom,j=b.selectionMarker,k={},l=g===1&amp;&amp;(b.inClass(a.target,&quot;highcharts-tracker&quot;)&amp;&amp;c.runTrackerClick||c.runChartClick),o={};(i||e)&amp;&amp;!l&amp;&amp;a.preventDefault();Ua(f,function(a){return b.normalize(a)});if(a.type===&quot;touchstart&quot;)p(f,function(a,b){d[b]={chartX:a.chartX,chartY:a.chartY}}),h.x=[d[0].chartX,d[1]&amp;&amp;d[1].chartX],h.y=[d[0].chartY,d[1]&amp;&amp;d[1].chartY],p(c.axes,function(a){if(a.zoomEnabled){var b=c.bounds[a.horiz?&quot;h&quot;:&quot;v&quot;],d=a.minPixelPadding,
e=a.toPixels(a.dataMin),f=a.toPixels(a.dataMax),g=C(e,f),e=v(e,f);b.min=C(a.pos,g-d);b.max=v(a.pos+a.len,e+d)}});else if(d.length){if(!j)b.selectionMarker=j=q({destroy:sa},c.plotBox);b.pinchTranslate(d,f,k,j,o,h);b.hasPinched=i;b.scaleGroups(k,o);!i&amp;&amp;e&amp;&amp;g===1&amp;&amp;this.runPointActions(b.normalize(a))}},onContainerTouchStart:function(a){var b=this.chart;oa=b.index;a.touches.length===1?(a=this.normalize(a),b.isInsidePlot(a.chartX-b.plotLeft,a.chartY-b.plotTop)?(this.runPointActions(a),this.pinch(a)):this.reset()):
a.touches.length===2&amp;&amp;this.pinch(a)},onContainerTouchMove:function(a){(a.touches.length===1||a.touches.length===2)&amp;&amp;this.pinch(a)},onDocumentTouchEnd:function(a){V[oa]&amp;&amp;V[oa].pointer.drop(a)}});if(I.PointerEvent||I.MSPointerEvent){var ua={},zb=!!I.PointerEvent,Wb=function(){var a,b=[];b.item=function(a){return this[a]};for(a in ua)ua.hasOwnProperty(a)&amp;&amp;b.push({pageX:ua[a].pageX,pageY:ua[a].pageY,target:ua[a].target});return b},Ab=function(a,b,c,d){a=a.originalEvent||a;if((a.pointerType===&quot;touch&quot;||
a.pointerType===a.MSPOINTER_TYPE_TOUCH)&amp;&amp;V[oa])d(a),d=V[oa].pointer,d[b]({type:c,target:a.currentTarget,preventDefault:sa,touches:Wb()})};q(Wa.prototype,{onContainerPointerDown:function(a){Ab(a,&quot;onContainerTouchStart&quot;,&quot;touchstart&quot;,function(a){ua[a.pointerId]={pageX:a.pageX,pageY:a.pageY,target:a.currentTarget}})},onContainerPointerMove:function(a){Ab(a,&quot;onContainerTouchMove&quot;,&quot;touchmove&quot;,function(a){ua[a.pointerId]={pageX:a.pageX,pageY:a.pageY};if(!ua[a.pointerId].target)ua[a.pointerId].target=a.currentTarget})},
onDocumentPointerUp:function(a){Ab(a,&quot;onContainerTouchEnd&quot;,&quot;touchend&quot;,function(a){delete ua[a.pointerId]})},batchMSEvents:function(a){a(this.chart.container,zb?&quot;pointerdown&quot;:&quot;MSPointerDown&quot;,this.onContainerPointerDown);a(this.chart.container,zb?&quot;pointermove&quot;:&quot;MSPointerMove&quot;,this.onContainerPointerMove);a(y,zb?&quot;pointerup&quot;:&quot;MSPointerUp&quot;,this.onDocumentPointerUp)}});Ma(Wa.prototype,&quot;init&quot;,function(a,b,c){a.call(this,b,c);(this.hasZoom||this.followTouchMove)&amp;&amp;G(b.container,{&quot;-ms-touch-action&quot;:Q,&quot;touch-action&quot;:Q})});
Ma(Wa.prototype,&quot;setDOMEvents&quot;,function(a){a.apply(this);(this.hasZoom||this.followTouchMove)&amp;&amp;this.batchMSEvents(K)});Ma(Wa.prototype,&quot;destroy&quot;,function(a){this.batchMSEvents(W);a.call(this)})}var lb=R.Legend=function(a,b){this.init(a,b)};lb.prototype={init:function(a,b){var c=this,d=b.itemStyle,e=m(b.padding,8),f=b.itemMarginTop||0;this.options=b;if(b.enabled)c.baseline=z(d.fontSize)+3+f,c.itemStyle=d,c.itemHiddenStyle=w(d,b.itemHiddenStyle),c.itemMarginTop=f,c.padding=e,c.initialItemX=e,c.initialItemY=
e-5,c.maxItemWidth=0,c.chart=a,c.itemHeight=0,c.lastLineHeight=0,c.symbolWidth=m(b.symbolWidth,16),c.pages=[],c.render(),K(c.chart,&quot;endResize&quot;,function(){c.positionCheckboxes()})},colorizeItem:function(a,b){var c=this.options,d=a.legendItem,e=a.legendLine,f=a.legendSymbol,g=this.itemHiddenStyle.color,c=b?c.itemStyle.color:g,h=b?a.legendColor||a.color||&quot;#CCC&quot;:g,g=a.options&amp;&amp;a.options.marker,i={fill:h},j;d&amp;&amp;d.css({fill:c,color:c});e&amp;&amp;e.attr({stroke:h});if(f){if(g&amp;&amp;f.isMarker)for(j in i.stroke=h,g=a.convertAttribs(g),
g)d=g[j],d!==t&amp;&amp;(i[j]=d);f.attr(i)}},positionItem:function(a){var b=this.options,c=b.symbolPadding,b=!b.rtl,d=a._legendItemPos,e=d[0],d=d[1],f=a.checkbox;a.legendGroup&amp;&amp;a.legendGroup.translate(b?e:this.legendWidth-e-2*c-4,d);if(f)f.x=e,f.y=d},destroyItem:function(a){var b=a.checkbox;p([&quot;legendItem&quot;,&quot;legendLine&quot;,&quot;legendSymbol&quot;,&quot;legendGroup&quot;],function(b){a[b]&amp;&amp;(a[b]=a[b].destroy())});b&amp;&amp;Pa(a.checkbox)},destroy:function(){var a=this.group,b=this.box;if(b)this.box=b.destroy();if(a)this.group=a.destroy()},
positionCheckboxes:function(a){var b=this.group.alignAttr,c,d=this.clipHeight||this.legendHeight;if(b)c=b.translateY,p(this.allItems,function(e){var f=e.checkbox,g;f&amp;&amp;(g=c+f.y+(a||0)+3,G(f,{left:b.translateX+e.checkboxOffset+f.x-20+&quot;px&quot;,top:g+&quot;px&quot;,display:g&gt;c-6&amp;&amp;g&lt;c+d-6?&quot;&quot;:Q}))})},renderTitle:function(){var a=this.padding,b=this.options.title,c=0;if(b.text){if(!this.title)this.title=this.chart.renderer.label(b.text,a-3,a-4,null,null,null,null,null,&quot;legend-title&quot;).attr({zIndex:1}).css(b.style).add(this.group);
a=this.title.getBBox();c=a.height;this.offsetWidth=a.width;this.contentGroup.attr({translateY:c})}this.titleHeight=c},renderItem:function(a){var b=this.chart,c=b.renderer,d=this.options,e=d.layout===&quot;horizontal&quot;,f=this.symbolWidth,g=d.symbolPadding,h=this.itemStyle,i=this.itemHiddenStyle,j=this.padding,k=e?m(d.itemDistance,20):0,l=!d.rtl,o=d.width,n=d.itemMarginBottom||0,s=this.itemMarginTop,p=this.initialItemX,q=a.legendItem,r=a.series&amp;&amp;a.series.drawLegendSymbol?a.series:a,x=r.options,x=this.createCheckboxForItem&amp;&amp;
x&amp;&amp;x.showCheckbox,t=d.useHTML;if(!q)a.legendGroup=c.g(&quot;legend-item&quot;).attr({zIndex:1}).add(this.scrollGroup),r.drawLegendSymbol(this,a),a.legendItem=q=c.text(d.labelFormat?Ia(d.labelFormat,a):d.labelFormatter.call(a),l?f+g:-g,this.baseline,t).css(w(a.visible?h:i)).attr({align:l?&quot;left&quot;:&quot;right&quot;,zIndex:2}).add(a.legendGroup),this.setItemEvents&amp;&amp;this.setItemEvents(a,q,t,h,i),this.colorizeItem(a,a.visible),x&amp;&amp;this.createCheckboxForItem(a);c=q.getBBox();f=a.checkboxOffset=d.itemWidth||a.legendItemWidth||
f+g+c.width+k+(x?20:0);this.itemHeight=g=u(a.legendItemHeight||c.height);if(e&amp;&amp;this.itemX-p+f&gt;(o||b.chartWidth-2*j-p-d.x))this.itemX=p,this.itemY+=s+this.lastLineHeight+n,this.lastLineHeight=0;this.maxItemWidth=v(this.maxItemWidth,f);this.lastItemY=s+this.itemY+n;this.lastLineHeight=v(g,this.lastLineHeight);a._legendItemPos=[this.itemX,this.itemY];e?this.itemX+=f:(this.itemY+=s+g+n,this.lastLineHeight=g);this.offsetWidth=o||v((e?this.itemX-p-k:f)+j,this.offsetWidth)},getAllItems:function(){var a=
[];p(this.chart.series,function(b){var c=b.options;if(m(c.showInLegend,!r(c.linkedTo)?t:!1,!0))a=a.concat(b.legendItems||(c.legendType===&quot;point&quot;?b.data:b))});return a},render:function(){var a=this,b=a.chart,c=b.renderer,d=a.group,e,f,g,h,i=a.box,j=a.options,k=a.padding,l=j.borderWidth,o=j.backgroundColor;a.itemX=a.initialItemX;a.itemY=a.initialItemY;a.offsetWidth=0;a.lastItemY=0;if(!d)a.group=d=c.g(&quot;legend&quot;).attr({zIndex:7}).add(),a.contentGroup=c.g().attr({zIndex:1}).add(d),a.scrollGroup=c.g().add(a.contentGroup);
a.renderTitle();e=a.getAllItems();ob(e,function(a,b){return(a.options&amp;&amp;a.options.legendIndex||0)-(b.options&amp;&amp;b.options.legendIndex||0)});j.reversed&amp;&amp;e.reverse();a.allItems=e;a.display=f=!!e.length;p(e,function(b){a.renderItem(b)});g=j.width||a.offsetWidth;h=a.lastItemY+a.lastLineHeight+a.titleHeight;h=a.handleOverflow(h);if(l||o){g+=k;h+=k;if(i){if(g&gt;0&amp;&amp;h&gt;0)i[i.isNew?&quot;attr&quot;:&quot;animate&quot;](i.crisp({width:g,height:h})),i.isNew=!1}else a.box=i=c.rect(0,0,g,h,j.borderRadius,l||0).attr({stroke:j.borderColor,
&quot;stroke-width&quot;:l||0,fill:o||Q}).add(d).shadow(j.shadow),i.isNew=!0;i[f?&quot;show&quot;:&quot;hide&quot;]()}a.legendWidth=g;a.legendHeight=h;p(e,function(b){a.positionItem(b)});f&amp;&amp;d.align(q({width:g,height:h},j),!0,&quot;spacingBox&quot;);b.isResizing||this.positionCheckboxes()},handleOverflow:function(a){var b=this,c=this.chart,d=c.renderer,e=this.options,f=e.y,f=c.spacingBox.height+(e.verticalAlign===&quot;top&quot;?-f:f)-this.padding,g=e.maxHeight,h,i=this.clipRect,j=e.navigation,k=m(j.animation,!0),l=j.arrowSize||12,o=this.nav,n=this.pages,
s,q=this.allItems;e.layout===&quot;horizontal&quot;&amp;&amp;(f/=2);g&amp;&amp;(f=C(f,g));n.length=0;if(a&gt;f&amp;&amp;!e.useHTML){this.clipHeight=h=f-20-this.titleHeight-this.padding;this.currentPage=m(this.currentPage,1);this.fullHeight=a;p(q,function(a,b){var c=a._legendItemPos[1],d=u(a.legendItem.getBBox().height),e=n.length;if(!e||c-n[e-1]&gt;h&amp;&amp;(s||c)!==n[e-1])n.push(s||c),e++;b===q.length-1&amp;&amp;c+d-n[e-1]&gt;h&amp;&amp;n.push(c);c!==s&amp;&amp;(s=c)});if(!i)i=b.clipRect=d.clipRect(0,this.padding,9999,0),b.contentGroup.clip(i);i.attr({height:h});if(!o)this.nav=
o=d.g().attr({zIndex:1}).add(this.group),this.up=d.symbol(&quot;triangle&quot;,0,0,l,l).on(&quot;click&quot;,function(){b.scroll(-1,k)}).add(o),this.pager=d.text(&quot;&quot;,15,10).css(j.style).add(o),this.down=d.symbol(&quot;triangle-down&quot;,0,0,l,l).on(&quot;click&quot;,function(){b.scroll(1,k)}).add(o);b.scroll(0);a=f}else if(o)i.attr({height:c.chartHeight}),o.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0;return a},scroll:function(a,b){var c=this.pages,d=c.length,e=this.currentPage+a,f=this.clipHeight,g=this.options.navigation,
h=g.activeColor,g=g.inactiveColor,i=this.pager,j=this.padding;e&gt;d&amp;&amp;(e=d);if(e&gt;0)b!==t&amp;&amp;Qa(b,this.chart),this.nav.attr({translateX:j,translateY:f+this.padding+7+this.titleHeight,visibility:&quot;visible&quot;}),this.up.attr({fill:e===1?g:h}).css({cursor:e===1?&quot;default&quot;:&quot;pointer&quot;}),i.attr({text:e+&quot;/&quot;+d}),this.down.attr({x:18+this.pager.getBBox().width,fill:e===d?g:h}).css({cursor:e===d?&quot;default&quot;:&quot;pointer&quot;}),c=-c[e-1]+this.initialItemY,this.scrollGroup.animate({translateY:c}),this.currentPage=e,this.positionCheckboxes(c)}};
N=R.LegendSymbolMixin={drawRectangle:function(a,b){var c=a.options.symbolHeight||12;b.legendSymbol=this.chart.renderer.rect(0,a.baseline-5-c/2,a.symbolWidth,c,a.options.symbolRadius||0).attr({zIndex:3}).add(b.legendGroup)},drawLineMarker:function(a){var b=this.options,c=b.marker,d;d=a.symbolWidth;var e=this.chart.renderer,f=this.legendGroup,a=a.baseline-u(e.fontMetrics(a.options.itemStyle.fontSize).b*0.3),g;if(b.lineWidth){g={&quot;stroke-width&quot;:b.lineWidth};if(b.dashStyle)g.dashstyle=b.dashStyle;this.legendLine=
e.path([&quot;M&quot;,0,a,&quot;L&quot;,d,a]).attr(g).add(f)}if(c&amp;&amp;c.enabled!==!1)b=c.radius,this.legendSymbol=d=e.symbol(this.symbol,d/2-b,a-b,2*b,2*b).add(f),d.isMarker=!0}};(/Trident\/7\.0/.test(wa)||Ta)&amp;&amp;Ma(lb.prototype,&quot;positionItem&quot;,function(a,b){var c=this,d=function(){b._legendItemPos&amp;&amp;a.call(c,b)};d();setTimeout(d)});Ya.prototype={init:function(a,b){var c,d=a.series;a.series=null;c=w(E,a);c.series=a.series=d;this.userOptions=a;d=c.chart;this.margin=this.splashArray(&quot;margin&quot;,d);this.spacing=this.splashArray(&quot;spacing&quot;,
d);var e=d.events;this.bounds={h:{},v:{}};this.callback=b;this.isResizing=0;this.options=c;this.axes=[];this.series=[];this.hasCartesianSeries=d.showAxes;var f=this,g;f.index=V.length;V.push(f);ab++;d.reflow!==!1&amp;&amp;K(f,&quot;load&quot;,function(){f.initReflow()});if(e)for(g in e)K(f,g,e[g]);f.xAxis=[];f.yAxis=[];f.animation=fa?!1:m(d.animation,!0);f.pointCount=0;f.counters=new Bb;f.firstRender()},initSeries:function(a){var b=this.options.chart;(b=F[a.type||b.type||b.defaultSeriesType])||ra(17,!0);b=new b;b.init(this,
a);return b},isInsidePlot:function(a,b,c){var d=c?b:a,a=c?a:b;return d&gt;=0&amp;&amp;d&lt;=this.plotWidth&amp;&amp;a&gt;=0&amp;&amp;a&lt;=this.plotHeight},adjustTickAmounts:function(){this.options.chart.alignTicks!==!1&amp;&amp;p(this.axes,function(a){a.adjustTickAmount()});this.maxTicks=null},redraw:function(a){var b=this.axes,c=this.series,d=this.pointer,e=this.legend,f=this.isDirtyLegend,g,h,i=this.isDirtyBox,j=c.length,k=j,l=this.renderer,o=l.isHidden(),n=[];Qa(a,this);o&amp;&amp;this.cloneRenderTo();for(this.layOutTitles();k--;)if(a=c[k],a.options.stacking&amp;&amp;
(g=!0,a.isDirty)){h=!0;break}if(h)for(k=j;k--;)if(a=c[k],a.options.stacking)a.isDirty=!0;p(c,function(a){a.isDirty&amp;&amp;a.options.legendType===&quot;point&quot;&amp;&amp;(f=!0)});if(f&amp;&amp;e.options.enabled)e.render(),this.isDirtyLegend=!1;g&amp;&amp;this.getStacks();if(this.hasCartesianSeries){if(!this.isResizing)this.maxTicks=null,p(b,function(a){a.setScale()});this.adjustTickAmounts();this.getMargins();p(b,function(a){a.isDirty&amp;&amp;(i=!0)});p(b,function(a){if(a.isDirtyExtremes)a.isDirtyExtremes=!1,n.push(function(){D(a,&quot;afterSetExtremes&quot;,
q(a.eventArgs,a.getExtremes()));delete a.eventArgs});(i||g)&amp;&amp;a.redraw()})}i&amp;&amp;this.drawChartBox();p(c,function(a){a.isDirty&amp;&amp;a.visible&amp;&amp;(!a.isCartesian||a.xAxis)&amp;&amp;a.redraw()});d&amp;&amp;d.reset(!0);l.draw();D(this,&quot;redraw&quot;);o&amp;&amp;this.cloneRenderTo(!0);p(n,function(a){a.call()})},get:function(a){var b=this.axes,c=this.series,d,e;for(d=0;d&lt;b.length;d++)if(b[d].options.id===a)return b[d];for(d=0;d&lt;c.length;d++)if(c[d].options.id===a)return c[d];for(d=0;d&lt;c.length;d++){e=c[d].points||[];for(b=0;b&lt;e.length;b++)if(e[b].id===
a)return e[b]}return null},getAxes:function(){var a=this,b=this.options,c=b.xAxis=qa(b.xAxis||{}),b=b.yAxis=qa(b.yAxis||{});p(c,function(a,b){a.index=b;a.isX=!0});p(b,function(a,b){a.index=b});c=c.concat(b);p(c,function(b){new la(a,b)});a.adjustTickAmounts()},getSelectedPoints:function(){var a=[];p(this.series,function(b){a=a.concat(vb(b.points||[],function(a){return a.selected}))});return a},getSelectedSeries:function(){return vb(this.series,function(a){return a.selected})},getStacks:function(){var a=
this;p(a.yAxis,function(a){if(a.stacks&amp;&amp;a.hasVisibleSeries)a.oldStacks=a.stacks});p(a.series,function(b){if(b.options.stacking&amp;&amp;(b.visible===!0||a.options.chart.ignoreHiddenSeries===!1))b.stackKey=b.type+m(b.options.stack,&quot;&quot;)})},setTitle:function(a,b,c){var g;var d=this,e=d.options,f;f=e.title=w(e.title,a);g=e.subtitle=w(e.subtitle,b),e=g;p([[&quot;title&quot;,a,f],[&quot;subtitle&quot;,b,e]],function(a){var b=a[0],c=d[b],e=a[1],a=a[2];c&amp;&amp;e&amp;&amp;(d[b]=c=c.destroy());a&amp;&amp;a.text&amp;&amp;!c&amp;&amp;(d[b]=d.renderer.text(a.text,0,0,a.useHTML).attr({align:a.align,
&quot;class&quot;:&quot;highcharts-&quot;+b,zIndex:a.zIndex||4}).css(a.style).add())});d.layOutTitles(c)},layOutTitles:function(a){var b=0,c=this.title,d=this.subtitle,e=this.options,f=e.title,e=e.subtitle,g=this.spacingBox.width-44;if(c&amp;&amp;(c.css({width:(f.width||g)+&quot;px&quot;}).align(q({y:15},f),!1,&quot;spacingBox&quot;),!f.floating&amp;&amp;!f.verticalAlign))b=c.getBBox().height;d&amp;&amp;(d.css({width:(e.width||g)+&quot;px&quot;}).align(q({y:b+f.margin},e),!1,&quot;spacingBox&quot;),!e.floating&amp;&amp;!e.verticalAlign&amp;&amp;(b=Ka(b+d.getBBox().height)));c=this.titleOffset!==
b;this.titleOffset=b;if(!this.isDirtyBox&amp;&amp;c)this.isDirtyBox=c,this.hasRendered&amp;&amp;m(a,!0)&amp;&amp;this.isDirtyBox&amp;&amp;this.redraw()},getChartSize:function(){var a=this.options.chart,b=a.width,a=a.height,c=this.renderToClone||this.renderTo;if(!r(b))this.containerWidth=jb(c,&quot;width&quot;);if(!r(a))this.containerHeight=jb(c,&quot;height&quot;);this.chartWidth=v(0,b||this.containerWidth||600);this.chartHeight=v(0,m(a,this.containerHeight&gt;19?this.containerHeight:400))},cloneRenderTo:function(a){var b=this.renderToClone,c=this.container;
a?b&amp;&amp;(this.renderTo.appendChild(c),Pa(b),delete this.renderToClone):(c&amp;&amp;c.parentNode===this.renderTo&amp;&amp;this.renderTo.removeChild(c),this.renderToClone=b=this.renderTo.cloneNode(0),G(b,{position:&quot;absolute&quot;,top:&quot;-9999px&quot;,display:&quot;block&quot;}),b.style.setProperty&amp;&amp;b.style.setProperty(&quot;display&quot;,&quot;block&quot;,&quot;important&quot;),y.body.appendChild(b),c&amp;&amp;b.appendChild(c))},getContainer:function(){var a,b=this.options.chart,c,d,e;this.renderTo=a=b.renderTo;e=&quot;highcharts-&quot;+tb++;if(Fa(a))this.renderTo=a=y.getElementById(a);
a||ra(13,!0);c=z(H(a,&quot;data-highcharts-chart&quot;));!isNaN(c)&amp;&amp;V[c]&amp;&amp;V[c].hasRendered&amp;&amp;V[c].destroy();H(a,&quot;data-highcharts-chart&quot;,this.index);a.innerHTML=&quot;&quot;;!b.skipClone&amp;&amp;!a.offsetWidth&amp;&amp;this.cloneRenderTo();this.getChartSize();c=this.chartWidth;d=this.chartHeight;this.container=a=Y(Ja,{className:&quot;highcharts-container&quot;+(b.className?&quot; &quot;+b.className:&quot;&quot;),id:e},q({position:&quot;relative&quot;,overflow:&quot;hidden&quot;,width:c+&quot;px&quot;,height:d+&quot;px&quot;,textAlign:&quot;left&quot;,lineHeight:&quot;normal&quot;,zIndex:0,&quot;-webkit-tap-highlight-color&quot;:&quot;rgba(0,0,0,0)&quot;},
b.style),this.renderToClone||a);this._cursor=a.style.cursor;this.renderer=b.forExport?new ta(a,c,d,b.style,!0):new Za(a,c,d,b.style);fa&amp;&amp;this.renderer.create(this,a,c,d)},getMargins:function(){var a=this.spacing,b,c=this.legend,d=this.margin,e=this.options.legend,f=m(e.margin,20),g=e.x,h=e.y,i=e.align,j=e.verticalAlign,k=this.titleOffset;this.resetMargins();b=this.axisOffset;if(k&amp;&amp;!r(d[0]))this.plotTop=v(this.plotTop,k+this.options.title.margin+a[0]);if(c.display&amp;&amp;!e.floating)if(i===&quot;right&quot;){if(!r(d[1]))this.marginRight=
v(this.marginRight,c.legendWidth-g+f+a[1])}else if(i===&quot;left&quot;){if(!r(d[3]))this.plotLeft=v(this.plotLeft,c.legendWidth+g+f+a[3])}else if(j===&quot;top&quot;){if(!r(d[0]))this.plotTop=v(this.plotTop,c.legendHeight+h+f+a[0])}else if(j===&quot;bottom&quot;&amp;&amp;!r(d[2]))this.marginBottom=v(this.marginBottom,c.legendHeight-h+f+a[2]);this.extraBottomMargin&amp;&amp;(this.marginBottom+=this.extraBottomMargin);this.extraTopMargin&amp;&amp;(this.plotTop+=this.extraTopMargin);this.hasCartesianSeries&amp;&amp;p(this.axes,function(a){a.getOffset()});r(d[3])||
(this.plotLeft+=b[3]);r(d[0])||(this.plotTop+=b[0]);r(d[2])||(this.marginBottom+=b[2]);r(d[1])||(this.marginRight+=b[1]);this.setChartSize()},reflow:function(a){var b=this,c=b.options.chart,d=b.renderTo,e=c.width||jb(d,&quot;width&quot;),f=c.height||jb(d,&quot;height&quot;),c=a?a.target:I,d=function(){if(b.container)b.setSize(e,f,!1),b.hasUserSize=null};if(!b.hasUserSize&amp;&amp;e&amp;&amp;f&amp;&amp;(c===I||c===y)){if(e!==b.containerWidth||f!==b.containerHeight)clearTimeout(b.reflowTimeout),a?b.reflowTimeout=setTimeout(d,100):d();b.containerWidth=
e;b.containerHeight=f}},initReflow:function(){var a=this,b=function(b){a.reflow(b)};K(I,&quot;resize&quot;,b);K(a,&quot;destroy&quot;,function(){W(I,&quot;resize&quot;,b)})},setSize:function(a,b,c){var d=this,e,f,g;d.isResizing+=1;g=function(){d&amp;&amp;D(d,&quot;endResize&quot;,null,function(){d.isResizing-=1})};Qa(c,d);d.oldChartHeight=d.chartHeight;d.oldChartWidth=d.chartWidth;if(r(a))d.chartWidth=e=v(0,u(a)),d.hasUserSize=!!e;if(r(b))d.chartHeight=f=v(0,u(b));(va?kb:G)(d.container,{width:e+&quot;px&quot;,height:f+&quot;px&quot;},va);d.setChartSize(!0);d.renderer.setSize(e,
f,c);d.maxTicks=null;p(d.axes,function(a){a.isDirty=!0;a.setScale()});p(d.series,function(a){a.isDirty=!0});d.isDirtyLegend=!0;d.isDirtyBox=!0;d.layOutTitles();d.getMargins();d.redraw(c);d.oldChartHeight=null;D(d,&quot;resize&quot;);va===!1?g():setTimeout(g,va&amp;&amp;va.duration||500)},setChartSize:function(a){var b=this.inverted,c=this.renderer,d=this.chartWidth,e=this.chartHeight,f=this.options.chart,g=this.spacing,h=this.clipOffset,i,j,k,l;this.plotLeft=i=u(this.plotLeft);this.plotTop=j=u(this.plotTop);this.plotWidth=
k=v(0,u(d-i-this.marginRight));this.plotHeight=l=v(0,u(e-j-this.marginBottom));this.plotSizeX=b?l:k;this.plotSizeY=b?k:l;this.plotBorderWidth=f.plotBorderWidth||0;this.spacingBox=c.spacingBox={x:g[3],y:g[0],width:d-g[3]-g[1],height:e-g[0]-g[2]};this.plotBox=c.plotBox={x:i,y:j,width:k,height:l};d=2*T(this.plotBorderWidth/2);b=Ka(v(d,h[3])/2);c=Ka(v(d,h[0])/2);this.clipBox={x:b,y:c,width:T(this.plotSizeX-v(d,h[1])/2-b),height:T(this.plotSizeY-v(d,h[2])/2-c)};a||p(this.axes,function(a){a.setAxisSize();
a.setAxisTranslation()})},resetMargins:function(){var a=this.spacing,b=this.margin;this.plotTop=m(b[0],a[0]);this.marginRight=m(b[1],a[1]);this.marginBottom=m(b[2],a[2]);this.plotLeft=m(b[3],a[3]);this.axisOffset=[0,0,0,0];this.clipOffset=[0,0,0,0]},drawChartBox:function(){var a=this.options.chart,b=this.renderer,c=this.chartWidth,d=this.chartHeight,e=this.chartBackground,f=this.plotBackground,g=this.plotBorder,h=this.plotBGImage,i=a.borderWidth||0,j=a.backgroundColor,k=a.plotBackgroundColor,l=a.plotBackgroundImage,
o=a.plotBorderWidth||0,n,s=this.plotLeft,m=this.plotTop,p=this.plotWidth,q=this.plotHeight,r=this.plotBox,v=this.clipRect,u=this.clipBox;n=i+(a.shadow?8:0);if(i||j)if(e)e.animate(e.crisp({width:c-n,height:d-n}));else{e={fill:j||Q};if(i)e.stroke=a.borderColor,e[&quot;stroke-width&quot;]=i;this.chartBackground=b.rect(n/2,n/2,c-n,d-n,a.borderRadius,i).attr(e).addClass(&quot;highcharts-background&quot;).add().shadow(a.shadow)}if(k)f?f.animate(r):this.plotBackground=b.rect(s,m,p,q,0).attr({fill:k}).add().shadow(a.plotShadow);
if(l)h?h.animate(r):this.plotBGImage=b.image(l,s,m,p,q).add();v?v.animate({width:u.width,height:u.height}):this.clipRect=b.clipRect(u);if(o)g?g.animate(g.crisp({x:s,y:m,width:p,height:q})):this.plotBorder=b.rect(s,m,p,q,0,-o).attr({stroke:a.plotBorderColor,&quot;stroke-width&quot;:o,fill:Q,zIndex:1}).add();this.isDirtyBox=!1},propFromSeries:function(){var a=this,b=a.options.chart,c,d=a.options.series,e,f;p([&quot;inverted&quot;,&quot;angular&quot;,&quot;polar&quot;],function(g){c=F[b.type||b.defaultSeriesType];f=a[g]||b[g]||c&amp;&amp;c.prototype[g];
for(e=d&amp;&amp;d.length;!f&amp;&amp;e--;)(c=F[d[e].type])&amp;&amp;c.prototype[g]&amp;&amp;(f=!0);a[g]=f})},linkSeries:function(){var a=this,b=a.series;p(b,function(a){a.linkedSeries.length=0});p(b,function(b){var d=b.options.linkedTo;if(Fa(d)&amp;&amp;(d=d===&quot;:previous&quot;?a.series[b.index-1]:a.get(d)))d.linkedSeries.push(b),b.linkedParent=d})},renderSeries:function(){p(this.series,function(a){a.translate();a.setTooltipPoints&amp;&amp;a.setTooltipPoints();a.render()})},render:function(){var a=this,b=a.axes,c=a.renderer,d=a.options,e=d.labels,f=
d.credits,g;a.setTitle();a.legend=new lb(a,d.legend);a.getStacks();p(b,function(a){a.setScale()});a.getMargins();a.maxTicks=null;p(b,function(a){a.setTickPositions(!0);a.setMaxTicks()});a.adjustTickAmounts();a.getMargins();a.drawChartBox();a.hasCartesianSeries&amp;&amp;p(b,function(a){a.render()});if(!a.seriesGroup)a.seriesGroup=c.g(&quot;series-group&quot;).attr({zIndex:3}).add();a.renderSeries();e.items&amp;&amp;p(e.items,function(b){var d=q(e.style,b.style),f=z(d.left)+a.plotLeft,g=z(d.top)+a.plotTop+12;delete d.left;delete d.top;
c.text(b.html,f,g).attr({zIndex:2}).css(d).add()});if(f.enabled&amp;&amp;!a.credits)g=f.href,a.credits=c.text(f.text,0,0).on(&quot;click&quot;,function(){if(g)location.href=g}).attr({align:f.position.align,zIndex:8}).css(f.style).add().align(f.position);a.hasRendered=!0},destroy:function(){var a=this,b=a.axes,c=a.series,d=a.container,e,f=d&amp;&amp;d.parentNode;D(a,&quot;destroy&quot;);V[a.index]=t;ab--;a.renderTo.removeAttribute(&quot;data-highcharts-chart&quot;);W(a);for(e=b.length;e--;)b[e]=b[e].destroy();for(e=c.length;e--;)c[e]=c[e].destroy();
p(&quot;title,subtitle,chartBackground,plotBackground,plotBGImage,plotBorder,seriesGroup,clipRect,credits,pointer,scroller,rangeSelector,legend,resetZoomButton,tooltip,renderer&quot;.split(&quot;,&quot;),function(b){var c=a[b];c&amp;&amp;c.destroy&amp;&amp;(a[b]=c.destroy())});if(d)d.innerHTML=&quot;&quot;,W(d),f&amp;&amp;Pa(d);for(e in a)delete a[e]},isReadyToRender:function(){var a=this;return!aa&amp;&amp;I==I.top&amp;&amp;y.readyState!==&quot;complete&quot;||fa&amp;&amp;!I.canvg?(fa?Lb.push(function(){a.firstRender()},a.options.global.canvasToolsURL):y.attachEvent(&quot;onreadystatechange&quot;,
function(){y.detachEvent(&quot;onreadystatechange&quot;,a.firstRender);y.readyState===&quot;complete&quot;&amp;&amp;a.firstRender()}),!1):!0},firstRender:function(){var a=this,b=a.options,c=a.callback;if(a.isReadyToRender()){a.getContainer();D(a,&quot;init&quot;);a.resetMargins();a.setChartSize();a.propFromSeries();a.getAxes();p(b.series||[],function(b){a.initSeries(b)});a.linkSeries();D(a,&quot;beforeRender&quot;);if(R.Pointer)a.pointer=new Wa(a,b);a.render();a.renderer.draw();c&amp;&amp;c.apply(a,[a]);p(a.callbacks,function(b){b.apply(a,[a])});a.cloneRenderTo(!0);
D(a,&quot;load&quot;)}},splashArray:function(a,b){var c=b[a],c=ca(c)?c:[c,c,c,c];return[m(b[a+&quot;Top&quot;],c[0]),m(b[a+&quot;Right&quot;],c[1]),m(b[a+&quot;Bottom&quot;],c[2]),m(b[a+&quot;Left&quot;],c[3])]}};Ya.prototype.callbacks=[];X=R.CenteredSeriesMixin={getCenter:function(){var a=this.options,b=this.chart,c=2*(a.slicedOffset||0),d,e=b.plotWidth-2*c,f=b.plotHeight-2*c,b=a.center,a=[m(b[0],&quot;50%&quot;),m(b[1],&quot;50%&quot;),a.size||&quot;100%&quot;,a.innerSize||0],g=C(e,f),h;return Ua(a,function(a,b){h=/%$/.test(a);d=b&lt;2||b===2&amp;&amp;h;return(h?[e,f,g,g][b]*z(a)/100:
a)+(d?c:0)})}};var Ea=function(){};Ea.prototype={init:function(a,b,c){this.series=a;this.applyOptions(b,c);this.pointAttr={};if(a.options.colorByPoint&amp;&amp;(b=a.options.colors||a.chart.options.colors,this.color=this.color||b[a.colorCounter++],a.colorCounter===b.length))a.colorCounter=0;a.chart.pointCount++;return this},applyOptions:function(a,b){var c=this.series,d=c.pointValKey,a=Ea.prototype.optionsToObject.call(this,a);q(this,a);this.options=this.options?q(this.options,a):a;if(d)this.y=this[d];if(this.x===
t&amp;&amp;c)this.x=b===t?c.autoIncrement():b;return this},optionsToObject:function(a){var b={},c=this.series,d=c.pointArrayMap||[&quot;y&quot;],e=d.length,f=0,g=0;if(typeof a===&quot;number&quot;||a===null)b[d[0]]=a;else if(La(a)){if(a.length&gt;e){c=typeof a[0];if(c===&quot;string&quot;)b.name=a[0];else if(c===&quot;number&quot;)b.x=a[0];f++}for(;g&lt;e;)b[d[g++]]=a[f++]}else if(typeof a===&quot;object&quot;){b=a;if(a.dataLabels)c._hasPointLabels=!0;if(a.marker)c._hasPointMarkers=!0}return b},destroy:function(){var a=this.series.chart,b=a.hoverPoints,c;a.pointCount--;
if(b&amp;&amp;(this.setState(),ja(b,this),!b.length))a.hoverPoints=null;if(this===a.hoverPoint)this.onMouseOut();if(this.graphic||this.dataLabel)W(this),this.destroyElements();this.legendItem&amp;&amp;a.legend.destroyItem(this);for(c in this)this[c]=null},destroyElements:function(){for(var a=&quot;graphic,dataLabel,dataLabelUpper,group,connector,shadowGroup&quot;.split(&quot;,&quot;),b,c=6;c--;)b=a[c],this[b]&amp;&amp;(this[b]=this[b].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,key:this.name||this.category,series:this.series,
point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(a){var b=this.series,c=b.tooltipOptions,d=m(c.valueDecimals,&quot;&quot;),e=c.valuePrefix||&quot;&quot;,f=c.valueSuffix||&quot;&quot;;p(b.pointArrayMap||[&quot;y&quot;],function(b){b=&quot;{point.&quot;+b;if(e||f)a=a.replace(b+&quot;}&quot;,e+b+&quot;}&quot;+f);a=a.replace(b+&quot;}&quot;,b+&quot;:,.&quot;+d+&quot;f}&quot;)});return Ia(a,{point:this,series:this.series})},firePointEvent:function(a,b,c){var d=this,e=this.series.options;(e.point.events[a]||d.options&amp;&amp;d.options.events&amp;&amp;d.options.events[a])&amp;&amp;
this.importEvents();a===&quot;click&quot;&amp;&amp;e.allowPointSelect&amp;&amp;(c=function(a){d.select(null,a.ctrlKey||a.metaKey||a.shiftKey)});D(this,a,b,c)}};var O=function(){};O.prototype={isCartesian:!0,type:&quot;line&quot;,pointClass:Ea,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:&quot;lineColor&quot;,&quot;stroke-width&quot;:&quot;lineWidth&quot;,fill:&quot;fillColor&quot;,r:&quot;radius&quot;},axisTypes:[&quot;xAxis&quot;,&quot;yAxis&quot;],colorCounter:0,parallelArrays:[&quot;x&quot;,&quot;y&quot;],init:function(a,b){var c=this,d,e,f=a.series,g=function(a,b){return m(a.options.index,a._i)-m(b.options.index,
b._i)};c.chart=a;c.options=b=c.setOptions(b);c.linkedSeries=[];c.bindAxes();q(c,{name:b.name,state:&quot;&quot;,pointAttr:{},visible:b.visible!==!1,selected:b.selected===!0});if(fa)b.animation=!1;e=b.events;for(d in e)K(c,d,e[d]);if(e&amp;&amp;e.click||b.point&amp;&amp;b.point.events&amp;&amp;b.point.events.click||b.allowPointSelect)a.runTrackerClick=!0;c.getColor();c.getSymbol();p(c.parallelArrays,function(a){c[a+&quot;Data&quot;]=[]});c.setData(b.data,!1);if(c.isCartesian)a.hasCartesianSeries=!0;f.push(c);c._i=f.length-1;ob(f,g);this.yAxis&amp;&amp;
ob(this.yAxis.series,g);p(f,function(a,b){a.index=b;a.name=a.name||&quot;Series &quot;+(b+1)})},bindAxes:function(){var a=this,b=a.options,c=a.chart,d;p(a.axisTypes||[],function(e){p(c[e],function(c){d=c.options;if(b[e]===d.index||b[e]!==t&amp;&amp;b[e]===d.id||b[e]===t&amp;&amp;d.index===0)c.series.push(a),a[e]=c,c.isDirty=!0});!a[e]&amp;&amp;a.optionalAxis!==e&amp;&amp;ra(18,!0)})},updateParallelArrays:function(a,b){var c=a.series,d=arguments;p(c.parallelArrays,typeof b===&quot;number&quot;?function(d){var f=d===&quot;y&quot;&amp;&amp;c.toYData?c.toYData(a):a[d];
c[d+&quot;Data&quot;][b]=f}:function(a){Array.prototype[b].apply(c[a+&quot;Data&quot;],Array.prototype.slice.call(d,2))})},autoIncrement:function(){var a=this.options,b=this.xIncrement,b=m(b,a.pointStart,0);this.pointInterval=m(this.pointInterval,a.pointInterval,1);this.xIncrement=b+this.pointInterval;return b},getSegments:function(){var a=-1,b=[],c,d=this.points,e=d.length;if(e)if(this.options.connectNulls){for(c=e;c--;)d[c].y===null&amp;&amp;d.splice(c,1);d.length&amp;&amp;(b=[d])}else p(d,function(c,g){c.y===null?(g&gt;a+1&amp;&amp;b.push(d.slice(a+
1,g)),a=g):g===e-1&amp;&amp;b.push(d.slice(a+1,g+1))});this.segments=b},setOptions:function(a){var b=this.chart,c=b.options.plotOptions,b=b.userOptions||{},d=b.plotOptions||{},e=c[this.type];this.userOptions=a;c=w(e,c.series,a);this.tooltipOptions=w(E.tooltip,E.plotOptions[this.type].tooltip,b.tooltip,d.series&amp;&amp;d.series.tooltip,d[this.type]&amp;&amp;d[this.type].tooltip,a.tooltip);e.marker===null&amp;&amp;delete c.marker;return c},getColor:function(){var a=this.options,b=this.userOptions,c=this.chart.options.colors,d=this.chart.counters,
e;e=a.color||ba[this.type].color;if(!e&amp;&amp;!a.colorByPoint)r(b._colorIndex)?a=b._colorIndex:(b._colorIndex=d.color,a=d.color++),e=c[a];this.color=e;d.wrapColor(c.length)},getSymbol:function(){var a=this.userOptions,b=this.options.marker,c=this.chart,d=c.options.symbols,c=c.counters;this.symbol=b.symbol;if(!this.symbol)r(a._symbolIndex)?a=a._symbolIndex:(a._symbolIndex=c.symbol,a=c.symbol++),this.symbol=d[a];if(/^url/.test(this.symbol))b.radius=0;c.wrapSymbol(d.length)},drawLegendSymbol:N.drawLineMarker,
setData:function(a,b,c,d){var e=this,f=e.points,g=f&amp;&amp;f.length||0,h,i=e.options,j=e.chart,k=null,l=e.xAxis,o=l&amp;&amp;!!l.categories,n=e.tooltipPoints,s=i.turboThreshold,q=this.xData,r=this.yData,v=(h=e.pointArrayMap)&amp;&amp;h.length,a=a||[];h=a.length;b=m(b,!0);if(d!==!1&amp;&amp;h&amp;&amp;g===h&amp;&amp;!e.cropped&amp;&amp;!e.hasGroupedData)p(a,function(a,b){f[b].update(a,!1)});else{e.xIncrement=null;e.pointRange=o?1:i.pointRange;e.colorCounter=0;p(this.parallelArrays,function(a){e[a+&quot;Data&quot;].length=0});if(s&amp;&amp;h&gt;s){for(c=0;k===null&amp;&amp;c&lt;h;)k=
a[c],c++;if(ha(k)){o=m(i.pointStart,0);i=m(i.pointInterval,1);for(c=0;c&lt;h;c++)q[c]=o,r[c]=a[c],o+=i;e.xIncrement=o}else if(La(k))if(v)for(c=0;c&lt;h;c++)i=a[c],q[c]=i[0],r[c]=i.slice(1,v+1);else for(c=0;c&lt;h;c++)i=a[c],q[c]=i[0],r[c]=i[1];else ra(12)}else for(c=0;c&lt;h;c++)if(a[c]!==t&amp;&amp;(i={series:e},e.pointClass.prototype.applyOptions.apply(i,[a[c]]),e.updateParallelArrays(i,c),o&amp;&amp;i.name))l.names[i.x]=i.name;Fa(r[0])&amp;&amp;ra(14,!0);e.data=[];e.options.data=a;for(c=g;c--;)f[c]&amp;&amp;f[c].destroy&amp;&amp;f[c].destroy();
if(n)n.length=0;if(l)l.minRange=l.userMinRange;e.isDirty=e.isDirtyData=j.isDirtyBox=!0;c=!1}b&amp;&amp;j.redraw(c)},processData:function(a){var b=this.xData,c=this.yData,d=b.length,e;e=0;var f,g,h=this.xAxis,i=this.options,j=i.cropThreshold,k=0,l=this.isCartesian,o,n;if(l&amp;&amp;!this.isDirty&amp;&amp;!h.isDirty&amp;&amp;!this.yAxis.isDirty&amp;&amp;!a)return!1;if(l&amp;&amp;this.sorted&amp;&amp;(!j||d&gt;j||this.forceCrop))if(o=h.min,n=h.max,b[d-1]&lt;o||b[0]&gt;n)b=[],c=[];else if(b[0]&lt;o||b[d-1]&gt;n)e=this.cropData(this.xData,this.yData,o,n),b=e.xData,c=e.yData,
e=e.start,f=!0,k=b.length;for(d=b.length-1;d&gt;=0;d--)a=b[d]-b[d-1],!f&amp;&amp;b[d]&gt;o&amp;&amp;b[d]&lt;n&amp;&amp;k++,a&gt;0&amp;&amp;(g===t||a&lt;g)?g=a:a&lt;0&amp;&amp;this.requireSorting&amp;&amp;ra(15);this.cropped=f;this.cropStart=e;this.processedXData=b;this.processedYData=c;this.activePointCount=k;if(i.pointRange===null)this.pointRange=g||1;this.closestPointRange=g},cropData:function(a,b,c,d){var e=a.length,f=0,g=e,h=m(this.cropShoulder,1),i;for(i=0;i&lt;e;i++)if(a[i]&gt;=c){f=v(0,i-h);break}for(;i&lt;e;i++)if(a[i]&gt;d){g=i+h;break}return{xData:a.slice(f,g),yData:b.slice(f,
g),start:f,end:g}},generatePoints:function(){var a=this.options.data,b=this.data,c,d=this.processedXData,e=this.processedYData,f=this.pointClass,g=d.length,h=this.cropStart||0,i,j=this.hasGroupedData,k,l=[],o;if(!b&amp;&amp;!j)b=[],b.length=a.length,b=this.data=b;for(o=0;o&lt;g;o++)i=h+o,j?l[o]=(new f).init(this,[d[o]].concat(qa(e[o]))):(b[i]?k=b[i]:a[i]!==t&amp;&amp;(b[i]=k=(new f).init(this,a[i],d[o])),l[o]=k);if(b&amp;&amp;(g!==(c=b.length)||j))for(o=0;o&lt;c;o++)if(o===h&amp;&amp;!j&amp;&amp;(o+=g),b[o])b[o].destroyElements(),b[o].plotX=
t;this.data=b;this.points=l},getExtremes:function(a){var b=this.yAxis,c=this.processedXData,d,e=[],f=0;d=this.xAxis.getExtremes();var g=d.min,h=d.max,i,j,k,l,a=a||this.stackedYData||this.processedYData;d=a.length;for(l=0;l&lt;d;l++)if(j=c[l],k=a[l],i=k!==null&amp;&amp;k!==t&amp;&amp;(!b.isLog||k.length||k&gt;0),j=this.getExtremesFromAll||this.cropped||(c[l+1]||j)&gt;=g&amp;&amp;(c[l-1]||j)&lt;=h,i&amp;&amp;j)if(i=k.length)for(;i--;)k[i]!==null&amp;&amp;(e[f++]=k[i]);else e[f++]=k;this.dataMin=m(void 0,Na(e));this.dataMax=m(void 0,Ba(e))},translate:function(){this.processedXData||
this.processData();this.generatePoints();for(var a=this.options,b=a.stacking,c=this.xAxis,d=c.categories,e=this.yAxis,f=this.points,g=f.length,h=!!this.modifyValue,i=a.pointPlacement,j=i===&quot;between&quot;||ha(i),k=a.threshold,a=0;a&lt;g;a++){var l=f[a],o=l.x,n=l.y,s=l.low,p=b&amp;&amp;e.stacks[(this.negStacks&amp;&amp;n&lt;k?&quot;-&quot;:&quot;&quot;)+this.stackKey];if(e.isLog&amp;&amp;n&lt;=0)l.y=n=null;l.plotX=c.translate(o,0,0,0,1,i,this.type===&quot;flags&quot;);if(b&amp;&amp;this.visible&amp;&amp;p&amp;&amp;p[o])p=p[o],n=p.points[this.index+&quot;,&quot;+a],s=n[0],n=n[1],s===0&amp;&amp;(s=m(k,e.min)),
e.isLog&amp;&amp;s&lt;=0&amp;&amp;(s=null),l.total=l.stackTotal=p.total,l.percentage=p.total&amp;&amp;l.y/p.total*100,l.stackY=n,p.setOffset(this.pointXOffset||0,this.barW||0);l.yBottom=r(s)?e.translate(s,0,1,0,1):null;h&amp;&amp;(n=this.modifyValue(n,l));l.plotY=typeof n===&quot;number&quot;&amp;&amp;n!==Infinity?e.translate(n,0,1,0,1):t;l.clientX=j?c.translate(o,0,0,0,1):l.plotX;l.negative=l.y&lt;(k||0);l.category=d&amp;&amp;d[l.x]!==t?d[l.x]:l.x}this.getSegments()},animate:function(a){var b=this.chart,c=b.renderer,d;d=this.options.animation;var e=this.clipBox||
b.clipBox,f=b.inverted,g;if(d&amp;&amp;!ca(d))d=ba[this.type].animation;g=[&quot;_sharedClip&quot;,d.duration,d.easing,e.height].join(&quot;,&quot;);a?(a=b[g],d=b[g+&quot;m&quot;],a||(b[g]=a=c.clipRect(q(e,{width:0})),b[g+&quot;m&quot;]=d=c.clipRect(-99,f?-b.plotLeft:-b.plotTop,99,f?b.chartWidth:b.chartHeight)),this.group.clip(a),this.markerGroup.clip(d),this.sharedClipKey=g):((a=b[g])&amp;&amp;a.animate({width:b.plotSizeX},d),b[g+&quot;m&quot;]&amp;&amp;b[g+&quot;m&quot;].animate({width:b.plotSizeX+99},d),this.animate=null)},afterAnimate:function(){var a=this.chart,b=this.sharedClipKey,
c=this.group,d=this.clipBox;if(c&amp;&amp;this.options.clip!==!1){if(!b||!d)c.clip(d?a.renderer.clipRect(d):a.clipRect);this.markerGroup.clip()}D(this,&quot;afterAnimate&quot;);setTimeout(function(){b&amp;&amp;a[b]&amp;&amp;(d||(a[b]=a[b].destroy()),a[b+&quot;m&quot;]&amp;&amp;(a[b+&quot;m&quot;]=a[b+&quot;m&quot;].destroy()))},100)},drawPoints:function(){var a,b=this.points,c=this.chart,d,e,f,g,h,i,j,k;d=this.options.marker;var l=this.pointAttr[&quot;&quot;],o,n=this.markerGroup,s=m(d.enabled,this.activePointCount&lt;0.5*this.xAxis.len/d.radius);if(d.enabled!==!1||this._hasPointMarkers)for(f=
b.length;f--;)if(g=b[f],d=T(g.plotX),e=g.plotY,k=g.graphic,i=g.marker||{},a=s&amp;&amp;i.enabled===t||i.enabled,o=c.isInsidePlot(u(d),e,c.inverted),a&amp;&amp;e!==t&amp;&amp;!isNaN(e)&amp;&amp;g.y!==null)if(a=g.pointAttr[g.selected?&quot;select&quot;:&quot;&quot;]||l,h=a.r,i=m(i.symbol,this.symbol),j=i.indexOf(&quot;url&quot;)===0,k)k[o?&quot;show&quot;:&quot;hide&quot;](!0).animate(q({x:d-h,y:e-h},k.symbolName?{width:2*h,height:2*h}:{}));else{if(o&amp;&amp;(h&gt;0||j))g.graphic=c.renderer.symbol(i,d-h,e-h,2*h,2*h).attr(a).add(n)}else if(k)g.graphic=k.destroy()},convertAttribs:function(a,
b,c,d){var e=this.pointAttrToOptions,f,g,h={},a=a||{},b=b||{},c=c||{},d=d||{};for(f in e)g=e[f],h[f]=m(a[g],b[f],c[f],d[f]);return h},getAttribs:function(){var a=this,b=a.options,c=ba[a.type].marker?b.marker:b,d=c.states,e=d.hover,f,g=a.color;f={stroke:g,fill:g};var h=a.points||[],i,j=[],k,l=a.pointAttrToOptions;k=a.hasPointSpecificOptions;var o=b.negativeColor,n=c.lineColor,s=c.fillColor;i=b.turboThreshold;var m;b.marker?(e.radius=e.radius||c.radius+2,e.lineWidth=e.lineWidth||c.lineWidth+1):e.color=
e.color||ya(e.color||g).brighten(e.brightness).get();j[&quot;&quot;]=a.convertAttribs(c,f);p([&quot;hover&quot;,&quot;select&quot;],function(b){j[b]=a.convertAttribs(d[b],j[&quot;&quot;])});a.pointAttr=j;g=h.length;if(!i||g&lt;i||k)for(;g--;){i=h[g];if((c=i.options&amp;&amp;i.options.marker||i.options)&amp;&amp;c.enabled===!1)c.radius=0;if(i.negative&amp;&amp;o)i.color=i.fillColor=o;k=b.colorByPoint||i.color;if(i.options)for(m in l)r(c[l[m]])&amp;&amp;(k=!0);if(k){c=c||{};k=[];d=c.states||{};f=d.hover=d.hover||{};if(!b.marker)f.color=f.color||!i.options.color&amp;&amp;e.color||
ya(i.color).brighten(f.brightness||e.brightness).get();f={color:i.color};if(!s)f.fillColor=i.color;if(!n)f.lineColor=i.color;k[&quot;&quot;]=a.convertAttribs(q(f,c),j[&quot;&quot;]);k.hover=a.convertAttribs(d.hover,j.hover,k[&quot;&quot;]);k.select=a.convertAttribs(d.select,j.select,k[&quot;&quot;])}else k=j;i.pointAttr=k}},destroy:function(){var a=this,b=a.chart,c=/AppleWebKit\/533/.test(wa),d,e,f=a.data||[],g,h,i;D(a,&quot;destroy&quot;);W(a);p(a.axisTypes||[],function(b){if(i=a[b])ja(i.series,a),i.isDirty=i.forceRedraw=!0});a.legendItem&amp;&amp;a.chart.legend.destroyItem(a);
for(e=f.length;e--;)(g=f[e])&amp;&amp;g.destroy&amp;&amp;g.destroy();a.points=null;clearTimeout(a.animationTimeout);p(&quot;area,graph,dataLabelsGroup,group,markerGroup,tracker,graphNeg,areaNeg,posClip,negClip&quot;.split(&quot;,&quot;),function(b){a[b]&amp;&amp;(d=c&amp;&amp;b===&quot;group&quot;?&quot;hide&quot;:&quot;destroy&quot;,a[b][d]())});if(b.hoverSeries===a)b.hoverSeries=null;ja(b.series,a);for(h in a)delete a[h]},getSegmentPath:function(a){var b=this,c=[],d=b.options.step;p(a,function(e,f){var g=e.plotX,h=e.plotY,i;b.getPointSpline?c.push.apply(c,b.getPointSpline(a,
e,f)):(c.push(f?&quot;L&quot;:&quot;M&quot;),d&amp;&amp;f&amp;&amp;(i=a[f-1],d===&quot;right&quot;?c.push(i.plotX,h):d===&quot;center&quot;?c.push((i.plotX+g)/2,i.plotY,(i.plotX+g)/2,h):c.push(g,i.plotY)),c.push(e.plotX,e.plotY))});return c},getGraphPath:function(){var a=this,b=[],c,d=[];p(a.segments,function(e){c=a.getSegmentPath(e);e.length&gt;1?b=b.concat(c):d.push(e[0])});a.singlePoints=d;return a.graphPath=b},drawGraph:function(){var a=this,b=this.options,c=[[&quot;graph&quot;,b.lineColor||this.color]],d=b.lineWidth,e=b.dashStyle,f=b.linecap!==&quot;square&quot;,g=this.getGraphPath(),
h=b.negativeColor;h&amp;&amp;c.push([&quot;graphNeg&quot;,h]);p(c,function(c,h){var k=c[0],l=a[k];if(l)bb(l),l.animate({d:g});else if(d&amp;&amp;g.length)l={stroke:c[1],&quot;stroke-width&quot;:d,fill:Q,zIndex:1},e?l.dashstyle=e:f&amp;&amp;(l[&quot;stroke-linecap&quot;]=l[&quot;stroke-linejoin&quot;]=&quot;round&quot;),a[k]=a.chart.renderer.path(g).attr(l).add(a.group).shadow(!h&amp;&amp;b.shadow)})},clipNeg:function(){var a=this.options,b=this.chart,c=b.renderer,d=a.negativeColor||a.negativeFillColor,e,f=this.graph,g=this.area,h=this.posClip,i=this.negClip;e=b.chartWidth;var j=
b.chartHeight,k=v(e,j),l=this.yAxis;if(d&amp;&amp;(f||g)){d=u(l.toPixels(a.threshold||0,!0));d&lt;0&amp;&amp;(k-=d);a={x:0,y:0,width:k,height:d};k={x:0,y:d,width:k,height:k};if(b.inverted)a.height=k.y=b.plotWidth-d,c.isVML&amp;&amp;(a={x:b.plotWidth-d-b.plotLeft,y:0,width:e,height:j},k={x:d+b.plotLeft-e,y:0,width:b.plotLeft+d,height:e});l.reversed?(b=k,e=a):(b=a,e=k);h?(h.animate(b),i.animate(e)):(this.posClip=h=c.clipRect(b),this.negClip=i=c.clipRect(e),f&amp;&amp;this.graphNeg&amp;&amp;(f.clip(h),this.graphNeg.clip(i)),g&amp;&amp;(g.clip(h),this.areaNeg.clip(i)))}},
invertGroups:function(){function a(){var a={width:b.yAxis.len,height:b.xAxis.len};p([&quot;group&quot;,&quot;markerGroup&quot;],function(c){b[c]&amp;&amp;b[c].attr(a).invert()})}var b=this,c=b.chart;if(b.xAxis)K(c,&quot;resize&quot;,a),K(b,&quot;destroy&quot;,function(){W(c,&quot;resize&quot;,a)}),a(),b.invertGroups=a},plotGroup:function(a,b,c,d,e){var f=this[a],g=!f;g&amp;&amp;(this[a]=f=this.chart.renderer.g(b).attr({visibility:c,zIndex:d||0.1}).add(e));f[g?&quot;attr&quot;:&quot;animate&quot;](this.getPlotBox());return f},getPlotBox:function(){var a=this.chart,b=this.xAxis,c=this.yAxis;
if(a.inverted)b=c,c=this.xAxis;return{translateX:b?b.left:a.plotLeft,translateY:c?c.top:a.plotTop,scaleX:1,scaleY:1}},render:function(){var a=this,b=a.chart,c,d=a.options,e=(c=d.animation)&amp;&amp;!!a.animate&amp;&amp;b.renderer.isSVG&amp;&amp;m(c.duration,500)||0,f=a.visible?&quot;visible&quot;:&quot;hidden&quot;,g=d.zIndex,h=a.hasRendered,i=b.seriesGroup;c=a.plotGroup(&quot;group&quot;,&quot;series&quot;,f,g,i);a.markerGroup=a.plotGroup(&quot;markerGroup&quot;,&quot;markers&quot;,f,g,i);e&amp;&amp;a.animate(!0);a.getAttribs();c.inverted=a.isCartesian?b.inverted:!1;a.drawGraph&amp;&amp;(a.drawGraph(),
a.clipNeg());a.drawDataLabels&amp;&amp;a.drawDataLabels();a.visible&amp;&amp;a.drawPoints();a.drawTracker&amp;&amp;a.options.enableMouseTracking!==!1&amp;&amp;a.drawTracker();b.inverted&amp;&amp;a.invertGroups();d.clip!==!1&amp;&amp;!a.sharedClipKey&amp;&amp;!h&amp;&amp;c.clip(b.clipRect);e&amp;&amp;a.animate();if(!h)e?a.animationTimeout=setTimeout(function(){a.afterAnimate()},e):a.afterAnimate();a.isDirty=a.isDirtyData=!1;a.hasRendered=!0},redraw:function(){var a=this.chart,b=this.isDirtyData,c=this.group,d=this.xAxis,e=this.yAxis;c&amp;&amp;(a.inverted&amp;&amp;c.attr({width:a.plotWidth,
height:a.plotHeight}),c.animate({translateX:m(d&amp;&amp;d.left,a.plotLeft),translateY:m(e&amp;&amp;e.top,a.plotTop)}));this.translate();this.setTooltipPoints&amp;&amp;this.setTooltipPoints(!0);this.render();b&amp;&amp;D(this,&quot;updatedData&quot;)}};Hb.prototype={destroy:function(){Oa(this,this.axis)},render:function(a){var b=this.options,c=b.format,c=c?Ia(c,this):b.formatter.call(this);this.label?this.label.attr({text:c,visibility:&quot;hidden&quot;}):this.label=this.axis.chart.renderer.text(c,null,null,b.useHTML).css(b.style).attr({align:this.textAlign,
rotation:b.rotation,visibility:&quot;hidden&quot;}).add(a)},setOffset:function(a,b){var c=this.axis,d=c.chart,e=d.inverted,f=this.isNegative,g=c.translate(c.usePercentage?100:this.total,0,0,0,1),c=c.translate(0),c=M(g-c),h=d.xAxis[0].translate(this.x)+a,i=d.plotHeight,f={x:e?f?g:g-c:h,y:e?i-h-b:f?i-g-c:i-g,width:e?c:b,height:e?b:c};if(e=this.label)e.align(this.alignOptions,null,f),f=e.alignAttr,e[this.options.crop===!1||d.isInsidePlot(f.x,f.y)?&quot;show&quot;:&quot;hide&quot;](!0)}};la.prototype.buildStacks=function(){var a=
this.series,b=m(this.options.reversedStacks,!0),c=a.length;if(!this.isXAxis){for(this.usePercentage=!1;c--;)a[b?c:a.length-c-1].setStackedPoints();if(this.usePercentage)for(c=0;c&lt;a.length;c++)a[c].setPercentStacks()}};la.prototype.renderStackTotals=function(){var a=this.chart,b=a.renderer,c=this.stacks,d,e,f=this.stackTotalGroup;if(!f)this.stackTotalGroup=f=b.g(&quot;stack-labels&quot;).attr({visibility:&quot;visible&quot;,zIndex:6}).add();f.translate(a.plotLeft,a.plotTop);for(d in c)for(e in a=c[d],a)a[e].render(f)};
O.prototype.setStackedPoints=function(){if(this.options.stacking&amp;&amp;!(this.visible!==!0&amp;&amp;this.chart.options.chart.ignoreHiddenSeries!==!1)){var a=this.processedXData,b=this.processedYData,c=[],d=b.length,e=this.options,f=e.threshold,g=e.stack,e=e.stacking,h=this.stackKey,i=&quot;-&quot;+h,j=this.negStacks,k=this.yAxis,l=k.stacks,o=k.oldStacks,n,m,p,q,r,u;for(q=0;q&lt;d;q++){r=a[q];u=b[q];p=this.index+&quot;,&quot;+q;m=(n=j&amp;&amp;u&lt;f)?i:h;l[m]||(l[m]={});if(!l[m][r])o[m]&amp;&amp;o[m][r]?(l[m][r]=o[m][r],l[m][r].total=null):l[m][r]=new Hb(k,
k.options.stackLabels,n,r,g);m=l[m][r];m.points[p]=[m.cum||0];e===&quot;percent&quot;?(n=n?h:i,j&amp;&amp;l[n]&amp;&amp;l[n][r]?(n=l[n][r],m.total=n.total=v(n.total,m.total)+M(u)||0):m.total=da(m.total+(M(u)||0))):m.total=da(m.total+(u||0));m.cum=(m.cum||0)+(u||0);m.points[p].push(m.cum);c[q]=m.cum}if(e===&quot;percent&quot;)k.usePercentage=!0;this.stackedYData=c;k.oldStacks={}}};O.prototype.setPercentStacks=function(){var a=this,b=a.stackKey,c=a.yAxis.stacks,d=a.processedXData;p([b,&quot;-&quot;+b],function(b){var e;for(var f=d.length,g,h;f--;)if(g=
d[f],e=(h=c[b]&amp;&amp;c[b][g])&amp;&amp;h.points[a.index+&quot;,&quot;+f],g=e)h=h.total?100/h.total:0,g[0]=da(g[0]*h),g[1]=da(g[1]*h),a.stackedYData[f]=g[1]})};q(Ya.prototype,{addSeries:function(a,b,c){var d,e=this;a&amp;&amp;(b=m(b,!0),D(e,&quot;addSeries&quot;,{options:a},function(){d=e.initSeries(a);e.isDirtyLegend=!0;e.linkSeries();b&amp;&amp;e.redraw(c)}));return d},addAxis:function(a,b,c,d){var e=b?&quot;xAxis&quot;:&quot;yAxis&quot;,f=this.options;new la(this,w(a,{index:this[e].length,isX:b}));f[e]=qa(f[e]||{});f[e].push(a);m(c,!0)&amp;&amp;this.redraw(d)},showLoading:function(a){var b=
this.options,c=this.loadingDiv,d=b.loading;if(!c)this.loadingDiv=c=Y(Ja,{className:&quot;highcharts-loading&quot;},q(d.style,{zIndex:10,display:Q}),this.container),this.loadingSpan=Y(&quot;span&quot;,null,d.labelStyle,c);this.loadingSpan.innerHTML=a||b.lang.loading;if(!this.loadingShown)G(c,{opacity:0,display:&quot;&quot;,left:this.plotLeft+&quot;px&quot;,top:this.plotTop+&quot;px&quot;,width:this.plotWidth+&quot;px&quot;,height:this.plotHeight+&quot;px&quot;}),kb(c,{opacity:d.style.opacity},{duration:d.showDuration||0}),this.loadingShown=!0},hideLoading:function(){var a=
this.options,b=this.loadingDiv;b&amp;&amp;kb(b,{opacity:0},{duration:a.loading.hideDuration||100,complete:function(){G(b,{display:Q})}});this.loadingShown=!1}});q(Ea.prototype,{update:function(a,b,c){var d=this,e=d.series,f=d.graphic,g,h=e.data,i=e.chart,j=e.options,b=m(b,!0);d.firePointEvent(&quot;update&quot;,{options:a},function(){d.applyOptions(a);if(ca(a)){e.getAttribs();if(f)a&amp;&amp;a.marker&amp;&amp;a.marker.symbol?d.graphic=f.destroy():f.attr(d.pointAttr[d.state||&quot;&quot;]);if(a&amp;&amp;a.dataLabels&amp;&amp;d.dataLabel)d.dataLabel=d.dataLabel.destroy()}g=
Da(d,h);e.updateParallelArrays(d,g);j.data[g]=d.options;e.isDirty=e.isDirtyData=!0;if(!e.fixedBox&amp;&amp;e.hasCartesianSeries)i.isDirtyBox=!0;j.legendType===&quot;point&quot;&amp;&amp;i.legend.destroyItem(d);b&amp;&amp;i.redraw(c)})},remove:function(a,b){var c=this,d=c.series,e=d.points,f=d.chart,g,h=d.data;Qa(b,f);a=m(a,!0);c.firePointEvent(&quot;remove&quot;,null,function(){g=Da(c,h);h.length===e.length&amp;&amp;e.splice(g,1);h.splice(g,1);d.options.data.splice(g,1);d.updateParallelArrays(c,&quot;splice&quot;,g,1);c.destroy();d.isDirty=!0;d.isDirtyData=
!0;a&amp;&amp;f.redraw()})}});q(O.prototype,{addPoint:function(a,b,c,d){var e=this.options,f=this.data,g=this.graph,h=this.area,i=this.chart,j=this.xAxis&amp;&amp;this.xAxis.names,k=g&amp;&amp;g.shift||0,l=e.data,o,n=this.xData;Qa(d,i);c&amp;&amp;p([g,h,this.graphNeg,this.areaNeg],function(a){if(a)a.shift=k+1});if(h)h.isArea=!0;b=m(b,!0);d={series:this};this.pointClass.prototype.applyOptions.apply(d,[a]);g=d.x;h=n.length;if(this.requireSorting&amp;&amp;g&lt;n[h-1])for(o=!0;h&amp;&amp;n[h-1]&gt;g;)h--;this.updateParallelArrays(d,&quot;splice&quot;,h,0,0);this.updateParallelArrays(d,
h);if(j)j[g]=d.name;l.splice(h,0,a);o&amp;&amp;(this.data.splice(h,0,null),this.processData());e.legendType===&quot;point&quot;&amp;&amp;this.generatePoints();c&amp;&amp;(f[0]&amp;&amp;f[0].remove?f[0].remove(!1):(f.shift(),this.updateParallelArrays(d,&quot;shift&quot;),l.shift()));this.isDirtyData=this.isDirty=!0;b&amp;&amp;(this.getAttribs(),i.redraw())},remove:function(a,b){var c=this,d=c.chart,a=m(a,!0);if(!c.isRemoving)c.isRemoving=!0,D(c,&quot;remove&quot;,null,function(){c.destroy();d.isDirtyLegend=d.isDirtyBox=!0;d.linkSeries();a&amp;&amp;d.redraw(b)});c.isRemoving=
!1},update:function(a,b){var c=this.chart,d=this.type,e=F[d].prototype,f,a=w(this.userOptions,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},a);this.remove(!1);for(f in e)e.hasOwnProperty(f)&amp;&amp;(this[f]=t);q(this,F[a.type||d].prototype);this.init(c,a);m(b,!0)&amp;&amp;c.redraw(!1)}});q(la.prototype,{update:function(a,b){var c=this.chart,a=c.options[this.coll][this.options.index]=w(this.userOptions,a);this.destroy(!0);this._addedPlotLB=t;this.init(c,q(a,{events:t}));c.isDirtyBox=
!0;m(b,!0)&amp;&amp;c.redraw()},remove:function(a){for(var b=this.chart,c=this.coll,d=this.series,e=d.length;e--;)d[e]&amp;&amp;d[e].remove(!1);ja(b.axes,this);ja(b[c],this);b.options[c].splice(this.options.index,1);p(b[c],function(a,b){a.options.index=b});this.destroy();b.isDirtyBox=!0;m(a,!0)&amp;&amp;b.redraw()},setTitle:function(a,b){this.update({title:a},b)},setCategories:function(a,b){this.update({categories:a},b)}});ga=ka(O);F.line=ga;ba.area=w(S,{threshold:0});var pa=ka(O,{type:&quot;area&quot;,getSegments:function(){var a=
[],b=[],c=[],d=this.xAxis,e=this.yAxis,f=e.stacks[this.stackKey],g={},h,i,j=this.points,k=this.options.connectNulls,l,o,n;if(this.options.stacking&amp;&amp;!this.cropped){for(o=0;o&lt;j.length;o++)g[j[o].x]=j[o];for(n in f)f[n].total!==null&amp;&amp;c.push(+n);c.sort(function(a,b){return a-b});p(c,function(a){if(!k||g[a]&amp;&amp;g[a].y!==null)g[a]?b.push(g[a]):(h=d.translate(a),l=f[a].percent?f[a].total?f[a].cum*100/f[a].total:0:f[a].cum,i=e.toPixels(l,!0),b.push({y:null,plotX:h,clientX:h,plotY:i,yBottom:i,onMouseOver:sa}))});
b.length&amp;&amp;a.push(b)}else O.prototype.getSegments.call(this),a=this.segments;this.segments=a},getSegmentPath:function(a){var b=O.prototype.getSegmentPath.call(this,a),c=[].concat(b),d,e=this.options;d=b.length;var f=this.yAxis.getThreshold(e.threshold),g;d===3&amp;&amp;c.push(&quot;L&quot;,b[1],b[2]);if(e.stacking&amp;&amp;!this.closedStacks)for(d=a.length-1;d&gt;=0;d--)g=m(a[d].yBottom,f),d&lt;a.length-1&amp;&amp;e.step&amp;&amp;c.push(a[d+1].plotX,g),c.push(a[d].plotX,g);else this.closeSegment(c,a,f);this.areaPath=this.areaPath.concat(c);return b},
closeSegment:function(a,b,c){a.push(&quot;L&quot;,b[b.length-1].plotX,c,&quot;L&quot;,b[0].plotX,c)},drawGraph:function(){this.areaPath=[];O.prototype.drawGraph.apply(this);var a=this,b=this.areaPath,c=this.options,d=c.negativeColor,e=c.negativeFillColor,f=[[&quot;area&quot;,this.color,c.fillColor]];(d||e)&amp;&amp;f.push([&quot;areaNeg&quot;,d,e]);p(f,function(d){var e=d[0],f=a[e];f?f.animate({d:b}):a[e]=a.chart.renderer.path(b).attr({fill:m(d[2],ya(d[1]).setOpacity(m(c.fillOpacity,0.75)).get()),zIndex:0}).add(a.group)})},drawLegendSymbol:N.drawRectangle});
F.area=pa;ba.spline=w(S);ga=ka(O,{type:&quot;spline&quot;,getPointSpline:function(a,b,c){var d=b.plotX,e=b.plotY,f=a[c-1],g=a[c+1],h,i,j,k;if(f&amp;&amp;g){a=f.plotY;j=g.plotX;var g=g.plotY,l;h=(1.5*d+f.plotX)/2.5;i=(1.5*e+a)/2.5;j=(1.5*d+j)/2.5;k=(1.5*e+g)/2.5;l=(k-i)*(j-d)/(j-h)+e-k;i+=l;k+=l;i&gt;a&amp;&amp;i&gt;e?(i=v(a,e),k=2*e-i):i&lt;a&amp;&amp;i&lt;e&amp;&amp;(i=C(a,e),k=2*e-i);k&gt;g&amp;&amp;k&gt;e?(k=v(g,e),i=2*e-k):k&lt;g&amp;&amp;k&lt;e&amp;&amp;(k=C(g,e),i=2*e-k);b.rightContX=j;b.rightContY=k}c?(b=[&quot;C&quot;,f.rightContX||f.plotX,f.rightContY||f.plotY,h||d,i||e,d,e],f.rightContX=
f.rightContY=null):b=[&quot;M&quot;,d,e];return b}});F.spline=ga;ba.areaspline=w(ba.area);pa=pa.prototype;ga=ka(ga,{type:&quot;areaspline&quot;,closedStacks:!0,getSegmentPath:pa.getSegmentPath,closeSegment:pa.closeSegment,drawGraph:pa.drawGraph,drawLegendSymbol:N.drawRectangle});F.areaspline=ga;ba.column=w(S,{borderColor:&quot;#FFFFFF&quot;,borderRadius:0,groupPadding:0.2,marker:null,pointPadding:0.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:0.1,shadow:!1,halo:!1},select:{color:&quot;#C0C0C0&quot;,borderColor:&quot;#000000&quot;,
shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},stickyTracking:!1,tooltip:{distance:6},threshold:0});ga=ka(O,{type:&quot;column&quot;,pointAttrToOptions:{stroke:&quot;borderColor&quot;,fill:&quot;color&quot;,r:&quot;borderRadius&quot;},cropShoulder:0,trackerGroups:[&quot;group&quot;,&quot;dataLabelsGroup&quot;],negStacks:!0,init:function(){O.prototype.init.apply(this,arguments);var a=this,b=a.chart;b.hasRendered&amp;&amp;p(b.series,function(b){if(b.type===a.type)b.isDirty=!0})},getColumnMetrics:function(){var a=this,b=a.options,c=a.xAxis,d=a.yAxis,e=
c.reversed,f,g={},h,i=0;b.grouping===!1?i=1:p(a.chart.series,function(b){var c=b.options,e=b.yAxis;if(b.type===a.type&amp;&amp;b.visible&amp;&amp;d.len===e.len&amp;&amp;d.pos===e.pos)c.stacking?(f=b.stackKey,g[f]===t&amp;&amp;(g[f]=i++),h=g[f]):c.grouping!==!1&amp;&amp;(h=i++),b.columnIndex=h});var c=C(M(c.transA)*(c.ordinalSlope||b.pointRange||c.closestPointRange||c.tickInterval||1),c.len),j=c*b.groupPadding,k=(c-2*j)/i,l=b.pointWidth,b=r(l)?(k-l)/2:k*b.pointPadding,l=m(l,k-2*b);return a.columnMetrics={width:l,offset:b+(j+((e?i-(a.columnIndex||
0):a.columnIndex)||0)*k-c/2)*(e?-1:1)}},translate:function(){var a=this,b=a.chart,c=a.options,d=a.borderWidth=m(c.borderWidth,a.activePointCount&gt;0.5*a.xAxis.len?0:1),e=a.yAxis,f=a.translatedThreshold=e.getThreshold(c.threshold),g=m(c.minPointLength,5),c=a.getColumnMetrics(),h=c.width,i=a.barW=Ka(v(h,1+2*d)),j=a.pointXOffset=c.offset,k=-(d%2?0.5:0),l=d%2?0.5:1;b.renderer.isVML&amp;&amp;b.inverted&amp;&amp;(l+=1);O.prototype.translate.apply(a);p(a.points,function(c){var d=m(c.yBottom,f),p=C(v(-999-d,c.plotY),e.len+
999+d),q=c.plotX+j,r=i,t=C(p,d),x;x=v(p,d)-t;M(x)&lt;g&amp;&amp;g&amp;&amp;(x=g,t=u(M(t-f)&gt;g?d-g:f-(e.translate(c.y,0,1,0,1)&lt;=f?g:0)));c.barX=q;c.pointWidth=h;c.tooltipPos=b.inverted?[e.len-p,a.xAxis.len-q-r/2]:[q+r/2,p];d=M(q)&lt;0.5;r=u(q+r)+k;q=u(q)+k;r-=q;p=M(t)&lt;0.5;x=u(t+x)+l;t=u(t)+l;x-=t;d&amp;&amp;(q+=1,r-=1);p&amp;&amp;(t-=1,x+=1);c.shapeType=&quot;rect&quot;;c.shapeArgs={x:q,y:t,width:r,height:x}})},getSymbol:sa,drawLegendSymbol:N.drawRectangle,drawGraph:sa,drawPoints:function(){var a=this,b=this.chart,c=a.options,d=b.renderer,e=c.animationLimit||
250,f,g,h;p(a.points,function(i){var j=i.plotY,k=i.graphic;if(j!==t&amp;&amp;!isNaN(j)&amp;&amp;i.y!==null)f=i.shapeArgs,h=r(a.borderWidth)?{&quot;stroke-width&quot;:a.borderWidth}:{},g=i.pointAttr[i.selected?&quot;select&quot;:&quot;&quot;]||a.pointAttr[&quot;&quot;],k?(bb(k),k.attr(h)[b.pointCount&lt;e?&quot;animate&quot;:&quot;attr&quot;](w(f))):i.graphic=d[i.shapeType](f).attr(g).attr(h).add(a.group).shadow(c.shadow,null,c.stacking&amp;&amp;!c.borderRadius);else if(k)i.graphic=k.destroy()})},animate:function(a){var b=this.yAxis,c=this.options,d=this.chart.inverted,e={};if(aa)a?
(e.scaleY=0.001,a=C(b.pos+b.len,v(b.pos,b.toPixels(c.threshold))),d?e.translateX=a-b.len:e.translateY=a,this.group.attr(e)):(e.scaleY=1,e[d?&quot;translateX&quot;:&quot;translateY&quot;]=b.pos,this.group.animate(e,this.options.animation),this.animate=null)},remove:function(){var a=this,b=a.chart;b.hasRendered&amp;&amp;p(b.series,function(b){if(b.type===a.type)b.isDirty=!0});O.prototype.remove.apply(a,arguments)}});F.column=ga;ba.bar=w(ba.column);pa=ka(ga,{type:&quot;bar&quot;,inverted:!0});F.bar=pa;ba.scatter=w(S,{lineWidth:0,tooltip:{headerFormat:'&lt;span style=&quot;color:{series.color}&quot;&gt;&lt;/span&gt; &lt;span style=&quot;font-size: 10px;&quot;&gt; {series.name}&lt;/span&gt;&lt;br/&gt;',
pointFormat:&quot;x: &lt;b&gt;{point.x}&lt;/b&gt;&lt;br/&gt;y: &lt;b&gt;{point.y}&lt;/b&gt;&lt;br/&gt;&quot;},stickyTracking:!1});pa=ka(O,{type:&quot;scatter&quot;,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:[&quot;markerGroup&quot;],takeOrdinalPosition:!1,singularTooltips:!0,drawGraph:function(){this.options.lineWidth&amp;&amp;O.prototype.drawGraph.call(this)}});F.scatter=pa;ba.pie=w(S,{borderColor:&quot;#FFFFFF&quot;,borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name}},ignoreHiddenPoint:!0,
legendType:&quot;point&quot;,marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:0.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}});S={type:&quot;pie&quot;,isCartesian:!1,pointClass:ka(Ea,{init:function(){Ea.prototype.init.apply(this,arguments);var a=this,b;if(a.y&lt;0)a.y=null;q(a,{visible:a.visible!==!1,name:m(a.name,&quot;Slice&quot;)});b=function(b){a.slice(b.type===&quot;select&quot;)};K(a,&quot;select&quot;,b);K(a,&quot;unselect&quot;,b);return a},setVisible:function(a){var b=this,c=b.series,d=c.chart;b.visible=b.options.visible=
a=a===t?!b.visible:a;c.options.data[Da(b,c.data)]=b.options;p([&quot;graphic&quot;,&quot;dataLabel&quot;,&quot;connector&quot;,&quot;shadowGroup&quot;],function(c){if(b[c])b[c][a?&quot;show&quot;:&quot;hide&quot;](!0)});b.legendItem&amp;&amp;d.legend.colorizeItem(b,a);if(!c.isDirty&amp;&amp;c.options.ignoreHiddenPoint)c.isDirty=!0,d.redraw()},slice:function(a,b,c){var d=this.series;Qa(c,d.chart);m(b,!0);this.sliced=this.options.sliced=a=r(a)?a:!this.sliced;d.options.data[Da(this,d.data)]=this.options;a=a?this.slicedTranslation:{translateX:0,translateY:0};this.graphic.animate(a);
this.shadowGroup&amp;&amp;this.shadowGroup.animate(a)},haloPath:function(a){var b=this.shapeArgs,c=this.series.chart;return this.series.chart.renderer.symbols.arc(c.plotLeft+b.x,c.plotTop+b.y,b.r+a,b.r+a,{innerR:this.shapeArgs.r,start:b.start,end:b.end})}}),requireSorting:!1,noSharedTooltip:!0,trackerGroups:[&quot;group&quot;,&quot;dataLabelsGroup&quot;],axisTypes:[],pointAttrToOptions:{stroke:&quot;borderColor&quot;,&quot;stroke-width&quot;:&quot;borderWidth&quot;,fill:&quot;color&quot;},singularTooltips:!0,getColor:sa,animate:function(a){var b=this,c=b.points,d=
b.startAngleRad;if(!a)p(c,function(a){var c=a.graphic,a=a.shapeArgs;c&amp;&amp;(c.attr({r:b.center[3]/2,start:d,end:d}),c.animate({r:a.r,start:a.start,end:a.end},b.options.animation))}),b.animate=null},setData:function(a,b,c,d){O.prototype.setData.call(this,a,!1,c,d);this.processData();this.generatePoints();m(b,!0)&amp;&amp;this.chart.redraw(c)},generatePoints:function(){var a,b=0,c,d,e,f=this.options.ignoreHiddenPoint;O.prototype.generatePoints.call(this);c=this.points;d=c.length;for(a=0;a&lt;d;a++)e=c[a],b+=f&amp;&amp;!e.visible?
0:e.y;this.total=b;for(a=0;a&lt;d;a++)e=c[a],e.percentage=b&gt;0?e.y/b*100:0,e.total=b},translate:function(a){this.generatePoints();var b=0,c=this.options,d=c.slicedOffset,e=d+c.borderWidth,f,g,h,i=c.startAngle||0,j=this.startAngleRad=ma/180*(i-90),i=(this.endAngleRad=ma/180*(m(c.endAngle,i+360)-90))-j,k=this.points,l=c.dataLabels.distance,c=c.ignoreHiddenPoint,o,n=k.length,p;if(!a)this.center=a=this.getCenter();this.getX=function(b,c){h=U.asin(C((b-a[1])/(a[2]/2+l),1));return a[0]+(c?-1:1)*Z(h)*(a[2]/
2+l)};for(o=0;o&lt;n;o++){p=k[o];f=j+b*i;if(!c||p.visible)b+=p.percentage/100;g=j+b*i;p.shapeType=&quot;arc&quot;;p.shapeArgs={x:a[0],y:a[1],r:a[2]/2,innerR:a[3]/2,start:u(f*1E3)/1E3,end:u(g*1E3)/1E3};h=(g+f)/2;h&gt;1.5*ma?h-=2*ma:h&lt;-ma/2&amp;&amp;(h+=2*ma);p.slicedTranslation={translateX:u(Z(h)*d),translateY:u(ea(h)*d)};f=Z(h)*a[2]/2;g=ea(h)*a[2]/2;p.tooltipPos=[a[0]+f*0.7,a[1]+g*0.7];p.half=h&lt;-ma/2||h&gt;ma/2?1:0;p.angle=h;e=C(e,l/2);p.labelPos=[a[0]+f+Z(h)*l,a[1]+g+ea(h)*l,a[0]+f+Z(h)*e,a[1]+g+ea(h)*e,a[0]+f,a[1]+g,l&lt;0?
&quot;center&quot;:p.half?&quot;right&quot;:&quot;left&quot;,h]}},drawGraph:null,drawPoints:function(){var a=this,b=a.chart.renderer,c,d,e=a.options.shadow,f,g;if(e&amp;&amp;!a.shadowGroup)a.shadowGroup=b.g(&quot;shadow&quot;).add(a.group);p(a.points,function(h){d=h.graphic;g=h.shapeArgs;f=h.shadowGroup;if(e&amp;&amp;!f)f=h.shadowGroup=b.g(&quot;shadow&quot;).add(a.shadowGroup);c=h.sliced?h.slicedTranslation:{translateX:0,translateY:0};f&amp;&amp;f.attr(c);d?d.animate(q(g,c)):h.graphic=d=b[h.shapeType](g).setRadialReference(a.center).attr(h.pointAttr[h.selected?&quot;select&quot;:
&quot;&quot;]).attr({&quot;stroke-linejoin&quot;:&quot;round&quot;}).attr(c).add(a.group).shadow(e,f);h.visible!==void 0&amp;&amp;h.setVisible(h.visible)})},sortByAngle:function(a,b){a.sort(function(a,d){return a.angle!==void 0&amp;&amp;(d.angle-a.angle)*b})},drawLegendSymbol:N.drawRectangle,getCenter:X.getCenter,getSymbol:sa};S=ka(O,S);F.pie=S;O.prototype.drawDataLabels=function(){var a=this,b=a.options,c=b.cursor,d=b.dataLabels,e=a.points,f,g,h,i;if(d.enabled||a._hasPointLabels)a.dlProcessOptions&amp;&amp;a.dlProcessOptions(d),i=a.plotGroup(&quot;dataLabelsGroup&quot;,
&quot;data-labels&quot;,&quot;hidden&quot;,d.zIndex||6),!a.hasRendered&amp;&amp;m(d.defer,!0)&amp;&amp;(i.attr({opacity:0}),K(a,&quot;afterAnimate&quot;,function(){a.dataLabelsGroup.show()[b.animation?&quot;animate&quot;:&quot;attr&quot;]({opacity:1},{duration:200})})),g=d,p(e,function(b){var e,l=b.dataLabel,o,n,p=b.connector,u=!0;f=b.options&amp;&amp;b.options.dataLabels;e=m(f&amp;&amp;f.enabled,g.enabled);if(l&amp;&amp;!e)b.dataLabel=l.destroy();else if(e){d=w(g,f);e=d.rotation;o=b.getLabelConfig();h=d.format?Ia(d.format,o):d.formatter.call(o,d);d.style.color=m(d.color,d.style.color,
a.color,&quot;black&quot;);if(l)if(r(h))l.attr({text:h}),u=!1;else{if(b.dataLabel=l=l.destroy(),p)b.connector=p.destroy()}else if(r(h)){l={fill:d.backgroundColor,stroke:d.borderColor,&quot;stroke-width&quot;:d.borderWidth,r:d.borderRadius||0,rotation:e,padding:d.padding,zIndex:1};for(n in l)l[n]===t&amp;&amp;delete l[n];l=b.dataLabel=a.chart.renderer[e?&quot;text&quot;:&quot;label&quot;](h,0,-999,null,null,null,d.useHTML).attr(l).css(q(d.style,c&amp;&amp;{cursor:c})).add(i).shadow(d.shadow)}l&amp;&amp;a.alignDataLabel(b,l,d,null,u)}})};O.prototype.alignDataLabel=
function(a,b,c,d,e){var f=this.chart,g=f.inverted,h=m(a.plotX,-999),i=m(a.plotY,-999),j=b.getBBox();if(a=this.visible&amp;&amp;(a.series.forceDL||f.isInsidePlot(h,u(i),g)||d&amp;&amp;f.isInsidePlot(h,g?d.x+1:d.y+d.height-1,g)))d=q({x:g?f.plotWidth-i:h,y:u(g?f.plotHeight-h:i),width:0,height:0},d),q(c,{width:j.width,height:j.height}),c.rotation?(g={align:c.align,x:d.x+c.x+d.width/2,y:d.y+c.y+d.height/2},b[e?&quot;attr&quot;:&quot;animate&quot;](g)):(b.align(c,null,d),g=b.alignAttr,m(c.overflow,&quot;justify&quot;)===&quot;justify&quot;?this.justifyDataLabel(b,
c,g,j,d,e):m(c.crop,!0)&amp;&amp;(a=f.isInsidePlot(g.x,g.y)&amp;&amp;f.isInsidePlot(g.x+j.width,g.y+j.height)));if(!a)b.attr({y:-999}),b.placed=!1};O.prototype.justifyDataLabel=function(a,b,c,d,e,f){var g=this.chart,h=b.align,i=b.verticalAlign,j,k;j=c.x;if(j&lt;0)h===&quot;right&quot;?b.align=&quot;left&quot;:b.x=-j,k=!0;j=c.x+d.width;if(j&gt;g.plotWidth)h===&quot;left&quot;?b.align=&quot;right&quot;:b.x=g.plotWidth-j,k=!0;j=c.y;if(j&lt;0)i===&quot;bottom&quot;?b.verticalAlign=&quot;top&quot;:b.y=-j,k=!0;j=c.y+d.height;if(j&gt;g.plotHeight)i===&quot;top&quot;?b.verticalAlign=&quot;bottom&quot;:b.y=g.plotHeight-
j,k=!0;if(k)a.placed=!f,a.align(b,null,e)};if(F.pie)F.pie.prototype.drawDataLabels=function(){var a=this,b=a.data,c,d=a.chart,e=a.options.dataLabels,f=m(e.connectorPadding,10),g=m(e.connectorWidth,1),h=d.plotWidth,d=d.plotHeight,i,j,k=m(e.softConnector,!0),l=e.distance,o=a.center,n=o[2]/2,q=o[1],r=l&gt;0,t,w,x,y,z=[[],[]],A,C,G,D,B,F=[0,0,0,0],N=function(a,b){return b.y-a.y};if(a.visible&amp;&amp;(e.enabled||a._hasPointLabels)){O.prototype.drawDataLabels.apply(a);p(b,function(a){a.dataLabel&amp;&amp;a.visible&amp;&amp;z[a.half].push(a)});
for(D=0;!y&amp;&amp;b[D];)y=b[D]&amp;&amp;b[D].dataLabel&amp;&amp;(b[D].dataLabel.getBBox().height||21),D++;for(D=2;D--;){var b=[],K=[],H=z[D],I=H.length,E;a.sortByAngle(H,D-0.5);if(l&gt;0){for(B=q-n-l;B&lt;=q+n+l;B+=y)b.push(B);w=b.length;if(I&gt;w){c=[].concat(H);c.sort(N);for(B=I;B--;)c[B].rank=B;for(B=I;B--;)H[B].rank&gt;=w&amp;&amp;H.splice(B,1);I=H.length}for(B=0;B&lt;I;B++){c=H[B];x=c.labelPos;c=9999;var Q,P;for(P=0;P&lt;w;P++)Q=M(b[P]-x[1]),Q&lt;c&amp;&amp;(c=Q,E=P);if(E&lt;B&amp;&amp;b[B]!==null)E=B;else for(w&lt;I-B+E&amp;&amp;b[B]!==null&amp;&amp;(E=w-I+B);b[E]===null;)E++;K.push({i:E,
y:b[E]});b[E]=null}K.sort(N)}for(B=0;B&lt;I;B++){c=H[B];x=c.labelPos;t=c.dataLabel;G=c.visible===!1?&quot;hidden&quot;:&quot;visible&quot;;c=x[1];if(l&gt;0){if(w=K.pop(),E=w.i,C=w.y,c&gt;C&amp;&amp;b[E+1]!==null||c&lt;C&amp;&amp;b[E-1]!==null)C=c}else C=c;A=e.justify?o[0]+(D?-1:1)*(n+l):a.getX(E===0||E===b.length-1?c:C,D);t._attr={visibility:G,align:x[6]};t._pos={x:A+e.x+({left:f,right:-f}[x[6]]||0),y:C+e.y-10};t.connX=A;t.connY=C;if(this.options.size===null)w=t.width,A-w&lt;f?F[3]=v(u(w-A+f),F[3]):A+w&gt;h-f&amp;&amp;(F[1]=v(u(A+w-h+f),F[1])),C-y/2&lt;0?F[0]=
v(u(-C+y/2),F[0]):C+y/2&gt;d&amp;&amp;(F[2]=v(u(C+y/2-d),F[2]))}}if(Ba(F)===0||this.verifyDataLabelOverflow(F))this.placeDataLabels(),r&amp;&amp;g&amp;&amp;p(this.points,function(b){i=b.connector;x=b.labelPos;if((t=b.dataLabel)&amp;&amp;t._pos)G=t._attr.visibility,A=t.connX,C=t.connY,j=k?[&quot;M&quot;,A+(x[6]===&quot;left&quot;?5:-5),C,&quot;C&quot;,A,C,2*x[2]-x[4],2*x[3]-x[5],x[2],x[3],&quot;L&quot;,x[4],x[5]]:[&quot;M&quot;,A+(x[6]===&quot;left&quot;?5:-5),C,&quot;L&quot;,x[2],x[3],&quot;L&quot;,x[4],x[5]],i?(i.animate({d:j}),i.attr(&quot;visibility&quot;,G)):b.connector=i=a.chart.renderer.path(j).attr({&quot;stroke-width&quot;:g,
stroke:e.connectorColor||b.color||&quot;#606060&quot;,visibility:G}).add(a.dataLabelsGroup);else if(i)b.connector=i.destroy()})}},F.pie.prototype.placeDataLabels=function(){p(this.points,function(a){var a=a.dataLabel,b;if(a)(b=a._pos)?(a.attr(a._attr),a[a.moved?&quot;animate&quot;:&quot;attr&quot;](b),a.moved=!0):a&amp;&amp;a.attr({y:-999})})},F.pie.prototype.alignDataLabel=sa,F.pie.prototype.verifyDataLabelOverflow=function(a){var b=this.center,c=this.options,d=c.center,e=c=c.minSize||80,f;d[0]!==null?e=v(b[2]-v(a[1],a[3]),c):(e=v(b[2]-
a[1]-a[3],c),b[0]+=(a[3]-a[1])/2);d[1]!==null?e=v(C(e,b[2]-v(a[0],a[2])),c):(e=v(C(e,b[2]-a[0]-a[2]),c),b[1]+=(a[0]-a[2])/2);e&lt;b[2]?(b[2]=e,this.translate(b),p(this.points,function(a){if(a.dataLabel)a.dataLabel._pos=null}),this.drawDataLabels&amp;&amp;this.drawDataLabels()):f=!0;return f};if(F.column)F.column.prototype.alignDataLabel=function(a,b,c,d,e){var f=this.chart,g=f.inverted,h=a.dlBox||a.shapeArgs,i=a.below||a.plotY&gt;m(this.translatedThreshold,f.plotSizeY),j=m(c.inside,!!this.options.stacking);if(h&amp;&amp;
(d=w(h),g&amp;&amp;(d={x:f.plotWidth-d.y-d.height,y:f.plotHeight-d.x-d.width,width:d.height,height:d.width}),!j))g?(d.x+=i?0:d.width,d.width=0):(d.y+=i?d.height:0,d.height=0);c.align=m(c.align,!g||j?&quot;center&quot;:i?&quot;right&quot;:&quot;left&quot;);c.verticalAlign=m(c.verticalAlign,g||j?&quot;middle&quot;:i?&quot;top&quot;:&quot;bottom&quot;);O.prototype.alignDataLabel.call(this,a,b,c,d,e)};S=R.TrackerMixin={drawTrackerPoint:function(){var a=this,b=a.chart,c=b.pointer,d=a.options.cursor,e=d&amp;&amp;{cursor:d},f=function(c){var d=c.target,e;if(b.hoverSeries!==a)a.onMouseOver();
for(;d&amp;&amp;!e;)e=d.point,d=d.parentNode;if(e!==t&amp;&amp;e!==b.hoverPoint)e.onMouseOver(c)};p(a.points,function(a){if(a.graphic)a.graphic.element.point=a;if(a.dataLabel)a.dataLabel.element.point=a});if(!a._hasTracking)p(a.trackerGroups,function(b){if(a[b]&amp;&amp;(a[b].addClass(&quot;highcharts-tracker&quot;).on(&quot;mouseover&quot;,f).on(&quot;mouseout&quot;,function(a){c.onTrackerMouseOut(a)}).css(e),$a))a[b].on(&quot;touchstart&quot;,f)}),a._hasTracking=!0},drawTrackerGraph:function(){var a=this,b=a.options,c=b.trackByArea,d=[].concat(c?a.areaPath:
a.graphPath),e=d.length,f=a.chart,g=f.pointer,h=f.renderer,i=f.options.tooltip.snap,j=a.tracker,k=b.cursor,l=k&amp;&amp;{cursor:k},k=a.singlePoints,m,n=function(){if(f.hoverSeries!==a)a.onMouseOver()},q=&quot;rgba(192,192,192,&quot;+(aa?1.0E-4:0.002)+&quot;)&quot;;if(e&amp;&amp;!c)for(m=e+1;m--;)d[m]===&quot;M&quot;&amp;&amp;d.splice(m+1,0,d[m+1]-i,d[m+2],&quot;L&quot;),(m&amp;&amp;d[m]===&quot;M&quot;||m===e)&amp;&amp;d.splice(m,0,&quot;L&quot;,d[m-2]+i,d[m-1]);for(m=0;m&lt;k.length;m++)e=k[m],d.push(&quot;M&quot;,e.plotX-i,e.plotY,&quot;L&quot;,e.plotX+i,e.plotY);j?j.attr({d:d}):(a.tracker=h.path(d).attr({&quot;stroke-linejoin&quot;:&quot;round&quot;,
visibility:a.visible?&quot;visible&quot;:&quot;hidden&quot;,stroke:q,fill:c?q:Q,&quot;stroke-width&quot;:b.lineWidth+(c?0:2*i),zIndex:2}).add(a.group),p([a.tracker,a.markerGroup],function(a){a.addClass(&quot;highcharts-tracker&quot;).on(&quot;mouseover&quot;,n).on(&quot;mouseout&quot;,function(a){g.onTrackerMouseOut(a)}).css(l);if($a)a.on(&quot;touchstart&quot;,n)}))}};if(F.column)ga.prototype.drawTracker=S.drawTrackerPoint;if(F.pie)F.pie.prototype.drawTracker=S.drawTrackerPoint;if(F.scatter)pa.prototype.drawTracker=S.drawTrackerPoint;q(lb.prototype,{setItemEvents:function(a,
b,c,d,e){var f=this;(c?b:a.legendGroup).on(&quot;mouseover&quot;,function(){a.setState(&quot;hover&quot;);b.css(f.options.itemHoverStyle)}).on(&quot;mouseout&quot;,function(){b.css(a.visible?d:e);a.setState()}).on(&quot;click&quot;,function(b){var c=function(){a.setVisible()},b={browserEvent:b};a.firePointEvent?a.firePointEvent(&quot;legendItemClick&quot;,b,c):D(a,&quot;legendItemClick&quot;,b,c)})},createCheckboxForItem:function(a){a.checkbox=Y(&quot;input&quot;,{type:&quot;checkbox&quot;,checked:a.selected,defaultChecked:a.selected},this.options.itemCheckboxStyle,this.chart.container);
K(a.checkbox,&quot;click&quot;,function(b){D(a,&quot;checkboxClick&quot;,{checked:b.target.checked},function(){a.select()})})}});E.legend.itemStyle.cursor=&quot;pointer&quot;;q(Ya.prototype,{showResetZoom:function(){var a=this,b=E.lang,c=a.options.chart.resetZoomButton,d=c.theme,e=d.states,f=c.relativeTo===&quot;chart&quot;?null:&quot;plotBox&quot;;this.resetZoomButton=a.renderer.button(b.resetZoom,null,null,function(){a.zoomOut()},d,e&amp;&amp;e.hover).attr({align:c.position.align,title:b.resetZoomTitle}).add().align(c.position,!1,f)},zoomOut:function(){var a=
this;D(a,&quot;selection&quot;,{resetSelection:!0},function(){a.zoom()})},zoom:function(a){var b,c=this.pointer,d=!1,e;!a||a.resetSelection?p(this.axes,function(a){b=a.zoom()}):p(a.xAxis.concat(a.yAxis),function(a){var e=a.axis,h=e.isXAxis;if(c[h?&quot;zoomX&quot;:&quot;zoomY&quot;]||c[h?&quot;pinchX&quot;:&quot;pinchY&quot;])b=e.zoom(a.min,a.max),e.displayBtn&amp;&amp;(d=!0)});e=this.resetZoomButton;if(d&amp;&amp;!e)this.showResetZoom();else if(!d&amp;&amp;ca(e))this.resetZoomButton=e.destroy();b&amp;&amp;this.redraw(m(this.options.chart.animation,a&amp;&amp;a.animation,this.pointCount&lt;
100))},pan:function(a,b){var c=this,d=c.hoverPoints,e;d&amp;&amp;p(d,function(a){a.setState()});p(b===&quot;xy&quot;?[1,0]:[1],function(b){var d=a[b?&quot;chartX&quot;:&quot;chartY&quot;],h=c[b?&quot;xAxis&quot;:&quot;yAxis&quot;][0],i=c[b?&quot;mouseDownX&quot;:&quot;mouseDownY&quot;],j=(h.pointRange||0)/2,k=h.getExtremes(),l=h.toValue(i-d,!0)+j,i=h.toValue(i+c[b?&quot;plotWidth&quot;:&quot;plotHeight&quot;]-d,!0)-j;h.series.length&amp;&amp;l&gt;C(k.dataMin,k.min)&amp;&amp;i&lt;v(k.dataMax,k.max)&amp;&amp;(h.setExtremes(l,i,!1,!1,{trigger:&quot;pan&quot;}),e=!0);c[b?&quot;mouseDownX&quot;:&quot;mouseDownY&quot;]=d});e&amp;&amp;c.redraw(!1);G(c.container,{cursor:&quot;move&quot;})}});
q(Ea.prototype,{select:function(a,b){var c=this,d=c.series,e=d.chart,a=m(a,!c.selected);c.firePointEvent(a?&quot;select&quot;:&quot;unselect&quot;,{accumulate:b},function(){c.selected=c.options.selected=a;d.options.data[Da(c,d.data)]=c.options;c.setState(a&amp;&amp;&quot;select&quot;);b||p(e.getSelectedPoints(),function(a){if(a.selected&amp;&amp;a!==c)a.selected=a.options.selected=!1,d.options.data[Da(a,d.data)]=a.options,a.setState(&quot;&quot;),a.firePointEvent(&quot;unselect&quot;)})})},onMouseOver:function(a){var b=this.series,c=b.chart,d=c.tooltip,e=c.hoverPoint;
if(e&amp;&amp;e!==this)e.onMouseOut();this.firePointEvent(&quot;mouseOver&quot;);d&amp;&amp;(!d.shared||b.noSharedTooltip)&amp;&amp;d.refresh(this,a);this.setState(&quot;hover&quot;);c.hoverPoint=this},onMouseOut:function(){var a=this.series.chart,b=a.hoverPoints;if(!b||Da(this,b)===-1)this.firePointEvent(&quot;mouseOut&quot;),this.setState(),a.hoverPoint=null},importEvents:function(){if(!this.hasImportedEvents){var a=w(this.series.options.point,this.options).events,b;this.events=a;for(b in a)K(this,b,a[b]);this.hasImportedEvents=!0}},setState:function(a,
b){var c=this.plotX,d=this.plotY,e=this.series,f=e.options.states,g=ba[e.type].marker&amp;&amp;e.options.marker,h=g&amp;&amp;!g.enabled,i=g&amp;&amp;g.states[a],j=i&amp;&amp;i.enabled===!1,k=e.stateMarkerGraphic,l=this.marker||{},m=e.chart,n=e.halo,p,a=a||&quot;&quot;;p=this.pointAttr[a]||e.pointAttr[a];if(!(a===this.state&amp;&amp;!b||this.selected&amp;&amp;a!==&quot;select&quot;||f[a]&amp;&amp;f[a].enabled===!1||a&amp;&amp;(j||h&amp;&amp;i.enabled===!1)||a&amp;&amp;l.states&amp;&amp;l.states[a]&amp;&amp;l.states[a].enabled===!1)){if(this.graphic)g=g&amp;&amp;this.graphic.symbolName&amp;&amp;p.r,this.graphic.attr(w(p,g?{x:c-
g,y:d-g,width:2*g,height:2*g}:{})),k&amp;&amp;k.hide();else{if(a&amp;&amp;i)if(g=i.radius,l=l.symbol||e.symbol,k&amp;&amp;k.currentSymbol!==l&amp;&amp;(k=k.destroy()),k)k[b?&quot;animate&quot;:&quot;attr&quot;]({x:c-g,y:d-g});else if(l)e.stateMarkerGraphic=k=m.renderer.symbol(l,c-g,d-g,2*g,2*g).attr(p).add(e.markerGroup),k.currentSymbol=l;if(k)k[a&amp;&amp;m.isInsidePlot(c,d,m.inverted)?&quot;show&quot;:&quot;hide&quot;]()}if((c=f[a]&amp;&amp;f[a].halo)&amp;&amp;c.size){if(!n)e.halo=n=m.renderer.path().add(e.seriesGroup);n.attr(q({fill:ya(this.color||e.color).setOpacity(c.opacity).get()},c.attributes))[b?
&quot;animate&quot;:&quot;attr&quot;]({d:this.haloPath(c.size)})}else n&amp;&amp;n.attr({d:[]});this.state=a}},haloPath:function(a){var b=this.series,c=b.chart,d=b.getPlotBox(),e=c.inverted;return c.renderer.symbols.circle(d.translateX+(e?b.yAxis.len-this.plotY:this.plotX)-a,d.translateY+(e?b.xAxis.len-this.plotX:this.plotY)-a,a*2,a*2)}});q(O.prototype,{onMouseOver:function(){var a=this.chart,b=a.hoverSeries;if(b&amp;&amp;b!==this)b.onMouseOut();this.options.events.mouseOver&amp;&amp;D(this,&quot;mouseOver&quot;);this.setState(&quot;hover&quot;);a.hoverSeries=
this},onMouseOut:function(){var a=this.options,b=this.chart,c=b.tooltip,d=b.hoverPoint;if(d)d.onMouseOut();this&amp;&amp;a.events.mouseOut&amp;&amp;D(this,&quot;mouseOut&quot;);c&amp;&amp;!a.stickyTracking&amp;&amp;(!c.shared||this.noSharedTooltip)&amp;&amp;c.hide();this.setState();b.hoverSeries=null},setState:function(a){var b=this.options,c=this.graph,d=this.graphNeg,e=b.states,b=b.lineWidth,a=a||&quot;&quot;;if(this.state!==a)this.state=a,e[a]&amp;&amp;e[a].enabled===!1||(a&amp;&amp;(b=e[a].lineWidth||b+1),c&amp;&amp;!c.dashstyle&amp;&amp;(a={&quot;stroke-width&quot;:b},c.attr(a),d&amp;&amp;d.attr(a)))},
setVisible:function(a,b){var c=this,d=c.chart,e=c.legendItem,f,g=d.options.chart.ignoreHiddenSeries,h=c.visible;f=(c.visible=a=c.userOptions.visible=a===t?!h:a)?&quot;show&quot;:&quot;hide&quot;;p([&quot;group&quot;,&quot;dataLabelsGroup&quot;,&quot;markerGroup&quot;,&quot;tracker&quot;],function(a){if(c[a])c[a][f]()});if(d.hoverSeries===c)c.onMouseOut();e&amp;&amp;d.legend.colorizeItem(c,a);c.isDirty=!0;c.options.stacking&amp;&amp;p(d.series,function(a){if(a.options.stacking&amp;&amp;a.visible)a.isDirty=!0});p(c.linkedSeries,function(b){b.setVisible(a,!1)});if(g)d.isDirtyBox=!0;
b!==!1&amp;&amp;d.redraw();D(c,f)},setTooltipPoints:function(a){var b=[],c,d,e=this.xAxis,f=e&amp;&amp;e.getExtremes(),g=e?e.tooltipLen||e.len:this.chart.plotSizeX,h,i,j=[];if(!(this.options.enableMouseTracking===!1||this.singularTooltips)){if(a)this.tooltipPoints=null;p(this.segments||this.points,function(a){b=b.concat(a)});e&amp;&amp;e.reversed&amp;&amp;(b=b.reverse());this.orderTooltipPoints&amp;&amp;this.orderTooltipPoints(b);a=b.length;for(i=0;i&lt;a;i++)if(e=b[i],c=e.x,c&gt;=f.min&amp;&amp;c&lt;=f.max){h=b[i+1];c=d===t?0:d+1;for(d=b[i+1]?C(v(0,T((e.clientX+
(h?h.wrappedClientX||h.clientX:g))/2)),g):g;c&gt;=0&amp;&amp;c&lt;=d;)j[c++]=e}this.tooltipPoints=j}},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(a){this.selected=a=a===t?!this.selected:a;if(this.checkbox)this.checkbox.checked=a;D(this,a?&quot;select&quot;:&quot;unselect&quot;)},drawTracker:S.drawTrackerGraph});q(R,{Axis:la,Chart:Ya,Color:ya,Point:Ea,Tick:Sa,Renderer:Za,Series:O,SVGElement:P,SVGRenderer:ta,arrayMin:Na,arrayMax:Ba,charts:V,dateFormat:cb,format:Ia,pathAnim:ub,getOptions:function(){return E},
hasBidiBug:Nb,isTouchDevice:Jb,numberFormat:Ga,seriesTypes:F,setOptions:function(a){E=w(!0,E,a);Cb();return E},addEvent:K,removeEvent:W,createElement:Y,discardElement:Pa,css:G,each:p,extend:q,map:Ua,merge:w,pick:m,splat:qa,extendClass:ka,pInt:z,wrap:Ma,svg:aa,canvas:fa,vml:!aa&amp;&amp;!fa,product:&quot;Highcharts&quot;,version:&quot;4.0.1&quot;})})();
</pre>
</div>
<div title="Homeomorphism" modifier="Christopher Wilson" created="201402271909" modified="201404120544" tags="Topology" content-type="text/x-tiddlywiki" alias="homeomorphism homeomorphic" changecount="8">
<pre>!!Definition
Let $X$ and $Y$ be topological spaces; let $f:X\rightarrow Y$ be a bijection.  If both $f$ and $f^{-1}$ are [[continuous]], then $f$ is called a ''//homeomorphism//''. </pre>
</div>
<div title="Homotopy" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405061055" tags="[[Topology Paper]]" changecount="2" content-type="text/x-tiddlywiki">
<pre>In topology, two continuous functions from one topological space to another are considered //''homotopic''// if one can be &quot;continuously deformed&quot; into the other; such a deformation is called a homotopy between the two functions</pre>
</div>
<div title="Hypersurface" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405061210" modified="201405061211" tags="Topology" changecount="4" content-type="text/x-tiddlywiki">
<pre>!!Definition
In geometry, a ''//hypersurface//'' is a generalization of the concept of hyperplane. Suppose an enveloping manifold $\mathcal{M}$ has $n$ dimensions; then any submanifold of $\mathcal{M}$ of $n - 1$ dimensions is a hypersurface. Equivalently, the codimension of a hypersurface is one. For example, the $n$-sphere in $\mathbb{R}^{n+1}$ is called a hypersphere. Hypersurfaces occur frequently in multivariable calculus as level sets.</pre>
</div>
<div title="ImageSizePlugin" modifier="Christopher Wilson" created="201404092331" tags="excludeTimeline systemConfig" changecount="4">
<pre>/***
|Name|ImageSizePlugin|
|Source|http://www.TiddlyTools.com/#ImageSizePlugin|
|Version|1.2.3|
|Author|Eric Shulman|
|License|http://www.TiddlyTools.com/#LegalStatements|
|~CoreVersion|2.1|
|Type|plugin|
|Description|adds support for resizing images|
This plugin adds optional syntax to scale an image to a specified width and height and/or interactively resize the image with the mouse.
!!!!!Usage
&lt;&lt;&lt;
The extended image syntax is:
{{{
[img(w+,h+)[...][...]]
}}}
where ''(w,h)'' indicates the desired width and height (in CSS units, e.g., px, em, cm, in, or %). Use ''auto'' (or a blank value) for either dimension to scale that dimension proportionally (i.e., maintain the aspect ratio). You can also calculate a CSS value 'on-the-fly' by using a //javascript expression// enclosed between &quot;&quot;&quot;{{&quot;&quot;&quot; and &quot;&quot;&quot;}}&quot;&quot;&quot;. Appending a plus sign (+) to a dimension enables interactive resizing in that dimension (by dragging the mouse inside the image). Use ~SHIFT-click to show the full-sized (un-scaled) image. Use ~CTRL-click to restore the starting size (either scaled or full-sized).
&lt;&lt;&lt;
!!!!!Examples
&lt;&lt;&lt;
{{{
[img(100px+,75px+)[images/meow2.jpg]]
}}}
[img(100px+,75px+)[images/meow2.jpg]]
{{{
[&lt;img(34%+,+)[images/meow.gif]]
[&lt;img(21% ,+)[images/meow.gif]]
[&lt;img(13%+, )[images/meow.gif]]
[&lt;img( 8%+, )[images/meow.gif]]
[&lt;img( 5% , )[images/meow.gif]]
[&lt;img( 3% , )[images/meow.gif]]
[&lt;img( 2% , )[images/meow.gif]]
[img(  1%+,+)[images/meow.gif]]
}}}
[&lt;img(34%+,+)[images/meow.gif]]
[&lt;img(21% ,+)[images/meow.gif]]
[&lt;img(13%+, )[images/meow.gif]]
[&lt;img( 8%+, )[images/meow.gif]]
[&lt;img( 5% , )[images/meow.gif]]
[&lt;img( 3% , )[images/meow.gif]]
[&lt;img( 2% , )[images/meow.gif]]
[img(  1%+,+)[images/meow.gif]]
{{tagClear{
}}}
&lt;&lt;&lt;
!!!!!Revisions
&lt;&lt;&lt;
2011.09.03 [1.2.3] bypass addStretchHandlers() if no '+' suffix is used (i.e., not resizable)
2010.07.24 [1.2.2] moved tip/dragtip text to config.formatterHelpers.imageSize object to enable customization
2009.02.24 [1.2.1] cleanup width/height regexp, use '+' suffix for resizing
2009.02.22 [1.2.0] added stretchable images
2008.01.19 [1.1.0] added evaluated width/height values
2008.01.18 [1.0.1] regexp for &quot;(width,height)&quot; now passes all CSS values to browser for validation
2008.01.17 [1.0.0] initial release
&lt;&lt;&lt;
!!!!!Code
***/
//{{{
version.extensions.ImageSizePlugin= {major: 1, minor: 2, revision: 3, date: new Date(2011,9,3)};
//}}}
//{{{
var f=config.formatters[config.formatters.findByField(&quot;name&quot;,&quot;image&quot;)];
f.match=&quot;\\[[&lt;&gt;]?[Ii][Mm][Gg](?:\\([^,]*,[^\\)]*\\))?\\[&quot;;
f.lookaheadRegExp=/\[([&lt;]?)(&gt;?)[Ii][Mm][Gg](?:\(([^,]*),([^\)]*)\))?\[(?:([^\|\]]+)\|)?([^\[\]\|]+)\](?:\[([^\]]*)\])?\]/mg;
f.handler=function(w) {
	this.lookaheadRegExp.lastIndex = w.matchStart;
	var lookaheadMatch = this.lookaheadRegExp.exec(w.source)
	if(lookaheadMatch &amp;&amp; lookaheadMatch.index == w.matchStart) {
		var floatLeft=lookaheadMatch[1];
		var floatRight=lookaheadMatch[2];
		var width=lookaheadMatch[3];
		var height=lookaheadMatch[4];
		var tooltip=lookaheadMatch[5];
		var src=lookaheadMatch[6];
		var link=lookaheadMatch[7];

		// Simple bracketted link
		var e = w.output;
		if(link) { // LINKED IMAGE
			if (config.formatterHelpers.isExternalLink(link)) {
				if (config.macros.attach &amp;&amp; config.macros.attach.isAttachment(link)) {
					// see [[AttachFilePluginFormatters]]
					e = createExternalLink(w.output,link);
					e.href=config.macros.attach.getAttachment(link);
					e.title = config.macros.attach.linkTooltip + link;
				} else
					e = createExternalLink(w.output,link);
			} else 
				e = createTiddlyLink(w.output,link,false,null,w.isStatic);
			addClass(e,&quot;imageLink&quot;);
		}

		var img = createTiddlyElement(e,&quot;img&quot;);
		if(floatLeft) img.align=&quot;left&quot;; else if(floatRight) img.align=&quot;right&quot;;
		if(width||height) {
			var x=width.trim(); var y=height.trim();
			var stretchW=(x.substr(x.length-1,1)=='+'); if (stretchW) x=x.substr(0,x.length-1);
			var stretchH=(y.substr(y.length-1,1)=='+'); if (stretchH) y=y.substr(0,y.length-1);
			if (x.substr(0,2)==&quot;{{&quot;)
				{ try{x=eval(x.substr(2,x.length-4))} catch(e){displayMessage(e.description||e.toString())} }
			if (y.substr(0,2)==&quot;{{&quot;)
				{ try{y=eval(y.substr(2,y.length-4))} catch(e){displayMessage(e.description||e.toString())} }
			img.style.width=x.trim(); img.style.height=y.trim();
			if (stretchW||stretchH) config.formatterHelpers.addStretchHandlers(img,stretchW,stretchH);
		}
		if(tooltip) img.title = tooltip;

		// GET IMAGE SOURCE
		if (config.macros.attach &amp;&amp; config.macros.attach.isAttachment(src))
			src=config.macros.attach.getAttachment(src); // see [[AttachFilePluginFormatters]]
		else if (config.formatterHelpers.resolvePath) { // see [[ImagePathPlugin]]
			if (config.browser.isIE || config.browser.isSafari) {
				img.onerror=(function(){
					this.src=config.formatterHelpers.resolvePath(this.src,false);
					return false;
				});
			} else
				src=config.formatterHelpers.resolvePath(src,true);
		}
		img.src=src;
		w.nextMatch = this.lookaheadRegExp.lastIndex;
	}
}

config.formatterHelpers.imageSize={
	tip: 'SHIFT-CLICK=show full size, CTRL-CLICK=restore initial size',
	dragtip: 'DRAG=stretch/shrink, '
}

config.formatterHelpers.addStretchHandlers=function(e,stretchW,stretchH) {
	e.title=((stretchW||stretchH)?this.imageSize.dragtip:'')+this.imageSize.tip;
	e.statusMsg='width=%0, height=%1';
	e.style.cursor='move';
	e.originalW=e.style.width;
	e.originalH=e.style.height;
	e.minW=Math.max(e.offsetWidth/20,10);
	e.minH=Math.max(e.offsetHeight/20,10);
	e.stretchW=stretchW;
	e.stretchH=stretchH;
	e.onmousedown=function(ev) { var ev=ev||window.event;
		this.sizing=true;
		this.startX=!config.browser.isIE?ev.pageX:(ev.clientX+findScrollX());
		this.startY=!config.browser.isIE?ev.pageY:(ev.clientY+findScrollY());
		this.startW=this.offsetWidth;
		this.startH=this.offsetHeight;
		return false;
	};
	e.onmousemove=function(ev) { var ev=ev||window.event;
		if (this.sizing) {
			var s=this.style;
			var currX=!config.browser.isIE?ev.pageX:(ev.clientX+findScrollX());
			var currY=!config.browser.isIE?ev.pageY:(ev.clientY+findScrollY());
			var newW=(currX-this.offsetLeft)/(this.startX-this.offsetLeft)*this.startW;
			var newH=(currY-this.offsetTop )/(this.startY-this.offsetTop )*this.startH;
			if (this.stretchW) s.width =Math.floor(Math.max(newW,this.minW))+'px';
			if (this.stretchH) s.height=Math.floor(Math.max(newH,this.minH))+'px';
			clearMessage(); displayMessage(this.statusMsg.format([s.width,s.height]));
		}
		return false;
	};
	e.onmouseup=function(ev) { var ev=ev||window.event;
		if (ev.shiftKey) { this.style.width=this.style.height=''; }
		if (ev.ctrlKey)  { this.style.width=this.originalW; this.style.height=this.originalH; }
		this.sizing=false;
		clearMessage();
		return false;
	};
	e.onmouseout=function(ev) { var ev=ev||window.event;
		this.sizing=false;
		clearMessage();
		return false;
	};
}
//}}}</pre>
</div>
<div title="Imbedding" modifier="Christopher Wilson" created="201402271913" modified="201404082211" tags="Topology" content-type="" alias="" changecount="2">
<pre>!!Definition
Suppose $f:X\rightarrow Y $ is an injective [[continuous|Continuity]] map, where $X$ and $Y$ are topological spaces.  Let $Z\equiv f(X)$, which is considered a subset of $Y$; then the function $f':X\rightarrow Z$ obtained by restricting the range of $f$ is bijective.  

If $f'$ happens to be a [[homeomorphism]] of $X$ with $Z$, then we say that $f:X\rightarrow Z$ is a topological imbedding, or simply ''//imbedding//'', of $X$ in $Y$.</pre>
</div>
<div title="Indiscrete Topology" modifier="Christopher Wilson" created="201403312115" modified="201403312116" tags="[[Common Topologies]]">
<pre>See [[Trivial Topology]].</pre>
</div>
<div title="Inextensible Curve" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405060450" modified="201405060451" tags="[[Topology Paper]]" changecount="3" content-type="text/x-tiddlywiki">
<pre>An //inextensible curve// is a curve that does not have endpoints.  When referring to a timelike curve, this means that the curve has no start or end in time.</pre>
</div>
<div title="InlineJavascriptPlugin" modifier="Christopher Wilson" created="201404100421" tags="systemConfig excludeTimeline" content-type="" changecount="1">
<pre>/***
|Name|InlineJavascriptPlugin|
|Source|http://www.TiddlyTools.com/#InlineJavascriptPlugin|
|Documentation|http://www.TiddlyTools.com/#InlineJavascriptPluginInfo|
|Version|1.9.6|
|Author|Eric Shulman|
|License|http://www.TiddlyTools.com/#LegalStatements|
|~CoreVersion|2.1|
|Type|plugin|
|Description|Insert Javascript executable code directly into your tiddler content.|
''Call directly into TW core utility routines, define new functions, calculate values, add dynamically-generated TiddlyWiki-formatted output'' into tiddler content, or perform any other programmatic actions each time the tiddler is rendered.
!!!!!Documentation
&gt;see [[InlineJavascriptPluginInfo]]
!!!!!Revisions
&lt;&lt;&lt;
2010.12.15 1.9.6 allow (but ignore) type=&quot;...&quot; syntax
|please see [[InlineJavascriptPluginInfo]] for additional revision details|
2005.11.08 1.0.0 initial release
&lt;&lt;&lt;
!!!!!Code
***/
//{{{
version.extensions.InlineJavascriptPlugin= {major: 1, minor: 9, revision: 6, date: new Date(2010,12,15)};

config.formatters.push( {
	name: &quot;inlineJavascript&quot;,
	match: &quot;\\&lt;script&quot;,
	lookahead: &quot;\\&lt;script(?: type=\\\&quot;[^\\\&quot;]*\\\&quot;)?(?: src=\\\&quot;([^\\\&quot;]*)\\\&quot;)?(?: label=\\\&quot;([^\\\&quot;]*)\\\&quot;)?(?: title=\\\&quot;([^\\\&quot;]*)\\\&quot;)?(?: key=\\\&quot;([^\\\&quot;]*)\\\&quot;)?( show)?\\&gt;((?:.|\\n)*?)\\&lt;/script\\&gt;&quot;,
	handler: function(w) {
		var lookaheadRegExp = new RegExp(this.lookahead,&quot;mg&quot;);
		lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = lookaheadRegExp.exec(w.source)
		if(lookaheadMatch &amp;&amp; lookaheadMatch.index == w.matchStart) {
			var src=lookaheadMatch[1];
			var label=lookaheadMatch[2];
			var tip=lookaheadMatch[3];
			var key=lookaheadMatch[4];
			var show=lookaheadMatch[5];
			var code=lookaheadMatch[6];
			if (src) { // external script library
				var script = document.createElement(&quot;script&quot;); script.src = src;
				document.body.appendChild(script); document.body.removeChild(script);
			}
			if (code) { // inline code
				if (show) // display source in tiddler
					wikify(&quot;{{{\n&quot;+lookaheadMatch[0]+&quot;\n}}}\n&quot;,w.output);
				if (label) { // create 'onclick' command link
					var link=createTiddlyElement(w.output,&quot;a&quot;,null,&quot;tiddlyLinkExisting&quot;,wikifyPlainText(label));
					var fixup=code.replace(/document.write\s*\(/gi,'place.bufferedHTML+=(');
					link.code=&quot;function _out(place,tiddler){&quot;+fixup+&quot;\n};_out(this,this.tiddler);&quot;
					link.tiddler=w.tiddler;
					link.onclick=function(){
						this.bufferedHTML=&quot;&quot;;
						try{ var r=eval(this.code);
							if(this.bufferedHTML.length || (typeof(r)===&quot;string&quot;)&amp;&amp;r.length)
								var s=this.parentNode.insertBefore(document.createElement(&quot;span&quot;),this.nextSibling);
							if(this.bufferedHTML.length)
								s.innerHTML=this.bufferedHTML;
							if((typeof(r)===&quot;string&quot;)&amp;&amp;r.length) {
								wikify(r,s,null,this.tiddler);
								return false;
							} else return r!==undefined?r:false;
						} catch(e){alert(e.description||e.toString());return false;}
					};
					link.setAttribute(&quot;title&quot;,tip||&quot;&quot;);
					var URIcode='javascript:void(eval(decodeURIComponent(%22(function(){try{';
					URIcode+=encodeURIComponent(encodeURIComponent(code.replace(/\n/g,' ')));
					URIcode+='}catch(e){alert(e.description||e.toString())}})()%22)))';
					link.setAttribute(&quot;href&quot;,URIcode);
					link.style.cursor=&quot;pointer&quot;;
					if (key) link.accessKey=key.substr(0,1); // single character only
				}
				else { // run script immediately
					var fixup=code.replace(/document.write\s*\(/gi,'place.innerHTML+=(');
					var c=&quot;function _out(place,tiddler){&quot;+fixup+&quot;\n};_out(w.output,w.tiddler);&quot;;
					try	 { var out=eval(c); }
					catch(e) { out=e.description?e.description:e.toString(); }
					if (out &amp;&amp; out.length) wikify(out,w.output,w.highlightRegExp,w.tiddler);
				}
			}
			w.nextMatch = lookaheadMatch.index + lookaheadMatch[0].length;
		}
	}
} )
//}}}

// Backward-compatibility for TW2.1.x and earlier
//{{{
if (typeof(wikifyPlainText)==&quot;undefined&quot;) window.wikifyPlainText=function(text,limit,tiddler) {
	if(limit &gt; 0) text = text.substr(0,limit);
	var wikifier = new Wikifier(text,formatter,null,tiddler);
	return wikifier.wikifyPlain();
}
//}}}

// GLOBAL FUNCTION: $(...) -- 'shorthand' convenience syntax for document.getElementById()
//{{{
if (typeof($)=='undefined') { function $(id) { return document.getElementById(id.replace(/^#/,'')); } }
//}}}</pre>
</div>
<div title="InlineJavascriptPluginInfo" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405170155" tags="plugininfo excludeTimeline" content-type="" changecount="2">
<pre>/***
|Name|InlineJavascriptPluginInfo|
|Source|http://www.TiddlyTools.com/#InlineJavascriptPlugin|
|Documentation|http://www.TiddlyTools.com/#InlineJavascriptPluginInfo|
|Version|1.9.6|
|Author|Eric Shulman|
|License|http://www.TiddlyTools.com/#LegalStatements|
|~CoreVersion|2.1|
|Type|documentation|
|Description|Documentation for InlineJavascriptPlugin|
''Call directly into TW core utility routines, define new functions, calculate values, add dynamically-generated TiddlyWiki-formatted output'' into tiddler content, or perform any other programmatic actions each time the tiddler is rendered.
!!!!!Usage
&lt;&lt;&lt;
This plugin adds wiki syntax for surrounding tiddler content with {{{&lt;script&gt;}}} and {{{&lt;/script&gt;}}} markers, so that it can be recognized as embedded javascript code.  When a tiddler is rendered, the plugin automatically invokes any embedded scripts, which can be used to construct and return dynamically-generated output that is inserted into the tiddler content.
{{{
&lt;script type=&quot;...&quot; src=&quot;...&quot; label=&quot;...&quot; title=&quot;...&quot; key=&quot;...&quot; show&gt;
	/* javascript code goes here... */
&lt;/script&gt;
}}}
All parameters are //optional//.    When the ''show'' keyword is used, the plugin will also include the script source code in the output that it displays in the tiddler.  This is helpful when creating examples for documentation purposes (such as used in this tiddler!)

__''Deferred execution from an 'onClick' link''__
&lt;script label=&quot;click here&quot; title=&quot;mouseover tooltip text&quot; key=&quot;X&quot; show&gt;
	/* javascript code goes here... */
	alert('you clicked on the link!');
&lt;/script&gt;
By including a {{{label=&quot;...&quot;}}} parameter in the initial {{{&lt;script&gt;}}} marker, the plugin will create a link to an 'onclick' script that will only be executed when that specific link is clicked, rather than running the script each time the tiddler is rendered.  You may also include a {{{title=&quot;...&quot;}}} parameter to specify the 'tooltip' text that will appear whenever the mouse is moved over the onClick link text, and a {{{key=&quot;X&quot;}}} parameter to specify an //access key// (which must be a //single// letter or numeric digit only).

__''Loading scripts from external source files''__
&lt;script src=&quot;URL&quot; show&gt;
	/* optional javascript code goes here... */
&lt;/script&gt;You can also load javascript directly from an external source URL, by including a src=&quot;...&quot; parameter in the initial {{{&lt;script&gt;}}} marker (e.g., {{{&lt;script src=&quot;demo.js&quot;&gt;&lt;/script&gt;}}}).  This is particularly useful when incorporating third-party javascript libraries for use in custom extensions and plugins.  The 'foreign' javascript code remains isolated in a separate file that can be easily replaced whenever an updated library file becomes available.

In addition to loading the javascript from the external file, you can also use this feature to invoke javascript code contained within the {{{&lt;script&gt;...&lt;/script&gt;}}} markers.  This code is invoked //after// the external script file has been processed, and can make immediate use of the functions and/or global variables defined by the external script file.
&gt;Note: To ensure that your javascript functions are always available when needed, you should load the libraries from a tiddler that is rendered as soon as your TiddlyWiki document is opened, such as MainMenu.  For example: put your {{{&lt;script src=&quot;...&quot;&gt;&lt;/script&gt;}}} syntax into a separate 'library' tiddler (e.g., LoadScripts), and then add {{{&lt;&lt;tiddler LoadScripts&gt;&gt;}}} to MainMenu so that the library is loaded before any other tiddlers that rely upon the functions it defines. 
&gt;
&gt;Normally, loading external javascript in this way does not produce any direct output, and should not have any impact on the appearance of your MainMenu.  However, if your LoadScripts tiddler contains notes or other visible content, you can suppress this output by using 'inline CSS' in the MainMenu, like this: {{{@@display:none;&lt;&lt;tiddler LoadScripts&gt;&gt;@@}}}
&lt;&lt;&lt;
!!!!!Creating dynamic tiddler content and accessing the ~TiddlyWiki DOM
&lt;&lt;&lt;
An important difference between TiddlyWiki inline scripting and conventional embedded javascript techniques for web pages is the method used to produce output that is dynamically inserted into the document: in a typical web document, you use the {{{document.write()}}} (or {{{document.writeln()}}}) function to output text sequences (often containing HTML tags) that are then rendered when the entire document is first loaded into the browser window.

However, in a ~TiddlyWiki document, tiddlers (and other DOM elements) are created, deleted, and rendered &quot;on-the-fly&quot;, so writing directly to the global 'document' object does not produce the results you want (i.e., replacing the embedded script within the tiddler content), and instead will //completely replace the entire ~TiddlyWiki document in your browser window (which is clearly not a good thing!)//.  In order to allow scripts to use {{{document.write()}}}, the plugin automatically converts and buffers all HTML output so it can be safely inserted into your tiddler content, immediately following the script.

''Note that {{{document.write()}}} can only be used to output &quot;pure HTML&quot; syntax.  To produce //wiki-formatted// output, your script should instead return a text value containing the desired wiki-syntax content'', which will then be automatically rendered immediately following the script.  If returning a text value is not sufficient for your needs, the plugin also provides an automatically-defined variable, 'place', that gives the script code ''direct access to the //containing DOM element//'' into which the tiddler output is being rendered.  You can use this variable to ''perform direct DOM manipulations'' that can, for example:
* generate wiki-formatted output using {{{wikify(&quot;...content...&quot;,place)}}}
* vary the script's actions based upon the DOM element in which it is embedded
* access 'tiddler-relative' DOM information using {{{story.findContainingTiddler(place)}}}
Note:
''When using an 'onclick' script, the 'place' element actually refers to the onclick //link text// itself, instead of the containing DOM element.''  This permits you to directly reference or modify the link text to reflect any 'stateful' conditions that might set by the script.  To refer to the containing DOM element from within an 'onclick' script, you can use &quot;place.parentNode&quot; instead.
&lt;&lt;&lt;
!!!!!Instant &quot;bookmarklets&quot;
&lt;&lt;&lt;
You can also use an 'onclick' link to define a &quot;bookmarklet&quot;: a small piece of javascript that can be ''invoked directly from the browser without having to be defined within the current document.''  This allows you to create 'stand-alone' commands that can be applied to virtually ANY TiddlyWiki document... even remotely-hosted documents that have been written by others!!  To create a bookmarklet, simply define an 'onclick' script and then grab the resulting link text and drag-and-drop it onto your browser's toolbar (or right-click and use the 'bookmark this link' command to add it to the browser's menu).

Notes:
*When writing scripts intended for use as bookmarklets, due to the ~URI-encoding required by the browser, ''you cannot not use ANY double-quotes (&quot;) within the bookmarklet script code.''
*All comments embedded in the bookmarklet script must ''use the fully-delimited {{{/* ... */}}} comment syntax,'' rather than the shorter {{{//}}} comment syntax.
*Most importantly, because bookmarklets are invoked directly from the browser interface and are not embedded within the TiddlyWiki document, there is NO containing 'place' DOM element surrounding the script.  As a result, ''you cannot use a bookmarklet to generate dynamic output in your document,''  and using {{{document.write()}}} or returning wiki-syntax text or making reference to the 'place' DOM element will halt the script and report a &quot;Reference Error&quot; when that bookmarklet is invoked.  
Please see [[InstantBookmarklets]] for many examples of 'onclick' scripts that can also be used as bookmarklets.
&lt;&lt;&lt;
!!!!!Special reserved function name
&lt;&lt;&lt;
The plugin 'wraps' all inline javascript code inside a function, {{{_out()}}}, so that any return value you provide can be correctly handled by the plugin and inserted into the tiddler.  To avoid unpredictable results (and possibly fatal execution errors), this function should never be redefined or called from ''within'' your script code.
&lt;&lt;&lt;
!!!!!$(...) 'shorthand' function
&lt;&lt;&lt;
As described by Dustin Diaz [[here|http://www.dustindiaz.com/top-ten-javascript/]], the plugin defines a 'shorthand' function that allows you to write:
{{{
$(id)
}}}
in place of the normal standard javascript syntax:
{{{
document.getElementById(id)
}}}
This function is provided merely as a convenience for javascript coders that may be familiar with this abbreviation, in order to allow them to save a few bytes when writing their own inline script code.
&lt;&lt;&lt;
!!!!!Examples
&lt;&lt;&lt;
simple dynamic output:
&gt;&lt;script show&gt;
	document.write(&quot;The current date/time is: &quot;+(new Date())+&quot;&lt;br&gt;&quot;);
	return &quot;link to current user: [[&quot;+config.options.txtUserName+&quot;]]\n&quot;;
&lt;/script&gt;
dynamic output using 'place' to get size information for current tiddler:
&gt;&lt;script show&gt;
	if (!window.story) window.story=window;
	var title=story.findContainingTiddler(place).getAttribute(&quot;tiddler&quot;);
	var size=store.getTiddlerText(title).length;
	return title+&quot; is using &quot;+size+&quot; bytes&quot;;
&lt;/script&gt;
dynamic output from an 'onclick' script, using {{{document.write()}}} and/or {{{return &quot;...&quot;}}}
&gt;&lt;script label=&quot;click here&quot; show&gt;
	document.write(&quot;&lt;br&gt;The current date/time is: &quot;+(new Date())+&quot;&lt;br&gt;&quot;);
	return &quot;link to current user: [[&quot;+config.options.txtUserName+&quot;]]\n&quot;;
&lt;/script&gt;
creating an 'onclick' button/link that accesses the link text AND the containing tiddler:
&gt;&lt;script label=&quot;click here&quot; title=&quot;clicking this link will show an 'alert' box&quot; key=&quot;H&quot; show&gt;
	if (!window.story) window.story=window;
	var txt=place.firstChild.data;
	var tid=story.findContainingTiddler(place).getAttribute('tiddler');
	alert('Hello World!\nlinktext='+txt+'\ntiddler='+tid);
&lt;/script&gt;
dynamically setting onclick link text based on stateful information:
&gt;{{block{
{{{
&lt;script label=&quot;click here&quot;&gt;
	/* toggle &quot;txtSomething&quot; value */
	var on=(config.txtSomething==&quot;ON&quot;);
	place.innerHTML=on?&quot;enable&quot;:&quot;disable&quot;;
	config.txtSomething=on?&quot;OFF&quot;:&quot;ON&quot;;
	return &quot;\nThe current value is: &quot;+config.txtSomething;
&lt;/script&gt;&lt;script&gt;
	/* initialize onclick link text based on current &quot;txtSomething&quot; value */
	var on=(config.txtSomething==&quot;ON&quot;);
	place.lastChild.previousSibling.innerHTML=on?&quot;disable&quot;:&quot;enable&quot;;
&lt;/script&gt;
}}}
&lt;script label=&quot;click here&quot;&gt;
	/* toggle &quot;txtSomething&quot; value */
	var on=(config.txtSomething==&quot;ON&quot;);
	place.innerHTML=on?&quot;enable&quot;:&quot;disable&quot;;
	config.txtSomething=on?&quot;OFF&quot;:&quot;ON&quot;;
	return &quot;\nThe current value is: &quot;+config.txtSomething;
&lt;/script&gt;&lt;script&gt;
	/* initialize onclick link text based on current &quot;txtSomething&quot; value */
	var on=(config.txtSomething==&quot;ON&quot;);
	place.lastChild.innerHTML=on?&quot;enable&quot;:&quot;disable&quot;;
&lt;/script&gt;
}}}
loading a script from a source url:
&gt;http://www.TiddlyTools.com/demo.js contains:
&gt;&gt;{{{function inlineJavascriptDemo() { alert('Hello from demo.js!!') } }}}
&gt;&gt;{{{displayMessage('InlineJavascriptPlugin: demo.js has been loaded');}}}
&gt;note: When using this example on your local system, you will need to download the external script file from the above URL and install it into the same directory as your document.
&gt;
&gt;&lt;script src=&quot;demo.js&quot; show&gt;
	return &quot;inlineJavascriptDemo() function has been defined&quot;
&lt;/script&gt;
&gt;&lt;script label=&quot;click to invoke inlineJavascriptDemo()&quot; key=&quot;D&quot; show&gt;
	inlineJavascriptDemo();
&lt;/script&gt;
&lt;&lt;&lt;
!!!!!Revisions
&lt;&lt;&lt;
2010.12.15 1.9.6 allow (but ignore) type=&quot;...&quot; syntax
2009.04.11 1.9.5 pass current tiddler object into wrapper code so it can be referenced from within 'onclick' scripts
2009.02.26 1.9.4 in $(), handle leading '#' on ID for compatibility with JQuery syntax
2008.06.11 1.9.3 added $(...) function as 'shorthand' for document.getElementById()
2008.03.03 1.9.2 corrected fallback declaration of wikifyPlainText() (fixes Safari &quot;parse error&quot;)
2008.02.23 1.9.1 in onclick function, use string instead of array for 'bufferedHTML' (fixes IE errors)
2008.02.21 1.9.0 output from 'onclick' scripts (return value or document.write() calls) are now buffered and rendered into into a span following the script.  Also, added default 'return false' handling if no return value provided (prevents HREF from being triggered -- return TRUE to allow HREF to be processed).  Thanks to Xavier Verges for suggestion and preliminary code.
2008.02.14 1.8.1 added backward-compatibility for use of wikifyPlainText() in TW2.1.3 and earlier
2008.01.08 [*.*.*] plugin size reduction: documentation moved to ...Info tiddler
2007.12.28 1.8.0 added support for key=&quot;X&quot; syntax to specify custom access key definitions
2007.12.15 1.7.0 autogenerate URI encoded HREF on links for onclick scripts.  Drag links to browser toolbar to create bookmarklets.  IMPORTANT NOTE: place is NOT defined when scripts are used as bookmarklets.  In addition, double-quotes will cause syntax errors.  Thanks to PaulReiber for debugging and brainstorming.
2007.11.26 1.6.2 when converting &quot;document.write()&quot; function calls in inline code, allow whitespace between &quot;write&quot; and &quot;(&quot; so that &quot;document.write ( foobar )&quot; is properly converted.
2007.11.16 1.6.1 when rendering &quot;onclick scripts&quot;, pass label text through wikifyPlainText() to parse any embedded wiki-syntax to enable use of HTML entities or even TW macros to generate dynamic label text.
2007.02.19 1.6.0 added support for title=&quot;...&quot; to specify mouseover tooltip when using an onclick (label=&quot;...&quot;) script
2006.10.16 1.5.2 add newline before closing '}' in 'function out_' wrapper.  Fixes error caused when last line of script is a comment.
2006.06.01 1.5.1 when calling wikify() on script return value, pass hightlightRegExp and tiddler params so macros that rely on these values can render properly
2006.04.19 1.5.0 added 'show' parameter to force display of javascript source code in tiddler output
2006.01.05 1.4.0 added support 'onclick' scripts.  When label=&quot;...&quot; param is present, a button/link is created using the indicated label text, and the script is only executed when the button/link is clicked.  'place' value is set to match the clicked button/link element.
2005.12.13 1.3.1 when catching eval error in IE, e.description contains the error text, instead of e.toString().  Fixed error reporting so IE shows the correct response text.  Based on a suggestion by UdoBorkowski
2005.11.09 1.3.0 for 'inline' scripts (i.e., not scripts loaded with src=&quot;...&quot;), automatically replace calls to 'document.write()' with 'place.innerHTML+=' so script output is directed into tiddler content.  Based on a suggestion by BradleyMeck
2005.11.08 1.2.0 handle loading of javascript from an external URL via src=&quot;...&quot; syntax
2005.11.08 1.1.0 pass 'place' param into scripts to provide direct DOM access 
2005.11.08 1.0.0 initial release
&lt;&lt;&lt;</pre>
</div>
<div title="IntelliTaggerPlugin" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404132309" modified="201404140023" tags="systemConfig systemConfigDisable excludeTimeline" changecount="9" content-type="">
<pre>/***
|''Name:''|IntelliTaggerPlugin|
|''Version:''|1.0.2 (2007-07-25)|
|''Type:''|plugin|
|''Source:''|http://tiddlywiki.abego-software.de/#IntelliTaggerPlugin|
|''Author:''|Udo Borkowski (ub [at] abego-software [dot] de)|
|''Documentation:''|[[IntelliTaggerPlugin Documentation]]|
|''~SourceCode:''|[[IntelliTaggerPlugin SourceCode]]|
|''Licence:''|[[BSD open source license (abego Software)]]|
|''~CoreVersion:''|2.0.8|
|''Browser:''|Firefox 1.5.0.2 or better|
***/
/***
!Version History
* 1.0.2 (2007-07-25): 
** Feature: &quot;Return&quot; key may be used to accept first tag suggestion (beside &quot;Alt-1&quot;)
** Bugfix: Keyboard shortcuts (Alt+3 etc.) shifted
* 1.0.1 (2007-05-18): 
** Improvement: Speedup when using TiddlyWikis with many tags
* 1.0.0 (2006-04-26): 
** Initial release
!Source Code
***/
// /%
if(!version.extensions.IntelliTaggerPlugin){if(!window.abego){window.abego={};}if(!abego.internal){abego.internal={};}abego.alertAndThrow=function(s){alert(s);throw s;};if(version.major&lt;2){abego.alertAndThrow(&quot;Use TiddlyWiki 2.0.8 or better to run the IntelliTagger Plugin.&quot;);}version.extensions.IntelliTaggerPlugin={major:1,minor:0,revision:2,date:new Date(2007,6,25),type:&quot;plugin&quot;,source:&quot;http://tiddlywiki.abego-software.de/#IntelliTaggerPlugin&quot;,documentation:&quot;[[IntelliTaggerPlugin Documentation]]&quot;,sourcecode:&quot;[[IntelliTaggerPlugin SourceCode]]&quot;,author:&quot;Udo Borkowski (ub [at] abego-software [dot] de)&quot;,licence:&quot;[[BSD open source license (abego Software)]]&quot;,tiddlywiki:&quot;Version 2.0.8 or better&quot;,browser:&quot;Firefox 1.5.0.2 or better&quot;};abego.createEllipsis=function(_2){var e=createTiddlyElement(_2,&quot;span&quot;);e.innerHTML=&quot;&amp;hellip;&quot;;};abego.isPopupOpen=function(_4){return _4&amp;&amp;_4.parentNode==document.body;};abego.openAsPopup=function(_5){if(_5.parentNode!=document.body){document.body.appendChild(_5);}};abego.closePopup=function(_6){if(abego.isPopupOpen(_6)){document.body.removeChild(_6);}};abego.getWindowRect=function(){return {left:findScrollX(),top:findScrollY(),height:findWindowHeight(),width:findWindowWidth()};};abego.moveElement=function(_7,_8,_9){_7.style.left=_8+&quot;px&quot;;_7.style.top=_9+&quot;px&quot;;};abego.centerOnWindow=function(_a){if(_a.style.position!=&quot;absolute&quot;){throw &quot;abego.centerOnWindow: element must have absolute position&quot;;}var _b=abego.getWindowRect();abego.moveElement(_a,_b.left+(_b.width-_a.offsetWidth)/2,_b.top+(_b.height-_a.offsetHeight)/2);};abego.isDescendantOrSelf=function(_c,e){while(e){if(_c==e){return true;}e=e.parentNode;}return false;};abego.toSet=function(_e){var _f={};for(var i=0;i&lt;_e.length;i++){_f[_e[i]]=true;}return _f;};abego.filterStrings=function(_11,_12,_13){var _14=[];for(var i=0;i&lt;_11.length&amp;&amp;(_13===undefined||_14.length&lt;_13);i++){var s=_11[i];if(s.match(_12)){_14.push(s);}}return _14;};abego.arraysAreEqual=function(a,b){if(!a){return !b;}if(!b){return false;}var n=a.length;if(n!=b.length){return false;}for(var i=0;i&lt;n;i++){if(a[i]!=b[i]){return false;}}return true;};abego.moveBelowAndClip=function(_1b,_1c){if(!_1c){return;}var _1d=findPosX(_1c);var _1e=findPosY(_1c);var _1f=_1c.offsetHeight;var _20=_1d;var _21=_1e+_1f;var _22=findWindowWidth();if(_22&lt;_1b.offsetWidth){_1b.style.width=(_22-100)+&quot;px&quot;;}var _23=_1b.offsetWidth;if(_20+_23&gt;_22){_20=_22-_23-30;}if(_20&lt;0){_20=0;}_1b.style.left=_20+&quot;px&quot;;_1b.style.top=_21+&quot;px&quot;;_1b.style.display=&quot;block&quot;;};abego.compareStrings=function(a,b){return (a==b)?0:(a&lt;b)?-1:1;};abego.sortIgnoreCase=function(arr){var _27=[];var n=arr.length;for(var i=0;i&lt;n;i++){var s=arr[i];_27.push([s.toString().toLowerCase(),s]);}_27.sort(function(a,b){return (a[0]==b[0])?0:(a[0]&lt;b[0])?-1:1;});for(i=0;i&lt;n;i++){arr[i]=_27[i][1];}};abego.getTiddlerField=function(_2d,_2e,_2f){var _30=document.getElementById(_2d.idPrefix+_2e);var e=null;if(_30!=null){var _32=_30.getElementsByTagName(&quot;*&quot;);for(var t=0;t&lt;_32.length;t++){var c=_32[t];if(c.tagName.toLowerCase()==&quot;input&quot;||c.tagName.toLowerCase()==&quot;textarea&quot;){if(!e){e=c;}if(c.getAttribute(&quot;edit&quot;)==_2f){e=c;}}}}return e;};abego.setRange=function(_35,_36,end){if(_35.setSelectionRange){_35.setSelectionRange(_36,end);var max=0+_35.scrollHeight;var len=_35.textLength;var top=max*_36/len,bot=max*end/len;_35.scrollTop=Math.min(top,(bot+top-_35.clientHeight)/2);}else{if(_35.createTextRange!=undefined){var _3b=_35.createTextRange();_3b.collapse();_3b.moveEnd(&quot;character&quot;,end);_3b.moveStart(&quot;character&quot;,_36);_3b.select();}else{_35.select();}}};abego.internal.TagManager=function(){var _3c=null;var _3d=function(){if(_3c){return;}_3c={};store.forEachTiddler(function(_3e,_3f){for(var i=0;i&lt;_3f.tags.length;i++){var tag=_3f.tags[i];var _42=_3c[tag];if(!_42){_42=_3c[tag]={count:0,tiddlers:{}};}_42.tiddlers[_3f.title]=true;_42.count+=1;}});};var _43=TiddlyWiki.prototype.saveTiddler;TiddlyWiki.prototype.saveTiddler=function(_44,_45,_46,_47,_48,_49){var _4a=this.fetchTiddler(_44);var _4b=_4a?_4a.tags:[];var _4c=(typeof _49==&quot;string&quot;)?_49.readBracketedList():_49;_43.apply(this,arguments);if(!abego.arraysAreEqual(_4b,_4c)){abego.internal.getTagManager().reset();}};var _4d=TiddlyWiki.prototype.removeTiddler;TiddlyWiki.prototype.removeTiddler=function(_4e){var _4f=this.fetchTiddler(_4e);var _50=_4f&amp;&amp;_4f.tags.length&gt;0;_4d.apply(this,arguments);if(_50){abego.internal.getTagManager().reset();}};this.reset=function(){_3c=null;};this.getTiddlersWithTag=function(tag){_3d();var _52=_3c[tag];return _52?_52.tiddlers:null;};this.getAllTags=function(_53){_3d();var _54=[];for(var i in _3c){_54.push(i);}for(i=0;_53&amp;&amp;i&lt;_53.length;i++){_54.pushUnique(_53[i],true);}abego.sortIgnoreCase(_54);return _54;};this.getTagInfos=function(){_3d();var _56=[];for(var _57 in _3c){_56.push([_57,_3c[_57]]);}return _56;};var _58=function(a,b){var a1=a[1];var b1=b[1];var d=b[1].count-a[1].count;return d!=0?d:abego.compareStrings(a[0].toLowerCase(),b[0].toLowerCase());};this.getSortedTagInfos=function(){_3d();var _5e=this.getTagInfos();_5e.sort(_58);return _5e;};this.getPartnerRankedTags=function(_5f){var _60={};for(var i=0;i&lt;_5f.length;i++){var _62=this.getTiddlersWithTag(_5f[i]);for(var _63 in _62){var _64=store.getTiddler(_63);if(!(_64 instanceof Tiddler)){continue;}for(var j=0;j&lt;_64.tags.length;j++){var tag=_64.tags[j];var c=_60[tag];_60[tag]=c?c+1:1;}}}var _68=abego.toSet(_5f);var _69=[];for(var n in _60){if(!_68[n]){_69.push(n);}}_69.sort(function(a,b){var d=_60[b]-_60[a];return d!=0?d:abego.compareStrings(a.toLowerCase(),b.toLowerCase());});return _69;};};abego.internal.getTagManager=function(){if(!abego.internal.gTagManager){abego.internal.gTagManager=new abego.internal.TagManager();}return abego.internal.gTagManager;};(function(){var _6e=2;var _6f=1;var _70=30;var _71;var _72;var _73;var _74;var _75;var _76;if(!abego.IntelliTagger){abego.IntelliTagger={};}var _77=function(){return _72;};var _78=function(tag){return _75[tag];};var _7a=function(s){var i=s.lastIndexOf(&quot; &quot;);return (i&gt;=0)?s.substr(0,i):&quot;&quot;;};var _7d=function(_7e){var s=_7e.value;var len=s.length;return (len&gt;0&amp;&amp;s[len-1]!=&quot; &quot;);};var _81=function(_82){var s=_82.value;var len=s.length;if(len&gt;0&amp;&amp;s[len-1]!=&quot; &quot;){_82.value+=&quot; &quot;;}};var _85=function(tag,_87,_88){if(_7d(_87)){_87.value=_7a(_87.value);}story.setTiddlerTag(_88.title,tag,0);_81(_87);abego.IntelliTagger.assistTagging(_87,_88);};var _89=function(n){if(_76&amp;&amp;_76.length&gt;n){return _76[n];}return (_74&amp;&amp;_74.length&gt;n)?_74[n]:null;};var _8b=function(n,_8d,_8e){var _8f=_89(n);if(_8f){_85(_8f,_8d,_8e);}};var _90=function(_91){var pos=_91.value.lastIndexOf(&quot; &quot;);var _93=(pos&gt;=0)?_91.value.substr(++pos,_91.value.length):_91.value;return new RegExp(_93.escapeRegExp(),&quot;i&quot;);};var _94=function(_95,_96){var _97=0;for(var i=0;i&lt;_95.length;i++){if(_96[_95[i]]){_97++;}}return _97;};var _99=function(_9a,_9b,_9c){var _9d=1;var c=_9a[_9b];for(var i=_9b+1;i&lt;_9a.length;i++){if(_9a[i][1].count==c){if(_9a[i][0].match(_9c)){_9d++;}}else{break;}}return _9d;};var _a0=function(_a1,_a2){var _a3=abego.internal.getTagManager().getSortedTagInfos();var _a4=[];var _a5=0;for(var i=0;i&lt;_a3.length;i++){var c=_a3[i][1].count;if(c!=_a5){if(_a2&amp;&amp;(_a4.length+_99(_a3,i,_a1)&gt;_a2)){break;}_a5=c;}if(c==1){break;}var s=_a3[i][0];if(s.match(_a1)){_a4.push(s);}}return _a4;};var _a9=function(_aa,_ab){return abego.filterStrings(abego.internal.getTagManager().getAllTags(_ab),_aa);};var _ac=function(){if(!_71){return;}var _ad=store.getTiddlerText(&quot;IntelliTaggerMainTemplate&quot;);if(!_ad){_ad=&quot;&lt;b&gt;Tiddler IntelliTaggerMainTemplate not found&lt;/b&gt;&quot;;}_71.innerHTML=_ad;applyHtmlMacros(_71,null);refreshElements(_71,null);};var _ae=function(e){if(!e){var e=window.event;}var tag=this.getAttribute(&quot;tag&quot;);if(_73){_73.call(this,tag,e);}return false;};var _b2=function(_b3){createTiddlyElement(_b3,&quot;span&quot;,null,&quot;tagSeparator&quot;,&quot; | &quot;);};var _b4=function(_b5,_b6,_b7,_b8,_b9){if(!_b6){return;}var _ba=_b8?abego.toSet(_b8):{};var n=_b6.length;var c=0;for(var i=0;i&lt;n;i++){var tag=_b6[i];if(_ba[tag]){continue;}if(c&gt;0){_b2(_b5);}if(_b9&amp;&amp;c&gt;=_b9){abego.createEllipsis(_b5);break;}c++;var _bf=&quot;&quot;;var _c0=_b5;if(_b7&lt;10){_c0=createTiddlyElement(_b5,&quot;span&quot;,null,&quot;numberedSuggestion&quot;);_b7++;var key=_b7&lt;10?&quot;&quot;+(_b7):&quot;0&quot;;createTiddlyElement(_c0,&quot;span&quot;,null,&quot;suggestionNumber&quot;,key+&quot;) &quot;);var _c2=_b7==1?&quot;Return or &quot;:&quot;&quot;;_bf=&quot; (Shortcut: %1Alt-%0)&quot;.format([key,_c2]);}var _c3=config.views.wikified.tag.tooltip.format([tag]);var _c4=(_78(tag)?&quot;Remove tag '%0'%1&quot;:&quot;Add tag '%0'%1&quot;).format([tag,_bf]);var _c5=&quot;%0; Shift-Click: %1&quot;.format([_c4,_c3]);var btn=createTiddlyButton(_c0,tag,_c5,_ae,_78(tag)?&quot;currentTag&quot;:null);btn.setAttribute(&quot;tag&quot;,tag);}};var _c7=function(){if(_71){window.scrollTo(0,ensureVisible(_71));}if(_77()){window.scrollTo(0,ensureVisible(_77()));}};var _c8=function(e){if(!e){var e=window.event;}if(!_71){return;}var _cb=resolveTarget(e);if(_cb==_77()){return;}if(abego.isDescendantOrSelf(_71,_cb)){return;}abego.IntelliTagger.close();};addEvent(document,&quot;click&quot;,_c8);var _cc=Story.prototype.gatherSaveFields;Story.prototype.gatherSaveFields=function(e,_ce){_cc.apply(this,arguments);var _cf=_ce.tags;if(_cf){_ce.tags=_cf.trim();}};var _d0=function(_d1){story.focusTiddler(_d1,&quot;tags&quot;);var _d2=abego.getTiddlerField(story,_d1,&quot;tags&quot;);if(_d2){var len=_d2.value.length;abego.setRange(_d2,len,len);window.scrollTo(0,ensureVisible(_d2));}};var _d4=config.macros.edit.handler;config.macros.edit.handler=function(_d5,_d6,_d7,_d8,_d9,_da){_d4.apply(this,arguments);var _db=_d7[0];if((_da instanceof Tiddler)&amp;&amp;_db==&quot;tags&quot;){var _dc=_d5.lastChild;_dc.onfocus=function(e){abego.IntelliTagger.assistTagging(_dc,_da);setTimeout(function(){_d0(_da.title);},100);};_dc.onkeyup=function(e){if(!e){var e=window.event;}if(e.altKey&amp;&amp;!e.ctrlKey&amp;&amp;!e.metaKey&amp;&amp;(e.keyCode&gt;=48&amp;&amp;e.keyCode&lt;=57)){_8b(e.keyCode==48?9:e.keyCode-49,_dc,_da);}else{if(e.ctrlKey&amp;&amp;e.keyCode==32){_8b(0,_dc,_da);}}if(!e.ctrlKey&amp;&amp;(e.keyCode==13||e.keyCode==10)){_8b(0,_dc,_da);}setTimeout(function(){abego.IntelliTagger.assistTagging(_dc,_da);},100);return false;};_81(_dc);}};var _e0=function(e){if(!e){var e=window.event;}var _e3=resolveTarget(e);var _e4=_e3.getAttribute(&quot;tiddler&quot;);if(_e4){story.displayTiddler(_e3,_e4,&quot;IntelliTaggerEditTagsTemplate&quot;,false);_d0(_e4);}return false;};var _e5=config.macros.tags.handler;config.macros.tags.handler=function(_e6,_e7,_e8,_e9,_ea,_eb){_e5.apply(this,arguments);abego.IntelliTagger.createEditTagsButton(_eb,createTiddlyElement(_e6.lastChild,&quot;li&quot;));};var _ec=function(){if(_71&amp;&amp;_72&amp;&amp;!abego.isDescendantOrSelf(document,_72)){abego.IntelliTagger.close();}};setInterval(_ec,100);abego.IntelliTagger.displayTagSuggestions=function(_ed,_ee,_ef,_f0,_f1){_74=_ed;_75=abego.toSet(_ee);_76=_ef;_72=_f0;_73=_f1;if(!_71){_71=createTiddlyElement(document.body,&quot;div&quot;,null,&quot;intelliTaggerSuggestions&quot;);_71.style.position=&quot;absolute&quot;;}_ac();abego.openAsPopup(_71);if(_77()){var w=_77().offsetWidth;if(_71.offsetWidth&lt;w){_71.style.width=(w-2*(_6e+_6f))+&quot;px&quot;;}abego.moveBelowAndClip(_71,_77());}else{abego.centerOnWindow(_71);}_c7();};abego.IntelliTagger.assistTagging=function(_f3,_f4){var _f5=_90(_f3);var s=_f3.value;if(_7d(_f3)){s=_7a(s);}var _f7=s.readBracketedList();var _f8=_f7.length&gt;0?abego.filterStrings(abego.internal.getTagManager().getPartnerRankedTags(_f7),_f5,_70):_a0(_f5,_70);abego.IntelliTagger.displayTagSuggestions(_a9(_f5,_f7),_f7,_f8,_f3,function(tag,e){if(e.shiftKey){onClickTag.call(this,e);}else{_85(tag,_f3,_f4);}});};abego.IntelliTagger.close=function(){abego.closePopup(_71);_71=null;return false;};abego.IntelliTagger.createEditTagsButton=function(_fb,_fc,_fd,_fe,_ff,id,_101){if(!_fd){_fd=&quot;[edit]&quot;;}if(!_fe){_fe=&quot;Edit the tags&quot;;}if(!_ff){_ff=&quot;editTags&quot;;}var _102=createTiddlyButton(_fc,_fd,_fe,_e0,_ff,id,_101);_102.setAttribute(&quot;tiddler&quot;,(_fb instanceof Tiddler)?_fb.title:String(_fb));return _102;};abego.IntelliTagger.getSuggestionTagsMaxCount=function(){return 100;};config.macros.intelliTagger={label:&quot;intelliTagger&quot;,handler:function(_103,_104,_105,_106,_107,_108){var _109=_107.parseParams(&quot;list&quot;,null,true);var _10a=_109[0][&quot;action&quot;];for(var i=0;_10a&amp;&amp;i&lt;_10a.length;i++){var _10c=_10a[i];var _10d=config.macros.intelliTagger.subhandlers[_10c];if(!_10d){abego.alertAndThrow(&quot;Unsupported action '%0'&quot;.format([_10c]));}_10d(_103,_104,_105,_106,_107,_108);}},subhandlers:{showTags:function(_10e,_10f,_110,_111,_112,_113){_b4(_10e,_74,_76?_76.length:0,_76,abego.IntelliTagger.getSuggestionTagsMaxCount());},showFavorites:function(_114,_115,_116,_117,_118,_119){_b4(_114,_76,0);},closeButton:function(_11a,_11b,_11c,_11d,_11e,_11f){var _120=createTiddlyButton(_11a,&quot;close&quot;,&quot;Close the suggestions&quot;,abego.IntelliTagger.close);},version:function(_121){var t=&quot;IntelliTagger %0.%1.%2&quot;.format([version.extensions.IntelliTaggerPlugin.major,version.extensions.IntelliTaggerPlugin.minor,version.extensions.IntelliTaggerPlugin.revision]);var e=createTiddlyElement(_121,&quot;a&quot;);e.setAttribute(&quot;href&quot;,&quot;http://tiddlywiki.abego-software.de/#IntelliTaggerPlugin&quot;);e.innerHTML=&quot;&lt;font color=\&quot;black\&quot; face=\&quot;Arial, Helvetica, sans-serif\&quot;&gt;&quot;+t+&quot;&lt;font&gt;&quot;;},copyright:function(_124){var e=createTiddlyElement(_124,&quot;a&quot;);e.setAttribute(&quot;href&quot;,&quot;http://tiddlywiki.abego-software.de&quot;);e.innerHTML=&quot;&lt;font color=\&quot;black\&quot; face=\&quot;Arial, Helvetica, sans-serif\&quot;&gt;&amp;copy; 2006-2007 &lt;b&gt;&lt;font color=\&quot;red\&quot;&gt;abego&lt;/font&gt;&lt;/b&gt; Software&lt;font&gt;&quot;;}}};})();config.shadowTiddlers[&quot;IntelliTaggerStyleSheet&quot;]=&quot;/***\n&quot;+&quot;!~IntelliTagger Stylesheet\n&quot;+&quot;***/\n&quot;+&quot;/*{{{*/\n&quot;+&quot;.intelliTaggerSuggestions {\n&quot;+&quot;\tposition: absolute;\n&quot;+&quot;\twidth: 600px;\n&quot;+&quot;\n&quot;+&quot;\tpadding: 2px;\n&quot;+&quot;\tlist-style: none;\n&quot;+&quot;\tmargin: 0;\n&quot;+&quot;\n&quot;+&quot;\tbackground: #eeeeee;\n&quot;+&quot;\tborder: 1px solid DarkGray;\n&quot;+&quot;}\n&quot;+&quot;\n&quot;+&quot;.intelliTaggerSuggestions .currentTag   {\n&quot;+&quot;\tfont-weight: bold;\n&quot;+&quot;}\n&quot;+&quot;\n&quot;+&quot;.intelliTaggerSuggestions .suggestionNumber {\n&quot;+&quot;\tcolor: #808080;\n&quot;+&quot;}\n&quot;+&quot;\n&quot;+&quot;.intelliTaggerSuggestions .numberedSuggestion{\n&quot;+&quot;\twhite-space: nowrap;\n&quot;+&quot;}\n&quot;+&quot;\n&quot;+&quot;.intelliTaggerSuggestions .intelliTaggerFooter {\n&quot;+&quot;\tmargin-top: 4px;\n&quot;+&quot;\tborder-top-width: thin;\n&quot;+&quot;\tborder-top-style: solid;\n&quot;+&quot;\tborder-top-color: #999999;\n&quot;+&quot;}\n&quot;+&quot;.intelliTaggerSuggestions .favorites {\n&quot;+&quot;\tborder-bottom-width: thin;\n&quot;+&quot;\tborder-bottom-style: solid;\n&quot;+&quot;\tborder-bottom-color: #999999;\n&quot;+&quot;\tpadding-bottom: 2px;\n&quot;+&quot;}\n&quot;+&quot;\n&quot;+&quot;.intelliTaggerSuggestions .normalTags {\n&quot;+&quot;\tpadding-top: 2px;\n&quot;+&quot;}\n&quot;+&quot;\n&quot;+&quot;.intelliTaggerSuggestions .intelliTaggerFooter .button {\n&quot;+&quot;\tfont-size: 10px;\n&quot;+&quot;\n&quot;+&quot;\tpadding-left: 0.3em;\n&quot;+&quot;\tpadding-right: 0.3em;\n&quot;+&quot;}\n&quot;+&quot;\n&quot;+&quot;/*}}}*/\n&quot;;config.shadowTiddlers[&quot;IntelliTaggerMainTemplate&quot;]=&quot;&lt;!--\n&quot;+&quot;{{{\n&quot;+&quot;--&gt;\n&quot;+&quot;&lt;div class=\&quot;favorites\&quot; macro=\&quot;intelliTagger action: showFavorites\&quot;&gt;&lt;/div&gt;\n&quot;+&quot;&lt;div class=\&quot;normalTags\&quot; macro=\&quot;intelliTagger action: showTags\&quot;&gt;&lt;/div&gt;\n&quot;+&quot;&lt;!-- The Footer (with the Navigation) ============================================ --&gt;\n&quot;+&quot;&lt;table class=\&quot;intelliTaggerFooter\&quot; border=\&quot;0\&quot; width=\&quot;100%\&quot; cellspacing=\&quot;0\&quot; cellpadding=\&quot;0\&quot;&gt;&lt;tbody&gt;\n&quot;+&quot;  &lt;tr&gt;\n&quot;+&quot;\t&lt;td align=\&quot;left\&quot;&gt;\n&quot;+&quot;\t\t&lt;span macro=\&quot;intelliTagger action: closeButton\&quot;&gt;&lt;/span&gt;\n&quot;+&quot;\t&lt;/td&gt;\n&quot;+&quot;\t&lt;td align=\&quot;right\&quot;&gt;\n&quot;+&quot;\t\t&lt;span macro=\&quot;intelliTagger action: version\&quot;&gt;&lt;/span&gt;, &lt;span macro=\&quot;intelliTagger action: copyright \&quot;&gt;&lt;/span&gt;\n&quot;+&quot;\t&lt;/td&gt;\n&quot;+&quot;  &lt;/tr&gt;\n&quot;+&quot;&lt;/tbody&gt;&lt;/table&gt;\n&quot;+&quot;&lt;!--\n&quot;+&quot;}}}\n&quot;+&quot;--&gt;\n&quot;;config.shadowTiddlers[&quot;IntelliTaggerEditTagsTemplate&quot;]=&quot;&lt;!--\n&quot;+&quot;{{{\n&quot;+&quot;--&gt;\n&quot;+&quot;&lt;div class='toolbar' macro='toolbar +saveTiddler -cancelTiddler'&gt;&lt;/div&gt;\n&quot;+&quot;&lt;div class='title' macro='view title'&gt;&lt;/div&gt;\n&quot;+&quot;&lt;div class='tagged' macro='tags'&gt;&lt;/div&gt;\n&quot;+&quot;&lt;div class='viewer' macro='view text wikified'&gt;&lt;/div&gt;\n&quot;+&quot;&lt;div class='toolbar' macro='toolbar +saveTiddler -cancelTiddler'&gt;&lt;/div&gt;\n&quot;+&quot;&lt;div class='editor' macro='edit tags'&gt;&lt;/div&gt;&lt;div class='editorFooter'&gt;&lt;span macro='message views.editor.tagPrompt'&gt;&lt;/span&gt;&lt;span macro='tagChooser'&gt;&lt;/span&gt;&lt;/div&gt;\n&quot;+&quot;&lt;!--\n&quot;+&quot;}}}\n&quot;+&quot;--&gt;\n&quot;;config.shadowTiddlers[&quot;BSD open source license (abego Software)&quot;]=&quot;See [[Licence|http://tiddlywiki.abego-software.de/#%5B%5BBSD%20open%20source%20license%5D%5D]].&quot;;config.shadowTiddlers[&quot;IntelliTaggerPlugin Documentation&quot;]=&quot;[[Documentation on abego Software website|http://tiddlywiki.abego-software.de/doc/IntelliTagger.pdf]].&quot;;config.shadowTiddlers[&quot;IntelliTaggerPlugin SourceCode&quot;]=&quot;[[Plugin source code on abego Software website|http://tiddlywiki.abego-software.de/archive/IntelliTaggerPlugin/Plugin-IntelliTagger-src.1.0.2.js]]\n&quot;;(function(){var _126=restart;restart=function(){setStylesheet(store.getTiddlerText(&quot;IntelliTaggerStyleSheet&quot;),&quot;IntelliTaggerStyleSheet&quot;);_126.apply(this,arguments);};})();}
// %/
</pre>
</div>
<div title="Interaction Picture" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405032115" modified="201405032300" changecount="5" content-type="">
<pre>Also referred to as the Dirac Picture.

Both state vectors and operators evolve in time.  Represent the Hamiltonian as $\hat{H} = \hat{H}_0 + \hat{V}(t)$, where $\hat{H}_0$ represents the time-independent part, and $\hat{V}(t)$ represents the time-dependent part.

The relation to the [[Schrodinger Picture]] is given by
$$\Bigl|\Psi(t)\Bigr&gt;_I = e^{it\hat{H}_0/\hbar}\Bigl|\Psi(t)\Bigr&gt;_S = e^{-i\hat{V}t/\hbar}\Bigl|\Psi(0)\Bigr&gt;\;,$$
where $\Bigl|\Psi(t)\Bigr&gt;_S = e^{-i\hat{H}t/\hbar}\Bigl|\Psi(0)\Bigr&gt;.$

States evolve in time as
$$\Bigl|\Psi(t)\Bigr&gt;_I=\hat{U}(t,t_i)\Bigl|\Psi_i\Bigr&gt;_I$$
The equation of motion is $$i\hbar\frac{d}{dt}\Bigl|\Psi(t)\Bigr&gt;_I = \hat{V}_I(t)\Bigl|\Psi(t)\Bigr&gt;_I\;, $$
where $\hat{V}_I = e^{it\hat{H}_0/\hbar}\,V\,e^{-it\hat{H}_0/\hbar}$ is the interaction.

Operators evolve in time as 
$$\frac{d\hat{A}_I}{dt} = \frac{1}{i\hbar}\bigl[\hat{A}_I,\hat{H}_0\bigr].$$
</pre>
</div>
<div title="Intermediate Value Theorem" modifier="Christopher Wilson" created="201404110115" modified="201404110452" tags="Topology Analysis">
<pre>!!Theorem
//Let $f:X\rightarrow Y$ be a [[continuous map|continuity]], where $X$ is a [[connected]] space and $Y$ is an ordered set in the order topology.  If a and b are two points of $X$ and if $r$ is a point of $Y$ lying between $f(a)$ and $f(b)$, then there exists a point $c$ of $X$ such that $f(c)=r$.//

This is a generalization of the more common intermediate value theorem that appears in calculus.</pre>
</div>
<div title="Ising Model" modifier="Christopher Wilson" created="201402242227" modified="201405101020" tags="[[Critical Phenomena]]" changecount="73" content-type="text/x-tiddlywiki">
<pre>{{sectionTOC{}}}
!!Overview 

We consider a finite lattice of spin configurations, denoted by
$$\Lambda_L = \{(i_1,i_2, \ldots,i_d):|i_d|\leq L,\; j=1,2,\ldots,d\},$$
which is a subset of $\mathbb{Z}^d$, where $d$ denotes the dimension of the space, and $i_j$ denotes a site in the lattice.  For each site in the lattice, there corresponds a spin value $\sigma_i \in \{1,-1\}$.  A set of possible spin configurations is denoted as $\{\sigma_i\}_{i\in\Lambda_L}$, which we will abbreviate as simply $\sigma$.

We define the general Hamiltonian $H$ of such a system as 
$$H(\sigma) = - \sum_{&lt;i,j&gt;} J_{ij}\sigma_i\sigma_j - \sum_i h_i\sigma_i.$$
In the above, the term $J_{ij}$ denotes the interaction strength between a spin pair, and $h_i$ represents the external magnetic field value at each lattice point.  We also write $\langle i,j\rangle = \{i,j\in\Lambda_L:|i-j|=1\}$ to denote that the summation is over nearest neighbor pairs of Euclidean distance one.

Corresponding to the Hamiltonian is the probability measure function $\mathcal{P}_L(\sigma)$, given by the Bolzmann distribution
$$\mathcal{P}_L(\sigma) = \frac{1}{Z}e^{-\beta H(\sigma)}.$$
This distribution has been normalized by $Z$, which is the partition function corresponding to the system,
$$ Z = \sum_\sigma e^{-\beta H(\sigma)},$$
where as usual, $\beta = (k_B T)^{-1}$ denotes the inverse temperature of the system.

For our purposes, we will assume that the interaction strength between two spin sites is constant, $J = J_{ij}$, and that the external magnetic field is uniform over the spin lattice, $h = h_i$.  Then, our Hamiltonian simplifies as
$$ H(\sigma) = - J\sum_{\langle i,j\rangle}\sigma_i\sigma_j -  h\sum_i\sigma_i.$$

From this, we may denote the mean energy of the system as
$$\left&lt;H(\sigma)\right&gt; = \frac{1}{Z}\sum_\sigma H(\sigma) e^{-\beta H(\sigma)}.$$

!!Mean Energy and Specific Heat
The [[Free Energy]] of the Ising model follows from general arguments of statistical mechanics.  The result of interest here is that we may express the derivative of the mean energy with respect to temperature as 
$$C= \partial_T \left&lt;H\right&gt; = \frac{1}{k_BT^2}\bigl&lt;\bigl(\Delta H\bigr)^2\bigr&gt;.$$
where $C$ is the heat capacity of the system, and $c_N = C/N$ is the specific heat of the system.

!!Magnetization and Susceptibility
We define the magnetization of the system to be $M\equiv -\partial_h H$, the negative derivative of the Hamiltonian with respect to the external magnetic field.  By computing this term, we find that the magnetization gives us a measure of the excess spin in the system,
$$ M = \sum_{i=1}^N \sigma_i,$$
where $N=L^d$ denotes the total number of lattice points. Furthermore, the magnetic susceptibility is obtained by differentiating the mean magnetization $\bigl&lt;M\bigr&gt;$ with respect to the external field $h$.  It can be shown that this parameter may be expressed as
$$\chi \;\;\equiv\;\; \partial_h\bigl&lt;M\bigr&gt;\;\; = \;\; \frac{1}{k_BT}\bigl&lt; (\Delta M)^2\bigr&gt;.$$
*+++!!!![Show Derivation][Hide Derivation]
In order to rewrite our expression for the susceptibility, we begin by noting that 
\begin{align}
\partial_h Z &amp;= \partial_h\sum_\sigma e^{-\beta H} \\
&amp;= \sum_\sigma(-\beta)(-M)e^{-\beta H} \\
&amp;= \beta Z\bigl&lt;M\bigr&gt;
\end{align} 
Therefore, $\chi$ may be computed as 
\begin{align}
\chi &amp;= \partial_h\bigl&lt;M\bigr&gt;\\
&amp;= \partial_h\frac{1}{Z}\sum_\sigma Me^{-\beta H}\\
&amp;= \frac{1}{Z^2}\biggl(\sum_\sigma M(-\beta)(-M)e^{-\beta H} Z -  \biggl(\sum_\sigma Me^{-\beta H}\biggr) \beta  Z\bigl&lt;M\bigr&gt;\biggr)\\
&amp;= \beta\Bigl(\bigr&lt;M^2\bigl&gt; - \bigr&lt;M\bigl&gt;^2\Bigr)\\
&amp;= \frac{1}{k_BT}\bigl&lt; (\Delta M)^2\bigr&gt;.
\end{align}
===
/%
We may then approximate the mean magnetization as
$$ \left&lt;M\right&gt; = \frac{1}{Z}\sum_\sigma\left(\sum_{i=1}^N \sigma_i\right)e^{-\beta H(\sigma)} \approx \frac{1}{N}\sum_{i=1}^N \sigma_i.$$
%/

!!Correlation Function
The correlation function $G(i,j)$ gives a measure of how correlated any two spins $\sigma_i$ and $\sigma_j$ are.  The correlation function is defined as 
$$ G(i,j) \equiv \bigl&lt;\sigma_i\sigma_j\bigr&gt;-\bigl&lt;\sigma_i\bigr&gt;\bigl&lt;\sigma_j\bigr&gt;.$$
Additionally, the magnetic susceptibility may be expressed in terms of the correlation function as
$$ \chi = \beta\sum_{i,j\in\Lambda}G(i,j).$$
*+++!!!![Show Derivation][Hide Derivation]
The relationship between $\chi$ and $G(i,j)$ may be simply showed as follows:
\begin{align}
\chi &amp;= \beta\Bigl(\bigr&lt;M^2\bigl&gt; - \bigr&lt;M\bigl&gt;^2\Bigr)\\[3pt]
&amp;= \beta\Bigl(\frac{1}{Z}\sum_\sigma\Bigl(\sum_i \sigma_i\Bigr)^2e^{-\beta H} - \frac{1}{Z^2}\sum_\sigma\sum_i \sigma_ie^{-\beta H}\sum_\sigma\sum_j \sigma_je^{-\beta H}\Bigr)\\
&amp;= \beta\sum_i\sum_j\Bigl( \frac{1}{Z}\sum_\sigma \sigma_i\sigma_j e^{-\beta H} - \frac{1}{Z^2}\sum_\sigma \sigma_ie^{-\beta H}\sum_\sigma \sigma_je^{-\beta H}\Bigr)\\
&amp;= \beta\sum_{i,j}\Bigl(\bigl&lt;\sigma_i\sigma_j\bigr&gt; - \bigl&lt;\sigma_i\bigr&gt;\bigl&lt;\sigma_j\bigr&gt;\Bigl)\\
&amp;= \beta\sum_{i,j}G(i,j).
\end{align}
===

&lt;&lt;sectionTOC&gt;&gt;</pre>
</div>
<div title="Ising Model Revision(0001)" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404140156" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="29" content-type="text/x-tiddlywiki">
<pre>{{sectionTOC{}}}
!!Overview 
We consider a finite lattice of spin configurations, denoted by
$$\Lambda_L = \{(i_1,i_2, \ldots,i_d):|i_d|\leq L,\; j=1,2,\ldots,d\},$$
which is a subset of $\mathbb{Z}^d$, where $d$ denotes the dimension of the space, and $i_j$ denotes a site in the lattice.  For each site in the lattice, there corresponds a spin value $\sigma_i \in \{1,-1\}$.  A set of possible spin configurations is denoted as $\{\sigma_i\}_{i\in\Lambda_L}$, which we will abbreviate as simply $\sigma$.

We define the general Hamiltonian $H$ of such a system as 
$$H(\sigma) = - \sum_{&lt;i,j&gt;} J_{ij}\sigma_i\sigma_j - \sum_i h_i\sigma_i.$$
In the above, the term $J_{ij}$ denotes the interaction strength between a spin pair, and $h_i$ represents the external magnetic field value at each lattice point.  We also write $&lt;i,j&gt; = \{i,j\in\Lambda_L:|i-j|=1\}$ to denote that the summation is over nearest neighbor pairs of Euclidean distance one.

Corresponding to the Hamiltonian is the probability measure function $\mathcal{P}_L(\sigma)$, given by the Bolzmann distribution
$$\mathcal{P}_L(\sigma) = \frac{1}{Z}e^{-\beta H(\sigma)}.$$
This distribution has been normalized by $Z$, which is the partition function corresponding to the system,
$$ Z = \sum_\sigma e^{-\beta H(\sigma)},$$
where as usual, $\beta = (k_B T)^{-1}$ denotes the inverse temperature of the system.

For our purposes, we will assume that the interaction strength between two spin sites is constant, $J = J_{ij}$, and that the external magnetic field is uniform over the spin lattice, $h = h_i$.  Then, our Hamiltonian simplifies as
$$ H(\sigma) = - J\sum_{&lt;i,j&gt;}\sigma_i\sigma_j -  h\sum_i\sigma_i.$$

From this, we may denote the mean energy of the system as
$$\left&lt;H(\sigma)\right&gt; = \frac{1}{Z}\sum_\sigma H(\sigma) e^{-\beta H(\sigma)}.$$

!!Mean Energy and Specific Heat
The [[Free Energy]] of the Ising model follows from general arguments of statistical mechanics.  The result of interest here is that we may express the derivative of the mean energy with respect to temperature as 
$$C= \partial_T \left&lt;H\right&gt; = \frac{1}{k_BT^2}\bigl&lt;\bigl(\Delta H\bigr)^2\bigr&gt;.$$
where $C$ is the heat capacity of the system, and $c_N = C/N$ is the specific heat of the system.

!!Magnetization and Susceptibility
We define the magnetization of the system to be $M\equiv -\partial_h H$, the negative derivative of the Hamiltonian with respect to the external magnetic field.  By computing this term, we find that the magnetization gives us a measure of the excess spin in the system,
$$ M = \sum_{i=1}^N \sigma_i,$$
where $N=L^d$ denotes the total number of lattice points. Furthermore, the magnetic susceptibility is obtained by differentiating the mean magnetization $\bigl&lt;M\bigr&gt;$ with respect to the external field $h$.  It can be shown that this parameter may be expressed as
$$\chi \;\;\equiv\;\; \partial_h\bigl&lt;M\bigr&gt;\;\; = \;\; \frac{1}{k_BT}\bigl&lt; (\Delta M)^2\bigr&gt;.$$

*+++!!!![Show Derivation]&gt;
In order to rewrite our expression for the susceptibility, we begin by noting that 
\begin{align}
\partial_h Z &amp;= \partial_h\sum_\sigma e^{-\beta H} \\
&amp;= \sum_\sigma(-\beta)(-M)e^{-\beta H} \\
&amp;= \beta Z\bigl&lt;M\bigr&gt;
\end{align} 
Therefore, $\chi$ may be computed as 
\begin{align}
\chi &amp;= \partial_h\bigl&lt;M\bigr&gt;\\
&amp;= \partial_h\frac{1}{Z}\sum_\sigma Me^{-\beta H}\\
&amp;= \frac{1}{Z^2}\biggl(\sum_\sigma M(-\beta)(-M)e^{-\beta H} Z -  \biggl(\sum_\sigma Me^{-\beta H}\biggr) \beta  Z\bigl&lt;M\bigr&gt;\biggr)\\
&amp;= \beta\Bigl(\bigr&lt;M^2\bigl&gt; - \bigr&lt;M\bigl&gt;^2\Bigr)\\
&amp;= \frac{1}{k_BT}\bigl&lt; (\Delta M)^2\bigr&gt;.
\end{align}
===
/%
We may then approximate the mean magnetization as
$$ \left&lt;M\right&gt; = \frac{1}{Z}\sum_\sigma\left(\sum_{i=1}^N \sigma_i\right)e^{-\beta H(\sigma)} \approx \frac{1}{N}\sum_{i=1}^N \sigma_i.$$
%/

!!Correlation Function
The correlation function $G(i,j)$ gives a measure of how correlated any two spins $\sigma_i$ and $\sigma_j$ are.  The correlation function is defined as 
$$ G(i,j) \equiv \bigl&lt;\sigma_i\sigma_j\bigr&gt;-\bigl&lt;\sigma_i\bigr&gt;\bigl&lt;\sigma_j\bigr&gt;.$$
Additionally, the magnetic susceptibility may be expressed in terms of the correlation function as
$$ \chi = \beta\sum_{i,j\in\Lambda}G(i,j).$$

*+++!!!![Show Derivation]&gt;
The relationship between $\chi$ and $G(i,j)$ may be simply showed as follows:
\begin{align}
\chi &amp;= \beta\Bigl(\bigr&lt;M^2\bigl&gt; - \bigr&lt;M\bigl&gt;^2\Bigr)\\[3pt]
&amp;= \beta\Bigl(\frac{1}{Z}\sum_\sigma\Bigl(\sum_i \sigma_i\Bigr)^2e^{-\beta H} - \frac{1}{Z^2}\sum_\sigma\sum_i \sigma_ie^{-\beta H}\sum_\sigma\sum_j \sigma_je^{-\beta H}\Bigr)\\
&amp;= \beta\sum_i\sum_j\Bigl( \frac{1}{Z}\sum_\sigma \sigma_i\sigma_j e^{-\beta H} - \frac{1}{Z^2}\sum_\sigma \sigma_ie^{-\beta H}\sum_\sigma \sigma_je^{-\beta H}\Bigr)\\
&amp;= \beta\sum_{i,j}\Bigl(\bigl&lt;\sigma_i\sigma_j\bigr&gt; - \bigl&lt;\sigma_i\bigr&gt;\bigl&lt;\sigma_j\bigr&gt;\Bigl)\\
&amp;= \beta\sum_{i,j}G(i,j).
\end{align}
===
&lt;&lt;sectionTOC&gt;&gt;</pre>
</div>
<div title="Ising Model Revision(0002)" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404140156" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="30" content-type="text/x-tiddlywiki">
<pre>{{sectionTOC{}}}
!!Overview  test
We consider a finite lattice of spin configurations, denoted by
$$\Lambda_L = \{(i_1,i_2, \ldots,i_d):|i_d|\leq L,\; j=1,2,\ldots,d\},$$
which is a subset of $\mathbb{Z}^d$, where $d$ denotes the dimension of the space, and $i_j$ denotes a site in the lattice.  For each site in the lattice, there corresponds a spin value $\sigma_i \in \{1,-1\}$.  A set of possible spin configurations is denoted as $\{\sigma_i\}_{i\in\Lambda_L}$, which we will abbreviate as simply $\sigma$.

We define the general Hamiltonian $H$ of such a system as 
$$H(\sigma) = - \sum_{&lt;i,j&gt;} J_{ij}\sigma_i\sigma_j - \sum_i h_i\sigma_i.$$
In the above, the term $J_{ij}$ denotes the interaction strength between a spin pair, and $h_i$ represents the external magnetic field value at each lattice point.  We also write $&lt;i,j&gt; = \{i,j\in\Lambda_L:|i-j|=1\}$ to denote that the summation is over nearest neighbor pairs of Euclidean distance one.

Corresponding to the Hamiltonian is the probability measure function $\mathcal{P}_L(\sigma)$, given by the Bolzmann distribution
$$\mathcal{P}_L(\sigma) = \frac{1}{Z}e^{-\beta H(\sigma)}.$$
This distribution has been normalized by $Z$, which is the partition function corresponding to the system,
$$ Z = \sum_\sigma e^{-\beta H(\sigma)},$$
where as usual, $\beta = (k_B T)^{-1}$ denotes the inverse temperature of the system.

For our purposes, we will assume that the interaction strength between two spin sites is constant, $J = J_{ij}$, and that the external magnetic field is uniform over the spin lattice, $h = h_i$.  Then, our Hamiltonian simplifies as
$$ H(\sigma) = - J\sum_{&lt;i,j&gt;}\sigma_i\sigma_j -  h\sum_i\sigma_i.$$

From this, we may denote the mean energy of the system as
$$\left&lt;H(\sigma)\right&gt; = \frac{1}{Z}\sum_\sigma H(\sigma) e^{-\beta H(\sigma)}.$$

!!Mean Energy and Specific Heat
The [[Free Energy]] of the Ising model follows from general arguments of statistical mechanics.  The result of interest here is that we may express the derivative of the mean energy with respect to temperature as 
$$C= \partial_T \left&lt;H\right&gt; = \frac{1}{k_BT^2}\bigl&lt;\bigl(\Delta H\bigr)^2\bigr&gt;.$$
where $C$ is the heat capacity of the system, and $c_N = C/N$ is the specific heat of the system.

!!Magnetization and Susceptibility
We define the magnetization of the system to be $M\equiv -\partial_h H$, the negative derivative of the Hamiltonian with respect to the external magnetic field.  By computing this term, we find that the magnetization gives us a measure of the excess spin in the system,
$$ M = \sum_{i=1}^N \sigma_i,$$
where $N=L^d$ denotes the total number of lattice points. Furthermore, the magnetic susceptibility is obtained by differentiating the mean magnetization $\bigl&lt;M\bigr&gt;$ with respect to the external field $h$.  It can be shown that this parameter may be expressed as
$$\chi \;\;\equiv\;\; \partial_h\bigl&lt;M\bigr&gt;\;\; = \;\; \frac{1}{k_BT}\bigl&lt; (\Delta M)^2\bigr&gt;.$$

*+++!!!![Show Derivation]&gt;
In order to rewrite our expression for the susceptibility, we begin by noting that 
\begin{align}
\partial_h Z &amp;= \partial_h\sum_\sigma e^{-\beta H} \\
&amp;= \sum_\sigma(-\beta)(-M)e^{-\beta H} \\
&amp;= \beta Z\bigl&lt;M\bigr&gt;
\end{align} 
Therefore, $\chi$ may be computed as 
\begin{align}
\chi &amp;= \partial_h\bigl&lt;M\bigr&gt;\\
&amp;= \partial_h\frac{1}{Z}\sum_\sigma Me^{-\beta H}\\
&amp;= \frac{1}{Z^2}\biggl(\sum_\sigma M(-\beta)(-M)e^{-\beta H} Z -  \biggl(\sum_\sigma Me^{-\beta H}\biggr) \beta  Z\bigl&lt;M\bigr&gt;\biggr)\\
&amp;= \beta\Bigl(\bigr&lt;M^2\bigl&gt; - \bigr&lt;M\bigl&gt;^2\Bigr)\\
&amp;= \frac{1}{k_BT}\bigl&lt; (\Delta M)^2\bigr&gt;.
\end{align}
===
/%
We may then approximate the mean magnetization as
$$ \left&lt;M\right&gt; = \frac{1}{Z}\sum_\sigma\left(\sum_{i=1}^N \sigma_i\right)e^{-\beta H(\sigma)} \approx \frac{1}{N}\sum_{i=1}^N \sigma_i.$$
%/

!!Correlation Function
The correlation function $G(i,j)$ gives a measure of how correlated any two spins $\sigma_i$ and $\sigma_j$ are.  The correlation function is defined as 
$$ G(i,j) \equiv \bigl&lt;\sigma_i\sigma_j\bigr&gt;-\bigl&lt;\sigma_i\bigr&gt;\bigl&lt;\sigma_j\bigr&gt;.$$
Additionally, the magnetic susceptibility may be expressed in terms of the correlation function as
$$ \chi = \beta\sum_{i,j\in\Lambda}G(i,j).$$

*+++!!!![Show Derivation]&gt;
The relationship between $\chi$ and $G(i,j)$ may be simply showed as follows:
\begin{align}
\chi &amp;= \beta\Bigl(\bigr&lt;M^2\bigl&gt; - \bigr&lt;M\bigl&gt;^2\Bigr)\\[3pt]
&amp;= \beta\Bigl(\frac{1}{Z}\sum_\sigma\Bigl(\sum_i \sigma_i\Bigr)^2e^{-\beta H} - \frac{1}{Z^2}\sum_\sigma\sum_i \sigma_ie^{-\beta H}\sum_\sigma\sum_j \sigma_je^{-\beta H}\Bigr)\\
&amp;= \beta\sum_i\sum_j\Bigl( \frac{1}{Z}\sum_\sigma \sigma_i\sigma_j e^{-\beta H} - \frac{1}{Z^2}\sum_\sigma \sigma_ie^{-\beta H}\sum_\sigma \sigma_je^{-\beta H}\Bigr)\\
&amp;= \beta\sum_{i,j}\Bigl(\bigl&lt;\sigma_i\sigma_j\bigr&gt; - \bigl&lt;\sigma_i\bigr&gt;\bigl&lt;\sigma_j\bigr&gt;\Bigl)\\
&amp;= \beta\sum_{i,j}G(i,j).
\end{align}
===
&lt;&lt;sectionTOC&gt;&gt;</pre>
</div>
<div title="Ising Model Revision(0003)" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404140157" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="31" content-type="text/x-tiddlywiki">
<pre>{{sectionTOC{}}}
!!Overview
We consider a finite lattice of spin configurations, denoted by
$$\Lambda_L = \{(i_1,i_2, \ldots,i_d):|i_d|\leq L,\; j=1,2,\ldots,d\},$$
which is a subset of $\mathbb{Z}^d$, where $d$ denotes the dimension of the space, and $i_j$ denotes a site in the lattice.  For each site in the lattice, there corresponds a spin value $\sigma_i \in \{1,-1\}$.  A set of possible spin configurations is denoted as $\{\sigma_i\}_{i\in\Lambda_L}$, which we will abbreviate as simply $\sigma$.

We define the general Hamiltonian $H$ of such a system as 
$$H(\sigma) = - \sum_{&lt;i,j&gt;} J_{ij}\sigma_i\sigma_j - \sum_i h_i\sigma_i.$$
In the above, the term $J_{ij}$ denotes the interaction strength between a spin pair, and $h_i$ represents the external magnetic field value at each lattice point.  We also write $&lt;i,j&gt; = \{i,j\in\Lambda_L:|i-j|=1\}$ to denote that the summation is over nearest neighbor pairs of Euclidean distance one.

Corresponding to the Hamiltonian is the probability measure function $\mathcal{P}_L(\sigma)$, given by the Bolzmann distribution
$$\mathcal{P}_L(\sigma) = \frac{1}{Z}e^{-\beta H(\sigma)}.$$
This distribution has been normalized by $Z$, which is the partition function corresponding to the system,
$$ Z = \sum_\sigma e^{-\beta H(\sigma)},$$
where as usual, $\beta = (k_B T)^{-1}$ denotes the inverse temperature of the system.

For our purposes, we will assume that the interaction strength between two spin sites is constant, $J = J_{ij}$, and that the external magnetic field is uniform over the spin lattice, $h = h_i$.  Then, our Hamiltonian simplifies as
$$ H(\sigma) = - J\sum_{&lt;i,j&gt;}\sigma_i\sigma_j -  h\sum_i\sigma_i.$$

From this, we may denote the mean energy of the system as
$$\left&lt;H(\sigma)\right&gt; = \frac{1}{Z}\sum_\sigma H(\sigma) e^{-\beta H(\sigma)}.$$

!!Mean Energy and Specific Heat
The [[Free Energy]] of the Ising model follows from general arguments of statistical mechanics.  The result of interest here is that we may express the derivative of the mean energy with respect to temperature as 
$$C= \partial_T \left&lt;H\right&gt; = \frac{1}{k_BT^2}\bigl&lt;\bigl(\Delta H\bigr)^2\bigr&gt;.$$
where $C$ is the heat capacity of the system, and $c_N = C/N$ is the specific heat of the system.

!!Magnetization and Susceptibility
We define the magnetization of the system to be $M\equiv -\partial_h H$, the negative derivative of the Hamiltonian with respect to the external magnetic field.  By computing this term, we find that the magnetization gives us a measure of the excess spin in the system,
$$ M = \sum_{i=1}^N \sigma_i,$$
where $N=L^d$ denotes the total number of lattice points. Furthermore, the magnetic susceptibility is obtained by differentiating the mean magnetization $\bigl&lt;M\bigr&gt;$ with respect to the external field $h$.  It can be shown that this parameter may be expressed as
$$\chi \;\;\equiv\;\; \partial_h\bigl&lt;M\bigr&gt;\;\; = \;\; \frac{1}{k_BT}\bigl&lt; (\Delta M)^2\bigr&gt;.$$

*+++!!!![Show Derivation]&gt;
In order to rewrite our expression for the susceptibility, we begin by noting that 
\begin{align}
\partial_h Z &amp;= \partial_h\sum_\sigma e^{-\beta H} \\
&amp;= \sum_\sigma(-\beta)(-M)e^{-\beta H} \\
&amp;= \beta Z\bigl&lt;M\bigr&gt;
\end{align} 
Therefore, $\chi$ may be computed as 
\begin{align}
\chi &amp;= \partial_h\bigl&lt;M\bigr&gt;\\
&amp;= \partial_h\frac{1}{Z}\sum_\sigma Me^{-\beta H}\\
&amp;= \frac{1}{Z^2}\biggl(\sum_\sigma M(-\beta)(-M)e^{-\beta H} Z -  \biggl(\sum_\sigma Me^{-\beta H}\biggr) \beta  Z\bigl&lt;M\bigr&gt;\biggr)\\
&amp;= \beta\Bigl(\bigr&lt;M^2\bigl&gt; - \bigr&lt;M\bigl&gt;^2\Bigr)\\
&amp;= \frac{1}{k_BT}\bigl&lt; (\Delta M)^2\bigr&gt;.
\end{align}
===
/%
We may then approximate the mean magnetization as
$$ \left&lt;M\right&gt; = \frac{1}{Z}\sum_\sigma\left(\sum_{i=1}^N \sigma_i\right)e^{-\beta H(\sigma)} \approx \frac{1}{N}\sum_{i=1}^N \sigma_i.$$
%/

!!Correlation Function
The correlation function $G(i,j)$ gives a measure of how correlated any two spins $\sigma_i$ and $\sigma_j$ are.  The correlation function is defined as 
$$ G(i,j) \equiv \bigl&lt;\sigma_i\sigma_j\bigr&gt;-\bigl&lt;\sigma_i\bigr&gt;\bigl&lt;\sigma_j\bigr&gt;.$$
Additionally, the magnetic susceptibility may be expressed in terms of the correlation function as
$$ \chi = \beta\sum_{i,j\in\Lambda}G(i,j).$$

*+++!!!![Show Derivation]&gt;
The relationship between $\chi$ and $G(i,j)$ may be simply showed as follows:
\begin{align}
\chi &amp;= \beta\Bigl(\bigr&lt;M^2\bigl&gt; - \bigr&lt;M\bigl&gt;^2\Bigr)\\[3pt]
&amp;= \beta\Bigl(\frac{1}{Z}\sum_\sigma\Bigl(\sum_i \sigma_i\Bigr)^2e^{-\beta H} - \frac{1}{Z^2}\sum_\sigma\sum_i \sigma_ie^{-\beta H}\sum_\sigma\sum_j \sigma_je^{-\beta H}\Bigr)\\
&amp;= \beta\sum_i\sum_j\Bigl( \frac{1}{Z}\sum_\sigma \sigma_i\sigma_j e^{-\beta H} - \frac{1}{Z^2}\sum_\sigma \sigma_ie^{-\beta H}\sum_\sigma \sigma_je^{-\beta H}\Bigr)\\
&amp;= \beta\sum_{i,j}\Bigl(\bigl&lt;\sigma_i\sigma_j\bigr&gt; - \bigl&lt;\sigma_i\bigr&gt;\bigl&lt;\sigma_j\bigr&gt;\Bigl)\\
&amp;= \beta\sum_{i,j}G(i,j).
\end{align}
===
&lt;&lt;sectionTOC&gt;&gt;</pre>
</div>
<div title="Ising Model Revision(0004)" modifier="Christopher Wilson" created="201404140157" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="32" content-type="text/x-tiddlywiki">
<pre>{{sectionTOC{}}}
!!Overview
We consider a finite lattice of spin configurations, denoted by
$$\Lambda_L = \{(i_1,i_2, \ldots,i_d):|i_d|\leq L,\; j=1,2,\ldots,d\},$$
which is a subset of $\mathbb{Z}^d$, where $d$ denotes the dimension of the space, and $i_j$ denotes a site in the lattice.  For each site in the lattice, there corresponds a spin value $\sigma_i \in \{1,-1\}$.  A set of possible spin configurations is denoted as $\{\sigma_i\}_{i\in\Lambda_L}$, which we will abbreviate as simply $\sigma$.

We define the general Hamiltonian $H$ of such a system as 
$$H(\sigma) = - \sum_{&lt;i,j&gt;} J_{ij}\sigma_i\sigma_j - \sum_i h_i\sigma_i.$$
In the above, the term $J_{ij}$ denotes the interaction strength between a spin pair, and $h_i$ represents the external magnetic field value at each lattice point.  We also write $&lt;i,j&gt; = \{i,j\in\Lambda_L:|i-j|=1\}$ to denote that the summation is over nearest neighbor pairs of Euclidean distance one.

Corresponding to the Hamiltonian is the probability measure function $\mathcal{P}_L(\sigma)$, given by the Bolzmann distribution
$$\mathcal{P}_L(\sigma) = \frac{1}{Z}e^{-\beta H(\sigma)}.$$
This distribution has been normalized by $Z$, which is the partition function corresponding to the system,
$$ Z = \sum_\sigma e^{-\beta H(\sigma)},$$
where as usual, $\beta = (k_B T)^{-1}$ denotes the inverse temperature of the system.

For our purposes, we will assume that the interaction strength between two spin sites is constant, $J = J_{ij}$, and that the external magnetic field is uniform over the spin lattice, $h = h_i$.  Then, our Hamiltonian simplifies as
$$ H(\sigma) = - J\sum_{&lt;i,j&gt;}\sigma_i\sigma_j -  h\sum_i\sigma_i.$$

From this, we may denote the mean energy of the system as
$$\left&lt;H(\sigma)\right&gt; = \frac{1}{Z}\sum_\sigma H(\sigma) e^{-\beta H(\sigma)}.$$

!!Mean Energy and Specific Heat
The [[Free Energy]] of the Ising model follows from general arguments of statistical mechanics.  The result of interest here is that we may express the derivative of the mean energy with respect to temperature as 
$$C= \partial_T \left&lt;H\right&gt; = \frac{1}{k_BT^2}\bigl&lt;\bigl(\Delta H\bigr)^2\bigr&gt;.$$
where $C$ is the heat capacity of the system, and $c_N = C/N$ is the specific heat of the system.

!!Magnetization and Susceptibility
We define the magnetization of the system to be $M\equiv -\partial_h H$, the negative derivative of the Hamiltonian with respect to the external magnetic field.  By computing this term, we find that the magnetization gives us a measure of the excess spin in the system,
$$ M = \sum_{i=1}^N \sigma_i,$$
where $N=L^d$ denotes the total number of lattice points. Furthermore, the magnetic susceptibility is obtained by differentiating the mean magnetization $\bigl&lt;M\bigr&gt;$ with respect to the external field $h$.  It can be shown that this parameter may be expressed as
$$\chi \;\;\equiv\;\; \partial_h\bigl&lt;M\bigr&gt;\;\; = \;\; \frac{1}{k_BT}\bigl&lt; (\Delta M)^2\bigr&gt;.$$

*+++!!!![Show Derivation]&gt;
In order to rewrite our expression for the susceptibility, we begin by noting that 
\begin{align}
\partial_h Z &amp;= \partial_h\sum_\sigma e^{-\beta H} \\
&amp;= \sum_\sigma(-\beta)(-M)e^{-\beta H} \\
&amp;= \beta Z\bigl&lt;M\bigr&gt;
\end{align} 
Therefore, $\chi$ may be computed as 
\begin{align}
\chi &amp;= \partial_h\bigl&lt;M\bigr&gt;\\
&amp;= \partial_h\frac{1}{Z}\sum_\sigma Me^{-\beta H}\\
&amp;= \frac{1}{Z^2}\biggl(\sum_\sigma M(-\beta)(-M)e^{-\beta H} Z -  \biggl(\sum_\sigma Me^{-\beta H}\biggr) \beta  Z\bigl&lt;M\bigr&gt;\biggr)\\
&amp;= \beta\Bigl(\bigr&lt;M^2\bigl&gt; - \bigr&lt;M\bigl&gt;^2\Bigr)\\
&amp;= \frac{1}{k_BT}\bigl&lt; (\Delta M)^2\bigr&gt;.
\end{align}
===
/%
We may then approximate the mean magnetization as
$$ \left&lt;M\right&gt; = \frac{1}{Z}\sum_\sigma\left(\sum_{i=1}^N \sigma_i\right)e^{-\beta H(\sigma)} \approx \frac{1}{N}\sum_{i=1}^N \sigma_i.$$
%/

!!Correlation Function
The correlation function $G(i,j)$ gives a measure of how correlated any two spins $\sigma_i$ and $\sigma_j$ are.  The correlation function is defined as 
$$ G(i,j) \equiv \bigl&lt;\sigma_i\sigma_j\bigr&gt;-\bigl&lt;\sigma_i\bigr&gt;\bigl&lt;\sigma_j\bigr&gt;.$$
Additionally, the magnetic susceptibility may be expressed in terms of the correlation function as
$$ \chi = \beta\sum_{i,j\in\Lambda}G(i,j).$$

*+++!!!![Show Derivation]&gt;
The relationship between $\chi$ and $G(i,j)$ may be simply showed as follows:
\begin{align}
\chi &amp;= \beta\Bigl(\bigr&lt;M^2\bigl&gt; - \bigr&lt;M\bigl&gt;^2\Bigr)\\[3pt]
&amp;= \beta\Bigl(\frac{1}{Z}\sum_\sigma\Bigl(\sum_i \sigma_i\Bigr)^2e^{-\beta H} - \frac{1}{Z^2}\sum_\sigma\sum_i \sigma_ie^{-\beta H}\sum_\sigma\sum_j \sigma_je^{-\beta H}\Bigr)\\
&amp;= \beta\sum_i\sum_j\Bigl( \frac{1}{Z}\sum_\sigma \sigma_i\sigma_j e^{-\beta H} - \frac{1}{Z^2}\sum_\sigma \sigma_ie^{-\beta H}\sum_\sigma \sigma_je^{-\beta H}\Bigr)\\
&amp;= \beta\sum_{i,j}\Bigl(\bigl&lt;\sigma_i\sigma_j\bigr&gt; - \bigl&lt;\sigma_i\bigr&gt;\bigl&lt;\sigma_j\bigr&gt;\Bigl)\\
&amp;= \beta\sum_{i,j}G(i,j).
\end{align}
===
&lt;&lt;sectionTOC&gt;&gt;</pre>
</div>
<div title="Ising Model Revision(0005)" modifier="Christopher Wilson" created="201404150620" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="33" content-type="text/x-tiddlywiki">
<pre>{{sectionTOC{}}}
!!Overview
We consider a finite lattice of spin configurations, denoted by
$$\Lambda_L = \{(i_1,i_2, \ldots,i_d):|i_d|\leq L,\; j=1,2,\ldots,d\},$$
which is a subset of $\mathbb{Z}^d$, where $d$ denotes the dimension of the space, and $i_j$ denotes a site in the lattice.  For each site in the lattice, there corresponds a spin value $\sigma_i \in \{1,-1\}$.  A set of possible spin configurations is denoted as $\{\sigma_i\}_{i\in\Lambda_L}$, which we will abbreviate as simply $\sigma$.

We define the general Hamiltonian $H$ of such a system as 
$$H(\sigma) = - \sum_{&lt;i,j&gt;} J_{ij}\sigma_i\sigma_j - \sum_i h_i\sigma_i.$$
In the above, the term $J_{ij}$ denotes the interaction strength between a spin pair, and $h_i$ represents the external magnetic field value at each lattice point.  We also write $&lt;i,j&gt; = \{i,j\in\Lambda_L:|i-j|=1\}$ to denote that the summation is over nearest neighbor pairs of Euclidean distance one.

Corresponding to the Hamiltonian is the probability measure function $\mathcal{P}_L(\sigma)$, given by the Bolzmann distribution
$$\mathcal{P}_L(\sigma) = \frac{1}{Z}e^{-\beta H(\sigma)}.$$
This distribution has been normalized by $Z$, which is the partition function corresponding to the system,
$$ Z = \sum_\sigma e^{-\beta H(\sigma)},$$
where as usual, $\beta = (k_B T)^{-1}$ denotes the inverse temperature of the system.

For our purposes, we will assume that the interaction strength between two spin sites is constant, $J = J_{ij}$, and that the external magnetic field is uniform over the spin lattice, $h = h_i$.  Then, our Hamiltonian simplifies as
$$ H(\sigma) = - J\sum_{&lt;i,j&gt;}\sigma_i\sigma_j -  h\sum_i\sigma_i.$$

From this, we may denote the mean energy of the system as
$$\left&lt;H(\sigma)\right&gt; = \frac{1}{Z}\sum_\sigma H(\sigma) e^{-\beta H(\sigma)}.$$

!!Mean Energy and Specific Heat
The [[Free Energy]] of the Ising model follows from general arguments of statistical mechanics.  The result of interest here is that we may express the derivative of the mean energy with respect to temperature as 
$$C= \partial_T \left&lt;H\right&gt; = \frac{1}{k_BT^2}\bigl&lt;\bigl(\Delta H\bigr)^2\bigr&gt;.$$
where $C$ is the heat capacity of the system, and $c_N = C/N$ is the specific heat of the system.

!!Magnetization and Susceptibility
We define the magnetization of the system to be $M\equiv -\partial_h H$, the negative derivative of the Hamiltonian with respect to the external magnetic field.  By computing this term, we find that the magnetization gives us a measure of the excess spin in the system,
$$ M = \sum_{i=1}^N \sigma_i,$$
where $N=L^d$ denotes the total number of lattice points. Furthermore, the magnetic susceptibility is obtained by differentiating the mean magnetization $\bigl&lt;M\bigr&gt;$ with respect to the external field $h$.  It can be shown that this parameter may be expressed as
$$\chi \;\;\equiv\;\; \partial_h\bigl&lt;M\bigr&gt;\;\; = \;\; \frac{1}{k_BT}\bigl&lt; (\Delta M)^2\bigr&gt;.$$

*+++!!!![Show Derivation]&gt;
In order to rewrite our expression for the susceptibility, we begin by noting that 
\begin{align}
\partial_h Z &amp;= \partial_h\sum_\sigma e^{-\beta H} \\
&amp;= \sum_\sigma(-\beta)(-M)e^{-\beta H} \\
&amp;= \beta Z\bigl&lt;M\bigr&gt;
\end{align} 
Therefore, $\chi$ may be computed as 
\begin{align}
\chi &amp;= \partial_h\bigl&lt;M\bigr&gt;\\
&amp;= \partial_h\frac{1}{Z}\sum_\sigma Me^{-\beta H}\\
&amp;= \frac{1}{Z^2}\biggl(\sum_\sigma M(-\beta)(-M)e^{-\beta H} Z -  \biggl(\sum_\sigma Me^{-\beta H}\biggr) \beta  Z\bigl&lt;M\bigr&gt;\biggr)\\
&amp;= \beta\Bigl(\bigr&lt;M^2\bigl&gt; - \bigr&lt;M\bigl&gt;^2\Bigr)\\
&amp;= \frac{1}{k_BT}\bigl&lt; (\Delta M)^2\bigr&gt;.
\end{align}
===
/%
We may then approximate the mean magnetization as
$$ \left&lt;M\right&gt; = \frac{1}{Z}\sum_\sigma\left(\sum_{i=1}^N \sigma_i\right)e^{-\beta H(\sigma)} \approx \frac{1}{N}\sum_{i=1}^N \sigma_i.$$
%/

!!Correlation Function
The correlation function $G(i,j)$ gives a measure of how correlated any two spins $\sigma_i$ and $\sigma_j$ are.  The correlation function is defined as 
$$ G(i,j) \equiv \bigl&lt;\sigma_i\sigma_j\bigr&gt;-\bigl&lt;\sigma_i\bigr&gt;\bigl&lt;\sigma_j\bigr&gt;.$$
Additionally, the magnetic susceptibility may be expressed in terms of the correlation function as
$$ \chi = \beta\sum_{i,j\in\Lambda}G(i,j).$$

*+++!!!![Show Derivation]&gt;
The relationship between $\chi$ and $G(i,j)$ may be simply showed as follows:
\begin{align}
\chi &amp;= \beta\Bigl(\bigr&lt;M^2\bigl&gt; - \bigr&lt;M\bigl&gt;^2\Bigr)\\[3pt]
&amp;= \beta\Bigl(\frac{1}{Z}\sum_\sigma\Bigl(\sum_i \sigma_i\Bigr)^2e^{-\beta H} - \frac{1}{Z^2}\sum_\sigma\sum_i \sigma_ie^{-\beta H}\sum_\sigma\sum_j \sigma_je^{-\beta H}\Bigr)\\
&amp;= \beta\sum_i\sum_j\Bigl( \frac{1}{Z}\sum_\sigma \sigma_i\sigma_j e^{-\beta H} - \frac{1}{Z^2}\sum_\sigma \sigma_ie^{-\beta H}\sum_\sigma \sigma_je^{-\beta H}\Bigr)\\
&amp;= \beta\sum_{i,j}\Bigl(\bigl&lt;\sigma_i\sigma_j\bigr&gt; - \bigl&lt;\sigma_i\bigr&gt;\bigl&lt;\sigma_j\bigr&gt;\Bigl)\\
&amp;= \beta\sum_{i,j}G(i,j).
\end{align}
===

!!Critical Indices
|sortable2|k
| !Physical Quantity | !Name of Index | Index Value (d=2) |h
| specific heat | $\alpha$ | $0$ (log singularity) |
| susceptibility | $\gamma$ | $7/4$ |
| susceptibility | $\gamma'$ | $7/4$ |
| magnetization | $\beta$ | $1/8$ |
| magnetization | $\deta$ | $15$ |
| correlation length | $\nu$ | $1$ |
| correlation functions | $\eta$ | $1/8$ |
&lt;&lt;sectionTOC&gt;&gt;</pre>
</div>
<div title="Ising Model Revision(0006)" modifier="Christopher Wilson" created="201404150621" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="34" content-type="text/x-tiddlywiki">
<pre>{{sectionTOC{}}}
!!Overview
We consider a finite lattice of spin configurations, denoted by
$$\Lambda_L = \{(i_1,i_2, \ldots,i_d):|i_d|\leq L,\; j=1,2,\ldots,d\},$$
which is a subset of $\mathbb{Z}^d$, where $d$ denotes the dimension of the space, and $i_j$ denotes a site in the lattice.  For each site in the lattice, there corresponds a spin value $\sigma_i \in \{1,-1\}$.  A set of possible spin configurations is denoted as $\{\sigma_i\}_{i\in\Lambda_L}$, which we will abbreviate as simply $\sigma$.

We define the general Hamiltonian $H$ of such a system as 
$$H(\sigma) = - \sum_{&lt;i,j&gt;} J_{ij}\sigma_i\sigma_j - \sum_i h_i\sigma_i.$$
In the above, the term $J_{ij}$ denotes the interaction strength between a spin pair, and $h_i$ represents the external magnetic field value at each lattice point.  We also write $&lt;i,j&gt; = \{i,j\in\Lambda_L:|i-j|=1\}$ to denote that the summation is over nearest neighbor pairs of Euclidean distance one.

Corresponding to the Hamiltonian is the probability measure function $\mathcal{P}_L(\sigma)$, given by the Bolzmann distribution
$$\mathcal{P}_L(\sigma) = \frac{1}{Z}e^{-\beta H(\sigma)}.$$
This distribution has been normalized by $Z$, which is the partition function corresponding to the system,
$$ Z = \sum_\sigma e^{-\beta H(\sigma)},$$
where as usual, $\beta = (k_B T)^{-1}$ denotes the inverse temperature of the system.

For our purposes, we will assume that the interaction strength between two spin sites is constant, $J = J_{ij}$, and that the external magnetic field is uniform over the spin lattice, $h = h_i$.  Then, our Hamiltonian simplifies as
$$ H(\sigma) = - J\sum_{&lt;i,j&gt;}\sigma_i\sigma_j -  h\sum_i\sigma_i.$$

From this, we may denote the mean energy of the system as
$$\left&lt;H(\sigma)\right&gt; = \frac{1}{Z}\sum_\sigma H(\sigma) e^{-\beta H(\sigma)}.$$

!!Mean Energy and Specific Heat
The [[Free Energy]] of the Ising model follows from general arguments of statistical mechanics.  The result of interest here is that we may express the derivative of the mean energy with respect to temperature as 
$$C= \partial_T \left&lt;H\right&gt; = \frac{1}{k_BT^2}\bigl&lt;\bigl(\Delta H\bigr)^2\bigr&gt;.$$
where $C$ is the heat capacity of the system, and $c_N = C/N$ is the specific heat of the system.

!!Magnetization and Susceptibility
We define the magnetization of the system to be $M\equiv -\partial_h H$, the negative derivative of the Hamiltonian with respect to the external magnetic field.  By computing this term, we find that the magnetization gives us a measure of the excess spin in the system,
$$ M = \sum_{i=1}^N \sigma_i,$$
where $N=L^d$ denotes the total number of lattice points. Furthermore, the magnetic susceptibility is obtained by differentiating the mean magnetization $\bigl&lt;M\bigr&gt;$ with respect to the external field $h$.  It can be shown that this parameter may be expressed as
$$\chi \;\;\equiv\;\; \partial_h\bigl&lt;M\bigr&gt;\;\; = \;\; \frac{1}{k_BT}\bigl&lt; (\Delta M)^2\bigr&gt;.$$

*+++!!!![Show Derivation]&gt;
In order to rewrite our expression for the susceptibility, we begin by noting that 
\begin{align}
\partial_h Z &amp;= \partial_h\sum_\sigma e^{-\beta H} \\
&amp;= \sum_\sigma(-\beta)(-M)e^{-\beta H} \\
&amp;= \beta Z\bigl&lt;M\bigr&gt;
\end{align} 
Therefore, $\chi$ may be computed as 
\begin{align}
\chi &amp;= \partial_h\bigl&lt;M\bigr&gt;\\
&amp;= \partial_h\frac{1}{Z}\sum_\sigma Me^{-\beta H}\\
&amp;= \frac{1}{Z^2}\biggl(\sum_\sigma M(-\beta)(-M)e^{-\beta H} Z -  \biggl(\sum_\sigma Me^{-\beta H}\biggr) \beta  Z\bigl&lt;M\bigr&gt;\biggr)\\
&amp;= \beta\Bigl(\bigr&lt;M^2\bigl&gt; - \bigr&lt;M\bigl&gt;^2\Bigr)\\
&amp;= \frac{1}{k_BT}\bigl&lt; (\Delta M)^2\bigr&gt;.
\end{align}
===
/%
We may then approximate the mean magnetization as
$$ \left&lt;M\right&gt; = \frac{1}{Z}\sum_\sigma\left(\sum_{i=1}^N \sigma_i\right)e^{-\beta H(\sigma)} \approx \frac{1}{N}\sum_{i=1}^N \sigma_i.$$
%/

!!Correlation Function
The correlation function $G(i,j)$ gives a measure of how correlated any two spins $\sigma_i$ and $\sigma_j$ are.  The correlation function is defined as 
$$ G(i,j) \equiv \bigl&lt;\sigma_i\sigma_j\bigr&gt;-\bigl&lt;\sigma_i\bigr&gt;\bigl&lt;\sigma_j\bigr&gt;.$$
Additionally, the magnetic susceptibility may be expressed in terms of the correlation function as
$$ \chi = \beta\sum_{i,j\in\Lambda}G(i,j).$$

*+++!!!![Show Derivation]&gt;
The relationship between $\chi$ and $G(i,j)$ may be simply showed as follows:
\begin{align}
\chi &amp;= \beta\Bigl(\bigr&lt;M^2\bigl&gt; - \bigr&lt;M\bigl&gt;^2\Bigr)\\[3pt]
&amp;= \beta\Bigl(\frac{1}{Z}\sum_\sigma\Bigl(\sum_i \sigma_i\Bigr)^2e^{-\beta H} - \frac{1}{Z^2}\sum_\sigma\sum_i \sigma_ie^{-\beta H}\sum_\sigma\sum_j \sigma_je^{-\beta H}\Bigr)\\
&amp;= \beta\sum_i\sum_j\Bigl( \frac{1}{Z}\sum_\sigma \sigma_i\sigma_j e^{-\beta H} - \frac{1}{Z^2}\sum_\sigma \sigma_ie^{-\beta H}\sum_\sigma \sigma_je^{-\beta H}\Bigr)\\
&amp;= \beta\sum_{i,j}\Bigl(\bigl&lt;\sigma_i\sigma_j\bigr&gt; - \bigl&lt;\sigma_i\bigr&gt;\bigl&lt;\sigma_j\bigr&gt;\Bigl)\\
&amp;= \beta\sum_{i,j}G(i,j).
\end{align}
===

!!Critical Indices
|sortable2|k
|! |! |! |
| !Physical Quantity | !Name of Index | !Index Value (d=2) |h
| specific heat | $\alpha$ | $0$ (log singularity) |
| susceptibility | $\gamma$ | $7/4$ |
| susceptibility | $\gamma'$ | $7/4$ |
| magnetization | $\beta$ | $1/8$ |
| magnetization | $\delta$ | $15$ |
| correlation length | $\nu$ | $1$ |
| correlation functions | $\eta$ | $1/8$ |
|! |! |! |
&lt;&lt;sectionTOC&gt;&gt;</pre>
</div>
<div title="Ising Model Revision(0007)" modifier="Christopher Wilson" created="201404150621" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="35" content-type="text/x-tiddlywiki">
<pre>{{sectionTOC{}}}
!!Overview
We consider a finite lattice of spin configurations, denoted by
$$\Lambda_L = \{(i_1,i_2, \ldots,i_d):|i_d|\leq L,\; j=1,2,\ldots,d\},$$
which is a subset of $\mathbb{Z}^d$, where $d$ denotes the dimension of the space, and $i_j$ denotes a site in the lattice.  For each site in the lattice, there corresponds a spin value $\sigma_i \in \{1,-1\}$.  A set of possible spin configurations is denoted as $\{\sigma_i\}_{i\in\Lambda_L}$, which we will abbreviate as simply $\sigma$.

We define the general Hamiltonian $H$ of such a system as 
$$H(\sigma) = - \sum_{&lt;i,j&gt;} J_{ij}\sigma_i\sigma_j - \sum_i h_i\sigma_i.$$
In the above, the term $J_{ij}$ denotes the interaction strength between a spin pair, and $h_i$ represents the external magnetic field value at each lattice point.  We also write $&lt;i,j&gt; = \{i,j\in\Lambda_L:|i-j|=1\}$ to denote that the summation is over nearest neighbor pairs of Euclidean distance one.

Corresponding to the Hamiltonian is the probability measure function $\mathcal{P}_L(\sigma)$, given by the Bolzmann distribution
$$\mathcal{P}_L(\sigma) = \frac{1}{Z}e^{-\beta H(\sigma)}.$$
This distribution has been normalized by $Z$, which is the partition function corresponding to the system,
$$ Z = \sum_\sigma e^{-\beta H(\sigma)},$$
where as usual, $\beta = (k_B T)^{-1}$ denotes the inverse temperature of the system.

For our purposes, we will assume that the interaction strength between two spin sites is constant, $J = J_{ij}$, and that the external magnetic field is uniform over the spin lattice, $h = h_i$.  Then, our Hamiltonian simplifies as
$$ H(\sigma) = - J\sum_{&lt;i,j&gt;}\sigma_i\sigma_j -  h\sum_i\sigma_i.$$

From this, we may denote the mean energy of the system as
$$\left&lt;H(\sigma)\right&gt; = \frac{1}{Z}\sum_\sigma H(\sigma) e^{-\beta H(\sigma)}.$$

!!Mean Energy and Specific Heat
The [[Free Energy]] of the Ising model follows from general arguments of statistical mechanics.  The result of interest here is that we may express the derivative of the mean energy with respect to temperature as 
$$C= \partial_T \left&lt;H\right&gt; = \frac{1}{k_BT^2}\bigl&lt;\bigl(\Delta H\bigr)^2\bigr&gt;.$$
where $C$ is the heat capacity of the system, and $c_N = C/N$ is the specific heat of the system.

!!Magnetization and Susceptibility
We define the magnetization of the system to be $M\equiv -\partial_h H$, the negative derivative of the Hamiltonian with respect to the external magnetic field.  By computing this term, we find that the magnetization gives us a measure of the excess spin in the system,
$$ M = \sum_{i=1}^N \sigma_i,$$
where $N=L^d$ denotes the total number of lattice points. Furthermore, the magnetic susceptibility is obtained by differentiating the mean magnetization $\bigl&lt;M\bigr&gt;$ with respect to the external field $h$.  It can be shown that this parameter may be expressed as
$$\chi \;\;\equiv\;\; \partial_h\bigl&lt;M\bigr&gt;\;\; = \;\; \frac{1}{k_BT}\bigl&lt; (\Delta M)^2\bigr&gt;.$$

*+++!!!![Show Derivation]&gt;
In order to rewrite our expression for the susceptibility, we begin by noting that 
\begin{align}
\partial_h Z &amp;= \partial_h\sum_\sigma e^{-\beta H} \\
&amp;= \sum_\sigma(-\beta)(-M)e^{-\beta H} \\
&amp;= \beta Z\bigl&lt;M\bigr&gt;
\end{align} 
Therefore, $\chi$ may be computed as 
\begin{align}
\chi &amp;= \partial_h\bigl&lt;M\bigr&gt;\\
&amp;= \partial_h\frac{1}{Z}\sum_\sigma Me^{-\beta H}\\
&amp;= \frac{1}{Z^2}\biggl(\sum_\sigma M(-\beta)(-M)e^{-\beta H} Z -  \biggl(\sum_\sigma Me^{-\beta H}\biggr) \beta  Z\bigl&lt;M\bigr&gt;\biggr)\\
&amp;= \beta\Bigl(\bigr&lt;M^2\bigl&gt; - \bigr&lt;M\bigl&gt;^2\Bigr)\\
&amp;= \frac{1}{k_BT}\bigl&lt; (\Delta M)^2\bigr&gt;.
\end{align}
===
/%
We may then approximate the mean magnetization as
$$ \left&lt;M\right&gt; = \frac{1}{Z}\sum_\sigma\left(\sum_{i=1}^N \sigma_i\right)e^{-\beta H(\sigma)} \approx \frac{1}{N}\sum_{i=1}^N \sigma_i.$$
%/

!!Correlation Function
The correlation function $G(i,j)$ gives a measure of how correlated any two spins $\sigma_i$ and $\sigma_j$ are.  The correlation function is defined as 
$$ G(i,j) \equiv \bigl&lt;\sigma_i\sigma_j\bigr&gt;-\bigl&lt;\sigma_i\bigr&gt;\bigl&lt;\sigma_j\bigr&gt;.$$
Additionally, the magnetic susceptibility may be expressed in terms of the correlation function as
$$ \chi = \beta\sum_{i,j\in\Lambda}G(i,j).$$

*+++!!!![Show Derivation]&gt;
The relationship between $\chi$ and $G(i,j)$ may be simply showed as follows:
\begin{align}
\chi &amp;= \beta\Bigl(\bigr&lt;M^2\bigl&gt; - \bigr&lt;M\bigl&gt;^2\Bigr)\\[3pt]
&amp;= \beta\Bigl(\frac{1}{Z}\sum_\sigma\Bigl(\sum_i \sigma_i\Bigr)^2e^{-\beta H} - \frac{1}{Z^2}\sum_\sigma\sum_i \sigma_ie^{-\beta H}\sum_\sigma\sum_j \sigma_je^{-\beta H}\Bigr)\\
&amp;= \beta\sum_i\sum_j\Bigl( \frac{1}{Z}\sum_\sigma \sigma_i\sigma_j e^{-\beta H} - \frac{1}{Z^2}\sum_\sigma \sigma_ie^{-\beta H}\sum_\sigma \sigma_je^{-\beta H}\Bigr)\\
&amp;= \beta\sum_{i,j}\Bigl(\bigl&lt;\sigma_i\sigma_j\bigr&gt; - \bigl&lt;\sigma_i\bigr&gt;\bigl&lt;\sigma_j\bigr&gt;\Bigl)\\
&amp;= \beta\sum_{i,j}G(i,j).
\end{align}
===


!!Critical Indices
|sortable2|k
|! |! |! |
| !Physical Quantity | !Name of Index | !Index Value (d=2) |h
| specific heat | $\alpha$ | $0$ (log singularity) |
| susceptibility | $\gamma$ | $7/4$ |
| susceptibility | $\gamma'$ | $7/4$ |
| magnetization | $\beta$ | $1/8$ |
| magnetization | $\delta$ | $15$ |
| correlation length | $\nu$ | $1$ |
| correlation functions | $\eta$ | $1/8$ |
|! |! |! |
&lt;&lt;sectionTOC&gt;&gt;</pre>
</div>
<div title="Ising Model Revision(0008)" modifier="Christopher Wilson" created="201404150623" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="36" content-type="text/x-tiddlywiki">
<pre>{{sectionTOC{}}}
!!Overview
We consider a finite lattice of spin configurations, denoted by
$$\Lambda_L = \{(i_1,i_2, \ldots,i_d):|i_d|\leq L,\; j=1,2,\ldots,d\},$$
which is a subset of $\mathbb{Z}^d$, where $d$ denotes the dimension of the space, and $i_j$ denotes a site in the lattice.  For each site in the lattice, there corresponds a spin value $\sigma_i \in \{1,-1\}$.  A set of possible spin configurations is denoted as $\{\sigma_i\}_{i\in\Lambda_L}$, which we will abbreviate as simply $\sigma$.

We define the general Hamiltonian $H$ of such a system as 
$$H(\sigma) = - \sum_{&lt;i,j&gt;} J_{ij}\sigma_i\sigma_j - \sum_i h_i\sigma_i.$$
In the above, the term $J_{ij}$ denotes the interaction strength between a spin pair, and $h_i$ represents the external magnetic field value at each lattice point.  We also write $&lt;i,j&gt; = \{i,j\in\Lambda_L:|i-j|=1\}$ to denote that the summation is over nearest neighbor pairs of Euclidean distance one.

Corresponding to the Hamiltonian is the probability measure function $\mathcal{P}_L(\sigma)$, given by the Bolzmann distribution
$$\mathcal{P}_L(\sigma) = \frac{1}{Z}e^{-\beta H(\sigma)}.$$
This distribution has been normalized by $Z$, which is the partition function corresponding to the system,
$$ Z = \sum_\sigma e^{-\beta H(\sigma)},$$
where as usual, $\beta = (k_B T)^{-1}$ denotes the inverse temperature of the system.

For our purposes, we will assume that the interaction strength between two spin sites is constant, $J = J_{ij}$, and that the external magnetic field is uniform over the spin lattice, $h = h_i$.  Then, our Hamiltonian simplifies as
$$ H(\sigma) = - J\sum_{&lt;i,j&gt;}\sigma_i\sigma_j -  h\sum_i\sigma_i.$$

From this, we may denote the mean energy of the system as
$$\left&lt;H(\sigma)\right&gt; = \frac{1}{Z}\sum_\sigma H(\sigma) e^{-\beta H(\sigma)}.$$

!!Mean Energy and Specific Heat
The [[Free Energy]] of the Ising model follows from general arguments of statistical mechanics.  The result of interest here is that we may express the derivative of the mean energy with respect to temperature as 
$$C= \partial_T \left&lt;H\right&gt; = \frac{1}{k_BT^2}\bigl&lt;\bigl(\Delta H\bigr)^2\bigr&gt;.$$
where $C$ is the heat capacity of the system, and $c_N = C/N$ is the specific heat of the system.

!!Magnetization and Susceptibility
We define the magnetization of the system to be $M\equiv -\partial_h H$, the negative derivative of the Hamiltonian with respect to the external magnetic field.  By computing this term, we find that the magnetization gives us a measure of the excess spin in the system,
$$ M = \sum_{i=1}^N \sigma_i,$$
where $N=L^d$ denotes the total number of lattice points. Furthermore, the magnetic susceptibility is obtained by differentiating the mean magnetization $\bigl&lt;M\bigr&gt;$ with respect to the external field $h$.  It can be shown that this parameter may be expressed as
$$\chi \;\;\equiv\;\; \partial_h\bigl&lt;M\bigr&gt;\;\; = \;\; \frac{1}{k_BT}\bigl&lt; (\Delta M)^2\bigr&gt;.$$

*+++!!!![Show Derivation]&gt;
In order to rewrite our expression for the susceptibility, we begin by noting that 
\begin{align}
\partial_h Z &amp;= \partial_h\sum_\sigma e^{-\beta H} \\
&amp;= \sum_\sigma(-\beta)(-M)e^{-\beta H} \\
&amp;= \beta Z\bigl&lt;M\bigr&gt;
\end{align} 
Therefore, $\chi$ may be computed as 
\begin{align}
\chi &amp;= \partial_h\bigl&lt;M\bigr&gt;\\
&amp;= \partial_h\frac{1}{Z}\sum_\sigma Me^{-\beta H}\\
&amp;= \frac{1}{Z^2}\biggl(\sum_\sigma M(-\beta)(-M)e^{-\beta H} Z -  \biggl(\sum_\sigma Me^{-\beta H}\biggr) \beta  Z\bigl&lt;M\bigr&gt;\biggr)\\
&amp;= \beta\Bigl(\bigr&lt;M^2\bigl&gt; - \bigr&lt;M\bigl&gt;^2\Bigr)\\
&amp;= \frac{1}{k_BT}\bigl&lt; (\Delta M)^2\bigr&gt;.
\end{align}
===
/%
We may then approximate the mean magnetization as
$$ \left&lt;M\right&gt; = \frac{1}{Z}\sum_\sigma\left(\sum_{i=1}^N \sigma_i\right)e^{-\beta H(\sigma)} \approx \frac{1}{N}\sum_{i=1}^N \sigma_i.$$
%/

!!Correlation Function
The correlation function $G(i,j)$ gives a measure of how correlated any two spins $\sigma_i$ and $\sigma_j$ are.  The correlation function is defined as 
$$ G(i,j) \equiv \bigl&lt;\sigma_i\sigma_j\bigr&gt;-\bigl&lt;\sigma_i\bigr&gt;\bigl&lt;\sigma_j\bigr&gt;.$$
Additionally, the magnetic susceptibility may be expressed in terms of the correlation function as
$$ \chi = \beta\sum_{i,j\in\Lambda}G(i,j).$$

*+++!!!![Show Derivation]&gt;
The relationship between $\chi$ and $G(i,j)$ may be simply showed as follows:
\begin{align}
\chi &amp;= \beta\Bigl(\bigr&lt;M^2\bigl&gt; - \bigr&lt;M\bigl&gt;^2\Bigr)\\[3pt]
&amp;= \beta\Bigl(\frac{1}{Z}\sum_\sigma\Bigl(\sum_i \sigma_i\Bigr)^2e^{-\beta H} - \frac{1}{Z^2}\sum_\sigma\sum_i \sigma_ie^{-\beta H}\sum_\sigma\sum_j \sigma_je^{-\beta H}\Bigr)\\
&amp;= \beta\sum_i\sum_j\Bigl( \frac{1}{Z}\sum_\sigma \sigma_i\sigma_j e^{-\beta H} - \frac{1}{Z^2}\sum_\sigma \sigma_ie^{-\beta H}\sum_\sigma \sigma_je^{-\beta H}\Bigr)\\
&amp;= \beta\sum_{i,j}\Bigl(\bigl&lt;\sigma_i\sigma_j\bigr&gt; - \bigl&lt;\sigma_i\bigr&gt;\bigl&lt;\sigma_j\bigr&gt;\Bigl)\\
&amp;= \beta\sum_{i,j}G(i,j).
\end{align}
===


!!Critical Indices
|sortable3|k
|! |! |! |
| !Physical Quantity | !Name of Index | !Index Value (d=2) |h
| specific heat | $\alpha$ | $0$ (log singularity) |
| susceptibility | $\gamma$ | $7/4$ |
| susceptibility | $\gamma'$ | $7/4$ |
| magnetization | $\beta$ | $1/8$ |
| magnetization | $\delta$ | $15$ |
| correlation length | $\nu$ | $1$ |
| correlation functions | $\eta$ | $1/8$ |
|! |! |! |
&lt;&lt;sectionTOC&gt;&gt;</pre>
</div>
<div title="Ising Model Revision(0009)" modifier="Christopher Wilson" created="201404150627" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="37" content-type="text/x-tiddlywiki">
<pre>{{sectionTOC{}}}
!!Overview
We consider a finite lattice of spin configurations, denoted by
$$\Lambda_L = \{(i_1,i_2, \ldots,i_d):|i_d|\leq L,\; j=1,2,\ldots,d\},$$
which is a subset of $\mathbb{Z}^d$, where $d$ denotes the dimension of the space, and $i_j$ denotes a site in the lattice.  For each site in the lattice, there corresponds a spin value $\sigma_i \in \{1,-1\}$.  A set of possible spin configurations is denoted as $\{\sigma_i\}_{i\in\Lambda_L}$, which we will abbreviate as simply $\sigma$.

We define the general Hamiltonian $H$ of such a system as 
$$H(\sigma) = - \sum_{&lt;i,j&gt;} J_{ij}\sigma_i\sigma_j - \sum_i h_i\sigma_i.$$
In the above, the term $J_{ij}$ denotes the interaction strength between a spin pair, and $h_i$ represents the external magnetic field value at each lattice point.  We also write $&lt;i,j&gt; = \{i,j\in\Lambda_L:|i-j|=1\}$ to denote that the summation is over nearest neighbor pairs of Euclidean distance one.

Corresponding to the Hamiltonian is the probability measure function $\mathcal{P}_L(\sigma)$, given by the Bolzmann distribution
$$\mathcal{P}_L(\sigma) = \frac{1}{Z}e^{-\beta H(\sigma)}.$$
This distribution has been normalized by $Z$, which is the partition function corresponding to the system,
$$ Z = \sum_\sigma e^{-\beta H(\sigma)},$$
where as usual, $\beta = (k_B T)^{-1}$ denotes the inverse temperature of the system.

For our purposes, we will assume that the interaction strength between two spin sites is constant, $J = J_{ij}$, and that the external magnetic field is uniform over the spin lattice, $h = h_i$.  Then, our Hamiltonian simplifies as
$$ H(\sigma) = - J\sum_{&lt;i,j&gt;}\sigma_i\sigma_j -  h\sum_i\sigma_i.$$

From this, we may denote the mean energy of the system as
$$\left&lt;H(\sigma)\right&gt; = \frac{1}{Z}\sum_\sigma H(\sigma) e^{-\beta H(\sigma)}.$$

!!Mean Energy and Specific Heat
The [[Free Energy]] of the Ising model follows from general arguments of statistical mechanics.  The result of interest here is that we may express the derivative of the mean energy with respect to temperature as 
$$C= \partial_T \left&lt;H\right&gt; = \frac{1}{k_BT^2}\bigl&lt;\bigl(\Delta H\bigr)^2\bigr&gt;.$$
where $C$ is the heat capacity of the system, and $c_N = C/N$ is the specific heat of the system.

!!Magnetization and Susceptibility
We define the magnetization of the system to be $M\equiv -\partial_h H$, the negative derivative of the Hamiltonian with respect to the external magnetic field.  By computing this term, we find that the magnetization gives us a measure of the excess spin in the system,
$$ M = \sum_{i=1}^N \sigma_i,$$
where $N=L^d$ denotes the total number of lattice points. Furthermore, the magnetic susceptibility is obtained by differentiating the mean magnetization $\bigl&lt;M\bigr&gt;$ with respect to the external field $h$.  It can be shown that this parameter may be expressed as
$$\chi \;\;\equiv\;\; \partial_h\bigl&lt;M\bigr&gt;\;\; = \;\; \frac{1}{k_BT}\bigl&lt; (\Delta M)^2\bigr&gt;.$$

*+++!!!![Show Derivation]&gt;
In order to rewrite our expression for the susceptibility, we begin by noting that 
\begin{align}
\partial_h Z &amp;= \partial_h\sum_\sigma e^{-\beta H} \\
&amp;= \sum_\sigma(-\beta)(-M)e^{-\beta H} \\
&amp;= \beta Z\bigl&lt;M\bigr&gt;
\end{align} 
Therefore, $\chi$ may be computed as 
\begin{align}
\chi &amp;= \partial_h\bigl&lt;M\bigr&gt;\\
&amp;= \partial_h\frac{1}{Z}\sum_\sigma Me^{-\beta H}\\
&amp;= \frac{1}{Z^2}\biggl(\sum_\sigma M(-\beta)(-M)e^{-\beta H} Z -  \biggl(\sum_\sigma Me^{-\beta H}\biggr) \beta  Z\bigl&lt;M\bigr&gt;\biggr)\\
&amp;= \beta\Bigl(\bigr&lt;M^2\bigl&gt; - \bigr&lt;M\bigl&gt;^2\Bigr)\\
&amp;= \frac{1}{k_BT}\bigl&lt; (\Delta M)^2\bigr&gt;.
\end{align}
===
/%
We may then approximate the mean magnetization as
$$ \left&lt;M\right&gt; = \frac{1}{Z}\sum_\sigma\left(\sum_{i=1}^N \sigma_i\right)e^{-\beta H(\sigma)} \approx \frac{1}{N}\sum_{i=1}^N \sigma_i.$$
%/

!!Correlation Function
The correlation function $G(i,j)$ gives a measure of how correlated any two spins $\sigma_i$ and $\sigma_j$ are.  The correlation function is defined as 
$$ G(i,j) \equiv \bigl&lt;\sigma_i\sigma_j\bigr&gt;-\bigl&lt;\sigma_i\bigr&gt;\bigl&lt;\sigma_j\bigr&gt;.$$
Additionally, the magnetic susceptibility may be expressed in terms of the correlation function as
$$ \chi = \beta\sum_{i,j\in\Lambda}G(i,j).$$

*+++!!!![Show Derivation]&gt;
The relationship between $\chi$ and $G(i,j)$ may be simply showed as follows:
\begin{align}
\chi &amp;= \beta\Bigl(\bigr&lt;M^2\bigl&gt; - \bigr&lt;M\bigl&gt;^2\Bigr)\\[3pt]
&amp;= \beta\Bigl(\frac{1}{Z}\sum_\sigma\Bigl(\sum_i \sigma_i\Bigr)^2e^{-\beta H} - \frac{1}{Z^2}\sum_\sigma\sum_i \sigma_ie^{-\beta H}\sum_\sigma\sum_j \sigma_je^{-\beta H}\Bigr)\\
&amp;= \beta\sum_i\sum_j\Bigl( \frac{1}{Z}\sum_\sigma \sigma_i\sigma_j e^{-\beta H} - \frac{1}{Z^2}\sum_\sigma \sigma_ie^{-\beta H}\sum_\sigma \sigma_je^{-\beta H}\Bigr)\\
&amp;= \beta\sum_{i,j}\Bigl(\bigl&lt;\sigma_i\sigma_j\bigr&gt; - \bigl&lt;\sigma_i\bigr&gt;\bigl&lt;\sigma_j\bigr&gt;\Bigl)\\
&amp;= \beta\sum_{i,j}G(i,j).
\end{align}
===


!!Critical Indices&lt;&lt;bibtex kadanoff2000statistical&gt;&gt;
|sortable3|k
|! |! |! |
| !Physical Quantity | !Name of Index | !Index Value (d=2) |h
| specific heat | $\alpha$ | $0$ (log singularity) |
| susceptibility | $\gamma$ | $7/4$ |
| susceptibility | $\gamma'$ | $7/4$ |
| magnetization | $\beta$ | $1/8$ |
| magnetization | $\delta$ | $15$ |
| correlation length | $\nu$ | $1$ |
| correlation functions | $\eta$ | $1/8$ |
|! |! |! |
&lt;&lt;sectionTOC&gt;&gt;</pre>
</div>
<div title="Ising Model Revision(0010)" modifier="Christopher Wilson" created="201404150628" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="38" content-type="text/x-tiddlywiki">
<pre>{{sectionTOC{}}}
!!Overview
We consider a finite lattice of spin configurations, denoted by
$$\Lambda_L = \{(i_1,i_2, \ldots,i_d):|i_d|\leq L,\; j=1,2,\ldots,d\},$$
which is a subset of $\mathbb{Z}^d$, where $d$ denotes the dimension of the space, and $i_j$ denotes a site in the lattice.  For each site in the lattice, there corresponds a spin value $\sigma_i \in \{1,-1\}$.  A set of possible spin configurations is denoted as $\{\sigma_i\}_{i\in\Lambda_L}$, which we will abbreviate as simply $\sigma$.

We define the general Hamiltonian $H$ of such a system as 
$$H(\sigma) = - \sum_{&lt;i,j&gt;} J_{ij}\sigma_i\sigma_j - \sum_i h_i\sigma_i.$$
In the above, the term $J_{ij}$ denotes the interaction strength between a spin pair, and $h_i$ represents the external magnetic field value at each lattice point.  We also write $&lt;i,j&gt; = \{i,j\in\Lambda_L:|i-j|=1\}$ to denote that the summation is over nearest neighbor pairs of Euclidean distance one.

Corresponding to the Hamiltonian is the probability measure function $\mathcal{P}_L(\sigma)$, given by the Bolzmann distribution
$$\mathcal{P}_L(\sigma) = \frac{1}{Z}e^{-\beta H(\sigma)}.$$
This distribution has been normalized by $Z$, which is the partition function corresponding to the system,
$$ Z = \sum_\sigma e^{-\beta H(\sigma)},$$
where as usual, $\beta = (k_B T)^{-1}$ denotes the inverse temperature of the system.

For our purposes, we will assume that the interaction strength between two spin sites is constant, $J = J_{ij}$, and that the external magnetic field is uniform over the spin lattice, $h = h_i$.  Then, our Hamiltonian simplifies as
$$ H(\sigma) = - J\sum_{&lt;i,j&gt;}\sigma_i\sigma_j -  h\sum_i\sigma_i.$$

From this, we may denote the mean energy of the system as
$$\left&lt;H(\sigma)\right&gt; = \frac{1}{Z}\sum_\sigma H(\sigma) e^{-\beta H(\sigma)}.$$

!!Mean Energy and Specific Heat
The [[Free Energy]] of the Ising model follows from general arguments of statistical mechanics.  The result of interest here is that we may express the derivative of the mean energy with respect to temperature as 
$$C= \partial_T \left&lt;H\right&gt; = \frac{1}{k_BT^2}\bigl&lt;\bigl(\Delta H\bigr)^2\bigr&gt;.$$
where $C$ is the heat capacity of the system, and $c_N = C/N$ is the specific heat of the system.

!!Magnetization and Susceptibility
We define the magnetization of the system to be $M\equiv -\partial_h H$, the negative derivative of the Hamiltonian with respect to the external magnetic field.  By computing this term, we find that the magnetization gives us a measure of the excess spin in the system,
$$ M = \sum_{i=1}^N \sigma_i,$$
where $N=L^d$ denotes the total number of lattice points. Furthermore, the magnetic susceptibility is obtained by differentiating the mean magnetization $\bigl&lt;M\bigr&gt;$ with respect to the external field $h$.  It can be shown that this parameter may be expressed as
$$\chi \;\;\equiv\;\; \partial_h\bigl&lt;M\bigr&gt;\;\; = \;\; \frac{1}{k_BT}\bigl&lt; (\Delta M)^2\bigr&gt;.$$

*+++!!!![Show Derivation]&gt;
In order to rewrite our expression for the susceptibility, we begin by noting that 
\begin{align}
\partial_h Z &amp;= \partial_h\sum_\sigma e^{-\beta H} \\
&amp;= \sum_\sigma(-\beta)(-M)e^{-\beta H} \\
&amp;= \beta Z\bigl&lt;M\bigr&gt;
\end{align} 
Therefore, $\chi$ may be computed as 
\begin{align}
\chi &amp;= \partial_h\bigl&lt;M\bigr&gt;\\
&amp;= \partial_h\frac{1}{Z}\sum_\sigma Me^{-\beta H}\\
&amp;= \frac{1}{Z^2}\biggl(\sum_\sigma M(-\beta)(-M)e^{-\beta H} Z -  \biggl(\sum_\sigma Me^{-\beta H}\biggr) \beta  Z\bigl&lt;M\bigr&gt;\biggr)\\
&amp;= \beta\Bigl(\bigr&lt;M^2\bigl&gt; - \bigr&lt;M\bigl&gt;^2\Bigr)\\
&amp;= \frac{1}{k_BT}\bigl&lt; (\Delta M)^2\bigr&gt;.
\end{align}
===
/%
We may then approximate the mean magnetization as
$$ \left&lt;M\right&gt; = \frac{1}{Z}\sum_\sigma\left(\sum_{i=1}^N \sigma_i\right)e^{-\beta H(\sigma)} \approx \frac{1}{N}\sum_{i=1}^N \sigma_i.$$
%/

!!Correlation Function
The correlation function $G(i,j)$ gives a measure of how correlated any two spins $\sigma_i$ and $\sigma_j$ are.  The correlation function is defined as 
$$ G(i,j) \equiv \bigl&lt;\sigma_i\sigma_j\bigr&gt;-\bigl&lt;\sigma_i\bigr&gt;\bigl&lt;\sigma_j\bigr&gt;.$$
Additionally, the magnetic susceptibility may be expressed in terms of the correlation function as
$$ \chi = \beta\sum_{i,j\in\Lambda}G(i,j).$$

*+++!!!![Show Derivation]&gt;
The relationship between $\chi$ and $G(i,j)$ may be simply showed as follows:
\begin{align}
\chi &amp;= \beta\Bigl(\bigr&lt;M^2\bigl&gt; - \bigr&lt;M\bigl&gt;^2\Bigr)\\[3pt]
&amp;= \beta\Bigl(\frac{1}{Z}\sum_\sigma\Bigl(\sum_i \sigma_i\Bigr)^2e^{-\beta H} - \frac{1}{Z^2}\sum_\sigma\sum_i \sigma_ie^{-\beta H}\sum_\sigma\sum_j \sigma_je^{-\beta H}\Bigr)\\
&amp;= \beta\sum_i\sum_j\Bigl( \frac{1}{Z}\sum_\sigma \sigma_i\sigma_j e^{-\beta H} - \frac{1}{Z^2}\sum_\sigma \sigma_ie^{-\beta H}\sum_\sigma \sigma_je^{-\beta H}\Bigr)\\
&amp;= \beta\sum_{i,j}\Bigl(\bigl&lt;\sigma_i\sigma_j\bigr&gt; - \bigl&lt;\sigma_i\bigr&gt;\bigl&lt;\sigma_j\bigr&gt;\Bigl)\\
&amp;= \beta\sum_{i,j}G(i,j).
\end{align}
===


!!Critical Indices&lt;&lt;bibtex kadanoff2000statistical&gt;&gt;
|sortable3|k
|! |! |! |
| !Physical Quantity | !Name of Index | !Index Value (d=2) |h
| specific heat | $\alpha$ | $0$ (log singularity) |
| susceptibility | $\gamma$ | $7/4$ |
| susceptibility | $\gamma'$ | $7/4$ |
| magnetization | $\beta$ | $1/8$ |
| magnetization | $\delta$ | $15$ |
| correlation length | $\nu$ | $1$ |
| correlation functions | $\eta$ | $1/8$ |
|! |! |! |

!!References
&lt;&lt;sectionTOC&gt;&gt;</pre>
</div>
<div title="Ising Model Revision(0011)" modifier="Christopher Wilson" created="201404150629" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="39" content-type="text/x-tiddlywiki">
<pre>{{sectionTOC{}}}
!!Overview
We consider a finite lattice of spin configurations, denoted by
$$\Lambda_L = \{(i_1,i_2, \ldots,i_d):|i_d|\leq L,\; j=1,2,\ldots,d\},$$
which is a subset of $\mathbb{Z}^d$, where $d$ denotes the dimension of the space, and $i_j$ denotes a site in the lattice.  For each site in the lattice, there corresponds a spin value $\sigma_i \in \{1,-1\}$.  A set of possible spin configurations is denoted as $\{\sigma_i\}_{i\in\Lambda_L}$, which we will abbreviate as simply $\sigma$.

We define the general Hamiltonian $H$ of such a system as 
$$H(\sigma) = - \sum_{&lt;i,j&gt;} J_{ij}\sigma_i\sigma_j - \sum_i h_i\sigma_i.$$
In the above, the term $J_{ij}$ denotes the interaction strength between a spin pair, and $h_i$ represents the external magnetic field value at each lattice point.  We also write $&lt;i,j&gt; = \{i,j\in\Lambda_L:|i-j|=1\}$ to denote that the summation is over nearest neighbor pairs of Euclidean distance one.

Corresponding to the Hamiltonian is the probability measure function $\mathcal{P}_L(\sigma)$, given by the Bolzmann distribution
$$\mathcal{P}_L(\sigma) = \frac{1}{Z}e^{-\beta H(\sigma)}.$$
This distribution has been normalized by $Z$, which is the partition function corresponding to the system,
$$ Z = \sum_\sigma e^{-\beta H(\sigma)},$$
where as usual, $\beta = (k_B T)^{-1}$ denotes the inverse temperature of the system.

For our purposes, we will assume that the interaction strength between two spin sites is constant, $J = J_{ij}$, and that the external magnetic field is uniform over the spin lattice, $h = h_i$.  Then, our Hamiltonian simplifies as
$$ H(\sigma) = - J\sum_{&lt;i,j&gt;}\sigma_i\sigma_j -  h\sum_i\sigma_i.$$

From this, we may denote the mean energy of the system as
$$\left&lt;H(\sigma)\right&gt; = \frac{1}{Z}\sum_\sigma H(\sigma) e^{-\beta H(\sigma)}.$$

!!Mean Energy and Specific Heat
The [[Free Energy]] of the Ising model follows from general arguments of statistical mechanics.  The result of interest here is that we may express the derivative of the mean energy with respect to temperature as 
$$C= \partial_T \left&lt;H\right&gt; = \frac{1}{k_BT^2}\bigl&lt;\bigl(\Delta H\bigr)^2\bigr&gt;.$$
where $C$ is the heat capacity of the system, and $c_N = C/N$ is the specific heat of the system.

!!Magnetization and Susceptibility
We define the magnetization of the system to be $M\equiv -\partial_h H$, the negative derivative of the Hamiltonian with respect to the external magnetic field.  By computing this term, we find that the magnetization gives us a measure of the excess spin in the system,
$$ M = \sum_{i=1}^N \sigma_i,$$
where $N=L^d$ denotes the total number of lattice points. Furthermore, the magnetic susceptibility is obtained by differentiating the mean magnetization $\bigl&lt;M\bigr&gt;$ with respect to the external field $h$.  It can be shown that this parameter may be expressed as
$$\chi \;\;\equiv\;\; \partial_h\bigl&lt;M\bigr&gt;\;\; = \;\; \frac{1}{k_BT}\bigl&lt; (\Delta M)^2\bigr&gt;.$$

*+++!!!![Show Derivation]&gt;
In order to rewrite our expression for the susceptibility, we begin by noting that 
\begin{align}
\partial_h Z &amp;= \partial_h\sum_\sigma e^{-\beta H} \\
&amp;= \sum_\sigma(-\beta)(-M)e^{-\beta H} \\
&amp;= \beta Z\bigl&lt;M\bigr&gt;
\end{align} 
Therefore, $\chi$ may be computed as 
\begin{align}
\chi &amp;= \partial_h\bigl&lt;M\bigr&gt;\\
&amp;= \partial_h\frac{1}{Z}\sum_\sigma Me^{-\beta H}\\
&amp;= \frac{1}{Z^2}\biggl(\sum_\sigma M(-\beta)(-M)e^{-\beta H} Z -  \biggl(\sum_\sigma Me^{-\beta H}\biggr) \beta  Z\bigl&lt;M\bigr&gt;\biggr)\\
&amp;= \beta\Bigl(\bigr&lt;M^2\bigl&gt; - \bigr&lt;M\bigl&gt;^2\Bigr)\\
&amp;= \frac{1}{k_BT}\bigl&lt; (\Delta M)^2\bigr&gt;.
\end{align}
===
/%
We may then approximate the mean magnetization as
$$ \left&lt;M\right&gt; = \frac{1}{Z}\sum_\sigma\left(\sum_{i=1}^N \sigma_i\right)e^{-\beta H(\sigma)} \approx \frac{1}{N}\sum_{i=1}^N \sigma_i.$$
%/

!!Correlation Function
The correlation function $G(i,j)$ gives a measure of how correlated any two spins $\sigma_i$ and $\sigma_j$ are.  The correlation function is defined as 
$$ G(i,j) \equiv \bigl&lt;\sigma_i\sigma_j\bigr&gt;-\bigl&lt;\sigma_i\bigr&gt;\bigl&lt;\sigma_j\bigr&gt;.$$
Additionally, the magnetic susceptibility may be expressed in terms of the correlation function as
$$ \chi = \beta\sum_{i,j\in\Lambda}G(i,j).$$

*+++!!!![Show Derivation]&gt;
The relationship between $\chi$ and $G(i,j)$ may be simply showed as follows:
\begin{align}
\chi &amp;= \beta\Bigl(\bigr&lt;M^2\bigl&gt; - \bigr&lt;M\bigl&gt;^2\Bigr)\\[3pt]
&amp;= \beta\Bigl(\frac{1}{Z}\sum_\sigma\Bigl(\sum_i \sigma_i\Bigr)^2e^{-\beta H} - \frac{1}{Z^2}\sum_\sigma\sum_i \sigma_ie^{-\beta H}\sum_\sigma\sum_j \sigma_je^{-\beta H}\Bigr)\\
&amp;= \beta\sum_i\sum_j\Bigl( \frac{1}{Z}\sum_\sigma \sigma_i\sigma_j e^{-\beta H} - \frac{1}{Z^2}\sum_\sigma \sigma_ie^{-\beta H}\sum_\sigma \sigma_je^{-\beta H}\Bigr)\\
&amp;= \beta\sum_{i,j}\Bigl(\bigl&lt;\sigma_i\sigma_j\bigr&gt; - \bigl&lt;\sigma_i\bigr&gt;\bigl&lt;\sigma_j\bigr&gt;\Bigl)\\
&amp;= \beta\sum_{i,j}G(i,j).
\end{align}
===


!!Critical Indices
|sortable3|k
|! |! |! |
| !Physical Quantity | !Name of Index | !Index Value (d=2) |h
| specific heat | $\alpha$ | $0$ (log singularity) |
| susceptibility | $\gamma$ | $7/4$ |
| susceptibility | $\gamma'$ | $7/4$ |
| magnetization | $\beta$ | $1/8$ |
| magnetization | $\delta$ | $15$ |
| correlation length | $\nu$ | $1$ |
| correlation functions | $\eta$ | $1/8$ |
|! |! |! |
&lt;&lt;bibtex kadanoff2000statistical&gt;&gt;

!!References
&lt;&lt;sectionTOC&gt;&gt;</pre>
</div>
<div title="Ising Model: Exact Results" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405160313" modified="201405160334" tags="[[Critical Phenomena]]" content-type="text/x-tiddlywiki" changecount="17">
<pre>{{sectionTOC{}}}
//''Note:'' The following content was directly copied directly from Scholarpedia&lt;&lt;bibtex McCoy:2010&gt;&gt; as a test to see how well content from other wiki's naturally displayed on my format.  I am otherwise not trying to claim their work as my own.//

The ''Ising model'' is a simple classical model of a ferromagnet which has 
the remarkable property that in two dimensions its physical properties may be exactly calculated.
These exact calculations have given microscopic insight into the many body collective phenomena of phase transitions and have developed new areas of mathematics.

!!Historical Introduction

The Ising model was introduced by Lenz in 1920 and solved in one dimension by Ising in 1925.It is defined by placing &quot;spin&quot; variables $ \sigma $ which take on the values $ \pm 1 $ on the sites of a latticeand there an interaction energy between nearest neighbor spins of $ -E $ if the spins have the same value and $ +E $ if the spins have opposite values. On a rectangular lattice of $ L_v $ rows and $ L_h $ columnswith periodic boundary conditions in both directions; this gives a total interaction energy of

$ {\mathcal E}=-\sum_{j=1}^{L_v}\sum_{k=1}^{L_h}\{E^h\sigma_{j,k}\sigma_{j,k+1}+
E^v\sigma_{j,k}\sigma_{j+1,k}+H\sigma_{j,k}\} $ 

where $ \sigma_{j,k} $ is the spin in row $ j $ and column $ k\ , $
the last term is the interaction with an external magnetic field and the energies $ E^h $ and $ E^v $ are allowed to be different.

In 1944 L. Onsager made one of the most important discoveries in theoretical physics of 
the 20th century by finding that when $ H=0 $ the free energy and the specific heat 
of the Ising model
may be exactly calculated in the thermodynamic limit where $ L_v,L_h \rightarrow \infty $
as a two dimensional integral.
From this integral Onsager found that there is a temperature $ T_c $ defined by

$ \sinh2E^h/k_BT_c\sinh2E^v/k_BT_c=1  $

with $ k_B $ being Boltzmann's constant,
where the specific heat $ c $ diverges as $ T\rightarrow T_c $ as

$ c\sim A_C\ln|T-T_c| $

and thus the ''critical exponent'' $ \alpha=0\ . $
This initial discovery was followed in 1949 by the calculation 
by B. Kaufman of the partition function

$ Z=\sum_{ {\rm all~states} }e^{-{\mathcal E}/k_BT} $

for the finite lattice
and by B. Kaufman and L. Onsager of the two spin correlation function 

$ \langle\sigma_{0,0}\sigma_{M,N}\rangle=\lim_{L_v,L_h\rightarrow \infty}Z^{-1}\sum_{\rm all~states}
\sigma_{0,0}\sigma_{M,N}e^{-{\mathcal E}/k_BT} $ 

in terms of determinants which for small separations between the spins may be easily evaluated, 

The next property to be studied was 
the spontaneous magnetization defined as

$  {\mathcal M}_{-}=\lim_{H\rightarrow 0+}M(H) $

where

$ {\mathcal M}(H)=\lim_{L_v,L_h\rightarrow \infty} Z^{-1}\sum_{ {\rm all~states} }\sigma_{1,1}e^{-{\mathcal E}/k_BT} $

The exact expression  was announced by Onsager in 1949 and proven by C.N. Yang in 1952.
It is nonzero only for $ T&lt;T_c $ and vanishes as $ T\rightarrow T_c- $ as

$ {\mathcal M}_{-}\sim A_M(T_c-T)^{1/8} $
 
and thus the ''critical exponent'' $ \beta=1/8\ . $

To make further progress it was necessary  to invent mathematics to efficiently study
the determinants of Kaufman and Onsager for the two spin correlation function when the separation
$ M^2+N^2 $ is large. This new mathematics was initiated by T.T. Wu in 1966 and has been developed in great length by several authors. This led to the remarkable and unexpected discovery in 1976 by T.T Wu, 
B.M. McCoy, C.A. Tracy and E. Barouch that for temperatures near $ T_c $
the correlation can be expressed in terms of a ''Painlev function'' of the third kind, 
and in 1980 to the equally remarkable discovery by  M. Jimbo and T.Miwa that for all temperatures the diagonal correlation function $ \langle \sigma_{0,0}\sigma_{N,N}\rangle $ is given in terms of a ''Painlev function''  of the sixth kind. Important properties of the spin correlations are still being discovered.

The final thermodynamic property  of interest is the magnetic susceptibility at $ H=0 $

$ \chi(T)=d{\mathcal M}(H)/dH|_{H=0} $

which is expressed in terms of $ \langle\sigma_{0,0}\sigma_{M,N}\rangle $ as

$ \chi(T)=\frac{1}{k_BT}\sum_{M=-\infty}^{\infty}\sum_{N=-\infty}^{\infty}\{\langle\sigma_{0,0}
\sigma_{M,N}\rangle-{\mathcal M}_{-}^2\} $
 
When $ T\rightarrow T_c $ the susceptibility diverges as

$ \chi(T)\sim A_{\pm}|T-T_c|^{-7/4} $

and thus the  ''critical exponent'' $ \gamma=7/4\ . $
The amplitudes $ A_{\pm} $ are different for $ T $ above or below $ T_c $ and the ratio $ A_{+}/A_{-} $ is approximately $ 12\pi\ . $
However, unlike the free energy and the spontaneous magnetization 
the  full mathematical structure of the susceptibility as a function of temperature  is as yet unknown.

!!Methods of Solution

There are at least five different methods which have been used to compute the free energy of the Ising model

1. ''Onsager's algebra.'' Onsager's 1944 computation computes the free  energy by discovering that the model can be described by what is now known as an $ sl_2 $ loop algebra. This is an extremely deep 
mathematical development, the full generality of which is still under development.  

2. ''Fermionic operators.'' In 1949  Kaufman found a much simpler method of computing the free energy and the partition function by use of spinor analysis. This was substantially simplified in 1964 by Schultz, Mattis and Lieb who reduced the spinor analysis of the partition function to the 
evaluation of an exponential of a quadratic form in Fermion creation and annihilation operators which can be diagonalized by linear algebra. This method
is far less general than Onsager's algebra but is sufficiently powerful that it can also be used to compute the correlation functions in terms of determinants.

3. ''Combinatoric.'' A related method which reduces the computation of the partition function and correlation functions to a graph counting problem was given by Kac, Ward, Potts, Hurst and Green in several papers, and the relation to a solvable problem in dimer statistics was presented by P.W. Kastelyn in 1963. 

4. ''Commuting transfer matrices.'' An extremely powerful method which has been generalized to solve many classes of models in 2 dimensions was invented by R.J. Baxter which relies on an invariance exhibited by the anisotropic model where
$ \sinh 2E^v/k_BT\sinh2E^h/k_BT $
is fixed but $ E^h/E^v $ is allowed to vary. 

5.''The 399th solution.'' A completely new method found by R.J. Baxter and I.G.
Enting in 1978.

!!Partition Function and Specific Heat

Kaufman computed the partition function $ Z $ as the sum of the Pfaffians (the square root of the determinant) of  four antisymmetric matrices and each of these Pfaffians is evaluated as a double product. In the thermodynamic limit where $ L_h,~L_v\rightarrow \infty $ these four terms are equal to leading order, with the result that the free energy per site is

$ -F/k_BT=\lim_{L_v,L_h\rightarrow \infty}(L_vL_h)^{-1}\ln Z $
$ =\ln2+\frac{1}{8\pi^2}\int_0^{2\pi}d\theta_1\int_0^{2\pi}d\theta_2 \ln[\cosh2K^h\cosh2K^v-\sinh 2K^h \cos \theta_1-\sinh 2K^v\cos \theta_2] $
  
where $ K^{(v,h)}=E^{(v,h)}/k_BT $

The specific heat $ c $ is obtained from the free energy as
$ c=-Td^2F/dT^2 $

!!Spontaneous Magnetization

The exact value of the spontaneous magnetization is

$ {\mathcal M}_{-}=\{1-(\sinh 2E^v/k_BT  \sinh 2E^h/k_BT)^{-2}\}^{1/8} $

!!Spin Correlation Functions

The Ising model is unique among all problems in statistical because not only can
the macroscopic thermodynamic properties of free energy and spontaneeous magnetization 
be exactly computed, but the spin correlation functions are exactly computable also. This unique
feature of the Ising model allows an exact microscopic description of the behavior near the critical temperature. The phenomenology of ''scaling theory'' originates in these computations.

Our ability to carry out these exact computations originates in the fact that all
spin correlations may be represented as determinants. There are, in fact many different equivalent representations in terms of determinants of different sizes and even representations in terms of infinite (Fredholm) determinants have proven to be most useful. 

The first of these determinants for spin correlations were found in 1949 by Kaufman and Onsager
and in 1963 by E.W. Montroll, R.B. Potts and J.C. Ward. The size of these determinants grows with the separation between the spins. The study of the spin-spin correlations for large separations was initiated in 1966 by T.T. Wu for row correlations and culminated  in 1976 with the work of Wu, McCoy, Tracy and Barouch for the general case $ \langle \sigma_{0,0}\sigma_{M,N}\rangle\ . $ The presentation of these results in full generality is made somewhat tedious
because of their angular dependence and in order to keep the notation to a 
minimum we will here present  in detail the results only for 
diagonal correlations $ \langle\sigma_{0,0}\sigma_{N,N}\rangle $ in detail.

!!!Determinental Representation

The two spin correlation function  on the diagonal $ \langle \sigma_{0,0}\sigma_{N,N}\rangle $
can be written as a determinant in many different ways. The simplest of these determinental representations is

$ \langle \sigma_{0,0}\sigma_{N,N}\rangle={\rm det}_Na_{m-n} $

where $ {\rm det}_N $ is an $ N\times N $determinant with elements

$ a_{m-n}=\frac{1}{2\pi}\int_0^{2\pi}d\theta e^{i(n-m)\theta}\left(\frac{\sinh 2K^h\sinh 2K^v-e^{-i\theta}}{\sinh 2K^h \sinh 2K^v-e^{i\theta}}\right)^{1/2} $

where $ 1\leq m,n\leq N\ . $ Determinants with this property, that all elements 
on a diagonal are equal, are called ''Toeplitz''. When $ N $ is small this is an efficient representation of the correlation.

!!!Diagonal Correlation at T=Tc!!!

At the critical temperature $ T=T_c $ the determinant for the diagonal correlation may be reduced to a much more explicit expression

$ \langle\sigma_{0,0}\sigma_{N,N}\rangle|_{T=T_c}
=\left(\frac{2}{\pi}\right)^N\prod_{l=1}^{N-1}[1-\frac{1}{4l^2}]^{l-N} $                                 

!!!Form Factor Representations

When $ T\neq T_c $ there is no simple product representation of the correlation function.
Instead we have what is known as a form factor representation. For $ T&lt;T_c $ this representation is

$ \langle\sigma_{0,0}\sigma_{N,N}\rangle_{-}={\mathcal M}_{-}^2[1+\sum_{n=1}^{\infty}f^{(2n)}_{N}(t)] $

with $ t=(\sinh 2K^v \sinh 2K^h)^{-2} $ and 

$ f^{(2n)}_N(t)=\frac{t^{n(N+n)}}{(n!)^2 \pi^{2n}}\int_0^1\prod_{k=1}^{2n}x_k^Ndx_k\prod_{j=1}^n
\left(\frac{x_{2j-1}(1-x_{2j})(1-tx_{2j})}{x_{2j}(1-x_{2j-1})(1-tx_{2j-1})}\right)^{1/2} $
$ \times\left(\frac{\prod_{1\leq j &lt; k\leq n}(x_{2j-1}-x_{2k-1})(x_{2j}-x_{2k})}
{\prod_{1\leq j \leq n}\prod_{1\leq k \leq n}(1-tx_{2j-1}x_{2k})}\right)^2
 $

and for $ T&gt;T_c $

$ \langle\sigma_{0,0}\sigma_{N,N}\rangle_{+}={\mathcal M}_+^2\sum_{n=0}^{\infty}f^{(2n+1)}_{N}(t) $

with $ t=(\sinh 2K^v \sinh 2K^h)^2 $ and

$ f^{(2n+1)}_N(t)=\frac{t^{(2n+1)N/2+n(n+1)}}{n!(n+1)!\pi^{2n+1}}
\int_0^1\prod_{k=1}^{2n+1}x_k^Ndx_k
\left(\frac{\prod_{j=1}^n x_{2j}(1-x_{2j})(1-tx_{2j})}
{\prod_{j=1}^{n+1} x_{2j-1}(1-x_{2j-1})(1-tx_{2j-1})}\right)^{1/2} $

$ \times\left(\frac{\prod_{1\leq j &lt; k \leq n+1}(x_{2j-1}-x_{2k-1})
\prod_{1\leq j &lt; k \leq n}(x_{2j}-x_{2k})}{\prod_{1\leq  j \leq n+1}
\prod_{1\leq k \leq n}(1-tx_{2j-1}x_{2k})}\right)^2
 $

where $ {\mathcal M}_+=(1-(\sinh 2 K^v \sinh 2K^h)^2)^{1/8}\ . $
This representation of the form factor was derived in 2007 by I. Lyberg and B.M.McCoy.
We note that when $ T=T_c $ then each $ f^{(n)}_N(t) $ for fixed $ n $
is finite and thus because both $ {\mathcal M}_{\pm} $ 
vanish as $ T\rightarrow T_c $ the form factor expansion is not useful for the case $ T=T_c\ . $

!!!Large Separation Behavior
There are three different behaviors as $ N\rightarrow \infty  $ of $ \langle \sigma_{0,0}\sigma_{N,N}\rangle $ for fixed $ T $ depending on whether $ T&lt;T_c,~T=T_c $ or
$ T&gt;T_c\ . $

1, ''The case T=Tc''. We find from  the product representation that 

$ \langle \sigma_{0,0}\sigma_{N,N}\rangle=AN^{-1/4}\left(1-\frac{1}{64N^2}+O(N^{-4})\right)
 $

$ A=2^{1/12}\exp[3\zeta'(-1)]\sim 0.6450\cdots $

and $ \zeta'(-1) $ is the derivative of the Riemann zeta function at $ -1\ . $

2, ''The case T&lt;Tc ''. We find that the leading approach to $ {\mathcal M}_{-}^2 $
comes from the large $ N $ behavior of $ f^{(2)}_N(t) $

$ \langle\sigma_{0,0}\sigma_{N,N}\rangle_{-}=(1-t)^{1/4}\left\{1+\frac{t^{N+1}}{\pi N^2(1-t)^2}+\cdots\right\} $

3. ''The case T&gt;Tc''. The leading behavior as $ N\rightarrow \infty $ is given by the large $ N $ behavior of $ f^{(1)}_N(t) $

$ \langle\sigma_{0,0}\sigma_{N,N}\rangle_{+}\sim(1-t)^{1/4}f^{(1)}_N(t)=\frac{t^{N/2}}{(\pi N)^{1/2}(1-t)^{1/4}}+\cdots $

For cases 2 and 3 we must have $  N \gg(1-t)^{-1} $ for the expansions to be valid.

The terms $ t^{N} $ and $ t^{N/2} $ are often written as

$ t^{N/2}=e^{(N/2)\ln t} $ and  $ t^N=e^{N\ln t} $

and $ \ln t $ is denoted by

$ \ln t=\xi^{-1} $

where $ \xi $ is called the ''correlation length''. As $ t\rightarrow 1 $
(i.e. $ T\rightarrow T_c $) this correlation length diverges as

$ \xi \sim (1-t)^{-1} $ 

!!!Scaling Limit

The large $ N $ behaviors of the two point function for fixed 
$ T\neq T_c $ do not smoothly connect to the large $ N $ behavior at $ T=T_c $ because the condition $ N\gg(1-t)^{-1} $ is violated. To obtain an interpolating function between the regimes we need to consider the case where

$ N(1-t)=r $ 

is fixed in the limit 

$ N\rightarrow \infty $ and $ t\rightarrow 1\ . $

This limit is referred to as the ''scaling limit''. The physical meaning is that we have shifted our attention from the scale of the lattice spacing to the  scale of the correlation length.
This is the statistical mechanical analogue of ''mass renormalization'' in quantum field theory.

In this scaling limit we define  ''scaling functions'' for $ T $ above and below $ T_c $ as

$ G_{\pm}(r)=\lim_{ {\rm scaling} }{\mathcal M}_{\pm}^{-2}\langle\sigma_{0,0}\sigma_{N,N}\rangle_{\pm} $

This physically means that we are shifting our attention from
the scale of definition of $ \sigma=\pm 1 $ to the scale of $ {\mathcal M}_{\pm}  $near $ T_c\ . $
This is the analogue of ''wave function renormalization''  in quantum field theory and $ G_{\pm}(r) $ is the analogue of the ''Greens function''. 

!!!Painlev  Representation

The scaling functions $ G_{\pm}(r) $ have the remarkable property announced in 1973
with a derivation published in 1976 by Wu, McCoy, Tracy and Barouch that

$ G_{\pm}(r)=\frac{1}{2}[\eta(r/2)^{-1/2}\mp\eta(r/2)^{1/2}]
\exp\int_{r/2}^{\infty}d\theta\frac{\theta}{4\eta^2}[(1-\eta^2)^2-(\eta')^2] $

where $ \eta(\theta) $ is a Painlev function of the third kind defined by

$ \frac{d^2\eta}{d\theta^2}=
\frac{1}{\eta}\left(\frac{d\eta}{d\theta}\right)^2-\frac{1}{\theta}\frac{d\eta}{d\theta}
+\eta^3-\eta^{-1} $

with the boundary condition as $ \theta\rightarrow\infty $

$ \eta(\theta)\sim 1-\lambda\frac{2}{\pi}K_0(2\theta) $

where $ \lambda=1 $
and $ K_0(2\theta) $ is the modified Bessel function. 

In 1980 a corresponding characterization of the diagonal correlation function for all temperatures in terms of a Painlev VI function was found by M. Jimbo and T. Miwa

$ \left(t(t-1)\frac{d^2\sigma}{dt^2}\right)^2
=N^2\left((t-1)\frac{d\sigma}{dt}-\sigma\right)^2-
4\frac{d\sigma}{dt}\left((t-1)\frac{d\sigma}{dt}-\frac{1}{4}\right)
\left(t\frac{d\sigma}{dt}-\sigma\right) $

where for $ T&lt;T_c $

$ \sigma_{-}=t(t-1)\frac{d\ln\langle\sigma_{0,0}\sigma_{N,N}\rangle_{-}}{dt}-\frac{t}{4} $

and for $ T&gt;T_c $

$ \sigma_{+}=t(t-1)\frac{d\ln\langle\sigma_{0,0}\sigma_{N,N}\rangle_{+}}{dt}-\frac{1}{4} $

with the boundary conditions specified at $ t=0 $ to agree with the form factor expansions at $ t=0\ . $ For $ T&lt;T_c $ this is
 
$ \langle\sigma_{0,0}\sigma_{N,N}\rangle=(1-t)^{1/4}\{1+\lambda^2\frac{(1/2)_N(3/2)_N}{4((N+1)!)^2}
t^{N+1}+\cdots\} $

with $ \lambda=1 $ and $ (a)_N=a(a+1)\cdots (a+N-1)\ . $

!!!Two Spin Correlation in General Position

The general two spin correlation $ \langle\sigma_{0,0}\sigma_{M,N}\rangle $ 
is studied most efficiently by representing the correlation as an 
infinite (Fredholm) determinant. This is the method used in 1976 by Wu, McCoy, Tracy and Barouch.
Almost all of the properties presented above for the diagonal correlation hold 
for the general case once appropriate angle dependencies are included. In particular when
$ T $ is in the scaling region near $ T_c $ the correlations have an elliptical symmetry. Thus if we define

$ R^2=\left(\frac{\sinh2K^h_c}{\sinh2K^v_c}\right)^{1/2}M^2
+\left(\frac{\sinh2K^v_c}{\sinh2K^h_c}\right)^{1/2}N^2 $

and define a scaling limit as $ T\rightarrow T_c $ and $ R\rightarrow \infty $
with

$ r=|T-T_c|R $
 
fixed then the scaling function 

$ G_{\pm}(r)=\lim_{ {\rm scaling} }{\mathcal M}_{\pm}^{-2}\langle \sigma_{0,0}\sigma_{M,N}\rangle_{\pm} $

depends only on $ r $ and not on the ratio $ \sinh 2K^v_c/\sinh2K^h_c $
and is identical with the scaling function computed from the diagonal correlation.

The only property of the diagonal correlation which has not been extended to the 
general case is the representation as a Painlev VI function. However, it was found by B.M. McCoy and T.T. Wu and by J.H.H. Perk that the general correlation function $ \langle \sigma_{0,0}\sigma_{M,N}\rangle $ does satisfy a quadratic difference equation in 
$ M.N\ . $

!!Magnetic Susceptibility

The remaining thermodynamic property to be computed is the magnetic susceptibility at $ H=0 $ which is computed from

$ \chi_{\pm}(T)=\frac{1}{k_BT}\sum_{M=-\infty}^{\infty}\sum_{N=-\infty}^{\infty}
\{\langle \sigma_{0,0}\sigma_{M,N}\rangle_{\pm}-{\mathcal M}^2_{-}\} $

by use of the form factor expansions for 
$ \langle\sigma_{0,0}\sigma_{M,N}\rangle_{\pm}\ . $
Thus we have the susceptibility expansions

$ \chi_{-}(T)=\frac{ {\mathcal M}^2_{-} }{k_BT}\sum_{n=1}^{\infty}{\hat\chi}^{(2n)}(T) $

$ \chi_{+}(T)=
\frac{ {\mathcal M}^2_{+} }{k_BT}\sum_{n=0}^{\infty}{\hat\chi}^{(2n+1)}(T) $

where the explicit expressions for $ {\hat\chi}^{(j)}(T) $ for general 
$ j $were first given  as $ j $ fold integrals by B.G. Nickel. For 
$ j=1,2 $ these integrals may be explicitly evaluated and in the case 
$ E^v=E^h $ they reduce to

$ {\hat \chi}^{(1)}(T)=\frac{1}{(1-t^{1/2})^2} $

$ {\hat \chi}^{(2)}(T)=\frac{(1+t)E(t^{1/2})-(1-t)K(t^{1/2})}{3\pi(1-t^{1/2})(1-t)} $

where $ K(t^{1/2}) $ (and $ E(t^{1/2}) $) is the complete elliptic integral of the first (second) kind.

Unlike the form factors themselves which only have singularities at  $ T=T_c $ the $ {\hat\chi}^{(j)}(T) $ have many singularities in the complex temperature
plane located at

$ \cosh 2E^v/k_BT\cosh 2E^h/k_BT-\sinh 2E^h/k_BT\cos(2\pi m'/j)-\sinh 2E^v/k_BT\cos
(2\pi m/j)=0 $ 

with $ 1\leq m,m'\leq j\ . $

For $ T&gt;T_c $  the singularity  in $ {\hat\chi}^{(2n+1)}(T) $ is of the form

$ A_{2n+1}\epsilon^{2n(n+1)-1}\ln \epsilon $

and for $ T&lt;T_c $ the singularity in $ {\hat\chi}^{(2n)}(T) $ is of the form

$ A_{2n}\epsilon^{2n^2-3/2} $

where $ \epsilon $ is the distance of $ T $ from the singularity.

A similar phenomenon was found by S. Boukra et al.  for the diagonal susceptibility 
defined by

$ \chi_d(T)=\frac{1}{k_BT}\sum_{N=-\infty}^{\infty}\{\langle \sigma_{0,0}\sigma_{N,N}\rangle
-{\mathcal M}^2_{-}\} $

where here the singularities all lie at $ j^{th} $ roots of $ \pm 1 $
on the unit circle $ |t|=1\ . $

As $ j\rightarrow \infty $ these singularities become dense and therefore
it is proposed that the susceptibility has a natural boundary where the singularities for finite $ j $ accumulate. Such a natural boundary is a new and unexpected feature, and
the search for a rigorous demonstration of its existence and an interpretation of its meaning
is still under investigation. It is of particular interest to determine if the susceptibility 
satisfies a nonlinear differential equation which could serve as an alternative characterization of the function. 

!!Boundary Properties

Exact results have been obtained by B.M. McCoy and T.T. Wu in 1967 for the properties of spins near the boundary of a half plane with a magnetic field $ H_b $ interacting with the row of boundary spins $ \sigma_{1,m}\ . $ The spontaneous magnetization of a spin on the boundary is

$ {\mathcal M}_b=\left[\frac{\cosh 2K^v-\coth2K^h}{\cosh 2K^v-1}\right]^{1/2} $

Thus the critical exponent $ \beta=1/2 $ for the boundary magnetization.
The boundary magnetization as a function of the boundary field is given as a single integral
and the correlation of two spins on the boundary $ \langle\sigma_{1,0}\sigma_{1,N}\rangle $ is given as the sum of two terms each of which is the product of two one dimensional integrals. From this we find that at $ T=T_c $  
the boundary two spin vanishes as $ 1/N $ as $ N\rightarrow \infty $
when $ H_b=0 $ and approaches  $ {\mathcal M}_b^2(H_b) $ as $ 1/N^4 $ when $ H_b\neq 0\ . $

!!Random Layered Ising Model

Exact results may also be obtained if the coupling $ E^v $
between rows $ j $ and $ j+1 $ is allowed to depend on $ j\ . $
If the coupling constants have a periodicity $ E^v(j+J)=E^v(j) $ then the specific heat still has a logarithmic divergence but the amplitude is reduced from the non layered case solved by Onsager. However if the coupling constants $ E^v(j) $ are chosen randomly out of a probability distribution it was discovered by B.M. McCoy and T.T. Wu in 1968 that the specific heat is finite at the critical temperature and that the logarithmic singularity of the nonrandom lattice has become an infinitely differentiable essential singularity.

We conclude by noting that if the random coupling constants are restricted to lie
in an interval $ E^v_L\leq E^v(j) \leq E^v_U $
then when $ T_L\leq T \leq T_U  $ where $ T_L~(T_U) $ are the  critical temperatures which the lattice would have if all $ E^v(j) $ had the value 
$ E^v_L~(E^v_U) $ that the correlations in a row will decay algebraically instead of exponentially with a power decay which depends on $ T\ . $ The decay is exponential only if $ T $ lies outside this range.
&lt;&lt;sectionTOC&gt;&gt;</pre>
</div>
<div title="Isolated Point" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404210243" modified="201404210244" tags="Topology" changecount="5" content-type="text/x-tiddlywiki" alias="">
<pre>!!Definition
If $X$ is a space, a point $x \in X$ is said to be an ''//isolated point//'' of $X$ if the one-point set $\{x\}$ is open in $X$.</pre>
</div>
<div title="Javascript Sandbox" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404140039" modified="201404140045" tags="Reference excludeTimeline" changecount="11" content-type="">
<pre>&lt;html&gt;&lt;table style=&quot;width: 100%&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;width: 50%; padding: 5px&quot;&gt;&lt;form&gt;Script&lt;textarea style=&quot;width: 100%; height: 15em;&quot;&gt;&lt;/textarea&gt;&lt;input type=&quot;button&quot; value=&quot;run&quot; onclick='
    this.parentNode.parentNode.nextSibling.lastChild.innerHTML=&quot;&quot;;
try{
eval(this.previousSibling.value.replace(/this/g,&quot;this.parentNode.parentNode.nextSibling.lastChild&quot;).replace(/document\.write/g,&quot;this.parentNode.parentNode.nextSibling.lastChild.innerHTML +=&quot;));
}
catch(e){
    var err = e.description?e.description:e.toString();
    displayMessage(err);
}
return false;
'&gt;&lt;/input&gt;&lt;/form&gt;&lt;/td&gt;&lt;td style=&quot;width: 50%; vertical-align: top;&quot;&gt;Console&lt;hr/&gt;&lt;div style=&quot;border: 1px inset; height: 38em; overflow: auto;&quot;&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/html&gt;</pre>
</div>
<div title="JsDoItPlugin" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405160636" tags="systemConfig excludeTimeline" changecount="4" content-type="text/x-tiddlywiki">
<pre>/***
|''Name:''|JsDoIt|
|''Version:''|1.0.1|
|''Source:''|[[AiddlyWiki|http://aiddlywiki.sourceforge.net]]|
|''Author:''|[[Arphen Lin|mailto:arphenlin@gmail.com]]|
|''Type:''|Macro extension|
|''Required:''|TiddlyWiki 2.0.0|
!Description
JsDoIt lets you execute Javascript executable codes immediately when you click on a JsDoIt macro button.
!Syntax
{{{&lt;&lt;}}}JsDoIt {label} {prompt} {jsEntity} [[jsEntity2] [jsEntity3] ... [jsEntityN]]{{{&gt;&gt;}}}
parameters:
* label - caption text of the JsDoIt button
* prompt - tip text of the JsDoIt button
* jsEntity - javascript that would be executed
** javascript code - begin with ''javascript:''
** javascript tiddler - tiddler that contains javascript code
** external javascript source - including URIs and local files
!Example &amp; Demo
JsDoIt DEMO
~~&lt;&lt;JsDoIt 'view demo source' 'view demo source' 'editMainMenu.js'&gt;&gt;~~
----
&lt;&lt;JsDoIt 'execute js-code' 'execute javascript code(s)' [[javascript:alert(&quot;Hello world!&quot;);]]&gt;&gt;
&lt;&lt;JsDoIt 'execute js-tiddler' 'execute javascript tiddler(s)' code1.js code2.js&gt;&gt;
&lt;&lt;JsDoIt 'load external js' 'execute external javascript' [[javascript: window.globalButton=button; button.innerHTML=&quot;waiting...&quot;;]] http://aiddlywiki.sourceforge.net/ext.js&gt;&gt;
----
&lt;&lt;JsDoIt 'list all tags' 'list all tags' listAllTags.js&gt;&gt;
&lt;&lt;JsDoIt 'refresh all plugins' 'reload all systemConfig plugins without refreshing TW' [[javascript:loadSystemConfig(); clearMessage(); displayMessage(&quot;call TW kernel: loadSystemConfig()&quot;);]]&gt;&gt;
----
&lt;&lt;JsDoIt 'JsDoIt variables' 'list JsDoIt variables' viewDesignTips.js DesignTips&gt;&gt;

* execute javascript code(s):
&lt;&lt;&lt;
{{{&lt;&lt;JsDoIt 'click me!' 'execute javascript code' 'javascript:alert(&quot;Hello world!&quot;);'&gt;&gt;}}}
&lt;&lt;JsDoIt 'click me!' 'execute javascript code' 'javascript:alert(&quot;Hello world!&quot;);'&gt;&gt;
&lt;&lt;&lt;
* execute javascript tiddler(s):
&lt;&lt;&lt;
{{{&lt;&lt;JsDoIt 'click me!' 'execute javascript tiddler(s)' 'code1.js' 'code2.js'&gt;&gt;}}}
&lt;&lt;JsDoIt 'click me!' 'execute javascript tiddler(s)' 'code1.js' 'code2.js'&gt;&gt;
&lt;&lt;&lt;
* execute external javascript source
&lt;&lt;&lt;
{{{&lt;&lt;JsDoIt 'click me!' 'execute external javascript' 'external.js'&gt;&gt;}}}
&lt;&lt;JsDoIt 'click me!' 'execute external javascript' 'external.js'&gt;&gt;
{{{&lt;&lt;JsDoIt 'click me!' 'execute external javascript' 'http://aiddlywiki.sourceforge.net/external.js'&gt;&gt;}}}
&lt;&lt;JsDoIt 'click me!' 'execute external javascript' 'http://tiddlywiki.sourceforge.net/external.js'&gt;&gt;
&lt;&lt;&lt;
!Design Tips
 Variables you could use in Javascript code called by JsDoIt
| variable name | description | data type |h
| macroName |name of macro - 'JsDoIt' | string |
| params |parameters of this JsDoIt macro | string array |
| allParams |parameters of this JsDoIt macro | string |
| button |the JsDoIt button that user clicked on | HTML DOM object |
| place |container of this JsDoIt button | HTML DOM object |
| tiddler |tiddler that contains this JsDoIt macro instruction | object |
| wikifier |wikifier that wikifies the tiddler(described above) contents | object |
/%


clearMessage();
// macroName
displayMessage('macroName=\&quot;'+macroName+'\&quot;');
// params
displayMessage('params='+params);
for(var j=0; j&lt;params.length; j++){ 
 displayMessage('params['+j+']=\&quot;'+params[j]+'\&quot;'); 
}
// allParams
displayMessage('allParams=\&quot;'+allParams+'\&quot;');
// button
displayMessage('button='+typeof(button));
// place
displayMessage('place='+place + ', place.id=\&quot;' + place.id + '\&quot;');
// tiddler
if(tiddler){
 displayMessage('tiddler='+typeof(tiddler)+', tiddler.title=\&quot;' + tiddler.title + '\&quot;');
}else{
 displayMessage('tiddler='+typeof(tiddler));
} 
//wikifier
displayMessage('wikifier='+typeof(wikifier));
// if(wikifier){
 //displayMessage('wikifier.source='+wikifier.source);
// }


%/
! Variables you SHOULD NOT MODIFY in Javascript code called by JsDoIt
| variable name | reason |h
| params |modifying it could break JsDoIt |
| paramIndex |modifying it could break JsDoIt |
!Revision history
*v1.0.1 (2006/1/6)
**fixed for(var key in params){} problem
*v1.0.0 (2006/1/4)
**Initial release
!Code
***/
//{{{
config.macros.JsDoIt = {major: 1, minor: 0, revision: 1, date: new Date(2006,1,6)};
config.macros.JsDoIt.handler = function(place,macroName,params,wikifier,allParams,tiddler){
	if(params.length&lt;=2){	throw 'not enough parameters'; }
	var button = createTiddlyButton(place, params[0], params[1]);
	button.onclick = function(){
		for(var paramIndex=2; paramIndex&lt;params.length; paramIndex++){
			var p=params[paramIndex];
			if(p.trim().search(/javascript:/gi)===0){
				eval(p.trim().replace(/javascript:/gi,''));
			}else{
				var t=store.getTiddler(p);
				if(t){
					eval(t.text);
				}else{
					var rs=document.createElement('script');
					rs.type = 'text/javascript';
					rs.src = p.trim();
					try{
						document.body.appendChild(rs);
						document.body.removeChild(rs);
					}catch(e){
						displayMessage('load ' + p + ' error: ' + e);
					}
				}
			}
		}
	};
};
//}}}</pre>
</div>
<div title="K4 Group Tables" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404200227" modified="201404200835" tags="[[Critical Phenomena]] [[Group Tables]]" changecount="11" content-type="">
<pre>!Klein Group $K_4 = (\mathbb{Z}_2\times \mathbb{Z}_2)^*_{11}$

!!Group Matrix
|sortable2|k
|[img[CritPhen\Models\Z2xZ2\Z2xZ2_11 Group.png]]|[img[CritPhen\Models\Z2xZ2\Z2xZ2_11 Dist.png]]|

!!Site Occupancy
|sortable2|k
|[img[CritPhen\Models\Z2xZ2\2d Z2xZ2_11 bins_1.png]]|


!$(\mathbb{Z}_2\times \mathbb{Z}_2)^*_{12}$

!!Group Matrix
|sortable2|k
|[img[CritPhen\Models\Z2xZ2\Z2xZ2_12 Group.png]]|[img[CritPhen\Models\Z2xZ2\Z2xZ2_12 Dist.png]]|

!!Site Occupancy
|sortable2|k
|[img[CritPhen\Models\Z2xZ2\2d Z2xZ2_12 bins_1.png]]|</pre>
</div>
<div title="K8 Group Tables" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404200044" modified="201404210044" tags="[[Critical Phenomena]] [[Group Tables]]" changecount="36" content-type="text/x-tiddlywiki">
<pre>!Klein Group $K_8 = (\mathbb{Z}_2\times \mathbb{Z}_2\times \mathbb{Z}_2)_{111}$

!!Group Matrix
|sortable2|k
|[img(340px+,)[CritPhen\Models\Z2xZ2xZ2\Z2xZ2xZ2_111 Group.png]]|[img(340px+,)[CritPhen\Models\Z2xZ2xZ2\Z2xZ2xZ2_111 Dist.png]]|

!!Site Occupancy
|sortable2|k
|[img[CritPhen\Models\Z2xZ2xZ2\2d Z2xZ2xZ2_111 bins_1.png]]|


!$(\mathbb{Z}_2\times \mathbb{Z}_2\times \mathbb{Z}_2)^*_{112}$

!!Group Matrix
|sortable2|k
|[img(340px+,)[CritPhen\Models\Z2xZ2xZ2\Z2xZ2xZ2_112 Group.png]]|[img(358px+,)[CritPhen\Models\Z2xZ2xZ2\Z2xZ2xZ2_112 Dist.png]]|

!!Site Occupancy
|sortable2|k
|[img[CritPhen\Models\Z2xZ2xZ2\2d Z2xZ2xZ2_112 bins_1.png]]|

!$(\mathbb{Z}_2\times \mathbb{Z}_2\times \mathbb{Z}_2)^*_{124}$

!!Group Matrix
|sortable2|k
|[img(340px+,)[CritPhen\Models\Z2xZ2xZ2\Z2xZ2xZ2_124 Group.png]]|[img(340px+,)[CritPhen\Models\Z2xZ2xZ2\Z2xZ2xZ2_124 Dist.png]]|

!!Site Occupancy
|sortable2|k
|[img[CritPhen\Models\Z2xZ2xZ2\2d Z2xZ2xZ2_124 bins_1.png]]|

!!Notes
*Stable Ground Sites: all sites.</pre>
</div>
<div title="KeepRevisions" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404132211" modified="201404140148" tags="no-tagging no-tags excludeTimeline" changecount="5" content-type="">
<pre></pre>
</div>
<div title="Kinetic Energy" modifier="Christopher Wilson" created="201402230013" modified="201402231925" tags="[[PGRE specialRelativity]] [[PGRE Review]]" content-type="" changecount="5">
<pre>The relativistic kinetic energy of a particle is given by
\begin{equation}
T = (\gamma - 1) mc^2.
\end{equation}
This also allows us to express the change in relativistic kinetic energy of a particle as 
$$T-T_0 = (\gamma - \gamma_0)mc^2.$$
Note that this is equivalent to subtracting the rest mass energy $E_0 = mc^2$, from the [[total relativistic energy|Total Energy]] $E = \sqrt{(cp)^2 + (mc^2)^2}$ of a particle,
$$ T = E - E_0 = \sqrt{(cp)^2 + (mc^2)^2} - mc^2.$$
+++!!!![Show Derivation][Hide Derivation]
Assuming that the work-energy theorem is valid in relativity for a particle, the work done on a particle must equal its change in kinetic energy.  The work done on a particle is given by
$$ W = \int F\,dx = \int \frac{dp}{dt}\frac{dx}{dt}\,dt = \int v\,dp.$$
Integrating by parts gives
$$ W \;=\; vp\,\biggr| - \int p\,dv \;=\; \gamma m v^2\,\biggr| - \int \gamma m v\,dv. \tag{1}$$
The remaining integral above can be calculated as 
$$ \int \gamma m v\,dv \;=\; \int \frac{m v}{\sqrt{1-(v/c)^2}}\,dv \;=\; \gamma m (c^2 - v^2)\,\biggr| ,$$
where the integration follows by using the substitution $u=1-(v/c)^2$. Then, by plugging this result into Eq. (1), we obtain the change in relativistic kinetic energy of a particle to be
$$(T - T_0) = (\gamma - \gamma_0)mc^2.$$ 
If we further take $T_0$ to be zero, which necessarily means $v_0 = 0$, then $\gamma_0 = 1$, and the relativistic kinetic energy $T$ of the particle is given by 
$$T = (\gamma - 1) mc^2.$$ 
===</pre>
</div>
<div title="Klein Group Distance Matrices" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404160658" modified="201404290806" tags="excludeTimeline FixMe excludeLists" changecount="178" content-type="text/x-tiddlywiki">
<pre>{{sectionTOC{}}}
@@color:red; THIS SLIDE NEEDS FIXING.@@

!!Overview
The pattern for creating distance matrices follows a sort of binary addition rule, as can be seen below.  In the rules that follow, we will be finding recursive relations for $n$-dimensional distance functions, denoted as $a_n$ and $b_n$.  Of these two terms, the correct one to choose depends on how the Hamiltonian of the system is defined. For our purposes, we will be choosing the $b_n$ terms as our distance matrices.

To compute these distance matrices in Mathematica, use the following definitions:
*KroneckerProduct:
::{{{K[x_, y_] := KroneckerProduct[x, y]}}}

*Recursion Relation:
::{{{a[1] = {{0, 1}, {1, 0}}; b[1] = {{1, 0}, {0, 1}};}}}
::{{{a[n_] := K[1-a[1], a[n-1]] + K[a[1], a[n-1] + 2^(n-2)]}}}
::{{{b[n_] := K[1-b[1], b[n-1]] + K[b[1], b[n-1] + 2^(n-2)]}}}


!!n = 1,  Ising Model
*Mathematica Input:
::{{{b[1]}}}

*Distance Matrix:

$$b_1=\left(
\begin{array}{cc}
 1 &amp; 0 \\
 0 &amp; 1 \\
\end{array}
\right)$$

!!n = 2,  Double Ising Model
*Mathematica Input:
::{{{b[2]}}}

*Distance Matrix:

$$b_2=\left(
\begin{array}{cccc}
 2 &amp; 1 &amp; 1 &amp; 0 \\
 1 &amp; 2 &amp; 0 &amp; 1 \\
 1 &amp; 0 &amp; 2 &amp; 1 \\
 0 &amp; 1 &amp; 1 &amp; 2 \\
\end{array}
\right)$$

!!n = 3,  3x Ising Model
*Mathematica Input:
::{{{b[3]}}}
 
*Distance Matrix:

$$b_3=
\left(
\begin{array}{cccccccc}
 4 &amp; 3 &amp; 3 &amp; 2 &amp; 2 &amp; 1 &amp; 1 &amp; 0 \\
 3 &amp; 4 &amp; 2 &amp; 3 &amp; 1 &amp; 2 &amp; 0 &amp; 1 \\
 3 &amp; 2 &amp; 4 &amp; 3 &amp; 1 &amp; 0 &amp; 2 &amp; 1 \\
 2 &amp; 3 &amp; 3 &amp; 4 &amp; 0 &amp; 1 &amp; 1 &amp; 2 \\
 2 &amp; 1 &amp; 1 &amp; 0 &amp; 4 &amp; 3 &amp; 3 &amp; 2 \\
 1 &amp; 2 &amp; 0 &amp; 1 &amp; 3 &amp; 4 &amp; 2 &amp; 3 \\
 1 &amp; 0 &amp; 2 &amp; 1 &amp; 3 &amp; 2 &amp; 4 &amp; 3 \\
 0 &amp; 1 &amp; 1 &amp; 2 &amp; 2 &amp; 3 &amp; 3 &amp; 4 \\
\end{array}
\right)$$

!!n = 4,  4x Ising Model
*Mathematica Input:
::{{{b[4]}}}

*Distance Matrix:

$$b_4=\left(
\begin{array}{cccccccccccccccc}
 8 &amp; 7 &amp; 7 &amp; 6 &amp; 6 &amp; 5 &amp; 5 &amp; 4 &amp; 4 &amp; 3 &amp; 3 &amp; 2 &amp; 2 &amp; 1 &amp; 1 &amp; 0 \\
 7 &amp; 8 &amp; 6 &amp; 7 &amp; 5 &amp; 6 &amp; 4 &amp; 5 &amp; 3 &amp; 4 &amp; 2 &amp; 3 &amp; 1 &amp; 2 &amp; 0 &amp; 1 \\
 7 &amp; 6 &amp; 8 &amp; 7 &amp; 5 &amp; 4 &amp; 6 &amp; 5 &amp; 3 &amp; 2 &amp; 4 &amp; 3 &amp; 1 &amp; 0 &amp; 2 &amp; 1 \\
 6 &amp; 7 &amp; 7 &amp; 8 &amp; 4 &amp; 5 &amp; 5 &amp; 6 &amp; 2 &amp; 3 &amp; 3 &amp; 4 &amp; 0 &amp; 1 &amp; 1 &amp; 2 \\
 6 &amp; 5 &amp; 5 &amp; 4 &amp; 8 &amp; 7 &amp; 7 &amp; 6 &amp; 2 &amp; 1 &amp; 1 &amp; 0 &amp; 4 &amp; 3 &amp; 3 &amp; 2 \\
 5 &amp; 6 &amp; 4 &amp; 5 &amp; 7 &amp; 8 &amp; 6 &amp; 7 &amp; 1 &amp; 2 &amp; 0 &amp; 1 &amp; 3 &amp; 4 &amp; 2 &amp; 3 \\
 5 &amp; 4 &amp; 6 &amp; 5 &amp; 7 &amp; 6 &amp; 8 &amp; 7 &amp; 1 &amp; 0 &amp; 2 &amp; 1 &amp; 3 &amp; 2 &amp; 4 &amp; 3 \\
 4 &amp; 5 &amp; 5 &amp; 6 &amp; 6 &amp; 7 &amp; 7 &amp; 8 &amp; 0 &amp; 1 &amp; 1 &amp; 2 &amp; 2 &amp; 3 &amp; 3 &amp; 4 \\
 4 &amp; 3 &amp; 3 &amp; 2 &amp; 2 &amp; 1 &amp; 1 &amp; 0 &amp; 8 &amp; 7 &amp; 7 &amp; 6 &amp; 6 &amp; 5 &amp; 5 &amp; 4 \\
 3 &amp; 4 &amp; 2 &amp; 3 &amp; 1 &amp; 2 &amp; 0 &amp; 1 &amp; 7 &amp; 8 &amp; 6 &amp; 7 &amp; 5 &amp; 6 &amp; 4 &amp; 5 \\
 3 &amp; 2 &amp; 4 &amp; 3 &amp; 1 &amp; 0 &amp; 2 &amp; 1 &amp; 7 &amp; 6 &amp; 8 &amp; 7 &amp; 5 &amp; 4 &amp; 6 &amp; 5 \\
 2 &amp; 3 &amp; 3 &amp; 4 &amp; 0 &amp; 1 &amp; 1 &amp; 2 &amp; 6 &amp; 7 &amp; 7 &amp; 8 &amp; 4 &amp; 5 &amp; 5 &amp; 6 \\
 2 &amp; 1 &amp; 1 &amp; 0 &amp; 4 &amp; 3 &amp; 3 &amp; 2 &amp; 6 &amp; 5 &amp; 5 &amp; 4 &amp; 8 &amp; 7 &amp; 7 &amp; 6 \\
 1 &amp; 2 &amp; 0 &amp; 1 &amp; 3 &amp; 4 &amp; 2 &amp; 3 &amp; 5 &amp; 6 &amp; 4 &amp; 5 &amp; 7 &amp; 8 &amp; 6 &amp; 7 \\
 1 &amp; 0 &amp; 2 &amp; 1 &amp; 3 &amp; 2 &amp; 4 &amp; 3 &amp; 5 &amp; 4 &amp; 6 &amp; 5 &amp; 7 &amp; 6 &amp; 8 &amp; 7 \\
 0 &amp; 1 &amp; 1 &amp; 2 &amp; 2 &amp; 3 &amp; 3 &amp; 4 &amp; 4 &amp; 5 &amp; 5 &amp; 6 &amp; 6 &amp; 7 &amp; 7 &amp; 8 \\
\end{array}
\right)$$

!!Arbitrary n-Dimensional Distance Matrix
The recursive definition for $n\geq 2$ is given by
\begin{align}
a_n &amp;= X_1\otimes a_{n-1} + a_1 \otimes X_{n-1},\\
b_n &amp;= X_1\otimes b_{n-1} + b_1 \otimes X_{n-1},\\
\end{align}
with
$$a_1=\left(
\begin{array}{cc}
 0 &amp; 1 \\
 1 &amp; 0 \\
\end{array}
\right),\quad
b_1=\left(
\begin{array}{cc}
 1 &amp; 0 \\
 0 &amp; 1 \\
\end{array}
\right).$$
These matrices are dual to each other in the sense that for $n\geq2$, they satisfy the relation
$$a_n + b_n = X_n,$$

where $X_n = 2^{n-1}J_{2^n}$, and $J_{2^n}$ denotes the ${2^n}\times {2^n}$ square matrix of all ones:
$$J_{2^n} = \left(
\begin{array}{cccc}
 1 &amp; 1 &amp; \cdots &amp; 1 \\
 1 &amp; 1 &amp; \cdots &amp; 1 \\
 \vdots &amp;  &amp;  &amp;  \\
1 &amp; 1 &amp; \cdots &amp; 1 \\
\end{array}
\right).$$

Note that the explicit expressions for $a_n$ and $b_n$ follow a binary addition pattern.  For example, by taking $a\equiv a_1$ and $b\equiv b_1$, we have 
\begin{array}{lcrcr}
	 a_4=&amp;&amp;b\otimes b\otimes b\otimes a &amp;\small+&amp; b\otimes b\otimes a\otimes b \\
	&amp;\small+&amp; 2\,b\otimes b\otimes a\otimes a &amp;\small+&amp; 2\,b\otimes a\otimes b\otimes b \\
	&amp;\small+&amp; 3\,b\otimes a\otimes b\otimes a &amp;\small+&amp; 3\,b\otimes a\otimes a\otimes b \\
	&amp;\small+&amp; 4\,b\otimes a\otimes a\otimes a &amp;\small+&amp; 4\,a\otimes b\otimes b\otimes b \\
	&amp;\small+&amp; 5\,a\otimes b\otimes b\otimes a &amp;\small+&amp; 5\,a\otimes b\otimes a\otimes b \\
	&amp;\small+&amp; 6\,a\otimes b\otimes a\otimes a &amp;\small+&amp; 6\,a\otimes a\otimes b\otimes b \\
	&amp;\small+&amp; 7\,a\otimes a\otimes b\otimes a &amp;\small+&amp; 7\,a\otimes a\otimes a\otimes b \\
	&amp;\small+&amp; 8\,a\otimes a\otimes a\otimes a &amp; &amp;&amp;\\
\end{array}
&lt;&lt;sectionTOC&gt;&gt;</pre>
</div>
<div title="Klein Group Model" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404180216" modified="201404200843" tags="[[Critical Phenomena]]" changecount="70" content-type="text/x-tiddlywiki">
<pre>{{sectionTOC{}}}
!!Critical Temperatures
In the following plots, the critical temperature $T_c$ of the [[Ising model]] ($\mathbb{Z}_2$) and of the unnormalized double Ising model, or Klein group model $K_4 = $ ($\mathbb{Z}_2\times\mathbb{Z}_2$) is given by $$T_c = \frac{2}{\ln(1-\sqrt{2})},$$ where we have taken the interaction energy as $J=2$. In the normalized $K_{2^n}^*$ groups (maximum distance is $1$), the critical temperatures occur at $$T_{c}^{*(k-1)} = \frac{1}{2^{k-1}}\frac{2}{\ln(1-\sqrt{2})},\quad \forall k=2,\ldots,n.$$ Alternatively, the unnormalized $K_{2^n}$ have critical temperatures given by $$T_{c}^{(k-1)} = 2^{k-2}\frac{2}{\ln(1-\sqrt{2})},\quad \forall k=2,\ldots,n.$$  Each group of order $n\geq 2$ has $n-1$ critical temperatures.


!!Simulation Results
*//Notation//: $C_q$ is the $q$-state [[Clock model]].

&lt;&lt;tabs HnTabs 
&quot;K2 vs. K2xK2&quot; &quot;H1, Hn&quot; [[nZ2 Model Images/H5n]]
&quot;K2xK2 vs. Z4&quot; &quot;H1, H2&quot; [[nZ2 Model Images/H1H2]]
&quot;3K2&quot; &quot;3K2&quot; [[nZ2 Model Images/H3n]]
&quot;3K2&quot; &quot;3K2&quot; [[nZ2 Model Images/H4n]]
&quot;3K2&quot; &quot;3K2&quot; [[nZ2 Model Images/H55n]]
&gt;&gt;

!!Notes
*The strength of each $n$-dimensional transition appears to be above by the $(q=4)$-state [[Potts model]] and bounded below by the [[Ising model]].  Therefore, each $n$-dimensional transition appears to be $2^{\rm nd}$ order.  This is certainly valid for $n\leq 5$.

!!Files
*[[Download Data Files|Research\Data\Hn.rar]]
&lt;&lt;sectionTOC&gt;&gt;</pre>
</div>
<div title="Klein Group Transition Demo" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404170607" modified="201404210051" tags="[[Critical Phenomena]]" changecount="69" content-type="text/x-tiddlywiki">
<pre>{{sectionTOC{}}}
!!Overview
This is a graphical demonstration of how the transition points occur in a given variant of the four-dimensional Klein group $K_{16} = (\mathbb{Z}_2\times\mathbb{Z}_2\times\mathbb{Z}_2\times\mathbb{Z}_2)^*_{1124}$.  This specific variant will exhibit three transitions, but in general, $K_{16}$ can be constructed to have anywhere between one and four transitions.  I will give a non-statistical walk through of how the process works, but the statistical picture is easily generalized to after the classical picture is understood.  In this regard, we note that the non-statistical picture will always assume an even distribution over all accessible sites, where as this will not be the case in the statistical picture.

The walk through will begin in the ground state of the four-dimensional Klein group model at one of the $16$ possible sites that can be occupied.  These sites will be represented by the diagonal in our distance matrix.  From here, we will increase our system's temperature in a linear fashion up from zero units.  Also, we will think of each numbered point on the distance matrix as a sort of temperature barrier.  In order to pass over a given barrier, we must have at least as much temperature than that barrier indicates.  

!!0 Units of Temperature, Ground State
In the low temperature regime, we do not have enough temperature to travel across any barriers (distances), so we are isolated to a single site of the $16$ that are available.  Begin by selecting a starting point on the lattice, and since it's both arbitrary and all the same, we may as well pick the top left one, labeled by the $\mathbf{X}$.  Each point only has to any points it may be coupled with, either directly or indirectly.  Thus, we are limited to seeing only the eight $1$'s as shown below, as well as the three new sites that we will gain after breaching the first temperature barrier, which are shown as grayed out $\mathbf{X}$'s.  This is the ground phase of the four-dimensional Klein group model.

|sortable3|k
|[img[Research/Images/Transition Demo/T1.png]]|
| Sites occupied: $1$ of $16$,$\;$  Magnetization $= 1.000$ |

!!1 Unit of Temperature, First Transition
As the temperature of the system increases, we eventually reach the point where we are able to travel across barriers (lengths) of one unit of temperature (distance). Consequently, we gain access to a total of $4$ sites for a four-fold gain after breaching the first temperature barrier.  This is the exact same transition that occurs in the $q=4$ Clock model, which means that this is a second-order phase transition.  After making this transition, our new picture becomes:

|sortable3|k
|[img[Research/Images/Transition Demo/T2.png]]|
| Sites occupied: $4$ of $16$,$\;$  Magnetization $= 0.200$ |

!!2 Units of Temperature, Second Transition
As we pass the two temperature unit mark, we gain access to another set of four sites.  Note that even though we are again gaining $4$ sites in this transition, the transition is only two-fold, since we are going from $4$ to $8$ sites.  Hence, this transition is equivalent to a simple two-dimensional [[Ising Model]] transition, which also makes it a second-order phase transition.  Moreover, since our temperature is increasing in a linear fashion, this temperature of this transition point is located at twice the temperature of our first critical point, that of the $q=4$ Clock model transition temperature.  At this stage, we now have access to half of the total picture:

|sortable3|k
|[img[Research/Images/Transition Demo/T3.png]]|
| Sites occupied: $8$ of $16$,$\;$  Magnetization $= 0.067$ |

!!3 Units of Temperature, No Transition
As we continue to gain temperature, the move from $2$ to $3$ units of temperature doesn't allow us access to any new sites.  Hence, no transition occurs here.  On the other hand, and in briefly considering the statistical picture, it does allow us easier access to each of our eight occupied states, so the net magnetization of the system will start to level out as this barrier is breached. 

|sortable3|k
|[img[Research/Images/Transition Demo/T4.png]]|
| Sites occupied: $8$ of $16$,$\;$  Magnetization $= 0.067$ |

!!4 Units of Temperature, Final Transition
After gaining access to barriers requiring $4$ units of temperature, we are able to finally access all sites of the lattice.  The gain in sites is again two-fold from $8$ to $16$, which means this transition can also be characterized as a second-order Ising model type of transition.  Thus, this transition brings us into the completely disordered state of the $K_{16}$ model.  As the for the temperature of the transition point, since our temperature increased by two units with respect to the previous transition, this transition temperature will be equal to four times the value of the original $q=4$ Clock model transition temperature.

|sortable3|k
|[img[Research/Images/Transition Demo/T5.png]]|
| Sites occupied: $16$ of $16$,$\;$  Magnetization $= 0.000$ |

!!Higher Temperatures
As the temperatures continue to increase past this point, we are able to gain access to the rest of the temperature barriers on our lattice, which will have the affect of smoothing out our magnetization distribution in the statistical picture. The limiting case is that of the $q=16$ Potts model.  If we were to take the Cartesian product of this model with another copy of $\mathbb{Z}_2$, the next transition point would not occur until we had enough energy to breach the $8$ temperature unit barrier.  Therefore, in general, each critical point of the system occurs at a temperature equal to $2^{n-1}$ times the critical temperature of the $q=4$ clock model.  

|sortable3|k
|[img[Research/Images/Transition Demo/T6.png]]|
| Sites occupied: $16$ of $16$,$\;$  Magnetization $= 0.000$ |


!!The K16 Distance Matrix
Here is the full view of the $K_{16}$ distance matrix. Note that only the $4$'s provide coupling over the entire lattice.  The $2$'s and $6$'s each couple half of the lattice, and the $1$'s, $3$'s, $5$'s, and $7$'s each couple a fourth of the lattice.

|sortable3|k
|[img[Research/Images/Transition Demo/T7.png]]|
| The $K_{16}$ distance matrix. |

&lt;&lt;sectionTOC&gt;&gt;</pre>
</div>
<div title="Kosterlitz-Thouless Transition" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404150212" modified="201404150545" tags="[[Critical Phenomena]]" changecount="9" content-type="text/x-tiddlywiki">
<pre>The ''//KosterlitzThouless transition//'', or BerezinskyKosterlitzThouless transition, is a [[phase transition|phase transitions]] in the 2D [[classical XY model]]. It is a transition from bound vortex-antivortex pairs at low temperatures to unpaired vortices and anti-vortices at some critical temperature. 
$\qquad$In the XY model in two dimensions, a second-order phase transition is not seen. However, one finds a low-temperature quasi-ordered phase with a correlation function (see statistical mechanics) that decreases with the distance like a power, which depends on the temperature. The transition from the high-temperature disordered phase with the exponential correlation to this low-temperature quasi-ordered phase is a KosterlitzThouless transition. It is a phase transition of //infinite// order.

|centered|k
|[img[Research/Images/KTtransition.png]]|

!!External Links
*http://www.pma.caltech.edu/~mcc/Ph127/c/Lecture6.pdf</pre>
</div>
<div title="LaTeX Symbols" modifier="Christopher Wilson" created="201403312320" modified="201404121205" tags="Reference excludeTimeline" content-type="">
<pre>This is just a quick-reminder overview of some of the more common symbols I use in this notebook.  A fully comprehensive source on $\LaTeX$ symbols is located at:
*http://www.tex.ac.uk/tex-archive/info/symbols/comprehensive/symbols-a4.pdf.

|sortable|k
|!Description|!Symbol |!$\LaTeX$ Command |h
|Empty Set | $\varnothing$ |{{{\varnothing}}}|
|There Exists | $\exists$ |{{{\exists}}}|
|In| $\in$ |{{{\in}}}|
|Intersection| $\bigcap$ |{{{\bigcap}}}|
|Maps To| $\mapsto$ |{{{\mapsto}}}|
|Product | $\prod$ |{{{\prod}}}|
|Subset| $\subset$ |{{{\subset}}}|
|Summation| $\sum$ |{{{\sum}}}|
|Union| $\bigcup$ |{{{\bigcup}}}|

/% Example Table:
|cssClass|k
|!heading column 1|!heading column 2|h
|left aligned | right aligned|
| centered ||
|&gt;|COLSPAN|
|ROWSPAN|color:red;red|
|~|color:green;green|
|&gt;|footer&amp;trade;|f
|caption|c
%/</pre>
</div>
<div title="Larmor Radius" modifier="Christopher Wilson" created="201305310523" modified="201302221000" tags="[[Plasma Theory]]" changecount="1" content-type="">
<pre>The Larmor radius or [[gyroradius|Larmor Radius]] is defined as
$$\rho \equiv \frac{v_\perp}{\omega_c} \equiv \frac{m v_\perp}{|q| B}$$
where $v_\perp$ is the velocity component that is perpendicular to the direction of the magnetic field, and $\omega_c \equiv \frac{|q| B}{m}$ is the [[cyclotron frequency]].

The gyroradius gives a particles radius of gyration about a magnetic field line within a plasma.</pre>
</div>
<div title="Lebesgue Number" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404210239" modified="201404250224" tags="Topology" changecount="4" content-type="text/x-tiddlywiki">
<pre>!!The Lebesgue number Lemma
Let $\mathcal{A}$ be an open covering of the metric space $(X,d)$. If $X$ is [[compact]], then there exists $\delta &gt; 0$ s.t. for each subset of $X$ having diameter less than $\delta$, there exists an element of $\mathcal{A}$ containing it.

The number $\delta$ is called a ''//Lebesgue number//'' for the covering $\mathcal{A}$.</pre>
</div>
<div title="Lecture Notes" modifier="Christopher Wilson" created="201305230102" modified="201404121206" tags="Reference excludeTimeline" content-type="text/x-tiddlywiki" changecount="21">
<pre>[[PHY227 - Thermodynamics|https://www.dropbox.com/s/d85d3jvfwsdy8y9/PHY%20227%20Lecture%20Notes.pdf]]
[[PHY237 - Quantum Mechanics|https://www.dropbox.com/s/jiscm7yyarggeuv/PHY%20237%20Lecture%20Notes.pdf]]
[[PHY405 - Geometric Methods|https://www.dropbox.com/s/0l58hgchrmazw2q/PHY%20405%20Lecture%20Notes.pdf]]
</pre>
</div>
<div title="LessBackupsPlugin" modifier="Christopher Wilson" created="201106271027" modified="201305240339" tags="systemConfig excludeTimeline" changecount="9" content-type="" alias="">
<pre>/***
|Name:|LessBackupsPlugin|
|Description:|Intelligently limit the number of backup files you create|
|Version:|3.0.1a|
|Date:|27-Jun-2011|
|Source:|http://mptw.tiddlyspot.com/#LessBackupsPlugin|
|Author:|Simon Baird|
|Email:|simon.baird@gmail.com|
|License:|http://mptw.tiddlyspot.com/#TheBSDLicense|
!!Description
You end up with just backup one per year, per month, per weekday, per hour, minute, and second.  So total number won't exceed about 200 or so. Can be reduced by commenting out the seconds/minutes/hours line from modes array
!!Notes
Works in IE and Firefox only.  Algorithm by Daniel Baird. IE specific code by by Saq Imtiaz.
***/
//{{{

var MINS  = 60 * 1000;
var HOURS = 60 * MINS;
var DAYS  = 24 * HOURS;

if (!config.lessBackups) {
  config.lessBackups = {
    // comment out the ones you don't want or set config.lessBackups.modes in your 'tweaks' plugin
    modes: [
      //[&quot;YYYY&quot;,  365*DAYS], // one per year for ever
      //[&quot;MMM&quot;,   31*DAYS],  // one per month
      //[&quot;ddd&quot;,   7*DAYS],   // one per weekday
      //[&quot;d0DD&quot;,  1*DAYS],   // one per day of month
      //[&quot;h0hh&quot;,  24*HOURS], // one per hour
      [&quot;m0mm&quot;,  1*HOURS],  // one per minute
      //[&quot;s0ss&quot;,  1*MINS],   // one per second
      [&quot;latest&quot;,0]         // always keep last version. (leave this).
    ]
  };
}

window.getSpecialBackupPath = function(backupPath) {

  var now = new Date();

  var modes = config.lessBackups.modes;

  for (var i=0;i&lt;modes.length;i++) {

    // the filename we will try
    var specialBackupPath = backupPath.replace(/(\.)([0-9]+\.[0-9]+)(\.html)$/,
        '$1'+now.formatString(modes[i][0]).toLowerCase()+'$3')

    // open the file
    try {
      if (config.browser.isIE) {
        var fsobject = new ActiveXObject(&quot;Scripting.FileSystemObject&quot;)
        var fileExists  = fsobject.FileExists(specialBackupPath);
        if (fileExists) {
          var fileObject = fsobject.GetFile(specialBackupPath);
          var modDate = new Date(fileObject.DateLastModified).valueOf();
        }
      }
      else {
        netscape.security.PrivilegeManager.enablePrivilege(&quot;UniversalXPConnect&quot;);
        var file = Components.classes[&quot;@mozilla.org/file/local;1&quot;].createInstance(Components.interfaces.nsILocalFile);
        file.initWithPath(specialBackupPath);
        var fileExists = file.exists();
        if (fileExists) {
          var modDate = file.lastModifiedTime;
        }
      }
    }
    catch(e) {
      // give up
      return backupPath;
    }

    // expiry is used to tell if it's an 'old' one. Eg, if the month is June and there is a
    // June file on disk that's more than an month old then it must be stale so overwrite
    // note that &quot;latest&quot; should be always written because the expiration period is zero (see above)
    var expiry = new Date(modDate + modes[i][1]);
    if (!fileExists || now &gt; expiry)
      return specialBackupPath;
  }
}

// hijack the core function
window.getBackupPath_mptw_orig = window.getBackupPath;
window.getBackupPath = function(localPath) {
  return getSpecialBackupPath(getBackupPath_mptw_orig(localPath));
}

//}}}
</pre>
</div>
<div title="LightBox.css" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405181013" tags="css excludeTimeline" changecount="2" alias="" content-type="text/css">
<pre>#lightBoxOverlay {
    position:absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 90;   
    background-color: #000;
    -moz-opacity: 0.6;
    opacity: .60;
    filter: alpha(opacity=60);
}
#lightBoxOverlay[id]{ 
    position: fixed;
}

div.lightBox {
    background: #2d2d2d;
    color: #fff;
    border: 2px solid #eee;
}

img.lightBoxClose {
    position: absolute;
    top: -5px;
    right: -5px;
    margin: 0px;
    cursor: pointer;
}

div.lightBoxAlert {
    width: 300px;
    height: 64px;
    background: #2d2d2d;
    color: #fff;
    padding: 10px;
    border: 2px solid #eee;
}

div.lightBoxAlertIcon {
	position: absolute;
	top: 8px;
	left: 8px;
	width: 48px;
	height: 48px;
}

div.lightBoxAlertMessage {
	margin-left: 56px;
	margin-top: 16px;
}
</pre>
</div>
<div title="LightBoxCSS" modifier="Christopher Wilson" created="201404100419" modified="201404100714" tags="systemContent excludeTimeline css">
<pre>{{{
#lightBoxOverlay {
    position:absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 90;   
    background-color: #000;
    -moz-opacity: 0.6;
    opacity: .60;
    filter: alpha(opacity=60);
}
#lightBoxOverlay[id]{ 
    position: fixed;
}

div.lightBox {
    background: #2d2d2d;
    color: #fff;
    border: 2px solid #eee;
}

img.lightBoxClose {
    position: absolute;
    top: -5px;
    right: -5px;
    margin: 0px;
    cursor: pointer;
}

div.lightBoxAlert {
    width: 300px;
    height: 64px;
    background: #2d2d2d;
    color: #fff;
    padding: 10px;
    border: 2px solid #eee;
}

div.lightBoxAlertIcon {
	position: absolute;
	top: 8px;
	left: 8px;
	width: 48px;
	height: 48px;
}

div.lightBoxAlertMessage {
	margin-left: 56px;
	margin-top: 16px;
}
}}}</pre>
</div>
<div title="Lindelof Space" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404240710" modified="201404250617" tags="Topology" changecount="7" content-type="">
<pre>!!Definition
A space for which every open covering contains a countable subcovering is called a ''//Lindelof //''$\,$ ''//Space//''.

!!Notes
*The product of two Lindelof spaces need not be Lindelof.
*A subspace of a Lindelof space need not be Lindelof.</pre>
</div>
<div title="LineData" creator="jon" modifier="Christopher Wilson" created="201008061041" modified="201404141039" tags="example-data excludeLists excludeTimeline" content-type="" changecount="11" _hash="2f661160eb88c5c4ea970799eeb5c6bb28ed459e" server.content-type="" server.permissions="read" server.bag="charts_public" server.recipe="charts_public" server.host="http://charts.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/charts_public" server.title="LineData">
<pre>|Month|1|2|3|4|5|6|7|8|9|10|11|12|13|
|Jon's Money|100|200|700|800|3000|1000|2000|7000|8000|3000|7000|8000|3000|
|Colm's Money|50|500|300|900|700|500|5000|3000|9000|7000|3000|9000|7000|
|Matt's Money|250|550|330|400|2700|2500|5500|3300|4000|27000|3300|4000|7000|

</pre>
</div>
<div title="Linear Continuum" modifier="Christopher Wilson" created="201404110108" modified="201404110113" tags="Topology">
<pre>!!Definition
A simply ordered set $L$ having more than one element is called a ''//linear continuum//'' if:
#$L$ has the least upper bound property.
#if $x&lt;y$, there exists $z$ such that $x&lt;z&lt;y$.

!!Notes
*If $L$ is a linear continuum in the order topology, then $L$ is connected, and so are intervals and rays in $L$ (holds for $\mathbb{R}$ too).</pre>
</div>
<div title="Linear Order" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404232353" tags="excludeTimeline" changecount="1" content-type="">
<pre>See [[order relation]].</pre>
</div>
<div title="ListSlideShow" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404270129" modified="201404290724" tags="excludeTimeline" changecount="19" content-type="">
<pre>&lt;&lt;slideShow
noClicks
theme:ConferenceTheme 
clock:0 
&gt;&gt;
[[Results Update]]</pre>
</div>
<div title="Locally Compact" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404250607" modified="201404250608" tags="Topology" changecount="2" content-type="text/x-tiddlywiki">
<pre>!!Definition
A space $X$ is said to be ''//locally compact at x//'' if there is some compact subspace $C$ of $X$ that contains a neighborhood of $x$.  If $X$ is locally compact at each of its points, $X$ is said to be simply ''//locally compact//''.

Note that a compact space is automatically locally compact.	</pre>
</div>
<div title="Locally Connected" modifier="Christopher Wilson" created="201404110631" modified="201404110742" tags="Topology">
<pre>!!Definition
A space $X$ is said to be ''//locally connected at $x$//'' if for every neighborhood $U$ of $X$, there is a [[connected]] neighborhood $V$ of $X$ contained in $U$.  If $X$ is locally connected at each of its points, then it is said to simply to be ''//locally connected//''.  

Similarly, a space $X$ is said to be ''//locally path connected at $x$//'' if for every neighborhood $U$ of $x$, there is a [[path connected]] neighborhood $V$ of $x$ contained in $U$.  If $X$ is locally path connected at each of its points, then it is said to be ''//locally path connected//''.

!!Notes
*A space $X$ is ''//locally (path) connected//'' iff for every open set $U$ of $X$, each (path) [[connected components]] of $U$ is open in $X$.
*If $X$ is a topological space, each [[path component|connected components]] of $\bf X$ lies in a [[connected components]] of $X$.  If $X$ is ''//locally path connected//'', then the components and the path components of $X$ are the same.</pre>
</div>
<div title="LooseLinksPlugin" modifier="Christopher Wilson" created="201404092135" modified="201404111920" tags="excludeTimeline systemConfig" changecount="2">
<pre>/***
|Name|LooseLinksPlugin|
|Source|http://www.TiddlyTools.com/#LooseLinksPlugin|
|Documentation|http://www.TiddlyTools.com/#LooseLinksPlugin|
|Version|1.1.2|
|Author|Eric Shulman|
|License|http://www.TiddlyTools.com/#LegalStatements|
|~CoreVersion|2.1|
|Type|plugin|
|Description|case-folded/space-folded wiki words|
!!!!!Documentation
&lt;&lt;&lt;
This plugin extends the TiddlyWiki core handling for tiddler links to permit use of non-WikiWord variations of mixed-case and/or added/omitted spaces within double-bracketed text with titles of //existing// tiddlers, using a 'loose' (case-folded/space-folded) comparison.  This allows text that occurs in normal prose to be more easily linked to tiddler titles by using double-brackets without the full 'pretty link' syntax.  For example:
{{{
[[CoreTweaks]], [[coreTweaks]], [[core tweaks]],
[[CORE TWEAKS]], [[CoRe TwEaKs]], [[coreTWEAKS]]
}}}
&gt;[[CoreTweaks]], [[coreTweaks]], [[core tweaks]],
&gt;[[CORE TWEAKS]], [[CoRe TwEaKs]], [[coreTWEAKS]]
&lt;&lt;&lt;
!!!!!Configuration
&lt;&lt;&lt;
&lt;&lt;option chkLooseLinks&gt;&gt; Allow case-folded and/or space-folded text to link to existing tiddler titles
&quot;&quot;&quot;&lt;&lt;option chkLooseLinks&gt;&gt;&quot;&quot;&quot;
&lt;&lt;&lt;
!!!!!Revisions
&lt;&lt;&lt;
2009.08.14 [1.1.2] corrected call to addNotification()
2009.08.14 [1.1.1] code cleanup
2009.08.02 [1.1.0] big performance rewrite: use cached LooseLinksMap[] instead of scanning each time
2009.01.06 [1.0.0] converted to stand-alone plugin
2008.10.14 [0.0.0] initial release (as [[CoreTweaks]] #664 - http://trac.tiddlywiki.org/ticket/664)
&lt;&lt;&lt;
!!!!!Code
***/
//{{{
version.extensions.LooseLinksPlugin={major:1, minor:1, revision:2, date: new Date(2009,8,15)};

if (!config.options.chkLooseLinks)
	config.options.chkLooseLinks=true; // default to standard (edited by Chris)

if (window.caseFold_createTiddlyLink===undefined) { // only once
	window.caseFold_createTiddlyLink = window.createTiddlyLink;
	window.createTiddlyLink = function(place,title,includeText,className) {
		var btn=window.caseFold_createTiddlyLink.apply(this,arguments); // create core link
		if (!config.options.chkLooseLinks) return btn;
		if (store.getTiddlerText(title)) return btn; // matching tiddler (or shadow) exists
		var tid=window.getLooseLinksMap()[title.toLowerCase().replace(/\s/g,'')];
		if (tid) {
			var i=getTiddlyLinkInfo(tid,className);
			btn.setAttribute('tiddlyLink',tid);
			btn.title=i.subTitle;
			btn.className=i.classes;
		}
		return btn;
	}
}
window.getLooseLinksMap=function(title) {
	if (!config.options.chkLooseLinks) return {}; // disable
	if (!config.looseLinksMap) { // init/cache on demand
		config.looseLinksMap={};
		store.forEachTiddler(function(title,tiddler){
			config.looseLinksMap[title.toLowerCase().replace(/\s/g,'')]=title;
		});
	}
	if (title) config.looseLinksMap[title.toLowerCase().replace(/\s/g,'')]=title; // update
	return config.looseLinksMap;
}
store.addNotification(null,window.getLooseLinksMap); // notify
//}}}</pre>
</div>
<div title="Lorentzian Manifold" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405060500" tags="[[Topology Paper]]" changecount="1" content-type="text/x-tiddlywiki">
<pre>A //Lorentzian Manifold// is a subclass of pseudo [[Riemannian Manifold]]s which serve as a model for spacetime.  
*A Riemannian manifold has a positive-definite metric.
*The Lorentzian manifold has a pseudo metric, meaning it can admit timelike, null, or spacelike distances.</pre>
</div>
<div title="MPTWStyles" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405171709" tags="css excludeTimeline" content-type="text/css" alias="" changecount="7">
<pre>/*{{{*/
/* a contrasting background so I can see where one tiddler ends and the other begins */
body {background:[[ColorPalette::TertiaryLight]]; }

/* sexy colours and font for the header */
.headerForeground {
    color: [[ColorPalette::PrimaryPale]];
}
.headerShadow, .headerShadow a {
    color: [[ColorPalette::PrimaryMid]];
}

/* separate the top menu parts */
.headerForeground, .headerShadow {
    padding: 1em 1em 0;
}

.headerForeground, .headerShadow {
    font-family: 'Times, Trebuchet MS', sans-serif;
    font-weight:bold;
}
.headerForeground .siteSubtitle {
    color: [[ColorPalette::PrimaryLight]];
}
.headerShadow .siteSubtitle {
    color: [[ColorPalette::PrimaryMid]];
}



/* make shadow go and down right instead of up and left */
.headerShadow {
    left: 1px;
    top: 1px;
}

/* prefer monospace for editing */
.editor textarea, .editor input {
    font-family: 'Consolas', monospace;
    background-color:[[ColorPalette::TertiaryPale]];
}


/* sexy tiddler titles */
.title {
    font-size: 225%;
    color: [[ColorPalette::PrimaryLight]];
    font-family: 'Times, Trebuchet MS', sans-serif;
}

/* more subtle tiddler subtitle */
.subtitle {
    padding:0px;
    margin:0px;
    padding-left:1em;padding-top;1em;
    font-size: 85%;
    color: [[ColorPalette::TertiaryMid]];
}
.subtitle .tiddlyLink {
    color: [[ColorPalette::TertiaryMid]];

}

/* a little bit of extra whitespace */
.viewer {
    padding-bottom:1px;
}

/* don't want any background color for headings */
h1,h2,h3,h4,h5,h6 {
    background-color: transparent;
    color: [[ColorPalette::Foreground]];
}

/* give tiddlers 3d style border and explicit background */
.tiddler {
    background: [[ColorPalette::Background]];
    border-right: 2px [[ColorPalette::TertiaryMid]] solid;
    border-bottom: 2px [[ColorPalette::TertiaryMid]] solid;
    margin-bottom: 1em;
    padding:1em 2em 1em 1.5em;
}
.searchResults {
    background: [[ColorPalette::Background]];
    border-right: 2px [[ColorPalette::TertiaryMid]] solid;
    border-bottom: 2px [[ColorPalette::TertiaryMid]] solid;
    margin-bottom: 1em;
margin-right:22px;
    padding:1em 2em 1em 1.5em;
}

/* make options slider look nicer */
#sidebarOptions .sliderPanel {
    border:solid 1px [[ColorPalette::PrimaryLight]];

}

/* the borders look wrong with the body background */
#sidebar .button {
    border-style: none;
}

/* this means you can put line breaks in SidebarOptions for readability */
#sidebarOptions br {
    display:none;
}
/* undo the above in OptionsPanel */
#sidebarOptions .sliderPanel br {
    display:inline;

}

/* horizontal main menu stuff */

#topMenu br {
    display: none;
}
#topMenu {
    background: [[ColorPalette::PrimaryMid]];
    color:[[ColorPalette::PrimaryPale]];

}
#topMenu {
    padding:2px;
}
#topMenu .button, #topMenu .tiddlyLink, #topMenu a {
    margin-left: 0.5em;
    margin-right: 0.5em;
    padding-left: 3px;
    padding-right: 3px;
    color: [[ColorPalette::PrimaryPale]];
    font-size:110%;
}
#topMenu .button:hover, #topMenu .tiddlyLink:hover {
    background: [[ColorPalette::PrimaryDark]];
}

/* make 2.2 act like 2.1 with the invisible buttons */
.toolbar {
    visibility:hidden;
}
.selected .toolbar {
    visibility:visible;
}

/* experimental. this is a little borked in IE7 with the button 
 * borders but worth it I think for the extra screen realestate */
.toolbar { float:right; }

/* fix for TaggerPlugin. from sb56637. improved by FND */
.popup li .tagger a {
   display:inline;
}

/* makes theme selector look a little better */
#sidebarOptions .sliderPanel .select .button {
  padding:0.5em;
  display:block;
}
#sidebarOptions .sliderPanel .select br {
    display:none;
}

/* make it print a little cleaner */
@media print {
    #topMenu {
        display: none ! important;
    }
    /* not sure if we need all the importants */
    .tiddler {
        border-style: none ! important;
        margin:0px ! important;
        padding:0px ! important;
        padding-bottom:2em ! important;
    }
    .tagglyTagging .button, .tagglyTagging .hidebutton {
        display: none ! important;
    }
    .headerShadow {
        visibility: hidden ! important;
    }
    .tagglyTagged .quickopentag, .tagged .quickopentag {
        border-style: none ! important;
    }
    .quickopentag a.button, .miniTag {
        display: none ! important;
    }
}
/*}}}*/</pre>
</div>
<div title="MainMenu" creator="jermolene" modifier="Christopher Wilson" created="201305222216" modified="201405092240" tags="excludeTimeline excludeLists" changecount="64" content-type="text/x-tiddlywiki" alias="">
<pre>/%&lt;&lt;tag [[Critical Phenomena]]&gt;&gt; &lt;&lt;tag Topology&gt;&gt; &lt;&lt;tag [[Reference]]&gt;&gt; &lt;html&gt;&lt;span style='position:absolute;right:5px;'&gt;&lt;&lt;tiddler ToggleRightSidebar&gt;&gt;&lt;/span&gt;&lt;/html&gt;%/
&lt;html&gt;
&lt;div class=&quot;mainMenu&quot;&gt;
	&lt;&lt;tag [[Critical Phenomena]]&gt;&gt;
	&lt;&lt;tag Topology&gt;&gt; 
	&lt;&lt;tag [[Reference]]&gt;&gt; 
&lt;/div&gt;
&lt;div class=&quot;topMenuToolbar&quot;&gt;
			&lt;span class=&quot;search&quot;&gt;
			&lt;&lt;search&gt;&gt;&lt;&lt;setIcon2 fa-search&gt;&gt;
		&lt;/span&gt;
	&lt;span class=&quot;topMenuButtons&quot;&gt;
		&lt;&lt;homeView&gt;&gt;&lt;&lt;setIcon2 fa-home&gt;&gt;&lt;&lt;permaview&gt;&gt;&lt;&lt;setIcon2 fa-globe&gt;&gt;&lt;span class=&quot;topMenuEditButtons&quot;&gt;&lt;&lt;newTiddler label:&quot;New tiddler&quot; fields:&quot;content-type:text/x-tiddlywiki&quot;&gt;&gt;&lt;&lt;setIcon2 fa-file&gt;&gt;&lt;&lt;saveChanges&gt;&gt;&lt;&lt;setIcon2 fa-save&gt;&gt;&lt;/span&gt;&lt;span class=&quot;ToggleRightSidebar&quot;&gt;&lt;&lt;tiddler ToggleRightSidebar&gt;&gt;
	&lt;/span&gt;&lt;/span&gt;
&lt;/div&gt;
&lt;/html&gt;

&lt;script&gt;
window.onload = function () { document.getElementsByClassName('searchField')[0].placeholder = 'Search Notebook...'; }
document.getElementsByClassName('searchField')[0].placeholder = 'Search Notebook...';
&lt;/script&gt;
/%&lt;&lt;fontSize font-size: &gt;&gt;%/
/%&lt;a class=&quot;searchButton&quot; href=&quot;javascript:;&quot; title=&quot;Search this TiddlyWiki&quot;&gt;&lt;/a&gt;&lt;input class=&quot;txtOptionInput searchField&quot; type=&quot;text&quot; size=&quot;15&quot; accesskey=&quot;F&quot; autocomplete=&quot;off&quot; lastsearchtext=&quot;&quot; placeholder=&quot;Search Notebook&quot;&gt;&lt;/input&gt; &lt;span class=&quot;divider&quot;&gt;|&lt;/span&gt;
&lt;&lt;selectPalette a&gt;&gt;&lt;&lt;setIcon2 fa-cogs&gt;&gt;
%/</pre>
</div>
<div title="Manifold" modifier="Christopher Wilson" created="201404092118" modified="201404092120" tags="Topology" content-type="" alias="" changecount="1">
<pre>!!Definition
An ''//n-manifold//'' $M^n$ is a [[Hausdorff Space]] $X$ with a countable basis such that each point $x^\mu$ of $X$ has a neighborhood $O_\alpha$ that is [[homeomorphic]] with an open subset $U_\alpha$ of $\mathbb{R}^n$.

!!Examples
*One-dimension manifolds include lines and circles.
*Two-dimensional manifolds include the plane, sphere, and torus.

!!Notes
*The concept of a manifold can be used to describe more complicated structures in terms of the relatively better-understood properties of Euclidean space. 
</pre>
</div>
<div title="MarkupPostBody" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405061009" modified="201405142130" tags="excludeTimeline" alias="" changecount="152" content-type="text/x-tiddlywiki">
<pre>&lt;!--{{{--&gt;
&lt;script&gt;
window.onresize=function(){
	if (document.getElementById(&quot;topMenu&quot;).offsetWidth &lt; 870){
		document.getElementsByClassName(&quot;mainMenu&quot;)[0].style.display=&quot;none&quot;;
	}
	else {
		document.getElementsByClassName(&quot;mainMenu&quot;)[0].style.display=&quot;block&quot;;
	}
};
&lt;/script&gt;
&lt;!--}}}--&gt;</pre>
</div>
<div title="MarkupPostBody (1)" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405181351" tags="excludeTimeline" content-type="text/x-tiddlywiki" alias="" changecount="1">
<pre>&lt;!--{{{--&gt;
&lt;script&gt;
window.onresize=function(){
	if (document.getElementById(&quot;topMenu&quot;).offsetWidth &lt; 870){
		document.getElementsByClassName(&quot;mainMenu&quot;)[0].style.display=&quot;none&quot;;
	}
	else {
		document.getElementsByClassName(&quot;mainMenu&quot;)[0].style.display=&quot;block&quot;;
	}
};
&lt;/script&gt;
&lt;script src=&quot;detect-zoom.js&quot;&gt;
/*
      var zoom = detectZoom.zoom();
      var device = detectZoom.device();
	  
		document.write(detectZoom.device());
		
		var obj = document.getElementById('topMenu');
		obj.style.height=24/detectZoom.device()+'px'
		obj.style.height=24/
      console.log(zoom, device);
*/
&lt;/script&gt; 


&lt;!--}}}--&gt;
</pre>
</div>
<div title="MarkupPostHead" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404260542" modified="201405142121" tags="excludeTimeline" changecount="37" content-type="text/css" alias="">
<pre></pre>
</div>
<div title="MarkupPreBody" modifier="Christopher Wilson" created="201404100435" modified="201404100714" tags="excludeTimeline" content-type="" changecount="2">
<pre></pre>
</div>
<div title="MarkupPreBody (1)" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405150510" tags="excludeTimeline" content-type="" changecount="1">
<pre>&lt;!--{{{--&gt;
&lt;!-- LightBox translucent overlay --&gt;
&lt;div id=&quot;lightBoxOverlay&quot; onclick=&quot;DC3.LightBox.hideBox()&quot; style=&quot;display:none&quot;&gt;&lt;/div&gt;
&lt;!-- General use simple LightBox --&gt;
&lt;div class=&quot;lightBox&quot; id=&quot;lightBox&quot; style=&quot;display:none&quot;&gt;
	&lt;img class=&quot;lightBoxClose&quot; src=&quot;im/close.gif&quot; onclick=&quot;DC3.LightBox.hideBox()&quot; alt=&quot;Close&quot; title=&quot;Close this window&quot; /&gt;
	&lt;div id=&quot;lightBoxContent&quot;&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;!-- General use Alert LightBox --&gt;
&lt;div class=&quot;lightBoxAlert&quot; id=&quot;lightBoxAlert&quot; style=&quot;display:none&quot;&gt;
	&lt;img class=&quot;lightBoxClose&quot; src=&quot;im/close.gif&quot; onclick=&quot;DC3.LightBox.hideBox()&quot; alt=&quot;Close&quot; title=&quot;Close this window&quot; /&gt;
	&lt;div class=&quot;lightBoxAlertIcon&quot;&gt;&lt;img id=&quot;lightBoxAlertIcon&quot; src=&quot;runtime&quot; alt=&quot;runtime&quot; title=&quot;runtime&quot;&gt;&lt;/div&gt;
	&lt;div class=&quot;lightBoxAlertMessage&quot; id=&quot;lightBoxAlertMessage&quot;&gt;runtime&lt;/div&gt;
&lt;/div&gt;
&lt;!-- End of LightBox --&gt;
&lt;!--}}}--&gt;</pre>
</div>
<div title="MarkupPreHead" creator="psd" modifier="Christopher Wilson" created="201404100420" modified="201404260544" tags="excludeTimeline" alias="" changecount="15" content-type="">
<pre>&lt;!--{{{--&gt;
&lt;link rel=&quot;stylesheet&quot; href=&quot;icons/font-awesome-4.2.0/css/font-awesome.min.css&quot;&gt;
&lt;link rel='alternate' type='application/rss+xml' title='RSS' href='index.xml'/&gt;
&lt;!--}}}--&gt;</pre>
</div>
<div title="MarkupPreHead (1)" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405150511" tags="excludeTimeline" alias="" content-type="" changecount="4">
<pre>/%
&lt;!--{{{--&gt;
&lt;!-- LightBox translucent overlay --&gt;
&lt;div id=&quot;lightBoxOverlay&quot; onclick=&quot;DC3.LightBox.hideBox()&quot; style=&quot;display:none&quot;&gt;&lt;/div&gt;
&lt;!-- General use simple LightBox --&gt;
&lt;div class=&quot;lightBox&quot; id=&quot;lightBox&quot; style=&quot;display:none&quot;&gt;
	&lt;img class=&quot;lightBoxClose&quot; src=&quot;im/trash.png&quot; onclick=&quot;DC3.LightBox.hideBox()&quot; alt=&quot;Close&quot; title=&quot;Close this window&quot; /&gt;
	&lt;div id=&quot;lightBoxContent&quot;&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;!-- General use Alert LightBox --&gt;
&lt;div class=&quot;lightBoxAlert&quot; id=&quot;lightBoxAlert&quot; style=&quot;display:none&quot;&gt;
	&lt;img class=&quot;lightBoxClose&quot; src=&quot;im/close.gif&quot; onclick=&quot;DC3.LightBox.hideBox()&quot; alt=&quot;Close&quot; title=&quot;Close this window&quot; /&gt;
	&lt;div class=&quot;lightBoxAlertIcon&quot;&gt;&lt;img id=&quot;lightBoxAlertIcon&quot; src=&quot;runtime&quot; alt=&quot;runtime&quot; title=&quot;runtime&quot;&gt;&lt;/div&gt;
	&lt;div class=&quot;lightBoxAlertMessage&quot; id=&quot;lightBoxAlertMessage&quot;&gt;runtime&lt;/div&gt;
&lt;/div&gt;
&lt;!-- End of LightBox --&gt;
&lt;!--}}}--&gt;

&lt;!--{{{--&gt;
&lt;link rel=&quot;stylesheet&quot; href=&quot;font-awesome-4.0.3/css/font-awesome.min.css&quot;&gt;
&lt;link rel='alternate' type='application/rss+xml' title='RSS' href='index.xml'/&gt;

&lt;script src=&quot;lib/codemirror.js&quot;&gt;&lt;/script&gt;
&lt;link rel=&quot;stylesheet&quot; href=&quot;tw.CodeMirrorPlugin-master/lib/codemirror.css&quot;&gt;
&lt;script src=&quot;mode/javascript/javascript.js&quot;&gt;&lt;/script&gt;
&lt;!--}}}--&gt;
%/</pre>
</div>
<div title="MatchTagsPlugin" modifier="Christopher Wilson" created="201404101847" tags="excludeTimeline systemConfig" changecount="2">
<pre>/***
|Name|MatchTagsPlugin|
|Source|http://www.TiddlyTools.com/#MatchTagsPlugin|
|Documentation|http://www.TiddlyTools.com/#MatchTagsPluginInfo|
|Version|2.0.6|
|Author|Eric Shulman|
|License|http://www.TiddlyTools.com/#LegalStatements|
|~CoreVersion|2.1|
|Type|plugin|
|Description|'tag matching' with full boolean expressions (AND, OR, NOT, and nested parentheses)|
!!!!!Documentation
&gt; see [[MatchTagsPluginInfo]]
!!!!!Revisions
&lt;&lt;&lt;
2011.10.28 2.0.6 added .matchTags CSS class to popups to enable custom styling via StyleSheet
2011.01.23 2.0.5 fix core tweak for TW262+: adjust code in config.filters['tag'] instead of filterTiddlers()
2010.08.11 2.0.4 in getMatchingTiddlers(), fixed sorting for descending order (e.g, &quot;-created&quot;)
| please see [[MatchTagsPluginInfo]] for additional revision details |
2008.02.28 1.0.0 initial release
&lt;&lt;&lt;
!!!!!Code
***/
//{{{
version.extensions.MatchTagsPlugin= {major: 2, minor: 0, revision: 6, date: new Date(2011,10,28)};

// store.getMatchingTiddlers() processes boolean expressions for tag matching
//    sortfield (optional) sets sort order for tiddlers - default=title
//    tiddlers (optional) use alternative set of tiddlers (instead of current store)
TiddlyWiki.prototype.getMatchingTiddlers = function(tagexpr,sortfield,tiddlers) {

	var debug=config.options.chkDebug; // abbreviation
	var cmm=config.macros.matchTags; // abbreviation
	var r=[]; // results are an array of tiddlers
	var tids=tiddlers||store.getTiddlers();
	if (tids &amp;&amp; sortfield) tids=store.sortTiddlers(tids,sortfield);
	if (debug) displayMessage(cmm.msg1.format([tids.length]));

	// try simple lookup to quickly find single tags or tags that
	// contain boolean operators as literals, e.g. &quot;foo and bar&quot;
	for (var t=0; t&lt;tids.length; t++)
		if (tids[t].isTagged(tagexpr)) r.pushUnique(tids[t]);
	if (r.length) {
		if (debug) displayMessage(cmm.msg4.format([r.length,tagexpr]));
		return r;
	}
	
	// convert expression into javascript code with regexp tests,
	// so that &quot;tag1 AND ( tag2 OR NOT tag3 )&quot; becomes
	// &quot;/\~tag1\~/.test(...) &amp;&amp; ( /\~tag2\~/.test(...) || ! /\~tag3\~/.test(...) )&quot;

	// normalize whitespace, tokenize operators, delimit with &quot;~&quot;
	var c=tagexpr.trim(); // remove leading/trailing spaces
	c = c.replace(/\s+/ig,&quot; &quot;); // reduce multiple spaces to single spaces
	c = c.replace(/\(\s?/ig,&quot;~(~&quot;); // open parens
	c = c.replace(/\s?\)/ig,&quot;~)~&quot;); // close parens
	c = c.replace(/(\s|~)?&amp;&amp;(\s|~)?/ig,&quot;~&amp;&amp;~&quot;); // &amp;&amp;
	c = c.replace(/(\s|~)AND(\s|~)/ig,&quot;~&amp;&amp;~&quot;); // AND
	c = c.replace(/(\s|~)?\|\|(\s|~)?/ig,&quot;~||~&quot;); // ||
	c = c.replace(/(\s|~)OR(\s|~)/ig,&quot;~||~&quot;); // OR
	c = c.replace(/(\s|~)?!(\s|~)?/ig,&quot;~!~&quot;); // !
	c = c.replace(/(^|~|\s)NOT(\s|~)/ig,&quot;~!~&quot;); // NOT
	c = c.replace(/(^|~|\s)NOT~\(/ig,&quot;~!~(&quot;); // NOT(
	// change tag terms to regexp tests
	var terms=c.split(&quot;~&quot;); for (var i=0; i&lt;terms.length; i++) { var t=terms[i];
		if (/(&amp;&amp;)|(\|\|)|[!\(\)]/.test(t) || t==&quot;&quot;) continue; // skip operators/parens/spaces
		if (t==config.macros.matchTags.untaggedKeyword)
			terms[i]=&quot;tiddlertags=='~~'&quot;; // 'untagged' tiddlers
		else
			terms[i]=&quot;/\\~&quot;+t+&quot;\\~/.test(tiddlertags)&quot;;
	}
	c=terms.join(&quot; &quot;);
	if (debug) { displayMessage(cmm.msg2.format([tagexpr])); displayMessage(cmm.msg3.format([c])); }

	// scan tiddlers for matches
	for (var t=0; t&lt;tids.length; t++) {
	 	// assemble tags from tiddler into string &quot;~tag1~tag2~tag3~&quot;
		var tiddlertags = &quot;~&quot;+tids[t].tags.join(&quot;~&quot;)+&quot;~&quot;;
		try { if(eval(c)) r.push(tids[t]); } // test tags
		catch(e) { // error in test
			displayMessage(cmm.msg2.format([tagexpr]));
			displayMessage(cmm.msg3.format([c]));
			displayMessage(e.toString());
			break; // skip remaining tiddlers
		}
	}
	if (debug) displayMessage(cmm.msg4.format([r.length,tagexpr]));
	return r;
}
//}}}
//{{{
config.macros.matchTags = {
	msg1: &quot;scanning %0 input tiddlers&quot;,
	msg2: &quot;looking for '%0'&quot;,
	msg3: &quot;using expression: '%0'&quot;,
	msg4: &quot;found %0 tiddlers matching '%1'&quot;,
	noMatch: &quot;no matching tiddlers&quot;,
	untaggedKeyword: &quot;-&quot;,
	untaggedLabel: &quot;no tags&quot;,
	untaggedPrompt: &quot;show tiddlers with no tags&quot;,
	defTiddler: &quot;MatchingTiddlers&quot;,
	defTags: &quot;&quot;,
	defFormat: &quot;[[%0]]&quot;,
	defSeparator: &quot;\n&quot;,
	reportHeading: &quot;Found %0 tiddlers tagged with: '{{{%1}}}'\n----\n&quot;,
	handler: function(place,macroName,params,wikifier,paramString,tiddler) {
		var mode=params[0]?params[0].toLowerCase():'';
		if (mode==&quot;inline&quot;)
			params.shift();
		if (mode==&quot;report&quot; || mode==&quot;panel&quot;) {
			params.shift();
			var target=params.shift()||this.defTiddler;
		}
		if (mode==&quot;popup&quot;) {
			params.shift();
			if (params[0]&amp;&amp;params[0].substr(0,6)==&quot;label:&quot;) var label=params.shift().substr(6);
			if (params[0]&amp;&amp;params[0].substr(0,7)==&quot;prompt:&quot;) var prompt=params.shift().substr(7);
		} else {
			var fmt=(params.shift()||this.defFormat).unescapeLineBreaks();
			var sep=(params.shift()||this.defSeparator).unescapeLineBreaks();
		}
		var sortBy=&quot;+title&quot;;
		if (params[0]&amp;&amp;params[0].substr(0,5)==&quot;sort:&quot;) sortBy=params.shift().substr(5);
		var expr = params.join(&quot; &quot;);
		if (mode!=&quot;panel&quot; &amp;&amp; (!expr||!expr.trim().length)) return;
		if (expr==this.untaggedKeyword)
			{ var label=this.untaggedLabel; var prompt=this.untaggedPrompt };
		switch (mode) {
			case &quot;popup&quot;: this.createPopup(place,label,expr,prompt,sortBy); break;
			case &quot;panel&quot;: this.createPanel(place,expr,fmt,sep,sortBy,target); break;
			case &quot;report&quot;: this.createReport(target,this.defTags,expr,fmt,sep,sortBy); break;
			case &quot;inline&quot;: default: this.createInline(place,expr,fmt,sep,sortBy); break;
		}
	},
	formatList: function(tids,fmt,sep) {
		var out=[];
		for (var i=0; i&lt;tids.length; i++) { var t=tids[i];
			var title=t.title;
			var who=t.modifier;
			var when=t.modified.toLocaleString();
			var text=t.text;
			var first=t.text.split(&quot;\n&quot;)[0];
			var desc=store.getTiddlerSlice(t.title,&quot;description&quot;);
			desc=desc||store.getTiddlerSlice(t.title,&quot;Description&quot;);
			desc=desc||store.getTiddlerText(t.title+&quot;##description&quot;);
			desc=desc||store.getTiddlerText(t.title+&quot;##Description&quot;);
			var tags=t.tags.length?'[['+t.tags.join(']] [[')+']]':'';
			out.push(fmt.format([title,who,when,text,first,desc,tags]));
		}
		return out.join(sep);
	},
	createInline: function(place,expr,fmt,sep,sortBy) {
		wikify(this.formatList(store.sortTiddlers(store.getMatchingTiddlers(expr),sortBy),fmt,sep),place);
	},
	createPopup: function(place,label,expr,prompt,sortBy) {
		var btn=createTiddlyButton(place,
			(label||expr).format([expr]),
			(prompt||config.views.wikified.tag.tooltip).format([expr]),
			function(ev){ return config.macros.matchTags.showPopup(this,ev||window.event); });
		btn.setAttribute(&quot;sortBy&quot;,sortBy);
		btn.setAttribute(&quot;expr&quot;,expr);
	},
	showPopup: function(here,ev) {
		var p=Popup.create(here,null,&quot;matchTags popup&quot;); if (!p) return false;
		var tids=store.getMatchingTiddlers(here.getAttribute(&quot;expr&quot;));
		store.sortTiddlers(tids,here.getAttribute(&quot;sortBy&quot;));
		var list=[]; for (var t=0; t&lt;tids.length; t++) list.push(tids[t].title);
		if (!list.length) createTiddlyText(p,this.noMatch);
		else {
			var b=createTiddlyButton(createTiddlyElement(p,&quot;li&quot;),
				config.views.wikified.tag.openAllText,
				config.views.wikified.tag.openAllTooltip,
				function() {
					var list=this.getAttribute(&quot;list&quot;).readBracketedList();
					story.displayTiddlers(null,tids);
				});
			b.setAttribute(&quot;list&quot;,&quot;[[&quot;+list.join(&quot;]] [[&quot;)+&quot;]]&quot;);
			createTiddlyElement(p,&quot;hr&quot;);
		}
		var out=this.formatList(tids,&quot; &amp;nbsp;[[%0]]&amp;nbsp; &quot;,&quot;\n&quot;); wikify(out,p);
		Popup.show();
		ev.cancelBubble=true;
		if(ev.stopPropagation) ev.stopPropagation();
		return false;
	},
	createReport: function(target,tags,expr,fmt,sep,sortBy) {
		var tids=store.sortTiddlers(store.getMatchingTiddlers(expr),sortBy);
		if (!tids.length) { displayMessage('no matches for: '+expr); return false; }
		var msg=config.messages.overwriteWarning.format([target]);
		if (store.tiddlerExists(target) &amp;&amp; !confirm(msg)) return false;
		var out=this.reportHeading.format([tids.length,expr])
		out+=this.formatList(tids,fmt,sep);
		store.saveTiddler(target,target,out,config.options.txtUserName,new Date(),tags,{});
		story.closeTiddler(target); story.displayTiddler(null,target);
	},
	createPanel: function(place,expr,fmt,sep,sortBy,tid) {
		var s=createTiddlyElement(place,&quot;span&quot;); s.innerHTML=store.getTiddlerText(&quot;MatchTagsPlugin##html&quot;);
		var f=s.getElementsByTagName(&quot;form&quot;)[0];
		f.expr.value=expr; f.fmt.value=fmt; f.sep.value=sep.escapeLineBreaks();
		f.tid.value=tid; f.tags.value=this.defTags;
	}
};
//}}}
/***
//{{{
!html
&lt;form style='display:inline;white-space:nowrap'&gt;
&lt;input type='text'    name='expr' style='width:50%' title='tag expression'&gt;&lt;!--
--&gt;&lt;input type='text'    name='fmt'  style='width:10%' title='list item format'&gt;&lt;!--
--&gt;&lt;input type='text'    name='sep'  style='width:5%'  title='list item separator'&gt;&lt;!--
--&gt;&lt;input type='text'    name='tid'  style='width:12%' title='target tiddler title'&gt;&lt;!--
--&gt;&lt;input type='text'    name='tags' style='width:10%' title='target tiddler tags'&gt;&lt;!--
--&gt;&lt;input type='button'  name='go'   style='width:8%'  value='go' onclick=&quot;
	var expr=this.form.expr.value;
	if (!expr.length) { alert('Enter a boolean tag expression'); return false; }
	var fmt=this.form.fmt.value;
	if (!fmt.length) { alert('Enter the list item output format'); return false; }
	var sep=this.form.sep.value.unescapeLineBreaks();
	var tid=this.form.tid.value;
	if (!tid.length) { alert('Enter a target tiddler title'); return false; }
	var tags=this.form.tags.value;
	config.macros.matchTags.createReport(tid,tags,expr,fmt,sep,'title');
	return false;&quot;&gt;
&lt;/form&gt;
!end
//}}}
***/
//{{{
// SHADOW TIDDLER for displaying default panel input form
config.shadowTiddlers.MatchTags=&quot;&lt;&lt;matchTags panel&gt;&gt;&quot;;
//}}}
//{{{
// TWEAK core filterTiddlers() or config.filters['tag'] (in TW262+)
// to use getMatchingTiddlers instead getTaggedTiddlers
// for enhanced boolean matching in [tag[...]] syntax
var TW262=config.filters &amp;&amp; config.filters['tag']; // detect TW262+
var fname=TW262?&quot;config.filters['tag']&quot;:&quot;TiddlyWiki.prototype.filterTiddlers&quot;;
var code=eval(fname).toString().replace(/getTaggedTiddlers/g,'getMatchingTiddlers');
eval(fname+'='+code);
//}}}
//{{{
// REDEFINE core handler for enhanced boolean matching in tag:&quot;...&quot; paramifier
// use filterTiddlers() instead of getTaggedTiddlers() to get list of tiddlers.
config.paramifiers.tag = {
	onstart: function(v) {
		var tagged = store.filterTiddlers(&quot;[tag[&quot;+v+&quot;]]&quot;);
		story.displayTiddlers(null,tagged,null,false,null);
	}
};
//}}}</pre>
</div>
<div title="MatchTagsPluginInfo" modifier="Christopher Wilson" created="201404101848" modified="201404101849" tags="excludeTimeline">
<pre>/***
|Name|MatchTagsPluginInfo|
|Source|http://www.TiddlyTools.com/#MatchTagsPlugin|
|Documentation|http://www.TiddlyTools.com/#MatchTagsPluginInfo|
|Version|2.0.6|
|Author|Eric Shulman|
|License|http://www.TiddlyTools.com/#LegalStatements|
|~CoreVersion|2.1|
|Type|documentation|
|Description|documentation for MatchTagsPlugin|
!!!!!Usage
&lt;&lt;&lt;
This plugin extends the {{{[tag[tagname]]}}} macro parameter syntax used by the TiddlyWiki core {{{&lt;&lt;list&gt;&gt;}}} macro so that, instead of a simple tagname value, you can specify a complex combination of tagname values using a //boolean expression// containing AND, OR, and NOT operators, enclosed in nested parentheses if needed.
{{{
&lt;&lt;list filter &quot;[tag[expression]]&quot;&gt;&gt;
}}}
In addition, the plugin defines a new macro, {{{&lt;&lt;matchTags ...&gt;&gt;}}} that can be used instead of the core {{{&lt;&lt;list&gt;&gt;}}} macro to output a list of matching tiddlers //using a custom 'item format' and 'separator'//.  You can also use this macro to create a command link that displays the matching tiddlers within a popup list, similar to the standard {{{&lt;&lt;tag tagName&gt;&gt;}}} macro, but matching a combination of tag values rather than a single tag value.
{{{
&lt;&lt;matchTags inline &quot;format&quot; &quot;separator&quot; sort:fieldname tag expression&gt;&gt;
&lt;&lt;matchTags popup &quot;label:...&quot; &quot;prompt:...&quot; sort:fieldname tag expression&gt;&gt;
&lt;&lt;matchTags report TiddlerName &quot;format&quot; &quot;separator&quot; sort:fieldname tag expression&gt;&gt;
&lt;&lt;matchTags panel  Tiddlername &quot;format&quot; &quot;separator&quot; sort:fieldname tag expression&gt;&gt;
}}}
where:
* ''inline'', ''report'', ''panel'', and ''popup''&lt;br&gt;are keywords that indicate the type of output that the macro should produce:
** ''inline'' //(default)// - displays a list of matching tiddlers embedded directly in tiddler content
** ''popup'' - embeds a command button that, when clicked, lists matching tiddlers in a ~TiddlyWiki popup display
** ''report'' - generates a list of matching tiddler in a separate [[MatchingTiddlers]] report tiddler
** ''panel'' - displays an interactive form for generating a [[MatchingTiddlers]] report
* ''format''&lt;br&gt;defines the wiki-syntax for rendering list items.  The following //substitution markers// can be used to insert tiddler-specific information for each matched tiddler:
** {{{%0}}} - title
** {{{%1}}} - modifier (author)
** {{{%2}}} - modified (date of last change)
** {{{%3}}} - text (all tiddler content)
** {{{%4}}} - firstline (tiddler content up to the first newline)
** {{{%5}}} - description (tiddler slice or section content named &quot;description&quot; or &quot;Description&quot;)
** {{{%6}}} - tags (space-separated, bracketed list)
* ''separator''&lt;br&gt;defines the wiki-syntax to use //between// each matching title (e.g., &quot;, &quot; creates a comma-separated list, while &quot;\n&quot; displays one tiddler per line).
* ''sort:fieldname'' (optional)&lt;br&gt;specifies the sort order for the resulting list of tiddlers.  You can specify any tiddler field name (standard or custom-defined).  Standard tiddler fieldnames include: //title, created, modified, modifier//.  If not specified, tiddlers are sorted by title.  You can prefix the fieldname with &quot;+&quot; or &quot;-&quot; to indicate ascending or descending order, respectively.
* ''tag expression''&lt;br&gt;the remaining parameter(s) are joined together to define the boolean expression to be matched.
When using the ''popup'' option, there are two additional (and optional) parameters you can specify:
* ''&quot;label:...&quot;''(optional)&lt;br&gt; indicates the text for the popup command link.  The default is to display the specified tag expression itself.
* ''&quot;prompt:...&quot;'' (optional)&lt;br&gt;indicates the mouseover 'tooltip' for the popup command link.
* note: you can apply custom CSS styles (e.g., font size) to the popup by adding a rule for &quot;.matchTags .popup&quot; to your [[StyleSheet]].
When using the ''report'' or ''panel'' option, an additional parameter may be provided:
* ''~TiddlerName''&lt;br&gt;specifies the target tiddler into which the output will be generated (default: [[MatchingTiddlers]])
Notes:
*A tag expression can use any combination of text operators: ''AND'', ''OR'', ''NOT'' (or their equivalent javascript operators: ''&amp;&amp;'', ''||'', ''!''), contained in nested parentheses as needed.
*Operators should be delimited by spaces or parentheses.
*Before matching, leading/trailing spaces are automatically trimmed and multiple spaces are reduced to single spaces.
*Tag values containing embedded spaces do //not// have to be enclosed in {{{[[...]]}}}.
*Tag values that contain boolean operators as ''literal text'' (e.g., {{{&quot;foo and bar&quot;}}} or {{{&quot;foo &amp;&amp; bar&quot;}}} cannot be used within a compound boolean expression, but //can// be matched if specified by themselves, without any other tag values or operators.
*To match tiddlers that are untagged, use &quot;-&quot; as a special tag value within the expression.
*You can match &quot;wildcard&quot; tags  by using //regular expression// (i.e., &quot;text pattern&quot;) syntax within a tag value, e.g. {{{[Tt]agvalue.*}}}
&lt;&lt;&lt;
!!!!!Examples:
&lt;&lt;&lt;
display a popup list:
{{{
&lt;&lt;matchTags popup sample OR (settings AND systemConfig)&gt;&gt;
}}}
&gt;&lt;&lt;matchTags popup sample OR (settings AND systemConfig)&gt;&gt;
display a popup list with custom label:
{{{
&lt;&lt;matchTags popup &quot;label:samples and settings&quot; sample OR (settings AND systemConfig)&gt;&gt;
}}}
&gt;&lt;&lt;matchTags popup &quot;label:samples and settings&quot; sample OR (settings AND systemConfig)&gt;&gt;
display a popup list of untagged tiddlers:
{{{
&lt;&lt;matchTags popup -&gt;&gt;
}}}
&gt;&lt;&lt;matchTags popup -&gt;&gt;
generate a report using interactive form control panel
{{{
&lt;&lt;matchTags panel &quot;MatchingTiddlers&quot; &quot;[[%0]]&quot; &quot;\n&quot; sample OR (settings AND systemConfig)&gt;&gt;
}}}
&gt;{{smallform{&lt;&lt;matchTags panel &quot;MatchingTiddlers&quot; &quot;[[%0]]&quot; &quot;\n&quot; sample OR (settings AND systemConfig)&gt;&gt;}}}
comma-separated list:
{{{
&lt;&lt;matchTags &quot;[[%0]]&quot; &quot;, &quot; sample OR (settings AND systemConfig)&gt;&gt;
}}}
&gt;&lt;&lt;matchTags &quot;[[%0]]&quot; &quot;, &quot; sample OR (settings AND systemConfig)&gt;&gt;
numbered list (sorted by modification date, most recent first):
{{{
&lt;&lt;matchTags &quot;#[[%0]] (%2)&lt;br&gt;^^%5^^&quot; &quot;\n&quot; sort:-modified sample OR (settings AND systemConfig)&gt;&gt;
}}}
&gt;&lt;&lt;matchTags &quot;#[[%0]] (%2)&lt;br&gt;^^%5^^&quot; &quot;\n&quot; sort:-modified sample OR (settings AND systemConfig)&gt;&gt;
bullet-item list (using the TiddlyWiki core {{{&lt;&lt;list filter ...&gt;&gt;}}} macro):
//(Note: when using the core {{{&lt;&lt;list&gt;&gt;}}} macro, you should always enclose the entire tag filter parameter within quotes)//
{{{
&lt;&lt;list filter &quot;[tag[sample OR (settings AND systemConfig)]]&quot;&gt;&gt;
}}}
&gt;&lt;&lt;list filter &quot;[tag[sample OR (settings AND systemConfig)]]&quot;&gt;&gt;
&lt;&lt;&lt;
!!!!!Revisions
&lt;&lt;&lt;
2011.10.28 2.0.6 added .matchTags CSS class to popups to enable custom styling via StyleSheet
2011.01.22 2.0.5 fix core tweak for TW262+: adjust code in config.filters['tag'] instead of filterTiddlers()
2010.08.11 2.0.4 in getMatchingTiddlers(), fixed sorting for descending order (e.g, &quot;-created&quot;)
2010.03.02 2.0.3 added %6 format (tags)
2010.03.01 2.0.2 in formatList(), don't automatically put '[[' and ']]' around title (%0) in formatted output
2009.08.29 2.0.1 added support for {{{config.macros.matchTags.defTags}}} to auto-tag [[MatchingTiddlers]] output
2008.09.04 2.0.0 added &quot;report&quot; and &quot;panel&quot; options to generate formatted results and store in a tiddler.  Also, added config.macros.matchTags.formatList(place,fmt,sep) API to return formatted output for use with other plugins/scripts
2008.09.01 1.9.2 fixed return value from popup button handler so IE doesn't attempt to leave the page
2008.08.31 1.9.1 improved expression conversion handling to permit use of regular expressions for &quot;wildcard&quot; matching within tag values
2008.06.12 1.9.0 added support for formatted output of: title, who, when, text, firstline, description (slice or section)
2008.06.05 1.8.0 in getMatchingTiddlers(), added optional sortfield and tiddlers params to support use of alternative set of tiddlers instead of using current store content (provides filtering support for ImportTiddlersPlugin)
2008.06.04 1.7.1 in getMatchingTiddlers(), reworked conversion of expression for more robust parsing of whitespace, parentheses and javascript operators and allow use of &quot;-&quot; (untagged) //within// expressions
2008.05.19 1.7.0 in getMatchingTiddlers(), use reverseLookup() instead of forEachTiddler() to permit access to tiddlers included via [[IncludePlugin|http://tiddlywiki.abego-software.de/#IncludePlugin]]
2008.05.17 1.6.0 in getMatchingTiddlers(), rewrote expression conversion to handle tags with spaces tag values that are substrings of other tag values.
2008.05.16 1.5.0 added special case using &quot;-&quot; to find UNTAGGED tiddlers
2008.05.15 1.4.0 added &quot;popup&quot; output option
2008.05.14 1.3.4 instead of hijacking getTaggedTiddlers(), added tweak of filterTiddlers() prototype to replace getTaggedTiddlers() with getMatchingTiddler() so that core use of getTaggedTiddlers() does not perform boolean processing of tiddler titles such as [[To Be or not To Be]].  Also, improved &quot;filter error&quot; messages in getMatchingTiddlers() to report tag expression in addition to actual eval error.
2008.04.25 1.3.3 in getTaggedTiddlers(), fixed handling for &quot;not&quot; embedded within a tag
2008.04.21 1.3.2 in getTaggedTiddlers(), fixed handling for initial &quot;NOT&quot; and &quot;NOT(expr)&quot; syntax
2008.04.20 1.3.1 in getTaggedTiddlers(), corrected check for boolean expression to avoid excess processing of tags containing spaces.  Also, improved handling for non-existing tags that contain text of existing tags
2008.04.19 1.3.0 in filterTiddlers(), use getTaggedTiddlers() instead of matchTags(), and then hijack getTaggedTiddlers() to add matchTags() handling
2008.04.19 [*.*.*] plugin size reduction: moved documentation to [[MatchTagsPluginInfo]]
2008.03.25 1.2.0 added optional &quot;sort:fieldname&quot; parameter
2008.03.20 1.1.2 in handler(), replace 'encodeTiddlyLink' with explicit [[...]] brackets to ensure that one-word tiddler titles are properly rendered as TiddlyLinks
2008.02.29 1.1.1 in matchTags(), added handling to skip remaining tiddlers if expression has an error
2008.02.29 1.1.0 refactored to define store.matchTags() and extend store.filterTiddlers()
2008.02.28 1.0.0 initial release
&lt;&lt;&lt;</pre>
</div>
<div title="Math Notepad" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405140732" modified="201405142046" tags="mathJs excludeTimeline" content-type="text/x-tiddlywiki" changecount="3">
<pre>&lt;html&gt;
&lt;div id=&quot;main&quot;&gt;
   
    &lt;div id=&quot;content&quot;&gt;
        &lt;div id=&quot;editor&quot;&gt;&lt;/div&gt;
    &lt;/div&gt;


&lt;/div&gt;

&lt;/html&gt;
&lt;script&gt;
//alert(mathnotepad);

app.load(&quot;editor&quot;);&lt;/script&gt;
&lt;html&gt;
&lt;style&gt;
html,body{color:#4d4d4d;width:100%;height:100%;margin:0;padding:0;font-family:dejavu sans,verdana,arial,sans serif;font-weight:normal;font-size:14px;overflow:hidden}body{background:#e4ecf3 url('../img/background/grey/lightblue.png') repeat}#main{width:99%;max-width:728px;height:100%;margin:0 auto;position:relative}#header{height:80px;overflow:hidden}#title{width:220px;height:36px;font-size:200%;border:0}#titleBeta{font-size:50%;font-style:italic;font-weight:bold;margin:0}#titleVersion{font-size:80%;font-weight:normal;font-style:italic;margin:0}#title,#titleBeta,#titleVersion{color:#4d4d4d;font-family:arial,sans-serif}img{border:0}img.logo{width:48px;height:48px;vertical-align:middle;border:0}table.header{color:white;background-color:#bfbfbf;margin-bottom:20px;border-radius:3px}td.header,td.headermenu{padding:10px 0;margin:0}td.headermenu{vertical-align:top}a.headermenu{padding-left:5px;font-size:80%}a{color:#4d4d4d}a:hover{color:red}div.menuitem{font-size:14px;height:30px;background-color:white;display:inline;padding:5px;margin:0;cursor:pointer;white-space:nowrap;border:1px solid gray;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px}#content{height:100%;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;-ms-box-sizing:border-box;box-sizing:border-box;margin:-80px 0 -30px 0;padding:80px 0 30px 0;overflow:hidden}#editor{height:100%;border:1px solid #92b8de;background-color:white;border-radius:3px}#footer{height:30px;font-size:80%;overflow:hidden;padding-top:10px;text-align:center}#footer,#footer a{color:#92b8de}#footer a{text-decoration:none}#footer a:hover{color:red;text-decoration:underline}#ad_left{position:absolute;left:-180px;width:160px;top:80px}#ad_right{position:absolute;right:-180px;width:160px;top:80px}div.plot.cartesian{border:1px solid #b3b3b3;border-radius:3px;overflow:visible;margin:4px 0;float:left;max-width:100%}div.plot.cartesian.focus{box-shadow:0 0 10px #92b8de}div.plot.cartesian .frame{background-color:white;overflow:hidden;left:0;top:0;width:100%;height:100%}div.plot.cartesian .frame.fullscreen{position:fixed;z-index:999}div.plot.cartesian .head{color:gray;background-color:#e6e6e6;background-image:-ms-linear-gradient(top,#f5f5f5 0,#e6e6e6 100%);background-image:-moz-linear-gradient(top,#f5f5f5 0,#e6e6e6 100%);background-image:-o-linear-gradient(top,#f5f5f5 0,#e6e6e6 100%);background-image:-webkit-gradient(linear,left top,left bottom,color-stop(0,#f5f5f5),color-stop(1,#e6e6e6));background-image:-webkit-linear-gradient(top,#f5f5f5 0,#e6e6e6 100%);background-image:linear-gradient(to bottom,#f5f5f5 0,#e6e6e6 100%);overflow:hidden;padding:5px;border-bottom:1px solid #b3b3b3}div.plot.cartesian .menu{float:right}div.plot.cartesian .settings{background-color:#f3f3f3;padding:5px;border-bottom:1px solid #b3b3b3}div.plot.cartesian .settings td{vertical-align:middle;font-size:13px}div.plot.cartesian .settings input{color:#1a1a1a;width:100px;border:1px solid lightgray;border-radius:2px;margin:4px}div.plot.cartesian button.folded,div.plot.cartesian button.expanded,div.plot.cartesian button.settings,div.plot.cartesian button.fullscreen,div.plot.cartesian button.fullscreen-exit{width:16px;height:16px;border:0;padding:0;margin:0;vertical-align:top;cursor:pointer;background-repeat:no-repeat;background-position:center;background-color:transparent}div.plot.cartesian .menu button{margin-left:8px}div.plot.cartesian button.folded,div.plot.cartesian button.expanded{margin-right:10px}div.plot.cartesian button.folded{background-image:url('../img/right.png')}div.plot.cartesian button.expanded{background-image:url('../img/down.png')}div.plot.cartesian button.settings{background-image:url('../img/settings.png')}div.plot.cartesian button.fullscreen{background-image:url('../img/fullscreen.png')}div.plot.cartesian button.fullscreen-exit{background-image:url('../img/fullscreen_exit.png')}div.plot.cartesian button.folded:hover,div.plot.cartesian button.expanded:hover,div.plot.cartesian button.settings:hover,div.plot.cartesian button.fullscreen:hover,div.plot.cartesian button.fullscreen-exit:hover{opacity:.5;filter:alpha(opacity=50)}div.plot.cartesian div.resizable-right{cursor:e-resize;width:10px;height:100%;position:absolute;right:0;top:0;z-index:1;margin-right:-5px}div.plot.cartesian div.resizable-bottom{cursor:s-resize;width:100%;height:10px;position:absolute;left:0;bottom:0;z-index:1;opacity:.5;margin-bottom:-5px}div.plot.cartesian div.resizable-bottom-right{cursor:se-resize;background-image:url('../img/resize.png');background-repeat:no-repeat;width:16px;height:16px;position:absolute;right:0;bottom:0;z-index:2;margin-right:-5px;margin-bottom:-5px}.editor{position:relative;width:100%;height:100%;margin:0;line-height:normal}.editor .nodes{overflow:auto;width:100%;height:100%;margin:0;padding:0}.editor .clipboard{position:absolute;top:10px;right:30px;max-width:90%;max-height:90%;z-index:1;opacity:.5;-webkit-transition:opacity .2s ease-in-out;-moz-transition:opacity .2s ease-in-out;-o-transition:opacity .2s ease-in-out;transition:opacity .2s ease-in-out}.editor .clipboard:hover{opacity:1}.editor .clipboard .expressions,.editor .clipboard .actions{background-color:#f5f5f5}.editor .clipboard .expressions{max-width:200px;max-height:200px;overflow:auto}.editor .clipboard .actions{padding:5px}.editor .clipboard .expressions pre{min-height:16px;padding:5px;margin:0}.editor .node{overflow:hidden;padding:2px 4px 2px 16px;margin:0;position:relative}.editor .node .selector{position:absolute;left:0;top:0;width:16px;height:100%;cursor:pointer;padding:0;margin:0}.editor .node .selector table{width:12px;height:100%;padding:0;margin:0;border-collapse:separate;border-spacing:2px}.editor .node .selector table td{border:1px solid lightgray;border-right:0}.editor .node.selected .selector table td{border-color:white}.editor .node .selector:hover table td{border-color:#1a1a1a}.editor .node .contents{padding:0}div.editor .node.selected{background-color:#92b8de}.editor .node.selected .selector,.editor .node.selected textarea,.editor .node.selected .result{color:white}.editor .node.selected .selector{color:white;border-color:white}.editor .node .expr,.editor .node .result,.editor .clipboard pre{font-family:dejavu sans,verdana,arial,sans-serif;font-weight:normal;font-size:14px}.editor .node .expr{margin:0;padding:0;width:100%;border:0;background:0;overflow:hidden;outline:0;color:#1a1a1a;resize:none}.editor .node .expr:hover{background-color:#f5f5f5}.editor .node.selected .expr:hover{background-color:transparent;color:#1a1a1a}.editor .node .expr:focus{background-color:#ffffbf;color:#1a1a1a}.editor .node.selected .expr:focus{background-color:transparent}.editor .node .result{color:gray;float:left;margin-left:24px;margin-right:24px;opacity:1;-webkit-transition:opacity .1s ease-out;-moz-transition:opacity .1s ease-out;-o-transition:opacity .1s ease-out;transition:opacity .1s ease-out}.editor .node .result.outdated{opacity:.5;-webkit-transition:opacity .5s ease-out;-moz-transition:opacity .5s ease-out;-o-transition:opacity .5s ease-out;transition:opacity .5s ease-out}.editor .node .result .error{color:red}.editor .node .result .graph{background-color:white}.editor .node .result table.help th{text-align:left;vertical-align:top}.editor .node .result table.help th,.editor .node .result table.help td{padding:5px}.editor .node .result table.help td pre{padding:0;margin:0;background-color:rgba(0,0,0,0.04)}.editor .node table.matrix{border-collapse:collapse}.editor .node div.matrix td{padding:0 5px}.editor .node div.matrix td.left,.editor .node div.matrix td.right{border:1px solid #a6a6a6;width:4px;padding:0}.editor .node div.matrix td.left{border-right:0}.editor .node div.matrix td.center{padding:0}.editor .node div.matrix td.right{border-left:none}.editor .node.selected div.matrix td{border-color:white}textarea.selector,textarea.resultcopier{position:absolute;left:-10px;top:-10px;width:0;height:0}div.viewer{border:1px solid #b3b3b3;border-radius:3px;overflow:visible;margin:4px 0;max-width:100%;max-height:100%;float:left;font-family:dejavu sans,verdana,arial,sans-serif;font-weight:normal;font-size:14px}div.viewer.focus{box-shadow:0 0 10px #92b8de}div.viewer .frame{background-color:white;overflow:hidden;left:0;top:0;width:100%;height:100%}div.viewer .frame.fullscreen{position:fixed;z-index:999}div.viewer .head{color:gray;background-color:#e6e6e6;background-image:-ms-linear-gradient(top,#f5f5f5 0,#e6e6e6 100%);background-image:-moz-linear-gradient(top,#f5f5f5 0,#e6e6e6 100%);background-image:-o-linear-gradient(top,#f5f5f5 0,#e6e6e6 100%);background-image:-webkit-gradient(linear,left top,left bottom,color-stop(0,#f5f5f5),color-stop(1,#e6e6e6));background-image:-webkit-linear-gradient(top,#f5f5f5 0,#e6e6e6 100%);background-image:linear-gradient(to bottom,#f5f5f5 0,#e6e6e6 100%);overflow:hidden;line-height:24px;border-bottom:1px solid #b3b3b3}div.viewer .head .title{padding:0 5px;display:inline}div.viewer .head .menu{float:right}div.viewer .settings{background-color:#f3f3f3;padding:5px;border-bottom:1px solid #b3b3b3}div.viewer .settings td{vertical-align:middle;font-size:13px}div.viewer .settings input{color:#1a1a1a;width:100px;border:1px solid lightgray;border-radius:2px;margin:4px}div.viewer button.folded,div.viewer button.expanded,div.viewer button.settings,div.viewer button.fullscreen,div.viewer button.fullscreen-exit{width:24px;height:24px;border:0;padding:0;margin:0;vertical-align:top;cursor:pointer;background-repeat:no-repeat;background-position:center;background-color:transparent}div.viewer .menu button{margin-left:8px}div.viewer button.folded{background-image:url('../img/right.png')}div.viewer button.expanded{background-image:url('../img/down.png')}div.viewer button.settings{background-image:url('../img/settings.png')}div.viewer button.fullscreen{background-image:url('../img/fullscreen.png')}div.viewer button.fullscreen-exit{background-image:url('../img/fullscreen_exit.png')}div.viewer button.folded:hover,div.viewer button.expanded:hover,div.viewer button.settings:hover,div.viewer button.fullscreen:hover,div.viewer button.fullscreen-exit:hover{opacity:.5;filter:alpha(opacity=50)}div.viewer div.resizable-right{cursor:e-resize;width:10px;height:100%;position:absolute;right:0;top:0;z-index:1;margin-right:-5px}div.viewer div.resizable-bottom{cursor:s-resize;width:100%;height:10px;position:absolute;left:0;bottom:0;z-index:1;opacity:.5;margin-bottom:-5px}div.viewer div.resizable-bottom-right{cursor:se-resize;background-image:url('../img/resize.png');background-repeat:no-repeat;width:16px;height:16px;position:absolute;right:0;bottom:0;z-index:2;margin-right:-5px;margin-bottom:-5px}
&lt;/style&gt;&lt;/html&gt;</pre>
</div>
<div title="MathNotepadJs" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405140640" modified="201405140756" tags="excludeTimeline systemConfig systemConfigDisable" content-type="text/x-tiddlywiki" changecount="9">
<pre>//{{{
var mathnotepad={PRECISION:14};
var util;
if(util===undefined){
	util={}}util.isNumber=function isNumber(a){
		return(a instanceof Number)||(typeof(a)===&quot;number&quot;)
	};
util.addEventListener=function addEventListener(b,d,c,a){
	if(b.addEventListener){
		if(a===undefined){
			a=false
		}
		if(d===&quot;mousewheel&quot;&amp;&amp;navigator.userAgent.indexOf(&quot;Firefox&quot;)&gt;=0){
			d=&quot;DOMMouseScroll&quot;}b.addEventListener(d,c,a)
		}
		else{b.attachEvent(&quot;on&quot;+d,c)}
};
util.removeEventListener=function removeEventListener(b,d,c,a){if(b.removeEventListener){if(a===undefined){a=false}if(d===&quot;mousewheel&quot;&amp;&amp;navigator.userAgent.indexOf(&quot;Firefox&quot;)&gt;=0){d=&quot;DOMMouseScroll&quot;}b.removeEventListener(d,c,a)}else{b.detachEvent(&quot;on&quot;+d,c)}};
util.stopPropagation=function stopPropagation(a){if(!a){a=window.event}if(a.stopPropagation){a.stopPropagation()}else{a.cancelBubble=true}};
util.preventDefault=function preventDefault(a){if(!a){a=window.event}if(a.preventDefault){a.preventDefault()}else{a.returnValue=false}};
util.getTarget=function getTarget(a){var b;
if(!a){a=window.event}if(a.target){b=a.target}else{if(a.srcElement){b=a.srcElement}}if(b.nodeType==3){b=b.parentNode}return b};
util.addClassName=function(c,b){var a=c.className.split(&quot; &quot;);
if(a.indexOf(b)==-1){a.push(b);
c.className=a.join(&quot; &quot;)}};
util.removeClassName=function(d,c){var b=d.className.split(&quot; &quot;);
var a=b.indexOf(c);
if(a!=-1){b.splice(a,1);
d.className=b.join(&quot; &quot;)}};
util.getCaretPosition=function getCaretPosition(b){var c={};
if(b.selectionStart!=undefined){c.start=b.selectionStart;
c.end=b.selectionEnd}else{if(document.selection){b.focus();
var a=document.selection.createRange();
a.moveStart(&quot;character&quot;,-b.value.length);
c.start=a.text.length;
a.moveEnd(&quot;character&quot;,-b.value.length);
c.end=a.text.length}else{throw&quot;Error: cannot get caret position&quot;}}return c};
util.setCaretPosition=function setCaretPosition(c,d,a){document.body.focus();
if(a==undefined){a=d}if(c.setSelectionRange){c.focus();
c.setSelectionRange(d,a)}else{if(c.createTextRange){var b=c.createTextRange();
b.collapse(true);
b.moveEnd(&quot;character&quot;,a);
b.moveStart(&quot;character&quot;,d);
b.select()}}};
util.isChildOf=function isChildOf(b,a){var c=b.parentNode;
while(c){if(c==a){return true}c=c.parentNode}return false};
util.clear=function clear(a){for(var b in a){if(a.hasOwnProperty(b)){delete a[b]}}};
util.extend=function extend(d,c){for(var e in c){if(c.hasOwnProperty(e)){d[e]=c[e]}}return d};
util.create=function create(b,c){var a=Object.create(b);
if(c){util.extend(a,c)}return a};
util.getIEVersionNumber=function getIEVersionNumber(){var b=navigator.userAgent;
var a=b.indexOf(&quot;MSIE &quot;);
if(a==-1){return undefined}else{return parseFloat(b.substring(a+5,b.indexOf(&quot;;
&quot;,a)))}};
function Hash(){}Hash.prototype.getQuery=function(){var g=window.location.hash.substring(1);
var h=g.split(&quot;&amp;&quot;);
var f={};
for(var d=0,a=h.length;
d&lt;a;
d++){var b=h[d].split(&quot;=&quot;);
if(b.length==2){var c=decodeURIComponent(b[0]);
var e=decodeURIComponent(b[1]);
f[c]=e}}return f};
Hash.prototype.onChange=function(b,d){this.prevHash=&quot;&quot;;
var c=this;
if(!c.callbacks){c.callbacks=[]}c.callbacks.push({key:b,value:undefined,callback:d});
function a(){for(var e=0;
e&lt;c.callbacks.length;
e++){var g=c.callbacks[e];
var f=c.getValue(g.key);
var h=(f!==g.value);
g.value=f;
if(h){g.callback(f)}}}if(&quot;onhashchange&quot; in window){window.onhashchange=function(){a()}}else{c.prevHash=window.location.hash;
window.setInterval(function(){var e=window.location.hash;
if(e!=c.prevHash){c.prevHash=e;
a()}},500)}};
Hash.prototype.setQuery=function(c){var d=&quot;&quot;;
for(var a in c){if(c.hasOwnProperty(a)){var b=c[a];
if(b!=undefined){if(d.length){d+=&quot;&amp;&quot;}d+=encodeURIComponent(a);
d+=&quot;=&quot;;
d+=encodeURIComponent(c[a])}}}window.location.hash=(d.length?(&quot;#&quot;+d):&quot;&quot;)};
Hash.prototype.getValue=function(a){var b=this.getQuery();
return b[a]};
Hash.prototype.setValue=function(a,c){var b=this.getQuery();
b[a]=c;
this.setQuery(b)};
Hash.prototype.removeValue=function(a){var b=this.getQuery();
if(b[a]){delete b[a];
this.setQuery(b)}};
function QueryParams(){}QueryParams.prototype.getQuery=function(){var e=window.location.search.substring(1);
var h=e.split(&quot;&amp;&quot;);
var g={};
for(var d=0,a=h.length;
d&lt;a;
d++){var b=h[d].split(&quot;=&quot;);
if(b.length==2){var c=decodeURIComponent(b[0]);
var f=decodeURIComponent(b[1]);
g[c]=f}}return g};
QueryParams.prototype.setQuery=function(d){var b=&quot;&quot;;
for(var a in d){if(d.hasOwnProperty(a)){var c=d[a];
if(c!=undefined){if(b.length){b+=&quot;&amp;&quot;}b+=encodeURIComponent(a);
b+=&quot;=&quot;;
b+=encodeURIComponent(d[a])}}}window.location.search=(b.length?(&quot;#&quot;+b):&quot;&quot;)};
QueryParams.prototype.getValue=function(a){var b=this.getQuery();
return b[a]};
QueryParams.prototype.setValue=function(a,c){var b=this.getQuery();
b[a]=c;
this.setQuery(b)};
mathnotepad.Expression=function Expression(a){if(!(&quot;math&quot; in a)){throw new SyntaxError('Required construction parameter &quot;math&quot; missing')}this.id=a.id;
this.math=a.math;
this.nextNode=a.nextNode;
this.previousNode=a.previousNode;
this.updateSeq=0;
this.node=null;
this.code=null;
this.error=null;
this.symbols={};
this.assignments={};
this.updates={};
this.multiLine=false;
this.result=undefined;
this.setExpr(a.expression)};
mathnotepad.Expression.prototype.linkScope=function linkScope(){var a=this;
while(a){if(a.previousNode){a.scope=util.create(a.previousNode.scope,a.scope)}else{a.scope={}}a=a.next}};
mathnotepad.Expression.prototype.setExpr=function(a){this.expression=a||&quot;&quot;;
this._parse();
this._analyse()};
mathnotepad.Expression.prototype.getExpr=function(){return this.expression};
mathnotepad.Expression.prototype.getResult=function(){return this.result};
mathnotepad.Expression.prototype.isMultiLine=function(){return this.multiLine};
mathnotepad.Expression.prototype._parse=function(){this.node=null;
this.code=null;
this.error=null;
try{this.node=this.math.parse(this.expression);
this.code=this.node.compile(this.math)}catch(a){this.error=a}};
mathnotepad.Expression.prototype.eval=function(){try{util.clear(this.scope);
this.result=this.error||this.code.eval(this.scope)}catch(err){util.clear(this.scope);
this.result=err}return this.result};
mathnotepad.Expression.prototype._analyse=function(){var f,a,g;
if(this.node){var d=this.node.find({type:this.math.expression.node.SymbolNode});
this.symbols={};
for(f=0,a=d.length;
f&lt;a;
f++){g=d[f];
this.symbols[g.name]=g}var b=this.node.find({type:this.math.expression.node.AssignmentNode}).concat(this.node.find({type:this.math.expression.node.FunctionNode}));
this.assignments={};
for(f=0,a=b.length;
f&lt;a;
f++){g=b[f];
this.assignments[g.name]=g}var h=this.node.find({type:this.math.expression.node.UpdateNode});
this.updates={};
for(f=0,a=h.length;
f&lt;a;
f++){g=h[f];
var c=g.index&amp;&amp;g.index.object&amp;&amp;g.index.object.name;
this.updates[c]=g}var e=this.node.find({type:this.math.expression.node.BlockNode});
this.multiLine=(e.length&gt;0)}};
mathnotepad.Workspace=function(a){this.idMax=-1;
this.updateSeq=0;
this.math=a;
this.nodes={};
this.firstNode=undefined;
this.lastNode=undefined};
mathnotepad.Workspace.prototype.clear=function(){this.nodes={};
this.firstNode=undefined;
this.lastNode=undefined};
mathnotepad.Workspace.prototype.append=function(b){var c=this._getNewId();
var a=new mathnotepad.Expression({id:c,expression:b,math:this.math,nextNode:undefined,previousNode:this.lastNode});
this.nodes[c]=a;
if(!this.firstNode){this.firstNode=a}if(this.lastNode){this.lastNode.nextNode=a}this.lastNode=a;
a.linkScope();
this._update([c]);
return c};
mathnotepad.Workspace.prototype.insertBefore=function(f,c){var a=this.nodes[c];
if(!a){throw new RangeError('Node with id &quot;'+c+'&quot; not found')}var b=a.previousNode;
var g=this._getNewId();
var e=new mathnotepad.Expression({id:g,expression:f,math:this.math,nextNode:a,previousNode:b});
this.nodes[g]=e;
if(b){b.nextNode=e}else{this.firstNode=e}a.previousNode=e;
e.linkScope();
var d=this.getDependencies(g);
if(d.indexOf(g)==-1){d.unshift(g)}this._update(d);
return g};
mathnotepad.Workspace.prototype.insertAfter=function(d,c){var b=this.nodes[c];
if(!b){throw new RangeError('Node with id &quot;'+c+'&quot; not found')}var a=b.nextNode;
if(a){return this.insertBefore(d,a.id)}else{return this.append(d)}};
mathnotepad.Workspace.prototype.remove=function(e){var d=this.nodes[e];
if(!d){throw new RangeError('Node with id &quot;'+e+'&quot; not found')}var c=this.getDependencies(e);
var b=d.previousNode;
var a=d.nextNode;
if(b){b.nextNode=a}else{this.firstNode=a}if(a){a.previousNode=b}else{this.lastNode=b}if(a){a.linkScope()}delete this.nodes[e];
this._update(c)};
mathnotepad.Workspace.prototype.replace=function(c,d){var b=this.nodes[d];
if(!b){throw new RangeError('Node with id &quot;'+d+'&quot; not found')}var a=[d];
mathnotepad.Workspace._merge(a,this.getDependencies(d));
b.setExpr(c);
mathnotepad.Workspace._merge(a,this.getDependencies(d));
this._update(a)};
mathnotepad.Workspace._merge=function(e,d){for(var b=0,a=d.length;
b&lt;a;
b++){var c=d[b];
if(e.indexOf(c)==-1){e.push(c)}}};
mathnotepad.Workspace.prototype.getDependencies=function(f){var b=this.nodes[f],a=[],c={};
if(!b){throw new RangeError('Node with id &quot;'+f+'&quot; not found')}var e=function(k,i){var g=k.assignments,j=k.updates,h;
for(h in g){if(g.hasOwnProperty(h)){c[h]=i}}for(h in j){if(j.hasOwnProperty(h)){c[h]=i}}};
var d=function(i,k){var h;
var g=i.symbols;
for(h in g){if(g.hasOwnProperty(h)&amp;&amp;k[h]==true){return true}}var j=i.updates;
for(h in j){if(j.hasOwnProperty(h)&amp;&amp;k[h]==true){return true}}return false};
e(b,true);
b=b.nextNode;
while(b){if(d(b,c)){e(b,true);
a.push(b.id)}else{e(b,false)}b=b.nextNode}return a};
mathnotepad.Workspace.prototype.getExpr=function(b){var a=this.nodes[b];
if(!a){throw new RangeError('Node with id &quot;'+b+'&quot; not found')}return a.getExpr()};
mathnotepad.Workspace.prototype.getResult=function(b){var a=this.nodes[b];
if(!a){throw new RangeError('Node with id &quot;'+b+'&quot; not found')}return a.getResult()};
mathnotepad.Workspace.prototype.isMultiLine=function(b){var a=this.nodes[b];
if(!a){throw new RangeError('Node with id &quot;'+b+'&quot; not found')}return a.isMultiLine()};
mathnotepad.Workspace.prototype._update=function(ids){this.updateSeq++;
var updateSeq=this.updateSeq;
var nodes=this.nodes;
for(var i=0,iMax=ids.length;
i&lt;iMax;
i++){var id=ids[i];
var node=nodes[id];
if(node){node.eval();
node.updateSeq=updateSeq}else{}}};
mathnotepad.Workspace.prototype.getChanges=function(b){var c=[];
var a=this.firstNode;
b=b||0;
while(a){if(a.updateSeq&gt;b){c.push(a.id)}a=a.nextNode}return{ids:c,updateSeq:this.updateSeq}};
mathnotepad.Workspace.prototype._getNewId=function(){this.idMax++;
return this.idMax};
mathnotepad.Workspace.prototype.toString=function(){return JSON.stringify(this.toJSON())};
mathnotepad.Workspace.prototype.toJSON=function(){var a=[];
var c=this.firstNode;
while(c){var d={id:c.id,expression:c.expression,dependencies:this.getDependencies(c.id)};
try{d.result=c.getResult()}catch(b){d.result=&quot;Error: &quot;+String(b.message||b)}a.push(d);
c=c.nextNode}return a};
mathnotepad.Editor=function(a,b){this.math=mathjs();
plothandler(this.math);
this.workspace=new mathnotepad.Workspace(this.math);
this.updateSeq=undefined;
this.nodes={};
this.firstNode=null;
this.lastNode=null;
this.selectedNode=null;
this.selectedNodes=null;
this.options=b||{};
this.dom={container:a};
this._create();
var c=this;
this.clipboard=new mathnotepad.Clipboard(this.dom.clipboard);
this.multiSelect=new mathnotepad.MultiSelect({change:function(d,e){c.updateSelection(d,e)},cut:function(d){c.cutSelection(d)},copy:function(d){c.copySelection(d)},paste:function(d){c.pasteSelection(d)},duplicate:function(d){c.duplicateSelection(d)},remove:function(d){c.removeSelection(d)}});
this.append(&quot;&quot;,{})};
mathnotepad.Editor.prototype._create=function(){var e=this;
var b=this.dom.container;
if(!b||!b.appendChild){throw&quot;No valid HTML DOM container provided&quot;}var f=document.createElement(&quot;div&quot;);
b.appendChild(f);
f.className=&quot;editor&quot;;
this.dom.frame=f;
f.onmousedown=function(h){if(util.getTarget(h)==f){var g=e.lastNode;
if(g){g.setCaretPosition(g.length);
util.preventDefault(h)}}};
var c=document.createElement(&quot;div&quot;);
c.className=&quot;nodes&quot;;
f.appendChild(c);
this.dom.nodes=c;
this.dom.clipboard=document.createElement(&quot;div&quot;);
this.dom.clipboard.className=&quot;clipboard&quot;;
f.appendChild(this.dom.clipboard);
var d=null;
var a=function(){var g=2000;
if(d){clearTimeout(d)}d=setTimeout(function(){e._trigger(&quot;changed&quot;);
d=null},g)};
f.onscroll=a;
f.onkeyup=a;
f.onmouseup=a;
this.onMouseDown=function(i){var h=i.target||i.srcElement;
var g=false;
while(h){if(h.className&amp;&amp;h.className.indexOf(&quot;selector&quot;)!=-1){g=true;
break}h=h.parentNode}if(!g){e.multiSelect.clear()}};
util.addEventListener(document.body,&quot;mousedown&quot;,this.onMouseDown)};
mathnotepad.Editor.prototype.destroy=function(){var a=this.dom.frame;
if(a&amp;&amp;a.parentNode){a.parentNode.removeChild(a)}if(this.onMouseDown){util.removeEventListener(document.body,&quot;mousedown&quot;,this.onMouseDown);
this.onMouseDown=null}};
mathnotepad.Editor.prototype._clear=function(){this.workspace.clear();
this.nodes={};
this.firstNode=undefined;
this.lastNode=undefined;
this.selectedNode=undefined;
this.dom.nodes.innerHTML=&quot;&quot;};
mathnotepad.Editor.prototype.clear=function(){this._trigger(&quot;change&quot;);
this._clear();
this.append(&quot;&quot;,{});
this.firstNode.setCaretPosition(0);
this._trigger(&quot;changed&quot;)};
mathnotepad.Editor.prototype.getContents=function(){var e={selection:{node:0,start:0,end:0},scrollTop:(this.dom.nodes.scrollTop||0)};
var a=[];
var c=this.firstNode;
while(c){if(c==this.selectedNode){var d=c.getCaretPosition();
e.selection={node:a.length,start:d.start,end:d.end}}a.push(c.toJSON());
c=c.nextNode}var b={params:e,nodes:a,updated:new Date()};
return b};
mathnotepad.Editor.prototype.setContents=function(g){this._clear();
var h=(g&amp;&amp;g.params)?g.params:{};
var d=(h.scrollTop&amp;&amp;(typeof(h.scrollTop)==&quot;number&quot;))?h.scrollTop:0;
var e=(h.selection)?h.selection:{};
var n=util.isNumber(e.node)?e.node:undefined;
var c=util.isNumber(e.start)?e.start:0;
var m=util.isNumber(e.end)?e.end:0;
var l=undefined;
var a=(g&amp;&amp;g.nodes)?g.nodes:[];
for(var k=0,j=a.length;
k&lt;j;
k++){var f=a[k];
var b=this.append(f.expr,f.params);
if(k==n){l=this.nodes[b]}}if(this.firstNode==undefined){this.append(&quot;&quot;,{})}if(d){this.dom.nodes.scrollTop=d}if(l){this.selectedNode=l;
this.selectedNode.setCaretPosition(c,m)}};
mathnotepad.Editor.prototype.update=function(){this._trigger(&quot;change&quot;);
var d=this.workspace.getChanges(this.updateSeq);
var c=d.ids||[];
this.updateSeq=d.updateSeq;
for(var b=0,a=c.length;
b&lt;a;
b++){var f=c[b];
var e=this.nodes[f];
if(e){e.update()}}this._trigger(&quot;changed&quot;)};
mathnotepad.Editor.prototype.remove=function(d){var c=this.nodes[d];
if(!c){throw'Node with id &quot;'+d+'&quot; not found'}this.workspace.remove(d);
this.dom.nodes.removeChild(c.getDOM());
var b=c.previousNode;
var a=c.nextNode;
if(b){b.nextNode=a}else{this.firstNode=a}if(a){a.previousNode=b}else{this.lastNode=b}delete this.nodes[d];
if(this.firstNode==undefined){this.append(&quot;&quot;,{})}this.update()};
mathnotepad.Editor.prototype.append=function(b,c){var d=this.workspace.append(b);
var a=new mathnotepad.Node(this,this.workspace,this.math,d,b,c);
this.dom.nodes.appendChild(a.getDOM());
this.nodes[d]=a;
a.nextNode=undefined;
a.previousNode=this.lastNode;
if(!this.firstNode){this.firstNode=a}if(this.lastNode){this.lastNode.nextNode=a}this.lastNode=a;
this.update();
return d};
mathnotepad.Editor.prototype.insertBefore=function(e,f,c){var a=this.nodes[c];
if(!a){throw'Node with id &quot;'+c+'&quot; not found'}var b=a.previousNode;
var g=this.workspace.insertBefore(e,c);
var d=new mathnotepad.Node(this,this.workspace,this.math,g,e,f);
this.dom.nodes.insertBefore(d.getDOM(),a.getDOM());
this.nodes[g]=d;
d.nextNode=a;
d.previousNode=b;
if(b){b.nextNode=d}else{this.firstNode=d}a.previousNode=d;
this.update();
return g};
mathnotepad.Editor.prototype.insertAfter=function(c,d,b){var a=this.nodes[b];
if(!a){throw'Node with id &quot;'+b+'&quot; not found'}if(a.nextNode){return this.insertBefore(c,d,b+1)}else{return this.append(c,d)}};
mathnotepad.Editor.prototype.replace=function(b,c,d){var a=this.nodes[d];
if(!a){throw'Node with id &quot;'+d+'&quot; not found'}this.workspace.replace(b,d);
a.setExpr(b);
a.setParams(c);
this.update();
return d};
mathnotepad.Editor.prototype._trigger=function(a){if(a==&quot;change&quot;){if(this.options&amp;&amp;(typeof this.options.change===&quot;function&quot;)){this.options.change()}}if(a==&quot;changed&quot;){if(this.options&amp;&amp;(typeof this.options.changed===&quot;function&quot;)){this.options.changed()}}};
mathnotepad.Editor.prototype.updateSelection=function(b){var d=this.selectedNodes;
this.selectedNodes=b;
if(d){d.nodes.forEach(function(h){h.unselect()})}if(b){b.nodes.forEach(function(h){h.select()});
if(d){var e=(b.start==d.start);
var a=(b.end==d.end.previousNode);
var g=(b.end==d.end.nextNode);
if(e&amp;&amp;(a||g)){b.end.scrollTo()}}}else{var c=d&amp;&amp;d.end;
var f=c&amp;&amp;this.nodes[c.id];
if(f){c.focus()}}};
mathnotepad.Editor.prototype.removeSelection=function(b){if(!b){return}var e=this,f=b.first,d=b.last,c=f?f.previousNode:null,a=d?d.nextNode:null;
b.nodes.forEach(function(g){e.remove(g.id)});
if(a){a.setCaretPosition(0,0)}else{if(c){c.setCaretPosition(0,0)}else{if(this.lastNode){this.lastNode.setCaretPosition(0,0)}}}};
mathnotepad.Editor.prototype.cutSelection=function(b){if(!b){return}var e=this._expressionsFromSelection(b);
this.clipboard.put(e);
var d=this;
b.nodes.forEach(function(f){d.remove(f.id)});
var a=b.last.nextNode;
var c=b.first.previousNode;
if(a){a.focus()}else{if(c){c.focus()}else{if(this.lastNode){this.lastNode.focus()}}}};
mathnotepad.Editor.prototype.copySelection=function(a){if(a){var b=this._expressionsFromSelection(a);
this.clipboard.put(b)}};
mathnotepad.Editor.prototype.pasteSelection=function(b){var d=this;
if(b&amp;&amp;!this.clipboard.isEmpty()){var a=b.last&amp;&amp;b.last.nextNode;
var c=this.clipboard.get();
if(c){if(a){c.forEach(function(e){d.insertBefore(e.expr,e.params,a.id)})}else{c.forEach(function(e){d.append(e.expr,e.params)})}}this.removeSelection(b)}};
mathnotepad.Editor.prototype.duplicateSelection=function(a){var c=this;
if(a){var d=a.first;
var b=this._expressionsFromSelection(a);
if(b){b.forEach(function(e){c.insertBefore(e.expr,e.params,d.id)})}}};
mathnotepad.Editor.prototype._expressionsFromSelection=function(a){var c=[];
if(a){var b=a.first;
while(b&amp;&amp;b!=a.last){c.push(b.toJSON());
b=b.nextNode}c.push(b.toJSON())}return c};
function Viewer(c,o,b){var a;
var j=this;
this.dom={};
var h={title:&quot;Viewer&quot;,minWidth:null,maxWidth:null,minHeight:null,maxHeight:null,resizable:false};
this.options=o||{};
for(a in h){if(h.hasOwnProperty(a)&amp;&amp;!this.options.hasOwnProperty(a)){this.options[a]=h[a]}}var n={width:null,height:null,expanded:true,fullscreen:false};
this.state=b||{};
for(a in n){if(n.hasOwnProperty(a)&amp;&amp;!this.state.hasOwnProperty(a)){this.state[a]=n[a]}}this.event={};
var i=document.createElement(&quot;div&quot;);
this.dom.body=i;
i.className=&quot;viewer&quot;;
c.appendChild(i);
var e=document.createElement(&quot;div&quot;);
this.dom.frame=e;
e.className=&quot;frame&quot;;
i.appendChild(e);
var k=document.createElement(&quot;div&quot;);
this.dom.head=k;
k.className=&quot;head&quot;;
e.appendChild(k);
var d=document.createElement(&quot;div&quot;);
this.dom.menu=d;
d.className=&quot;menu&quot;;
k.appendChild(d);
if(this.options.resizable){var m=document.createElement(&quot;button&quot;);
this.dom.btnFullscreen=m;
m.className=&quot;fullscreen&quot;;
m.title=&quot;Toggle fullscreen display (double-click)&quot;;
m.onclick=function(){m.blur();
j.toggleFullscreen()};
d.appendChild(m)}var g=document.createElement(&quot;button&quot;);
this.dom.btnExpand=g;
g.className=&quot;expanded&quot;;
g.title=&quot;Collapse or expand&quot;;
g.onclick=function(){j.toggleExpand()};
k.appendChild(g);
var l=document.createElement(&quot;div&quot;);
l.className=&quot;title&quot;;
l.appendChild(document.createTextNode(this.options.title));
this.dom.title=l;
k.appendChild(l);
var f=document.createElement(&quot;div&quot;);
this.dom.contents=f;
e.appendChild(f);
if(this.options.contents){f.appendChild(this.options.contents)}this.expand(this.state.expanded);
this.showFullscreen(this.state.fullscreen)}Viewer.prototype.destroy=function(){this.blur();
if(this.state.fullscreen){this.showFullscreen(false);
this.state.fullscreen=true}if(this.dom.body.parentNode){this.dom.body.parentNode.removeChild(this.dom.body)}};
Viewer.prototype.toggleExpand=function(){this.expand(!this.state.expanded)};
Viewer.prototype.expand=function(a){var b=this;
if(a){this.dom.contents.style.display=&quot;&quot;;
this.dom.menu.style.display=&quot;&quot;;
this.dom.btnExpand.className=&quot;expanded&quot;;
this.state.expanded=true;
if(this.options.resizable){this.makeResizable(this.dom.body,this.options,function(c){b.state.width=c.width;
b.state.height=c.height})}}else{this.removeResizable(this.dom.body);
this.dom.contents.style.display=&quot;none&quot;;
this.dom.menu.style.display=&quot;none&quot;;
this.dom.btnExpand.className=&quot;folded&quot;;
this.state.expanded=false;
this.blur()}this._resize()};
Viewer.prototype.toggleSettings=function(){this.showSettings(!this.settingsVisible)};
Viewer.prototype.showSettings=function(a){if(a){this.dom.settings.style.display=&quot;&quot;;
this.settingsVisible=true}else{this.dom.settings.style.display=&quot;none&quot;;
this.settingsVisible=false}this._resize()};
Viewer.prototype._resize=function(){var c=this.state,a=this.dom.body,d=this.dom.frame,b=this.dom.head;
if(a){if(this.state.expanded){a.style.width=(c.width!=null)?c.width+&quot;px&quot;:&quot;&quot;;
a.style.height=(c.height!=null)?c.height+&quot;px&quot;:&quot;&quot;}else{a.style.width=&quot;&quot;;
a.style.height=&quot;24px&quot;}}c.frameHeight=d.clientHeight;
c.frameWidth=d.clientWidth;
c.headHeight=b.clientHeight;
c.left=0;
c.right=c.left+c.frameWidth;
c.top=0;
c.bottom=c.top+c.frameHeight};
Viewer.prototype.toggleFullscreen=function(){this.showFullscreen(!this.state.fullscreen)};
Viewer.prototype.showFullscreen=function(b){if(!this.options.resizable){return}var a=this;
if(b){util.addClassName(this.dom.frame,&quot;fullscreen&quot;);
this.dom.btnFullscreen.className=&quot;fullscreen-exit&quot;;
this.dom.btnExpand.style.display=&quot;none&quot;;
this.state.fullscreen=true;
if(!this.event.escFullscreen){this.event.escFullscreen=function(c){c=c||window.event;
var d=c.which||c.keyCode;
if(d==27){a.showFullscreen(false)}};
util.addEventListener(document,&quot;keydown&quot;,this.event.escFullscreen)}if(!this.event.windowResize){this.event.windowResize=function(){};
util.addEventListener(window,&quot;resize&quot;,this.event.windowResize)}this.focus()}else{util.removeClassName(this.dom.frame,&quot;fullscreen&quot;);
this.dom.btnFullscreen.className=&quot;fullscreen&quot;;
this.dom.btnExpand.style.display=&quot;&quot;;
this.state.fullscreen=false;
if(this.event.escFullscreen){util.removeEventListener(document,&quot;keydown&quot;,this.event.escFullscreen);
delete this.event.escFullscreen}if(this.event.windowResize){util.removeEventListener(window,&quot;resize&quot;,this.event.windowResize);
delete this.event.windowResize}}this._resize()};
Viewer.prototype.focus=function(){if(!this.hasFocus){this.hasFocus=true;
util.addClassName(this.dom.body,&quot;focus&quot;);
if(!this.event.blur){var a=this;
this.event.blur=function(d){a._onMouseDownBlur(d)};
util.addEventListener(document,&quot;mousedown&quot;,this.event.blur,false)}if(!this.event.escFocus){var b=this;
var c=function(d){d=d||window.event;
var e=d.which||d.keyCode;
if(e==27){a.blur()}};
this.event.escFocus=c;
util.addEventListener(document,&quot;keydown&quot;,c)}}};
Viewer.prototype._onMouseDownBlur=function(a){if(!util.isChildOf(util.getTarget(a),this.dom.frame)){this.blur()}};
Viewer.prototype.blur=function(){util.removeClassName(this.dom.body,&quot;focus&quot;);
if(this.event.blur){util.removeEventListener(document,&quot;mousedown&quot;,this.event.blur,false);
delete this.event.blur}if(this.event.escFocus){util.removeEventListener(document,&quot;keydown&quot;,this.event.escFocus);
delete this.event.escFocus}this.hasFocus=false};
Viewer.prototype.makeResizable=function(e,k,a,f){if(e.resizable){return}k=k||{};
var b={};
e.resizable=b;
var c=function(l){l=l||window.event;
if(l.button!=0){return}b.clientX=l.clientX;
b.clientY=l.clientY;
b.width=e.clientWidth;
b.height=e.clientHeight;
b.newWidth=b.width;
b.newHeight=b.height;
if(!b.mousemove){b.mousemove=h;
util.addEventListener(document,&quot;mousemove&quot;,b.mousemove,false)}if(!b.mouseup){b.mouseup=d;
util.addEventListener(document,&quot;mouseup&quot;,b.mouseup,false)}util.preventDefault(l)};
var h=function(l){l=l||window.event;
if(b.resizeRight){b.newWidth=b.width+(l.clientX-b.clientX);
if(k.maxWidth!=null&amp;&amp;b.newWidth&gt;k.maxWidth){b.newWidth=k.maxWidth}if(k.minWidth!=null&amp;&amp;b.newWidth&lt;k.minWidth){b.newWidth=k.minWidth}e.style.width=b.newWidth+&quot;px&quot;}if(b.resizeBottom){b.newHeight=b.height+(l.clientY-b.clientY);
if(k.maxHeight!=null&amp;&amp;b.newHeight&gt;k.maxHeight){b.newHeight=k.maxHeight}if(k.minHeight!=null&amp;&amp;b.newHeight&lt;k.minHeight){b.newHeight=k.minHeight}e.style.height=b.newHeight+&quot;px&quot;}if(a){a({width:b.newWidth,height:b.newHeight})}util.preventDefault(l)};
var d=function(l){if(b.mousemove){util.removeEventListener(document,&quot;mousemove&quot;,b.mousemove,false);
delete b.mousemove}if(b.mouseup){util.removeEventListener(document,&quot;mouseup&quot;,b.mouseup,false);
delete b.mouseup}if(f){f({width:b.newWidth,height:b.newHeight})}util.preventDefault(l)};
var i=document.createElement(&quot;div&quot;);
i.className=&quot;resizable-right&quot;;
e.appendChild(i);
e.style.position=&quot;relative&quot;;
util.addEventListener(i,&quot;mousedown&quot;,function(l){b.resizeRight=true;
b.resizeBottom=false;
c(l)},false);
b.divRight=i;
var g=document.createElement(&quot;div&quot;);
g.className=&quot;resizable-bottom&quot;;
e.appendChild(g);
util.addEventListener(g,&quot;mousedown&quot;,function(l){b.resizeRight=false;
b.resizeBottom=true;
c(l)},false);
b.divBottom=g;
var j=document.createElement(&quot;div&quot;);
j.className=&quot;resizable-bottom-right&quot;;
e.appendChild(j);
util.addEventListener(j,&quot;mousedown&quot;,function(l){b.resizeRight=true;
b.resizeBottom=true;
c(l)},false);
b.divBottomRight=j};
Viewer.prototype.removeResizable=function(b){var a=b.resizable;
if(a){b.removeChild(a.divRight);
b.removeChild(a.divBottom);
b.removeChild(a.divBottomRight);
delete b.resizable}};
mathnotepad.Node=function(b,a,c,f,d,e){this.dom={};
this.editor=b;
this.workspace=a;
this.math=c;
this.id=f;
this.expr=&quot;&quot;;
this.viewers=[];
this.params=[];
this.results=[];
this.setExpr(d);
this.setParams(e);
this._create();
this._resize()};
mathnotepad.Node.prototype._create=function(){var c=this;
var b=document.createElement(&quot;div&quot;);
b.className=&quot;node&quot;;
this.dom.node=b;
var g=document.createElement(&quot;div&quot;);
g.innerHTML=&quot;&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&quot;;
g.className=&quot;selector&quot;;
g.title=&quot;Click to select, Shift+Click to select multiple&quot;;
b.appendChild(g);
var e=document.createElement(&quot;textarea&quot;);
e.spellcheck=false;
e.className=&quot;expr&quot;;
var d=14;
var a=(d+4);
e.style.lineHeight=a+&quot;px&quot;;
e.value=this.expr;
b.appendChild(e);
this.dom.expr=e;
var f=document.createElement(&quot;div&quot;);
f.className=&quot;result&quot;;
b.appendChild(f);
this.dom.res=f;
b.onmousedown=function(h){var i=util.getTarget(h);
if(i==g||util.isChildOf(i,g)){if(h.shiftKey){c.editor.multiSelect.end(c)}else{c.editor.multiSelect.start(c)}util.preventDefault(h)}};
e.onkeydown=function(h){return c.onKeyDown(h)};
e.onkeypress=function(h){return c.onKeyPress(h)};
e.onkeyup=function(h){return c.onKeyUp(h)};
e.oninput=function(){return c.onInput()};
e.onfocus=function(){c.editor.selectedNode=c};
e.onchange=function(){c.expr=e.value;
c.length=e.value.length;
c.workspace.replace(c.expr,c.id);
c.editor.update();
c.changed=false};
e.onblur=function(h){if(c.changed){e.onchange(h)}}};
mathnotepad.Node.prototype.setExpr=function(b){this.expr=b||&quot;&quot;;
this.length=this.expr.length;
var a=this.dom.expr;
if(a){a.value=b}};
mathnotepad.Node.prototype.toJSON=function(){return{expr:this.dom.expr.value,params:this.params}};
mathnotepad.Node.prototype.setParams=function(a){this.params=(a instanceof Array)?a:[]};
mathnotepad.Node.prototype.getDOM=function(){return this.dom.node};
mathnotepad.Node.prototype.select=function(){util.addClassName(this.dom.node,&quot;selected&quot;)};
mathnotepad.Node.prototype.unselect=function(){util.removeClassName(this.dom.node,&quot;selected&quot;)};
mathnotepad.Node.prototype.getExpr=function(){return this.expr};
mathnotepad.Node.prototype.getResult=function(){return this.workspace.getResult(this.id)};
mathnotepad.Node.prototype.getResults=function(){var c=this.workspace.isMultiLine(this.id),a=this.getResult(),b;
if(c&amp;&amp;(a instanceof Array)){b=a}else{if(a!==undefined){b=[a]}else{b=[]}}return b};
mathnotepad.Node.prototype.checkChanged=function(){var c=(this.dom.expr.value!=this.expr);
if(c!=this.changed){var a=this.editor;
var b=this.workspace.getDependencies(this.id);
this.setOutdated(c);
b.forEach(function(d){a.nodes[d].setOutdated(c)});
this.changed=c}};
mathnotepad.Node.prototype.setOutdated=function(a,b){if(b){this.outdated=a?1:0}else{if(a){this.outdated=this.outdated?this.outdated+1:1}else{this.outdated=this.outdated?this.outdated-1:0;
if(this.outdated&lt;0){this.outdated=0}}}if(this.outdated){util.addClassName(this.dom.res,&quot;outdated&quot;)}else{util.removeClassName(this.dom.res,&quot;outdated&quot;)}};
mathnotepad.Node.prototype.update=function(){var d=this,c=this.math,a=this.getResults(),g=this.results;
this.setOutdated(false,true);
this.changed=false;
var f=this.dom.res,e=f.childNodes;
a.forEach(function(h,j){var k=g&amp;&amp;g[j];
var i=e[j];
if(!i){i=document.createElement(&quot;div&quot;);
f.appendChild(i)}d.results[j]=h;
if(k&amp;&amp;c[&quot;typeof&quot;](h)!=c[&quot;typeof&quot;](k)){i.innerHTML=&quot;&quot;;
d.params[j]=null}if(h instanceof mathnotepad.Plot){i.className=&quot;plot&quot;;
var l=d.viewers[j];
if(!(l instanceof CartesianPlot)){var m=d.params[j];
if(!m){m={};
d.params[j]=m}l=d._createPlot(i,m);
d.viewers[j]=l}else{if(!l.hasContainer()){i.innerHTML=&quot;&quot;;
l.setContainer(i)}}d._drawLinePlot(l,h)}else{if(h instanceof c.type.Matrix){d.viewers[j]=new mathnotepad.MatrixViewer(i,h,c);
i.className=&quot;matrix&quot;}else{if(h instanceof Error){i.innerHTML=c.format(h);
i.className=&quot;error&quot;}else{if(h instanceof c.type.Help){i.innerHTML=d._helpToHTML(h);
i.className=&quot;&quot;;
delete d.viewers[j]}else{if(h!==undefined){i.innerHTML=c.format(h,mathnotepad.PRECISION);
i.className=&quot;&quot;;
delete d.viewers[j]}else{i.innerHTML=&quot;&quot;;
i.className=&quot;&quot;;
delete d.viewers[j]}}}}}});
var b=a.length;
while(d.results.length&gt;b){d.results.pop()}while(d.viewers.length&gt;b){d.viewers.pop()}while(d.params.length&gt;b){d.params.pop()}while(f.childNodes.length&gt;b){f.removeChild(f.lastChild)}};
mathnotepad.Node.prototype._helpToHTML=function(help){var math=this.math;
var html=&quot;&quot;;
var knownFields=[&quot;name&quot;,&quot;category&quot;,&quot;description&quot;,&quot;syntax&quot;,&quot;examples&quot;,&quot;seealso&quot;];
html+='&lt;table class=&quot;help&quot;&gt;';
var doc=help.doc;
var name=doc.name?doc.name:&quot;Unknown function&quot;;
html+=&quot;&lt;tr&gt;&lt;th&gt;Name&lt;/th&gt;&lt;td&gt;&quot;+name+&quot;&lt;/td&gt;&lt;/tr&gt;&quot;;
if(doc.category){html+=&quot;&lt;tr&gt;&lt;th&gt;Category&lt;/th&gt;&lt;td&gt;&quot;+doc.category+&quot;&lt;/td&gt;&lt;/tr&gt;&quot;}if(doc.description){html+=&quot;&lt;tr&gt;&lt;th&gt;Description&lt;/th&gt;&lt;td&gt;&quot;+doc.description+&quot;&lt;/td&gt;&lt;/tr&gt;&quot;}if(doc.syntax){var syntax=doc.syntax.join(&quot;&lt;br&gt;&quot;);
html+=&quot;&lt;tr&gt;&lt;th&gt;Syntax&lt;/th&gt;&lt;td&gt;&lt;pre&gt;&quot;+syntax+&quot;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&quot;}for(var prop in doc){if(doc.hasOwnProperty(prop)){if(knownFields.indexOf(prop)==-1){html+=&quot;&lt;tr&gt;&lt;th&gt;&quot;+prop+&quot;&lt;/th&gt;&lt;td&gt;&quot;+doc[prop]+&quot;&lt;/td&gt;&lt;/tr&gt;&quot;}}}if(doc.examples){var examples=doc.examples;
html+=&quot;&lt;tr&gt;&quot;;
html+=&quot;&lt;th&gt;Examples&lt;/th&gt;&quot;;
html+=&quot;&lt;td&gt;&lt;pre&gt;&quot;;
var parser=math.parser();
doc.examples.forEach(function(example){var result=parser.eval(example);
html+=example+&quot;&lt;br&gt;&quot;;
if(result&amp;&amp;!(result instanceof math.type.Help)){html+=&quot;    &quot;+math.format(result,mathnotepad.PRECISION)+&quot;&lt;br&gt;&quot;}});
html+=&quot;&lt;/pre&gt;&lt;/td&gt;&quot;;
html+=&quot;&lt;/tr&gt;&quot;}if(doc.seealso){var seealso=doc.seealso.join(&quot;, &quot;);
html+=&quot;&lt;tr&gt;&lt;th&gt;See also&lt;/th&gt;&lt;td&gt;&quot;+seealso+&quot;&lt;/td&gt;&lt;/tr&gt;&quot;}html+=&quot;&lt;/table&gt;&quot;;
return html};
mathnotepad.Node.prototype._createPlot=function(b,e){var c=this;
var a={width:400,height:300,maxWidth:645,minWidth:200,minHeight:100,title:&quot;Plot&quot;};
var d=new CartesianPlot(b,a);
d.setOnError(function(f){});
d.setOnChangedCallback(function(){var g;
for(g in e){if(e.hasOwnProperty(g)){delete e[g]}}var f=d.getProperties();
for(g in f){if(f.hasOwnProperty(g)){e[g]=f[g]}}});
if(e!=undefined){d.setProperties(e)}return d};
mathnotepad.Node.prototype._drawLinePlot=function(a,e){var d=[];
var c=[];
e.functions.forEach(function(f){d.push(f.fn);
c.push(f.str)});
var b={legend:{titles:c}};
a.draw(d,b)};
mathnotepad.Node.prototype._resize=function(){var e=14,c=(e+4),d=this.dom.expr,b=d.value.split(&quot;\n&quot;).length,a=(b*c);
d.style.lineHeight=c+&quot;px&quot;;
d.style.height=a+&quot;px&quot;};
mathnotepad.Node.prototype.onKeyDown=function(n){n=n||window.event;
var u=this,q=n.which||n.keyCode,f=this.dom.expr,i=this.getCaretPosition(),g=i.start,p=i.end,o=f.value.length,b,k,h,l,a,r;
this.processKey=true;
switch(q){case 8:k=this.previousNode;
h=k?k.length:0;
if(k&amp;&amp;o==0){k.setCaretPosition(h);
this.editor.remove(this.id);
this.processKey=false}else{if(k&amp;&amp;h==0&amp;&amp;g==0){this.editor.remove(k.id);
this.focus();
this.processKey=false}}break;
case 13:if(n.altKey||n.shiftKey){var j=f.value;
var c=j.substring(0,g);
var s=j.substring(g);
f.value=c+&quot;\n&quot;+s;
this._resize();
this.setCaretPosition(g+1);
this.changed=true}else{if(n.ctrlKey){this.editor.replace(f.value,{},this.id)}else{if(g==0){this.editor.insertBefore(&quot;&quot;,{},this.id);
this.focus()}else{if(!this.nextNode){this.editor.insertAfter(&quot;&quot;,{},this.id)}this.nextNode.setCaretPosition(0)}}}this.processKey=false;
break;
case 35:if(n.ctrlKey){var e=this.editor.lastNode;
if(e){e.setCaretPosition(e.length);
this.processKey=false}}break;
case 36:if(n.ctrlKey){var m=this.editor.firstNode;
if(m){m.setCaretPosition(0);
this.processKey=false}}break;
case 38:k=this.previousNode;
l=f.value;
if(n.shiftKey){if(l.lastIndexOf(&quot;\n&quot;,g-1)==-1){this.editor.multiSelect.start(this)}}else{if(k&amp;&amp;((g==0)||(l.lastIndexOf(&quot;\n&quot;,g-1)==-1))){a=k.dom.expr.value.lastIndexOf(&quot;\n&quot;);
r=(a==-1)?g:(a+g+1);
k.setCaretPosition(r);
this.processKey=false}}break;
case 40:b=this.nextNode;
l=f.value;
if(n.shiftKey){if(l.indexOf(&quot;\n&quot;,p)==-1){this.editor.multiSelect.start(this)}}else{if(b&amp;&amp;((p==o)||(l.indexOf(&quot;\n&quot;,p)==-1))){a=l.lastIndexOf(&quot;\n&quot;);
r=(a==-1)?g:(g-a-1);
b.setCaretPosition(r);
this.processKey=false}}break;
case 45:if(n.ctrlKey){this.editor.insertBefore(&quot;&quot;,{},this.id);
this.previousNode.setCaretPosition(0);
this.processKey=false}break;
case 46:b=this.nextNode;
if(n.ctrlKey){if(this.nextNode){this.nextNode.setCaretPosition(0)}else{if(this.previousNode){this.previousNode.setCaretPosition(this.previousNode.length)}else{this.editor.append(&quot;&quot;,{});
this.nextNode.setCaretPosition(0)}}this.editor.remove(this.id);
this.processKey=false}else{if(b&amp;&amp;o==0){b.setCaretPosition(0);
this.editor.remove(this.id);
this.processKey=false}}break;
case 67:if(n.ctrlKey){if(i.start==i.end){this.copyResult(function(){u.setCaretPosition(i.start,i.end)})}}break;
case 68:if(n.ctrlKey){this.editor.insertBefore(f.value,{},this.id);
this.scrollTo();
this.processKey=false}break;
case 86:if(n.ctrlKey){if(!this.editor.clipboard.isEmpty()){var t=this.editor.clipboard.get();
if(t){try{t.forEach(function(v){u.editor.insertBefore(v.expr,v.params,u.id)})}catch(d){console.log(d)}}this.scrollTo();
this.processKey=false}else{}}break}return this.processKey};
mathnotepad.Node.prototype.onKeyPress=function(c){c=c||window.event;
var b=c.which||c.keyCode;
switch(b){case 42:case 43:case 45:case 47:case 94:var d=this.dom.expr;
var a=d.value.length;
if(a==0){d.value=&quot;ans&quot;;
this.setCaretPosition(3)}break}return this.processKey};
mathnotepad.Node.prototype.onKeyUp=function(){this._resize()};
mathnotepad.Node.prototype.onInput=function(){this.checkChanged();
this._resize()};
mathnotepad.Node.prototype.copyResult=function(c){var b=document.createElement(&quot;textarea&quot;);
b.className=&quot;resultcopier&quot;;
var a=this.math.format(this.getResult(),mathnotepad.PRECISION);
b.value=a;
b.onkeyup=function(){var d=b.parentNode;
if(d){d.removeChild(b)}c()};
document.body.appendChild(b);
util.setCaretPosition(b,0,a.length)};
mathnotepad.Node.prototype.addClassName=function(a){util.addClassName(this.dom.node,a)};
mathnotepad.Node.prototype.removeClassName=function(a){util.removeClassName(this.dom.node,a)};
mathnotepad.Node.prototype.getCaretPosition=function(){return util.getCaretPosition(this.dom.expr)};
mathnotepad.Node.prototype.setCaretPosition=function(b,a){util.setCaretPosition(this.dom.expr,b,a);
this.focus()};
mathnotepad.Node.prototype.scrollTo=function(){var d=this.dom.node;
var f=d.previousSibling;
var a=d.clientHeight;
var h=0;
while(f){h+=f.clientHeight;
f=f.previousSibling}var b=h+a;
var g=d.parentNode.scrollTop;
var e=d.parentNode.clientHeight;
var c=g;
if(b&gt;e+c){c=b-e/2}if(h&lt;c){c=h-e/2}if(c!=g){d.parentNode.scrollTop=c}};
mathnotepad.Node.prototype.focus=function(){this.scrollTo();
this.dom.expr.focus()};
mathnotepad.MultiSelect=function(a){this._start=null;
this._end=null;
this._direction=null;
this._options=a||null;
this.dom={};
this._create()};
mathnotepad.MultiSelect.prototype._create=function(){var a=this;
var b=document.createElement(&quot;textarea&quot;);
b.className=&quot;selector&quot;;
b.style.display=&quot;none&quot;;
b.onkeydown=function(c){return a.onKeyDown(c)};
document.body.appendChild(b);
this.dom.selector=b};
mathnotepad.MultiSelect.prototype.start=function(c){if(!c){throw new Error(&quot;Cannot start selector: start node missing&quot;)}var b=this.get();
c.select();
this._start=c;
this._end=c;
this._direction=null;
this.dom.selector.value=&quot;&quot;;
this.dom.selector.style.display=&quot;&quot;;
this.dom.selector.focus();
var a=this.get();
this.change(a,b)};
mathnotepad.MultiSelect.prototype.forEach=function(a){if(this._start&amp;&amp;this._end){var c=this._direction==&quot;up&quot;?&quot;previousNode&quot;:&quot;nextNode&quot;;
var b=this._start;
while(b&amp;&amp;b!=this._end){a(b);
b=b[c]}a(b)}};
mathnotepad.MultiSelect.prototype.end=function(c){var d,b=this.get();
this._end=c;
this._direction=null;
d=this._start;
while(d){if(d==this._end){this._direction=&quot;up&quot;;
break}d=d.previousNode}if(!this._direction){d=this._start;
while(d){if(d==this._end){this._direction=&quot;down&quot;;
break}d=d.nextNode}}if(!this._direction){this._end=this._start}var a=this.get();
this.change(a,b)};
mathnotepad.MultiSelect.prototype.clear=function(){var b=this.get();
this._start=null;
this._end=null;
this._direction=null;
this.dom.selector.value=&quot;&quot;;
this.dom.selector.style.display=&quot;none&quot;;
var a=null;
this.change(a,b)};
mathnotepad.MultiSelect.prototype.up=function(){var a=this._end.previousNode;
if(a){this.end(a)}};
mathnotepad.MultiSelect.prototype.down=function(){var a=this._end.nextNode;
if(a){this.end(a)}};
mathnotepad.MultiSelect.prototype.onKeyDown=function(e){e=e||window.event;
var f=e.which||e.keyCode;
var a=true;
var d;
switch(f){case 88:if(e.ctrlKey){this.cut();
a=false}break;
case 67:if(e.ctrlKey){this.copy();
a=false}break;
case 86:if(e.ctrlKey){this.paste();
a=false}break;
case 68:if(e.ctrlKey){this.duplicate();
a=false}break;
case 38:if(e.shiftKey){this.up()}else{d=(this._direction==&quot;down&quot;)?this._start:this._end;
if(d){var c=d.previousNode;
this.clear();
(c||d).setCaretPosition(0,0)}}a=false;
break;
case 40:if(e.shiftKey){this.down()}else{d=this._end;
d=(this._direction==&quot;down&quot;)?this._end:this._start;
if(d){var b=d.nextNode;
this.clear();
(b||d).setCaretPosition(0,0)}}a=false;
break;
case 8:case 46:this.remove();
a=false;
break;
case 27:this.clear();
a=false;
break}if(!a){util.preventDefault(e);
util.stopPropagation(e)}return a};
mathnotepad.MultiSelect.prototype.get=function(){if(this._start&amp;&amp;this._end){var c=(this._direction==&quot;down&quot;)?this._start:this._end;
var b=(this._direction==&quot;down&quot;)?this._end:this._start;
var a=[];
this.forEach(function(d){a.push(d)});
return new mathnotepad.Selection({start:this._start,end:this._end,first:c,last:b,nodes:a})}else{return null}};
mathnotepad.MultiSelect.prototype.change=function(a,b){if(this._options&amp;&amp;(typeof this._options.change===&quot;function&quot;)){this._options.change(a,b)}};
mathnotepad.MultiSelect.prototype.cut=function(){if(this._options&amp;&amp;(typeof this._options.cut===&quot;function&quot;)){var a=this.get();
this._options.cut(a);
this.clear()}};
mathnotepad.MultiSelect.prototype.copy=function(){if(this._options&amp;&amp;(typeof this._options.copy===&quot;function&quot;)){var a=this.get();
this._options.copy(a)}};
mathnotepad.MultiSelect.prototype.paste=function(){if(this._options&amp;&amp;(typeof this._options.paste===&quot;function&quot;)){var a=this.get();
this._options.paste(a)}};
mathnotepad.MultiSelect.prototype.remove=function(){if(this._options&amp;&amp;(typeof this._options.remove===&quot;function&quot;)){var a=this.get();
this._options.remove(a);
this.clear()}};
mathnotepad.MultiSelect.prototype.duplicate=function(){if(this._options&amp;&amp;(typeof this._options.duplicate===&quot;function&quot;)){var a=this.get();
this._options.duplicate(a)}};
mathnotepad.Selection=function Selection(a){this.start=a&amp;&amp;a.start||null;
this.end=a&amp;&amp;a.end||null;
this.first=a&amp;&amp;a.first||null;
this.last=a&amp;&amp;a.last||null;
this.nodes=a&amp;&amp;a.nodes||[]};
mathnotepad.Clipboard=function Clipboard(a){this.container=a||null;
this.contents=undefined;
this.viewer=null;
this.viewerState={expanded:false}};
mathnotepad.Clipboard.prototype.put=function(a){this.contents=a||undefined;
if(this.contents&amp;&amp;this.container){this._showViewer()}};
mathnotepad.Clipboard.prototype.get=function(){var a=this.contents;
this.clear();
return a};
mathnotepad.Clipboard.prototype.isEmpty=function(){return(this.contents===undefined)};
mathnotepad.Clipboard.prototype.clear=function(){this.contents=undefined;
if(this.viewer){this.viewer.destroy();
this.viewer=null}};
mathnotepad.Clipboard.prototype._showViewer=function(){if(this.viewer){this.viewer.destroy()}var d=this;
var e=document.createElement(&quot;div&quot;);
var c=&quot;&quot;;
c+='&lt;div class=&quot;expressions&quot;&gt;';
this.contents.forEach(function(g){c+=&quot;&lt;pre&gt;&quot;+g.expr+&quot;&lt;/pre&gt;&quot;});
c+=&quot;&lt;/div&gt;&quot;;
e.innerHTML=c;
var f=document.createElement(&quot;div&quot;);
f.className=&quot;actions&quot;;
e.appendChild(f);
var a=document.createElement(&quot;button&quot;);
a.innerHTML=&quot;Clear&quot;;
a.onclick=function(){d.clear()};
f.appendChild(a);
var b={resizable:false,contents:e,title:&quot;Clipboard&quot;};
this.viewer=new Viewer(this.container,b,this.viewerState)};
mathnotepad.MatrixViewer=function(b,m,l){var g;
var h,d,k,a,q,p;
var o=m.size();
if(o.length&lt;=2){var j=100;
var n=m.valueOf();
g=&quot;&quot;;
g+='&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;left&quot;&gt;&lt;/td&gt;';
g+='&lt;td class=&quot;center&quot;&gt;';
g+='&lt;div style=&quot;max-width: 650px;
 overflow: auto;
&quot;&gt;';
g+='&lt;table class=&quot;matrix&quot;&gt;';
if(o.length==0){}else{if(o.length==1){k=o[0];
g+=&quot;&lt;tr&gt;&quot;;
for(h=0;
h&lt;k&amp;&amp;h&lt;=j;
h++){d=n[h];
g+=&quot;&lt;td&gt;&quot;;
g+=((h&lt;j)?l.format(d,mathnotepad.PRECISION):&quot;...&quot;);
g+=&quot;&lt;/td&gt;&quot;}g+=&quot;&lt;/tr&gt;&quot;}else{p=o[0];
k=o[1];
for(a=0;
a&lt;p&amp;&amp;a&lt;=j;
a++){g+=&quot;&lt;tr&gt;&quot;;
q=n[a];
for(h=0;
h&lt;k&amp;&amp;h&lt;=j;
h++){d=q[h];
g+=&quot;&lt;td&gt;&quot;;
g+=((h&lt;j&amp;&amp;a&lt;j)?l.format(d,mathnotepad.PRECISION):&quot;...&quot;);
g+=&quot;&lt;/td&gt;&quot;}g+=&quot;&lt;/tr&gt;&quot;}if(p==0&amp;&amp;k==0){g+=&quot;&lt;tr&gt;&lt;td&gt;&amp;nbsp;
&lt;/td&gt;&lt;/tr&gt;&quot;}}}if(l.max(o)==0){g+=&quot;&lt;tr&gt;&lt;td&gt;&amp;nbsp;
&lt;/td&gt;&lt;/tr&gt;&quot;}g+=&quot;&lt;/table&gt;&quot;;
g+=&quot;&lt;/div&gt;&quot;;
g+=&quot;&lt;/td&gt;&quot;;
g+='&lt;td class=&quot;right&quot;&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;';
b.innerHTML=g}else{g=&quot;&quot;;
for(var f=0,e=o.length;
f&lt;e;
f++){g+=(f&gt;0)?&quot;x&quot;:&quot;&quot;;
g+=o[f]}g+=&quot; matrix &quot;;
g+='&lt;span style=&quot;color: lightgray;
 font-style:italic;
&quot;&gt;(sorry, I cannot display an n-dimensional matrix for you)&lt;/span&gt;';
b.innerHTML=g}};
function plothandler(b){function a(e){this.params=e||[]}a.prototype=new b.expression.node.Node();
a.prototype.find=function d(h){var f=[];
if(this.match(h)){f.push(this)}var j=this.params;
if(j){for(var g=0,e=j.length;
g&lt;e;
g++){f=f.concat(j[g].find(h))}}return f};
a.prototype._compile=function(k){var m,n,g,p,l;
k.Plot=mathnotepad.Plot;
var h=this.params.concat();
var j=null;
var f=h[h.length-1];
if(h.length&gt;1&amp;&amp;f instanceof b.expression.node.SymbolNode){j=f.name;
h.pop();
l=h.map(function(i){var q='function (value) {  scope[&quot;'+j+'&quot;] = value;
  return '+i._compile(k)+&quot;}&quot;;
return&quot;{  fn: &quot;+q+',   str: &quot;'+i.toString()+'&quot;}'});
return&quot;(function (scope) {  scope = Object.create(scope);
  return new Plot([&quot;+l.join(&quot;, &quot;)+&quot;])}) (scope)&quot;}else{var o={};
h.forEach(function(q){var i=q.find({type:b.expression.node.SymbolNode});
i.forEach(function(s){var r=s.name;
if(!(r in k.math)){o[r]=true}})});
var e=&quot;[&quot;+Object.keys(o).map(function(i){return'&quot;'+i+'&quot;'}).join(&quot;,&quot;)+&quot;]&quot;;
l=h.map(function(i){var q=&quot;function (value) {  scope[variable] = value;
  return &quot;+i._compile(k)+&quot;}&quot;;
return&quot;{  fn: &quot;+q+',   str: &quot;'+i.toString()+'&quot;}'});
return&quot;(function (scope) {  scope = Object.create(scope);
  var variable = &quot;+e+&quot;.filter(function (variable) {    return !(variable in scope);
  })[0];
  return new Plot([&quot;+l.join(&quot;, &quot;)+&quot;]);
}) (scope)&quot;}};
a.prototype.toString=function c(){var e=[];
this.functions.forEach(function(f){e.push(f.toString())});
return&quot;plot(&quot;+e.join(&quot;, &quot;)+&quot;)&quot;};
b.expression.node.handlers.plot=a}mathnotepad.Plot=function Plot(a){this.functions=a||[]};
mathnotepad.Plot.prototype.toString=function(){return&quot;Plot (not available as string)&quot;};
mathnotepad.Plot.prototype.toJSON=function(){var d=[];
for(var c=0,a=this.functions.length;
c&lt;a;
c++){d.push(this.functions[c].legend)}var b={type:&quot;Plot&quot;,functions:d};
return b};
function CartesianPlot(a,o){this.dom={};
this.props={width:500,height:300};
this.axis={};
this.datasets=[];
this.functions=[];
this.legend={};
this.onError=undefined;
this.settingsVisible=false;
this.fullscreen=false;
if(o){if(o.title!=undefined){this.props.title=o.title}if(o.height!=undefined){this.props.height=Number(o.height)}if(o.minHeight!=undefined){this.props.minHeight=Number(o.minHeight)}if(o.maxHeight!=undefined){this.props.maxHeight=Number(o.maxHeight)}if(o.width!=undefined){this.props.width=Number(o.width)}if(o.minWidth!=undefined){this.props.minWidth=Number(o.minWidth)}if(o.maxWidth!=undefined){this.props.maxWidth=Number(o.maxWidth)}}this.STEPSIZE=2;
this.COLORS=[&quot;#3366CC&quot;,&quot;#DC3912&quot;,&quot;#FF9900&quot;,&quot;#109618&quot;,&quot;#990099&quot;,&quot;#0099C6&quot;,&quot;#DD4477&quot;,&quot;#66AA00&quot;,&quot;#B82E2E&quot;,&quot;#316395&quot;,&quot;#994499&quot;,&quot;#22AA99&quot;,&quot;#AAAA11&quot;,&quot;#6633CC&quot;,&quot;#E67300&quot;,&quot;#8B0707&quot;];
var g=document.createElement(&quot;div&quot;);
this.dom.body=g;
g.className=&quot;plot cartesian&quot;;
a.appendChild(g);
var c=document.createElement(&quot;div&quot;);
this.dom.frame=c;
c.className=&quot;frame&quot;;
g.appendChild(c);
var l=document.createElement(&quot;div&quot;);
this.dom.head=l;
l.className=&quot;head&quot;;
c.appendChild(l);
var d=document.createElement(&quot;div&quot;);
this.dom.menu=d;
d.className=&quot;menu&quot;;
l.appendChild(d);
var k=document.createElement(&quot;button&quot;);
this.dom.btnSettings=k;
k.className=&quot;settings&quot;;
k.title=&quot;Show or hide plot settings&quot;;
k.onclick=function(){h.toggleSettings()};
d.appendChild(k);
var n=document.createElement(&quot;button&quot;);
this.dom.btnFullscreen=n;
n.className=&quot;fullscreen&quot;;
n.title=&quot;Toggle fullscreen display (double-click)&quot;;
n.onclick=function(){n.blur();
h.toggleFullscreen()};
d.appendChild(n);
var f=document.createElement(&quot;button&quot;);
this.dom.btnExpand=f;
f.className=&quot;expanded&quot;;
f.title=&quot;Fold or unfold plot&quot;;
var h=this;
f.onclick=function(){h.show(!h.visible)};
l.appendChild(f);
var m=document.createTextNode(&quot;Line Plot&quot;);
this.dom.title=m;
l.appendChild(m);
var e=document.createElement(&quot;div&quot;);
this.dom.contents=e;
c.appendChild(e);
this._createSettings();
var b=document.createElement(&quot;canvas&quot;);
if(!b.getContext){var j=&quot;Error: Your browser does not support HTML Canvas&quot;;
a.innerHTML='&lt;span style=&quot;color:red;
&quot;&gt;'+j+&quot;&lt;/span&gt;&quot;;
throw j}b.ctx=b.getContext(&quot;2d&quot;);
this.dom.canvas=b;
e.appendChild(b);
this._createTrace();
this.setAxis({xMin:-10,xMax:10,xStep:undefined,yMin:-10,yMax:10,yStep:undefined});
var i=this;
this.event={};
util.addEventListener(b,&quot;mousedown&quot;,function(p){i._onMouseDown(p)});
util.addEventListener(b,&quot;mousewheel&quot;,function(p){i._onMouseWheel(p)});
util.addEventListener(b,&quot;mousedown&quot;,function(p){i.focus(p)});
util.addEventListener(b,&quot;dblclick&quot;,function(){i.toggleFullscreen()});
this.showSettings(this.settingsVisible);
this.show(true);
this._redraw()}CartesianPlot.prototype.setContainer=function(a){if(this.dom.body.parentNode){this.dom.body.parentNode.removeChild(this.dom.body)}this.container=a;
this.container.appendChild(this.dom.body)};
CartesianPlot.prototype.hasContainer=function(){return this.dom.body.parentNode?true:false};
CartesianPlot.prototype._createSettings=function(){var g,e;
var c=document.createElement(&quot;div&quot;);
this.dom.settings=c;
c.className=&quot;settings&quot;;
var d=document.createElement(&quot;table&quot;);
var b=document.createElement(&quot;tbody&quot;);
d.appendChild(b);
e=document.createElement(&quot;tr&quot;);
b.appendChild(e);
g=document.createElement(&quot;td&quot;);
g.appendChild(document.createTextNode(&quot;xMin&quot;));
e.appendChild(g);
g=document.createElement(&quot;td&quot;);
c.xMin=document.createElement(&quot;input&quot;);
c.xMin.type=&quot;text&quot;;
g.appendChild(c.xMin);
e.appendChild(g);
g=document.createElement(&quot;td&quot;);
g.appendChild(document.createTextNode(&quot;xMax&quot;));
e.appendChild(g);
g=document.createElement(&quot;td&quot;);
c.xMax=document.createElement(&quot;input&quot;);
c.xMax.type=&quot;text&quot;;
g.appendChild(c.xMax);
e.appendChild(g);
g=document.createElement(&quot;td&quot;);
c.xNow=document.createTextNode(&quot;&quot;);
g.appendChild(c.xNow);
e.appendChild(g);
e=document.createElement(&quot;tr&quot;);
b.appendChild(e);
g=document.createElement(&quot;td&quot;);
g.appendChild(document.createTextNode(&quot;yMin&quot;));
e.appendChild(g);
g=document.createElement(&quot;td&quot;);
c.yMin=document.createElement(&quot;input&quot;);
c.yMin.type=&quot;text&quot;;
g.appendChild(c.yMin);
e.appendChild(g);
g=document.createElement(&quot;td&quot;);
g.appendChild(document.createTextNode(&quot;yMax&quot;));
e.appendChild(g);
g=document.createElement(&quot;td&quot;);
c.yMax=document.createElement(&quot;input&quot;);
c.yMax.type=&quot;text&quot;;
g.appendChild(c.yMax);
e.appendChild(g);
g=document.createElement(&quot;td&quot;);
c.yNow=document.createTextNode(&quot;...&quot;);
g.appendChild(c.yNow);
e.appendChild(g);
c.appendChild(d);
var f=this;
var a=function(){f.setProperties({xMin:Number(c.xMin.value),xMax:Number(c.xMax.value),yMin:Number(c.yMin.value),yMax:Number(c.yMax.value)})};
c.xMin.onchange=a;
c.xMax.onchange=a;
c.yMin.onchange=a;
c.yMax.onchange=a;
this.dom.contents.appendChild(c)};
CartesianPlot.prototype._createTrace=function(){var b={};
var c=this;
var a=this.dom.settings;
b.setValue=function(d,e){a.xNow.nodeValue=(d!==undefined)?&quot;x: &quot;+d.toPrecision(4):&quot;&quot;;
a.yNow.nodeValue=(e!==undefined)?&quot;y:  &quot;+e.toPrecision(4):&quot;&quot;};
b.hide=function(){this.setValue()};
b.setValue();
this.trace=b;
b.onMouseOver=function(){if(c.settingsVisible){util.addEventListener(c.dom.canvas,&quot;mousemove&quot;,b.onMouseMove);
util.addEventListener(c.dom.canvas,&quot;mouseout&quot;,b.onMouseOut)}};
b.onMouseMove=function(f){f=f||window.event;
var e=c.getOffsetX(f);
var h=c.getOffsetY(f);
var d=(e!==undefined)?c._screenToX(e):undefined;
var g=(h!==undefined)?c._screenToY(h):undefined;
b.setValue(d,g)};
b.onMouseOut=function(){b.hide();
util.removeEventListener(c.dom.canvas,&quot;mousemove&quot;,b.onMouseMove);
util.removeEventListener(c.dom.canvas,&quot;mouseout&quot;,b.onMouseOut)};
util.addEventListener(this.dom.canvas,&quot;mouseover&quot;,b.onMouseOver)};
CartesianPlot.prototype.show=function(a){if(a){this.dom.contents.style.display=&quot;&quot;;
this.dom.menu.style.display=&quot;&quot;;
this.dom.btnExpand.className=&quot;expanded&quot;;
this.visible=true;
var b=this;
CartesianPlot.makeResizable(this.dom.body,this.props,function(c){b.props.width=c.width;
b.props.height=c.height;
b.resize();
if(b.onChanged){b.onChanged()}});
this._updateData()}else{CartesianPlot.removeResizable(this.dom.body);
this.dom.contents.style.display=&quot;none&quot;;
this.dom.menu.style.display=&quot;none&quot;;
this.dom.btnExpand.className=&quot;folded&quot;;
this.visible=false;
this.blur()}this._resize();
this._redraw();
if(this.onChanged){this.onChanged()}};
CartesianPlot.prototype.toggleSettings=function(){this.showSettings(!this.settingsVisible)};
CartesianPlot.prototype.showSettings=function(a){if(a){this.dom.settings.style.display=&quot;&quot;;
this.settingsVisible=true}else{this.dom.settings.style.display=&quot;none&quot;;
this.settingsVisible=false}this._resize();
this._redraw();
if(this.onChanged){this.onChanged()}};
CartesianPlot.prototype.toggleFullscreen=function(){this.showFullscreen(!this.fullscreen)};
CartesianPlot.prototype.showFullscreen=function(b){var a=this;
if(b){util.addClassName(this.dom.frame,&quot;fullscreen&quot;);
this.dom.btnFullscreen.className=&quot;fullscreen-exit&quot;;
this.dom.btnExpand.style.display=&quot;none&quot;;
this.fullscreen=true;
if(!this.event.escFullscreen){this.event.escFullscreen=function(c){c=c||window.event;
var d=c.which||c.keyCode;
if(d==27){a.showFullscreen(false)}};
util.addEventListener(document,&quot;keydown&quot;,this.event.escFullscreen)}if(!this.event.windowResize){this.event.windowResize=function(){a.resize()};
util.addEventListener(window,&quot;resize&quot;,this.event.windowResize)}this.focus()}else{util.removeClassName(this.dom.frame,&quot;fullscreen&quot;);
this.dom.btnFullscreen.className=&quot;fullscreen&quot;;
this.dom.btnExpand.style.display=&quot;&quot;;
this.fullscreen=false;
if(this.event.escFullscreen){util.removeEventListener(document,&quot;keydown&quot;,this.event.escFullscreen);
delete this.event.escFullscreen}if(this.event.windowResize){util.removeEventListener(window,&quot;resize&quot;,this.event.windowResize);
delete this.event.windowResize}}this._resize();
this._redraw();
if(this.onChanged){this.onChanged()}};
CartesianPlot.prototype.resize=function(){this._resize();
this._redraw()};
CartesianPlot.prototype.setOnError=function(a){this.onError=a};
CartesianPlot.prototype.setAxis=function(a){if(a.xMin!==undefined){this.axis.xMin=a.xMin}if(a.xMax!==undefined){this.axis.xMax=a.xMax}if(a.xStep!==undefined){this.axis.xStep=a.xStep}if(a.yMin!==undefined){this.axis.yMin=a.yMin}if(a.yMax!==undefined){this.axis.yMax=a.yMax}if(a.yStep!==undefined){this.axis.yStep=a.yStep}this._resize()};
CartesianPlot.prototype.getAxis=function(){var a=this.axis;
return{xMin:a.xMin,xMax:a.xMax,yMin:a.yMin,yMax:a.yMax}};
CartesianPlot.prototype.getProperties=function(){var a=this.axis;
var b={xMin:a.xMin,xMax:a.xMax,yMin:a.yMin,yMax:a.yMax,visible:this.visible,settingsVisible:this.settingsVisible,width:this.props.width,height:this.props.height};
return b};
CartesianPlot.prototype.setProperties=function(b){var a=this.axis;
a.xMin=(b.xMin!==undefined)?b.xMin:a.xMin;
a.xMax=(b.xMax!==undefined)?b.xMax:a.xMax;
a.yMin=(b.yMin!==undefined)?b.yMin:a.yMin;
a.yMax=(b.yMax!==undefined)?b.yMax:a.yMax;
var d=(b.visible!==undefined)?b.visible:this.visible;
var c=(b.settingsVisible!==undefined)?b.settingsVisible:this.settingsVisible;
this.setAxis(a);
if(b.width!=undefined){this.props.width=b.width}if(b.height!=undefined){this.props.height=b.height}this.show(d);
this.showSettings(c)};
CartesianPlot.prototype._xToScreen=undefined;
CartesianPlot.prototype._yToScreen=undefined;
CartesianPlot.prototype._screenToX=undefined;
CartesianPlot.prototype._screenToY=undefined;
CartesianPlot.prototype.draw=function(b,a){this._setFunctions(b);
if(a){if(a.legend!==undefined){this.legend.titles=a.legend.titles}if(a.title!=undefined){this.props.title=a.title}}this._resize();
if(this.visible==true){this._updateData();
this._redraw()}};
CartesianPlot.prototype.exportAsPNG=function(){var a=this.dom.canvas;
if(a){var b=a.toDataURL();
document.location.href=b}};
CartesianPlot.prototype.setOnChangeCallback=function(a){this.onChange=a};
CartesianPlot.prototype.setOnChangedCallback=function(a){this.onChanged=a};
CartesianPlot.prototype._resize=function(){var e=this.props,c=this.axis,h=this.dom.body,i=this.dom.frame,f=this.dom.head,o=this.dom.settings;
if(h){if(this.visible){h.style.width=e.width+&quot;px&quot;;
h.style.height=e.height+&quot;px&quot;}else{h.style.width=&quot;&quot;;
h.style.height=e.headHeight+&quot;px&quot;}}e.frameHeight=i.clientHeight;
e.frameWidth=i.clientWidth;
e.headHeight=f.clientHeight;
e.settingsHeight=o.clientHeight;
e.canvasHeight=Math.max(e.frameHeight-e.headHeight-e.settingsHeight,0);
e.canvasWidth=e.frameWidth;
e.left=0;
e.right=e.left+e.frameWidth;
e.top=0;
e.bottom=e.top+e.frameHeight;
if(c.xMin&gt;=c.xMax){c.xMax=c.xMin+1}if(c.yMin&gt;=c.yMax){c.yMax=c.yMin+1}var t=(e.right-e.left)/(this.axis.xMax-this.axis.xMin),l=e.left-this.axis.xMin*t,d=(-e.canvasHeight)/(this.axis.yMax-this.axis.yMin),s=e.canvasHeight-this.axis.yMin*d;
var p=this.axis.xMin,r=this.axis.xMax,a=this.axis.yMin,b=this.axis.yMax,q=Math.max(Math.min(Math.round(e.canvasHeight/50),100),1),m=Math.max(Math.min(Math.round(e.canvasWidth/75),100),1);
this.axis.xStep=new CartesianPlot.Step(p,r,(r-p)/m);
this.axis.yStep=new CartesianPlot.Step(a,b,(b-a)/q);
this.axis.xScale=t;
this.axis.xShift=l;
this.axis.yScale=d;
this.axis.yShift=s;
this._xToScreen=function(u){return u*t+l};
this._screenToX=function(u){return(u-l)/t};
var j=this.top;
var g=this.bottom;
var k=j-10000;
var n=g+10000;
this._yToScreen=function(v){var u=v*d+s;
if(u&lt;k){u=k}if(u&gt;n){u=n}return u};
this._screenToY=function(u){return(u-s)/d}};
CartesianPlot.prototype._redraw=function(){this._positionAxes();
this._drawFrame();
this._drawClear();
this._drawGrid();
this._drawAxes();
this._drawData();
this._drawLegend();
this._drawSettings()};
CartesianPlot.prototype._drawFrame=function(){var b=this.props,a=this.dom.canvas;
var c=this.dom.title;
if(this.props.title&amp;&amp;c){c.nodeValue=b.title}if(a){a.width=b.canvasWidth;
a.height=b.canvasHeight}};
CartesianPlot.prototype._move=function(c,b){var a=this.axis;
this.setAxis({xMin:a.xMin+c,xMax:a.xMax+c,yMin:a.yMin+b,yMax:a.yMax+b});
if(this.onChange){this.onChange()}this._updateData();
this._redraw()};
CartesianPlot.prototype._zoom=function(e,f,g,a,b){var d=this.axis;
var c={};
if(a==true||a==undefined){c.xMin=f-(f-d.xMin)*(1-e);
c.xMax=f-(f-d.xMax)*(1-e)}if(b==true||b==undefined){c.yMin=g-(g-d.yMin)*(1-e);
c.yMax=g-(g-d.yMax)*(1-e)}this.setAxis(c);
if(this.onChange){this.onChange()}this._updateData();
this._redraw()};
CartesianPlot.prototype._drawClear=function(){var a=this.dom.canvas.ctx,b=this.props;
a.clearRect(b.left,b.top,b.width,b.height)};
CartesianPlot.prototype._positionAxes=function(){var l=this.dom.canvas.ctx,e=this.axis,h=this.props,a=e.yStep,b=e.xMin,f=e.xMax,j=e.yMin,c=e.yMax,d=this._xToScreen,g=this._yToScreen;
h.labelHeight=this._screenToY(g(0)-14-20);
a.start();
var i=0;
while(!a.end()){var k=NumberFormat.format(a.getCurrent());
i=Math.max(i,l.measureText(k).width);
a.next()}h.labelWidth=this._screenToX(d(0)+i+20);
h.onAxis=(b&lt;-h.labelWidth&amp;&amp;f&gt;0&amp;&amp;j&lt;-h.labelHeight&amp;&amp;c&gt;0)};
CartesianPlot.prototype._drawGrid=function(){var o=this.dom.canvas.ctx,j=this.props,g=this._xToScreen,i=this._yToScreen,f=this.axis,b=f.xStep,a=f.yStep,p=g(f.xMin),h=g(f.xMax),n=i(f.yMin),e=i(f.yMax),c,l,d,k,m;
o.lineWidth=0.5;
o.strokeStyle=&quot;#BFBFBF&quot;;
b.start();
c=b.getStep();
m=i(0);
while(!b.end()){l=b.getCurrent();
if(!j.onAxis||(Math.abs(l)&gt;0.1*c)){d=g(l);
o.beginPath();
o.moveTo(d,n);
o.lineTo(d,e);
o.stroke()}b.next()}a.start();
c=b.getStep();
d=g(0);
while(!a.end()){k=a.getCurrent();
if(!j.onAxis||(Math.abs(k)&gt;0.1*c)){m=i(k);
o.beginPath();
o.moveTo(p,m);
o.lineTo(h,m);
o.stroke()}a.next()}};
CartesianPlot.prototype._drawAxes=function(){var p=this.dom.canvas.ctx,e=this.props,d=this.axis,n=d.xStep,f=d.yStep,r=d.xMin,s=d.xMax,a=d.yMin,c=d.yMax,b=this._xToScreen,m=this._yToScreen,g,j,h,i,q;
p.lineWidth=0.5;
p.strokeStyle=&quot;#1A1A1A&quot;;
p.fillStyle=&quot;#1A1A1A&quot;;
p.font=&quot;14px verdana&quot;;
p.textAlign=e.onAxis?&quot;right&quot;:&quot;left&quot;;
p.textBaseline=&quot;middle&quot;;
if(e.onAxis){p.beginPath();
p.moveTo(b(0),m(a));
p.lineTo(b(0),m(c));
p.stroke()}f.start();
g=n.getStep();
while(!f.end()){i=f.getCurrent();
if(e.onAxis){if(Math.abs(i)&gt;0.1*g){h=b(0);
q=m(i);
p.beginPath();
p.moveTo(h,q);
p.lineTo(h-5,q);
p.stroke();
p.fillText(NumberFormat.format(i),h-7,q)}}else{h=b(r);
q=m(i);
p.beginPath();
p.moveTo(h,q);
p.lineTo(h+5,q);
p.stroke();
p.fillText(NumberFormat.format(i),h+7,q)}f.next()}p.textAlign=&quot;center&quot;;
p.textBaseline=e.onAxis?&quot;top&quot;:&quot;bottom&quot;;
if(e.onAxis){p.beginPath();
p.moveTo(b(r),m(0));
p.lineTo(b(s),m(0));
p.stroke()}f.start();
var k=f.getCurrent();
if(k&lt;a){f.next();
k=f.getCurrent()}var o=(k&lt;=a+e.labelHeight);
n.start();
g=n.getStep();
while(!n.end()){j=n.getCurrent();
if(e.onAxis){if(Math.abs(j)&gt;0.1*g){h=b(j);
q=m(0);
p.beginPath();
p.moveTo(h,q);
p.lineTo(h,q+5);
p.stroke();
p.fillText(NumberFormat.format(j),h,q+7)}}else{var l=(j&lt;=r+e.labelWidth);
if(!o||!l){h=b(j);
q=m(a);
p.beginPath();
p.moveTo(h,q);
p.lineTo(h,q-5);
p.stroke();
p.fillText(NumberFormat.format(j),h,q-7)}}n.next()}};
CartesianPlot.prototype._drawData=function(){var m=this.dom.canvas.ctx,f=this.datasets,c=this._xToScreen,l=this._yToScreen;
for(var b=0,a=f.length;
b&lt;a;
b++){try{var h=f[b];
if(h.length&gt;0){m.lineWidth=1.5;
m.strokeStyle=this.COLORS[b%this.COLORS.length];
var j=0,g=h.length;
while(j&lt;g){while(j&lt;g&amp;&amp;isNaN(h[j].y)){j++}if(j&lt;g){var k=h[j];
m.beginPath();
m.moveTo(c(k.x),l(k.y));
j++}while(j&lt;g&amp;&amp;!isNaN(h[j].y)){var k=h[j];
m.lineTo(c(k.x),l(k.y));
j++}m.stroke()}}}catch(e){if(this.onError){this.onError(e)}else{console.log(e)}}}};
CartesianPlot.prototype._drawLegend=function(){var n=this.dom.canvas.ctx,d=this.props,s=this.legend.titles;
if(s!==undefined){var k=10,b=5,a=10,m=0,l=0,c=14,p=20;
var f=0;
for(var q=0,o=s.length;
q&lt;o;
q++){var r=s[q];
if(r){size=n.measureText(r);
m=Math.max(m,size.width);
f++}}m+=3*k+p;
l=f*c+(f-1)*b+2*k;
if(f&gt;0){var e=d.canvasWidth-m-a-10,j=a;
n.lineWidth=0.5;
n.strokeStyle=&quot;#1A1A1A&quot;;
n.fillStyle=&quot;rgba(255, 255, 255, 0.9)&quot;;
n.fillRect(e,j,m,l);
n.strokeRect(e,j,m,l);
n.font=c+&quot;px verdana&quot;;
n.textAlign=&quot;left&quot;;
n.textBaseline=&quot;alphabetic&quot;;
n.fillStyle=&quot;#1A1A1A&quot;;
n.lineWidth=1.5;
var g=0;
for(var q=0,o=s.length;
q&lt;o;
q++){var r=s[q]||&quot;&quot;;
if(r){var h=j+k+g*c+g*b;
n.beginPath();
n.strokeStyle=this.COLORS[q%this.COLORS.length];
n.moveTo(e+k,h+c*0.7);
n.lineTo(e+k+p,h+c*0.7);
n.stroke();
n.fillText(r,e+2*k+p,h+c);
g++}}}}};
CartesianPlot.prototype._drawSettings=function(){if(!this.settingsVisible){return}var a=this.axis;
this.dom.settings.xMin.value=a.xMin.toPrecision(4);
this.dom.settings.xMax.value=a.xMax.toPrecision(4);
this.dom.settings.yMin.value=a.yMin.toPrecision(4);
this.dom.settings.yMax.value=a.yMax.toPrecision(4)};
CartesianPlot.prototype._onMouseDown=function(b){b=b||window.event;
if(b.which==1){this.event.mouseX=b.clientX;
this.event.mouseY=b.clientY;
this.event.startXMin=this.axis.xMin;
this.event.startXMax=this.axis.xMax;
this.event.startYMin=this.axis.yMin;
this.event.startYMax=this.axis.yMax;
this.event.startScreenToX=this._screenToX;
this.event.startScreenToY=this._screenToY;
var a=this;
if(!this.event.mousemove){this.event.mousemove=function(c){a._onMouseMove(c)};
util.addEventListener(document,&quot;mousemove&quot;,this.event.mousemove,false)}if(!this.event.mouseup){this.event.mouseup=function(c){a._onMouseUp(c)};
util.addEventListener(document,&quot;mouseup&quot;,this.event.mouseup,false)}util.preventDefault(b)}};
CartesianPlot.prototype._onMouseMove=function(d){d=d||window.event;
var c=Math.round(d.clientX-this.event.mouseX);
var a=Math.round(d.clientY-this.event.mouseY);
var e=this.event.startScreenToX(0)-this.event.startScreenToX(c);
var b=this.event.startScreenToY(0)-this.event.startScreenToY(a);
this.event.mouseX=d.clientX;
this.event.mouseY=d.clientY;
this._move(e,b);
util.preventDefault(d)};
CartesianPlot.prototype._onMouseUp=function(a){a=a||window.event;
if(this.event.mousemove){util.removeEventListener(document,&quot;mousemove&quot;,this.event.mousemove,false);
delete this.event.mousemove}if(this.event.mouseup){util.removeEventListener(document,&quot;mouseup&quot;,this.event.mouseup,false);
delete this.event.mouseup}util.preventDefault(a);
if(this.onChanged){this.onChanged()}};
CartesianPlot.prototype.focus=function(){if(!this.hasFocus){this.hasFocus=true;
util.addClassName(this.dom.body,&quot;focus&quot;);
if(!this.event.blur){var a=this;
this.event.blur=function(d){a._onMouseDownBlur(d)};
util.addEventListener(document,&quot;mousedown&quot;,this.event.blur,false)}if(!this.event.escFocus){var b=this;
var c=function(d){d=d||window.event;
var e=d.which||d.keyCode;
if(e==27){a.blur()}};
this.event.escFocus=c;
util.addEventListener(document,&quot;keydown&quot;,c)}}};
CartesianPlot.prototype._onMouseDownBlur=function(c){var a=false;
var b=c.target;
while(b){if(b==this.dom.frame){a=true;
break}b=b.parentNode}if(!a){this.blur()}};
CartesianPlot.prototype.blur=function(){util.removeClassName(this.dom.body,&quot;focus&quot;);
if(this.event.blur){util.removeEventListener(document,&quot;mousedown&quot;,this.event.blur,false);
delete this.event.blur}if(this.event.escFocus){util.removeEventListener(document,&quot;keydown&quot;,this.event.escFocus);
delete this.event.escFocus}this.hasFocus=false};
CartesianPlot.prototype._onMouseWheel=function(a){a=a||window.event;
if(!this.hasFocus){return}var h=0;
if(a.wheelDelta){h=a.wheelDelta/120}else{if(a.detail){h=-a.detail/3}}if(h){var c=h/5;
var g=this.getOffsetX(a);
var f=this.getOffsetY(a);
var d=this._screenToX(g);
var i=this._screenToY(f);
var b=!a.shiftKey;
var e=!a.altKey;
this._zoom(c,d,i,b,e)}util.preventDefault(a);
if(this.onChanged){this.onChanged()}};
CartesianPlot.prototype._setFunctions=function(a){this.functions=a};
CartesianPlot.prototype._updateData=function(){var c=this.axis,a=c.xMin,k=c.xMax,b=(k-a)/(this.props.width/this.STEPSIZE),m=k+b;
var e=[],h=this.functions;
if(h){for(var j=0,g=h.length;
j&lt;g;
j++){var l=h[j],f=[];
for(var n=a;
n&lt;m;
n+=b){try{var o={x:n,y:l(n)};
f.push(o)}catch(d){if(this.onError){this.onError(d)}else{console.log(d)}}}e[j]=f}}this.datasets=e};
CartesianPlot.prototype.getOffsetX=function(b){var a=b.offsetX;
if(a==undefined){a=b.layerX;
if(a==undefined){a=this.props.width/2}}return a};
CartesianPlot.prototype.getOffsetY=function(a){var b=a.offsetY;
if(b==undefined){if(a.layerY!=undefined){b=(a.layerY-this.props.headHeight-this.props.settingsHeight-3)}else{b=this.props.height/2}}return b};
CartesianPlot.Step=function(d,a,c,b){this._start=0;
this._end=0;
this._step=1;
this.prettyStep=true;
this.precision=5;
this._current=0;
this.setRange(d,a,c,b)};
CartesianPlot.Step.prototype.setRange=function(d,a,c,b){this._start=d?d:0;
this._end=a?a:0;
this.setStep(c,b)};
CartesianPlot.Step.prototype.setStep=function(b,a){if(b===undefined||b&lt;=0){return}if(a!==undefined){this.prettyStep=a}if(this.prettyStep===true){this._step=CartesianPlot.Step.calculatePrettyStep(b)}else{this._step=b}};
CartesianPlot.Step.calculatePrettyStep=function(d){var e=function(g){return Math.log(g)/Math.LN10};
var b=1*Math.pow(10,Math.round(e(d/1))),a=2*Math.pow(10,Math.round(e(d/2))),f=5*Math.pow(10,Math.round(e(d/5)));
var c=b;
if(Math.abs(a-d)&lt;=Math.abs(c-d)){c=a}if(Math.abs(f-d)&lt;=Math.abs(c-d)){c=f}if(c&lt;=0){c=1}return c};
CartesianPlot.Step.prototype.getCurrent=function(){var a=(this._current).toPrecision(this.precision);
if(this._current&lt;100000){a*=1}return a};
CartesianPlot.Step.prototype.getStep=function(){return this._step};
CartesianPlot.Step.prototype.start=function(){if(this.prettyStep){this._current=this._start-this._start%this._step}else{this._current=this._start}};
CartesianPlot.Step.prototype.next=function(){this._current+=this._step};
CartesianPlot.Step.prototype.end=function(){return(this._current&gt;this._end)};
function NumberFormat(){}NumberFormat.PRECISION=10000000000;
NumberFormat.format=function(c){var a=Math.abs(c);
if((a&gt;0.0001&amp;&amp;a&lt;10000)||a==0){return NumberFormat.round(c)}else{var d=Math.round(Math.log(a)/Math.LN10);
var b=c/(Math.pow(10,d));
return NumberFormat.round(b)+&quot;E&quot;+d}};
NumberFormat.round=function(b){var a=Math.round(b*NumberFormat.PRECISION)/NumberFormat.PRECISION;
return a+&quot;&quot;};
CartesianPlot.makeResizable=function(e,k,a,f){if(e.resizable){return}var b={};
e.resizable=b;
if(k.minHeight!=undefined){b.minHeight=Number(k.minHeight)}if(k.maxHeight!=undefined){b.maxHeight=Number(k.maxHeight)}if(k.minWidth!=undefined){b.minWidth=Number(k.minWidth)}if(k.maxWidth!=undefined){b.maxWidth=Number(k.maxWidth)}var c=function(l){l=l||window.event;
if(l.button!=0){return}b.clientX=l.clientX;
b.clientY=l.clientY;
b.width=e.clientWidth;
b.height=e.clientHeight;
b.newWidth=b.width;
b.newHeight=b.height;
if(!b.mousemove){b.mousemove=h;
util.addEventListener(document,&quot;mousemove&quot;,b.mousemove,false)}if(!b.mouseup){b.mouseup=d;
util.addEventListener(document,&quot;mouseup&quot;,b.mouseup,false)}util.preventDefault(l)};
var h=function(l){l=l||window.event;
if(b.resizeRight){b.newWidth=b.width+(l.clientX-b.clientX);
if(b.maxWidth!=undefined&amp;&amp;b.newWidth&gt;b.maxWidth){b.newWidth=b.maxWidth}if(b.minWidth!=undefined&amp;&amp;b.newWidth&lt;b.minWidth){b.newWidth=b.minWidth}e.style.width=b.newWidth+&quot;px&quot;}if(b.resizeBottom){b.newHeight=b.height+(l.clientY-b.clientY);
if(b.maxHeight!=undefined&amp;&amp;b.newHeight&gt;b.maxHeight){b.newHeight=b.maxHeight}if(b.minHeight!=undefined&amp;&amp;b.newHeight&lt;b.minHeight){b.newHeight=b.minHeight}e.style.height=b.newHeight+&quot;px&quot;}if(a){a({width:b.newWidth,height:b.newHeight})}util.preventDefault(l)};
var d=function(l){if(b.mousemove){util.removeEventListener(document,&quot;mousemove&quot;,b.mousemove,false);
delete b.mousemove}if(b.mouseup){util.removeEventListener(document,&quot;mouseup&quot;,b.mouseup,false);
delete b.mouseup}if(f){f({width:b.newWidth,height:b.newHeight})}util.preventDefault(l)};
var i=document.createElement(&quot;div&quot;);
i.className=&quot;resizable-right&quot;;
e.appendChild(i);
e.style.position=&quot;relative&quot;;
util.addEventListener(i,&quot;mousedown&quot;,function(l){b.resizeRight=true;
b.resizeBottom=false;
c(l)},false);
b.divRight=i;
var g=document.createElement(&quot;div&quot;);
g.className=&quot;resizable-bottom&quot;;
e.appendChild(g);
util.addEventListener(g,&quot;mousedown&quot;,function(l){b.resizeRight=false;
b.resizeBottom=true;
c(l)},false);
b.divBottom=g;
var j=document.createElement(&quot;div&quot;);
j.className=&quot;resizable-bottom-right&quot;;
e.appendChild(j);
util.addEventListener(j,&quot;mousedown&quot;,function(l){b.resizeRight=true;
b.resizeBottom=true;
c(l)},false);
b.divBottomRight=j};
CartesianPlot.removeResizable=function(b){var a=b.resizable;
if(a){b.removeChild(a.divRight);
b.removeChild(a.divBottom);
b.removeChild(a.divBottomRight);
delete b.resizable}};
DataStorage=function(){};
DataStorage.prototype.get=function(a){if(localStorage===undefined){console.log(&quot;Error: no localStorage available&quot;);
return undefined}return localStorage.getItem(a)};
DataStorage.prototype.put=function(a,b){if(localStorage===undefined){console.log(&quot;Error: no localStorage available&quot;);
return}localStorage.setItem(a,b)};
DataStorage.prototype.remove=function(a){if(localStorage===undefined){console.log(&quot;Error: no localStorage available&quot;);
return}localStorage.removeItem(a)};
var app={editor:null,doc:null,queryParams:new QueryParams(),load:function load(){var a;
var f=util.getIEVersionNumber();
if(f&amp;&amp;f&lt;=8){a=document.getElementById(&quot;editor&quot;);
a.innerHTML='&lt;div style=&quot;color: red;
 text-align: center;
 padding: 20px;
&quot;&gt;Your browser is not supported. Please install the newest version of your browser&lt;/div&gt;';
return}a=document.getElementById(&quot;editor&quot;);
app.editor=new mathnotepad.Editor(a,{changed:app.save});
var b=undefined;
try{var g=new DataStorage();
app.doc=app.getDoc();
var d=g.get(app.doc);
b=JSON.parse(d);
if(app.doc==&quot;default&quot;){document.title=&quot;Math Notepad&quot;}else{document.title=app.doc+&quot; - Math Notepad&quot;}}catch(c){console.log(c)}if(b!=undefined){app.editor.setContents(b)}else{if(app.doc==&quot;default&quot;){app.loadDemo()}else{app.editor.setContents()}}window.onunload=app.save;
window.onbeforeunload=app.save},getDoc:function getDoc(){return app.queryParams.getValue(&quot;doc&quot;)||&quot;default&quot;},loadDemo:function loadDemo(){var a={params:{selection:{node:0,start:0,end:0},scrollTop:0},nodes:[{expr:&quot;# Example expressions&quot;,params:{}},{expr:&quot;2 * (3 + 4)&quot;,params:{}},{expr:&quot;&quot;,params:{}},{expr:&quot;# variables&quot;,params:{}},{expr:&quot;width = 2.7 - 0.6&quot;,params:{}},{expr:&quot;height = 3.5&quot;,params:{}},{expr:&quot;width * height&quot;,params:{}},{expr:&quot;&quot;,params:{}},{expr:&quot;# functions&quot;,params:{}},{expr:&quot;hyp(a, b) = sqrt(a^2 + b^2)&quot;,params:{}},{expr:&quot;hyp(3, 4)&quot;,params:{}},{expr:&quot;&quot;,params:{}},{expr:&quot;# graphs&quot;,params:{}},{expr:&quot;f(x) = (sin(x) + cos(x/2)) * 5&quot;,params:{}},{expr:&quot;plot(f(x), x^2-5)&quot;,params:{}},{expr:&quot;&quot;,params:{}},{expr:&quot;# units&quot;,params:{}},{expr:&quot;5cm + 0.2 m in inch&quot;,params:{}},{expr:&quot;sin(45 deg)^2&quot;,params:{}},{expr:&quot;&quot;,params:{}},{expr:&quot;# matrices&quot;,params:{}},{expr:&quot;a = [1, 2, 3;
 2+2, 5, 6]&quot;,params:{}},{expr:&quot;a[2, 3]&quot;,params:{}},{expr:&quot;a[1:2, 2]&quot;,params:{}},{expr:&quot;b = [1, 2;
 3, 4]&quot;,params:{}},{expr:&quot;b * a&quot;,params:{}},{expr:&quot;a[3, 1:3] = [7, 8, 9]&quot;,params:{}},{expr:&quot;&quot;,params:{}}]};
app.editor.setContents(a)},clear:function clear(){app.editor.clear()},save:function save(){try{if(app.editor){var c=new DataStorage();
var b=app.editor.getContents();
c.put(app.doc,JSON.stringify(b))}}catch(a){console.log(a)}}};

//}}}</pre>
</div>
<div title="MathPad" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405140732" modified="201405160523" tags="mathJs Reference excludeTimeline" content-type="text/x-tiddlywiki" changecount="144" alias="">
<pre>Enter {{{clear}}} to clear the window.  MathPad commands listed [[here|MathPad Commands]].
&lt;html&gt;&lt;div class=&quot;right&quot;&gt;&lt;div id=&quot;commandline&quot;&gt;loading...&lt;/div&gt;&lt;/div&gt;&lt;/html&gt;
&lt;script&gt;
// retrieve and run commandLine.js //
src= store.getTiddlerText('commandLine.js');
eval(src);

// create an instance of math.js //
var math = mathjs();
var editor = new CommandLineEditor({
	container: document.getElementById('commandline'),
	math: math
	});

&lt;/script&gt;
&lt;html&gt;&lt;/div&gt;&lt;style&gt;
#commandline {margin-bottom:-60px;}
.cle .input,
.cle .results .expr,
.cle .results .res {
  font-family: monospace;
  font-size: 12px;
  color: #363636;
}

.cle {
  position: relative;
  width: 100%;
  height: 100%;
  margin: 0;
  padding: 3px;

  border: 1px solid #e5e5e5;
  background-color: #f5f5f5;
  border-radius: 2px;

  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
}

.cle.fullscreen {
  position: fixed;
  left: 0;
  top: 0;
  height: 100%;
  z-index: 999;
}

.cle .top-panel {
  width: 100%;
  height: 100%;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  box-sizing: border-box;
  margin: 0 0 -30px 0;
  padding: 0 0 30px 0;
}

.cle .bottom-panel {
  position: relative;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  box-sizing: border-box;
  width: 100%;
  height: 30px;
}

.cle .right {margin-bottom:-40px;}

.cle button.fullscreen {
  position: absolute;
  top: 5px;
  right: 5px;
  width: 16px;
  height: 16px;
  z-index: 1;

  border: none;
  cursor: pointer;
  background: url('img/fullscreen.png');
}

.cle button.fullscreen:hover {
  opacity: 0.5;
  filter: alpha(opacity=50); /* For IE8 and earlier */
}

.cle.fullscreen button.fullscreen {
  background: url('img/fullscreen_exit.png');
}

.cle .results {
  width: 100%;
  height: 100%;
  position: relative;
  overflow: auto;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  box-sizing: border-box;
  padding: 4px;

  border: 1px solid #e5e5e5;
  background-color: white;
  box-shadow: inset 2px 2px 5px rgba(192, 192, 192, 0.1);
  line-height: 1.5;
}

.cle .results .expr {
  padding: 0;
  margin: 0;
}

.cle .results .res {
  padding: 0;
  margin: 0 0 5px 30px;
  color: #dc3912;
}

.cle .results .expr,
.cle .results .res {
  background: none;
  border: none;

  /* http://css-tricks.com/snippets/css/make-pre-text-wrap/ */
  white-space: pre-wrap;       /* css-3 */
  white-space: -moz-pre-wrap;  /* Mozilla, since 1999 */
  white-space: -pre-wrap;      /* Opera 4-6 */
  white-space: -o-pre-wrap;    /* Opera 7 */
  word-wrap: break-word;       /* Internet Explorer 5.5+ */
}

.cle .input-left {
  width: 100%;
  height: 100%;
  margin: 0 -80px 0 0;
  padding: 0 80px 4px 0;
  float: left;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  box-sizing: border-box;
}

.cle .input-right {
  width: 80px;
  height: 100%;
  margin: 0;
  padding: 0 0 4px 4px;
  float: right;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  box-sizing: border-box;
}

.cle .input {
  width: 100%;
  height: 100%;
  margin: 4px 0 0 0;
  padding: 2px 4px;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  box-sizing: border-box;

  border: 1px solid #e5e5e5;
  background-color: white;
  box-shadow: inset 2px 2px 5px rgba(192, 192, 192, 0.1);
}

.cle button.eval {
  color: #363636;
  width: 100%;
  height: 100%;
  margin: 4px 0;
  padding: 0;
}

#tiddlerMathPad .references {display:none;}

font-family:cmr10_ams;}
&lt;/style&gt;&lt;/html&gt;</pre>
</div>
<div title="MathPad Commands" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405160523" tags="Reference excludeTimeline" alias="" changecount="5" content-type="text/x-tiddlywiki">
<pre>Constants
math.E, math.e
math.i
math.Infinity
math.LN2
math.LN10
math.LOG2E
math.LOG10E
math.NaN
math.PI, math.pi
math.SQRT1_2
math.SQRT2
math.tau

|sortable2|k
| !Command | !Function |h
|abs(x)| $|x|$ |
|ceil(x)| $\lceil x \rceil$ |
|floor(x)| $\lfloor x \rfloor$ |
math.equal(x)
math.exp(x)
math.fix(x)
math.floor(x)
math.gcd(a, b, c, ...)
math.larger(x, y)
math.largereq(x, y)
math.lcm(a, b, c, ...)
math.log(x [, base])
math.log10(x)
math.mod(x, y)
math.multiply(x, y)
math.norm(x [, p])
math.pow(x, y)
math.round(x [, n])
math.sign()
math.smaller(x, y)
math.smallereq(x, y)
math.subtract(x, y)
math.sqrt(x)
math.square(x)
math.unary(x)
math.unequal(x)
math.xgcd(a, b)

Complex
math.re(x)
math.im(x)
math.arg(x)
math.conj(x)
Construction
math.bignumber(x)
math.boolean(x)
math.complex(re, im)
math.index(a, b, c, ...)
math.matrix(x)
math.number(x)
math.parser()
math.select([x])
math.string(x)
math.unit(x)
Expression
math.compile(expr)
math.eval(expr [, scope])
math.help(text)
math.parse(expr [, scope])
Matrix
math.concat(a, b, c, ... [, dim])
math.det(x)
math.diag(x)
math.eye(m, n, p, ...)
math.inv(x)
math.ones(m, n, p, ...)
math.range(start, end [, step])
math.resize(x, size [, defaultValue])
math.size(x)
math.squeeze(x)
math.subset(x, index [, replacement])
math.transpose(x)
math.zeros(m, n, p, ...)
Probability
math.combinations(n, k)
math.factorial(n)
math.distribution(name)
math.permutations(n [, k])
math.pickRandom(array)
math.random([min, max])
math.randomInt([min, max])
Statistics
math.max(a, b, c, ...)
math.mean(a, b, c, ...)
math.median(a, b, c, ...)
math.min(a, b, c, ...)
math.prod(a, b, c, ...)
math.std(a, b, c, ...)
math.sum(a, b, c, ...)
math.var(a, b, c, ...)
Trigonometry
math.acos(x)
math.asin(x)
math.atan(x)
math.atan2(y, x)
math.cos(x)
math.cosh(x)
math.cot(x)
math.coth(x)
math.csc(x)
math.csch(x)
math.sec(x)
math.sech(x)
math.sin(x)
math.sinh(x)
math.tan(x)
math.tanh(x)
Units
math.to(x, unit)
Utils
math.config(options)
math.clone(x)
math.forEach(x, callback)
math.format(value [, precision])
math.ifElse(condition, trueExpr, falseExpr)
math.import(filename | object, override)
math.map(x, callback)
math.print(template, values [, precision])
math.typeof(x)</pre>
</div>
<div title="Metrizable" modifier="Christopher Wilson" created="201403312155" modified="201404082207" tags="Topology" changecount="1" alias="" content-type="">
<pre>!!Definition
The topological space $X$ is said to be ''//metrizable//'' if there exists a metric $d$ on the set $X$ that induces the topology of $X$.  A [[metric space|Metric Space]] is a ''//metrizable//'' space $X$ together with a specific metric $d$ that gives the topology of $X$, usually written as $(X,d)$.&lt;&lt;bibtex munkres2000topology&gt;&gt;</pre>
</div>
<div title="MeyerReset.css" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405181015" tags="css excludeTimeline" changecount="2" alias="" content-type="text/css">
<pre>/* http://meyerweb.com/eric/tools/css/reset/ 
   v2.0 | 20110126
   License: none (public domain)
*/

html, body, div, span, applet, object, iframe,
h1, h2, h3, h4, h5, h6, p, blockquote, pre,
a, abbr, acronym, address, big, cite, code,
del, dfn, em, img, ins, kbd, q, s, samp,
small, strike, strong, sub, sup, tt, var,
b, u, i, center,
dl, dt, dd, ol, ul, li,
fieldset, form, label, legend,
table, caption, tbody, tfoot, thead, tr, th, td,
article, aside, canvas, details, embed, 
figure, figcaption, footer, header, hgroup, 
menu, nav, output, ruby, section, summary,
time, mark, audio, video {
	margin: 0;
	padding: 0;
	border: 0;
	font-size: 100%;
	font: inherit;
	vertical-align: baseline;
}
/* HTML5 display-role reset for older browsers */
article, aside, details, figcaption, figure, 
footer, header, hgroup, menu, nav, section {
	display: block;
}
body {
	line-height: 1;
}
ol, ul {
	list-style: none;
}
blockquote, q {
	quotes: none;
}
blockquote:before, blockquote:after,
q:before, q:after {
	content: '';
	content: none;
}
table {
	border-collapse: collapse;
	border-spacing: 0;
}</pre>
</div>
<div title="Misc Group Images" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404210512" modified="201404211701" tags="excludeTimeline excludeLists Images" changecount="9" content-type="">
<pre>&lt;part Q8_0vD8_0&gt;
|sortable2|k
|!|!|h
|&gt;|!Standard Plots|h
|[img[CritPhen\Models\Misc\2d Q8_0vD8_0, M.png]]|[img[CritPhen\Models\Misc\2d Q8_0vD8_0, E.png]]|
|[img[CritPhen\Models\Misc\2d Q8_0vD8_0, X.png]]|[img[CritPhen\Models\Misc\2d Q8_0vD8_0, C.png]]|
|&gt;|!Log-Log Plots|h
|[img[CritPhen\Models\Misc\2d Q8_0vD8_0, M_ln.png]]|[img[CritPhen\Models\Misc\2d Q8_0vD8_0, C_ln.png]]|
|[img[CritPhen\Models\Misc\2d Q8_0vD8_0, X_ln.png]]|
|&gt;|!Cumulants|h
|[img[CritPhen\Models\Misc\2d Q8_0vD8_0, M4.png]]|[img[CritPhen\Models\Misc\2d Q8_0vD8_0, E4.png]]|
|!|!|h
&lt;/part&gt;
&lt;part D8_0vH3_0&gt;
|sortable2|k
|!|!|h
|&gt;|!Standard Plots|h
|[img[CritPhen\Models\Misc\2d D8_0vH3_0, M.png]]|[img[CritPhen\Models\Misc\2d D8_0vH3_0, E.png]]|
|[img[CritPhen\Models\Misc\2d D8_0vH3_0, X.png]]|[img[CritPhen\Models\Misc\2d D8_0vH3_0, C.png]]|
|&gt;|!Log-Log Plots|h
|[img[CritPhen\Models\Misc\2d D8_0vH3_0, M_ln.png]]|[img[CritPhen\Models\Misc\2d D8_0vH3_0, C_ln.png]]|
|[img[CritPhen\Models\Misc\2d D8_0vH3_0, X_ln.png]]|
|&gt;|!Cumulants|h
|[img[CritPhen\Models\Misc\2d D8_0vH3_0, M4.png]]|[img[CritPhen\Models\Misc\2d D8_0vH3_0, E4.png]]|
|!|!|h
&lt;/part&gt;
&lt;part Z8_0vZ4xZ2_0&gt;
|sortable2|k
|!|!|h
|&gt;|!Standard Plots|h
|[img[CritPhen\Models\Misc\2d Z8_0vZ4xZ2_0, M.png]]|[img[CritPhen\Models\Misc\2d Z8_0vZ4xZ2_0, E.png]]|
|[img[CritPhen\Models\Misc\2d Z8_0vZ4xZ2_0, X.png]]|[img[CritPhen\Models\Misc\2d Z8_0vZ4xZ2_0, C.png]]|
|&gt;|!Log-Log Plots|h
|[img[CritPhen\Models\Misc\2d Z8_0vZ4xZ2_0, M_ln.png]]|[img[CritPhen\Models\Misc\2d Z8_0vZ4xZ2_0, C_ln.png]]|
|[img[CritPhen\Models\Misc\2d Z8_0vZ4xZ2_0, X_ln.png]]|
|&gt;|!Cumulants|h
|[img[CritPhen\Models\Misc\2d Z8_0vZ4xZ2_0, M4.png]]|[img[CritPhen\Models\Misc\2d Z8_0vZ4xZ2_0, E4.png]]|
|!|!|h
&lt;/part&gt;
&lt;part H3_0vC8_0&gt;
|sortable2|k
|!|!|h
|&gt;|!Standard Plots|h
|[img[CritPhen\Models\Misc\2d H3_0vC8_0, M.png]]|[img[CritPhen\Models\Misc\2d H3_0vC8_0, E.png]]|
|[img[CritPhen\Models\Misc\2d H3_0vC8_0, X.png]]|[img[CritPhen\Models\Misc\2d H3_0vC8_0, C.png]]|
|&gt;|!Log-Log Plots|h
|[img[CritPhen\Models\Misc\2d H3_0vC8_0, M_ln.png]]|[img[CritPhen\Models\Misc\2d H3_0vC8_0, C_ln.png]]|
|[img[CritPhen\Models\Misc\2d H3_0vC8_0, X_ln.png]]|
|&gt;|!Cumulants|h
|[img[CritPhen\Models\Misc\2d H3_0vC8_0, M4.png]]|[img[CritPhen\Models\Misc\2d H3_0vC8_0, E4.png]]|
|!|!|h
&lt;/part&gt;</pre>
</div>
<div title="Model Comparison" modifier="Christopher Wilson" created="201404081953" modified="201404200623" tags="KeepRevisions [[Critical Phenomena]]" changecount="22" content-type="text/x-tiddlywiki">
<pre>{{sectionTOC{}}}
!!Simulation Results 
Comparison of the two-dimensional $q=8$ [[Clock Model]] and [[Potts Model]].

|centered|k
| !|  !Clock Model | !Potts Model |
| !$ \left&lt;M\right&gt;$ | [img[Research\Images\2d Heis, M_a.png]] | [img[Research\Images\2d Heis, M_c.png]] |
| !$\chi_M$ | [img[Research\Images\2d Heis, X_a.png]] | [img[Research\Images\2d Heis, X_c.png]] |
| !$ \left&lt;H\right&gt;$ |  [img[Research\Images\2d Heis, E_a.png]] | [img[Research\Images\2d Heis, E_c.png]] |
| !$ c_N$ | [img[Research\Images\2d Heis, C_a.png]] | [img[Research\Images\2d Heis, C_c.png]] |
| !$ (\Delta H)^2$ | [img[Research\Images\2d Heis, V_a.png]] | [img[Research\Images\2d Heis, V_c.png]] |
| !$ Q_M^{(4)}$ | [img[Research\Images\2d Heis, M4_a.png]] | [img[Research\Images\2d Heis, M4_c.png]] |
| !$ Q_E^{(4)}$ | [img[Research\Images\2d Heis, E4_a.png]] | [img[Research\Images\2d Heis, E4_c.png]] |

!!Log-Log Plots

|centered|k
| !$\qquad\;\;$| !Clock Model | !Potts Model |
| !$\log$&lt;br&gt;$ \left&lt;M\right&gt;$ | [img[Research\Images\2d Heis, M_a_ln.png]] | [img[Research\Images\2d Heis, M_c_ln.png]] |
| !$\log$&lt;br&gt;$ \chi_M$ | [img[Research\Images\2d Heis, X_a_ln.png]] | [img[Research\Images\2d Heis, X_c_ln.png]] |
| !$\log$&lt;br&gt;$ \left&lt;H\right&gt;$ | [img[Research\Images\2d Heis, E_a_ln.png]] | [img[Research\Images\2d Heis, E_c_ln.png]] |
| !$\log$&lt;br&gt;$C$ | [img[Research\Images\2d Heis, C_a_ln.png]] | [img[Research\Images\2d Heis, C_c_ln.png]] |

!!Notes
*The $4^{\rm th}$ order energy cumulant for the Potts model appears to have no negative points, but I am fairly certain (based on other simulation data) that these points would be found if the temperature grid were finer.
*The cumulants were plotted by expanding the expression $Q_x^{(4)} = \left&lt;\left(x-\left&lt; x\right&gt;\right)^4\right&gt; - 3\left&lt;\left(x-\left&lt;x\right&gt;\right)^2\right&gt;^2 \; = \; \bigl&lt;x^4\bigr&gt;-3\left&lt;x^2\right&gt;^2-4\bigl&lt;x\bigr&gt;\left&lt;x^3\right&gt;+12\bigl&lt;x\bigr&gt;^2\left&lt;x^2\right&gt;-6\bigl&lt;x\bigr&gt;^4$.

!!Files
*[[Download Data Files|Research\Data\Results2.rar]]
&lt;&lt;sectionTOC&gt;&gt;</pre>
</div>
<div title="Model Comparison Revision(0001)" modifier="Christopher Wilson" created="201404100810" modified="201404110235" tags="Revisions excludeMissing excludeTimeline excludeLists excludeSearch">
<pre>!!Simulation Results
Comparison of the two-dimensional $q=8$ Clock Model and [[Potts Model]] with the [[Heisenberg Group]].

|centered|k
| !| !Heisenberg Group | !Clock Model | !Potts Model |
| !$ \left&lt;M\right&gt;$ | [img[Research\Images\2d Heis, M_b.png]] | [img[Research\Images\2d Heis, M_a.png]] | [img[Research\Images\2d Heis, M_c.png]] |
| !$\chi_M$ | [img[Research\Images\2d Heis, X_b.png]] | [img[Research\Images\2d Heis, X_a.png]] | [img[Research\Images\2d Heis, X_c.png]] |
| !$ \left&lt;H\right&gt;$ | [img[Research\Images\2d Heis, E_b.png]] | [img[Research\Images\2d Heis, E_a.png]] | [img[Research\Images\2d Heis, E_c.png]] |
| !$ c_N$ | [img[Research\Images\2d Heis, C_b.png]] | [img[Research\Images\2d Heis, C_a.png]] | [img[Research\Images\2d Heis, C_c.png]] |
| !$ \left&lt;(\Delta H)^2\right&gt;$ | [img[Research\Images\2d Heis, V_b.png]] | [img[Research\Images\2d Heis, V_a.png]] | [img[Research\Images\2d Heis, V_c.png]] |
| !$ Q_M^{(4)}$ | [img[Research\Images\2d Heis, M4_b.png]] | [img[Research\Images\2d Heis, M4_a.png]] | [img[Research\Images\2d Heis, M4_c.png]] |
| !$ Q_E^{(4)}$ | [img[Research\Images\2d Heis, E4_b.png]] | [img[Research\Images\2d Heis, E4_a.png]] | [img[Research\Images\2d Heis, E4_c.png]] |

!!Notes
*The $4^{\rm th}$ order energy cumulant for the Potts model appears to have no negative points, but I am fairly certain (based on other simulation data) that these points would be found if the temperature grid were finer.
*The cumulants were plotted by expanding the expression $Q_x^{(4)} = \left&lt;\left(x-\left&lt; x\right&gt;\right)^4\right&gt; - 3\left&lt;\left(x-\left&lt;x\right&gt;\right)^2\right&gt;^2 \; = \; \bigl&lt;x^4\bigr&gt;-3\left&lt;x^2\right&gt;^2-4\bigl&lt;x\bigr&gt;\left&lt;x^3\right&gt;+12\bigl&lt;x\bigr&gt;^2\left&lt;x^2\right&gt;-6\bigl&lt;x\bigr&gt;^4$.
!!Files
*[[Download Data Files|Research\Data\Results2.rar]]
</pre>
</div>
<div title="Model Comparison Revision(0002)" modifier="Christopher Wilson" created="201404100810" modified="201404110235" tags="Revisions excludeMissing excludeTimeline excludeLists excludeSearch">
<pre>!!Simulation Results
Comparison of the two-dimensional $q=8$ Clock Model and [[Potts Model]] with the [[Heisenberg Group]].

|centered|k
| !| !Heisenberg Group | !Clock Model | !Potts Model |
| !$ \left&lt;M\right&gt;$ | [img[Research\Images\2d Heis, M_b.png]] | [img[Research\Images\2d Heis, M_a.png]] | [img[Research\Images\2d Heis, M_c.png]] |
| !$\chi_M$ | [img[Research\Images\2d Heis, X_b.png]] | [img[Research\Images\2d Heis, X_a.png]] | [img[Research\Images\2d Heis, X_c.png]] |
| !$ \left&lt;H\right&gt;$ | [img[Research\Images\2d Heis, E_b.png]] | [img[Research\Images\2d Heis, E_a.png]] | [img[Research\Images\2d Heis, E_c.png]] |
| !$ c_N$ | [img[Research\Images\2d Heis, C_b.png]] | [img[Research\Images\2d Heis, C_a.png]] | [img[Research\Images\2d Heis, C_c.png]] |
| !$ \left&lt;(\Delta H)^2\right&gt;$ | [img[Research\Images\2d Heis, V_b.png]] | [img[Research\Images\2d Heis, V_a.png]] | [img[Research\Images\2d Heis, V_c.png]] |
| !$ Q_M^{(4)}$ | [img[Research\Images\2d Heis, M4_b.png]] | [img[Research\Images\2d Heis, M4_a.png]] | [img[Research\Images\2d Heis, M4_c.png]] |
| !$ Q_E^{(4)}$ | [img[Research\Images\2d Heis, E4_b.png]] | [img[Research\Images\2d Heis, E4_a.png]] | [img[Research\Images\2d Heis, E4_c.png]] |

!!Notes
*The $4^{\rm th}$ order energy cumulant for the Potts model appears to have no negative points, but I am fairly certain (based on other simulation data) that these points would be found if the temperature grid were finer.
*The cumulants were plotted by expanding the expression $Q_x^{(4)} = \left&lt;\left(x-\left&lt; x\right&gt;\right)^4\right&gt; - 3\left&lt;\left(x-\left&lt;x\right&gt;\right)^2\right&gt;^2 \; = \; \bigl&lt;x^4\bigr&gt;-3\left&lt;x^2\right&gt;^2-4\bigl&lt;x\bigr&gt;\left&lt;x^3\right&gt;+12\bigl&lt;x\bigr&gt;^2\left&lt;x^2\right&gt;-6\bigl&lt;x\bigr&gt;^4$.
!!Files
*[[Download Data Files|Research\Data\Results2.rar]]
</pre>
</div>
<div title="Model Comparison Revision(0003)" modifier="Christopher Wilson" created="201404100810" modified="201404110235" tags="Revisions excludeMissing excludeTimeline excludeLists excludeSearch">
<pre>!!Simulation Results
Comparison of the two-dimensional $q=8$ Clock Model and [[Potts Model]] with the [[Heisenberg Group]].

|centered|k
| !| !Heisenberg Group | !Clock Model | !Potts Model |
| !$ \left&lt;M\right&gt;$ | [img(,200px+)[Research\Images\2d Heis, M_b.png]] | [img(,200px+)[Research\Images\2d Heis, M_a.png]] | [img(,200px+)[Research\Images\2d Heis, M_c.png]] |
| !$\chi_M$ | [img(,200px+)[Research\Images\2d Heis, X_b.png]] | [img(,200px+)[Research\Images\2d Heis, X_a.png]] | [img(,200px+)[Research\Images\2d Heis, X_c.png]] |
| !$ \left&lt;H\right&gt;$ | [img(,200px+)[Research\Images\2d Heis, E_b.png]] | [img(,200px+)[Research\Images\2d Heis, E_a.png]] | [img(,200px+)[Research\Images\2d Heis, E_c.png]] |
| !$ c_N$ | [img(,200px+)[Research\Images\2d Heis, C_b.png]] | [img(,200px+)[Research\Images\2d Heis, C_a.png]] | [img(,200px+)[Research\Images\2d Heis, C_c.png]] |
| !$ \left&lt;(\Delta H)^2\right&gt;$ | [img(,200px+)[Research\Images\2d Heis, V_b.png]] | [img(,200px+)[Research\Images\2d Heis, V_a.png]] | [img(,200px+)[Research\Images\2d Heis, V_c.png]] |
| !$ Q_M^{(4)}$ | [img(,200px+)[Research\Images\2d Heis, M4_b.png]] | [img(,200px+)[Research\Images\2d Heis, M4_a.png]] | [img(,200px+)[Research\Images\2d Heis, M4_c.png]] |
| !$ Q_E^{(4)}$ | [img(,200px+)[Research\Images\2d Heis, E4_b.png]] | [img(,200px+)[Research\Images\2d Heis, E4_a.png]] | [img(,200px+)[Research\Images\2d Heis, E4_c.png]] |

!!Notes
*The $4^{\rm th}$ order energy cumulant for the Potts model appears to have no negative points, but I am fairly certain (based on other simulation data) that these points would be found if the temperature grid were finer.
*The cumulants were plotted by expanding the expression $Q_x^{(4)} = \left&lt;\left(x-\left&lt; x\right&gt;\right)^4\right&gt; - 3\left&lt;\left(x-\left&lt;x\right&gt;\right)^2\right&gt;^2 \; = \; \bigl&lt;x^4\bigr&gt;-3\left&lt;x^2\right&gt;^2-4\bigl&lt;x\bigr&gt;\left&lt;x^3\right&gt;+12\bigl&lt;x\bigr&gt;^2\left&lt;x^2\right&gt;-6\bigl&lt;x\bigr&gt;^4$.
!!Files
*[[Download Data Files|Research\Data\Results2.rar]]
</pre>
</div>
<div title="Model Comparison Revision(0004)" modifier="Christopher Wilson" created="201404100811" modified="201404110235" tags="Revisions excludeMissing excludeLists excludeTimeline excludeSearch">
<pre>!!Simulation Results
Comparison of the two-dimensional $q=8$ Clock Model and [[Potts Model]] with the [[Heisenberg Group]].

|centered|k
| !| !Heisenberg Group | !Clock Model | !Potts Model |
| !$ \left&lt;M\right&gt;$ | [img[Research\Images\2d Heis, M_b.png]] | [img[Research\Images\2d Heis, M_a.png]] | [img[Research\Images\2d Heis, M_c.png]] |
| !$\chi_M$ | [img[Research\Images\2d Heis, X_b.png]] | [img[Research\Images\2d Heis, X_a.png]] | [img[Research\Images\2d Heis, X_c.png]] |
| !$ \left&lt;H\right&gt;$ | [img[Research\Images\2d Heis, E_b.png]] | [img[Research\Images\2d Heis, E_a.png]] | [img[Research\Images\2d Heis, E_c.png]] |
| !$ c_N$ | [img[Research\Images\2d Heis, C_b.png]] | [img[Research\Images\2d Heis, C_a.png]] | [img[Research\Images\2d Heis, C_c.png]] |
| !$ \left&lt;(\Delta H)^2\right&gt;$ | [img[Research\Images\2d Heis, V_b.png]] | [img[Research\Images\2d Heis, V_a.png]] | [img[Research\Images\2d Heis, V_c.png]] |
| !$ Q_M^{(4)}$ | [img[Research\Images\2d Heis, M4_b.png]] | [img[Research\Images\2d Heis, M4_a.png]] | [img[Research\Images\2d Heis, M4_c.png]] |
| !$ Q_E^{(4)}$ | [img[Research\Images\2d Heis, E4_b.png]] | [img[Research\Images\2d Heis, E4_a.png]] | [img[Research\Images\2d Heis, E4_c.png]] |

!!Notes
*The $4^{\rm th}$ order energy cumulant for the Potts model appears to have no negative points, but I am fairly certain (based on other simulation data) that these points would be found if the temperature grid were finer.
*The cumulants were plotted by expanding the expression $Q_x^{(4)} = \left&lt;\left(x-\left&lt; x\right&gt;\right)^4\right&gt; - 3\left&lt;\left(x-\left&lt;x\right&gt;\right)^2\right&gt;^2 \; = \; \bigl&lt;x^4\bigr&gt;-3\left&lt;x^2\right&gt;^2-4\bigl&lt;x\bigr&gt;\left&lt;x^3\right&gt;+12\bigl&lt;x\bigr&gt;^2\left&lt;x^2\right&gt;-6\bigl&lt;x\bigr&gt;^4$.
!!Files
*[[Download Data Files|Research\Data\Results2.rar]]
</pre>
</div>
<div title="Model Comparison Revision(0005)" modifier="Christopher Wilson" created="201404102112" modified="201404110235" tags="Revisions excludeMissing excludeLists excludeTimeline excludeSearch">
<pre>!!Simulation Results
Comparison of the two-dimensional $q=8$ Clock Model and [[Potts Model]] with the [[Heisenberg Group]].
&lt;&lt;snapshot print&gt;&gt;
|centered|k
| !| !Heisenberg Group | !Clock Model | !Potts Model |
| !$ \left&lt;M\right&gt;$ | [img[Research\Images\2d Heis, M_b.png]] | [img[Research\Images\2d Heis, M_a.png]] | [img[Research\Images\2d Heis, M_c.png]] |
| !$\chi_M$ | [img[Research\Images\2d Heis, X_b.png]] | [img[Research\Images\2d Heis, X_a.png]] | [img[Research\Images\2d Heis, X_c.png]] |
| !$ \left&lt;H\right&gt;$ | [img[Research\Images\2d Heis, E_b.png]] | [img[Research\Images\2d Heis, E_a.png]] | [img[Research\Images\2d Heis, E_c.png]] |
| !$ c_N$ | [img[Research\Images\2d Heis, C_b.png]] | [img[Research\Images\2d Heis, C_a.png]] | [img[Research\Images\2d Heis, C_c.png]] |
| !$ \left&lt;(\Delta H)^2\right&gt;$ | [img[Research\Images\2d Heis, V_b.png]] | [img[Research\Images\2d Heis, V_a.png]] | [img[Research\Images\2d Heis, V_c.png]] |
| !$ Q_M^{(4)}$ | [img[Research\Images\2d Heis, M4_b.png]] | [img[Research\Images\2d Heis, M4_a.png]] | [img[Research\Images\2d Heis, M4_c.png]] |
| !$ Q_E^{(4)}$ | [img[Research\Images\2d Heis, E4_b.png]] | [img[Research\Images\2d Heis, E4_a.png]] | [img[Research\Images\2d Heis, E4_c.png]] |

!!Notes
*The $4^{\rm th}$ order energy cumulant for the Potts model appears to have no negative points, but I am fairly certain (based on other simulation data) that these points would be found if the temperature grid were finer.
*The cumulants were plotted by expanding the expression $Q_x^{(4)} = \left&lt;\left(x-\left&lt; x\right&gt;\right)^4\right&gt; - 3\left&lt;\left(x-\left&lt;x\right&gt;\right)^2\right&gt;^2 \; = \; \bigl&lt;x^4\bigr&gt;-3\left&lt;x^2\right&gt;^2-4\bigl&lt;x\bigr&gt;\left&lt;x^3\right&gt;+12\bigl&lt;x\bigr&gt;^2\left&lt;x^2\right&gt;-6\bigl&lt;x\bigr&gt;^4$.
!!Files
*[[Download Data Files|Research\Data\Results2.rar]]
</pre>
</div>
<div title="Model Comparison Revision(0006)" modifier="Christopher Wilson" created="201404140713" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="5" content-type="">
<pre>!!Simulation Results 
Comparison of the two-dimensional $q=8$ Clock Model and [[Potts Model]] with the [[Heisenberg Group]].

|centered|k
| !| !Heisenberg Group | !Clock Model | !Potts Model |
| !$ \left&lt;M\right&gt;$ | [img[Research\Images\2d Heis, M_b.png]] | [img[Research\Images\2d Heis, M_a.png]] | [img[Research\Images\2d Heis, M_c.png]] |
| !$\chi_M$ | [img[Research\Images\2d Heis, X_b.png]] | [img[Research\Images\2d Heis, X_a.png]] | [img[Research\Images\2d Heis, X_c.png]] |
| !$ \left&lt;H\right&gt;$ | [img[Research\Images\2d Heis, E_b.png]] | [img[Research\Images\2d Heis, E_a.png]] | [img[Research\Images\2d Heis, E_c.png]] |
| !$ c_N$ | [img[Research\Images\2d Heis, C_b.png]] | [img[Research\Images\2d Heis, C_a.png]] | [img[Research\Images\2d Heis, C_c.png]] |
| !$ \left&lt;(\Delta H)^2\right&gt;$ | [img[Research\Images\2d Heis, V_b.png]] | [img[Research\Images\2d Heis, V_a.png]] | [img[Research\Images\2d Heis, V_c.png]] |
| !$ Q_M^{(4)}$ | [img[Research\Images\2d Heis, M4_b.png]] | [img[Research\Images\2d Heis, M4_a.png]] | [img[Research\Images\2d Heis, M4_c.png]] |
| !$ Q_E^{(4)}$ | [img[Research\Images\2d Heis, E4_b.png]] | [img[Research\Images\2d Heis, E4_a.png]] | [img[Research\Images\2d Heis, E4_c.png]] |

!!Notes
*The $4^{\rm th}$ order energy cumulant for the Potts model appears to have no negative points, but I am fairly certain (based on other simulation data) that these points would be found if the temperature grid were finer.
*The cumulants were plotted by expanding the expression $Q_x^{(4)} = \left&lt;\left(x-\left&lt; x\right&gt;\right)^4\right&gt; - 3\left&lt;\left(x-\left&lt;x\right&gt;\right)^2\right&gt;^2 \; = \; \bigl&lt;x^4\bigr&gt;-3\left&lt;x^2\right&gt;^2-4\bigl&lt;x\bigr&gt;\left&lt;x^3\right&gt;+12\bigl&lt;x\bigr&gt;^2\left&lt;x^2\right&gt;-6\bigl&lt;x\bigr&gt;^4$.
!!Files
*[[Download Data Files|Research\Data\Results2.rar]]
</pre>
</div>
<div title="Model Comparison Revision(0007)" modifier="Christopher Wilson" created="201404142321" modified="201404150744" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="7" content-type="text/x-tiddlywiki">
<pre>!!Simulation Results 
Comparison of the two-dimensional $q=8$ Clock Model and [[Potts Model]] with the [[Heisenberg Group]].

|centered|k
| !| !Heisenberg Group | !Clock Model | !Potts Model |h
| !$ \left&lt;M\right&gt;$ | [img[Research\Images\2d Heis, M_b.png]] | [img[Research\Images\2d Heis, M_a.png]] | [img[Research\Images\2d Heis, M_c.png]] |
| !$\chi_M$ | [img[Research\Images\2d Heis, X_b.png]] | [img[Research\Images\2d Heis, X_a.png]] | [img[Research\Images\2d Heis, X_c.png]] |
| !$ \left&lt;H\right&gt;$ | [img[Research\Images\2d Heis, E_b.png]] | [img[Research\Images\2d Heis, E_a.png]] | [img[Research\Images\2d Heis, E_c.png]] |
| !$ c_N$ | [img[Research\Images\2d Heis, C_b.png]] | [img[Research\Images\2d Heis, C_a.png]] | [img[Research\Images\2d Heis, C_c.png]] |
| !$ \left&lt;(\Delta H)^2\right&gt;$ | [img[Research\Images\2d Heis, V_b.png]] | [img[Research\Images\2d Heis, V_a.png]] | [img[Research\Images\2d Heis, V_c.png]] |
| !$ Q_M^{(4)}$ | [img[Research\Images\2d Heis, M4_b.png]] | [img[Research\Images\2d Heis, M4_a.png]] | [img[Research\Images\2d Heis, M4_c.png]] |
| !$ Q_E^{(4)}$ | [img[Research\Images\2d Heis, E4_b.png]] | [img[Research\Images\2d Heis, E4_a.png]] | [img[Research\Images\2d Heis, E4_c.png]] |

!!Notes
*The $4^{\rm th}$ order energy cumulant for the Potts model appears to have no negative points, but I am fairly certain (based on other simulation data) that these points would be found if the temperature grid were finer.
*The cumulants were plotted by expanding the expression $Q_x^{(4)} = \left&lt;\left(x-\left&lt; x\right&gt;\right)^4\right&gt; - 3\left&lt;\left(x-\left&lt;x\right&gt;\right)^2\right&gt;^2 \; = \; \bigl&lt;x^4\bigr&gt;-3\left&lt;x^2\right&gt;^2-4\bigl&lt;x\bigr&gt;\left&lt;x^3\right&gt;+12\bigl&lt;x\bigr&gt;^2\left&lt;x^2\right&gt;-6\bigl&lt;x\bigr&gt;^4$.
*The [[Heisenberg Group]] appears to be unique from the [[clock model]] in its magnetic susceptibility in the quasi-liquid region of stability.  Since magnetic susceptibility can be shown to be the sum of correlation functions, as shown here ([[Ising Model]]), it follows that there is very strong correlation in the quasi-liquid region of the Heisenberg group. 

!!Files
*[[Download Data Files|Research\Data\Results2.rar]]
</pre>
</div>
<div title="Model Comparison Revision(0008)" modifier="Christopher Wilson" created="201404150741" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="7" content-type="text/x-tiddlywiki">
<pre>!!Simulation Results 
Comparison of the two-dimensional $q=8$ Clock Model and [[Potts Model]] with the [[Heisenberg Group]].

|centered|k
| !| !Heisenberg Group | !Clock Model | !Potts Model |
| !$ \left&lt;M\right&gt;$ | [img[Research\Images\2d Heis, M_b.png]] | [img[Research\Images\2d Heis, M_a.png]] | [img[Research\Images\2d Heis, M_c.png]] |
| !$\chi_M$ | [img[Research\Images\2d Heis, X_b.png]] | [img[Research\Images\2d Heis, X_a.png]] | [img[Research\Images\2d Heis, X_c.png]] |
| !$ \left&lt;H\right&gt;$ | [img[Research\Images\2d Heis, E_b.png]] | [img[Research\Images\2d Heis, E_a.png]] | [img[Research\Images\2d Heis, E_c.png]] |
| !$ c_N$ | [img[Research\Images\2d Heis, C_b.png]] | [img[Research\Images\2d Heis, C_a.png]] | [img[Research\Images\2d Heis, C_c.png]] |
| !$ (\Delta H)^2$ | [img[Research\Images\2d Heis, V_b.png]] | [img[Research\Images\2d Heis, V_a.png]] | [img[Research\Images\2d Heis, V_c.png]] |
| !$ Q_M^{(4)}$ | [img[Research\Images\2d Heis, M4_b.png]] | [img[Research\Images\2d Heis, M4_a.png]] | [img[Research\Images\2d Heis, M4_c.png]] |
| !$ Q_E^{(4)}$ | [img[Research\Images\2d Heis, E4_b.png]] | [img[Research\Images\2d Heis, E4_a.png]] | [img[Research\Images\2d Heis, E4_c.png]] |

!!Notes
*The $4^{\rm th}$ order energy cumulant for the Potts model appears to have no negative points, but I am fairly certain (based on other simulation data) that these points would be found if the temperature grid were finer.
*The cumulants were plotted by expanding the expression $Q_x^{(4)} = \left&lt;\left(x-\left&lt; x\right&gt;\right)^4\right&gt; - 3\left&lt;\left(x-\left&lt;x\right&gt;\right)^2\right&gt;^2 \; = \; \bigl&lt;x^4\bigr&gt;-3\left&lt;x^2\right&gt;^2-4\bigl&lt;x\bigr&gt;\left&lt;x^3\right&gt;+12\bigl&lt;x\bigr&gt;^2\left&lt;x^2\right&gt;-6\bigl&lt;x\bigr&gt;^4$.
*The [[Heisenberg Group]] appears to be unique from the [[clock model]] in its magnetic susceptibility in the quasi-liquid region of stability.  Since magnetic susceptibility can be shown to be the sum of correlation functions, as shown here ([[Ising Model]]), it follows that there is very strong correlation in the quasi-liquid region of the Heisenberg group. 

!!Files
*[[Download Data Files|Research\Data\Results2.rar]]
</pre>
</div>
<div title="Model Comparison Revision(0009)" modifier="Christopher Wilson" created="201404150742" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="8" content-type="text/x-tiddlywiki">
<pre>!!Simulation Results 
Comparison of the two-dimensional $q=8$ Clock Model and [[Potts Model]] with the [[Heisenberg Group]].

|sortable2|k
| !| !Heisenberg Group | !Clock Model | !Potts Model |h
| !$ \left&lt;M\right&gt;$ | [img[Research\Images\2d Heis, M_b.png]] | [img[Research\Images\2d Heis, M_a.png]] | [img[Research\Images\2d Heis, M_c.png]] |
| !$\chi_M$ | [img[Research\Images\2d Heis, X_b.png]] | [img[Research\Images\2d Heis, X_a.png]] | [img[Research\Images\2d Heis, X_c.png]] |
| !$ \left&lt;H\right&gt;$ | [img[Research\Images\2d Heis, E_b.png]] | [img[Research\Images\2d Heis, E_a.png]] | [img[Research\Images\2d Heis, E_c.png]] |
| !$ c_N$ | [img[Research\Images\2d Heis, C_b.png]] | [img[Research\Images\2d Heis, C_a.png]] | [img[Research\Images\2d Heis, C_c.png]] |
| !$ (\Delta H)^2$ | [img[Research\Images\2d Heis, V_b.png]] | [img[Research\Images\2d Heis, V_a.png]] | [img[Research\Images\2d Heis, V_c.png]] |
| !$ Q_M^{(4)}$ | [img[Research\Images\2d Heis, M4_b.png]] | [img[Research\Images\2d Heis, M4_a.png]] | [img[Research\Images\2d Heis, M4_c.png]] |
| !$ Q_E^{(4)}$ | [img[Research\Images\2d Heis, E4_b.png]] | [img[Research\Images\2d Heis, E4_a.png]] | [img[Research\Images\2d Heis, E4_c.png]] |

!!Notes
*The $4^{\rm th}$ order energy cumulant for the Potts model appears to have no negative points, but I am fairly certain (based on other simulation data) that these points would be found if the temperature grid were finer.
*The cumulants were plotted by expanding the expression $Q_x^{(4)} = \left&lt;\left(x-\left&lt; x\right&gt;\right)^4\right&gt; - 3\left&lt;\left(x-\left&lt;x\right&gt;\right)^2\right&gt;^2 \; = \; \bigl&lt;x^4\bigr&gt;-3\left&lt;x^2\right&gt;^2-4\bigl&lt;x\bigr&gt;\left&lt;x^3\right&gt;+12\bigl&lt;x\bigr&gt;^2\left&lt;x^2\right&gt;-6\bigl&lt;x\bigr&gt;^4$.
*The [[Heisenberg Group]] appears to be unique from the [[clock model]] in its magnetic susceptibility in the quasi-liquid region of stability.  Since magnetic susceptibility can be shown to be the sum of correlation functions, as shown here ([[Ising Model]]), it follows that there is very strong correlation in the quasi-liquid region of the Heisenberg group. 

!!Files
*[[Download Data Files|Research\Data\Results2.rar]]
</pre>
</div>
<div title="Model Comparison Revision(0010)" modifier="Christopher Wilson" created="201404150743" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="9" content-type="text/x-tiddlywiki">
<pre>!!Simulation Results 
Comparison of the two-dimensional $q=8$ Clock Model and [[Potts Model]] with the [[Heisenberg Group]].

|sortable2|k
| !Heisenberg Group | !Clock Model | !Potts Model |h
| [img[Research\Images\2d Heis, M_b.png]] | [img[Research\Images\2d Heis, M_a.png]] | [img[Research\Images\2d Heis, M_c.png]] |
| [img[Research\Images\2d Heis, X_b.png]] | [img[Research\Images\2d Heis, X_a.png]] | [img[Research\Images\2d Heis, X_c.png]] |
| [img[Research\Images\2d Heis, E_b.png]] | [img[Research\Images\2d Heis, E_a.png]] | [img[Research\Images\2d Heis, E_c.png]] |
| [img[Research\Images\2d Heis, C_b.png]] | [img[Research\Images\2d Heis, C_a.png]] | [img[Research\Images\2d Heis, C_c.png]] |
| [img[Research\Images\2d Heis, V_b.png]] | [img[Research\Images\2d Heis, V_a.png]] | [img[Research\Images\2d Heis, V_c.png]] |
| [img[Research\Images\2d Heis, M4_b.png]] | [img[Research\Images\2d Heis, M4_a.png]] | [img[Research\Images\2d Heis, M4_c.png]] |
| [img[Research\Images\2d Heis, E4_b.png]] | [img[Research\Images\2d Heis, E4_a.png]] | [img[Research\Images\2d Heis, E4_c.png]] |

!!Notes
*The $4^{\rm th}$ order energy cumulant for the Potts model appears to have no negative points, but I am fairly certain (based on other simulation data) that these points would be found if the temperature grid were finer.
*The cumulants were plotted by expanding the expression $Q_x^{(4)} = \left&lt;\left(x-\left&lt; x\right&gt;\right)^4\right&gt; - 3\left&lt;\left(x-\left&lt;x\right&gt;\right)^2\right&gt;^2 \; = \; \bigl&lt;x^4\bigr&gt;-3\left&lt;x^2\right&gt;^2-4\bigl&lt;x\bigr&gt;\left&lt;x^3\right&gt;+12\bigl&lt;x\bigr&gt;^2\left&lt;x^2\right&gt;-6\bigl&lt;x\bigr&gt;^4$.
*The [[Heisenberg Group]] appears to be unique from the [[clock model]] in its magnetic susceptibility in the quasi-liquid region of stability.  Since magnetic susceptibility can be shown to be the sum of correlation functions, as shown here ([[Ising Model]]), it follows that there is very strong correlation in the quasi-liquid region of the Heisenberg group. 

!!Files
*[[Download Data Files|Research\Data\Results2.rar]]
</pre>
</div>
<div title="Model Comparison Revision(0011)" modifier="Christopher Wilson" created="201404150744" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="10" content-type="text/x-tiddlywiki">
<pre>!!Simulation Results 
Comparison of the two-dimensional $q=8$ Clock Model and [[Potts Model]] with the [[Heisenberg Group]].

|centered|k
| !| !Heisenberg Group | !Clock Model | !Potts Model |
| !$ \left&lt;M\right&gt;$ | [img[Research\Images\2d Heis, M_b.png]] | [img[Research\Images\2d Heis, M_a.png]] | [img[Research\Images\2d Heis, M_c.png]] |
| !$\chi_M$ | [img[Research\Images\2d Heis, X_b.png]] | [img[Research\Images\2d Heis, X_a.png]] | [img[Research\Images\2d Heis, X_c.png]] |
| !$ \left&lt;H\right&gt;$ | [img[Research\Images\2d Heis, E_b.png]] | [img[Research\Images\2d Heis, E_a.png]] | [img[Research\Images\2d Heis, E_c.png]] |
| !$ c_N$ | [img[Research\Images\2d Heis, C_b.png]] | [img[Research\Images\2d Heis, C_a.png]] | [img[Research\Images\2d Heis, C_c.png]] |
| !$ (\Delta H)^2$ | [img[Research\Images\2d Heis, V_b.png]] | [img[Research\Images\2d Heis, V_a.png]] | [img[Research\Images\2d Heis, V_c.png]] |
| !$ Q_M^{(4)}$ | [img[Research\Images\2d Heis, M4_b.png]] | [img[Research\Images\2d Heis, M4_a.png]] | [img[Research\Images\2d Heis, M4_c.png]] |
| !$ Q_E^{(4)}$ | [img[Research\Images\2d Heis, E4_b.png]] | [img[Research\Images\2d Heis, E4_a.png]] | [img[Research\Images\2d Heis, E4_c.png]] |

!!Notes
*The $4^{\rm th}$ order energy cumulant for the Potts model appears to have no negative points, but I am fairly certain (based on other simulation data) that these points would be found if the temperature grid were finer.
*The cumulants were plotted by expanding the expression $Q_x^{(4)} = \left&lt;\left(x-\left&lt; x\right&gt;\right)^4\right&gt; - 3\left&lt;\left(x-\left&lt;x\right&gt;\right)^2\right&gt;^2 \; = \; \bigl&lt;x^4\bigr&gt;-3\left&lt;x^2\right&gt;^2-4\bigl&lt;x\bigr&gt;\left&lt;x^3\right&gt;+12\bigl&lt;x\bigr&gt;^2\left&lt;x^2\right&gt;-6\bigl&lt;x\bigr&gt;^4$.
*The [[Heisenberg Group]] appears to be unique from the [[clock model]] in its magnetic susceptibility in the quasi-liquid region of stability.  Since magnetic susceptibility can be shown to be the sum of correlation functions, as shown here ([[Ising Model]]), it follows that there is very strong correlation in the quasi-liquid region of the Heisenberg group. 

!!Files
*[[Download Data Files|Research\Data\Results2.rar]]
</pre>
</div>
<div title="Model Comparison Revision(0012)" modifier="Christopher Wilson" created="201404150749" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="11" content-type="text/x-tiddlywiki">
<pre>!!Simulation Results 
Comparison of the two-dimensional $q=8$ Clock Model and [[Potts Model]] with the [[Heisenberg Group]].

|centered|k
| !| !Heisenberg Group | !Clock Model | !Potts Model |
| !$ \left&lt;M\right&gt;$ | [img[Research\Images\2d Heis, M_b.png]] | [img[Research\Images\2d Heis, M_a.png]] | [img[Research\Images\2d Heis, M_c.png]] |
| !$\chi_M$ | [img[Research\Images\2d Heis, X_b.png]] | [img[Research\Images\2d Heis, X_a.png]] | [img[Research\Images\2d Heis, X_c.png]] |
| !$ \left&lt;H\right&gt;$ | [img[Research\Images\2d Heis, E_b.png]] | [img[Research\Images\2d Heis, E_a.png]] | [img[Research\Images\2d Heis, E_c.png]] |
| !$ c_N$ | [img[Research\Images\2d Heis, C_b.png]] | [img[Research\Images\2d Heis, C_a.png]] | [img[Research\Images\2d Heis, C_c.png]] |
| !$ (\Delta H)^2$ | [img[Research\Images\2d Heis, V_b.png]] | [img[Research\Images\2d Heis, V_a.png]] | [img[Research\Images\2d Heis, V_c.png]] |
| !$ Q_M^{(4)}$ | [img[Research\Images\2d Heis, M4_b.png]] | [img[Research\Images\2d Heis, M4_a.png]] | [img[Research\Images\2d Heis, M4_c.png]] |
| !$ Q_E^{(4)}$ | [img[Research\Images\2d Heis, E4_b.png]] | [img[Research\Images\2d Heis, E4_a.png]] | [img[Research\Images\2d Heis, E4_c.png]] |

!!Log-Log Plots
|centered|k
| !| !Heisenberg Group | !Clock Model | !Potts Model |
| !$ \left&lt;M\right&gt;$ | [img[Research\Images\2d Heis, M_b_ln.png]] | [img[Research\Images\2d Heis, M_a_ln.png]] | [img[Research\Images\2d Heis, M_c_ln.png]] |
| !$ \left&lt;M\right&gt;$ | [img[Research\Images\2d Heis, X_b_ln.png]] | [img[Research\Images\2d Heis, X_a_ln.png]] | [img[Research\Images\2d Heis, X_c_ln.png]] |
| !$ \left&lt;M\right&gt;$ | [img[Research\Images\2d Heis, E_b_ln.png]] | [img[Research\Images\2d Heis, E_a_ln.png]] | [img[Research\Images\2d Heis, E_c_ln.png]] |
| !$ \left&lt;M\right&gt;$ | [img[Research\Images\2d Heis, C_b_ln.png]] | [img[Research\Images\2d Heis, C_a_ln.png]] | [img[Research\Images\2d Heis, C_c_ln.png]] |

!!Notes
*The $4^{\rm th}$ order energy cumulant for the Potts model appears to have no negative points, but I am fairly certain (based on other simulation data) that these points would be found if the temperature grid were finer.
*The cumulants were plotted by expanding the expression $Q_x^{(4)} = \left&lt;\left(x-\left&lt; x\right&gt;\right)^4\right&gt; - 3\left&lt;\left(x-\left&lt;x\right&gt;\right)^2\right&gt;^2 \; = \; \bigl&lt;x^4\bigr&gt;-3\left&lt;x^2\right&gt;^2-4\bigl&lt;x\bigr&gt;\left&lt;x^3\right&gt;+12\bigl&lt;x\bigr&gt;^2\left&lt;x^2\right&gt;-6\bigl&lt;x\bigr&gt;^4$.
*The [[Heisenberg Group]] appears to be unique from the [[clock model]] in its magnetic susceptibility in the quasi-liquid region of stability.  Since magnetic susceptibility can be shown to be the sum of correlation functions, as shown here ([[Ising Model]]), it follows that there is very strong correlation in the quasi-liquid region of the Heisenberg group. 

!!Files
*[[Download Data Files|Research\Data\Results2.rar]]
</pre>
</div>
<div title="Model Comparison Revision(0013)" modifier="Christopher Wilson" created="201404150751" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="12" content-type="text/x-tiddlywiki">
<pre>!!Simulation Results 
Comparison of the two-dimensional $q=8$ Clock Model and [[Potts Model]] with the [[Heisenberg Group]].

|centered|k
| !| !Heisenberg Group | !Clock Model | !Potts Model |
| !$ \left&lt;M\right&gt;$ | [img[Research\Images\2d Heis, M_b.png]] | [img[Research\Images\2d Heis, M_a.png]] | [img[Research\Images\2d Heis, M_c.png]] |
| !$\chi_M$ | [img[Research\Images\2d Heis, X_b.png]] | [img[Research\Images\2d Heis, X_a.png]] | [img[Research\Images\2d Heis, X_c.png]] |
| !$ \left&lt;H\right&gt;$ | [img[Research\Images\2d Heis, E_b.png]] | [img[Research\Images\2d Heis, E_a.png]] | [img[Research\Images\2d Heis, E_c.png]] |
| !$ c_N$ | [img[Research\Images\2d Heis, C_b.png]] | [img[Research\Images\2d Heis, C_a.png]] | [img[Research\Images\2d Heis, C_c.png]] |
| !$ (\Delta H)^2$ | [img[Research\Images\2d Heis, V_b.png]] | [img[Research\Images\2d Heis, V_a.png]] | [img[Research\Images\2d Heis, V_c.png]] |
| !$ Q_M^{(4)}$ | [img[Research\Images\2d Heis, M4_b.png]] | [img[Research\Images\2d Heis, M4_a.png]] | [img[Research\Images\2d Heis, M4_c.png]] |
| !$ Q_E^{(4)}$ | [img[Research\Images\2d Heis, E4_b.png]] | [img[Research\Images\2d Heis, E4_a.png]] | [img[Research\Images\2d Heis, E4_c.png]] |

!!Log-Log Plots
|centered|k
| !| !Heisenberg Group | !Clock Model | !Potts Model |
| !$\log$&lt;br&gt;$ \left&lt;M\right&gt;$ | [img[Research\Images\2d Heis, M_b_ln.png]] | [img[Research\Images\2d Heis, M_a_ln.png]] | [img[Research\Images\2d Heis, M_c_ln.png]] |
| !$ \left&lt;M\right&gt;$ | [img[Research\Images\2d Heis, X_b_ln.png]] | [img[Research\Images\2d Heis, X_a_ln.png]] | [img[Research\Images\2d Heis, X_c_ln.png]] |
| !$ \left&lt;M\right&gt;$ | [img[Research\Images\2d Heis, E_b_ln.png]] | [img[Research\Images\2d Heis, E_a_ln.png]] | [img[Research\Images\2d Heis, E_c_ln.png]] |
| !$ \left&lt;M\right&gt;$ | [img[Research\Images\2d Heis, C_b_ln.png]] | [img[Research\Images\2d Heis, C_a_ln.png]] | [img[Research\Images\2d Heis, C_c_ln.png]] |

!!Notes
*The $4^{\rm th}$ order energy cumulant for the Potts model appears to have no negative points, but I am fairly certain (based on other simulation data) that these points would be found if the temperature grid were finer.
*The cumulants were plotted by expanding the expression $Q_x^{(4)} = \left&lt;\left(x-\left&lt; x\right&gt;\right)^4\right&gt; - 3\left&lt;\left(x-\left&lt;x\right&gt;\right)^2\right&gt;^2 \; = \; \bigl&lt;x^4\bigr&gt;-3\left&lt;x^2\right&gt;^2-4\bigl&lt;x\bigr&gt;\left&lt;x^3\right&gt;+12\bigl&lt;x\bigr&gt;^2\left&lt;x^2\right&gt;-6\bigl&lt;x\bigr&gt;^4$.
*The [[Heisenberg Group]] appears to be unique from the [[clock model]] in its magnetic susceptibility in the quasi-liquid region of stability.  Since magnetic susceptibility can be shown to be the sum of correlation functions, as shown here ([[Ising Model]]), it follows that there is very strong correlation in the quasi-liquid region of the Heisenberg group. 

!!Files
*[[Download Data Files|Research\Data\Results2.rar]]
</pre>
</div>
<div title="Model Comparison Revision(0014)" modifier="Christopher Wilson" created="201404150752" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="13" content-type="text/x-tiddlywiki">
<pre>!!Simulation Results 
Comparison of the two-dimensional $q=8$ Clock Model and [[Potts Model]] with the [[Heisenberg Group]].

|centered|k
| !| !Heisenberg Group | !Clock Model | !Potts Model |
| !$ \left&lt;M\right&gt;$ | [img[Research\Images\2d Heis, M_b.png]] | [img[Research\Images\2d Heis, M_a.png]] | [img[Research\Images\2d Heis, M_c.png]] |
| !$\chi_M$ | [img[Research\Images\2d Heis, X_b.png]] | [img[Research\Images\2d Heis, X_a.png]] | [img[Research\Images\2d Heis, X_c.png]] |
| !$ \left&lt;H\right&gt;$ | [img[Research\Images\2d Heis, E_b.png]] | [img[Research\Images\2d Heis, E_a.png]] | [img[Research\Images\2d Heis, E_c.png]] |
| !$ c_N$ | [img[Research\Images\2d Heis, C_b.png]] | [img[Research\Images\2d Heis, C_a.png]] | [img[Research\Images\2d Heis, C_c.png]] |
| !$ (\Delta H)^2$ | [img[Research\Images\2d Heis, V_b.png]] | [img[Research\Images\2d Heis, V_a.png]] | [img[Research\Images\2d Heis, V_c.png]] |
| !$ Q_M^{(4)}$ | [img[Research\Images\2d Heis, M4_b.png]] | [img[Research\Images\2d Heis, M4_a.png]] | [img[Research\Images\2d Heis, M4_c.png]] |
| !$ Q_E^{(4)}$ | [img[Research\Images\2d Heis, E4_b.png]] | [img[Research\Images\2d Heis, E4_a.png]] | [img[Research\Images\2d Heis, E4_c.png]] |

!!Log-Log Plots
|centered|k
| !| !Heisenberg Group | !Clock Model | !Potts Model |
| !$\log$&lt;br&gt;$ \left&lt;M\right&gt;$ | [img[Research\Images\2d Heis, M_b_ln.png]] | [img[Research\Images\2d Heis, M_a_ln.png]] | [img[Research\Images\2d Heis, M_c_ln.png]] |
| !$\log$&lt;br&gt;$ \chi_M$ | [img[Research\Images\2d Heis, X_b_ln.png]] | [img[Research\Images\2d Heis, X_a_ln.png]] | [img[Research\Images\2d Heis, X_c_ln.png]] |
| !$\log$&lt;br&gt;$ \left&lt;H\right&gt;$ | [img[Research\Images\2d Heis, E_b_ln.png]] | [img[Research\Images\2d Heis, E_a_ln.png]] | [img[Research\Images\2d Heis, E_c_ln.png]] |
| !$\log$&lt;br&gt;$ \left&lt;C\right&gt;$ | [img[Research\Images\2d Heis, C_b_ln.png]] | [img[Research\Images\2d Heis, C_a_ln.png]] | [img[Research\Images\2d Heis, C_c_ln.png]] |

!!Notes
*The $4^{\rm th}$ order energy cumulant for the Potts model appears to have no negative points, but I am fairly certain (based on other simulation data) that these points would be found if the temperature grid were finer.
*The cumulants were plotted by expanding the expression $Q_x^{(4)} = \left&lt;\left(x-\left&lt; x\right&gt;\right)^4\right&gt; - 3\left&lt;\left(x-\left&lt;x\right&gt;\right)^2\right&gt;^2 \; = \; \bigl&lt;x^4\bigr&gt;-3\left&lt;x^2\right&gt;^2-4\bigl&lt;x\bigr&gt;\left&lt;x^3\right&gt;+12\bigl&lt;x\bigr&gt;^2\left&lt;x^2\right&gt;-6\bigl&lt;x\bigr&gt;^4$.
*The [[Heisenberg Group]] appears to be unique from the [[clock model]] in its magnetic susceptibility in the quasi-liquid region of stability.  Since magnetic susceptibility can be shown to be the sum of correlation functions, as shown here ([[Ising Model]]), it follows that there is very strong correlation in the quasi-liquid region of the Heisenberg group. 

!!Files
*[[Download Data Files|Research\Data\Results2.rar]]
</pre>
</div>
<div title="Model Comparison Revision(0015)" modifier="Christopher Wilson" created="201404150753" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="14" content-type="text/x-tiddlywiki">
<pre>!!Simulation Results 
Comparison of the two-dimensional $q=8$ Clock Model and [[Potts Model]] with the [[Heisenberg Group]].

|centered|k
| !| !Heisenberg Group | !Clock Model | !Potts Model |
| !$ \left&lt;M\right&gt;$ | [img[Research\Images\2d Heis, M_b.png]] | [img[Research\Images\2d Heis, M_a.png]] | [img[Research\Images\2d Heis, M_c.png]] |
| !$\chi_M$ | [img[Research\Images\2d Heis, X_b.png]] | [img[Research\Images\2d Heis, X_a.png]] | [img[Research\Images\2d Heis, X_c.png]] |
| !$ \left&lt;H\right&gt;$ | [img[Research\Images\2d Heis, E_b.png]] | [img[Research\Images\2d Heis, E_a.png]] | [img[Research\Images\2d Heis, E_c.png]] |
| !$ c_N$ | [img[Research\Images\2d Heis, C_b.png]] | [img[Research\Images\2d Heis, C_a.png]] | [img[Research\Images\2d Heis, C_c.png]] |
| !$ (\Delta H)^2$ | [img[Research\Images\2d Heis, V_b.png]] | [img[Research\Images\2d Heis, V_a.png]] | [img[Research\Images\2d Heis, V_c.png]] |
| !$ Q_M^{(4)}$ | [img[Research\Images\2d Heis, M4_b.png]] | [img[Research\Images\2d Heis, M4_a.png]] | [img[Research\Images\2d Heis, M4_c.png]] |
| !$ Q_E^{(4)}$ | [img[Research\Images\2d Heis, E4_b.png]] | [img[Research\Images\2d Heis, E4_a.png]] | [img[Research\Images\2d Heis, E4_c.png]] |

!!Log-Log Plots
|centered|k
| !| !Heisenberg Group | !Clock Model | !Potts Model |
| !$\log$&lt;br&gt;$ \left&lt;M\right&gt;$ | [img[Research\Images\2d Heis, M_b_ln.png]] | [img[Research\Images\2d Heis, M_a_ln.png]] | [img[Research\Images\2d Heis, M_c_ln.png]] |
| !$\log$&lt;br&gt;$ \chi_M$ | [img[Research\Images\2d Heis, X_b_ln.png]] | [img[Research\Images\2d Heis, X_a_ln.png]] | [img[Research\Images\2d Heis, X_c_ln.png]] |
| !$\log$&lt;br&gt;$ \left&lt;H\right&gt;$ | [img[Research\Images\2d Heis, E_b_ln.png]] | [img[Research\Images\2d Heis, E_a_ln.png]] | [img[Research\Images\2d Heis, E_c_ln.png]] |
| !$\log$&lt;br&gt;$C$ | [img[Research\Images\2d Heis, C_b_ln.png]] | [img[Research\Images\2d Heis, C_a_ln.png]] | [img[Research\Images\2d Heis, C_c_ln.png]] |

!!Notes
*The $4^{\rm th}$ order energy cumulant for the Potts model appears to have no negative points, but I am fairly certain (based on other simulation data) that these points would be found if the temperature grid were finer.
*The cumulants were plotted by expanding the expression $Q_x^{(4)} = \left&lt;\left(x-\left&lt; x\right&gt;\right)^4\right&gt; - 3\left&lt;\left(x-\left&lt;x\right&gt;\right)^2\right&gt;^2 \; = \; \bigl&lt;x^4\bigr&gt;-3\left&lt;x^2\right&gt;^2-4\bigl&lt;x\bigr&gt;\left&lt;x^3\right&gt;+12\bigl&lt;x\bigr&gt;^2\left&lt;x^2\right&gt;-6\bigl&lt;x\bigr&gt;^4$.
*The [[Heisenberg Group]] appears to be unique from the [[clock model]] in its magnetic susceptibility in the quasi-liquid region of stability.  Since magnetic susceptibility can be shown to be the sum of correlation functions, as shown here ([[Ising Model]]), it follows that there is very strong correlation in the quasi-liquid region of the Heisenberg group. 

!!Files
*[[Download Data Files|Research\Data\Results2.rar]]
</pre>
</div>
<div title="Model Comparison Revision(0016)" modifier="Christopher Wilson" created="201404150754" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="15" content-type="text/x-tiddlywiki">
<pre>!!Simulation Results 
Comparison of the two-dimensional $q=8$ Clock Model and [[Potts Model]] with the [[Heisenberg Group]].

|centered|k
| !| !Heisenberg Group | !Clock Model | !Potts Model |
| !$ \left&lt;M\right&gt;$ | [img[Research\Images\2d Heis, M_b.png]] | [img[Research\Images\2d Heis, M_a.png]] | [img[Research\Images\2d Heis, M_c.png]] |
| !$\chi_M$ | [img[Research\Images\2d Heis, X_b.png]] | [img[Research\Images\2d Heis, X_a.png]] | [img[Research\Images\2d Heis, X_c.png]] |
| !$ \left&lt;H\right&gt;$ | [img[Research\Images\2d Heis, E_b.png]] | [img[Research\Images\2d Heis, E_a.png]] | [img[Research\Images\2d Heis, E_c.png]] |
| !$ c_N$ | [img[Research\Images\2d Heis, C_b.png]] | [img[Research\Images\2d Heis, C_a.png]] | [img[Research\Images\2d Heis, C_c.png]] |
| !$ (\Delta H)^2$ | [img[Research\Images\2d Heis, V_b.png]] | [img[Research\Images\2d Heis, V_a.png]] | [img[Research\Images\2d Heis, V_c.png]] |
| !$ Q_M^{(4)}$ | [img[Research\Images\2d Heis, M4_b.png]] | [img[Research\Images\2d Heis, M4_a.png]] | [img[Research\Images\2d Heis, M4_c.png]] |
| !$ Q_E^{(4)}$ | [img[Research\Images\2d Heis, E4_b.png]] | [img[Research\Images\2d Heis, E4_a.png]] | [img[Research\Images\2d Heis, E4_c.png]] |

!!Log-Log Plots
|centered|k
| !$\quad$| !Heisenberg Group | !Clock Model | !Potts Model |
| !$\log$&lt;br&gt;$ \left&lt;M\right&gt;$ | [img[Research\Images\2d Heis, M_b_ln.png]] | [img[Research\Images\2d Heis, M_a_ln.png]] | [img[Research\Images\2d Heis, M_c_ln.png]] |
| !$\log$&lt;br&gt;$ \chi_M$ | [img[Research\Images\2d Heis, X_b_ln.png]] | [img[Research\Images\2d Heis, X_a_ln.png]] | [img[Research\Images\2d Heis, X_c_ln.png]] |
| !$\log$&lt;br&gt;$ \left&lt;H\right&gt;$ | [img[Research\Images\2d Heis, E_b_ln.png]] | [img[Research\Images\2d Heis, E_a_ln.png]] | [img[Research\Images\2d Heis, E_c_ln.png]] |
| !$\log$&lt;br&gt;$C$ | [img[Research\Images\2d Heis, C_b_ln.png]] | [img[Research\Images\2d Heis, C_a_ln.png]] | [img[Research\Images\2d Heis, C_c_ln.png]] |

!!Notes
*The $4^{\rm th}$ order energy cumulant for the Potts model appears to have no negative points, but I am fairly certain (based on other simulation data) that these points would be found if the temperature grid were finer.
*The cumulants were plotted by expanding the expression $Q_x^{(4)} = \left&lt;\left(x-\left&lt; x\right&gt;\right)^4\right&gt; - 3\left&lt;\left(x-\left&lt;x\right&gt;\right)^2\right&gt;^2 \; = \; \bigl&lt;x^4\bigr&gt;-3\left&lt;x^2\right&gt;^2-4\bigl&lt;x\bigr&gt;\left&lt;x^3\right&gt;+12\bigl&lt;x\bigr&gt;^2\left&lt;x^2\right&gt;-6\bigl&lt;x\bigr&gt;^4$.
*The [[Heisenberg Group]] appears to be unique from the [[clock model]] in its magnetic susceptibility in the quasi-liquid region of stability.  Since magnetic susceptibility can be shown to be the sum of correlation functions, as shown here ([[Ising Model]]), it follows that there is very strong correlation in the quasi-liquid region of the Heisenberg group. 

!!Files
*[[Download Data Files|Research\Data\Results2.rar]]
</pre>
</div>
<div title="Model Comparison Revision(0017)" modifier="Christopher Wilson" created="201404150754" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="16" content-type="text/x-tiddlywiki">
<pre>!!Simulation Results 
Comparison of the two-dimensional $q=8$ Clock Model and [[Potts Model]] with the [[Heisenberg Group]].

|centered|k
| !| !Heisenberg Group | !Clock Model | !Potts Model |
| !$ \left&lt;M\right&gt;$ | [img[Research\Images\2d Heis, M_b.png]] | [img[Research\Images\2d Heis, M_a.png]] | [img[Research\Images\2d Heis, M_c.png]] |
| !$\chi_M$ | [img[Research\Images\2d Heis, X_b.png]] | [img[Research\Images\2d Heis, X_a.png]] | [img[Research\Images\2d Heis, X_c.png]] |
| !$ \left&lt;H\right&gt;$ | [img[Research\Images\2d Heis, E_b.png]] | [img[Research\Images\2d Heis, E_a.png]] | [img[Research\Images\2d Heis, E_c.png]] |
| !$ c_N$ | [img[Research\Images\2d Heis, C_b.png]] | [img[Research\Images\2d Heis, C_a.png]] | [img[Research\Images\2d Heis, C_c.png]] |
| !$ (\Delta H)^2$ | [img[Research\Images\2d Heis, V_b.png]] | [img[Research\Images\2d Heis, V_a.png]] | [img[Research\Images\2d Heis, V_c.png]] |
| !$ Q_M^{(4)}$ | [img[Research\Images\2d Heis, M4_b.png]] | [img[Research\Images\2d Heis, M4_a.png]] | [img[Research\Images\2d Heis, M4_c.png]] |
| !$ Q_E^{(4)}$ | [img[Research\Images\2d Heis, E4_b.png]] | [img[Research\Images\2d Heis, E4_a.png]] | [img[Research\Images\2d Heis, E4_c.png]] |

!!Log-Log Plots
|centered|k
| !$\qquad$| !Heisenberg Group | !Clock Model | !Potts Model |
| !$\log$&lt;br&gt;$ \left&lt;M\right&gt;$ | [img[Research\Images\2d Heis, M_b_ln.png]] | [img[Research\Images\2d Heis, M_a_ln.png]] | [img[Research\Images\2d Heis, M_c_ln.png]] |
| !$\log$&lt;br&gt;$ \chi_M$ | [img[Research\Images\2d Heis, X_b_ln.png]] | [img[Research\Images\2d Heis, X_a_ln.png]] | [img[Research\Images\2d Heis, X_c_ln.png]] |
| !$\log$&lt;br&gt;$ \left&lt;H\right&gt;$ | [img[Research\Images\2d Heis, E_b_ln.png]] | [img[Research\Images\2d Heis, E_a_ln.png]] | [img[Research\Images\2d Heis, E_c_ln.png]] |
| !$\log$&lt;br&gt;$C$ | [img[Research\Images\2d Heis, C_b_ln.png]] | [img[Research\Images\2d Heis, C_a_ln.png]] | [img[Research\Images\2d Heis, C_c_ln.png]] |

!!Notes
*The $4^{\rm th}$ order energy cumulant for the Potts model appears to have no negative points, but I am fairly certain (based on other simulation data) that these points would be found if the temperature grid were finer.
*The cumulants were plotted by expanding the expression $Q_x^{(4)} = \left&lt;\left(x-\left&lt; x\right&gt;\right)^4\right&gt; - 3\left&lt;\left(x-\left&lt;x\right&gt;\right)^2\right&gt;^2 \; = \; \bigl&lt;x^4\bigr&gt;-3\left&lt;x^2\right&gt;^2-4\bigl&lt;x\bigr&gt;\left&lt;x^3\right&gt;+12\bigl&lt;x\bigr&gt;^2\left&lt;x^2\right&gt;-6\bigl&lt;x\bigr&gt;^4$.
*The [[Heisenberg Group]] appears to be unique from the [[clock model]] in its magnetic susceptibility in the quasi-liquid region of stability.  Since magnetic susceptibility can be shown to be the sum of correlation functions, as shown here ([[Ising Model]]), it follows that there is very strong correlation in the quasi-liquid region of the Heisenberg group. 

!!Files
*[[Download Data Files|Research\Data\Results2.rar]]
</pre>
</div>
<div title="Model Comparison Revision(0018)" modifier="Christopher Wilson" created="201404150757" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="17" content-type="text/x-tiddlywiki">
<pre>{{sectionTOC{}}}
!!Simulation Results 
Comparison of the two-dimensional $q=8$ Clock Model and [[Potts Model]] with the [[Heisenberg Group]].

|centered|k
| !| !Heisenberg Group | !Clock Model | !Potts Model |
| !$ \left&lt;M\right&gt;$ | [img[Research\Images\2d Heis, M_b.png]] | [img[Research\Images\2d Heis, M_a.png]] | [img[Research\Images\2d Heis, M_c.png]] |
| !$\chi_M$ | [img[Research\Images\2d Heis, X_b.png]] | [img[Research\Images\2d Heis, X_a.png]] | [img[Research\Images\2d Heis, X_c.png]] |
| !$ \left&lt;H\right&gt;$ | [img[Research\Images\2d Heis, E_b.png]] | [img[Research\Images\2d Heis, E_a.png]] | [img[Research\Images\2d Heis, E_c.png]] |
| !$ c_N$ | [img[Research\Images\2d Heis, C_b.png]] | [img[Research\Images\2d Heis, C_a.png]] | [img[Research\Images\2d Heis, C_c.png]] |
| !$ (\Delta H)^2$ | [img[Research\Images\2d Heis, V_b.png]] | [img[Research\Images\2d Heis, V_a.png]] | [img[Research\Images\2d Heis, V_c.png]] |
| !$ Q_M^{(4)}$ | [img[Research\Images\2d Heis, M4_b.png]] | [img[Research\Images\2d Heis, M4_a.png]] | [img[Research\Images\2d Heis, M4_c.png]] |
| !$ Q_E^{(4)}$ | [img[Research\Images\2d Heis, E4_b.png]] | [img[Research\Images\2d Heis, E4_a.png]] | [img[Research\Images\2d Heis, E4_c.png]] |

!!Log-Log Plots
|centered|k
| !$\qquad$| !Heisenberg Group | !Clock Model | !Potts Model |
| !$\log$&lt;br&gt;$ \left&lt;M\right&gt;$ | [img[Research\Images\2d Heis, M_b_ln.png]] | [img[Research\Images\2d Heis, M_a_ln.png]] | [img[Research\Images\2d Heis, M_c_ln.png]] |
| !$\log$&lt;br&gt;$ \chi_M$ | [img[Research\Images\2d Heis, X_b_ln.png]] | [img[Research\Images\2d Heis, X_a_ln.png]] | [img[Research\Images\2d Heis, X_c_ln.png]] |
| !$\log$&lt;br&gt;$ \left&lt;H\right&gt;$ | [img[Research\Images\2d Heis, E_b_ln.png]] | [img[Research\Images\2d Heis, E_a_ln.png]] | [img[Research\Images\2d Heis, E_c_ln.png]] |
| !$\log$&lt;br&gt;$C$ | [img[Research\Images\2d Heis, C_b_ln.png]] | [img[Research\Images\2d Heis, C_a_ln.png]] | [img[Research\Images\2d Heis, C_c_ln.png]] |

!!Notes
*The $4^{\rm th}$ order energy cumulant for the Potts model appears to have no negative points, but I am fairly certain (based on other simulation data) that these points would be found if the temperature grid were finer.
*The cumulants were plotted by expanding the expression $Q_x^{(4)} = \left&lt;\left(x-\left&lt; x\right&gt;\right)^4\right&gt; - 3\left&lt;\left(x-\left&lt;x\right&gt;\right)^2\right&gt;^2 \; = \; \bigl&lt;x^4\bigr&gt;-3\left&lt;x^2\right&gt;^2-4\bigl&lt;x\bigr&gt;\left&lt;x^3\right&gt;+12\bigl&lt;x\bigr&gt;^2\left&lt;x^2\right&gt;-6\bigl&lt;x\bigr&gt;^4$.
*The [[Heisenberg Group]] appears to be unique from the [[clock model]] in its magnetic susceptibility in the quasi-liquid region of stability.  Since magnetic susceptibility can be shown to be the sum of correlation functions, as shown here ([[Ising Model]]), it follows that there is very strong correlation in the quasi-liquid region of the Heisenberg group. 

!!Files
*[[Download Data Files|Research\Data\Results2.rar]]
&lt;&lt;sectionTOC&gt;&gt;</pre>
</div>
<div title="Model Comparison Revision(0019)" modifier="Christopher Wilson" created="201404150757" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="18" content-type="text/x-tiddlywiki">
<pre>{{sectionTOC{}}}
!!Simulation Results 
Comparison of the two-dimensional $q=8$ Clock Model and [[Potts Model]] with the [[Heisenberg Group]].

|centered|k
| !| !Heisenberg Group | !Clock Model | !Potts Model |
| !$ \left&lt;M\right&gt;$ | [img[Research\Images\2d Heis, M_b.png]] | [img[Research\Images\2d Heis, M_a.png]] | [img[Research\Images\2d Heis, M_c.png]] |
| !$\chi_M$ | [img[Research\Images\2d Heis, X_b.png]] | [img[Research\Images\2d Heis, X_a.png]] | [img[Research\Images\2d Heis, X_c.png]] |
| !$ \left&lt;H\right&gt;$ | [img[Research\Images\2d Heis, E_b.png]] | [img[Research\Images\2d Heis, E_a.png]] | [img[Research\Images\2d Heis, E_c.png]] |
| !$ c_N$ | [img[Research\Images\2d Heis, C_b.png]] | [img[Research\Images\2d Heis, C_a.png]] | [img[Research\Images\2d Heis, C_c.png]] |
| !$ (\Delta H)^2$ | [img[Research\Images\2d Heis, V_b.png]] | [img[Research\Images\2d Heis, V_a.png]] | [img[Research\Images\2d Heis, V_c.png]] |
| !$ Q_M^{(4)}$ | [img[Research\Images\2d Heis, M4_b.png]] | [img[Research\Images\2d Heis, M4_a.png]] | [img[Research\Images\2d Heis, M4_c.png]] |
| !$ Q_E^{(4)}$ | [img[Research\Images\2d Heis, E4_b.png]] | [img[Research\Images\2d Heis, E4_a.png]] | [img[Research\Images\2d Heis, E4_c.png]] |

!!Log-Log Plots

|centered|k
| !$\qquad$| !Heisenberg Group | !Clock Model | !Potts Model |
| !$\log$&lt;br&gt;$ \left&lt;M\right&gt;$ | [img[Research\Images\2d Heis, M_b_ln.png]] | [img[Research\Images\2d Heis, M_a_ln.png]] | [img[Research\Images\2d Heis, M_c_ln.png]] |
| !$\log$&lt;br&gt;$ \chi_M$ | [img[Research\Images\2d Heis, X_b_ln.png]] | [img[Research\Images\2d Heis, X_a_ln.png]] | [img[Research\Images\2d Heis, X_c_ln.png]] |
| !$\log$&lt;br&gt;$ \left&lt;H\right&gt;$ | [img[Research\Images\2d Heis, E_b_ln.png]] | [img[Research\Images\2d Heis, E_a_ln.png]] | [img[Research\Images\2d Heis, E_c_ln.png]] |
| !$\log$&lt;br&gt;$C$ | [img[Research\Images\2d Heis, C_b_ln.png]] | [img[Research\Images\2d Heis, C_a_ln.png]] | [img[Research\Images\2d Heis, C_c_ln.png]] |

!!Notes
*The $4^{\rm th}$ order energy cumulant for the Potts model appears to have no negative points, but I am fairly certain (based on other simulation data) that these points would be found if the temperature grid were finer.
*The cumulants were plotted by expanding the expression $Q_x^{(4)} = \left&lt;\left(x-\left&lt; x\right&gt;\right)^4\right&gt; - 3\left&lt;\left(x-\left&lt;x\right&gt;\right)^2\right&gt;^2 \; = \; \bigl&lt;x^4\bigr&gt;-3\left&lt;x^2\right&gt;^2-4\bigl&lt;x\bigr&gt;\left&lt;x^3\right&gt;+12\bigl&lt;x\bigr&gt;^2\left&lt;x^2\right&gt;-6\bigl&lt;x\bigr&gt;^4$.
*The [[Heisenberg Group]] appears to be unique from the [[clock model]] in its magnetic susceptibility in the quasi-liquid region of stability.  Since magnetic susceptibility can be shown to be the sum of correlation functions, as shown here ([[Ising Model]]), it follows that there is very strong correlation in the quasi-liquid region of the Heisenberg group. 

!!Files
*[[Download Data Files|Research\Data\Results2.rar]]
&lt;&lt;sectionTOC&gt;&gt;</pre>
</div>
<div title="Model Comparison Revision(0020)" modifier="Christopher Wilson" created="201404160113" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="19" content-type="text/x-tiddlywiki">
<pre>{{sectionTOC{}}}
!!Simulation Results 
Comparison of the two-dimensional $q=8$ Clock Model and [[Potts Model]] with the [[Heisenberg Group]].

|centered|k
| !| !Heisenberg Group | !Clock Model | !Potts Model |
| !$ \left&lt;M\right&gt;$ | [img[Research\Images\2d Heis, M_b.png]] | [img[Research\Images\2d Heis, M_a.png]] | [img[Research\Images\2d Heis, M_c.png]] |
| !$\chi_M$ | [img[Research\Images\2d Heis, X_b.png]] | [img[Research\Images\2d Heis, X_a.png]] | [img[Research\Images\2d Heis, X_c.png]] |
| !$ \left&lt;H\right&gt;$ | [img[Research\Images\2d Heis, E_b.png]] | [img[Research\Images\2d Heis, E_a.png]] | [img[Research\Images\2d Heis, E_c.png]] |
| !$ c_N$ | [img[Research\Images\2d Heis, C_b.png]] | [img[Research\Images\2d Heis, C_a.png]] | [img[Research\Images\2d Heis, C_c.png]] |
| !$ (\Delta H)^2$ | [img[Research\Images\2d Heis, V_b.png]] | [img[Research\Images\2d Heis, V_a.png]] | [img[Research\Images\2d Heis, V_c.png]] |
| !$ Q_M^{(4)}$ | [img[Research\Images\2d Heis, M4_b.png]] | [img[Research\Images\2d Heis, M4_a.png]] | [img[Research\Images\2d Heis, M4_c.png]] |
| !$ Q_E^{(4)}$ | [img[Research\Images\2d Heis, E4_b.png]] | [img[Research\Images\2d Heis, E4_a.png]] | [img[Research\Images\2d Heis, E4_c.png]] |

!!Log-Log Plots

|centered|k
| !$\qquad$| !Heisenberg Group | !Clock Model | !Potts Model |
| !$\log$&lt;br&gt;$ \left&lt;M\right&gt;$ | [img[Research\Images\2d Heis, M_b_ln.png]] | [img[Research\Images\2d Heis, M_a_ln.png]] | [img[Research\Images\2d Heis, M_c_ln.png]] |
| !$\log$&lt;br&gt;$ \chi_M$ | [img[Research\Images\2d Heis, X_b_ln.png]] | [img[Research\Images\2d Heis, X_a_ln.png]] | [img[Research\Images\2d Heis, X_c_ln.png]] |
| !$\log$&lt;br&gt;$ \left&lt;H\right&gt;$ | [img[Research\Images\2d Heis, E_b_ln.png]] | [img[Research\Images\2d Heis, E_a_ln.png]] | [img[Research\Images\2d Heis, E_c_ln.png]] |
| !$\log$&lt;br&gt;$C$ | [img[Research\Images\2d Heis, C_b_ln.png]] | [img[Research\Images\2d Heis, C_a_ln.png]] | [img[Research\Images\2d Heis, C_c_ln.png]] |

!!Notes
*The $4^{\rm th}$ order energy cumulant for the Potts model appears to have no negative points, but I am fairly certain (based on other simulation data) that these points would be found if the temperature grid were finer.
*The cumulants were plotted by expanding the expression $Q_x^{(4)} = \left&lt;\left(x-\left&lt; x\right&gt;\right)^4\right&gt; - 3\left&lt;\left(x-\left&lt;x\right&gt;\right)^2\right&gt;^2 \; = \; \bigl&lt;x^4\bigr&gt;-3\left&lt;x^2\right&gt;^2-4\bigl&lt;x\bigr&gt;\left&lt;x^3\right&gt;+12\bigl&lt;x\bigr&gt;^2\left&lt;x^2\right&gt;-6\bigl&lt;x\bigr&gt;^4$.
*The [[Heisenberg Group]] appears to be unique from the [[clock model]] in its magnetic susceptibility in the quasi-liquid region of stability.  Since magnetic susceptibility can be shown to be the sum of correlation functions, as shown here ([[Ising Model]]), it follows that there is very strong correlation in the quasi-liquid region of the Heisenberg group. 

!!Files
*[[Download Data Files|Research\Data\Results2.rar]]
&lt;&lt;sectionTOC&gt;&gt;</pre>
</div>
<div title="Model Comparison Revision(0021)" modifier="Christopher Wilson" created="201404200622" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="20" content-type="text/x-tiddlywiki">
<pre>{{sectionTOC{}}}
!!Simulation Results 
Comparison of the two-dimensional $q=8$ Clock Model and [[Potts Model]].

|centered|k
| !|  !Clock Model | !Potts Model |
| !$ \left&lt;M\right&gt;$ | [img[Research\Images\2d Heis, M_a.png]] | [img[Research\Images\2d Heis, M_c.png]] |
| !$\chi_M$ | [img[Research\Images\2d Heis, X_a.png]] | [img[Research\Images\2d Heis, X_c.png]] |
| !$ \left&lt;H\right&gt;$ |  [img[Research\Images\2d Heis, E_a.png]] | [img[Research\Images\2d Heis, E_c.png]] |
| !$ c_N$ | [img[Research\Images\2d Heis, C_a.png]] | [img[Research\Images\2d Heis, C_c.png]] |
| !$ (\Delta H)^2$ | [img[Research\Images\2d Heis, V_a.png]] | [img[Research\Images\2d Heis, V_c.png]] |
| !$ Q_M^{(4)}$ | [img[Research\Images\2d Heis, M4_a.png]] | [img[Research\Images\2d Heis, M4_c.png]] |
| !$ Q_E^{(4)}$ | [img[Research\Images\2d Heis, E4_a.png]] | [img[Research\Images\2d Heis, E4_c.png]] |

!!Log-Log Plots

|centered|k
| !$\qquad$| !Clock Model | !Potts Model |
| !$\log$&lt;br&gt;$ \left&lt;M\right&gt;$ | [img[Research\Images\2d Heis, M_a_ln.png]] | [img[Research\Images\2d Heis, M_c_ln.png]] |
| !$\log$&lt;br&gt;$ \chi_M$ | [img[Research\Images\2d Heis, X_a_ln.png]] | [img[Research\Images\2d Heis, X_c_ln.png]] |
| !$\log$&lt;br&gt;$ \left&lt;H\right&gt;$ | [img[Research\Images\2d Heis, E_a_ln.png]] | [img[Research\Images\2d Heis, E_c_ln.png]] |
| !$\log$&lt;br&gt;$C$ | [img[Research\Images\2d Heis, C_a_ln.png]] | [img[Research\Images\2d Heis, C_c_ln.png]] |

!!Notes
*The $4^{\rm th}$ order energy cumulant for the Potts model appears to have no negative points, but I am fairly certain (based on other simulation data) that these points would be found if the temperature grid were finer.
*The cumulants were plotted by expanding the expression $Q_x^{(4)} = \left&lt;\left(x-\left&lt; x\right&gt;\right)^4\right&gt; - 3\left&lt;\left(x-\left&lt;x\right&gt;\right)^2\right&gt;^2 \; = \; \bigl&lt;x^4\bigr&gt;-3\left&lt;x^2\right&gt;^2-4\bigl&lt;x\bigr&gt;\left&lt;x^3\right&gt;+12\bigl&lt;x\bigr&gt;^2\left&lt;x^2\right&gt;-6\bigl&lt;x\bigr&gt;^4$.

!!Files
*[[Download Data Files|Research\Data\Results2.rar]]
&lt;&lt;sectionTOC&gt;&gt;</pre>
</div>
<div title="Model Comparison Revision(0022)" modifier="Christopher Wilson" created="201404200623" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="21" content-type="text/x-tiddlywiki">
<pre>{{sectionTOC{}}}
!!Simulation Results 
Comparison of the two-dimensional $q=8$ [[Clock Model]] and [[Potts Model]].

|centered|k
| !|  !Clock Model | !Potts Model |
| !$ \left&lt;M\right&gt;$ | [img[Research\Images\2d Heis, M_a.png]] | [img[Research\Images\2d Heis, M_c.png]] |
| !$\chi_M$ | [img[Research\Images\2d Heis, X_a.png]] | [img[Research\Images\2d Heis, X_c.png]] |
| !$ \left&lt;H\right&gt;$ |  [img[Research\Images\2d Heis, E_a.png]] | [img[Research\Images\2d Heis, E_c.png]] |
| !$ c_N$ | [img[Research\Images\2d Heis, C_a.png]] | [img[Research\Images\2d Heis, C_c.png]] |
| !$ (\Delta H)^2$ | [img[Research\Images\2d Heis, V_a.png]] | [img[Research\Images\2d Heis, V_c.png]] |
| !$ Q_M^{(4)}$ | [img[Research\Images\2d Heis, M4_a.png]] | [img[Research\Images\2d Heis, M4_c.png]] |
| !$ Q_E^{(4)}$ | [img[Research\Images\2d Heis, E4_a.png]] | [img[Research\Images\2d Heis, E4_c.png]] |

!!Log-Log Plots

|centered|k
| !$\qquad$| !Clock Model | !Potts Model |
| !$\log$&lt;br&gt;$ \left&lt;M\right&gt;$ | [img[Research\Images\2d Heis, M_a_ln.png]] | [img[Research\Images\2d Heis, M_c_ln.png]] |
| !$\log$&lt;br&gt;$ \chi_M$ | [img[Research\Images\2d Heis, X_a_ln.png]] | [img[Research\Images\2d Heis, X_c_ln.png]] |
| !$\log$&lt;br&gt;$ \left&lt;H\right&gt;$ | [img[Research\Images\2d Heis, E_a_ln.png]] | [img[Research\Images\2d Heis, E_c_ln.png]] |
| !$\log$&lt;br&gt;$C$ | [img[Research\Images\2d Heis, C_a_ln.png]] | [img[Research\Images\2d Heis, C_c_ln.png]] |

!!Notes
*The $4^{\rm th}$ order energy cumulant for the Potts model appears to have no negative points, but I am fairly certain (based on other simulation data) that these points would be found if the temperature grid were finer.
*The cumulants were plotted by expanding the expression $Q_x^{(4)} = \left&lt;\left(x-\left&lt; x\right&gt;\right)^4\right&gt; - 3\left&lt;\left(x-\left&lt;x\right&gt;\right)^2\right&gt;^2 \; = \; \bigl&lt;x^4\bigr&gt;-3\left&lt;x^2\right&gt;^2-4\bigl&lt;x\bigr&gt;\left&lt;x^3\right&gt;+12\bigl&lt;x\bigr&gt;^2\left&lt;x^2\right&gt;-6\bigl&lt;x\bigr&gt;^4$.

!!Files
*[[Download Data Files|Research\Data\Results2.rar]]
&lt;&lt;sectionTOC&gt;&gt;</pre>
</div>
<div title="Model Comparison Revision(0023)" modifier="Christopher Wilson" created="201404200623" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="22" content-type="text/x-tiddlywiki">
<pre>{{sectionTOC{}}}
!!Simulation Results 
Comparison of the two-dimensional $q=8$ [[Clock Model]] and [[Potts Model]].

|centered|k
| !|  !Clock Model | !Potts Model |
| !$ \left&lt;M\right&gt;$ | [img[Research\Images\2d Heis, M_a.png]] | [img[Research\Images\2d Heis, M_c.png]] |
| !$\chi_M$ | [img[Research\Images\2d Heis, X_a.png]] | [img[Research\Images\2d Heis, X_c.png]] |
| !$ \left&lt;H\right&gt;$ |  [img[Research\Images\2d Heis, E_a.png]] | [img[Research\Images\2d Heis, E_c.png]] |
| !$ c_N$ | [img[Research\Images\2d Heis, C_a.png]] | [img[Research\Images\2d Heis, C_c.png]] |
| !$ (\Delta H)^2$ | [img[Research\Images\2d Heis, V_a.png]] | [img[Research\Images\2d Heis, V_c.png]] |
| !$ Q_M^{(4)}$ | [img[Research\Images\2d Heis, M4_a.png]] | [img[Research\Images\2d Heis, M4_c.png]] |
| !$ Q_E^{(4)}$ | [img[Research\Images\2d Heis, E4_a.png]] | [img[Research\Images\2d Heis, E4_c.png]] |

!!Log-Log Plots

|centered|k
| !$\qquad\qquad$| !Clock Model | !Potts Model |
| !$\log$&lt;br&gt;$ \left&lt;M\right&gt;$ | [img[Research\Images\2d Heis, M_a_ln.png]] | [img[Research\Images\2d Heis, M_c_ln.png]] |
| !$\log$&lt;br&gt;$ \chi_M$ | [img[Research\Images\2d Heis, X_a_ln.png]] | [img[Research\Images\2d Heis, X_c_ln.png]] |
| !$\log$&lt;br&gt;$ \left&lt;H\right&gt;$ | [img[Research\Images\2d Heis, E_a_ln.png]] | [img[Research\Images\2d Heis, E_c_ln.png]] |
| !$\log$&lt;br&gt;$C$ | [img[Research\Images\2d Heis, C_a_ln.png]] | [img[Research\Images\2d Heis, C_c_ln.png]] |

!!Notes
*The $4^{\rm th}$ order energy cumulant for the Potts model appears to have no negative points, but I am fairly certain (based on other simulation data) that these points would be found if the temperature grid were finer.
*The cumulants were plotted by expanding the expression $Q_x^{(4)} = \left&lt;\left(x-\left&lt; x\right&gt;\right)^4\right&gt; - 3\left&lt;\left(x-\left&lt;x\right&gt;\right)^2\right&gt;^2 \; = \; \bigl&lt;x^4\bigr&gt;-3\left&lt;x^2\right&gt;^2-4\bigl&lt;x\bigr&gt;\left&lt;x^3\right&gt;+12\bigl&lt;x\bigr&gt;^2\left&lt;x^2\right&gt;-6\bigl&lt;x\bigr&gt;^4$.

!!Files
*[[Download Data Files|Research\Data\Results2.rar]]
&lt;&lt;sectionTOC&gt;&gt;</pre>
</div>
<div title="More graph3d.js Plots" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405190736" modified="201405190814" tags="example excludeTimeline" content-type="text/x-tiddlywiki" alias="" changecount="16">
<pre>&lt;html&gt;&lt;iframe src=&quot;graph3d\examples\example08_moving_dots.html&quot; width=&quot;100%&quot; height=&quot;640&quot;  style=&quot;border: none;&quot;&gt;&lt;/iframe&gt;&lt;/html&gt;
&lt;html&gt;&lt;iframe src=&quot;graph3d\examples\example09_dot_cloud_colors.html&quot; width=&quot;100%&quot; height=&quot;640&quot;  style=&quot;border: none;&quot;&gt;&lt;/iframe&gt;&lt;/html&gt;</pre>
</div>
<div title="MptwBlack" modifier="Christopher Wilson" created="201004041423" modified="201404121910" tags="excludeTimeline systemPalette" content-type="" changecount="4">
<pre>Name: MptwBlack
Background: #000
Foreground: #fff
PrimaryPale: #333
PrimaryLight: #555
PrimaryMid: #888
PrimaryDark: #aaa
SecondaryPale: #111
SecondaryLight: #222
SecondaryMid: #555
SecondaryDark: #888
TertiaryPale: #222
TertiaryLight: #666
TertiaryMid: #888
TertiaryDark: #aaa
Error: #300

</pre>
</div>
<div title="MptwBlue" modifier="Christopher Wilson" created="201004041418" modified="201404110522" tags="systemPalette excludeTimeline">
<pre>Name: MptwBlue
Background: #fff
Foreground: #000
PrimaryPale: #cdf
PrimaryLight: #57c
PrimaryMid: #225
PrimaryDark: #012
SecondaryPale: #ffc
SecondaryLight: #fe8
SecondaryMid: #db4
SecondaryDark: #841
TertiaryPale: #eee
TertiaryLight: #ccc
TertiaryMid: #999
TertiaryDark: #666
Error: #f88

</pre>
</div>
<div title="MptwCollapsePlugin" modifier="Christopher Wilson" created="201404121453" modified="201404121533" tags="systemConfig excludeTimeline excludeLists excludeSearch Mptw" changecount="6" content-type="application/json">
<pre>//{{{
// Pretty sure this is incomplete and experimental
// TODO: Fix it or remove it.

(function($){

merge(config.macros,{
  mptwCollapse: {
    handler: function(place,macroName,params) {
      createTiddlyButton(place, params[0] == '+' ? '\u25AD' : '\u25AC', 'collapse/uncollapse', function(){
        $(story.findContainingTiddler(place)).toggleClass('collapsed');
      });
    }
  }
});

/* this doesn't work unless you have a modified ViewTempate */
config.shadowTiddlers[&quot;MptwCollapsePluginStyles&quot;] = &quot;&quot;
  +&quot;.collapsed .uncollapsedView { display:none;       }&quot;
  +&quot;.collapsedView              { display:none;       }&quot;
  +&quot;.collapsed .collapsedView   { display:block;      }&quot;
  +&quot;.tiddler.collapsed          { padding-bottom:1em; }&quot;
  +&quot;.tiddler.collapsed .title   { font-size:100%;     }&quot;
;

store.addNotification(&quot;MptwCollapsePluginStyles&quot;,refreshStyles);

})(jQuery);

//}}}
</pre>
</div>
<div title="MptwGreen" modifier="Christopher Wilson" created="201004041418" modified="201305222316" tags="excludeTimeline systemPalette" changecount="3">
<pre>Name: MptwGreen
Background: #fff
Foreground: #000
PrimaryPale: #9b9
PrimaryLight: #385
PrimaryMid: #031
PrimaryDark: #020
SecondaryPale: #ffc
SecondaryLight: #fe8
SecondaryMid: #db4
SecondaryDark: #841
TertiaryPale: #eee
TertiaryLight: #ccc
TertiaryMid: #999
TertiaryDark: #666
Error: #f88

</pre>
</div>
<div title="MptwRed" modifier="Christopher Wilson" created="201004041418" modified="201305222316" tags="excludeTimeline systemPalette" changecount="3">
<pre>Name: MptwRed
Background: #fff
Foreground: #000
PrimaryPale: #eaa
PrimaryLight: #c55
PrimaryMid: #711
PrimaryDark: #500
SecondaryPale: #ffc
SecondaryLight: #fe8
SecondaryMid: #db4
SecondaryDark: #841
TertiaryPale: #eee
TertiaryLight: #ccc
TertiaryMid: #999
TertiaryDark: #666
Error: #f88

</pre>
</div>
<div title="MptwSmoke" modifier="Christopher Wilson" created="201004041418" modified="201305222316" tags="excludeTimeline systemPalette" changecount="3">
<pre>Name: MptwSmoke
Background: #fff
Foreground: #000
PrimaryPale: #aaa
PrimaryLight: #777
PrimaryMid: #111
PrimaryDark: #000
SecondaryPale: #ffc
SecondaryLight: #fe8
SecondaryMid: #db4
SecondaryDark: #841
TertiaryPale: #eee
TertiaryLight: #ccc
TertiaryMid: #999
TertiaryDark: #666
Error: #f88

</pre>
</div>
<div title="MptwTeal" modifier="Christopher Wilson" created="201004041418" modified="201305222316" tags="excludeTimeline systemPalette" changecount="3">
<pre>Name: MptwTeal
Background: #fff
Foreground: #000
PrimaryPale: #B5D1DF
PrimaryLight: #618FA9
PrimaryMid: #1a3844
PrimaryDark: #000
SecondaryPale: #ffc
SecondaryLight: #fe8
SecondaryMid: #db4
SecondaryDark: #841
TertiaryPale: #f8f8f8
TertiaryLight: #bbb
TertiaryMid: #999
TertiaryDark: #888
Error: #f88
</pre>
</div>
<div title="MptwTiddlyWiki" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404121340" modified="201405050833" tags="systemPalette excludeTimeline" changecount="6" content-type="">
<pre>Background: #fff
Foreground: #000
PrimaryPale: #aef
PrimaryLight: #8ad
PrimaryMid: #38c
PrimaryDark: #026
SecondaryPale: #ffc
SecondaryLight: #fe8
SecondaryMid: #db4
SecondaryDark: #841
TertiaryPale: #eee
TertiaryLight: #ccc
TertiaryMid: #999
TertiaryDark: #666
QuaternaryPale: #cf8
QuaternaryLight: #8f1
QuaternaryMid: #4b0
QuaternaryDark: #140
Error: #f88
</pre>
</div>
<div title="NestedSlidersPlugin" modifier="Christopher Wilson" created="201305222324" modified="201305222325" tags="systemConfig excludeTimeline" content-type="" changecount="4">
<pre>/***
|Name|NestedSlidersPlugin|
|Source|http://www.TiddlyTools.com/#NestedSlidersPlugin|
|Documentation|http://www.TiddlyTools.com/#NestedSlidersPluginInfo|
|Version|2.4.9|
|Author|Eric Shulman|
|License|http://www.TiddlyTools.com/#LegalStatements|
|~CoreVersion|2.1|
|Type|plugin|
|Description|show content in nest-able sliding/floating panels, without creating separate tiddlers for each panel's content|
!!!!!Documentation
&gt;see [[NestedSlidersPluginInfo]]
!!!!!Configuration
&lt;&lt;&lt;
&lt;&lt;option chkFloatingSlidersAnimate&gt;&gt; allow floating sliders to animate when opening/closing
&gt;Note: This setting can cause 'clipping' problems in some versions of InternetExplorer.
&gt;In addition, for floating slider animation to occur you must also allow animation in general (see [[AdvancedOptions]]).
&lt;&lt;&lt;
!!!!!Revisions
&lt;&lt;&lt;
2008.11.15 - 2.4.9 in adjustNestedSlider(), don't make adjustments if panel is marked as 'undocked' (CSS class).  In onClickNestedSlider(), SHIFT-CLICK docks panel (see [[MoveablePanelPlugin]])
|please see [[NestedSlidersPluginInfo]] for additional revision details|
2005.11.03 - 1.0.0 initial public release.  Thanks to RodneyGomes, GeoffSlocock, and PaulPetterson for suggestions and experiments.
&lt;&lt;&lt;
!!!!!Code
***/
//{{{
version.extensions.NestedSlidersPlugin= {major: 2, minor: 4, revision: 9, date: new Date(2008,11,15)};

// options for deferred rendering of sliders that are not initially displayed
if (config.options.chkFloatingSlidersAnimate===undefined)
	config.options.chkFloatingSlidersAnimate=false; // avoid clipping problems in IE

// default styles for 'floating' class
setStylesheet(&quot;.floatingPanel { position:absolute; z-index:10; padding:0.5em; margin:0em; \
	background-color:#eee; color:#000; border:1px solid #000; text-align:left; }&quot;,&quot;floatingPanelStylesheet&quot;);

// if removeCookie() function is not defined by TW core, define it here.
if (window.removeCookie===undefined) {
	window.removeCookie=function(name) {
		document.cookie = name+'=; expires=Thu, 01-Jan-1970 00:00:01 UTC; path=/;'; 
	}
}

config.formatters.push( {
	name: &quot;nestedSliders&quot;,
	//match: &quot;\\n?\\+{3}&quot;,
	match: &quot;\\+{3}&quot;,
	terminator: &quot;\\s*\\={3}\\n?&quot;,
	lookahead: &quot;\\n?\\+{3}(\\+)?(\\([^\\)]*\\))?(\\!*)?(\\^(?:[^\\^\\*\\@\\[\\&gt;]*\\^)?)?(\\*)?(\\@)?(?:\\{\\{([\\w]+[\\s\\w]*)\\{)?(\\[[^\\]]*\\])?(\\[[^\\]]*\\])?(?:\\}{3})?(\\#[^:]*\\:)?(\\&gt;)?(\\.\\.\\.)?\\s*&quot;,
	handler: function(w)
		{
			lookaheadRegExp = new RegExp(this.lookahead,&quot;mg&quot;);
			lookaheadRegExp.lastIndex = w.matchStart;
			var lookaheadMatch = lookaheadRegExp.exec(w.source)
			if(lookaheadMatch &amp;&amp; lookaheadMatch.index == w.matchStart)
			{
				var defopen=lookaheadMatch[1];
				var cookiename=lookaheadMatch[2];
				var header=lookaheadMatch[3];
				var panelwidth=lookaheadMatch[4];
				var transient=lookaheadMatch[5];
				var hover=lookaheadMatch[6];
				var buttonClass=lookaheadMatch[7];
				var label=lookaheadMatch[8];
				var openlabel=lookaheadMatch[9];
				var panelID=lookaheadMatch[10];
				var blockquote=lookaheadMatch[11];
				var deferred=lookaheadMatch[12];

				// location for rendering button and panel
				var place=w.output;

				// default to closed, no cookie, no accesskey, no alternate text/tip
				var show=&quot;none&quot;; var cookie=&quot;&quot;; var key=&quot;&quot;;
				var closedtext=&quot;&gt;&quot;; var closedtip=&quot;&quot;;
				var openedtext=&quot;&lt;&quot;; var openedtip=&quot;&quot;;

				// extra &quot;+&quot;, default to open
				if (defopen) show=&quot;block&quot;;

				// cookie, use saved open/closed state
				if (cookiename) {
					cookie=cookiename.trim().slice(1,-1);
					cookie=&quot;chkSlider&quot;+cookie;
					if (config.options[cookie]==undefined)
						{ config.options[cookie] = (show==&quot;block&quot;) }
					show=config.options[cookie]?&quot;block&quot;:&quot;none&quot;;
				}

				// parse label/tooltip/accesskey: [label=X|tooltip]
				if (label) {
					var parts=label.trim().slice(1,-1).split(&quot;|&quot;);
					closedtext=parts.shift();
					if (closedtext.substr(closedtext.length-2,1)==&quot;=&quot;)	
						{ key=closedtext.substr(closedtext.length-1,1); closedtext=closedtext.slice(0,-2); }
					openedtext=closedtext;
					if (parts.length) closedtip=openedtip=parts.join(&quot;|&quot;);
					else { closedtip=&quot;show &quot;+closedtext; openedtip=&quot;hide &quot;+closedtext; }
				}

				// parse alternate label/tooltip: [label|tooltip]
				if (openlabel) {
					var parts=openlabel.trim().slice(1,-1).split(&quot;|&quot;);
					openedtext=parts.shift();
					if (parts.length) openedtip=parts.join(&quot;|&quot;);
					else openedtip=&quot;hide &quot;+openedtext;
				}

				var title=show=='block'?openedtext:closedtext;
				var tooltip=show=='block'?openedtip:closedtip;

				// create the button
				if (header) { // use &quot;Hn&quot; header format instead of button/link
					var lvl=(header.length&gt;5)?5:header.length;
					var btn = createTiddlyElement(createTiddlyElement(place,&quot;h&quot;+lvl,null,null,null),&quot;a&quot;,null,buttonClass,title);
					btn.onclick=onClickNestedSlider;
					btn.setAttribute(&quot;href&quot;,&quot;javascript:;&quot;);
					btn.setAttribute(&quot;title&quot;,tooltip);
				}
				else
					var btn = createTiddlyButton(place,title,tooltip,onClickNestedSlider,buttonClass);
				btn.innerHTML=title; // enables use of HTML entities in label

				// set extra button attributes
				btn.setAttribute(&quot;closedtext&quot;,closedtext);
				btn.setAttribute(&quot;closedtip&quot;,closedtip);
				btn.setAttribute(&quot;openedtext&quot;,openedtext);
				btn.setAttribute(&quot;openedtip&quot;,openedtip);
				btn.sliderCookie = cookie; // save the cookiename (if any) in the button object
				btn.defOpen=defopen!=null; // save default open/closed state (boolean)
				btn.keyparam=key; // save the access key letter (&quot;&quot; if none)
				if (key.length) {
					btn.setAttribute(&quot;accessKey&quot;,key); // init access key
					btn.onfocus=function(){this.setAttribute(&quot;accessKey&quot;,this.keyparam);}; // **reclaim** access key on focus
				}
				btn.setAttribute(&quot;hover&quot;,hover?&quot;true&quot;:&quot;false&quot;);
				btn.onmouseover=function(ev) {
					// optional 'open on hover' handling
					if (this.getAttribute(&quot;hover&quot;)==&quot;true&quot; &amp;&amp; this.sliderPanel.style.display=='none') {
						document.onclick.call(document,ev); // close transients
						onClickNestedSlider(ev); // open this slider
					}
					// mouseover on button aligns floater position with button
					if (window.adjustSliderPos) window.adjustSliderPos(this.parentNode,this,this.sliderPanel);
				}

				// create slider panel
				var panelClass=panelwidth?&quot;floatingPanel&quot;:&quot;sliderPanel&quot;;
				if (panelID) panelID=panelID.slice(1,-1); // trim off delimiters
				var panel=createTiddlyElement(place,&quot;div&quot;,panelID,panelClass,null);
				panel.button = btn; // so the slider panel know which button it belongs to
				btn.sliderPanel=panel; // so the button knows which slider panel it belongs to
				panel.defaultPanelWidth=(panelwidth &amp;&amp; panelwidth.length&gt;2)?panelwidth.slice(1,-1):&quot;&quot;;
				panel.setAttribute(&quot;transient&quot;,transient==&quot;*&quot;?&quot;true&quot;:&quot;false&quot;);
				panel.style.display = show;
				panel.style.width=panel.defaultPanelWidth;
				panel.onmouseover=function(event) // mouseover on panel aligns floater position with button
					{ if (window.adjustSliderPos) window.adjustSliderPos(this.parentNode,this.button,this); }

				// render slider (or defer until shown) 
				w.nextMatch = lookaheadMatch.index + lookaheadMatch[0].length;
				if ((show==&quot;block&quot;)||!deferred) {
					// render now if panel is supposed to be shown or NOT deferred rendering
					w.subWikify(blockquote?createTiddlyElement(panel,&quot;blockquote&quot;):panel,this.terminator);
					// align floater position with button
					if (window.adjustSliderPos) window.adjustSliderPos(place,btn,panel);
				}
				else {
					var src = w.source.substr(w.nextMatch);
					var endpos=findMatchingDelimiter(src,&quot;+++&quot;,&quot;===&quot;);
					panel.setAttribute(&quot;raw&quot;,src.substr(0,endpos));
					panel.setAttribute(&quot;blockquote&quot;,blockquote?&quot;true&quot;:&quot;false&quot;);
					panel.setAttribute(&quot;rendered&quot;,&quot;false&quot;);
					w.nextMatch += endpos+3;
					if (w.source.substr(w.nextMatch,1)==&quot;\n&quot;) w.nextMatch++;
				}
			}
		}
	}
)

function findMatchingDelimiter(src,starttext,endtext) {
	var startpos = 0;
	var endpos = src.indexOf(endtext);
	// check for nested delimiters
	while (src.substring(startpos,endpos-1).indexOf(starttext)!=-1) {
		// count number of nested 'starts'
		var startcount=0;
		var temp = src.substring(startpos,endpos-1);
		var pos=temp.indexOf(starttext);
		while (pos!=-1)  { startcount++; pos=temp.indexOf(starttext,pos+starttext.length); }
		// set up to check for additional 'starts' after adjusting endpos
		startpos=endpos+endtext.length;
		// find endpos for corresponding number of matching 'ends'
		while (startcount &amp;&amp; endpos!=-1) {
			endpos = src.indexOf(endtext,endpos+endtext.length);
			startcount--;
		}
	}
	return (endpos==-1)?src.length:endpos;
}
//}}}
//{{{
window.onClickNestedSlider=function(e)
{
	if (!e) var e = window.event;
	var theTarget = resolveTarget(e);
	while (theTarget &amp;&amp; theTarget.sliderPanel==undefined) theTarget=theTarget.parentNode;
	if (!theTarget) return false;
	var theSlider = theTarget.sliderPanel;
	var isOpen = theSlider.style.display!=&quot;none&quot;;

	// if SHIFT-CLICK, dock panel first (see [[MoveablePanelPlugin]])
	if (e.shiftKey &amp;&amp; config.macros.moveablePanel) config.macros.moveablePanel.dock(theSlider,e);

	// toggle label
	theTarget.innerHTML=isOpen?theTarget.getAttribute(&quot;closedText&quot;):theTarget.getAttribute(&quot;openedText&quot;);
	// toggle tooltip
	theTarget.setAttribute(&quot;title&quot;,isOpen?theTarget.getAttribute(&quot;closedTip&quot;):theTarget.getAttribute(&quot;openedTip&quot;));

	// deferred rendering (if needed)
	if (theSlider.getAttribute(&quot;rendered&quot;)==&quot;false&quot;) {
		var place=theSlider;
		if (theSlider.getAttribute(&quot;blockquote&quot;)==&quot;true&quot;)
			place=createTiddlyElement(place,&quot;blockquote&quot;);
		wikify(theSlider.getAttribute(&quot;raw&quot;),place);
		theSlider.setAttribute(&quot;rendered&quot;,&quot;true&quot;);
	}

	// show/hide the slider
	if(config.options.chkAnimate &amp;&amp; (!hasClass(theSlider,'floatingPanel') || config.options.chkFloatingSlidersAnimate))
		anim.startAnimating(new Slider(theSlider,!isOpen,e.shiftKey || e.altKey,&quot;none&quot;));
	else
		theSlider.style.display = isOpen ? &quot;none&quot; : &quot;block&quot;;

	// reset to default width (might have been changed via plugin code)
	theSlider.style.width=theSlider.defaultPanelWidth;

	// align floater panel position with target button
	if (!isOpen &amp;&amp; window.adjustSliderPos) window.adjustSliderPos(theSlider.parentNode,theTarget,theSlider);

	// if showing panel, set focus to first 'focus-able' element in panel
	if (theSlider.style.display!=&quot;none&quot;) {
		var ctrls=theSlider.getElementsByTagName(&quot;*&quot;);
		for (var c=0; c&lt;ctrls.length; c++) {
			var t=ctrls[c].tagName.toLowerCase();
			if ((t==&quot;input&quot; &amp;&amp; ctrls[c].type!=&quot;hidden&quot;) || t==&quot;textarea&quot; || t==&quot;select&quot;)
				{ try{ ctrls[c].focus(); } catch(err){;} break; }
		}
	}
	var cookie=theTarget.sliderCookie;
	if (cookie &amp;&amp; cookie.length) {
		config.options[cookie]=!isOpen;
		if (config.options[cookie]!=theTarget.defOpen) window.saveOptionCookie(cookie);
		else window.removeCookie(cookie); // remove cookie if slider is in default display state
	}

	// prevent SHIFT-CLICK from being processed by browser (opens blank window... yuck!)
	// prevent clicks *within* a slider button from being processed by browser
	// but allow plain click to bubble up to page background (to close transients, if any)
	if (e.shiftKey || theTarget!=resolveTarget(e))
		{ e.cancelBubble=true; if (e.stopPropagation) e.stopPropagation(); }
	Popup.remove(); // close open popup (if any)
	return false;
}
//}}}
//{{{
// click in document background closes transient panels 
document.nestedSliders_savedOnClick=document.onclick;
document.onclick=function(ev) { if (!ev) var ev=window.event; var target=resolveTarget(ev);

	if (document.nestedSliders_savedOnClick)
		var retval=document.nestedSliders_savedOnClick.apply(this,arguments);
	// if click was inside a popup... leave transient panels alone
	var p=target; while (p) if (hasClass(p,&quot;popup&quot;)) break; else p=p.parentNode;
	if (p) return retval;
	// if click was inside transient panel (or something contained by a transient panel), leave it alone
	var p=target; while (p) {
		if ((hasClass(p,&quot;floatingPanel&quot;)||hasClass(p,&quot;sliderPanel&quot;))&amp;&amp;p.getAttribute(&quot;transient&quot;)==&quot;true&quot;) break;
		p=p.parentNode;
	}
	if (p) return retval;
	// otherwise, find and close all transient panels...
	var all=document.all?document.all:document.getElementsByTagName(&quot;DIV&quot;);
	for (var i=0; i&lt;all.length; i++) {
		 // if it is not a transient panel, or the click was on the button that opened this panel, don't close it.
		if (all[i].getAttribute(&quot;transient&quot;)!=&quot;true&quot; || all[i].button==target) continue;
		// otherwise, if the panel is currently visible, close it by clicking it's button
		if (all[i].style.display!=&quot;none&quot;) window.onClickNestedSlider({target:all[i].button})
		if (!hasClass(all[i],&quot;floatingPanel&quot;)&amp;&amp;!hasClass(all[i],&quot;sliderPanel&quot;)) all[i].style.display=&quot;none&quot;;
	}
	return retval;
};
//}}}
//{{{
// adjust floating panel position based on button position
if (window.adjustSliderPos==undefined) window.adjustSliderPos=function(place,btn,panel) {
	if (hasClass(panel,&quot;floatingPanel&quot;) &amp;&amp; !hasClass(panel,&quot;undocked&quot;)) {
		// see [[MoveablePanelPlugin]] for use of 'undocked'
		var rightEdge=document.body.offsetWidth-1;
		var panelWidth=panel.offsetWidth;
		var left=0;
		var top=btn.offsetHeight; 
		if (place.style.position==&quot;relative&quot; &amp;&amp; findPosX(btn)+panelWidth&gt;rightEdge) {
			left-=findPosX(btn)+panelWidth-rightEdge; // shift panel relative to button
			if (findPosX(btn)+left&lt;0) left=-findPosX(btn); // stay within left edge
		}
		if (place.style.position!=&quot;relative&quot;) {
			var left=findPosX(btn);
			var top=findPosY(btn)+btn.offsetHeight;
			var p=place; while (p &amp;&amp; !hasClass(p,'floatingPanel')) p=p.parentNode;
			if (p) { left-=findPosX(p); top-=findPosY(p); }
			if (left+panelWidth&gt;rightEdge) left=rightEdge-panelWidth;
			if (left&lt;0) left=0;
		}
		panel.style.left=left+&quot;px&quot;; panel.style.top=top+&quot;px&quot;;
	}
}
//}}}
//{{{
// TW2.1 and earlier:
// hijack Slider stop handler so overflow is visible after animation has completed
Slider.prototype.coreStop = Slider.prototype.stop;
Slider.prototype.stop = function()
	{ this.coreStop.apply(this,arguments); this.element.style.overflow = &quot;visible&quot;; }

// TW2.2+
// hijack Morpher stop handler so sliderPanel/floatingPanel overflow is visible after animation has completed
if (version.major+.1*version.minor+.01*version.revision&gt;=2.2) {
	Morpher.prototype.coreStop = Morpher.prototype.stop;
	Morpher.prototype.stop = function() {
		this.coreStop.apply(this,arguments);
		var e=this.element;
		if (hasClass(e,&quot;sliderPanel&quot;)||hasClass(e,&quot;floatingPanel&quot;)) {
			// adjust panel overflow and position after animation
			e.style.overflow = &quot;visible&quot;;
			if (window.adjustSliderPos) window.adjustSliderPos(e.parentNode,e.button,e);
		}
	};
}
//}}}</pre>
</div>
<div title="NestedSlidersPlugin (1)" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405152253" tags="systemConfig excludeTimeline systemConfigDisable" changecount="2" content-type="">
<pre>/***
''NestedSlidersPlugin for TiddlyWiki version 1.2.x and 2.0''
^^author: Eric Shulman
source: http://www.TiddlyTools.com/#NestedSlidersPlugin
license: [[Creative Commons Attribution-ShareAlike 2.5 License|http://creativecommons.org/licenses/by-sa/2.5/]]^^

Quickly make any tiddler content into an expandable 'slider' panel, without needing to create a separate tiddler to contain the slider content.  Optional syntax allows ''default to open'', ''custom button label/tooltip'' and ''automatic blockquote formatting.''

You can also 'nest' these sliders as deep as you like (see complex nesting example below), so that expandable 'tree-like' hierarchical displays can be created.  This is most useful when converting existing in-line text content to create in-line annotations, footnotes, context-sensitive help, or other subordinate information displays.

For more details, please click on a section headline below:
++++!!!!![Configuration]&gt;
Debugging messages for 'lazy sliders' deferred rendering:
&lt;&lt;option chkDebugLazySliderDefer&gt;&gt; show debugging alert when deferring slider rendering
&lt;&lt;option chkDebugLazySliderRender&gt;&gt; show debugging alert when deferred slider is actually rendered
===
++++!!!!![Usage]&gt;
When installed, this plugin adds new wiki syntax for embedding 'slider' panels directly into tiddler content.  Use {{{+++}}} and {{{===}}} to delimit the slider content.  Additional optional syntax elements let you specify
*default to open
*cookiename
*heading level
*floater (with optional CSS width value)
*mouse auto rollover
*custom label/tooltip/accesskey
*automatic blockquote
*deferred rendering
The complete syntax, using all options, is:
//{{{
++++(cookiename)!!!!!^width^*[label=key|tooltip]&gt;...
content goes here
===
//}}}
where:
* {{{+++}}} (or {{{++++}}}) and {{{===}}}^^
marks the start and end of the slider definition, respectively.  When the extra {{{+}}} is used, the slider will be open when initially displayed.^^
* {{{(cookiename)}}}^^
saves the slider opened/closed state, and restores this state whenever the slider is re-rendered.^^
* {{{!}}} through {{{!!!!!}}}^^
displays the slider label using a formatted headline (Hn) style instead of a button/link style^^
* {{{^width^}}} (or just {{{^}}})^^
makes the slider 'float' on top of other content rather than shifting that content downward.  'width' must be a valid CSS value (e.g., &quot;30em&quot;, &quot;180px&quot;, &quot;50%&quot;, etc.).  If omitted, the default width is &quot;auto&quot; (i.e., fit to content)^^
* {{{*}}}^^
automatically opens/closes slider on &quot;rollover&quot; as well as when clicked^^
* {{{[label=key|tooltip]}}}^^
uses custom label/tooltip/accesskey.  {{{=key}}} and {{{|tooltip}}} are optional.  'key' is must be a ''single letter only''.  Default labels/tootips are: &quot;&gt;&quot; (more) and &quot;&lt;&quot; (less), with no default access key assignment.^^
* {{{&quot;&gt;&quot;}}} //(without the quotes)//^^
automatically adds blockquote formatting to slider content^^
* {{{&quot;...&quot;}}} //(without the quotes)//^^
defers rendering of closed sliders until the first time they are opened.  //Note: deferred rendering may produce unexpected results in some cases.  Use with care.//^^

//Note: to make slider definitions easier to read and recognize when editing a tiddler, newlines immediately following the {{{+++}}} 'start slider' or preceding the {{{===}}} 'end slider' sequence are automatically supressed so that excess whitespace is eliminated from the output.//
===
++++!!!!![Examples]&gt;
simple in-line slider: 
{{{
+++
   content
===
}}}
+++
   content
===
----
use a custom label and tooltip: 
{{{
+++[label|tooltip]
   content
===
}}}
+++[label|tooltip]
   content
===
----
content automatically blockquoted: 
{{{
+++&gt;
   content
===
}}}
+++&gt;
   content
===
----
all options combined //(default open, cookie, heading, sized floater, rollover, label/tooltip/key, blockquoted, deferred)//
{{{
++++(testcookie)!!!^30em^*[label=Z|click or press Alt-Z to open]&gt;...
   content
===
}}}
++++(testcookie)!!!^30em^*[label=Z|click or press Alt-Z to open]&gt;...
   content
===
----
complex nesting example:
{{{
+++^[get info...=I|click for information or press Alt-I]
   put some general information here, plus a floating slider with more specific info:
   +++^10em^[view details...|click for details]
      put some detail here, which could include a rollover with a +++^25em^*[glossary definition]explaining technical terms===
   ===
===
}}}
+++^[get info...=I|click for information or press Alt-I]
   put some general information here, plus a floating slider with more specific info:
   +++^10em^[view details...|click for details]
      put some detail here, which could include a rollover with a +++^25em^*[glossary definition]explaining technical terms===
   ===
===
----
nested floaters
&gt;menu: &lt;&lt;tiddler NestedSlidersExample&gt;&gt;
(see [[NestedSlidersExample]] for definition)
----
===
!!!!!Installation
&lt;&lt;&lt;
import (or copy/paste) the following tiddlers into your document:
''NestedSlidersPlugin'' (tagged with &lt;&lt;tag systemConfig&gt;&gt;)
&lt;&lt;&lt;
!!!!!Revision History
&lt;&lt;&lt;
''2006.05.11 - 1.9.0'' added optional '^width^' syntax for floating sliders and '=key' syntax for setting an access key on a slider label
''2006.05.09 - 1.8.0'' in onClickNestedSlider(), when showing panel, set focus to first child input/textarea/select element
''2006.04.24 - 1.7.8'' in adjustSliderPos(), if floating panel is contained inside another floating panel, subtract offset of containing panel to find correct position
''2006.02.16 - 1.7.7'' corrected deferred rendering to account for use-case where show/hide state is tracked in a cookie
''2006.02.15 - 1.7.6'' in adjustSliderPos(), ensure that floating panel is positioned completely within the browser window (i.e., does not go beyond the right edge of the browser window)
''2006.02.04 - 1.7.5'' add 'var' to unintended global variable declarations to avoid FireFox 1.5.0.1 crash bug when assigning to globals
''2006.01.18 - 1.7.4'' only define adjustSliderPos() function if it has not already been provided by another plugin.  This lets other plugins 'hijack' the function even when they are loaded first.
''2006.01.16 - 1.7.3'' added adjustSliderPos(place,btn,panel,panelClass) function to permit specialized logic for placement of floating panels.  While it provides improved placement for many uses of floating panels, it exhibits a relative offset positioning error when used within *nested* floating panels.  Short-term workaround is to only adjust the position for 'top-level' floaters.
''2006.01.16 - 1.7.2'' added button property to slider panel elements so that slider panel can tell which button it belongs to.  Also, re-activated and corrected animation handling so that nested sliders aren't clipped by hijacking Slider.prototype.stop so that &quot;overflow:hidden&quot; can be reset to &quot;overflow:visible&quot; after animation ends
''2006.01.14 - 1.7.1'' added optional &quot;^&quot; syntax for floating panels.  Defines new CSS class, &quot;.floatingPanel&quot;, as an alternative for standard in-line &quot;.sliderPanel&quot; styles.
''2006.01.14 - 1.7.0'' added optional &quot;*&quot; syntax for rollover handling to show/hide slider without requiring a click (Based on a suggestion by tw4efl)
''2006.01.03 - 1.6.2'' When using optional &quot;!&quot; heading style, instead of creating a clickable &quot;Hn&quot; element, create an &quot;A&quot; element inside the &quot;Hn&quot; element.  (allows click-through in SlideShowPlugin, which captures nearly all click events, except for hyperlinks)
''2005.12.15 - 1.6.1'' added optional &quot;...&quot; syntax to invoke deferred ('lazy') rendering for initially hidden sliders
removed checkbox option for 'global' application of lazy sliders
''2005.11.25 - 1.6.0'' added optional handling for 'lazy sliders' (deferred rendering for initially hidden sliders)
''2005.11.21 - 1.5.1'' revised regular expressions: if present, a single newline //preceding// and/or //following// a slider definition will be suppressed so start/end syntax can be place on separate lines in the tiddler 'source' for improved readability.  Similarly, any whitespace (newlines, tabs, spaces, etc.) trailing the 'start slider' syntax or preceding the 'end slider' syntax is also suppressed.
''2005.11.20 - 1.5.0'' added (cookiename) syntax for optional tracking and restoring of slider open/close state
''2005.11.11 - 1.4.0'' added !!!!! syntax to render slider label as a header (Hn) style instead of a button/link style
''2005.11.07 - 1.3.0'' removed alternative syntax {{{(((}}} and {{{)))}}} (so they can be used by other
formatting extensions) and simplified/improved regular expressions to trim multiple excess newlines
''2005.11.05 - 1.2.1'' changed name to NestedSlidersPlugin
more documentation
''2005.11.04 - 1.2.0'' added alternative character-mode syntax {{{(((}}} and {{{)))}}}
tweaked &quot;eat newlines&quot; logic for line-mode {{{+++}}} and {{{===}}} syntax
''2005.11.03 - 1.1.1'' fixed toggling of default tooltips (&quot;more...&quot; and &quot;less...&quot;) when a non-default button label is used
code cleanup, added documentation
''2005.11.03 - 1.1.0'' changed delimiter syntax from {{{(((}}} and {{{)))}}} to {{{+++}}} and {{{===}}}
changed name to EasySlidersPlugin
''2005.11.03 - 1.0.0'' initial public release
&lt;&lt;&lt;
!!!!!Credits
&lt;&lt;&lt;
This feature was implemented by EricShulman from [[ELS Design Studios|http:/www.elsdesign.com]] with initial research and suggestions from RodneyGomes, GeoffSlocock, and PaulPetterson.
&lt;&lt;&lt;
!!!!!Code
***/
//{{{
version.extensions.nestedSliders = {major: 1, minor: 9, revision: 0, date: new Date(2006,5,11)};
//}}}

//{{{
// options for deferred rendering of sliders that are not initially displayed
if (config.options.chkDebugLazySliderDefer==undefined) config.options.chkDebugLazySliderDefer=false;
if (config.options.chkDebugLazySliderRender==undefined) config.options.chkDebugLazySliderRender=false;

// default styles for 'floating' class
setStylesheet(&quot;.floatingPanel { position:absolute; z-index:10; padding:0.5em; margin:0em; \
	background-color:#eee; color:#000; border:1px solid #000; text-align:left; }&quot;,&quot;floatingPanelStylesheet&quot;);
//}}}

//{{{
config.formatters.push( {
	name: &quot;nestedSliders&quot;,
	match: &quot;\\n?\\+{3}&quot;,
	terminator: &quot;\\s*\\={3}\\n?&quot;,
	lookahead: &quot;\\n?\\+{3}(\\+)?(\\([^\\)]*\\))?(\\!*)?(\\^(?:[^\\^\\*\\[\\&gt;]*\\^)?)?(\\*)?(\\[[^\\]]*\\])?(\\&gt;)?(\\.\\.\\.)?\\s*&quot;,
	handler: function(w)
		{
			var lookaheadRegExp = new RegExp(this.lookahead,&quot;mg&quot;);
			lookaheadRegExp.lastIndex = w.matchStart;
			var lookaheadMatch = lookaheadRegExp.exec(w.source)
			if(lookaheadMatch &amp;&amp; lookaheadMatch.index == w.matchStart)
			{
				// location for rendering button and panel
				var place=w.output;

				// default to closed, no cookie, no accesskey
				var show=&quot;none&quot;; var title=&quot;&gt;&quot;; var tooltip=&quot;show&quot;; var cookie=&quot;&quot;; var key=&quot;&quot;;

				// extra &quot;+&quot;, default to open
				if (lookaheadMatch[1])
					{ show=&quot;block&quot;; title=&quot;&lt;&quot;; tooltip=&quot;hide&quot;; }

				// cookie, use saved open/closed state
				if (lookaheadMatch[2]) {
					cookie=lookaheadMatch[2].trim().slice(1,-1);
					cookie=&quot;chkSlider&quot;+cookie;
					if (config.options[cookie]==undefined)
						{ config.options[cookie] = (show==&quot;block&quot;) }
					if (config.options[cookie])
						{ show=&quot;block&quot;; title=&quot;&lt;&quot;; tooltip=&quot;hide&quot;; }
					else
						{ show=&quot;none&quot;; title=&quot;&gt;&quot;; tooltip=&quot;show&quot;; }
				}

				// parse custom label/tooltip/accesskey: [label=X|tooltip]
				if (lookaheadMatch[6]) {
					title = lookaheadMatch[6].trim().slice(1,-1);
					var pos=title.indexOf(&quot;|&quot;);
					if (pos!=-1) { tooltip = title.substr(pos+1,title.length); title=title.substr(0,pos); }
					if (title.substr(title.length-2,1)==&quot;=&quot;) { key=title.substr(title.length-1,1); title=title.slice(0,-2); }
					if (pos==-1) tooltip += &quot; &quot;+title; // default tooltip: &quot;show/hide &lt;title&gt;&quot;
				}

				// create the button
				if (lookaheadMatch[3]) { // use &quot;Hn&quot; header format instead of button/link
					var lvl=(lookaheadMatch[3].length&gt;6)?6:lookaheadMatch[3].length;
					var btn = createTiddlyElement(createTiddlyElement(place,&quot;h&quot;+lvl,null,null,null),&quot;a&quot;,null,null,title);
					btn.onclick=onClickNestedSlider;
					btn.setAttribute(&quot;href&quot;,&quot;javascript:;&quot;);
					btn.setAttribute(&quot;title&quot;,tooltip);
				}
				else
					var btn = createTiddlyButton(place,title,tooltip,onClickNestedSlider);
				btn.sliderCookie = cookie; // save the cookiename (if any) in the button object
				btn.keyparam=key; // save the access key letter (&quot;&quot; if none)
				if (key.length) {
					btn.setAttribute(&quot;accessKey&quot;,key); // init access key
					btn.onfocus=function(){this.setAttribute(&quot;accessKey&quot;,this.keyparam);}; // **reclaim** access key on focus
				}

				// &quot;non-click&quot; MouseOver open/close slider
				if (lookaheadMatch[5]) btn.onmouseover=onClickNestedSlider;

				// create slider panel
				var panelClass=lookaheadMatch[4]?&quot;floatingPanel&quot;:&quot;sliderPanel&quot;;
				var panel=createTiddlyElement(place,&quot;div&quot;,null,panelClass,null);
				panel.style.display = show;
				if (lookaheadMatch[4] &amp;&amp; lookaheadMatch[4].length&gt;2) panel.style.width=lookaheadMatch[4].slice(1,-1); // custom width
				panel.button = btn; // so the slider panel know which button it belongs to
				btn.sliderPanel=panel;

				// render slider (or defer until shown) 
				w.nextMatch = lookaheadMatch.index + lookaheadMatch[0].length;
				if ((show==&quot;block&quot;)||!lookaheadMatch[8]) {
					// render now if panel is supposed to be shown or NOT deferred rendering
					w.subWikify(lookaheadMatch[7]?createTiddlyElement(panel,&quot;blockquote&quot;):panel,this.terminator);
					// align slider/floater position with button
					adjustSliderPos(place,btn,panel,panelClass);
				}
				else {
					var src = w.source.substr(w.nextMatch);
					var endpos=findMatchingDelimiter(src,&quot;+++&quot;,&quot;===&quot;);
					panel.setAttribute(&quot;raw&quot;,src.substr(0,endpos));
					panel.setAttribute(&quot;blockquote&quot;,lookaheadMatch[7]?&quot;true&quot;:&quot;false&quot;);
					panel.setAttribute(&quot;rendered&quot;,&quot;false&quot;);
					w.nextMatch += endpos+3;
					if (w.source.substr(w.nextMatch,1)==&quot;\n&quot;) w.nextMatch++;
					if (config.options.chkDebugLazySliderDefer) alert(&quot;deferred '&quot;+title+&quot;':\n\n&quot;+panel.getAttribute(&quot;raw&quot;));
				}
			}
		}
	}
)

// TBD: ignore 'quoted' delimiters (e.g., &quot;{{{+++foo===}}}&quot; isn't really a slider)
function findMatchingDelimiter(src,starttext,endtext) {
	var startpos = 0;
	var endpos = src.indexOf(endtext);
	// check for nested delimiters
	while (src.substring(startpos,endpos-1).indexOf(starttext)!=-1) {
		// count number of nested 'starts'
		var startcount=0;
		var temp = src.substring(startpos,endpos-1);
		var pos=temp.indexOf(starttext);
		while (pos!=-1)  { startcount++; pos=temp.indexOf(starttext,pos+starttext.length); }
		// set up to check for additional 'starts' after adjusting endpos
		startpos=endpos+endtext.length;
		// find endpos for corresponding number of matching 'ends'
		while (startcount &amp;&amp; endpos!=-1) {
			endpos = src.indexOf(endtext,endpos+endtext.length);
			startcount--;
		}
	}
	return (endpos==-1)?src.length:endpos;
}
//}}}

//{{{
window.onClickNestedSlider=function(e)
{
	if (!e) var e = window.event;
	var theTarget = resolveTarget(e);
	var theLabel = theTarget.firstChild.data;
	var theSlider = theTarget.sliderPanel
	var isOpen = theSlider.style.display!=&quot;none&quot;;
	// if using default button labels, toggle labels
	if (theLabel==&quot;&gt;&quot;) theTarget.firstChild.data = &quot;&lt;&quot;;
	else if (theLabel==&quot;&lt;&quot;) theTarget.firstChild.data = &quot;&gt;&quot;;
	// if using default tooltips, toggle tooltips
	if (theTarget.getAttribute(&quot;title&quot;)==&quot;show&quot;)
		theTarget.setAttribute(&quot;title&quot;,&quot;hide&quot;);
	else if (theTarget.getAttribute(&quot;title&quot;)==&quot;hide&quot;)
		theTarget.setAttribute(&quot;title&quot;,&quot;show&quot;);
	if (theTarget.getAttribute(&quot;title&quot;)==&quot;show &quot;+theLabel)
		theTarget.setAttribute(&quot;title&quot;,&quot;hide &quot;+theLabel);
	else if (theTarget.getAttribute(&quot;title&quot;)==&quot;hide &quot;+theLabel)
		theTarget.setAttribute(&quot;title&quot;,&quot;show &quot;+theLabel);
	// deferred rendering (if needed)
	if (theSlider.getAttribute(&quot;rendered&quot;)==&quot;false&quot;) {
		if (config.options.chkDebugLazySliderRender)
			alert(&quot;rendering '&quot;+theLabel+&quot;':\n\n&quot;+theSlider.getAttribute(&quot;raw&quot;));
		var place=theSlider;
		if (theSlider.getAttribute(&quot;blockquote&quot;)==&quot;true&quot;)
			place=createTiddlyElement(place,&quot;blockquote&quot;);
		wikify(theSlider.getAttribute(&quot;raw&quot;),place);
		theSlider.setAttribute(&quot;rendered&quot;,&quot;true&quot;);
	}
	// show/hide the slider
	if(config.options.chkAnimate)
		anim.startAnimating(new Slider(theSlider,!isOpen,e.shiftKey || e.altKey,&quot;none&quot;));
	else
		theSlider.style.display = isOpen ? &quot;none&quot; : &quot;block&quot;;
	// if showing panel, set focus to first 'focus-able' element in panel
	if (theSlider.style.display!=&quot;none&quot;) {
		var ctrls=theSlider.getElementsByTagName(&quot;*&quot;);
		for (var c=0; c&lt;ctrls.length; c++) {
			var t=ctrls[c].tagName.toLowerCase();
			if (t==&quot;input&quot; || t==&quot;textarea&quot; || t==&quot;select&quot;)
				{ ctrls[c].focus(); break; }
		}
	}
	if (this.sliderCookie &amp;&amp; this.sliderCookie.length)
		{ config.options[this.sliderCookie]=!isOpen; saveOptionCookie(this.sliderCookie); }
	// align slider/floater position with target button
	adjustSliderPos(theSlider.parentNode,theTarget,theSlider,theSlider.className);
	return false;
}

// hijack animation handler 'stop' handler so overflow is visible after animation has completed
Slider.prototype.coreStop = Slider.prototype.stop;
Slider.prototype.stop = function() { this.coreStop(); this.element.style.overflow = &quot;visible&quot;; }

// adjust panel position based on button position
if (window.adjustSliderPos==undefined) window.adjustSliderPos=function(place,btn,panel,panelClass) {
	if (panelClass==&quot;floatingPanel&quot;) {
		var left=0;
		var top=btn.offsetHeight; 
		if (place.style.position!=&quot;relative&quot;) {
			var left=findPosX(btn);
			var top=findPosY(btn)+btn.offsetHeight;
			var p=place; while (p &amp;&amp; p.className!='floatingPanel') p=p.parentNode;
			if (p) { left-=findPosX(p); top-=findPosY(p); }
		}
		if (left+panel.offsetWidth &gt; getWindowWidth()) left=getWindowWidth()-panel.offsetWidth-10;
		panel.style.left=left+&quot;px&quot;; panel.style.top=top+&quot;px&quot;;
	}
}

function getWindowWidth() {
	if(document.width!=undefined)
		return document.width; // moz (FF)
	if(document.documentElement &amp;&amp; ( document.documentElement.clientWidth || document.documentElement.clientHeight ) )
		return document.documentElement.clientWidth; // IE6
	if(document.body &amp;&amp; ( document.body.clientWidth || document.body.clientHeight ) )
		return document.body.clientWidth; // IE4
	if(window.innerWidth!=undefined)
		return window.innerWidth; // IE - general
	return 0; // unknown
}
//}}}</pre>
</div>
<div title="NestedSlidersPluginInfo" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405152254" tags="pluginInfo excludeTimeline" changecount="2" content-type="">
<pre>/***
|Name|NestedSlidersPluginInfo|
|Source|http://www.TiddlyTools.com/#NestedSlidersPlugin|
|Documentation|http://www.TiddlyTools.com/#NestedSlidersPluginInfo|
|Version|2.4.9|
|Author|Eric Shulman|
|License|http://www.TiddlyTools.com/#LegalStatements|
|~CoreVersion|2.1|
|Type|documentation|
|Description|documentation for NestedSlidersPlugin|
This plugin adds new wiki syntax for embedding 'slider' panels directly into tiddler content.
!!!!!Usage
&lt;&lt;&lt;
//{{{
++++(cookiename)!!!!!^width^*@{{class{[label=key|tooltip][altlabel|alttooltip]}}}#panelID:&gt;...
content goes here
===
//}}}
* ''&quot;&quot;&quot;+++&quot;&quot;&quot; (or &quot;&quot;&quot;++++&quot;&quot;&quot;) and &quot;&quot;&quot;===&quot;&quot;&quot;''&lt;br&gt;marks the start and end of the slider definition, respectively.  When the extra {{{+}}} is used, the slider will be open when initially displayed.
* ''&quot;&quot;&quot;(cookiename)&quot;&quot;&quot;''&lt;br&gt;saves the slider opened/closed state, and restores this state whenever the slider is re-rendered.
* ''&quot;&quot;&quot;! through !!!!!&quot;&quot;&quot;''&lt;br&gt;displays the slider label using a formatted headline (Hn) style instead of a button/link style
* ''&quot;&quot;&quot;^width^ (or just ^)&quot;&quot;&quot;''&lt;br&gt;makes the slider 'float' on top of other content rather than shifting that content downward.  'width' must be a valid CSS value (e.g., &quot;30em&quot;, &quot;180px&quot;, &quot;50%&quot;, etc.).  If omitted, the default width is &quot;auto&quot; (i.e., fit to content)
* ''&quot;&quot;&quot;*&quot;&quot;&quot;''&lt;br&gt;denotes &quot;transient display&quot;: when a click occurs elsewhere in the document, the slider/floating panel will be automatically closed.  This is useful for creating 'pulldown menus' that automatically go away after they are used.  //Note: using SHIFT-click on a slider label will open/close that slider without triggering the automatic closing of any transient slider panels that are currently displayed, permitting ''temporary'' display of several transient panels at once.//
* ''&quot;&quot;&quot;@&quot;&quot;&quot;''&lt;br&gt;denotes &quot;open on hover&quot;: the slider/floating panel will be automatically opened as soon as the mouse moves over the slider label, without requiring a click.
* ''&quot;&quot;&quot;{{class{[label=key|tooltip][altlabel|alttooltip]}}}&quot;&quot;&quot;''&lt;br&gt;uses label/tooltip/accesskey.  &quot;&quot;&quot;{{class{...}}}&quot;&quot;&quot;, &quot;&quot;&quot;=key&quot;&quot;&quot;, &quot;&quot;&quot;|tooltip&quot;&quot;&quot; and &quot;&quot;&quot;[altlabel|alttooltip]&quot;&quot;&quot; are optional.  'class' is any valid CSS class name, used to style the slider label text.  'key' must be a ''single letter only''.  altlabel/alttooltip specify alternative label/tooltip for use when slider/floating panel is displayed.  //Note: you can use HTML syntax within the label text to include HTML entities (e.g., {{{&amp;raquo;}}} (&amp;raquo;) or {{{&amp;#x25ba;}}} (&amp;#x25ba;), or even embedded images (e.g., {{{&lt;img src=&quot;images/eric3.gif&quot;&gt;}}}).//
* ''&quot;&quot;&quot;#panelID:&quot;&quot;&quot;''&lt;br&gt;defines a unique DOM element ID that is assigned to the panel element used to display the slider content.  This ID can then be used later to reposition the panel using the {{{&lt;&lt;DOM move id&gt;&gt;}}} macro (see [[DOMTweaksPlugin]]), or to access/modify the panel element through use of {{{document.getElementById(...)}}}) javascript code in a plugin or inline script.
* ''&quot;&quot;&quot;&gt;&quot;&quot;&quot;''&lt;br&gt;automatically adds blockquote formatting to slider content
* ''&quot;&quot;&quot;...&quot;&quot;&quot;''&lt;br&gt;defers rendering of closed sliders until the first time they are opened.
Notes:
*You can 'nest' sliders as deep as you like (see complex nesting example below), so that expandable 'tree-like' hierarchical displays can be created.
*Deferred rendering (...) can be used to offset processing overhead until actually needed. However, this may produce unexpected results in some cases.  Use with care.
* To make slider definitions easier to read and recognize when editing a tiddler, newlines immediately following the 'start slider' or preceding the 'end slider' sequences are automatically supressed so that excess whitespace is eliminated from the output.
&lt;&lt;&lt;
!!!!!Examples
&lt;&lt;&lt;
simple in-line slider: 
{{{
+++content===
}}}
+++content===
----
use a custom label and tooltip: 
{{{
+++[label|tooltip]content===
}}}
+++[label|tooltip]content===
----
content automatically blockquoted: 
{{{
+++&gt;content===
}}}
+++&gt;content===
----
all options (except cookie) //(default open, heading, sized floater, transient, open on hover, class, label/tooltip/key, blockquoted, deferred)//
{{{
++++!!!^30em^*@{{big{[label=Z|click or press Alt-Z to open]}}}&gt;...
   content
===
}}}
++++!!!^30em^*@{{big{[label=Z|click or press Alt-Z to open]}}}&gt;...
   content
===
----
complex nesting example:
{{{
+++[get info...=I|click for information or press Alt-I]
	put some general information here,
	plus a floating panel with more specific info:
	+++^10em^[view details...|click for details]
		put some detail here, which could in turn contain a transient panel,
		perhaps with a +++^25em^*[glossary definition]explaining technical terms===
	===
===
}}}
+++[get info...=I|click for information or press Alt-I]
	put some general information here,
	plus a floating panel with more specific info:
	+++^10em^[view details...|click for details]
		put some detail here, which could in turn contain a transient panel,
		perhaps with a +++^25em^*[glossary definition]explaining technical terms===
	===
===
----
embedded image as slider button
{{{
+++[&lt;img src=images/eric3.gif&gt;|click me!]&gt;
	{{big{OUCH!}}}
===
}}}
+++[&lt;img src=images/eric3.gif&gt;|click me!]&gt;
	{{big{OUCH!}}}
===
&lt;&lt;&lt;
!!!!!Revisions
&lt;&lt;&lt;
2008.11.15 2.4.9 in adjustNestedSlider(), don't make adjustments if panel is marked as 'undocked' (CSS class).  In onClickNestedSlider(), SHIFT-CLICK docks panel (see [[MoveablePanelPlugin]])
2008.11.13 2.4.8 in document.onclick(), if transient panel is not a sliderPanel or floatingPanel, hide it via CSS
2008.10.05 2.4.7 in onClickNestedSlider(), added try/catch around focus() call to prevent IE error if input field being focused on is currently not visible.
2008.09.07 2.4.6 added removeCookie() function for compatibility with [[CookieManagerPlugin]]
2008.06.07 2.4.5 in 'onmouseover' handler for 'open on hover' slider buttons, use call() method when invoking document.onclick function (avoids error in IE)
2008.06.07 2.4.4 changed default for chkFloatingSlidersAnimate to FALSE to avoid clipping problem on some browsers (IE).  Updated Morpher hijack (again) to adjust regular sliderPanel styles as well as floatingPanel styles.
2008.05.07 2.4.3 updated Morpher hijack to adjust floatingPanel styles after animation without affecting other animated elements (i.e. popups).  Also, updated adjustSliderPos() to account for scrollwidth and use core findWindowWidth().
2008.04.02 2.4.2 in onClickNestedSlider, handle clicks on elements contained //within// slider buttons (e.g., when using HTML to display an image as a slider button).
2008.04.01 2.4.1 open on hover also triggers document.onclick to close other transient sliders
2008.04.01 2.4.0 re-introduced 'open on hover' feature using &quot;@&quot; symbol
2008.03.26 2.3.5 in document.onclick(), if click is in popup, don't dismiss transient panel (if any)
2008.01.08 [*.*.*] plugin size reduction: documentation moved to ...Info tiddler
2007.12.28 2.3.4 added hijack for Animator.prototype.startAnimating().  Previously, the plugin code simply set the overflow to &quot;visible&quot; after animation.  This code tweak corrects handling of elements that were styled with overflow=hidden/auto/scroll before animation by saving the overflow style and then restoring it after animation has completed.
2007.12.17 2.3.3 use hasClass() instead of direct comparison to test for &quot;floatingPanel&quot; class.  Allows floating panels to have additional classes assigned to them (i.e., by AnimationEffectsPlugin).
2007.11.14 2.3.2 in onClickNestedSlider(), prevent SHIFT-click events from opening a new, empty browser window by setting &quot;cancelBubble=true&quot; and calling &quot;stopPropagation()&quot;.  Note: SHIFT-click is still processed as a normal click (i.e., it toggles the slider panel display).  Also, using SHIFT-click will prevent 'transient' sliders from being automatically closed when another slider is opened, allowing you to *temporarily* display several transient sliders at once.
2007.07.26 2.3.1 in document.onclick(), propagate return value from hijacked core click handler to consume OR bubble up click as needed.  Fixes &quot;IE click disease&quot;, whereby nearly every mouse click causes a page transition.
2007.07.20 2.3.0 added syntax for setting panel ID (#panelID:).  This allows individual slider panels to be repositioned within tiddler content simply by giving them a unique ID and then moving them to the desired location using the {{{&lt;&lt;DOM move id&gt;&gt;}}} macro.
2007.07.19 2.2.0 added syntax for alttext and alttip (button label and tooltip to be displayed when panel is open)
2007.07.14 2.1.2 corrected use of 'transient' attribute in IE to prevent (non-recursive) infinite loop
2007.07.12 2.1.0 replaced use of &quot;*&quot; for 'open/close on rollover' (which didn't work too well).  &quot;*&quot; now indicates 'transient' panels that are automatically closed if a click occurs somewhere else in the document.  This permits use of nested sliders to create nested &quot;pulldown menus&quot; that automatically disappear after interaction with them has been completed.  Also, in onClickNestedSlider(), use &quot;theTarget.sliderCookie&quot;, instead of &quot;this.sliderCookie&quot; to correct cookie state tracking when automatically dismissing transient panels.
2007.06.10 2.0.5 add check to ensure that window.adjustSliderPanel() is defined before calling it (prevents error on shutdown when mouse event handlers are still defined)
2007.05.31 2.0.4 add handling to invoke adjustSliderPanel() for onmouseover events on slider button and panel.  This allows the panel position to be re-synced when the button position shifts due to changes in unrelated content above it on the page.  (thanks to Harsha for bug report)
2007.03.30 2.0.3 added chkFloatingSlidersAnimate (default to FALSE), so that slider animation can be disabled independent of the overall document animation setting (avoids strange rendering and focus problems in floating panels)
2007.03.01 2.0.2 for TW2.2+, hijack Morpher.prototype.stop so that &quot;overflow:hidden&quot; can be reset to &quot;overflow:visible&quot; after animation ends
2007.03.01 2.0.1 in hijack for Slider.prototype.stop, use apply() to pass params to core function
2006.07.28 2.0.0 added custom class syntax around label/tip/key syntax: {{{{{classname{[label=key|tip]}}}}}}
2006.07.25 1.9.3 when parsing slider, save default open/closed state in button element, then in onClickNestedSlider(), if slider state matches saved default, instead of saving cookie, delete it.  Significantly reduces the 'cookie overhead' when default slider states are used.
2006.06.29 1.9.2 in onClickNestedSlider(), when setting focus to first control, skip over type=&quot;hidden&quot;
2006.06.22 1.9.1 added panel.defaultPanelWidth to save requested panel width, even after resizing has changed the style value
2006.05.11 1.9.0 added optional '^width^' syntax for floating sliders and '=key' syntax for setting an access key on a slider label
2006.05.09 1.8.0 in onClickNestedSlider(), when showing panel, set focus to first child input/textarea/select element
2006.04.24 1.7.8 in adjustSliderPos(), if floating panel is contained inside another floating panel, subtract offset of containing panel to find correct position
2006.02.16 1.7.7 corrected deferred rendering to account for use-case where show/hide state is tracked in a cookie
2006.02.15 1.7.6 in adjustSliderPos(), ensure that floating panel is positioned completely within the browser window (i.e., does not go beyond the right edge of the browser window)
2006.02.04 1.7.5 add 'var' to unintended global variable declarations to avoid FireFox 1.5.0.1 crash bug when assigning to globals
2006.01.18 1.7.4 only define adjustSliderPos() function if it has not already been provided by another plugin.  This lets other plugins 'hijack' the function even when they are loaded first.
2006.01.16 1.7.3 added adjustSliderPos(place,btn,panel,panelClass) function to permit specialized logic for placement of floating panels.  While it provides improved placement for many uses of floating panels, it exhibits a relative offset positioning error when used within *nested* floating panels.  Short-term workaround is to only adjust the position for 'top-level' floaters.
2006.01.16 1.7.2 added button property to slider panel elements so that slider panel can tell which button it belongs to.  Also, re-activated and corrected animation handling so that nested sliders aren't clipped by hijacking Slider.prototype.stop so that &quot;overflow:hidden&quot; can be reset to &quot;overflow:visible&quot; after animation ends
2006.01.14 1.7.1 added optional &quot;^&quot; syntax for floating panels.  Defines new CSS class, &quot;.floatingPanel&quot;, as an alternative for standard in-line &quot;.sliderPanel&quot; styles.
2006.01.14 1.7.0 added optional &quot;*&quot; syntax for rollover handling to show/hide slider without requiring a click (Based on a suggestion by tw4efl)
2006.01.03 1.6.2 When using optional &quot;!&quot; heading style, instead of creating a clickable &quot;Hn&quot; element, create an &quot;A&quot; element inside the &quot;Hn&quot; element.  (allows click-through in SlideShowPlugin, which captures nearly all click events, except for hyperlinks)
2005.12.15 1.6.1 added optional &quot;...&quot; syntax to invoke deferred ('lazy') rendering for initially hidden sliders
removed checkbox option for 'global' application of lazy sliders
2005.11.25 1.6.0 added optional handling for 'lazy sliders' (deferred rendering for initially hidden sliders)
2005.11.21 1.5.1 revised regular expressions: if present, a single newline //preceding// and/or //following// a slider definition will be suppressed so start/end syntax can be place on separate lines in the tiddler 'source' for improved readability.  Similarly, any whitespace (newlines, tabs, spaces, etc.) trailing the 'start slider' syntax or preceding the 'end slider' syntax is also suppressed.
2005.11.20 1.5.0 added (cookiename) syntax for optional tracking and restoring of slider open/close state
2005.11.11 1.4.0 added !!!!! syntax to render slider label as a header (Hn) style instead of a button/link style
2005.11.07 1.3.0 removed alternative syntax {{{(((}}} and {{{)))}}} (so they can be used by other formatting extensions) and simplified/improved regular expressions to trim multiple excess newlines
2005.11.05 1.2.1 changed name to NestedSlidersPlugin
2005.11.04 1.2.0 added alternative character-mode syntax {{{(((}}} and {{{)))}}}
tweaked &quot;eat newlines&quot; logic for line-mode {{{+++}}} and {{{===}}} syntax
2005.11.03 1.1.1 fixed toggling of default tooltips (&quot;more...&quot; and &quot;less...&quot;) when a non-default button label is used.  code cleanup, added documentation
2005.11.03 1.1.0 changed delimiter syntax from {{{(((}}} and {{{)))}}} to {{{+++}}} and {{{===}}}.  changed name to EasySlidersPlugin
2005.11.03 1.0.0 initial public release
&lt;&lt;&lt;</pre>
</div>
<div title="NewMeansNewPlugin" modifier="Christopher Wilson" created="201106271023" modified="201305222317" tags="systemConfig excludeTimeline" changecount="1">
<pre>/***
|Name:|NewMeansNewPlugin|
|Description:|If 'New Tiddler' already exists then create 'New Tiddler (1)' and so on|
|Version:|1.1.1a|
|Date:|27-Jun-2011|
|Source:|http://mptw.tiddlyspot.com/empty.html#NewMeansNewPlugin|
|Author:|Simon Baird &lt;simon.baird@gmail.com&gt;|
|License|http://mptw.tiddlyspot.com/#TheBSDLicense|
!!Note: I think this should be in the core
***/
//{{{

// change this or set config.newMeansNewForJournalsToo it in MptwUuserConfigPlugin
if (config.newMeansNewForJournalsToo == undefined) config.newMeansNewForJournalsToo = true;

String.prototype.getNextFreeName = function() {
  numberRegExp = / \(([0-9]+)\)$/;
  var match = numberRegExp.exec(this);
  if (match) {
  var num = parseInt(match[1]) + 1;
    return this.replace(numberRegExp,&quot; (&quot;+num+&quot;)&quot;);
  }
  else {
    return this + &quot; (1)&quot;;
  }
}

config.macros.newTiddler.checkForUnsaved = function(newName) {
  var r = false;
  story.forEachTiddler(function(title,element) {
    if (title == newName)
      r = true;
  });
  return r;
}

config.macros.newTiddler.getName = function(newName) {
  while (store.getTiddler(newName) || config.macros.newTiddler.checkForUnsaved(newName))
    newName = newName.getNextFreeName();
  return newName;
}


config.macros.newTiddler.onClickNewTiddler = function()
{
  var title = this.getAttribute(&quot;newTitle&quot;);
  if(this.getAttribute(&quot;isJournal&quot;) == &quot;true&quot;) {
    title = new Date().formatString(title.trim());
  }

  // ---- these three lines should be the only difference between this and the core onClickNewTiddler
  if (config.newMeansNewForJournalsToo || this.getAttribute(&quot;isJournal&quot;) != &quot;true&quot;)
    title = config.macros.newTiddler.getName(title);

  var params = this.getAttribute(&quot;params&quot;);
  var tags = params ? params.split(&quot;|&quot;) : [];
  var focus = this.getAttribute(&quot;newFocus&quot;);
  var template = this.getAttribute(&quot;newTemplate&quot;);
  var customFields = this.getAttribute(&quot;customFields&quot;);
  if(!customFields &amp;&amp; !store.isShadowTiddler(title))
    customFields = String.encodeHashMap(config.defaultCustomFields);
  story.displayTiddler(null,title,template,false,null,null);
  var tiddlerElem = story.getTiddler(title);
  if(customFields)
    story.addCustomFields(tiddlerElem,customFields);
  var text = this.getAttribute(&quot;newText&quot;);
  if(typeof text == &quot;string&quot;)
    story.getTiddlerField(title,&quot;text&quot;).value = text.format([title]);
  for(var t=0;t&lt;tags.length;t++)
    story.setTiddlerTag(title,tags[t],+1);
  story.focusTiddler(title,focus);
  return false;
};

//}}}
</pre>
</div>
<div title="Normal Modes" modifier="Christopher Wilson" created="201403180001" modified="201404082207" tags="[[PGRE Mechanics]] [[PGRE Review]]">
<pre>!!Notes
*The motion described by normal modes is called ''//resonance//''.  The frequencies of the normal modes are called the ''//resonant frequencies//''.
*In linear algebra terms, the normal modes of a system are the ''//eigenvectors//'' that correspond to the ''//eigenfrequencies//'' given by the resonant frequencies of the system.
*Relating to music, normal modes are called ''//harmonics//'' or ''//overtones//''.
*The modes are normal in the sense that they can move independently.  Thus, normal modes are ''//orthogonal//'' to each other.
*The most general solution of an oscillatory mechanical system is a superposition of it's normal modes.

!!Examples
* http://scienceworld.wolfram.com/physics/SpringsThreeSpringsandTwoMasses.html
</pre>
</div>
<div title="Notebook Configuration" modifier="Christopher Wilson" created="201305240021" modified="201404150206" tags="Reference excludeTimeline" alias="" changecount="7" content-type="text/x-tiddlywiki">
<pre>//Note:// This section is quite outdated at the moment due to many recent changes made to this tiddlywiki.  

This ~TiddlyWiki was modified by myself, originally from the [[MPTW distribution|http://mptw.tiddlyspot.com/]] as the base configuration.  However, I've since abandoned their setup.

!!Customization
I have made several modifications to the base MPTW distribution.  From the original .html file provided, I replaced the button names used in [[SideBarOptions]] with icons using the [[SetIconPlugin]].  I also made a few minor font-size adjustments to the css stylesheet provided in the file as opposed to using the [[StyleSheet]] tiddly, since some of my additions were not overriding the base configuration.  Also, I have disabled a couple of the base plugins used in the MPTW distribution.  The [[InstantTimestampPlugin]] kept turning my time derivatives into calendar dates, so that had to go.  I also disabled the [[LessBackupsPlugin]], since I am under the impression that it was causing my notebook to not save properly after a certain amount of time had passed.

!!Mathematics Typesetting
All of the mathematical content was typeset using [[MathJax|http://www.mathjax.org/]] via the [[PluginMathJax v1.3]] plugin.  I made a small edit to the original plugin code in order to use the \$...\$ command when writing inline ~TeX.  Consequently, dollar signs must be delimited now using a backslash in order to be displayed as regular text. Originally, I tried using [[jsMath|http://www.math.union.edu/~dpvc/jsmath/]] for typesetting, but found the script to be limiting in several aspects. In particular, ~MathJax offers a wider range of ~TeX commands, and displays properly without needing users to install any additional fonts beforehand.

Also, I set up ~MathJax to run locally, and have made the corresponding tweaks to [[PluginMathJax v1.3]].  This has the added benefit of allowing one to use ~MathJax offline from their personal computer.  Also, installing a local distribution to one's global dropbox folder allows ~MathJax to work via free dropbox hosting.

!!Font Awesome
Font Awesome is an icon font package that is implemented through a custom html command {{{&lt;i class=&quot;fa fa-name&quot;&gt;&lt;/i&gt;}}}, where //fa-name// stands for the name of the icon being called.  The package can be installed locally by following the directions on their [[website|http:/http://fortawesome.github.io/Font-Awesome/get-started/]], and by adding the line {{{&lt;link rel='alternate' type='application/rss+xml' title='RSS' href='index.xml'/&gt;}}} to the bottom of the [[MarkupPreHead]] tiddler.

!!Additional Plugins
A full list of all of the plugins being used may be found in [[systemConfig]].  As for the plugins I have personally added, 
*[[AliasPlugin]] - This may be used to create customized commands, or 'macros'.  
*[[FontSizePlugin]] - This plugin adds the font-size toolbar located in the upper right above the search bar.  I placed the corresponding macro in the [[SideBarOptions]] tiddler, and adjusted the position of the toolbar by creating a stylesheet in [[StyleSheet]].
*[[FootnotesPlugin]] - This plugin allows for the implementation of footnotes as used in most academic journals```It took me hours to get this plugin working; apparently there is a conflict of interest between the plugin and the base [[MptwTheme]].  I loosely followed the instructions listed [[here|https://groups.google.com/forum/?fromgroups#!topic/tiddlywiki/401FB3HAjFw]], but they didn't work for me at first. After a bunch of additional tinkering around of my own, the plugin finally started working correctly.  The results of my tweaking may be found in [[MptwTheme]].```. 
*[[BibTexPlugin]] - This plugin has been modified from the original version so that all citations are entered in as a footnote, using the [[FootnotesPlugin]].  I also made a modification so that multiple tiddlers can be used to store bibliography information.  The modification details are listed in [[BibTexPlugin]].   See BibTexDemo for a usage demo.
*[[PluginMathJax v1.3]] - For \( \LaTeX \) typesetting.
*[[NestedSlidersPlugin]] - Allows for displaying nested content within a tiddler, as used for displaying examples on [[The Action Principle]].
*[[ExcludedTimelinePlugin]] - Hides tiddlers from the timeline that contain the 'excludeTimeline' tag.
*[[RearrangeTiddlersPlugin]] - This plugin allows for notes to be moved around on the screen. 
*[[ShowReferencesPlugin]] - Allows for a list of referencing notes to be displayed on each tiddler.  I edited the ~ViewTemplate within MptwTheme and added a style to StyleSheet so that all referencing tiddlers display at the bottom of each note.
*[[DisableDblClickPlugin]] - Disables the double click to edit a tiddler feature; this plugin was necessary in order to disable the double click feature when using MptwTheme.  Also, add the line {{{config.options.chkDoubleClickToEdit=false;}}} to MptwUserConfigPlugin in order to activate this plugin.
*[[LooseLinksPlugin]] - This plugin removes the case-sensitivity from in-site tiddly links.
*[[RevisionsPlugin]] - This plugin allows for saving revisions of any tiddler marked with the [[Revisions]] tag.  I made a slight modification to this plugin so that revisions are also tagged with //excludeTimeline// tag.
*[[MatchTagsPlugin]] - I use this in tandem with the [[RevisionsPlugin]].  Specifically, this plugin allows me to list all tiddlers tagged as //Revisions// on the [[Revisions]] tiddler, even though each of these tiddlers also has the //excludeLists// tag.

!!Useful External Links
*[[General TiddlyWiki Syntax|http://tiddlywiki.tiddlyspace.com/TiddlyWiki%20Markup]]
*[[List of LaTeX Symbols|http://www.tex.ac.uk/tex-archive/info/symbols/comprehensive/symbols-a4.pdf]]
*[[Embed PDF's in TiddlyWiki|http://dl.dropboxusercontent.com/u/1064531/screendmp/empty/TestPdf/TestPdf.html#%5B%5BDifferent%20ways%20to%20embed%20pdfs%20in%20a%20tiddler%5D%5D%20GettingStarted]]

</pre>
</div>
<div title="Null Energy Condition" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405060637" modified="201405150414" tags="[[Topology Paper]]" changecount="18" content-type="text/x-tiddlywiki" alias="">
<pre>The //Null energy condition// is the requirement that $T_{\mu\nu}k^\mu k^\nu \geq 0$, for all null vectors $k^\mu$, where $T^{\mu\nu}$ is the [[Stress-Energy Tensor]].
*This condition is implies by each of the common positive energy conditions: the [[Weak Energy Condition]], the [[Strong Energy Condition]], and the [[Dominant Energy Condition]].&lt;&lt;bibtex PhysRevLett.71.1486&gt;&gt;
*The null energy condition implies that the convergence of a [[Congruence]] of null geodesics cannot decrease and thus that initially converging null geodesics have conjugate points.</pre>
</div>
<div title="OpenTopPlugin" modifier="Christopher Wilson" created="201305261623" modified="201404132232" tags="systemConfig excludeTimeline systemConfigDisable" content-type="" changecount="5">
<pre>/***
|Name|OpenTopPlugin|
|Created by|SaqImtiaz|
|Location|http://tw.lewcid.org/#OpenTopPlugin|
|Version|0.1|
|Requires|~TW2.x|
!!!Issues:
This messes up the ordering when creating permalinks (permaview).  Also, clicking on tiddler link for an already open tiddler is not focused.
!!!Description:
Open new tiddlers at the top of the screen.

!!!Code
***/
//{{{
Story.prototype.coreLewcidDisplayTiddler=Story.prototype.displayTiddler ;
Story.prototype.displayTiddler =
function(srcElement,title,template,unused1,unused2,animate,slowly)
{
       var srcElement=null;
       if (document.getElementById(this.idPrefix + title))
          {story.closeTiddler(title);}
       this.coreLewcidDisplayTiddler(srcElement,title,template,unused1,unused2,animate,slowly);
       window.scrollTo(0,0);
}
//}}}</pre>
</div>
<div title="OptionsPanel" modifier="Christopher Wilson" created="201402240707" modified="201402240754" tags="excludeTimeline">
<pre>/%
These [[InterfaceOptions]] for customising [[TiddlyWiki]] are saved in your browser

Your username for signing your edits. Write it as a [[WikiWord]] (eg [[JoeBloggs]])

&lt;&lt;option txtUserName&gt;&gt;
&lt;&lt;option chkSaveBackups&gt;&gt; [[SaveBackups]]
&lt;&lt;option chkAutoSave&gt;&gt; [[AutoSave]]
&lt;&lt;option chkRegExpSearch&gt;&gt; [[RegExpSearch]]
&lt;&lt;option chkCaseSensitiveSearch&gt;&gt; [[CaseSensitiveSearch]]
&lt;&lt;option chkAnimate&gt;&gt; [[EnableAnimations]]%/
{{select{/%&lt;&lt;selectTheme&gt;&gt;%/

&lt;&lt;selectPalette&gt;&gt;}}}
----
Also see [[AdvancedOptions]]</pre>
</div>
<div title="Order Relation" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404232352" modified="201404232353" tags="Topology" changecount="4" content-type="text/x-tiddlywiki">
<pre>!!Definition
A relation $\sim$ on a set $A$ is called an //''order relation''// (//''simple order''//, ''//linear order//'') if it has the following properties:
#(Comparability) For every $x$ and $y$ in $A$ for which $x\neq y$, either $x \sim y$ or $y \sim x$.
#(Nonreflexivity) For no $x$ in $A$ does the relation $x \sim x$ hold.
#(Transitivity) If $x\sim y$ and $y\sim z$, then $x \sim z$.</pre>
</div>
<div title="Order Topology" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404240338" modified="201404240400" tags="[[Common Topologies]]" changecount="2" content-type="">
<pre>!!Definition
Let $X$ be a set with a simple [[order relation]]; assume $X$ has more than one element.  Let $\mathcal{B}$ be the collection of all sets of the following types:
#All open intervals $(a,b)$ in $X$.
#All intervals of the form $[a_0,b)$, where $a_0$ is the smallest element (if any) of $X$.
#All intervals of the form $(a,b_0]$, where $b_0$ is the largest element (if any) of $X$.

The collection $\mathcal{B}$ is a basis for a topology on $X$, which is called the ''//order topology//''.</pre>
</div>
<div title="PDF Demo" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404140821" modified="201405200448" tags="Homework PHY408 excludeTimeline example" changecount="10" content-type="" alias="">
<pre>&lt;html&gt;&lt;div align=&quot;center&quot;&gt;&lt;iframe src=&quot;Ising_Compare_M.pdf&quot; frameborder=&quot;0&quot; width=&quot;100%&quot; height=&quot;720px&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/html&gt;</pre>
</div>
<div title="PGRE Review" modifier="Christopher Wilson" created="201402230015" modified="201402230444" tags="excludeTimeline" changecount="1" taggly.listmode="group">
<pre></pre>
</div>
<div title="PGRE specialRelativity" modifier="Christopher Wilson" created="201402230031" modified="201402230443" tags="excludeTimeline" changecount="1">
<pre></pre>
</div>
<div title="PageTemplate" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405171230" tags="excludeTimeline systemTemplate" alias="" content-type="text/html" changecount="21">
<pre>&lt;div class='header' macro='gradient vert [[ColorPalette::PrimaryLight]] [[ColorPalette::PrimaryMid]]'&gt;
    &lt;div class='headerShadow'&gt;
        &lt;span class='siteTitle' refresh='content' tiddler='SiteTitle'&gt;&lt;/span&gt;&amp;nbsp;
        &lt;span class='siteSubtitle' refresh='content' tiddler='SiteSubtitle'&gt;&lt;/span&gt;
    &lt;/div&gt;
    &lt;div class='headerForeground'&gt;
        &lt;span class='siteTitle' refresh='content' tiddler='SiteTitle'&gt;&lt;/span&gt;&amp;nbsp;
        &lt;span class='siteSubtitle' refresh='content' tiddler='SiteSubtitle'&gt;&lt;/span&gt;
    &lt;/div&gt;
&lt;/div&gt;
&lt;!-- horizontal MainMenu --&gt;
&lt;div id='topMenu' refresh='content' tiddler='MainMenu'&gt;&lt;/div&gt;
&lt;!-- original MainMenu menu --&gt;
&lt;!-- &lt;div id='mainMenu' refresh='content' tiddler='MainMenu'&gt;&lt;/div&gt; --&gt;
&lt;div id='sidebar' tiddler='SideBar'&gt;
    &lt;div id='sidebarOptions' refresh='content' tiddler='SideBarOptions'&gt;&lt;/div&gt;
    &lt;div id='sidebarTabs' refresh='content' force='true' tiddler='SideBarTabs'&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div id='displayArea'&gt;
    &lt;div id='messageArea'&gt;&lt;/div&gt;
    &lt;div id='tiddlerDisplay'&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;!--&lt;span class='body-noise' style=&quot;position: fixed;top:0px;left:0px;height:100%;width:100%;&quot;&gt;&lt;/span&gt;--&gt;</pre>
</div>
<div title="Palette Viewer" modifier="Christopher Wilson" created="201404110517" modified="201405060705" tags="excludeTimeline Reference" changecount="7" content-type="">
<pre>Current System Palette:
&lt;&lt;paletteView [[ColorPalette]]&gt;&gt;

/%RGB hexadecimal 216-color &quot;Web safe&quot; palette %/
Source: Paul Petterson, revised by Eric Shulman
{{menubox{
|bgcolor(#FFF):FFF |bgcolor(#CCC):CCC |bgcolor(#999):999 |bgcolor(#666):@@color(white):666@@ |bgcolor(#333):@@color(white):333@@ |bgcolor(#000):@@color(white):000@@ |bgcolor(#FC0):~FC0 |bgcolor(#F90):F90 |bgcolor(#F60):@@color(white):F60@@ |bgcolor(#F30):@@color(white):F30@@ |&gt;|&gt;|&gt;|&gt;|&gt;| |
|bgcolor(#9C0):9C0 |&gt;|&gt;|&gt;| |bgcolor(#C90):C90 |bgcolor(#FC3):~FC3 |bgcolor(#FC6):~FC6 |bgcolor(#F96):F96 |bgcolor(#F63):@@color(white):F63@@ |bgcolor(#C30):@@color(white):C30@@ |&gt;|&gt;|&gt;| |bgcolor(#C03):@@color(white):C03@@ |
|bgcolor(#CF0):~CF0 |bgcolor(#CF3):~CF3 |bgcolor(#330):@@color(white):330@@ |bgcolor(#660):@@color(white):660@@ |bgcolor(#990):990 |bgcolor(#CC0):~CC0 |bgcolor(#FF0):~FF0 |bgcolor(#C93):C93 |bgcolor(#C63):@@color(white):C63@@ |bgcolor(#300):@@color(white):300@@ |bgcolor(#600):@@color(white):600@@ |bgcolor(#900):@@color(white):900@@ |bgcolor(#C00):@@color(white):C00@@ |bgcolor(#F00):@@color(white):F00@@ |bgcolor(#F36):@@color(white):F36@@ |bgcolor(#F03):@@color(white):F03@@ |
|bgcolor(#9F0):9F0 |bgcolor(#CF6):~CF6 |bgcolor(#9C3):9C3 |bgcolor(#663):@@color(white):663@@ |bgcolor(#993):993 |bgcolor(#CC3):~CC3 |bgcolor(#FF3):~FF3 |bgcolor(#960):@@color(white):960@@ |bgcolor(#930):@@color(white):930@@ |bgcolor(#633):@@color(white):633@@ |bgcolor(#933):@@color(white):933@@ |bgcolor(#C33):@@color(white):C33@@ |bgcolor(#F33):@@color(white):F33@@ |bgcolor(#C36):@@color(white):C36@@ |bgcolor(#F69):@@color(white):F69@@ |bgcolor(#F06):@@color(white):F06@@ |
|bgcolor(#6F0):6F0 |bgcolor(#9F6):9F6 |bgcolor(#6C3):6C3 |bgcolor(#690):690 |bgcolor(#996):996 |bgcolor(#CC6):~CC6 |bgcolor(#FF6):~FF6 |bgcolor(#963):@@color(white):963@@ |bgcolor(#630):@@color(white):630@@ |bgcolor(#966):@@color(white):966@@ |bgcolor(#C66):@@color(white):C66@@ |bgcolor(#F66):@@color(white):F66@@ |bgcolor(#903):@@color(white):903@@ |bgcolor(#C39):@@color(white):C39@@ |bgcolor(#F6C):@@color(white):~F6C@@ |bgcolor(#F09):@@color(white):F09@@ |
|bgcolor(#3F0):3F0 |bgcolor(#6F3):6F3 |bgcolor(#390):390 |bgcolor(#6C0):6C0 |bgcolor(#9F3):9F3 |bgcolor(#CC9):~CC9 |bgcolor(#FF9):~FF9 |bgcolor(#C96):C96 |bgcolor(#C60):@@color(white):C60@@ |bgcolor(#C99):C99 |bgcolor(#F99):F99 |bgcolor(#F39):@@color(white):F39@@ |bgcolor(#C06):@@color(white):C06@@ |bgcolor(#906):@@color(white):906@@ |bgcolor(#F3C):@@color(white):~F3C@@ |bgcolor(#F0C):@@color(white):~F0C@@ |
|bgcolor(#0C0):0C0 |bgcolor(#3C0):3C0 |bgcolor(#360):@@color(white):360@@ |bgcolor(#693):693 |bgcolor(#9C6):9C6 |bgcolor(#CF9):~CF9 |bgcolor(#FFC):FFC |bgcolor(#FC9):~FC9 |bgcolor(#F93):F93 |bgcolor(#FCC):FCC |bgcolor(#F9C):~F9C |bgcolor(#C69):@@color(white):C69@@ |bgcolor(#936):@@color(white):936@@ |bgcolor(#603):@@color(white):603@@ |bgcolor(#C09):@@color(white):C09@@ |bgcolor(#303):@@color(white):303@@ |
|bgcolor(#3C3):3C3 |bgcolor(#6C6):6C6 |bgcolor(#0F0):0F0 |bgcolor(#3F3):3F3 |bgcolor(#6F6):6F6 |bgcolor(#9F9):9F9 |bgcolor(#CFC):CFC |&gt;|&gt;| |bgcolor(#C9C):~C9C |bgcolor(#969):@@color(white):969@@ |bgcolor(#939):@@color(white):939@@ |bgcolor(#909):@@color(white):909@@ |bgcolor(#636):@@color(white):636@@ |bgcolor(#606):@@color(white):606@@ |
|bgcolor(#060):@@color(white):060@@ |bgcolor(#363):@@color(white):363@@ |bgcolor(#090):090 |bgcolor(#393):393 |bgcolor(#696):696 |bgcolor(#9C9):9C9 |&gt;|&gt;| |bgcolor(#FCF):FCF |bgcolor(#F9F):~F9F |bgcolor(#F6F):@@color(white):~F6F@@ |bgcolor(#F3F):@@color(white):~F3F@@ |bgcolor(#F0F):@@color(white):~F0F@@ |bgcolor(#C6C):@@color(white):~C6C@@ |bgcolor(#C3C):@@color(white):~C3C@@ |
|bgcolor(#030):@@color(white):030@@ |bgcolor(#0C3):0C3 |bgcolor(#063):@@color(white):063@@ |bgcolor(#396):396 |bgcolor(#6C9):6C9 |bgcolor(#9FC):9FC |bgcolor(#CFF):CFF |bgcolor(#39F):39F |bgcolor(#9CF):9CF |bgcolor(#CCF):CCF |bgcolor(#C9F):~C9F |bgcolor(#96C):@@color(white):96C@@ |bgcolor(#639):@@color(white):639@@ |bgcolor(#306):@@color(white):306@@ |bgcolor(#90C):@@color(white):90C@@ |bgcolor(#C0C):@@color(white):~C0C@@ |
|bgcolor(#0F3):0F3 |bgcolor(#3F6):3F6 |bgcolor(#093):093 |bgcolor(#0C6):0C6 |bgcolor(#3F9):3F9 |bgcolor(#9FF):9FF |bgcolor(#9CC):9CC |bgcolor(#06C):@@color(white):06C@@ |bgcolor(#69C):69C |bgcolor(#99F):99F |bgcolor(#99C):99C |bgcolor(#93F):@@color(white):93F@@ |bgcolor(#60C):@@color(white):60C@@ |bgcolor(#609):@@color(white):609@@ |bgcolor(#C3F):@@color(white):~C3F@@ |bgcolor(#C0F):@@color(white):~C0F@@ |
|bgcolor(#0F6):0F6 |bgcolor(#6F9):6F9 |bgcolor(#3C6):3C6 |bgcolor(#096):096 |bgcolor(#6FF):6FF |bgcolor(#6CC):6CC |bgcolor(#699):699 |bgcolor(#036):@@color(white):036@@ |bgcolor(#369):@@color(white):369@@ |bgcolor(#66F):@@color(white):66F@@ |bgcolor(#66C):@@color(white):66C@@ |bgcolor(#669):@@color(white):669@@ |bgcolor(#309):@@color(white):309@@ |bgcolor(#93C):@@color(white):93C@@ |bgcolor(#C6F):@@color(white):~C6F@@ |bgcolor(#90F):@@color(white):90F@@ |
|bgcolor(#0F9):0F9 |bgcolor(#6FC):6FC |bgcolor(#3C9):3C9 |bgcolor(#3FF):3FF |bgcolor(#3CC):3CC |bgcolor(#399):399 |bgcolor(#366):@@color(white):366@@ |bgcolor(#069):@@color(white):069@@ |bgcolor(#039):@@color(white):039@@ |bgcolor(#33F):@@color(white):33F@@ |bgcolor(#33C):@@color(white):33C@@ |bgcolor(#339):@@color(white):339@@ |bgcolor(#336):@@color(white):336@@ |bgcolor(#63C):@@color(white):63C@@ |bgcolor(#96F):@@color(white):96F@@ |bgcolor(#60F):@@color(white):60F@@ |
|bgcolor(#0FC):0FC |bgcolor(#3FC):3FC |bgcolor(#0FF):0FF |bgcolor(#0CC):0CC |bgcolor(#099):099 |bgcolor(#066):@@color(white):066@@ |bgcolor(#033):@@color(white):033@@ |bgcolor(#39C):39C |bgcolor(#36C):@@color(white):36C@@ |bgcolor(#00F):@@color(white):00F@@ |bgcolor(#00C):@@color(white):00C@@ |bgcolor(#009):@@color(white):009@@ |bgcolor(#006):@@color(white):006@@ |bgcolor(#003):@@color(white):003@@ |bgcolor(#63F):@@color(white):63F@@ |bgcolor(#30F):@@color(white):30F@@ |
|bgcolor(#0C9):0C9 |&gt;|&gt;|&gt;| |bgcolor(#09C):09C |bgcolor(#3CF):3CF |bgcolor(#6CF):6CF |bgcolor(#69F):69F |bgcolor(#36F):@@color(white):36F@@ |bgcolor(#03C):@@color(white):03C@@ |&gt;|&gt;|&gt;| |bgcolor(#30C):@@color(white):30C@@ |
|&gt;|&gt;|&gt;|&gt;|&gt;| |bgcolor(#0CF):0CF |bgcolor(#09F):09F |bgcolor(#06F):@@color(white):06F@@ |bgcolor(#03F):@@color(white):03F@@ |&gt;|&gt;|&gt;|&gt;|&gt;| |
&lt;script&gt;place.lastChild.style.width=&quot;95%&quot;&lt;/script&gt;}}}</pre>
</div>
<div title="PaletteViewPlugin" modifier="Christopher Wilson" created="201404110512" modified="201404110514" tags="excludeTimeline systemConfig" changecount="2">
<pre>/***
|''Name''|[[PaletteViewMacro]]|
|''Version''|0.2|
|''Author''|[[FND]]|
|''Source''|[[FND's DevPad|http://devpad.tiddlyspot.com/#PaletteViewMacro]]|
|''License''|[[Creative Commons Attribution-ShareAlike 3.0 License|http://creativecommons.org/licenses/by-sa/3.0/]]|
|''~CoreVersion''|2.1|
|''Type''|macro|
|''Description''|Displays color palettes.|
!Notes
There is also [[ViewPalettePlugin|http://simon.tiddlyspot.com/#ViewPalettePlugin]]
!Usage
{{{
&lt;&lt;paletteView [tiddler name]&gt;&gt;
}}}
!!Example
&lt;&lt;paletteView [[ColorPalette]]&gt;&gt;
!Revision History
!!v0.1 (2007-11-18)
* initial release
!!v0.2 (2007-11-20)
* limited processing to slices containing [[actual color values|http://www.w3.org/TR/CSS21/syndata.html#color-units]]
* changed fallback value to the tiddler the macro is called from (instead of using [[ColorPalette]])
!To Do
* selection list for all available palettes (tag-based)
* parameter for custom table class
* customizable column order
* documentation (e.g. using from within [[ViewTemplate]])
!Code
***/
//{{{
config.macros.paletteView = {};

config.macros.paletteView.handler = function(place, macroName, params, wikifier, paramString, tiddler) {
	var title = params[0] || tiddler.title;
	//var palettes = store.getTaggedTiddlers(params[0]); // DEBUG: yet to be implemented
	var colors = store.calcAllSlices(title);
	var labels = [];
	for(var c in colors) {
		if(this.isColor(colors[c])) {
			labels.push(c);
		}
	}
	if(labels.length &gt; 0) {
		var output = &quot;|!Sample|!Value|!Name|h\n&quot;;
		for(var i = 0; i &lt; labels.length; i++) {
			output += &quot;|padding:0 4em;background-color:&quot; + colors[labels[i]] + &quot;;&amp;nbsp;|&quot;
				+ &quot;{{{&quot; + colors[labels[i]] + &quot;}}}|&quot;
				+ &quot;[[&quot; + labels[i] + &quot;|&quot; + title + &quot;]]|\n&quot;;
		}
		wikify(output, place);
	}
};

config.macros.paletteView.isColor = function(s) {
	var colors = [&quot;Black&quot;, &quot;Green&quot;, &quot;Silver&quot;, &quot;Lime&quot;, &quot;Gray&quot;, &quot;Olive&quot;, &quot;White&quot;, &quot;Yellow&quot;,
		&quot;Maroon&quot;, &quot;Navy&quot;, &quot;Red&quot;, &quot;Blue&quot;, &quot;Purple&quot;, &quot;Teal&quot;, &quot;Fuchsia&quot;, &quot;Aqua&quot;, &quot;Orange&quot;];
	var match = s.match(/^#[0-9A-F]{3}$|^#[0-9A-F]{6}$|^RGB\([\d,\s]{5,}\)$/i);
	if(match) return true;
	if(colors.contains(s)) return true;
	return false;
};
//}}}</pre>
</div>
<div title="PartTiddlerPlugin" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404121941" modified="201404121942" tags="systemConfig excludeTimeline" changecount="5" content-type="text/x-tiddlywiki" alias="">
<pre>/***
|&lt;html&gt;&lt;a name=&quot;Top&quot;/&gt;&lt;/html&gt;''Name:''|PartTiddlerPlugin|
|''Version:''|1.0.10 (2011-05-23)|
|''Source:''|http://tiddlywiki.abego-software.de/#PartTiddlerPlugin|
|''Author:''|UdoBorkowski (ub [at] abego-software [dot] de)|
|''Licence:''|[[BSD open source license]]|
|''CoreVersion:''|2.1.3|
|''Browser:''|Firefox 1.0.4+; InternetExplorer 6.0|
!Table of Content&lt;html&gt;&lt;a name=&quot;TOC&quot;/&gt;&lt;/html&gt;
* &lt;html&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollAnchorVisible('Description',null, event)&quot;&gt;Description, Syntax&lt;/a&gt;&lt;/html&gt;
* &lt;html&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollAnchorVisible('Applications',null, event)&quot;&gt;Applications&lt;/a&gt;&lt;/html&gt;
** &lt;html&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollAnchorVisible('LongTiddler',null, event)&quot;&gt;Refering to Paragraphs of a Longer Tiddler&lt;/a&gt;&lt;/html&gt;
** &lt;html&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollAnchorVisible('Citation',null, event)&quot;&gt;Citation Index&lt;/a&gt;&lt;/html&gt;
** &lt;html&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollAnchorVisible('TableCells',null, event)&quot;&gt;Creating &quot;multi-line&quot; Table Cells&lt;/a&gt;&lt;/html&gt;
** &lt;html&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollAnchorVisible('Tabs',null, event)&quot;&gt;Creating Tabs&lt;/a&gt;&lt;/html&gt;
** &lt;html&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollAnchorVisible('Sliders',null, event)&quot;&gt;Using Sliders&lt;/a&gt;&lt;/html&gt;
* &lt;html&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollAnchorVisible('Revisions',null, event)&quot;&gt;Revision History&lt;/a&gt;&lt;/html&gt;
* &lt;html&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollAnchorVisible('Code',null, event)&quot;&gt;Code&lt;/a&gt;&lt;/html&gt;
!Description&lt;html&gt;&lt;a name=&quot;Description&quot;/&gt;&lt;/html&gt;
With the {{{&lt;part aPartName&gt; ... &lt;/part&gt;}}} feature you can structure your tiddler text into separate (named) parts. 
Each part can be referenced as a &quot;normal&quot; tiddler, using the &quot;//tiddlerName//''/''//partName//&quot; syntax (e.g. &quot;About/Features&quot;).  E.g. you may create links to the parts (e.g. {{{[[Quotes/BAX95]]}}} or {{{[[Hobbies|AboutMe/Hobbies]]}}}), use it in {{{&lt;&lt;tiddler...&gt;&gt;}}} or {{{&lt;&lt;tabs...&gt;&gt;}}} macros etc.


''Syntax:'' 
|&gt;|''&lt;part'' //partName// [''hidden''] ''&gt;'' //any tiddler content// ''&lt;/part&gt;''|
|//partName//|The name of the part. You may reference a part tiddler with the combined tiddler name &quot;//nameOfContainerTidder//''/''//partName//. &lt;&lt;br&gt;&gt;If you use a partName containing spaces you need to quote it (e.g. {{{&quot;Major Overview&quot;}}} or {{{[[Shortcut List]]}}}).|
|''hidden''|When defined the content of the part is not displayed in the container tiddler. But when the part is explicitly referenced (e.g. in a {{{&lt;&lt;tiddler...&gt;&gt;}}} macro or in a link) the part's content is displayed.|
|&lt;html&gt;&lt;i&gt;any&amp;nbsp;tiddler&amp;nbsp;content&lt;/i&gt;&lt;/html&gt;|&lt;html&gt;The content of the part.&lt;br&gt;A part can have any content that a &quot;normal&quot; tiddler may have, e.g. you may use all the formattings and macros defined.&lt;/html&gt;|
|&gt;|~~Syntax formatting: Keywords in ''bold'', optional parts in [...]. 'or' means that exactly one of the two alternatives must exist.~~|
&lt;html&gt;&lt;sub&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollAnchorVisible('Top',null, event)&quot;&gt;[Top]&lt;/sub&gt;&lt;/a&gt;&lt;/html&gt;

!Applications&lt;html&gt;&lt;a name=&quot;Applications&quot;/&gt;&lt;/html&gt;
!!Refering to Paragraphs of a Longer Tiddler&lt;html&gt;&lt;a name=&quot;LongTiddler&quot;/&gt;&lt;/html&gt;
Assume you have written a long description in a tiddler and now you want to refer to the content of a certain paragraph in that tiddler (e.g. some definition.) Just wrap the text with a ''part'' block, give it a nice name, create a &quot;pretty link&quot; (like {{{[[Discussion Groups|Introduction/DiscussionGroups]]}}}) and you are done.

Notice this complements the approach to first writing a lot of small tiddlers and combine these tiddlers to one larger tiddler in a second step (e.g. using the {{{&lt;&lt;tiddler...&gt;&gt;}}} macro). Using the ''part'' feature you can first write a &quot;classic&quot; (longer) text that can be read &quot;from top to bottom&quot; and later &quot;reuse&quot; parts of this text for some more &quot;non-linear&quot; reading.

&lt;html&gt;&lt;sub&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollAnchorVisible('Top',null, event)&quot;&gt;[Top]&lt;/sub&gt;&lt;/a&gt;&lt;/html&gt;

!!Citation Index&lt;html&gt;&lt;a name=&quot;Citation&quot;/&gt;&lt;/html&gt;
Create a tiddler &quot;Citations&quot; that contains your &quot;citations&quot;. 
Wrap every citation with a part and a proper name. 

''Example''
{{{
&lt;part BAX98&gt;Baxter, Ira D. et al: //Clone Detection Using Abstract Syntax Trees.// 
in //Proc. ICSM//, 1998.&lt;/part&gt;

&lt;part BEL02&gt;Bellon, Stefan: //Vergleich von Techniken zur Erkennung duplizierten Quellcodes.// 
Thesis, Uni Stuttgart, 2002.&lt;/part&gt;

&lt;part DUC99&gt;Ducasse, Stfane et al: //A Language Independent Approach for Detecting Duplicated Code.// 
in //Proc. ICSM//, 1999.&lt;/part&gt;
}}}

You may now &quot;cite&quot; them just by using a pretty link like {{{[[Citations/BAX98]]}}} or even more pretty, like this {{{[[BAX98|Citations/BAX98]]}}}.

&lt;html&gt;&lt;sub&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollAnchorVisible('Top',null, event)&quot;&gt;[Top]&lt;/sub&gt;&lt;/a&gt;&lt;/html&gt;

!!Creating &quot;multi-line&quot; Table Cells&lt;html&gt;&lt;a name=&quot;TableCells&quot;/&gt;&lt;/html&gt;
You may have noticed that it is hard to create table cells with &quot;multi-line&quot; content. E.g. if you want to create a bullet list inside a table cell you cannot just write the bullet list
{{{
* Item 1
* Item 2
* Item 3
}}}
into a table cell (i.e. between the | ... | bars) because every bullet item must start in a new line but all cells of a table row must be in one line.

Using the ''part'' feature this problem can be solved. Just create a hidden part that contains the cells content and use a {{{&lt;&lt;tiddler &gt;&gt;}}} macro to include its content in the table's cell.

''Example''
{{{
|!Subject|!Items|
|subject1|&lt;&lt;tiddler ./Cell1&gt;&gt;|
|subject2|&lt;&lt;tiddler ./Cell2&gt;&gt;|

&lt;part Cell1 hidden&gt;
* Item 1
* Item 2
* Item 3
&lt;/part&gt;
...
}}}

Notice that inside the {{{&lt;&lt;tiddler ...&gt;&gt;}}} macro you may refer to the &quot;current tiddler&quot; using the &quot;.&quot;.

BTW: The same approach can be used to create bullet lists with items that contain more than one line.

&lt;html&gt;&lt;sub&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollAnchorVisible('Top',null, event)&quot;&gt;[Top]&lt;/sub&gt;&lt;/a&gt;&lt;/html&gt;

!!Creating Tabs&lt;html&gt;&lt;a name=&quot;Tabs&quot;/&gt;&lt;/html&gt;
The build-in {{{&lt;&lt;tabs ...&gt;&gt;}}} macro requires that you defined an additional tiddler for every tab it displays. When you want to have &quot;nested&quot; tabs you need to define a tiddler for the &quot;main tab&quot; and one for every tab it contains. I.e. the definition of a set of tabs that is visually displayed at one place is distributed across multiple tiddlers.

With the ''part'' feature you can put the complete definition in one tiddler, making it easier to keep an overview and maintain the tab sets.

''Example''
The standard tabs at the sidebar are defined by the following eight tiddlers:
* SideBarTabs
* TabAll
* TabMore
* TabMoreMissing
* TabMoreOrphans
* TabMoreShadowed
* TabTags
* TabTimeline

Instead of these eight tiddlers one could define the following SideBarTabs tiddler that uses the ''part'' feature:
{{{
&lt;&lt;tabs txtMainTab 
    Timeline Timeline SideBarTabs/Timeline 
    All 'All tiddlers' SideBarTabs/All 
    Tags 'All tags' SideBarTabs/Tags 
    More 'More lists' SideBarTabs/More&gt;&gt;
&lt;part Timeline hidden&gt;&lt;&lt;timeline&gt;&gt;&lt;/part&gt;
&lt;part All hidden&gt;&lt;&lt;list all&gt;&gt;&lt;/part&gt;
&lt;part Tags hidden&gt;&lt;&lt;allTags&gt;&gt;&lt;/part&gt;
&lt;part More hidden&gt;&lt;&lt;tabs txtMoreTab 
    Missing 'Missing tiddlers' SideBarTabs/Missing 
    Orphans 'Orphaned tiddlers' SideBarTabs/Orphans 
    Shadowed 'Shadowed tiddlers' SideBarTabs/Shadowed&gt;&gt;&lt;/part&gt;
&lt;part Missing hidden&gt;&lt;&lt;list missing&gt;&gt;&lt;/part&gt;
&lt;part Orphans hidden&gt;&lt;&lt;list orphans&gt;&gt;&lt;/part&gt;
&lt;part Shadowed hidden&gt;&lt;&lt;list shadowed&gt;&gt;&lt;/part&gt;
}}}

Notice that you can easily &quot;overwrite&quot; individual parts in separate tiddlers that have the full name of the part.

E.g. if you don't like the classic timeline tab but only want to see the 100 most recent tiddlers you could create a tiddler &quot;~SideBarTabs/Timeline&quot; with the following content:
{{{
&lt;&lt;forEachTiddler 
		sortBy 'tiddler.modified' descending 
		write '(index &lt; 100) ? &quot;* [[&quot;+tiddler.title+&quot;]]\n&quot;:&quot;&quot;'&gt;&gt;
}}}
&lt;html&gt;&lt;sub&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollAnchorVisible('Top',null, event)&quot;&gt;[Top]&lt;/sub&gt;&lt;/a&gt;&lt;/html&gt;

!!Using Sliders&lt;html&gt;&lt;a name=&quot;Sliders&quot;/&gt;&lt;/html&gt;
Very similar to the build-in {{{&lt;&lt;tabs ...&gt;&gt;}}} macro (see above) the {{{&lt;&lt;slider ...&gt;&gt;}}} macro requires that you defined an additional tiddler that holds the content &quot;to be slid&quot;. You can avoid creating this extra tiddler by using the ''part'' feature

''Example''
In a tiddler &quot;About&quot; we may use the slider to show some details that are documented in the tiddler's &quot;Details&quot; part.
{{{
...
&lt;&lt;slider chkAboutDetails About/Details details &quot;Click here to see more details&quot;&gt;&gt;
&lt;part Details hidden&gt;
To give you a better overview ...
&lt;/part&gt;
...
}}}

Notice that putting the content of the slider into the slider's tiddler also has an extra benefit: When you decide you need to edit the content of the slider you can just doubleclick the content, the tiddler opens for editing and you can directly start editing the content (in the part section). In the &quot;old&quot; approach you would doubleclick the tiddler, see that the slider is using tiddler X, have to look for the tiddler X and can finally open it for editing. So using the ''part'' approach results in a much short workflow.

&lt;html&gt;&lt;sub&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollAnchorVisible('Top',null, event)&quot;&gt;[Top]&lt;/sub&gt;&lt;/a&gt;&lt;/html&gt;

!Revision history&lt;html&gt;&lt;a name=&quot;Revisions&quot;/&gt;&lt;/html&gt;
* v1.0.10 (2011-05-23)
** Adapt to TW 2.6.2 default behaviour when existing tiddlers are opened (don't select text) and fixed Firefox 4 issue. Thanks to dave for reporting the issue.
* v1.0.9 (2007-07-14)
** Bugfix: Error when using the SideBarTabs example and switching between &quot;More&quot; and &quot;Shadow&quot;. Thanks to cmari for reporting the issue.
* v1.0.8 (2007-06-16)
** Speeding up display of tiddlers containing multiple pard definitions. Thanks to Paco Rivire for reporting the issue.
** Support &quot;./partName&quot; syntax inside {{{&lt;&lt;tabs ...&gt;&gt;}}} macro
* v1.0.7 (2007-03-07)
** Bugfix: &lt;&lt;tiddler &quot;./partName&quot;&gt;&gt; does not always render correctly after a refresh (e.g. like it happens when using the &quot;Include&quot; plugin). Thanks to Morris Gray for reporting the bug.
* v1.0.6 (2006-11-07)
** Bugfix: cannot edit tiddler when UploadPlugin by Bidix is installed. Thanks to Jos Luis Gonzlez Castro for reporting the bug.
* v1.0.5 (2006-03-02)
** Bugfix: Example with multi-line table cells does not work in IE6. Thanks to Paulo Soares for reporting the bug.
* v1.0.4 (2006-02-28)
** Bugfix: Shadow tiddlers cannot be edited (in TW 2.0.6). Thanks to Torsten Vanek for reporting the bug.
* v1.0.3 (2006-02-26)
** Adapt code to newly introduced Tiddler.prototype.isReadOnly() function (in TW 2.0.6). Thanks to Paulo Soares for reporting the problem.
* v1.0.2 (2006-02-05)
** Also allow other macros than the &quot;tiddler&quot; macro use the &quot;.&quot; in the part reference (to refer to &quot;this&quot; tiddler)
* v1.0.1 (2006-01-27)
** Added Table of Content for plugin documentation. Thanks to RichCarrillo for suggesting.
** Bugfix: newReminder plugin does not work when PartTiddler is installed. Thanks to PauloSoares for reporting.
* v1.0.0 (2006-01-25)
** initial version
&lt;html&gt;&lt;sub&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollAnchorVisible('Top',null, event)&quot;&gt;[Top]&lt;/sub&gt;&lt;/a&gt;&lt;/html&gt;

!Code&lt;html&gt;&lt;a name=&quot;Code&quot;/&gt;&lt;/html&gt;
&lt;html&gt;&lt;sub&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollAnchorVisible('Top',null, event)&quot;&gt;[Top]&lt;/sub&gt;&lt;/a&gt;&lt;/html&gt;
***/
//{{{
//============================================================================
//                           PartTiddlerPlugin

// Ensure that the PartTiddler Plugin is only installed once.
//
if (!version.extensions.PartTiddlerPlugin) {



version.extensions.PartTiddlerPlugin = {
    major: 1, minor: 0, revision: 10,
    date: new Date(2011, 4, 23), 
    type: 'plugin',
    source: &quot;http://tiddlywiki.abego-software.de/#PartTiddlerPlugin&quot;
};

if (!window.abego) window.abego = {};
if (version.major &lt; 2) alertAndThrow(&quot;PartTiddlerPlugin requires TiddlyWiki 2.0 or newer.&quot;);

//============================================================================
// Common Helpers

// Looks for the next newline, starting at the index-th char of text. 
//
// If there are only whitespaces between index and the newline 
// the index behind the newline is returned, 
// otherwise (or when no newline is found) index is returned.
//
var skipEmptyEndOfLine = function(text, index) {
	var re = /(\n|[^\s])/g;
	re.lastIndex = index;
	var result = re.exec(text);
	return (result &amp;&amp; text.charAt(result.index) == '\n') 
			? result.index+1
			: index;
}


//============================================================================
// Constants

var partEndOrStartTagRE = /(&lt;\/part&gt;)|(&lt;part(?:\s+)((?:[^&gt;])+)&gt;)/mg;
var partEndTagREString = &quot;&lt;\\/part&gt;&quot;;
var partEndTagString = &quot;&lt;/part&gt;&quot;;

//============================================================================
// Plugin Specific Helpers

// Parse the parameters inside a &lt;part ...&gt; tag and return the result.
//
// @return [may be null] {partName: ..., isHidden: ...}
//
var parseStartTagParams = function(paramText) {
	var params = paramText.readMacroParams();
	if (params.length == 0 || params[0].length == 0) return null;
	
	var name = params[0];
	var paramsIndex = 1;
	var hidden = false;
	if (paramsIndex &lt; params.length) {
		hidden = params[paramsIndex] == &quot;hidden&quot;;
		paramsIndex++;
	}
	
	return {
		partName: name, 
		isHidden: hidden
	};
}

// Returns the match to the next (end or start) part tag in the text, 
// starting the search at startIndex.
// 
// When no such tag is found null is returned, otherwise a &quot;Match&quot; is returned:
// [0]: full match
// [1]: matched &quot;end&quot; tag (or null when no end tag match)
// [2]: matched &quot;start&quot; tag (or null when no start tag match)
// [3]: content of start tag (or null if no start tag match)
//
var findNextPartEndOrStartTagMatch = function(text, startIndex) {
	var re = new RegExp(partEndOrStartTagRE);
	re.lastIndex = startIndex;
	var match = re.exec(text);
	return match;
}

//============================================================================
// Formatter

// Process the &lt;part ...&gt; ... &lt;/part&gt; starting at (w.source, w.matchStart) for formatting.
//
// @return true if a complete part section (including the end tag) could be processed, false otherwise.
//
var handlePartSection = function(w) {
	var tagMatch = findNextPartEndOrStartTagMatch(w.source, w.matchStart);
	if (!tagMatch) return false;
	if (tagMatch.index != w.matchStart || !tagMatch[2]) return false;

	// Parse the start tag parameters
	var arguments = parseStartTagParams(tagMatch[3]);
	if (!arguments) return false;
	
	// Continue processing
	var startTagEndIndex = skipEmptyEndOfLine(w.source, tagMatch.index + tagMatch[0].length);
	var endMatch = findNextPartEndOrStartTagMatch(w.source, startTagEndIndex);
	if (endMatch &amp;&amp; endMatch[1]) {
		if (!arguments.isHidden) {
			w.nextMatch = startTagEndIndex;
			w.subWikify(w.output,partEndTagREString);
		}
		w.nextMatch = skipEmptyEndOfLine(w.source, endMatch.index + endMatch[0].length);
		
		return true;
	}
	return false;
}

config.formatters.push( {
    name: &quot;part&quot;,
    match: &quot;&lt;part\\s+[^&gt;]+&gt;&quot;,
	
	handler: function(w) {
		if (!handlePartSection(w)) {
			w.outputText(w.output,w.matchStart,w.matchStart+w.matchLength);
		}
	}
} )

//============================================================================
// Extend &quot;fetchTiddler&quot; functionality to also recognize &quot;part&quot;s of tiddlers 
// as tiddlers.

var currentParent = null; // used for the &quot;.&quot; parent (e.g. in the &quot;tiddler&quot; macro)

// Return the match to the first &lt;part ...&gt; tag of the text that has the
// requrest partName.
//
// @return [may be null]
//
var findPartStartTagByName = function(text, partName) {
	var i = 0;
	
	while (true) {
		var tagMatch = findNextPartEndOrStartTagMatch(text, i);
		if (!tagMatch) return null;

		if (tagMatch[2]) {
			// Is start tag
	
			// Check the name
			var arguments = parseStartTagParams(tagMatch[3]);
			if (arguments &amp;&amp; arguments.partName == partName) {
				return tagMatch;
			}
		}
		i = tagMatch.index+tagMatch[0].length;
	}
}

// Return the part &quot;partName&quot; of the given parentTiddler as a &quot;readOnly&quot; Tiddler 
// object, using fullName as the Tiddler's title. 
//
// All remaining properties of the new Tiddler (tags etc.) are inherited from 
// the parentTiddler.
// 
// @return [may be null]
//
var getPart = function(parentTiddler, partName, fullName) {
	var text = parentTiddler.text;
	var startTag = findPartStartTagByName(text, partName);
	if (!startTag) return null;
	
	var endIndexOfStartTag = skipEmptyEndOfLine(text, startTag.index+startTag[0].length);
	var indexOfEndTag = text.indexOf(partEndTagString, endIndexOfStartTag);

	if (indexOfEndTag &gt;= 0) {
		var partTiddlerText = text.substring(endIndexOfStartTag,indexOfEndTag);
		var partTiddler = new Tiddler();
		partTiddler.set(
						fullName,
						partTiddlerText,
						parentTiddler.modifier,
						parentTiddler.modified,
						parentTiddler.tags,
						parentTiddler.created);
		partTiddler.abegoIsPartTiddler = true;
		return partTiddler;
	}
	
	return null;
}

// Hijack the store.fetchTiddler to recognize the &quot;part&quot; addresses.
//
var hijackFetchTiddler = function() {
	var oldFetchTiddler = store.fetchTiddler ;
	store.fetchTiddler = function(title) {
		var result = oldFetchTiddler.apply(this, arguments);
		if (!result &amp;&amp; title) {
			try {
			var i = title.lastIndexOf('/');
			
			if (i &gt; 0) {
				var parentName = title.substring(0, i);
				var partName = title.substring(i+1);
				var parent = (parentName == &quot;.&quot;) 
						? store.resolveTiddler(currentParent)
						: oldFetchTiddler.apply(this, [parentName]);
				if (parent) {
					return getPart(parent, partName, parent.title+&quot;/&quot;+partName);
				}
			}
			}
			catch(err) {}
		}
		return result;	
	};
};

// for debugging the plugin is not loaded through the systemConfig mechanism but via a script tag. 
// At that point in the &quot;store&quot; is not yet defined. In that case hijackFetchTiddler through the restart function.
// Otherwise hijack now.
if (!store) {
	var oldRestartFunc = restart;
	window.restart = function() {
		hijackFetchTiddler();
		oldRestartFunc.apply(this,arguments);
	};
} else
	hijackFetchTiddler();




// The user must not edit a readOnly/partTiddler
//

config.commands.editTiddler.oldIsReadOnlyFunction = Tiddler.prototype.isReadOnly;

Tiddler.prototype.isReadOnly = function() {
	// Tiddler.isReadOnly was introduced with TW 2.0.6.
	// For older version we explicitly check the global readOnly flag
	if (config.commands.editTiddler.oldIsReadOnlyFunction) {
		if (config.commands.editTiddler.oldIsReadOnlyFunction.apply(this, arguments)) return true;
	} else {
		if (readOnly) return true;
	}

	return this.abegoIsPartTiddler;
}

config.commands.editTiddler.handler_PartTiddlerPlugin = config.commands.editTiddler.handler;

config.commands.editTiddler.handler = function(event,src,title)
{
	var t = store.getTiddler(title);
	// Edit the tiddler if it either is not a tiddler (but a shadowTiddler)
	// or the tiddler is not readOnly
	if(!t || !t.abegoIsPartTiddler)
		{
		return config.commands.editTiddler.handler_PartTiddlerPlugin(event,src,title);
		}
	return false;
}

// To allow the &quot;./partName&quot; syntax in macros we need to hijack 
// the invokeMacro to define the &quot;currentParent&quot; while it is running.
// 
var oldInvokeMacro = window.invokeMacro;
function myInvokeMacro(place,macro,params,wikifier,tiddler) {
	var oldCurrentParent = currentParent;
	if (tiddler) currentParent = tiddler;
	try {
		oldInvokeMacro.apply(this, arguments);
	} finally {
		currentParent = oldCurrentParent;
	}
}
window.invokeMacro = myInvokeMacro;

// To correctly support the &quot;./partName&quot; syntax while refreshing we need to hijack 
// the config.refreshers.tiddlers to define the &quot;currentParent&quot; while it is running.
// 
(function() {
	var oldTiddlerRefresher= config.refreshers.tiddler;
	config.refreshers.tiddler = function(e,changeList) {
		var oldCurrentParent = currentParent;
		try {
			currentParent = e.getAttribute(&quot;tiddler&quot;);
			return oldTiddlerRefresher.apply(this,arguments);
		} finally {
			currentParent = oldCurrentParent;
		}
	};
})();

// Support &quot;./partName&quot; syntax inside &lt;&lt;tabs ...&gt;&gt; macro
(function() {
	var extendRelativeNames = function(e, title) {
		var nodes = e.getElementsByTagName(&quot;a&quot;);
		for(var i=0; i&lt;nodes.length; i++) {
			var node = nodes[i];
			var s = node.getAttribute(&quot;content&quot;);
			if (s &amp;&amp; s.indexOf(&quot;./&quot;) == 0)
				node.setAttribute(&quot;content&quot;,title+s.substr(1));
		}
	};
	var oldHandler = config.macros.tabs.handler;
	config.macros.tabs.handler = function(place,macroName,params,wikifier,paramString,tiddler) {
		var result = oldHandler.apply(this,arguments);
		if (tiddler)
			extendRelativeNames(place, tiddler.title);
		return result;
	};
})();

// Scroll the anchor anchorName in the viewer of the given tiddler visible.
// When no tiddler is defined use the tiddler of the target given event is used.
window.scrollAnchorVisible = function(anchorName, tiddler, evt) {
	var tiddlerElem = null;
	if (tiddler) {
		tiddlerElem = document.getElementById(story.idPrefix + tiddler);
	}
	if (!tiddlerElem &amp;&amp; evt) {
		var target = resolveTarget(evt);
		tiddlerElem = story.findContainingTiddler(target);
	}
	if (!tiddlerElem) return;

	var children = tiddlerElem.getElementsByTagName(&quot;a&quot;);
	for (var i = 0; i &lt; children.length; i++) {
		var child = children[i];
		var name = child.getAttribute(&quot;name&quot;);
		if (name == anchorName) {
			var y = findPosY(child);
			window.scrollTo(0,y);
			return;
		}
	}
}

} // of &quot;install only once&quot;
//}}}

/***
&lt;html&gt;&lt;sub&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;scrollAnchorVisible('Top',null, event)&quot;&gt;[Top]&lt;/sub&gt;&lt;/a&gt;&lt;/html&gt;

!Licence and Copyright
Copyright (c) abego Software ~GmbH, 2011 ([[www.abego-software.de|http://www.abego-software.de]])

Redistribution and use in source and binary forms, with or without modification,
are permitted provided that the following conditions are met:

Redistributions of source code must retain the above copyright notice, this
list of conditions and the following disclaimer.

Redistributions in binary form must reproduce the above copyright notice, this
list of conditions and the following disclaimer in the documentation and/or other
materials provided with the distribution.

Neither the name of abego Software nor the names of its contributors may be
used to endorse or promote products derived from this software without specific
prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND ANY
EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,
INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR
BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN
ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH
DAMAGE.

&lt;html&gt;&lt;sub&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;scrollAnchorVisible('Top',null, event)&quot;&gt;[Top]&lt;/sub&gt;&lt;/a&gt;&lt;/html&gt;
***/
</pre>
</div>
<div title="Path Connected" modifier="Christopher Wilson" created="201404110120" modified="201404120347" tags="Topology" content-type="text/x-tiddlywiki">
<pre>!!Definition
Given points $x,y$ of a space $X$, a ''//path//'' in $X$ from $x$ to $y$ is a [[continuous|continuity]] map $f:[a,b] \rightarrow X$ of some interval in $\mathbb{R}$ into $X$, such that $f(a) = x$ and $f(b) = y$. A space $X$ is said to be ''//path connected//'' if every pair of points of $X$ can be joined by a path in $X$.

!!Notes
*A ''//path connected//'' space is [[connected]], but a [[connected]] space need not be ''//path connected//''.</pre>
</div>
<div title="Perfect Scrollbar Example" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405180535" modified="201405180548" tags="example excludeTimeline" changecount="30" alias="" content-type="text/x-tiddlywiki">
<pre>&lt;html&gt;
&lt;style&gt;
        .contentHolder2 { position:relative; margin:0px auto; padding:0px; width: 600px; height: 400px;  overflow: hidden;}
        .contentHolder2 .content2 { background-image: url('azusa.jpg'); width: 1280px; height: 720px; }
        .spacer { text-align:center }
&lt;/style&gt;
    &lt;div id=&quot;Default2&quot; class=&quot;contentHolder2&quot;&gt;
      &lt;div class=&quot;content2&quot;&gt;
      &lt;/div&gt;
    &lt;/div&gt;
 
&lt;/html&gt;
    &lt;script&gt;
      jQuery(document).ready(function ($) {
    &quot;use strict&quot;;
        $('#Default2').perfectScrollbar();
      });
    &lt;/script&gt;</pre>
</div>
<div title="Phase Transition Issues" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404150521" modified="201404150525" tags="[[Critical Phenomena]]" changecount="2" content-type="text/x-tiddlywiki">
<pre>!!Overview
In general, it is very difficult to determine numerically the order of a phase transition; see, e.g., [512]. The method we used essentially amounts to measuring the presence of a latent heat, which is only present for a first-order phase transition. Strictly speaking, the finite sizes eject spoils the presence of a true latent heat, but one can nevertheless try to measure the corresponding gap in the (J,s) curve using the procedure below.&lt;&lt;bibtex PhysRevA.44.8000&gt;&gt;</pre>
</div>
<div title="Phase Transitions" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404150151" modified="201405101018" tags="[[Critical Phenomena]]" changecount="25" content-type="text/x-tiddlywiki">
<pre>A phase transition occurs, if in the thermodynamic limit the [[free energy]] density $f$ (or other thermodynamic potentials) is non-analytic as a function of its parameters.

!!Definitions
A phase transition is of ''//n^^th^^ order//'', if the thermodynamic potential has $(n-1)$ continuous derivatives, but the $n^{\rm th}$ derivative is discontinuous or divergent.
*''//First-Order Phase Transition//''
:One or more of the first derivatives of $f$ has a finite discontinuity; the order parameter is the first derivative of its conjugate variable; it jumps at $T_c$.
*''//Second-Order Phase Transition//''
:The second derivatives and higher of $f$ are singular, however the order parameter is continuous at $T_c$.
*''//Crossover//''
:No real phase transition, but there is a rapid change in the behavior of the system.  In a finite volume system, simulations can struggling in distinguishing between these and true phase transitions.

!!First-Order Transitions
Since the specific heat $C_{H}$ diverges over a first-order transition, the latent heat $\ell$ is nonzero.  
\begin{align}
\ell &amp;= \int_{T_c^-}^{T_c^+} C_{H}(T)dT\\[4pt]
&amp;= \lim_{T\rightarrow T_c^+}u(T) - \lim_{T\rightarrow T_c^-}u(T)\neq 0,
\end{align}
where $u = U/V$ is the energy density of the system.  Additionally, the magnetization also jumps at $T_c$, since we find that
$$\lim_{T\rightarrow T_c^-}M\neq 0,\qquad \lim_{T\rightarrow T_c^+}M = 0.$$
The correlation length $\xi$ stays finite at $T_c$ with
$$\lim_{T\rightarrow T_c^+}\xi - \lim_{T\rightarrow T_c^-}\xi \neq 0.$$
The fluctuations and susceptibilities grow proportionally to $V$ at $T_c$:
$$\chi \sim V\beta(\Delta M)^2 \sim V;$$
$$C_v \sim V\beta^2(u_+ - u_-)^2 \sim V.$$

!!Second-Order Transitions
At the critical temperature $T=T_c$: 
*there is no latent heat: $\ell = 0$.  
*The order parameter $M$ vanishes: $M(T_c) = 0$.  
*The correlation length diverges.  This means that the fluctuations of the order parameter field grow infinitely, which establishes a long range order: $\lim_{T\rightarrow T_c} \xi \rightarrow \infty$.


When we are close to the critical temperature $T_c$, the critical behavior is described by power laws with critical exponents.  The exponents are the same for $T\rightarrow T_c^+$ and $T\rightarrow T_c^-$.

!!External Links
*[[Introduction to Phase Transitions in Statistical Physics and Field Theory|http://www.physik.uni-bielefeld.de/igs/schools/Fall2006/eng1.pdf]]

</pre>
</div>
<div title="Phase Transitions Revision(0001)" modifier="Christopher Wilson" created="201404150151" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="2" content-type="text/x-tiddlywiki">
<pre>A phase transition occurs, if in the thermodynamic limit the [[free energy]] density $f$ (or other thermodynamic potentials) is non-analytic as a function of its parameters.

!!Definition
A phase transition is of $n^{\rm th}$ ''//order//'', if the thermodynamic potential has $(n-1)$ continuous derivatives, but the $n^{\rm th}$ derivative is discontinuous or divergent.

*''//First-Order Phase Transition//''
:One or more of the first derivatives of $f$ has a finite discontinuity; the order parameter is the first derivative of its conjugate variable; it jumps at $T_c$.
*''//Second-Order Phase Transition//''
:The second derivatives and higher of $f$ are singular, however the order parameter is continuous at $T_c$.
*''//Crossover//''
:No real phase transition, but there is a rapid change in the behavior of the system.  In a finite volume system, simulations can struggling in distinguishing between these and true phase transitions.</pre>
</div>
<div title="Phase Transitions Revision(0002)" modifier="Christopher Wilson" created="201404150201" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="3" content-type="text/x-tiddlywiki">
<pre>A phase transition occurs, if in the thermodynamic limit the [[free energy]] density $f$ (or other thermodynamic potentials) is non-analytic as a function of its parameters.

!!Definition
A phase transition is of $n^{\rm th}$ ''//order//'', if the thermodynamic potential has $(n-1)$ continuous derivatives, but the $n^{\rm th}$ derivative is discontinuous or divergent.

*''//First-Order Phase Transition//''
*test
:One or more of the first derivatives of $f$ has a finite discontinuity; the order parameter is the first derivative of its conjugate variable; it jumps at $T_c$.
*''//Second-Order Phase Transition//''
:The second derivatives and higher of $f$ are singular, however the order parameter is continuous at $T_c$.
*''//Crossover//''
:No real phase transition, but there is a rapid change in the behavior of the system.  In a finite volume system, simulations can struggling in distinguishing between these and true phase transitions.</pre>
</div>
<div title="Phase Transitions Revision(0003)" modifier="Christopher Wilson" created="201404150201" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="4" content-type="text/x-tiddlywiki">
<pre>A phase transition occurs, if in the thermodynamic limit the [[free energy]] density $f$ (or other thermodynamic potentials) is non-analytic as a function of its parameters.

!!Definition
A phase transition is of $n^{\rm th}$ ''//order//'', if the thermodynamic potential has $(n-1)$ continuous derivatives, but the $n^{\rm th}$ derivative is discontinuous or divergent.
*''//First-Order Phase Transition//''
*test
:One or more of the first derivatives of $f$ has a finite discontinuity; the order parameter is the first derivative of its conjugate variable; it jumps at $T_c$.
*''//Second-Order Phase Transition//''
:The second derivatives and higher of $f$ are singular, however the order parameter is continuous at $T_c$.
*''//Crossover//''
:No real phase transition, but there is a rapid change in the behavior of the system.  In a finite volume system, simulations can struggling in distinguishing between these and true phase transitions.</pre>
</div>
<div title="Phase Transitions Revision(0004)" modifier="Christopher Wilson" created="201404150202" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="5" content-type="text/x-tiddlywiki">
<pre>A phase transition occurs, if in the thermodynamic limit the [[free energy]] density $f$ (or other thermodynamic potentials) is non-analytic as a function of its parameters.

!!Definition
A phase transition is of $n^{\rm th}$ ''//order//'', if the thermodynamic potential has $(n-1)$ continuous derivatives, but the $n^{\rm th}$ derivative is discontinuous or divergent.
*''//First-Order Phase Transition//''
:One or more of the first derivatives of $f$ has a finite discontinuity; the order parameter is the first derivative of its conjugate variable; it jumps at $T_c$.
*''//Second-Order Phase Transition//''
:The second derivatives and higher of $f$ are singular, however the order parameter is continuous at $T_c$.
*''//Crossover//''
:No real phase transition, but there is a rapid change in the behavior of the system.  In a finite volume system, simulations can struggling in distinguishing between these and true phase transitions.</pre>
</div>
<div title="Phase Transitions Revision(0005)" modifier="Christopher Wilson" created="201404150203" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="6" content-type="text/x-tiddlywiki">
<pre>A phase transition occurs, if in the thermodynamic limit the [[free energy]] density $f$ (or other thermodynamic potentials) is non-analytic as a function of its parameters.

!!Definition
A phase transition is of ''$n^{\rm th}$ ''''//order//'', if the thermodynamic potential has $(n-1)$ continuous derivatives, but the $n^{\rm th}$ derivative is discontinuous or divergent.
*''//First-Order Phase Transition//''
:One or more of the first derivatives of $f$ has a finite discontinuity; the order parameter is the first derivative of its conjugate variable; it jumps at $T_c$.
*''//Second-Order Phase Transition//''
:The second derivatives and higher of $f$ are singular, however the order parameter is continuous at $T_c$.
*''//Crossover//''
:No real phase transition, but there is a rapid change in the behavior of the system.  In a finite volume system, simulations can struggling in distinguishing between these and true phase transitions.</pre>
</div>
<div title="Phase Transitions Revision(0006)" modifier="Christopher Wilson" created="201404150203" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="7" content-type="text/x-tiddlywiki">
<pre>A phase transition occurs, if in the thermodynamic limit the [[free energy]] density $f$ (or other thermodynamic potentials) is non-analytic as a function of its parameters.

!!Definition
A phase transition is of $\bm n^{\rm th}$ ''//order//'', if the thermodynamic potential has $(n-1)$ continuous derivatives, but the $n^{\rm th}$ derivative is discontinuous or divergent.
*''//First-Order Phase Transition//''
:One or more of the first derivatives of $f$ has a finite discontinuity; the order parameter is the first derivative of its conjugate variable; it jumps at $T_c$.
*''//Second-Order Phase Transition//''
:The second derivatives and higher of $f$ are singular, however the order parameter is continuous at $T_c$.
*''//Crossover//''
:No real phase transition, but there is a rapid change in the behavior of the system.  In a finite volume system, simulations can struggling in distinguishing between these and true phase transitions.</pre>
</div>
<div title="Phase Transitions Revision(0007)" modifier="Christopher Wilson" created="201404150203" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="8" content-type="text/x-tiddlywiki">
<pre>A phase transition occurs, if in the thermodynamic limit the [[free energy]] density $f$ (or other thermodynamic potentials) is non-analytic as a function of its parameters.

!!Definition
A phase transition is of $\mathbf n^{\rm th}$ ''//order//'', if the thermodynamic potential has $(n-1)$ continuous derivatives, but the $n^{\rm th}$ derivative is discontinuous or divergent.
*''//First-Order Phase Transition//''
:One or more of the first derivatives of $f$ has a finite discontinuity; the order parameter is the first derivative of its conjugate variable; it jumps at $T_c$.
*''//Second-Order Phase Transition//''
:The second derivatives and higher of $f$ are singular, however the order parameter is continuous at $T_c$.
*''//Crossover//''
:No real phase transition, but there is a rapid change in the behavior of the system.  In a finite volume system, simulations can struggling in distinguishing between these and true phase transitions.</pre>
</div>
<div title="Phase Transitions Revision(0008)" modifier="Christopher Wilson" created="201404150203" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="9" content-type="text/x-tiddlywiki">
<pre>A phase transition occurs, if in the thermodynamic limit the [[free energy]] density $f$ (or other thermodynamic potentials) is non-analytic as a function of its parameters.

!!Definition
A phase transition is of ''//n^^th^^ order//'', if the thermodynamic potential has $(n-1)$ continuous derivatives, but the $n^{\rm th}$ derivative is discontinuous or divergent.
*''//First-Order Phase Transition//''
:One or more of the first derivatives of $f$ has a finite discontinuity; the order parameter is the first derivative of its conjugate variable; it jumps at $T_c$.
*''//Second-Order Phase Transition//''
:The second derivatives and higher of $f$ are singular, however the order parameter is continuous at $T_c$.
*''//Crossover//''
:No real phase transition, but there is a rapid change in the behavior of the system.  In a finite volume system, simulations can struggling in distinguishing between these and true phase transitions.</pre>
</div>
<div title="Phase Transitions Revision(0009)" modifier="Christopher Wilson" created="201404150215" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="10" content-type="text/x-tiddlywiki">
<pre>A phase transition occurs, if in the thermodynamic limit the [[free energy]] density $f$ (or other thermodynamic potentials) is non-analytic as a function of its parameters.

!!Definition
A phase transition is of ''//n^^th^^ order//'', if the thermodynamic potential has $(n-1)$ continuous derivatives, but the $n^{\rm th}$ derivative is discontinuous or divergent.
*''//First-Order Phase Transition//''
:One or more of the first derivatives of $f$ has a finite discontinuity; the order parameter is the first derivative of its conjugate variable; it jumps at $T_c$.
*''//Second-Order Phase Transition//''
:The second derivatives and higher of $f$ are singular, however the order parameter is continuous at $T_c$.
*''//Crossover//''
:No real phase transition, but there is a rapid change in the behavior of the system.  In a finite volume system, simulations can struggling in distinguishing between these and true phase transitions.

!!External Links
*[[Introduction to Phase Transitions in Statistical Physics and Field Theory|http://www.physik.uni-bielefeld.de/igs/schools/Fall2006/eng1.pdf]]</pre>
</div>
<div title="Phase Transitions Revision(0010)" modifier="Christopher Wilson" created="201404150215" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="11" content-type="text/x-tiddlywiki">
<pre>A phase transition occurs, if in the thermodynamic limit the [[free energy]] density $f$ (or other thermodynamic potentials) is non-analytic as a function of its parameters.

!!Definition
A phase transition is of ''//n^^th^^ order//'', if the thermodynamic potential has $(n-1)$ continuous derivatives, but the $n^{\rm th}$ derivative is discontinuous or divergent.
*''//First-Order Phase Transition//''
:One or more of the first derivatives of $f$ has a finite discontinuity; the order parameter is the first derivative of its conjugate variable; it jumps at $T_c$.
*''//Second-Order Phase Transition//''
:The second derivatives and higher of $f$ are singular, however the order parameter is continuous at $T_c$.
*''//Crossover//''
:No real phase transition, but there is a rapid change in the behavior of the system.  In a finite volume system, simulations can struggling in distinguishing between these and true phase transitions.

!!External Links
*[[Introduction to Phase Transitions in Statistical Physics and Field Theory|http://www.physik.uni-bielefeld.de/igs/schools/Fall2006/eng1.pdf]]
</pre>
</div>
<div title="Phase Transitions Revision(0011)" modifier="Christopher Wilson" created="201404150215" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="12" content-type="text/x-tiddlywiki">
<pre>A phase transition occurs, if in the thermodynamic limit the [[free energy]] density $f$ (or other thermodynamic potentials) is non-analytic as a function of its parameters.

!!Definition
A phase transition is of ''//n^^th^^ order//'', if the thermodynamic potential has $(n-1)$ continuous derivatives, but the $n^{\rm th}$ derivative is discontinuous or divergent.
*''//First-Order Phase Transition//''
:One or more of the first derivatives of $f$ has a finite discontinuity; the order parameter is the first derivative of its conjugate variable; it jumps at $T_c$.
*''//Second-Order Phase Transition//''
:The second derivatives and higher of $f$ are singular, however the order parameter is continuous at $T_c$.
*''//Crossover//''
:No real phase transition, but there is a rapid change in the behavior of the system.  In a finite volume system, simulations can struggling in distinguishing between these and true phase transitions.

!!External Links
*[[Introduction to Phase Transitions in Statistical Physics and Field Theory|http://www.physik.uni-bielefeld.de/igs/schools/Fall2006/eng1.pdf]]

</pre>
</div>
<div title="Phase Transitions Revision(0012)" modifier="Christopher Wilson" created="201404150225" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="13" content-type="text/x-tiddlywiki">
<pre>A phase transition occurs, if in the thermodynamic limit the [[free energy]] density $f$ (or other thermodynamic potentials) is non-analytic as a function of its parameters.

!!Definition
A phase transition is of ''//n^^th^^ order//'', if the thermodynamic potential has $(n-1)$ continuous derivatives, but the $n^{\rm th}$ derivative is discontinuous or divergent.
*''//First-Order Phase Transition//''
:One or more of the first derivatives of $f$ has a finite discontinuity; the order parameter is the first derivative of its conjugate variable; it jumps at $T_c$.
*''//Second-Order Phase Transition//''
:The second derivatives and higher of $f$ are singular, however the order parameter is continuous at $T_c$.
*''//Crossover//''
:No real phase transition, but there is a rapid change in the behavior of the system.  In a finite volume system, simulations can struggling in distinguishing between these and true phase transitions.

!!First-Order Transitions

!!External Links
*[[Introduction to Phase Transitions in Statistical Physics and Field Theory|http://www.physik.uni-bielefeld.de/igs/schools/Fall2006/eng1.pdf]]

</pre>
</div>
<div title="Phase Transitions Revision(0013)" modifier="Christopher Wilson" created="201404150229" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="14" content-type="text/x-tiddlywiki">
<pre>A phase transition occurs, if in the thermodynamic limit the [[free energy]] density $f$ (or other thermodynamic potentials) is non-analytic as a function of its parameters.

!!Definitions
A phase transition is of ''//n^^th^^ order//'', if the thermodynamic potential has $(n-1)$ continuous derivatives, but the $n^{\rm th}$ derivative is discontinuous or divergent.
*''//First-Order Phase Transition//''
:One or more of the first derivatives of $f$ has a finite discontinuity; the order parameter is the first derivative of its conjugate variable; it jumps at $T_c$.
*''//Second-Order Phase Transition//''
:The second derivatives and higher of $f$ are singular, however the order parameter is continuous at $T_c$.
*''//Crossover//''
:No real phase transition, but there is a rapid change in the behavior of the system.  In a finite volume system, simulations can struggling in distinguishing between these and true phase transitions.

!!First-Order Transitions
$\mathscr{u}$
!!External Links
*[[Introduction to Phase Transitions in Statistical Physics and Field Theory|http://www.physik.uni-bielefeld.de/igs/schools/Fall2006/eng1.pdf]]

</pre>
</div>
<div title="Phase Transitions Revision(0014)" modifier="Christopher Wilson" created="201404150229" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="15" content-type="text/x-tiddlywiki">
<pre>A phase transition occurs, if in the thermodynamic limit the [[free energy]] density $f$ (or other thermodynamic potentials) is non-analytic as a function of its parameters.

!!Definitions
A phase transition is of ''//n^^th^^ order//'', if the thermodynamic potential has $(n-1)$ continuous derivatives, but the $n^{\rm th}$ derivative is discontinuous or divergent.
*''//First-Order Phase Transition//''
:One or more of the first derivatives of $f$ has a finite discontinuity; the order parameter is the first derivative of its conjugate variable; it jumps at $T_c$.
*''//Second-Order Phase Transition//''
:The second derivatives and higher of $f$ are singular, however the order parameter is continuous at $T_c$.
*''//Crossover//''
:No real phase transition, but there is a rapid change in the behavior of the system.  In a finite volume system, simulations can struggling in distinguishing between these and true phase transitions.

!!First-Order Transitions
$\mathcal{u}$
!!External Links
*[[Introduction to Phase Transitions in Statistical Physics and Field Theory|http://www.physik.uni-bielefeld.de/igs/schools/Fall2006/eng1.pdf]]

</pre>
</div>
<div title="Phase Transitions Revision(0015)" modifier="Christopher Wilson" created="201404150229" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="16" content-type="text/x-tiddlywiki">
<pre>A phase transition occurs, if in the thermodynamic limit the [[free energy]] density $f$ (or other thermodynamic potentials) is non-analytic as a function of its parameters.

!!Definitions
A phase transition is of ''//n^^th^^ order//'', if the thermodynamic potential has $(n-1)$ continuous derivatives, but the $n^{\rm th}$ derivative is discontinuous or divergent.
*''//First-Order Phase Transition//''
:One or more of the first derivatives of $f$ has a finite discontinuity; the order parameter is the first derivative of its conjugate variable; it jumps at $T_c$.
*''//Second-Order Phase Transition//''
:The second derivatives and higher of $f$ are singular, however the order parameter is continuous at $T_c$.
*''//Crossover//''
:No real phase transition, but there is a rapid change in the behavior of the system.  In a finite volume system, simulations can struggling in distinguishing between these and true phase transitions.

!!First-Order Transitions
$\mathcal{u}u$
!!External Links
*[[Introduction to Phase Transitions in Statistical Physics and Field Theory|http://www.physik.uni-bielefeld.de/igs/schools/Fall2006/eng1.pdf]]

</pre>
</div>
<div title="Plasma Drift Velocities" modifier="Christopher Wilson" created="201305310532" modified="201302221000" tags="[[Plasma Theory]]" changecount="1" content-type="">
<pre>!!!E$\times$B Drift
$$\vec{v}_{E\perp} \equiv \frac{\vec{E}_\perp \times \vec{B}}{B^2}$$
The E$\times$B Drift Velocity does not depend on the charge nor mass of particles in the plasma.
!!!$\vec{\nabla}$B Drift
$$\mu\vec{\nabla}B$$
where $\mu$ is the [[Magnetic Moment]].
!!!Curvature Drift
$$m {v_\parallel}^2 (\hat{b}\cdot \vec{\nabla})\hat{b} = m {v_\parallel}^2 \hat{\kappa}$$
where $\vec{\kappa} \equiv (\hat{b}\cdot \vec{\nabla})\hat{b}$ is the [[Curvature Vector]].</pre>
</div>
<div title="Plasma State Criteria" modifier="Christopher Wilson" created="201305310443" modified="201302221000" tags="[[Plasma Theory]]" changecount="1" content-type="">
<pre>The criteria for the plasma state are:
# $L \gg \lambda_D;$ The plasma is much larger than the [[Debye Length]] $\Rightarrow$ [[Quasineutrality]].
# $N_{D} \ggg 1;$ The number of particles within the [[Debye Sphere]] is very large $\Rightarrow$  [[collective interactions|Collective Behavior]].
# $\omega\tau &gt; 1;$ The number of neutral collisions within a collective timescale is negligible. 
Where $\tau \equiv $ neutral collision time, $t \sim \omega^{-1} = $ timescale for collective phenomena.
</pre>
</div>
<div title="Plasma Theory" modifier="Christopher Wilson" created="201305272018" modified="201302221000" tags="[[Plasma Theory]]" changecount="2">
<pre></pre>
</div>
<div title="Plasma Web Links" modifier="Christopher Wilson" created="201305312353" modified="201306010001" tags="excludeTimeline" changecount="2">
<pre>Here is a rough list of helpful links related to plasma theory.

!!!Plasma Physics Lecture Videos
*[[Introduction to Plasmas, Professor Callen|http://video.engr.wisc.edu/cgi-bin/Download.php?file=neep/525/NEEP525.html]]
*[[Models of Plasma Confinement and Heating in Tokamaks, Professor Callen|http://video.engr.wisc.edu/cgi-bin/Download.php?file=neep/903/NEEP903.html]]</pre>
</div>
<div title="Plotly" creator="Christopher Wilson" modifier="Christopher Wilson" created="201503191902" tags="example excludeTimeline" changecount="4" alias="" content-type="text/x-tiddlywiki">
<pre>&lt;html&gt;
&lt;center&gt;

&lt;iframe width=&quot;540&quot; height=&quot;480&quot; frameborder=&quot;0&quot; seamless=&quot;seamless&quot; scrolling=&quot;no&quot; src=&quot;https://plot.ly/~etpinard/464/fxy-a-cospi-x-y-e-x2y22.embed?width=540&amp;height=480&quot; &gt;&lt;/iframe&gt;
&lt;iframe width=&quot;540&quot; height=&quot;480&quot; frameborder=&quot;0&quot; seamless=&quot;seamless&quot; scrolling=&quot;no&quot; src=&quot;https://plot.ly/~metxchris/57.embed?width=540&amp;height=480&quot; &gt;&lt;/iframe&gt;
&lt;/center&gt;
&lt;/html&gt;</pre>
</div>
<div title="PluginMathJax v1.3" modifier="Christopher Wilson" created="201402230829" modified="201404260539" tags="excludeTimeline systemConfig" alias="" changecount="15" content-type="application/json">
<pre>/***
|''Name''|PluginMathJax|
|''Description''|Displays TeX math using MathJax|
|''Author''|[[Canada East|http://tiddlywiki.canada-east.ca/]]|
|''Version''|1.3|
|''Date''|2010-10-07|
|''CodeRepository''|[[PluginMathJax|http://tiddlywiki.canada-east.ca/#PluginMathJax]]|
|''CoreVersion''|[[2.6.1|http://www.tiddlywiki.com]]|
|''Requires''|[[MathJax v1.01|http://www.mathjax.org/]]|
|''Feedback''|[[Contact|https://spreadsheets.google.com/viewform?formkey=dGg2RkpxZW5zWTh6QjZxOXgzZUlfakE6MQ]]|
|''Tweaks''|~MathJax location and default HTML-CSS scale changed by Gareth Davies.  I've also added a hook to a ~MathJax extension for managing local definitions written by Richard Lupton and I've set the newcommand extension to load on start-up.|
!Description
This plugin uses [[MathJax|http://www.mathjax.org/]] to typeset ([[AMS|http://www.ams.org/publications/authors/tex/amslatex]]) [[LaTeX|http://www.latex-project.org/]]  math. It can also be configured to use additional MathJax functionality.
&gt;&quot;MathJax is an open source JavaScript display engine for mathematics that works in all modern browsers.&quot;
!Notes
Right click any math display for a MathJax menu. The user can select the renderer and zoom settings. It performs best in [[Webkit|http://en.wikipedia.org/wiki/List_of_web_browsers#WebKit-based_browsers]] based browsers. Larger math displays such as the additional examples tiddler below can put quite a load on IE. PluginMathJax is based on: [[Plugin: jsMath|http://bob.mcelrath.org/tiddlyjsmath.html]]
!Installation
#''Backup'' your TiddlyWiki!
#It is required that the MathJax directory is installed in '''js/MathJax/''' in the same location as the TiddlyWiki html file.&lt;br&gt;(Or edit the script source where commented in the plugin code below after installation to match the location of your MathJax install.)
#Install this plugin (and examples tiddler linked below if desired).
!Usage
|!Source|!Output|h
|{{{The variable $x$ is real.}}}|The variable $x$ is real.|
|{{{The variable \(y\) is complex.}}}|The variable \(y\) is complex.|
|{{{This \[\int_a^b x = \frac{1}{2}(b^2-a^2)\] is an easy integral.}}}|This \[\int_a^b x = \frac{1}{2}(b^2-a^2)\] is an easy integral.|
|{{{This $$\int_a^b \sin x = -(\cos b - \cos a)$$ is another easy integral.}}}|This $$\int_a^b \sin x = -(\cos b - \cos a)$$ is another easy integral.|
|{{{Block formatted equations may also use the 'equation' environment \begin{equation}  \int \tan x = -\ln \cos x \end{equation} }}}|Block formatted equations may also use the 'equation' environment \begin{equation}  \int \tan x = -\ln \cos x \end{equation}|
|{{{Equation arrays are also supported \begin{eqnarray} a &amp;=&amp; b \\ c &amp;=&amp; d \end{eqnarray} }}}|Equation arrays are also supported \begin{eqnarray} a &amp;=&amp; b \\ c &amp;=&amp; d \end{eqnarray} |
|{{{I spent \$7.38 on lunch.}}}|I spent \$7.38 on lunch.|
|{{{I had to insert a backslash (\\) into my document}}}|I had to insert a backslash (\\) into my document|
| &lt;br&gt;[[Complete list of supported LaTeX commands|http://www.mathjax.org/resources/docs/?tex.html#supported-latex-commands]] |&gt;|
!Examples
[[Additional MathJax Examples|MathJax Examples]]
!Configuration
MathJax can be manually configured if desired by editing the code below (advanced). See the [[MathJax documentation|http://www.mathjax.org/resources/docs/?configuration.html#configuration-options-by-component]] for details.
!Revision History
*v1.3, 2010-10-07, returned to original formatters design, kept modified wikify and recommended way of loading MathJax dynamically, removed the tex2jax extension and corrected several browser compatibility issues (InnerHTML for Opera and IE9).
*v1.2, 2010-10-05, removed some redundant MathJax config entries, moved modified wikify and MathJax.Hub.Queue call.
*v1.1, 2010-10-03, autoLinkWikiWords disabled in absence of DisableWikiLinksPlugin, modifed wikify.
*v1.0, 2010-09-26, Initial Release
!Code
***/
//{{{

if(!version.extensions.PluginMathJax) { 
    version.extensions.PluginMathJax = { installed: true };

    config.extensions.PluginMathJax = {

        install: function() {

            var script = document.createElement(&quot;script&quot;);
            script.type = &quot;text/javascript&quot;;

            // *** Use the location of your MathJax! *** :
            /*
             * Gareth: The following line assumes you have
             * MathJax installed on your server in a sensible
             * location.  I've commented this out.
             */
            script.src = &quot;./js/MathJax-2.4-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML&quot;;
//document.write(script.src);
            //script.src=&quot;http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML&quot;

            /*
             * Because this tiddlywiki is currently hosted on
             * tiddlyspace.com I've had to point to the 'MathJax
             * Content Delivery Network' instead.
             */
            //script.src=&quot;http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML&quot;
            // EndGareth

            /*
             * Gareth: Richard's local definition ~MathJax
             * extension (implementation of TeXs \let command)
             * has been added to the list of extensions along
             * with the newcommand extension upon which it
             * depends.  Also, the scale option for HTML-CSS was
             * changed from 115 to 100.
             */
            var mjconfig = 'MathJax.Hub.Config({' +
            'jax: [&quot;input/TeX&quot;,&quot;output/NativeMML&quot;],' + 
            'extensions: [&quot;TeX/AMSmath.js&quot;, &quot;TeX/AMSsymbols.js&quot;, &quot;TeX/newcommand.js&quot;],' +
            '&quot;HTML-CSS&quot;: {' +
                'scale: 100,' +
                'availableFonts: ((MathJax.Hub.Browser.isSafari || MathJax.Hub.Browser.isChrome) &amp;&amp; MathJax.Hub.Browser.isMac) ? [&quot;TeX&quot;] : [&quot;TeX&quot;,&quot;STIX&quot;]' +
                '},'+
            'TeX: {'+
                'TagSide: &quot;right&quot;,'+
                'Macros: {'+
                  'llbracket: &quot;[\\\\!\\\\![&quot;,'+
                  'rrbracket: &quot;]\\\\!\\\\!]&quot;,'+
				  'beq:  &quot;\\\\begin\\{equation\\}&quot;,'+
				  'eeq:  &quot;\\\\end\\{equation\\}&quot;,'+
					  'label:  &quot;\\{\\}&quot;'+
                '},'+
				 'equationNumbering: {autoNumber: &quot;AMS&quot;}'+
              '}'+
            '});' +
            'MathJax.Hub.Startup.onload();';

            var ie9RegExp = /^9\./;
            var UseInnerHTML = (config.browser.isOpera || config.browser.isIE &amp;&amp; ie9RegExp.test(config.browser.ieVersion[1]));

            if (UseInnerHTML) {script.innerHTML = mjconfig;}
                else {script.text = mjconfig;}

            script.text = mjconfig;

            document.getElementsByTagName(&quot;head&quot;)[0].appendChild(script);

            // Define wikifers for latex
            config.formatterHelpers.mathFormatHelper = function(w) {
                var e = document.createElement(this.element);
                e.type = this.type;
                var endRegExp = new RegExp(this.terminator, &quot;mg&quot;);
                endRegExp.lastIndex = w.matchStart+w.matchLength;
                var matched = endRegExp.exec(w.source);
                if(matched) {
                    var txt = w.source.substr(w.matchStart+w.matchLength,
                        matched.index-w.matchStart-w.matchLength);
                    if(this.keepdelim) {
                      txt = w.source.substr(w.matchStart, matched.index+matched[0].length-w.matchStart);
                    }
                    if (UseInnerHTML) {
                        e.innerHTML = txt;
                    } else {
                        e.text = txt;
                    }
                    w.output.appendChild(e);
                    w.nextMatch = endRegExp.lastIndex;
                }
            }

            config.formatters.push({
              name: &quot;displayMath1&quot;,
              match: &quot;\\\$\\\$&quot;,
              terminator: &quot;\\\$\\\$\\n?&quot;,
              termRegExp: &quot;\\\$\\\$\\n?&quot;,
              element: &quot;script&quot;,
              type: &quot;math/tex; mode=display&quot;,
              handler: config.formatterHelpers.mathFormatHelper
            });

            config.formatters.push({
              name: &quot;inlineMath1&quot;,
              match: &quot;\\\$&quot;, 
              terminator: &quot;\\\$&quot;,
              termRegExp: &quot;\\\$&quot;,
              element: &quot;script&quot;,
              type: &quot;math/tex&quot;,
              handler: config.formatterHelpers.mathFormatHelper
            });

            var backslashformatters = new Array(0);

            backslashformatters.push({
              name: &quot;inlineMath2&quot;,
              match: &quot;\\\\\\\(&quot;,
              terminator: &quot;\\\\\\\)&quot;,
              termRegExp: &quot;\\\\\\\)&quot;,
              element: &quot;script&quot;,
              type: &quot;math/tex&quot;,
              handler: config.formatterHelpers.mathFormatHelper
            });

            backslashformatters.push({
              name: &quot;displayMath2&quot;,
              match: &quot;\\\\\\\[&quot;,
              terminator: &quot;\\\\\\\]\\n?&quot;,
              termRegExp: &quot;\\\\\\\]\\n?&quot;,
              element: &quot;script&quot;,
              type: &quot;math/tex; mode=display&quot;,
              handler: config.formatterHelpers.mathFormatHelper
            });

            backslashformatters.push({
              name: &quot;displayMath3&quot;,
              match: &quot;\\\\begin\\{equation\\}&quot;,
              terminator: &quot;\\\\end\\{equation\\}\\n?&quot;,
              termRegExp: &quot;\\\\end\\{equation\\}\\n?&quot;,
              element: &quot;script&quot;,
              type: &quot;math/tex; mode=display&quot;,
              handler: config.formatterHelpers.mathFormatHelper
            });

            // These can be nested.  e.g. \begin{equation} \begin{array}{ccc} \begin{array}{ccc} ...
            backslashformatters.push({
              name: &quot;displayMath4&quot;,
              match: &quot;\\\\begin\\{eqnarray\\}&quot;,
              terminator: &quot;\\\\end\\{eqnarray\\}\\n?&quot;,
              termRegExp: &quot;\\\\end\\{eqnarray\\}\\n?&quot;,
              element: &quot;script&quot;,
              type: &quot;math/tex; mode=display&quot;,
              keepdelim: true,
              handler: config.formatterHelpers.mathFormatHelper
            });

            backslashformatters.push({
              name: &quot;displayMath5&quot;,
              match: &quot;\\\\begin\\{align\\}&quot;,
              terminator: &quot;\\\\end\\{align\\}\\n?&quot;,
              termRegExp: &quot;\\\\end\\{align\\}\\n?&quot;,
              element: &quot;script&quot;,
              type: &quot;math/tex; mode=display&quot;,
              keepdelim: true,
              handler: config.formatterHelpers.mathFormatHelper
            });

            backslashformatters.push({
              name: &quot;displayMath6&quot;,
              match: &quot;\\\\begin\\{array\\}&quot;,
              terminator: &quot;\\\\end\\{array\\}\\n?&quot;,
              termRegExp: &quot;\\\\end\\{array\\}\\n?&quot;,
              element: &quot;script&quot;,
              type: &quot;math/tex; mode=display&quot;,
              keepdelim: true,
              handler: config.formatterHelpers.mathFormatHelper
            });
			
			            backslashformatters.push({
              name: &quot;displayMath7&quot;,
              match: &quot;\\\\beq&quot;,
              terminator: &quot;\\\\eeq\\n?&quot;,
              termRegExp: &quot;\\\\eeq\\n?&quot;,
              element: &quot;script&quot;,
              type: &quot;math/tex; mode=display&quot;,
              handler: config.formatterHelpers.mathFormatHelper
            });

            // The escape must come between backslash formatters and regular ones.
            // So any latex-like \commands must be added to the beginning of
            // backslashformatters here.
            backslashformatters.push({
                name: &quot;escape&quot;,
                match: &quot;\\\\.&quot;,
                handler: function(w) {
                    w.output.appendChild(document.createTextNode(w.source.substr(w.matchStart+1,1)));
                    w.nextMatch = w.matchStart+2;
                }
            });

          config.formatters=backslashformatters.concat(config.formatters);

          old_wikify = wikify;
          wikify = function(source,output,highlightRegExp,tiddler)
          {
              old_wikify.apply(this,arguments);
              if (window.MathJax) {MathJax.Hub.Queue([&quot;Typeset&quot;,MathJax.Hub,output])}
          };

        }
    };

  config.extensions.PluginMathJax.install();


}

//}}}
</pre>
</div>
<div title="Potts Model" modifier="Christopher Wilson" created="201404082245" modified="201404180555" tags="[[Critical Phenomena]] KeepRevisions" changecount="10" content-type="" alias="">
<pre>!!Overview

The ''//Potts Model//'' utilizes the discrete distance function, $d = \delta_{ij}$, for two spin sites labeled by $\sigma_i$ and $\sigma_j$.  In the case of $q=2$ spin sites, the ''//Potts Model//'' reduces to the [[Ising Model]], modulo a multiplicative factor.

The critical point of the Potts model is given by $$T_c = \frac{2}{\ln(1+\sqrt{q})},$$where we have taken the interaction energy as $J=2$.

!!Simulation Results
&lt;&lt;tabs PottsTabs 
&quot;q = 2&quot; &quot;q = 2&quot; [[Potts Model Images/q=2]]
&quot;q = 3&quot; &quot;q = 3&quot; [[Potts Model Images/q=3]]
&quot;q = 4&quot; &quot;q = 4&quot; [[Potts Model Images/q=4]]
&quot;q = 5&quot; &quot;q = 5&quot; [[Potts Model Images/q=5]]
&quot;q = 6&quot; &quot;q = 6&quot; [[Potts Model Images/q=6]]
&quot;q = 7&quot; &quot;q = 7&quot; [[Potts Model Images/q=7]]
&quot;q = 8&quot; &quot;q = 8&quot; [[Potts Model Images/q=8]]&gt;&gt;

!!Notes
*The phase-transition goes from second-order to first-order from $q=4$ to $q=5$.  The latent heat for $q=5$ is a small quantity (about 0.02).

!!Files
*[[Download Data Files|Research\Data\PottsData.rar]]</pre>
</div>
<div title="Potts Model Images" modifier="Christopher Wilson" created="201404110212" modified="201404140243" tags="excludeLists excludeTimeline excludeSearch" changecount="4" content-type="">
<pre>&lt;part q=2&gt;
|centered|k
| [img[Research\Images\Potts\2d Potts, M02d.png]] | [img[Research\Images\Potts\2d Potts, E02d.png]] |
| [img[Research\Images\Potts\2d Potts, X02d.png]] | [img[Research\Images\Potts\2d Potts, C02d.png]] |
&lt;/part&gt;
&lt;part q=3&gt;
|centered|k
| [img[Research\Images\Potts\2d Potts, M03d.png]] | [img[Research\Images\Potts\2d Potts, E03d.png]] |
| [img[Research\Images\Potts\2d Potts, X03d.png]] | [img[Research\Images\Potts\2d Potts, C03d.png]] |
&lt;/part&gt;
&lt;part q=4&gt;
|centered|k
| [img[Research\Images\Potts\2d Potts, M04d.png]] | [img[Research\Images\Potts\2d Potts, E04d.png]] |
| [img[Research\Images\Potts\2d Potts, X04d.png]] | [img[Research\Images\Potts\2d Potts, C04d.png]] |
&lt;/part&gt;
&lt;part q=5&gt;
|centered|k
| [img[Research\Images\Potts\2d Potts, M05d.png]] | [img[Research\Images\Potts\2d Potts, E05d.png]] |
| [img[Research\Images\Potts\2d Potts, X05d.png]] | [img[Research\Images\Potts\2d Potts, C05d.png]] |
&lt;/part&gt;
&lt;part q=6&gt;
|centered|k
| [img[Research\Images\Potts\2d Potts, M06d.png]] | [img[Research\Images\Potts\2d Potts, E06d.png]] |
| [img[Research\Images\Potts\2d Potts, X06d.png]] | [img[Research\Images\Potts\2d Potts, C06d.png]] |
&lt;/part&gt;
&lt;part q=7&gt;
|centered|k
| [img[Research\Images\Potts\2d Potts, M07d.png]] | [img[Research\Images\Potts\2d Potts, E07d.png]] |
| [img[Research\Images\Potts\2d Potts, X07d.png]] | [img[Research\Images\Potts\2d Potts, C07d.png]] |
&lt;/part&gt;
&lt;part q=8&gt;
|centered|k
| [img[Research\Images\Potts\2d Potts, M08d.png]] | [img[Research\Images\Potts\2d Potts, E08d.png]] |
| [img[Research\Images\Potts\2d Potts, X08d.png]] | [img[Research\Images\Potts\2d Potts, C08d.png]] |
&lt;/part&gt;

</pre>
</div>
<div title="Potts Model Revision(0001)" modifier="Christopher Wilson" created="201404102049" modified="201404110235" tags="Revisions excludeMissing excludeLists excludeTimeline excludeSearch">
<pre>!!Overview

The ''//Potts Model//'' utilizes the discrete distance function, $d = \delta_{ij}$, for two spin sites labeled by $\sigma_i$ and $\sigma_j$.  In the case of $q=2$ spin sites, the ''//Potts Model//'' reduces to the [[Ising Model]], modulo a multiplicative factor.

!!Simulation Results

|centered|k
|!| !Magnetization | !Mean Energy | !Susceptibility | !Specific Heat |
| !$q=2$ | [img[Research\Images\Potts\2d Potts, M02d.png]] | [img[Research\Images\Potts\2d Potts, E02d.png]] | [img[Research\Images\Potts\2d Potts, X02d.png]] | [img[Research\Images\Potts\2d Potts, C02d.png]] |
| !$q=3$ | [img[Research\Images\Potts\2d Potts, M03d.png]] | [img[Research\Images\Potts\2d Potts, E03d.png]] | [img[Research\Images\Potts\2d Potts, X03d.png]] | [img[Research\Images\Potts\2d Potts, C03d.png]] |
| !$q=4$ | [img[Research\Images\Potts\2d Potts, M04d.png]] | [img[Research\Images\Potts\2d Potts, E04d.png]] | [img[Research\Images\Potts\2d Potts, X04d.png]] | [img[Research\Images\Potts\2d Potts, C04d.png]] |
| !$q=5$ | [img[Research\Images\Potts\2d Potts, M05d.png]] | [img[Research\Images\Potts\2d Potts, E05d.png]] | [img[Research\Images\Potts\2d Potts, X05d.png]] | [img[Research\Images\Potts\2d Potts, C05d.png]] |
| !$q=6$ | [img[Research\Images\Potts\2d Potts, M06d.png]] | [img[Research\Images\Potts\2d Potts, E06d.png]] | [img[Research\Images\Potts\2d Potts, X06d.png]] | [img[Research\Images\Potts\2d Potts, C06d.png]] |
| !$q=7$ | [img[Research\Images\Potts\2d Potts, M07d.png]] | [img[Research\Images\Potts\2d Potts, E07d.png]] | [img[Research\Images\Potts\2d Potts, X07d.png]] | [img[Research\Images\Potts\2d Potts, C07d.png]] |
| !$q=8$ | [img[Research\Images\Potts\2d Potts, M08d.png]] | [img[Research\Images\Potts\2d Potts, E08d.png]] | [img[Research\Images\Potts\2d Potts, X08d.png]] | [img[Research\Images\Potts\2d Potts, C08d.png]] |

!!Notes
*The phase-transition goes from second-order to first-order from $q=4$ to $q=5$.  The latent heat for $q=5$ is a small quantity (about 0.02).

!!Files
*[[Download Data Files|Research\Data\PottsData.rar]]</pre>
</div>
<div title="Potts Model Revision(0002)" modifier="Christopher Wilson" created="201404102050" modified="201404110235" tags="Revisions excludeMissing excludeLists excludeTimeline excludeSearch">
<pre>!!Overview

The ''//Potts Model//'' utilizes the discrete distance function, $d = \delta_{ij}$, for two spin sites labeled by $\sigma_i$ and $\sigma_j$.  In the case of $q=2$ spin sites, the ''//Potts Model//'' reduces to the [[Ising Model]], modulo a multiplicative factor.

!!Simulation Results

|centered|k
|!| !Magnetization | !Mean Energy | !Susceptibility | !Specific Heat |
| !$q=2$ | [img[Research\Images\Potts\2d Potts, M02d.png]] | [img[Research\Images\Potts\2d Potts, E02d.png]] | [img[Research\Images\Potts\2d Potts, C02d.png]] |
| !$q=3$ | [img[Research\Images\Potts\2d Potts, M03d.png]] | [img[Research\Images\Potts\2d Potts, E03d.png]] | [img[Research\Images\Potts\2d Potts, C03d.png]] |
| !$q=4$ | [img[Research\Images\Potts\2d Potts, M04d.png]] | [img[Research\Images\Potts\2d Potts, E04d.png]] | [img[Research\Images\Potts\2d Potts, C04d.png]] |
| !$q=5$ | [img[Research\Images\Potts\2d Potts, M05d.png]] | [img[Research\Images\Potts\2d Potts, E05d.png]] | [img[Research\Images\Potts\2d Potts, C05d.png]] |
| !$q=6$ | [img[Research\Images\Potts\2d Potts, M06d.png]] | [img[Research\Images\Potts\2d Potts, E06d.png]] | [img[Research\Images\Potts\2d Potts, C06d.png]] |
| !$q=7$ | [img[Research\Images\Potts\2d Potts, M07d.png]] | [img[Research\Images\Potts\2d Potts, E07d.png]] | [img[Research\Images\Potts\2d Potts, C07d.png]] |
| !$q=8$ | [img[Research\Images\Potts\2d Potts, M08d.png]] | [img[Research\Images\Potts\2d Potts, E08d.png]] | [img[Research\Images\Potts\2d Potts, C08d.png]] |

!!Notes
*The phase-transition goes from second-order to first-order from $q=4$ to $q=5$.  The latent heat for $q=5$ is a small quantity (about 0.02).

!!Files
*[[Download Data Files|Research\Data\PottsData.rar]]</pre>
</div>
<div title="Potts Model Revision(0003)" modifier="Christopher Wilson" created="201404102050" modified="201404110235" tags="Revisions excludeMissing excludeLists excludeTimeline excludeSearch">
<pre>!!Overview

The ''//Potts Model//'' utilizes the discrete distance function, $d = \delta_{ij}$, for two spin sites labeled by $\sigma_i$ and $\sigma_j$.  In the case of $q=2$ spin sites, the ''//Potts Model//'' reduces to the [[Ising Model]], modulo a multiplicative factor.

!!Simulation Results

|centered|k
|!| !Magnetization | !Mean Energy | !Specific Heat |
| !$q=2$ | [img[Research\Images\Potts\2d Potts, M02d.png]] | [img[Research\Images\Potts\2d Potts, E02d.png]] | [img[Research\Images\Potts\2d Potts, C02d.png]] |
| !$q=3$ | [img[Research\Images\Potts\2d Potts, M03d.png]] | [img[Research\Images\Potts\2d Potts, E03d.png]] | [img[Research\Images\Potts\2d Potts, C03d.png]] |
| !$q=4$ | [img[Research\Images\Potts\2d Potts, M04d.png]] | [img[Research\Images\Potts\2d Potts, E04d.png]] | [img[Research\Images\Potts\2d Potts, C04d.png]] |
| !$q=5$ | [img[Research\Images\Potts\2d Potts, M05d.png]] | [img[Research\Images\Potts\2d Potts, E05d.png]] | [img[Research\Images\Potts\2d Potts, C05d.png]] |
| !$q=6$ | [img[Research\Images\Potts\2d Potts, M06d.png]] | [img[Research\Images\Potts\2d Potts, E06d.png]] | [img[Research\Images\Potts\2d Potts, C06d.png]] |
| !$q=7$ | [img[Research\Images\Potts\2d Potts, M07d.png]] | [img[Research\Images\Potts\2d Potts, E07d.png]] | [img[Research\Images\Potts\2d Potts, C07d.png]] |
| !$q=8$ | [img[Research\Images\Potts\2d Potts, M08d.png]] | [img[Research\Images\Potts\2d Potts, E08d.png]] | [img[Research\Images\Potts\2d Potts, C08d.png]] |

!!Notes
*The phase-transition goes from second-order to first-order from $q=4$ to $q=5$.  The latent heat for $q=5$ is a small quantity (about 0.02).

!!Files
*[[Download Data Files|Research\Data\PottsData.rar]]</pre>
</div>
<div title="Potts Model Revision(0004)" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404110217" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="1">
<pre>!!Overview

The ''//Potts Model//'' utilizes the discrete distance function, $d = \delta_{ij}$, for two spin sites labeled by $\sigma_i$ and $\sigma_j$.  In the case of $q=2$ spin sites, the ''//Potts Model//'' reduces to the [[Ising Model]], modulo a multiplicative factor.

!!Simulation Results

&lt;&lt;tabs PottsTabs 
&quot;q = 2&quot; &quot;q = 2&quot; Pottsq2 
&quot;q = 3&quot; &quot;q = 3&quot; Pottsq3
&quot;q = 4&quot; &quot;q = 4&quot; Pottsq4
&quot;q = 5&quot; &quot;q = 5&quot; Pottsq5
&quot;q = 6&quot; &quot;q = 6&quot; Pottsq6
&quot;q = 7&quot; &quot;q = 7&quot; Pottsq7
&quot;q = 8&quot; &quot;q = 8&quot; Pottsq8&gt;&gt;

!!Notes
*The phase-transition goes from second-order to first-order from $q=4$ to $q=5$.  The latent heat for $q=5$ is a small quantity (about 0.02).

!!Files
*[[Download Data Files|Research\Data\PottsData.rar]]</pre>
</div>
<div title="Potts Model Revision(0005)" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404140238" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="2" content-type="">
<pre>!!Overview

The ''//Potts Model//'' utilizes the discrete distance function, $d = \delta_{ij}$, for two spin sites labeled by $\sigma_i$ and $\sigma_j$.  In the case of $q=2$ spin sites, the ''//Potts Model//'' reduces to the [[Ising Model]], modulo a multiplicative factor.

!!Simulation Results

&lt;&lt;tabs PottsTabs 
&quot;q = 2&quot; &quot;q = 2&quot; [[Potts Model Images]]\q=2 
&quot;q = 3&quot; &quot;q = 3&quot; Pottsq3
&quot;q = 4&quot; &quot;q = 4&quot; Pottsq4
&quot;q = 5&quot; &quot;q = 5&quot; Pottsq5
&quot;q = 6&quot; &quot;q = 6&quot; Pottsq6
&quot;q = 7&quot; &quot;q = 7&quot; Pottsq7
&quot;q = 8&quot; &quot;q = 8&quot; Pottsq8&gt;&gt;

!!Notes
*The phase-transition goes from second-order to first-order from $q=4$ to $q=5$.  The latent heat for $q=5$ is a small quantity (about 0.02).

!!Files
*[[Download Data Files|Research\Data\PottsData.rar]]</pre>
</div>
<div title="Potts Model Revision(0006)" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404140240" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="3" content-type="">
<pre>!!Overview

The ''//Potts Model//'' utilizes the discrete distance function, $d = \delta_{ij}$, for two spin sites labeled by $\sigma_i$ and $\sigma_j$.  In the case of $q=2$ spin sites, the ''//Potts Model//'' reduces to the [[Ising Model]], modulo a multiplicative factor.

!!Simulation Results

&lt;&lt;tabs PottsTabs 
&quot;q = 2&quot; &quot;q = 2&quot; [[Potts Model Images]]/q=2 
&quot;q = 3&quot; &quot;q = 3&quot; Pottsq3
&quot;q = 4&quot; &quot;q = 4&quot; Pottsq4
&quot;q = 5&quot; &quot;q = 5&quot; Pottsq5
&quot;q = 6&quot; &quot;q = 6&quot; Pottsq6
&quot;q = 7&quot; &quot;q = 7&quot; Pottsq7
&quot;q = 8&quot; &quot;q = 8&quot; Pottsq8&gt;&gt;

!!Notes
*The phase-transition goes from second-order to first-order from $q=4$ to $q=5$.  The latent heat for $q=5$ is a small quantity (about 0.02).

!!Files
*[[Download Data Files|Research\Data\PottsData.rar]]</pre>
</div>
<div title="Potts Model Revision(0007)" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404140240" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="4" content-type="">
<pre>!!Overview

The ''//Potts Model//'' utilizes the discrete distance function, $d = \delta_{ij}$, for two spin sites labeled by $\sigma_i$ and $\sigma_j$.  In the case of $q=2$ spin sites, the ''//Potts Model//'' reduces to the [[Ising Model]], modulo a multiplicative factor.

!!Simulation Results

&lt;&lt;tabs PottsTabs 
&quot;q = 2&quot; &quot;q = 2&quot; [[Potts Model Images/q=2]]
&quot;q = 3&quot; &quot;q = 3&quot; Pottsq3
&quot;q = 4&quot; &quot;q = 4&quot; Pottsq4
&quot;q = 5&quot; &quot;q = 5&quot; Pottsq5
&quot;q = 6&quot; &quot;q = 6&quot; Pottsq6
&quot;q = 7&quot; &quot;q = 7&quot; Pottsq7
&quot;q = 8&quot; &quot;q = 8&quot; Pottsq8&gt;&gt;

!!Notes
*The phase-transition goes from second-order to first-order from $q=4$ to $q=5$.  The latent heat for $q=5$ is a small quantity (about 0.02).

!!Files
*[[Download Data Files|Research\Data\PottsData.rar]]</pre>
</div>
<div title="Potts Model Revision(0008)" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404140241" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="5" content-type="">
<pre>!!Overview

The ''//Potts Model//'' utilizes the discrete distance function, $d = \delta_{ij}$, for two spin sites labeled by $\sigma_i$ and $\sigma_j$.  In the case of $q=2$ spin sites, the ''//Potts Model//'' reduces to the [[Ising Model]], modulo a multiplicative factor.

!!Simulation Results

&lt;&lt;tabs PottsTabs 
&quot;q = 2&quot; &quot;q = 2&quot; [[Potts Model Images/q=2]]
&quot;q = 3&quot; &quot;q = 3&quot; [[Potts Model Images/q=3]]
&quot;q = 4&quot; &quot;q = 4&quot; Pottsq4
&quot;q = 5&quot; &quot;q = 5&quot; Pottsq5
&quot;q = 6&quot; &quot;q = 6&quot; Pottsq6
&quot;q = 7&quot; &quot;q = 7&quot; Pottsq7
&quot;q = 8&quot; &quot;q = 8&quot; Pottsq8&gt;&gt;

!!Notes
*The phase-transition goes from second-order to first-order from $q=4$ to $q=5$.  The latent heat for $q=5$ is a small quantity (about 0.02).

!!Files
*[[Download Data Files|Research\Data\PottsData.rar]]</pre>
</div>
<div title="Potts Model Revision(0009)" modifier="Christopher Wilson" created="201404140243" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="6" content-type="">
<pre>!!Overview

The ''//Potts Model//'' utilizes the discrete distance function, $d = \delta_{ij}$, for two spin sites labeled by $\sigma_i$ and $\sigma_j$.  In the case of $q=2$ spin sites, the ''//Potts Model//'' reduces to the [[Ising Model]], modulo a multiplicative factor.

!!Simulation Results

&lt;&lt;tabs PottsTabs 
&quot;q = 2&quot; &quot;q = 2&quot; [[Potts Model Images/q=2]]
&quot;q = 3&quot; &quot;q = 3&quot; [[Potts Model Images/q=3]]
&quot;q = 4&quot; &quot;q = 4&quot; [[Potts Model Images/q=4]]
&quot;q = 5&quot; &quot;q = 5&quot; [[Potts Model Images/q=5]]
&quot;q = 6&quot; &quot;q = 6&quot; [[Potts Model Images/q=6]]
&quot;q = 7&quot; &quot;q = 7&quot; [[Potts Model Images/q=7]]
&quot;q = 8&quot; &quot;q = 8&quot; [[Potts Model Images/q=8]]&gt;&gt;

!!Notes
*The phase-transition goes from second-order to first-order from $q=4$ to $q=5$.  The latent heat for $q=5$ is a small quantity (about 0.02).

!!Files
*[[Download Data Files|Research\Data\PottsData.rar]]</pre>
</div>
<div title="Potts Model Revision(0010)" modifier="Christopher Wilson" created="201404160107" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="7" content-type="">
<pre>!!Overview

The ''//Potts Model//'' utilizes the discrete distance function, $d = \delta_{ij}$, for two spin sites labeled by $\sigma_i$ and $\sigma_j$.  In the case of $q=2$ spin sites, the ''//Potts Model//'' reduces to the [[Ising Model]], modulo a multiplicative factor.

!!Simulation Results
The critical point of the Potts model is given by $$T_c = \frac{2}{\ln(1-\sqrt{q})}.$$

&lt;&lt;tabs PottsTabs 
&quot;q = 2&quot; &quot;q = 2&quot; [[Potts Model Images/q=2]]
&quot;q = 3&quot; &quot;q = 3&quot; [[Potts Model Images/q=3]]
&quot;q = 4&quot; &quot;q = 4&quot; [[Potts Model Images/q=4]]
&quot;q = 5&quot; &quot;q = 5&quot; [[Potts Model Images/q=5]]
&quot;q = 6&quot; &quot;q = 6&quot; [[Potts Model Images/q=6]]
&quot;q = 7&quot; &quot;q = 7&quot; [[Potts Model Images/q=7]]
&quot;q = 8&quot; &quot;q = 8&quot; [[Potts Model Images/q=8]]&gt;&gt;

!!Notes
*The phase-transition goes from second-order to first-order from $q=4$ to $q=5$.  The latent heat for $q=5$ is a small quantity (about 0.02).

!!Files
*[[Download Data Files|Research\Data\PottsData.rar]]</pre>
</div>
<div title="Potts Model Revision(0011)" modifier="Christopher Wilson" created="201404160107" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="8" content-type="">
<pre>!!Overview

The ''//Potts Model//'' utilizes the discrete distance function, $d = \delta_{ij}$, for two spin sites labeled by $\sigma_i$ and $\sigma_j$.  In the case of $q=2$ spin sites, the ''//Potts Model//'' reduces to the [[Ising Model]], modulo a multiplicative factor.

The critical point of the Potts model is given by $$T_c = \frac{2}{\ln(1-\sqrt{q})}.$$

!!Simulation Results

&lt;&lt;tabs PottsTabs 
&quot;q = 2&quot; &quot;q = 2&quot; [[Potts Model Images/q=2]]
&quot;q = 3&quot; &quot;q = 3&quot; [[Potts Model Images/q=3]]
&quot;q = 4&quot; &quot;q = 4&quot; [[Potts Model Images/q=4]]
&quot;q = 5&quot; &quot;q = 5&quot; [[Potts Model Images/q=5]]
&quot;q = 6&quot; &quot;q = 6&quot; [[Potts Model Images/q=6]]
&quot;q = 7&quot; &quot;q = 7&quot; [[Potts Model Images/q=7]]
&quot;q = 8&quot; &quot;q = 8&quot; [[Potts Model Images/q=8]]&gt;&gt;

!!Notes
*The phase-transition goes from second-order to first-order from $q=4$ to $q=5$.  The latent heat for $q=5$ is a small quantity (about 0.02).

!!Files
*[[Download Data Files|Research\Data\PottsData.rar]]</pre>
</div>
<div title="Potts Model Revision(0012)" modifier="Christopher Wilson" created="201404160108" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="9" content-type="">
<pre>!!Overview

The ''//Potts Model//'' utilizes the discrete distance function, $d = \delta_{ij}$, for two spin sites labeled by $\sigma_i$ and $\sigma_j$.  In the case of $q=2$ spin sites, the ''//Potts Model//'' reduces to the [[Ising Model]], modulo a multiplicative factor.

The critical point of the Potts model is given by $$T_c = \frac{2}{\ln(1-\sqrt{q})}.$$

!!Simulation Results
&lt;&lt;tabs PottsTabs 
&quot;q = 2&quot; &quot;q = 2&quot; [[Potts Model Images/q=2]]
&quot;q = 3&quot; &quot;q = 3&quot; [[Potts Model Images/q=3]]
&quot;q = 4&quot; &quot;q = 4&quot; [[Potts Model Images/q=4]]
&quot;q = 5&quot; &quot;q = 5&quot; [[Potts Model Images/q=5]]
&quot;q = 6&quot; &quot;q = 6&quot; [[Potts Model Images/q=6]]
&quot;q = 7&quot; &quot;q = 7&quot; [[Potts Model Images/q=7]]
&quot;q = 8&quot; &quot;q = 8&quot; [[Potts Model Images/q=8]]&gt;&gt;

!!Notes
*The phase-transition goes from second-order to first-order from $q=4$ to $q=5$.  The latent heat for $q=5$ is a small quantity (about 0.02).

!!Files
*[[Download Data Files|Research\Data\PottsData.rar]]</pre>
</div>
<div title="Potts Model Revision(0013)" modifier="Christopher Wilson" created="201404180555" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="10" content-type="">
<pre>!!Overview

The ''//Potts Model//'' utilizes the discrete distance function, $d = \delta_{ij}$, for two spin sites labeled by $\sigma_i$ and $\sigma_j$.  In the case of $q=2$ spin sites, the ''//Potts Model//'' reduces to the [[Ising Model]], modulo a multiplicative factor.

The critical point of the Potts model is given by $$T_c = \frac{2}{\ln(1-\sqrt{q})},$$where we have taken the interaction energy as $J=2$.

!!Simulation Results
&lt;&lt;tabs PottsTabs 
&quot;q = 2&quot; &quot;q = 2&quot; [[Potts Model Images/q=2]]
&quot;q = 3&quot; &quot;q = 3&quot; [[Potts Model Images/q=3]]
&quot;q = 4&quot; &quot;q = 4&quot; [[Potts Model Images/q=4]]
&quot;q = 5&quot; &quot;q = 5&quot; [[Potts Model Images/q=5]]
&quot;q = 6&quot; &quot;q = 6&quot; [[Potts Model Images/q=6]]
&quot;q = 7&quot; &quot;q = 7&quot; [[Potts Model Images/q=7]]
&quot;q = 8&quot; &quot;q = 8&quot; [[Potts Model Images/q=8]]&gt;&gt;

!!Notes
*The phase-transition goes from second-order to first-order from $q=4$ to $q=5$.  The latent heat for $q=5$ is a small quantity (about 0.02).

!!Files
*[[Download Data Files|Research\Data\PottsData.rar]]</pre>
</div>
<div title="Potts2D Wolff Alg." creator="Christopher Wilson" modifier="Christopher Wilson" created="201503212233" tags="[[Critical Phenomena]]" changecount="6" alias="" content-type="text/x-python">
<pre>//{{{
#include &lt;iostream&gt;
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;cstdlib&gt;
#include &lt;ctime&gt;
#include &lt;math.h&gt;
#include &lt;windows.h&gt;
#include &lt;time.h&gt;
#include &lt;iomanip&gt;
#include &lt;string&gt;
#define PI 3.14159265
using namespace std;

//Declared Functions
void growCluster(int i, int j, int cSpin);
void tryAdd(int i, int j, int cSpin);

//Display Options:
//verbose = 0, prints parameter values
//verbose = 1, also prints initial and final spin matrix
//verbose = 2, also prints spin matrix for each individual T

//Global Constants
int		q		= 8;		 //Number of Spins	
int		L 		= 32;		 //Length of Grid 
int		MCSteps = pow(10,5); //number of MCSteps
double	Tstart	= 0.5;		 //Start Temperature
double	Tend	= 1;		 //End Temperature
double	Tstep	= 0.01;		 //Temperature Step-Size
double  outPrec = 6;		 //Output Precision (decimal places)
int		verbose = 1;		 //Verbose Option
double 	J = 1; 				 //interaction energy
int 	k = 1; 				 //Boltzman's constant

//Global Variables
int **spin;	 				//spin array
bool **cluster;				//cluster array
double **metric;	 		//distance metric
double sumE, sumE2; 		//Energy Sums
double *sumM, *sumM2;	 	//Magnetization Sums
double sumMabs, sumM2abs;	//Absolute Magnetization Sums
double p_add; 				//transition probability
double T;					//Temperature

//timer variables
clock_t t1,t2; 

int kdelta (int spin1, int spin2) {
	return spin1==spin2 ? 1 : 0;
}

double drand ( ) { 
	//random decimal from [0,1)
	return (double)rand() / ((double)RAND_MAX + 1);
}

int irand (int min, int max) {
	//random integer from [min, max]
	return floor((max - min + 1)*drand()) + min;
}

void initialization ( ) { 
	//seed random number generator	
	srand(time(NULL));

	//create spin array and assign spin values
	spin = new int* [L]; 
	for (int i = 0; i &lt; L; i++) 
		spin[i] = new int [L];

	cluster = new bool* [L];
	for (int i = 0; i &lt; L; i++) 
		cluster[i] = new bool [L];
		
	double angle[q-1];
	for (int i=0; i&lt;q; i++)
		angle[i] = (double)i*2*PI/((double)q);
		
	metric = new double* [q-1]; 
	for (int i = 0; i &lt; q; i++) 
		metric[i] = new double [q-1];
	
	for (int i=0; i&lt;q; i++)
		for (int j=0; j&lt;q; j++) { 
			cout&lt;&lt;&quot;&quot;;
			metric[i][j] = kdelta(i,j);
		}

	sumM = new double [q-1];
	sumM2 = new double [q-1];
}

void resetConfig ( ) {
	for (int i=0; i&lt;L; i++)
		for (int j=0; j&lt;L; j++)	
			spin[i][j] = irand(0,q-1);
			
	//cluster addition probability
	p_add =  1 - exp(-J/(k*T));
	
	//reset sums;
	sumE=sumE2=sumMabs=0;
	for (int n=0;n&lt;q;n++) {
		sumM[n]=0;sumM2[n]=0;
	}
}

void displaySpins (int verboseLevel) {
	if (verbose&gt;verboseLevel) {
		cout&lt;&lt;endl&lt;&lt;&quot;Site Matrix:&quot;&lt;&lt;endl;
		for (int i=0; i&lt;L; i++)
			for (int j=0; j&lt;L; j++){	
				cout&lt;&lt;&quot; &quot;&lt;&lt;spin[i][j];
				if (j==L-1) cout&lt;&lt;endl;
			}
		cout&lt;&lt;endl;
	}
}

void displayParameters ( ) {
		
	//Display Initial Parameters
	cout&lt;&lt;&quot;Parameters:&quot;&lt;&lt;endl;
	cout&lt;&lt;&quot; L       = &quot;&lt;&lt;L&lt;&lt;endl;
	cout&lt;&lt;&quot; MCSteps = &quot;&lt;&lt;MCSteps&lt;&lt;endl;
	cout&lt;&lt;&quot; Tstart  = &quot;&lt;&lt;Tstart&lt;&lt;endl;
	cout&lt;&lt;&quot; Tend    = &quot;&lt;&lt;Tend&lt;&lt;endl;
	cout&lt;&lt;&quot; Tstep   = &quot;&lt;&lt;Tstep&lt;&lt;endl;
	cout&lt;&lt;&quot; J       = &quot;&lt;&lt;J&lt;&lt;endl;
	cout&lt;&lt;endl;
	
	std::cout &lt;&lt; std::setprecision(2) &lt;&lt; std::fixed;
	//Display Distance matrix
	cout&lt;&lt;&quot;Distance Matrix:&quot;&lt;&lt;endl;
	for (int i=0; i&lt;q; i++)
		for (int j=0; j&lt;q; j++){	
			cout&lt;&lt;&quot; &quot;&lt;&lt;right&lt;&lt;setw(5)&lt;&lt;metric[i][j];
			if (j==q-1) cout&lt;&lt;endl;
		}
	cout&lt;&lt;endl;
	
	//Set output precision to outPrec decimal places
	std::cout &lt;&lt; std::setprecision(outPrec) &lt;&lt; std::fixed;

	//Display Output Headers
	cout&lt;&lt;&quot;Output Data:&quot;&lt;&lt;endl;
	cout&lt;&lt;right&lt;&lt;setw(12)&lt;&lt;&quot;T&quot;		  &lt;&lt;&quot;, &quot;;
	cout&lt;&lt;right&lt;&lt;setw(12)&lt;&lt;&quot;meanM&quot;	  &lt;&lt;&quot;, &quot;;
	cout&lt;&lt;right&lt;&lt;setw(12)&lt;&lt;&quot;meanMabs&quot; &lt;&lt;&quot;, &quot;;
	cout&lt;&lt;right&lt;&lt;setw(12)&lt;&lt;&quot;meanM2&quot;   &lt;&lt;&quot;, &quot;;
	cout&lt;&lt;right&lt;&lt;setw(12)&lt;&lt;&quot;meanE&quot;    &lt;&lt;&quot;, &quot;;
	cout&lt;&lt;right&lt;&lt;setw(12)&lt;&lt;&quot;meanE2&quot;   &lt;&lt;&quot;, &quot;;
	cout&lt;&lt;right&lt;&lt;setw(12)&lt;&lt;&quot;chi&quot;      &lt;&lt;&quot;, &quot;;
	cout&lt;&lt;right&lt;&lt;setw(12)&lt;&lt;&quot;chiabs&quot;   &lt;&lt;&quot;, &quot;;
	cout&lt;&lt;right&lt;&lt;setw(12)&lt;&lt;&quot;c&quot;        &lt;&lt;&quot;, &quot;;
	cout&lt;&lt;right&lt;&lt;setw(12)&lt;&lt;&quot;p_add&quot;    &lt;&lt;&quot;;&quot;;
	cout&lt;&lt;endl;
}

void computeMCStep ( ) {
	//reset the cluster array
	for (int i = 0; i &lt; L; i++) 
		for (int j = 0; j &lt; L; j++) 
			cluster[i][j] = false;
		
	//choose random spin
	int i = irand(0,L-1);
	int j = irand(0,L-1);
	
	//grow the cluster
	growCluster(i,j,spin[i][j]);
	
	//choose new random spin type
	int newSpin = (spin[i][j]+irand(1,q-1))%q;
	
	//flip the cluster
	for (int i=0; i&lt;L; i++)
		for (int j=0; j&lt;L; j++)
			if (cluster[i][j])
				spin[i][j] = newSpin;
}

void growCluster(int i, int j, int cSpin) {
	//add spin to cluster
	cluster[i][j] = true;

	//find the indices of the 4 neighbors
	int iPrev = i == 0 	 ? L-1  : i-1; 
	int iNext = i == L-1 ? 0 	: i+1; 
	int jPrev = j == 0 	 ? L-1  : j-1; 
	int jNext = j == L-1 ? 0 	: j+1; 
	
	//Attempt to add neighbors to cluster
	if (!cluster[iPrev][j]) 
		tryAdd(iPrev, j, cSpin); 
	if (!cluster[iNext][j]) 
		tryAdd(iNext, j, cSpin); 
	if (!cluster[i][jPrev]) 
		tryAdd(i, jPrev, cSpin); 
	if (!cluster[i][jNext]) 
		tryAdd(i, jNext, cSpin); 
}

void tryAdd(int i, int j, int cSpin) {
	if (spin[i][j] == cSpin)
		if (drand()&lt;p_add)
			growCluster(i,j,cSpin);
}

void measureObservables ( ) {
	int M[q-1]; //magnetization
	for (int n=0; n&lt;q; n++) 
		M[n]=0;
	int E = 0; //energy
	int s;
	
	for (int i = 0; i &lt; L; i++) 
		for (int j = 0; j &lt; L; j++) {
			int iNext = i == L-1 ? 0 : i+1; 
			int jNext = j == L-1 ? 0 : j+1; 
				s=spin[i][j];
				for (int n=0; n&lt;q; n++)
					M[n] += q * kdelta(n,s - 1)/(q-1);
			E -= J*(kdelta(s,spin[iNext][j])+kdelta(s,spin[i][jNext]));
		}
		
	for (int n=0; n&lt;q; n++) {
		sumM[n]  += M[n];
		sumM2[n] += M[n]*M[n];
	}
	sumE  += E;
	sumE2 += E*E;
	sumMabs += M[0]&gt;0 ? M[0] : -M[0];
}

void displayAverages ( ) {
	
	double Z = MCSteps;			//partition function 
	double N = L*L;				//Number of sites
	
	double sumMmax  = 0;
	double sumM2max = 0;
	
	for (int n=0;n&lt;q;n++)
		if (sumM[n]&gt;sumMmax) {
			sumMmax = sumM[n];
			sumM2max = sumM2[n];
		}
	
	//Averaged observables per site
	double meanE     = sumE/(N*Z);
	double meanE2    = sumE2/(N*N*Z);
	double meanM     = sumMmax/(N*Z);
	double meanM2    = sumM2max/(N*N*Z);
	double meanMabs  = sumMabs/(N*Z);

	//magnetic susceptibility per site
	double chi    = N*(meanM2-pow(meanM,2))/(k*T);
	double chiabs = N*(meanM2-pow(meanMabs,2))/(k*T);
	
	//heat capacity per site
	double c = N*(meanE2-pow(meanE,2))/(k*T*T);

	//display output parameters
	cout&lt;&lt;setw(12)&lt;&lt;T		 &lt;&lt;&quot;, &quot;;
	cout&lt;&lt;setw(12)&lt;&lt;meanM	 &lt;&lt;&quot;, &quot;;
	cout&lt;&lt;setw(12)&lt;&lt;meanMabs &lt;&lt;&quot;, &quot;;	
	cout&lt;&lt;setw(12)&lt;&lt;meanM2	 &lt;&lt;&quot;, &quot;;
	cout&lt;&lt;setw(12)&lt;&lt;meanE	 &lt;&lt;&quot;, &quot;;
	cout&lt;&lt;setw(12)&lt;&lt;meanE2	 &lt;&lt;&quot;, &quot;;
	cout&lt;&lt;setw(12)&lt;&lt;chi  	 &lt;&lt;&quot;, &quot;;
	cout&lt;&lt;setw(12)&lt;&lt;chiabs 	 &lt;&lt;&quot;, &quot;;
	cout&lt;&lt;setw(12)&lt;&lt;c 		 &lt;&lt;&quot;, &quot;;
	cout&lt;&lt;setw(12)&lt;&lt;p_add	 &lt;&lt;&quot;; &quot;;
	cout&lt;&lt;endl;
}
		
void timer (int startClock) {
	if (startClock == 1) {
		t1=clock();//start time 
	} else {
		t2=clock();//end time
		float diff ((float)t2-(float)t1);//elapsed time
		cout&lt;&lt;endl&lt;&lt;&quot;Run Time: &quot;&lt;&lt;diff / CLOCKS_PER_SEC&lt;&lt;&quot; seconds&quot;;
	}
}

int main() { 

	timer(1);
	
	initialization();
	
	for (T=Tstart; T&lt;=Tend; T+=Tstep){

		resetConfig();
		
		if (T==Tstart){
			displaySpins(0);
			displayParameters();
			}
			
		//Thermalization Loop
		for (int i = 0; i &lt; MCSteps/5; i++)
			computeMCStep();

		//Measurement Loop
		for (int i = 0; i &lt; MCSteps; i++) {
			computeMCStep();
			measureObservables();
		}
			
		displayAverages();
		displaySpins(1);
	}

	displaySpins(0);
	timer(0);

}
//}}}</pre>
</div>
<div title="PrettyDatesPlugin" modifier="Christopher Wilson" created="201106271024" modified="201305222317" tags="systemConfig excludeTimeline" changecount="1">
<pre>/***
|Name:|PrettyDatesPlugin|
|Description:|Provides a new date format ('pppp') that displays times such as '2 days ago'|
|Version:|1.0a|
|Date:|27-Jun-2011|
|Source:|http://mptw.tiddlyspot.com/#PrettyDatesPlugin|
|Author:|Simon Baird &lt;simon.baird@gmail.com&gt;|
|License:|http://mptw.tiddlyspot.com/#TheBSDLicense|
!!Notes
* If you want to you can rename this plugin. :) Some suggestions: LastUpdatedPlugin, RelativeDatesPlugin, SmartDatesPlugin, SexyDatesPlugin.
* Inspired by http://ejohn.org/files/pretty.js
***/
//{{{
Date.prototype.prettyDate = function() {
  var diff = (((new Date()).getTime() - this.getTime()) / 1000);
  var day_diff = Math.floor(diff / 86400);

  if (isNaN(day_diff))      return &quot;&quot;;
  else if (diff &lt; 0)        return &quot;in the future&quot;;
  else if (diff &lt; 60)       return &quot;just now&quot;;
  else if (diff &lt; 120)      return &quot;1 minute ago&quot;;
  else if (diff &lt; 3600)     return Math.floor(diff/60) + &quot; minutes ago&quot;;
  else if (diff &lt; 7200)     return &quot;1 hour ago&quot;;
  else if (diff &lt; 86400)    return Math.floor(diff/3600) + &quot; hours ago&quot;;
  else if (day_diff == 1)   return &quot;Yesterday&quot;;
  else if (day_diff &lt; 7)    return day_diff + &quot; days ago&quot;;
  else if (day_diff &lt; 14)   return  &quot;a week ago&quot;;
  else if (day_diff &lt; 31)   return Math.ceil(day_diff/7) + &quot; weeks ago&quot;;
  else if (day_diff &lt; 62)   return &quot;a month ago&quot;;
  else if (day_diff &lt; 365)  return &quot;about &quot; + Math.ceil(day_diff/31) + &quot; months ago&quot;;
  else if (day_diff &lt; 730)  return &quot;a year ago&quot;;
  else                      return Math.ceil(day_diff/365) + &quot; years ago&quot;;
}

Date.prototype.formatString_orig_mptw = Date.prototype.formatString;

Date.prototype.formatString = function(template) {
  return this.formatString_orig_mptw(template).replace(/pppp/,this.prettyDate());
}

// for MPTW. otherwise edit your ViewTemplate as required.
// config.mptwDateFormat = 'pppp (DD/MM/YY)';
config.mptwDateFormat = 'pppp';

//}}}
</pre>
</div>
<div title="PreviewPlugin" modifier="Christopher Wilson" created="201404120618" tags="excludeTimeline systemConfig" content-type="application/javascript" changecount="4">
<pre>/***
|Name|PreviewPlugin|
|Source|http://www.TiddlyTools.com/#PreviewPlugin|
|Documentation|http://www.TiddlyTools.com/#PreviewPluginInfo|
|Version|1.8.1|
|Author|Eric Shulman|
|License|http://www.TiddlyTools.com/#LegalStatements|
|~CoreVersion|2.1|
|Type|plugin|
|Description|add key-by-key wikified preview to any textarea input field|
Provides key-by-key ''LIVE PREVIEW'' of //formatted// tiddler content as you type input into a textarea (multi-line) edit field.
!!!!!Documentation
&gt;see [[PreviewPluginInfo]]
!!!!!Configuration
&lt;&lt;&lt;
Automatically freeze preview updates when a tiddler takes more than &lt;&lt;option txtPreviewAutoFreeze&gt;&gt; milliseconds to render.
&lt;&lt;&lt;
!!!!!Revisions
&lt;&lt;&lt;
2008.01.08 [*.*.*] plugin size reduction: documentation moved to ...Info tiddler
2007.12.04 [*.*.*] update for TW2.3.0: replaced deprecated core functions, regexps, and macros
2007.11.18 [1.8.1] in config.commands.previewTiddler, changed alt command text to use character-based &quot;psuedo-checkbox&quot; instead of embedded html fragment
2007.09.27 [1.8.0] split TidIDE preview functionality into separate stand-alone plugin (see [[TidIDEPlugin]]).  
|please see [[TidIDEPluginInfo]] for additional revision details|
2006.04.15 [0.5.0] Initial ALPHA release. Converted from inline script.
&lt;&lt;&lt;
!!!!!Code
***/
// // version info
//{{{
version.extensions.PreviewPlugin= {major: 1, minor: 8, revision: 1, date: new Date(2007,11,18)};
//}}}

// //  macro definition
//{{{
if (config.options.txtPreviewAutoFreeze==undefined)
	config.options.txtPreviewAutoFreeze=250; // limit (in milliseconds) for auto-freezing preview display

config.macros.preview = {
	renderMsg: &quot;rendering preview...&quot;,
	timeoutMsg: &quot; (&gt; %0ms)&quot;,
	freezeMsg: &quot; - preview is frozen.  Press [refresh] to re-display.&quot;,
	handler: function(place,macroName,params) {
		var hide=params[0]==&quot;hide&quot;; if (hide) params.shift();
		var field=params[0];
		var height=params[1]; if (!height) height=15;
		var here=this.findContainingForm(place);
		if (!here) here=story.findContainingTiddler(place);
		if (!here) here=place.parentNode;
		if (!here) here=place;
		var elems=here.getElementsByTagName(&quot;textarea&quot;);
		if (field) for (var e=0; e&lt;elems.length; e++)  // find matching textarea (by fieldname)
			if (elems[e].getAttribute(&quot;edit&quot;)==field) var ta=elems[e];
		else
			if (elems.length) var ta=elems[elems.length-1]; // default to last rendered text area
		if (!ta) {
			var elems=here.getElementsByTagName(&quot;input&quot;);
			if (field) for (var e=0; e&lt;elems.length; e++)  // find matching input field (by fieldname)
				if (elems[e].getAttribute(&quot;edit&quot;)==field) var ta=elems[e];
			else
				if (elems.length) var ta=elems[elems.length-1]; // default to last rendered input field
		}
		if (!ta) return false; // no textarea or input field found... do nothing...
		var id=(new Date().getTime()).toString()+Math.random(); // unique instance ID
		ta.id=id+&quot;_edit&quot;;
		ta.setAttribute(&quot;previewid&quot;,id+&quot;_preview&quot;);
		ta.saved_onkeyup=ta.onkeyup;
		ta.onkeyup=function(ev) {
			if (this.saved_onkeyup) this.saved_onkeyup.apply(this,arguments);
			config.macros.preview.render(this.id,this.getAttribute(&quot;previewid&quot;));
		}
		var html=this.html.replace(/%previd%/g,id+&quot;_preview&quot;)
		html=html.replace(/%srcid%/g,id+&quot;_edit&quot;);
		html=html.replace(/%hide%/g,hide?&quot;none&quot;:&quot;block&quot;);
		html=html.replace(/%limit%/g,config.options.txtPreviewAutoFreeze);
		html=html.replace(/%frozen%/g,hide?&quot;checked&quot;:&quot;&quot;);
		html=html.replace(/%height%/g,height);
		html=html.replace(/%halfheight%/g,height/2);
		createTiddlyElement(place,&quot;span&quot;).innerHTML=html;
		this.render(id+&quot;_edit&quot;,id+&quot;_preview&quot;);
	},
	findContainingForm: function(e) {
		while (e &amp;&amp; e.nodeName.toLowerCase()!=&quot;form&quot;) e=e.parentNode;
		return e;
	},
	render: function(srcid,previd,force) {
		var value=document.getElementById(srcid).value;
		var panel=document.getElementById(previd);
		var f=this.findContainingForm(panel);
		if (!f || (f.freeze.checked &amp;&amp; !force)) return;
		var p=panel.firstChild; var d=f.domview; var h=f.htmlview; if (!p||!d||!h) return;
		p.innerHTML=&quot;&quot;;
		f.status.value=this.renderMsg;
		var start=new Date();
		wikify(value.replace(/\r/g,''),p);
		var end=new Date();
		this.renderDOM(previd);
		this.renderHTML(previd);
		f.status.value=&quot;elapsed: &quot;+(end-start+1)+&quot;ms&quot;;
		// automatically suspend preview updates for slow rendering tiddlers
		if (end-start+1&gt;config.options.txtPreviewAutoFreeze) {
			f.freeze.checked=true;
			f.status.value+=this.timeoutMsg.format([config.options.txtPreviewAutoFreeze]);
		}
		if (f.freeze.checked) f.status.value+=this.freezeMsg;
	},
	renderDOM: function(id) {
		var panel=document.getElementById(id);
		var f=this.findContainingForm(panel); if (!f) return;
		var p=panel.firstChild; var d=f.domview; var h=f.htmlview; if (!p||!d||!h) return;
		var height=p.getAttribute(&quot;height&quot;);
		p.style.height=((f.dom.checked||f.html.checked)?height/2:height)+&quot;em&quot;;
		if (f.dom.checked) d.value=this.getNodeTree(p,&quot;|  &quot;);
		if (!d.style||!h.style) return;
		d.style.height=height/2+&quot;em&quot;;
		d.style.display=f.dom.checked?&quot;inline&quot;:&quot;none&quot;;
		d.style.width=f.html.checked?&quot;49.5%&quot;:&quot;100%&quot;;
		h.style.width=f.dom.checked?&quot;49.5%&quot;:&quot;100%&quot;;
	},
	renderHTML: function(id) {
		var panel=document.getElementById(id);
		var f=this.findContainingForm(panel); if (!f) return;
		var p=panel.firstChild; var d=f.domview; var h=f.htmlview; if (!p||!d||!h) return;
		var height=p.getAttribute(&quot;height&quot;);
		p.style.height=((f.dom.checked||f.html.checked)?height/2:height)+&quot;em&quot;;
		if (f.html.checked) h.value=this.formatHTML(p.innerHTML);
		if (!h.style||!d.style) return;
		h.style.height=height/2+&quot;em&quot;;
		h.style.display=f.html.checked?&quot;inline&quot;:&quot;none&quot;;
		h.style.width=f.dom.checked?&quot;49.5%&quot;:&quot;100%&quot;;
		d.style.width=f.html.checked?&quot;49.5%&quot;:&quot;100%&quot;;
	},
	formatHTML: function(txt) {
		if (config.browser.isIE) return txt; // BYPASS - 4/24/2006 due to IE hang problem.  Will fix later...
		var out=&quot;&quot;;
		var indent=&quot;&quot;;
		var level=0;
		for (var i=0;i&lt;txt.length;i++) {
			var c=txt.substr(i,1);
			if (c==&quot;&lt;&quot;) {
					if (txt.substr(i+1,1)==&quot;/&quot;)  indent=indent.substr(0,indent.length-2);
				out+=&quot;\n&quot;+indent;
				if (txt.substr(i+1,1)!=&quot;/&quot; &amp;&amp; txt.substr(i+1,3)!=&quot;br&gt;&quot; &amp;&amp; txt.substr(i+1,2)!=&quot;p&gt;&quot; &amp;&amp; txt.substr(i+1,3)!=&quot;hr&gt;&quot;)  indent+=&quot;  &quot;;
			}
			out+=c;
				if (c==&quot;\n&quot;)
				out+=indent;
			if (c==&quot;&gt;&quot; &amp;&amp; txt.substr(i+1,1)!=&quot;&lt;&quot;)
				out+=&quot;\n&quot;+indent;
		}
		return out;
	},
	getNodeTree: function(theNode,theIndent,showPath,inline,thePrefix,thePath)
	{
		if (!theNode) return &quot;&quot;;
		if (!thePrefix) thePrefix=&quot;&quot;;
		if (!thePath) thePath=&quot;&quot;;
		var mquote='&quot;'+(inline?&quot;{{{&quot;:&quot;&quot;);
		var endmquote=(inline?&quot;}}}&quot;:&quot;&quot;)+'&quot;';
		// generate output for this node
		var out = thePrefix;
		if (showPath &amp;&amp; thePath.length)
				out += (inline?&quot;//&quot;:&quot;&quot;)+thePath.substr(1)+&quot;:&quot;+(inline?&quot;//&quot;:&quot;&quot;)+&quot;\r\n&quot;+thePrefix;
		if (theNode.className==&quot;DOMViewer&quot;)
			return out+'[DOMViewer]\r\n'; // avoid self-referential recursion
		out += (inline?&quot;''&quot;:&quot;&quot;)+theNode.nodeName.toUpperCase()+(inline?&quot;''&quot;:&quot;&quot;);
		if (theNode.nodeName==&quot;#text&quot;)
			out += ' '+mquote+theNode.nodeValue.replace(/\n/g,'\\n')+endmquote;
		if (theNode.className)
			out += ' class='+mquote+theNode.className+endmquote;
		if (theNode.type)
			out += ' type='+mquote+theNode.type+endmquote;
		if (theNode.id)
			out += ' id='+mquote+theNode.id+endmquote;
		if (theNode.name)
			out += &quot; &quot;+theNode.name+(theNode.value?&quot;=&quot;+mquote+theNode.value+endmquote:&quot;&quot;);
		if (theNode.href)
			out += ' href='+mquote+theNode.href+endmquote;
		if (theNode.src)
			out += ' src='+mquote+theNode.src+endmquote;
		if (theNode.attributes &amp;&amp; theNode.getAttribute(&quot;tiddlyLink&quot;)!=undefined)
			out += ' tiddler='+mquote+theNode.getAttribute(&quot;tiddlyLink&quot;)+endmquote;
		out += &quot;\r\n&quot;;
		// recursively generate output for child nodes
		thePath=thePath+&quot;.&quot;+theNode.nodeName.toLowerCase();
		thePrefix=theIndent+thePrefix;
		for (var i=0;i&lt;theNode.childNodes.length;i++)
		{
			var thisChild=theNode.childNodes.item(i);
			var theNum=(inline?&quot;~~&quot;:&quot;(&quot;)+(i+1)+(inline?&quot;~~&quot;:&quot;)&quot;);
			out += this.getNodeTree(thisChild,theIndent,showPath,inline,thePrefix,thePath+theNum);
		}
		return out;
	},
	html: &quot; &lt;form style='width:100%'&gt;&lt;span id='%previd%' editID='%srcid%' style='display:%hide%'&gt;&lt;div class='viewer' \
			height='%height%' style='margin:0;margin-top:.5em;height:%height%em;overflow:auto;white-space:normal'&gt; \
			&amp;nbsp; \
			&lt;/div&gt; \
		&lt;!-- DOM and HTML viewers --&gt; \
		&lt;textarea name=domview cols=60 rows=12 wrap=off \
			onfocus='this.select()' style='display:none;width:100%;height:%halfheight%em;'&gt;&lt;/textarea&gt;&lt;!-- \
		--&gt;&lt;textarea name=htmlview cols=60 rows=12 wrap=off \
			onfocus='this.select()' style='display:none;width:100%;height:%halfheight%em;'&gt;&lt;/textarea&gt; \
		&lt;!-- status line, preview option checkboxes, run/refresh buttons --&gt; \
		&lt;table width='100%' style='border:0;padding:0;margin:0'&gt;&lt;tr style='border:0;padding:0;margin:0'&gt; \
		&lt;td style='border:0;padding:0;margin:0'&gt;&lt;!-- \
			--&gt;&lt;input type=text name=status style='padding:0;width:100%;' \
				title='ELAPSED: time (in milliseconds) used to render tiddler content in preview display'&gt;&lt;!-- \
		--&gt;&lt;/td&gt;&lt;td style='width:1%;border:0;padding:0;margin:0;'&gt;&lt;!-- \
			--&gt;&lt;input type=text name=limit size='6' maxlength='6' style='padding:0;width:5em;text-align:center' \
				value='%limit%ms' title='TIME LIMIT: maximum rendering time (in milliseconds) before auto-freezing preview' \
				onfocus='this.select()' \
				onchange='var val=this.value.replace(/[^0-9]/g,\&quot;\&quot;); if (!val.length) val=this.defaultValue; \
					this.value=val+\&quot;ms\&quot;; config.options.txtPreviewAutoFreeze=val; saveOptionCookie(\&quot;txtPreviewAutoFreeze\&quot;); \
					this.form.freeze.checked=false; config.macros.preview.render(\&quot;%srcid%\&quot;,\&quot;%previd%\&quot;,true);'&gt;&lt;!-- \
		--&gt;&lt;/td&gt;&lt;td style='width:1%;border:0;padding:0;margin:0;'&gt;&lt;!-- \
			--&gt;&lt;input type=text name=height size='4' maxlength='4' style='padding:0;width:4em;text-align:center' \
				value='%height%em' title='HEIGHT: size (in \&quot;ems\&quot;) of preview area, including controls' \
				onfocus='this.select()' \
				onchange='var val=this.value.replace(/[^0-9]/g,\&quot;\&quot;);  if (!val.length) val=this.defaultValue; \
					this.value=val+\&quot;em\&quot;; document.getElementById(\&quot;%previd%\&quot;).firstChild.setAttribute(\&quot;height\&quot;,val); \
					config.macros.preview.render(\&quot;%srcid%\&quot;,\&quot;%previd%\&quot;,true)'&gt;&lt;!-- \
		--&gt;&lt;/td&gt;&lt;td style='width:1%;border:0;padding:0;margin:0;text-align:right;white-space:nowrap'&gt; \
			&lt;input type=checkbox name=dom style='display:inline;width:auto;margin:1px;' \
				title='show Document Object Model (DOM) information' \
				onclick='config.macros.preview.renderDOM(\&quot;%previd%\&quot;);'&gt;DOM \
			&lt;input type=checkbox name=html style='display:inline;width:auto;margin:1px;' \
				title='show rendered HTML' \
				onclick='config.macros.preview.renderHTML(\&quot;%previd%\&quot;);'&gt;HTML \
			&lt;input type=checkbox name=freeze style='display:inline;width:auto;margin:1px;' %frozen% \
				title='do not update preview display as changes are made' \
				onclick='var p=document.getElementById(\&quot;%previd%\&quot;);  \
					if (this.checked) this.form.status.value+=config.macros.preview.freezeMsg; \
					else config.macros.preview.render(\&quot;%srcid%\&quot;,\&quot;%previd%\&quot;,true);'&gt;freeze \
			&lt;input type=button style='display:inline;width:auto;' value='refresh' \
				title='update preview display' \
				onclick='config.macros.preview.render(\&quot;%srcid%\&quot;,\&quot;%previd%\&quot;,true)'&gt; \
		&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt; \
		&lt;/span&gt;&lt;/form&gt;&quot;
}
//}}}

// // toolbar definition
//{{{
config.commands.previewTiddler = {
	text: 'preview',
	tooltip: 'show key-by-key preview',
	text_alt: '\u221Apreview',
	handler: function(event,src,title) {
		var here=story.findContainingTiddler(src); if (!here) return;
		var elems=here.getElementsByTagName(&quot;span&quot;);
		for (var e=0; e&lt;elems.length; e++) {
			if (elems[e].getAttribute(&quot;editid&quot;)) {
				var show=elems[e].style.display==&quot;none&quot;;
				src.innerHTML=show?this.text_alt:this.text;
				elems[e].style.display=show?&quot;block&quot;:&quot;none&quot;;
				config.macros.preview.findContainingForm(elems[e]).freeze.checked=!show;
				if (show) config.macros.preview.render(elems[e].getAttribute(&quot;editid&quot;),elems[e].id);
			}
		}
		return false;
	}
};
//}}}</pre>
</div>
<div title="PreviewPluginInfo" modifier="Christopher Wilson" created="200801090119" modified="201404121824" tags="pluginInfo excludeTimeline" content-type="" changecount="3" foobar="{{big{phoo}}}\n{{green{mumble}}}\n|snork|wah!|\n|&gt;| wow|">
<pre>/%

This tiddler was automatically imported using ExternalTiddlersPlugin
by Christopher Wilson on Sat Apr 12 2014 11:48:32 GMT-0400 (Eastern Standard Time)
source: http://www.tiddlytools.com/

%//***
|Name|PreviewPluginInfo|
|Source|http://www.TiddlyTools.com/#PreviewPlugin|
|Documentation|http://www.TiddlyTools.com/#PreviewPluginInfo|
|Version|1.8.1|
|Author|Eric Shulman|
|License|http://www.TiddlyTools.com/#LegalStatements|
|~CoreVersion|2.1|
|Type|documentation|
|Description|documentation for PreviewPlugin|
Provides key-by-key ''LIVE PREVIEW'' of //formatted// tiddler content as you type input into a textarea (multi-line) edit field.
!!!!!Usage
&lt;&lt;&lt;
Syntax: (in tiddler content)
{{{
&lt;&lt;preview hide fieldname height&gt;&gt;
}}}
//OR// (in [[EditTemplate]])
{{{
&lt;span macro='preview hide fieldname height'&gt;&lt;/span&gt;
}}}
where:
* 'hide' (optional)&lt;br&gt;is a keyword that causes the preview display to be initially hidden when created.  This is typically used in an [[EditTemplate]] definition, in conjunction with the 'previewTiddler' toolbar syntax (see below).
* fieldname (optional)&lt;br&gt;specifies the name of the tiddler field that is being previewed.  It corresponds to the fieldname specified in the {{{&lt;span class='editor' macro='edit fieldname height'&gt;&lt;/span&gt;}}} syntax used to define the textarea edit field, and is used to locate and access the source content that is to be previewed.  When omitted, the previewer will automatically associate itself with the last textarea control that precedes it in the rendered tiddler editor display.
* height (optional)&lt;br&gt;defines the total height of the previewer display (including the status line and controls), using CSS &quot;em&quot; (line height) measurements.  The default height value is &quot;15em&quot; (i.e., approximately 15 lines of standard-sized text)

In addition to the preview macro itself, you can place the following in your [[EditTemplate]] to add a tiddler toolbar command that enables you to toggle the preview display once it has been created:
{{{
&lt;span class='toolbar' macro='toolbar previewTiddler'&gt;&lt;/span&gt;
}}}
when clicked, this command will show/hide ALL preview controls that are displayed in the current tiddler.  Note that, when desired, you can also embed this toolbar command directly into a tiddler by entering the &quot;{{{&lt;&lt;toolbar previewTiddler&gt;&gt;}}}&quot; syntax in the tiddler source.
&lt;&lt;&lt;
!!!!!Examples
&lt;&lt;&lt;
in [[EditTemplate]]:
{{{
&lt;div class='editor' macro='edit foobar 5'&gt;&lt;/div&gt;
&lt;div class='editor' macro='preview hide foobar 10'&gt;&lt;/div&gt;
}}}
OR, embedded in tiddler content:
{{{
&lt;&lt;edit foobar 5&gt;&gt;&lt;&lt;preview foobar 10&gt;&gt;
}}}
{{smallform{
&lt;&lt;edit foobar 5&gt;&gt;&lt;&lt;preview foobar 10&gt;&gt;}}}
By default, the preview display is automatically rendered each time a key is typed into the tiddler content edit field.  As soon as changes are entered, they will be instantly visible within the preview display.  Unfortunately, the partial tiddler source definitions that occur //during// editing may somtimes cause rendering problems, and some exceptionally complex tiddlers make take an unusually long amount of time to completely render their content.   In such cases, key-by-key display updates are undesirable or impractical.

You can select the ''freeze'' checkbox to suspend automatic key-by-key preview display updates.  The preview display will not be re-rendered again until you press the ''refresh'' button or clear the 'freeze' checkbox.  The preview display will also automatically freeze whenever the //rendering time// exceeds a pre-determined time limit (see configuration section), specified in milliseconds.  Note: the ''actual elapsed time'' used to process and render any given content is reported in the preview &quot;status bar&quot; whenever that content is previewed.

In addition to a 'wikified' preview, the previewer display can show a ''DOM viewer'' and/or an ''HTML viewer'' that are also updated with each keystroke.  These text-based displays can be helpful while attempting to correct or enhance the formatting of tiddler content, especially when complex combinations of wiki-syntax produce unexpected or undesired results.
&lt;&lt;&lt;</pre>
</div>
<div title="Product Topology" modifier="Christopher Wilson" created="201402272152" modified="201404082210" tags="[[Common Topologies]]">
<pre>!!Definition
Let $\mathcal{S}_\beta$ denote the collection 
$$\mathcal{S}_\beta = \{\pi_\beta^{-1}(U_\beta ):U_\beta\; {\rm open}\;{\rm in} \;X_\beta \},$$
where $\pi_\beta$ denotes the [[projection mapping|Projection Mapping]], and let $\mathcal{S}$ denote the union of these collections, $$\mathcal{S} = \bigcup_{\beta \in J} \mathcal{S}_\beta.$$
The topology generated by the subbasis $\mathcal{S}$ is called the ''//product topology//''.  In this topology, $\prod_{\alpha \in J} X_\alpha$ is called the ''//product space//''.  

The product topology on $\prod_{\alpha \in J} X_\alpha$ has as basis all sets of the form $\prod U_\alpha$, where $U_\alpha$ is open in $X_\alpha$ for each $\alpha$ and $U_\alpha$ equals $X_\alpha$ except for finitely many values of $\alpha$.

!!Notes
*For finite products, the ''//product topology//'' is identical to the [[box topology|Box Topology]].  
*In general, the [[box topology|Box Topology]] is finer than the ''//product topology//''.</pre>
</div>
<div title="Projection Mapping" modifier="Christopher Wilson" created="201402272143" modified="201404082211" tags="Topology">
<pre>!!Definition
Let $$\pi_\beta: {\prod_{\alpha \in J}} X_\alpha \rightarrow X_\beta$$ be a mapping from the product space generated by the [[box topology|Box Topology]] to the space $X_\beta$, be the function assigning to each element of the product space its $\beta^{\rm th}$ coordinate, given by $$ \pi_\beta\Bigl((x_\alpha)_{\alpha \in J}\Bigr) = x_\beta;$$This mapping is called the ''//projection mapping//'' associated with the index $\beta$.</pre>
</div>
<div title="Q8 Group Images" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404210508" tags="excludeTimeline excludeList Images" changecount="1" content-type="">
<pre>&lt;part Q8_0&gt;
|sortable2|k
|!|!|h
|&gt;|!Standard Plots|h
| [img[CritPhen\Models\Q8\Plots\2d Q8_0, M.png]] | [img[CritPhen\Models\Q8\Plots\2d Q8_0, E.png]] |
| [img[CritPhen\Models\Q8\Plots\2d Q8_0, X.png]] | [img[CritPhen\Models\Q8\Plots\2d Q8_0, C.png]] |
|&gt;|!Log-Log Plots|h
| [img[CritPhen\Models\Q8\Plots\2d Q8_0, M_ln.png]] | [img[CritPhen\Models\Q8\Plots\2d Q8_0, C_ln.png]] |
| [img[CritPhen\Models\Q8\Plots\2d Q8_0, X_ln.png]] |
|&gt;|!Cumulants|h
| [img[CritPhen\Models\Q8\Plots\2d Q8_0, M4.png]] | [img[CritPhen\Models\Q8\Plots\2d Q8_0, E4.png]] |
|!|!|h
&lt;/part&gt;</pre>
</div>
<div title="Q8 Group Tables" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404200712" modified="201404290807" tags="excludeTimeline FixMe excludeLists" changecount="25" content-type="text/x-tiddlywiki">
<pre>@@color:red; THIS SLIDE NEEDS FIXING.@@

!$Q_8$, Quaternion Group Model

!!Group Matrix
|sortable2|k
|[img(340px+,)[CritPhen\Models\Q8\Q8 Group.png]]|[img(340px+,)[CritPhen\Models\Q8\Q8 Dist.png]]|
*Group Relations: $a^4 = e,\; b^2=a^2,\; ba = a^{-1}b$.
*Convert from ${i},\; {j},\; {k}$ to $a,\; b$ by taking ${i}=a,\; {j}=b,\; {k}=ab$.

!!Site Occupancy
|sortable2|k
|[img[CritPhen\Models\Q8\2d Q8 bins_1.png]]|[img[CritPhen\Models\Q8\2d Q8_0 bins.png]]|
*Stable Ground States: $1, 4$. Every other site appears to randomly feed into site $1$ or $4$.  
*There is a chance for both sites $1$ and $4$ to fill up from another site, but this sharing will break down (reduce to one of the sites) at around T=0.33.

!!Simulation Results
&lt;&lt;tabs Q8Tables 
&quot;bin 1&quot; &quot;bin 1&quot; [[Q8 Group Images/Q8_0]]
&quot;D8 vs. Q8&quot; &quot;D8 vs. Q8&quot; [[Misc Group Images/Q8_0vD8_0]]
&gt;&gt;</pre>
</div>
<div title="Quantum Mechanical Pictures" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405032259" modified="201405032313" tags="QuantumMechanics" changecount="6" content-type="">
<pre>{{sectionTOC{}}}

!![[Schrodinger Picture]]
&lt;&lt;tiddler [[Schrodinger Picture]]&gt;&gt;

!![[Heisenberg Picture]]
&lt;&lt;tiddler [[Heisenberg Picture]]&gt;&gt;

!![[Interaction Picture]]
&lt;&lt;tiddler [[Interaction Picture]]&gt;&gt;
&lt;&lt;sectionTOC&gt;&gt;</pre>
</div>
<div title="Quantum Mechanics" modifier="Christopher Wilson" created="201305272017" modified="201305272024" tags="systemConfig excludeTimeline systemConfigDisable" changecount="2">
<pre></pre>
</div>
<div title="Quasineutrality" modifier="Christopher Wilson" created="201305312117" modified="201302221000" tags="[[Plasma Theory]]" changecount="1" content-type="">
<pre>A quasineutral gas has roughly equal numbers of +,- charged particles on a scale that is large compared to the collective interaction scale length, or [[Debye Length]].

Mathematically, this condition states that 
$$\sum_j n^0_j q_j = 0$$
where $n^0_j$ is the mean charge concentration of the $j^{\mathrm{th}}$ species.</pre>
</div>
<div title="QuickEditPlugin" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405161234" tags="systemConfig excludeTimeline systemConfigDisable" content-type="text/x-tiddlywiki" changecount="2">
<pre>/***
|Name|QuickEditPlugin|
|Source|http://www.TiddlyTools.com/#QuickEditPlugin|
|Documentation|http://www.TiddlyTools.com/#QuickEditPackage|
|Version|2.4.4|
|Author|Eric Shulman|
|License|http://www.TiddlyTools.com/#LegalStatements &lt;br&gt;and [[Creative Commons Attribution-ShareAlike 3.0 License|http://creativecommons.org/licenses/by-sa/3.0/]]|
|~CoreVersion|2.1|
|Type|plugin|
|Description|Support functions for [[QuickEditPackage]]: utility functions, toolbar commands, stylesheets|
!!!!!Documentation
&gt;see [[QuickEditPackage]] for details
!!!!!Revisions
&lt;&lt;&lt;
2011.02.14 2.4.4 fix OSX error: use picker.file.path
2009.06.11 2.4.3 added keyup() function to abbreviate listbox handling for CR and ESC
2009.05.07 2.4.2 added processed() function to abbreviate event handler code
2008.09.07 2.4.1 added removeCookie() function for compatibility with [[CookieManagerPlugin]]
2008.05.17 2.4.0 copied code from StickyPopupPlugin to remove dependency
2008.05.12 2.3.0 added &quot;toggleQuickEdit&quot; command handler (replaces inline script command)
2008.01.11 2.2.0 converted from inline script
2007.03.29 1.0.0 initial release (as inline script)
&lt;&lt;&lt;
!!!!!Code
***/
//{{{
version.extensions.QuickEditPlugin= {major: 2, minor: 4, revision: 4, date: new Date(2011,2,14)};

// SET STYLESHEET
setStylesheet(&quot;\
.quickEdit a { border:2px outset ButtonFace; padding:0px 3px !important; \
	-moz-border-radius:.5em; -webkit-border-radius:.5em; \
	-moz-appearance:button !important; -webkit-appearance:push-button !important; \
	background-color:ButtonFace; color:ButtonText !important;  \
	line-height:200%; font-weight:normal; } \
.quickEdit a:hover { border: 2px inset ButtonFace; background-color:ButtonFace; }\
&quot;, &quot;quickEditStyles&quot;);

// REMOVE COOKIE
if (window.removeCookie===undefined) {
	window.removeCookie=function(name) {
		document.cookie = name+'=; expires=Thu, 01-Jan-1970 00:00:01 UTC; path=/;'; 
	}
}

// UTILITY FUNCTIONS
config.quickEdit = {
	processed: function(ev) { ev=ev||window.event;
		ev.cancelBubble=true;
		if(ev.stopPropagation) ev.stopPropagation();
		return false;
	},
	keyup: function(ev){ var k=(ev||window.event).keyCode;
		if (k==13) this.onclick();
		if (k==27) Popup.remove();
	},
	getField: function(where) {
		var here=story.findContainingTiddler(where); if (!here) return null;
		var e=story.getTiddlerField(here.getAttribute(&quot;tiddler&quot;),&quot;text&quot;);
		if (e&amp;&amp;e.getAttribute(&quot;edit&quot;)==&quot;text&quot;) return e;
		return null;
	},
	setSelection: function(where,newtext) {
		var e=this.getField(where); if (!e) return false;
		e.focus(); replaceSelection(e,newtext);
		return false;
	},
	wrapSelection: function(where,before,after) {
		var e=this.getField(where); if (!e) return false;
		e.focus(); replaceSelection(e,before+config.quickEdit.getSelection(e)+after);
		return false;
	},
	getSelection: function(e) {
		var seltext=&quot;&quot;;
		if (e&amp;&amp;e.setSelectionRange)
			seltext=e.value.substr(e.selectionStart,e.selectionEnd-e.selectionStart);
		else if (document.selection) {
			var range = document.selection.createRange();
			if (range.parentElement()==e) seltext=range.text
		}
		return seltext;
	},
	promptForFilename: function(msg,path,file) {
		if(window.Components) { // moz
			try {
				netscape.security.PrivilegeManager.enablePrivilege('UniversalXPConnect');
				var nsIFilePicker = window.Components.interfaces.nsIFilePicker;
				var picker = Components.classes['@mozilla.org/filepicker;1'].createInstance(nsIFilePicker);
				picker.init(window, msg, nsIFilePicker.modeOpen);
				var thispath = Components.classes['@mozilla.org/file/local;1'].createInstance(Components.interfaces.nsILocalFile);
				thispath.initWithPath(path);
				picker.displayDirectory=thispath;
				picker.defaultExtension='jpg';
				picker.defaultString=file;
				picker.appendFilters(nsIFilePicker.filterAll|nsIFilePicker.filterImages);
				if (picker.show()!=nsIFilePicker.returnCancel)
					var result=&quot;file:///&quot;+picker.file.path.replace(/\\/g,'/');
			}
			catch(e) { alert('error during local file access: '+e.toString()) }
		}
		else { // IE
			try { // XP only
				var s = new ActiveXObject('UserAccounts.CommonDialog');
				s.Filter='All files|*.*|JPG files|*.jpg|GIF files|*.gif|PNG files|*.png|';
				s.FilterIndex=1; // default to JPG
				s.InitialDir=path;
				s.FileName=file;
				if (s.showOpen()) var result=s.FileName;
			}
			catch(e) { var result=prompt(msg,path+file); } // fallback for non-XP IE
		}
		return result;
	}
}
//}}}

//{{{
if (config.options.chkShowQuickEdit===undefined) config.options.chkShowQuickEdit=false;
config.commands.toggleQuickEdit = {
	hideReadOnly: true,
	getText: function() { return config.options.chkShowQuickEdit?'\u221Aquickedit':'quickedit'; },

	tooltip: 'show QuickEdit toolbar buttons',
	handler: function(event,src,title) {
		var opt='chkShowQuickEdit';
		config.options[opt]=!config.options[opt];
		config.macros.option.propagateOption(opt,&quot;checked&quot;, config.options[opt],&quot;input&quot;);
		if (config.options[opt]) saveOptionCookie(opt);	else removeCookie(opt);
		src.innerHTML=config.commands.toggleQuickEdit.getText();
		story.forEachTiddler(function(t,e){if (story.isDirty(t)) refreshElements(e);});
		return false;
	}
};
//}}}

// // COPIED FROM [[StickyPopupPlugin]] TO ELIMINATE PLUGIN DEPENDENCY
//{{{
if (config.options.chkStickyPopups==undefined) config.options.chkStickyPopups=false;
Popup.stickyPopup_onDocumentClick = function(ev)
{
	// if click is in a sticky popup, ignore it so popup will remain visible
	var e = ev ? ev : window.event; var target = resolveTarget(e);
	var p=target; while (p) {
		if (hasClass(p,&quot;popup&quot;) &amp;&amp; (hasClass(p,&quot;sticky&quot;)||config.options.chkStickyPopups)) break;
		else p=p.parentNode;
	}
	if (!p) // not in sticky popup (or sticky popups disabled)... use normal click handling
		Popup.onDocumentClick(ev);
	return true;
};
try{removeEvent(document,&quot;click&quot;,Popup.onDocumentClick);}catch(e){};
try{addEvent(document,&quot;click&quot;,Popup.stickyPopup_onDocumentClick);}catch(e){};
//}}}</pre>
</div>
<div title="QuickEditToolbar" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405161236" tags="QuickEdit excludeTimeline" content-type="text/x-tiddlywiki" changecount="3">
<pre>/%
|Name|QuickEditToolbar|
|Source|http://www.TiddlyTools.com/#QuickEditToolbar|
|Version|2.4.4|
|Author|Eric Shulman|
|License|http://www.TiddlyTools.com/#LegalStatements|
|~CoreVersion|2.2|
|Type|transclusion|
|Requires|QuickEditPlugin|
|Optional|QuickEdit_*|
|Description|format/insert TiddlyWiki content using toolbar buttons|

Usage:
* install [[QuickEditPlugin]] (runtime support functions)

* add the toolbar to [[EditTemplate]]:
	&lt;div macro='tiddler QuickEditToolbar with: show'&gt;&lt;/div&gt;

* 'show' (optional) forces the toolbar to always be displayed or,
  omit keyword and use &lt;&lt;option chkShowQuickEdit&gt;&gt; setting

* selected QuickEdit buttons can also be added individually to the
  regular tiddler toolbar by adding references directly in [[EditTemplate]]:
	&lt;span class='toolbar' macro='tiddler QuickEdit_...'&gt;&lt;/span&gt;

* see [[QuickEditPackage]] for additional installation options

%/{{hidden fine center quickEdit{
&lt;&lt;tiddler {{ // show/hide toolbar
	var here=story.findContainingTiddler(place); if (here) var tid=here.getAttribute('tiddler');
	var show='$1'!='$'+'1'||config.options.chkShowQuickEdit||tid=='QuickEditToolbar'; 
	place.style.display=show?'block':'none';
'';}}&gt;&gt;/%

TOOLBAR DEFINITION - add, remove, or re-order items as desired:
= = = = = = = = = =
%/&lt;&lt;tiddler QuickEdit_format&gt;&gt;/%
%/&lt;&lt;tiddler QuickEdit_align&gt;&gt;/%
%/&lt;&lt;tiddler QuickEdit_color&gt;&gt;/%
%/&lt;&lt;tiddler QuickEdit_font&gt;&gt;/%
%/&lt;&lt;tiddler QuickEdit_custom&gt;&gt;/%
%/ &amp;nbsp;/% (SPACER)
%/&lt;&lt;tiddler QuickEdit_replace&gt;&gt;/%
%/&lt;&lt;tiddler QuickEdit_split&gt;&gt;/%
%/&lt;&lt;tiddler QuickEdit_sort&gt;&gt;/%
%/&lt;&lt;tiddler QuickEdit_convert&gt;&gt;/%
%/ &amp;nbsp;/% (SPACER)
%/&lt;&lt;tiddler QuickEdit_link&gt;&gt;/%
%/&lt;&lt;tiddler QuickEdit_insert&gt;&gt;/%
%/&lt;&lt;tiddler QuickEdit_macro&gt;&gt;/%
%/&lt;&lt;tiddler QuickEdit_image&gt;&gt;/%
%/}}}</pre>
</div>
<div title="QuickEdit_replace" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405161237" tags="QuickEditPackage excludeTimeline" content-type="text/x-tiddlywiki" changecount="2">
<pre>/%
|Name|QuickEdit_replace|
|Source|http://www.TiddlyTools.com/#QuickEdit_replace|
|Version|2.4.5|
|Author|Eric Shulman|
|License|see http://www.TiddlyTools.com/#QuickEditPlugin|
|Type|html|
|Requires|QuickEditPlugin|
|Description|quickedit - find/replace selected text with replacement text|

Usage: see  http://www.TiddlyTools.com/#QuickEditToolbar
!!!Revisions
&lt;&lt;&lt;
2010.12.26 2.4.5 fix use getField(this) to support hijacks by editSectionPlugin
&lt;&lt;&lt;
%/&lt;html&gt;&lt;hide linebreaks&gt;&lt;a href=&quot;javascript:;&quot; class=&quot;tiddlyLink&quot; tabindex=&quot;-1&quot; 
title=&quot;find/replace selected text with replacement text&quot;
onclick=&quot;var p=Popup.create(this,null,'popup sticky smallform'); if (!p) return false;
	var e=config.quickEdit.getField(this);
	var s=config.quickEdit.getSelection(e); 
	var t=createTiddlyElement(p,'input'); t.onfocus=function(){this.select()};
	t.value=s.length?s:'enter target text';
	var r=createTiddlyElement(p,'input'); r.onfocus=function(){this.select()};
	r.value='enter replacement text';
	var b=createTiddlyElement(p,'button',null,null,'?');
	b.style.width='2em';
	b.title='FIND/FIND NEXT target text';
	b.root=this;
	b.onclick=function(ev) { /* FIND */
		var e=config.quickEdit.getField(this.root);
		var t=this.previousSibling.previousSibling;
		var tv=t.value.replace(/\\t/mg,'\t').unescapeLineBreaks();
		e.focus();
		if (e.setSelectionRange) { /* MOZ */
			var newstart=e.value.indexOf(tv,e.selectionStart+1);
			if (newstart==-1) newstart=e.value.indexOf(tv); /* wrap around */
			if (newstart==-1) { alert('\u0022'+t.value+'\u0022 not found'); t.focus(); return; }
			e.setSelectionRange(newstart,newstart+tv.length);
			var linecount=e.value.split('\n').length;
			var thisline=e.value.substr(0,e.selectionStart).split('\n').length;
			e.scrollTop=Math.floor((thisline-1-e.rows/2)*e.scrollHeight/linecount);
		} else if (document.selection) { /* IE */
			var range=document.selection.createRange();
			if(range.parentElement()==e) {
				range.collapse(false);
				var found=false; try{found=range.findText(v,e.value.length,4)}catch(e){}
				if (found) range.select();
				else { alert('\u0022'+t.value+'\u0022 not found'); t.focus(); }
			}
		}
	};
	b=createTiddlyElement(p,'button',null,null,'=');
	b.style.width='2em';
	b.title='REPLACE selected text';
	b.root=this;
	b.onclick=function(ev) { /* REPLACE */
		var e=config.quickEdit.getField(this.root);
		var t=this.previousSibling.previousSibling.previousSibling;
		var r=this.previousSibling.previousSibling;
		var rv=r.value.replace(/\\t/mg,'\t').unescapeLineBreaks();
		if (   (e.selectionStart!==undefined &amp;&amp; e.selectionEnd==e.selectionStart)
		    || (document.selection &amp;&amp; document.selection.createRange().text==''))
			this.previousSibling.click(); /* no selection... do FIND first */
		if (   (e.selectionStart!==undefined &amp;&amp; e.selectionEnd==e.selectionStart)
		    || (document.selection &amp;&amp; document.selection.createRange().text==''))
			{ t.focus(); return; } /* still no selection... goto target input */
		e.focus(); replaceSelection(e,rv);
	};
	b=createTiddlyElement(p,'button',null,null,'+');
	b.style.width='2em';
	b.title='REPLACE selected text AND FIND NEXT target text';
	b.onclick=function(ev) { /* REPLACE and FIND NEXT */
		this.previousSibling.click();
		this.previousSibling.previousSibling.click();
	};
	b=createTiddlyElement(p,'button',null,null,'!');
	b.style.width='2em';
	b.title='REPLACE ALL occurrences of target text';
	b.root=this;
	b.onclick=function(ev) { /* REPLACE ALL */
		var e=config.quickEdit.getField(this.root);
		var t=this.previousSibling.previousSibling.previousSibling.previousSibling.previousSibling;
		var r=this.previousSibling.previousSibling.previousSibling.previousSibling;
		var tv=t.value.replace(/\\t/mg,'\t').unescapeLineBreaks();
		var rv=r.value.replace(/\\t/mg,'\t').unescapeLineBreaks();
		if (!tv.length) { alert('Please enter the target text'); t.focus(); return; }
		var m='This will replace all occurrences of:\n\n'+tv+'\n\nwith:\n\n'+rv+'\n\nAre you sure?';
		if (!confirm(m)) { r.focus(); r.select(); return; }
		e.value=e.value.replace(new RegExp(tv.escapeRegExp(),'gm'),rv);
		e.focus(); e.select(); Popup.remove();
	};
	Popup.show();
	if (!s.length) {t.focus();t.select()} else {r.focus();r.select()}
	event.cancelBubble=true;if(event.stopPropagation)event.stopPropagation();return false;&quot;
&gt;replace&lt;/a&gt;&lt;/html&gt;</pre>
</div>
<div title="QuickOpenTagPlugin" modifier="Christopher Wilson" created="201106271024" modified="201305222317" tags="systemConfig excludeTimeline" changecount="1">
<pre>/***
|Name:|QuickOpenTagPlugin|
|Description:|Changes tag links to make it easier to open tags as tiddlers|
|Version:|3.0.1a|
|Date:|27-Jun-2011|
|Source:|http://mptw.tiddlyspot.com/#QuickOpenTagPlugin|
|Author:|Simon Baird &lt;simon.baird@gmail.com&gt;|
|License:|http://mptw.tiddlyspot.com/#TheBSDLicense|
***/
//{{{
config.quickOpenTag = {

  dropdownChar: (document.all ? &quot;\u25bc&quot; : &quot;\u25be&quot;), // the little one doesn't work in IE?

  createTagButton: function(place,tag,excludeTiddler) {
    // little hack so we can do this: &lt;&lt;tag PrettyTagName|RealTagName&gt;&gt;
    var splitTag = tag.split(&quot;|&quot;);
    var pretty = tag;
    if (splitTag.length == 2) {
      tag = splitTag[1];
      pretty = splitTag[0];
    }

    var sp = createTiddlyElement(place,&quot;span&quot;,null,&quot;quickopentag&quot;);
    createTiddlyText(createTiddlyLink(sp,tag,false),pretty);

    var theTag = createTiddlyButton(sp,config.quickOpenTag.dropdownChar,
                        config.views.wikified.tag.tooltip.format([tag]),onClickTag);
    theTag.setAttribute(&quot;tag&quot;,tag);
    if (excludeTiddler)
      theTag.setAttribute(&quot;tiddler&quot;,excludeTiddler);
        return(theTag);
  },

  miniTagHandler: function(place,macroName,params,wikifier,paramString,tiddler) {
    var tagged = store.getTaggedTiddlers(tiddler.title);
    if (tagged.length &gt; 0) {
      var theTag = createTiddlyButton(place,config.quickOpenTag.dropdownChar,
                          config.views.wikified.tag.tooltip.format([tiddler.title]),onClickTag);
      theTag.setAttribute(&quot;tag&quot;,tiddler.title);
      theTag.className = &quot;miniTag&quot;;
    }
  },

  allTagsHandler: function(place,macroName,params) {
    var tags = store.getTags(params[0]);
    var filter = params[1]; // new feature
    var ul = createTiddlyElement(place,&quot;ul&quot;);
    if(tags.length == 0)
      createTiddlyElement(ul,&quot;li&quot;,null,&quot;listTitle&quot;,this.noTags);
    for(var t=0; t&lt;tags.length; t++) {
      var title = tags[t][0];
      if (!filter || (title.match(new RegExp('^'+filter)))) {
        var info = getTiddlyLinkInfo(title);
        var theListItem =createTiddlyElement(ul,&quot;li&quot;);
        var theLink = createTiddlyLink(theListItem,tags[t][0],true);
        var theCount = &quot; (&quot; + tags[t][1] + &quot;)&quot;;
        theLink.appendChild(document.createTextNode(theCount));
        var theDropDownBtn = createTiddlyButton(theListItem,&quot; &quot; +
          config.quickOpenTag.dropdownChar,this.tooltip.format([tags[t][0]]),onClickTag);
        theDropDownBtn.setAttribute(&quot;tag&quot;,tags[t][0]);
      }
    }
  },

  // todo fix these up a bit
  styles: [
&quot;/*{{{*/&quot;,
&quot;/* created by QuickOpenTagPlugin */&quot;,
&quot;.tagglyTagged .quickopentag, .tagged .quickopentag &quot;,
&quot; { margin-right:1.2em; border:1px solid #eee; padding:2px; padding-right:0px; padding-left:1px; }&quot;,
&quot;.quickopentag .tiddlyLink { padding:2px; padding-left:3px; }&quot;,
&quot;.quickopentag a.button { padding:1px; padding-left:2px; padding-right:2px;}&quot;,
&quot;/* extra specificity to make it work right */&quot;,
&quot;#displayArea .viewer .quickopentag a.button, &quot;,
&quot;#displayArea .viewer .quickopentag a.tiddyLink, &quot;,
&quot;#mainMenu .quickopentag a.tiddyLink, &quot;,
&quot;#mainMenu .quickopentag a.tiddyLink &quot;,
&quot; { border:0px solid black; }&quot;,
&quot;#displayArea .viewer .quickopentag a.button, &quot;,
&quot;#mainMenu .quickopentag a.button &quot;,
&quot; { margin-left:0px; padding-left:2px; }&quot;,
&quot;#displayArea .viewer .quickopentag a.tiddlyLink, &quot;,
&quot;#mainMenu .quickopentag a.tiddlyLink &quot;,
&quot; { margin-right:0px; padding-right:0px; padding-left:0px; margin-left:0px; }&quot;,
&quot;a.miniTag {font-size:150%;} &quot;,
&quot;#mainMenu .quickopentag a.button &quot;,
&quot; /* looks better in right justified main menus */&quot;,
&quot; { margin-left:0px; padding-left:2px; margin-right:0px; padding-right:0px; }&quot;,
&quot;#topMenu .quickopentag { padding:0px; margin:0px; border:0px; }&quot;,
&quot;#topMenu .quickopentag .tiddlyLink { padding-right:1px; margin-right:0px; }&quot;,
&quot;#topMenu .quickopentag .button { padding-left:1px; margin-left:0px; border:0px; }&quot;,
&quot;/*}}}*/&quot;,
    &quot;&quot;].join(&quot;\n&quot;),

  init: function() {
    // we fully replace these builtins. can't hijack them easily
    window.createTagButton = this.createTagButton;
    config.macros.allTags.handler = this.allTagsHandler;
    config.macros.miniTag = { handler: this.miniTagHandler };
    config.shadowTiddlers[&quot;QuickOpenTagStyles&quot;] = this.styles;
    store.addNotification(&quot;QuickOpenTagStyles&quot;,refreshStyles);
  }
}

config.quickOpenTag.init();

//}}}
</pre>
</div>
<div title="Quotient Map" modifier="Christopher Wilson" created="201403231744" modified="201404082209" tags="Topology">
<pre>!!Definition
Let $X$ and $Y$ be topological spaces\; let $\;p:X\rightarrow Y$ be a surjective map.  The map $p$ is said to be a ''//quotient map//'' provided a subset $U$ of $Y$ is open in $Y$ iff $\;p^{-1}(U)$ is open in $X$.

!!Notes
*We say that a subset $C$ of $X$ is ''//saturated//'' (with respect to the surjective map $\;p:X\rightarrow Y$) if $C$ contains every set $\;p^{-1}(\{y\})$ that it intersects.  Thus $C$ is saturated if it equals the complete inverse image of a subset of $Y$.
*To say that $p$ is a quotient map is equivalent to saying that $p$ is [[continuous|Continuity]] and $p$ maps ''//saturated//'' open sets of $X$ to open sets of $Y$.</pre>
</div>
<div title="Quotient Space" modifier="Christopher Wilson" created="201403231809" modified="201404082210" tags="Topology">
<pre>!!Definition
Let $X$ be a topological space, and let $X^*$ be a partition of $X$ into disjoint subsets whose union is $X$.  Let $\;p:X\rightarrow X^*$ be the surjective map that carries each point of $X$ to the element of $X^*$ containing it.  In the [[quotient topology|Quotient Topology]] induced by $p$, the space $X^*$ is called a ''//quotient space//'' of $X$.</pre>
</div>
<div title="Quotient Topology" modifier="Christopher Wilson" created="201403231756" modified="201404082209" tags="[[Common Topologies]]">
<pre>!!Definition
if $X$ is a space and $A$ is a set and if $\;p:X\rightarrow A$ is a surjective map, then there exists exactly one topology $\mathscr{T}$ on $A$ relative to which $p$ is a [[quotient map|Quotient Map]]\; it is called the ''//quotient topology//'' induced by $p$.

The topology $\mathscr{T}$ is defined by letting it consist of those subsets $U$ of $A$ such that $\;p^{-1}(U)$ is open in $X$.  We show that $\mathscr{T}$ is a topology by noting that $\varnothing$ and $A$ are open because $\;p^{-1}(\varnothing) = \varnothing$ and $\;p^{-1}(A) = X$, and because
$$p^{-1}(\bigcup_{\alpha\in J}U_\alpha) = \bigcup_{\alpha\in J}p^{-1}(U_\alpha).$$</pre>
</div>
<div title="Real Projective Space" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405061136" modified="201405061136" tags="Topology" changecount="2" content-type="text/x-tiddlywiki">
<pre>!!Definition
''//Real projective space//'', or $\mathbb{RP}^n$, is the topological space of line passing through the origin $0$ in $R^{n+1}$.  It is a [[compact]], [[Smooth Manifold]] of dimension $n$, and is a special case $Gr(1, \mathbb{R}^{n+1})$ of a [[Grassmannian]] space.</pre>
</div>
<div title="RearrangeTiddlersPlugin" modifier="Christopher Wilson" created="201305222322" modified="201404121748" tags="systemConfig excludeTimeline" content-type="" changecount="2">
<pre>/***
|Name|RearrangeTiddlersPlugin|
|Source|http://www.TiddlyTools.com/#RearrangeTiddlersPlugin|
|Version|2.0.0|
|Author|Eric Shulman|
|OriginalAuthor|Joe Raii|
|License|http://www.TiddlyTools.com/#LegalStatements|
|~CoreVersion|2.1|
|Type|plugin|
|Description|drag tiddlers by title to re-order story column display|

adapted from: http://www.cs.utexas.edu/~joeraii/dragn/#Draggable
changes by ELS:
* hijack refreshTiddler() instead of overridding createTiddler()
* find title element by className instead of elementID
* set cursor style via code instead of stylesheet
* set tooltip help text
* set tiddler &quot;position:relative&quot; when starting drag event, restore saved value when drag ends
* update 2006.08.07: use getElementsByTagName(&quot;*&quot;) to find title element, even when it is 'buried' deep in tiddler DOM elements (due to custom template usage)
* update 2007.03.01: use apply() to invoke hijacked core function
* update 2008.01.13: only hijack core function once.  (allows for dynamic loading of plugin via bookmarklet)
* update 2008.10.19: added onclick popup menu with 'move to top' and 'move to bottom' commands
* update 2010.11.30: use story.getTiddler()
***/
//{{{

if (Story.prototype.rearrangeTiddlersHijack_refreshTiddler===undefined) {
Story.prototype.rearrangeTiddlersHijack_refreshTiddler = Story.prototype.refreshTiddler;
Story.prototype.refreshTiddler = function(title,template)
{
	this.rearrangeTiddlersHijack_refreshTiddler.apply(this,arguments);
	var theTiddler = this.getTiddler(title); if (!theTiddler) return;
	var theHandle;
	var children=theTiddler.getElementsByTagName(&quot;*&quot;);
	for (var i=0; i&lt;children.length; i++) if (hasClass(children[i],&quot;title&quot;)) { theHandle=children[i]; break; }
	if (!theHandle) return theTiddler;

	Drag.init(theHandle, theTiddler, 0, 0, null, null);
	theHandle.style.cursor=&quot;move&quot;;
	theHandle.title=&quot;drag title to re-arrange tiddlers, click for more options...&quot;
	theTiddler.onDrag = function(x,y,myElem) {
		if (this.style.position!=&quot;relative&quot;)
			{ this.savedstyle=this.style.position; this.style.position=&quot;relative&quot;; }
		y = myElem.offsetTop;
		var next = myElem.nextSibling;
		var prev = myElem.previousSibling;
		if (next &amp;&amp; y + myElem.offsetHeight &gt; next.offsetTop + next.offsetHeight/2) { 
			myElem.parentNode.removeChild(myElem);
			next.parentNode.insertBefore(myElem, next.nextSibling);//elems[pos+1]);
			myElem.style[&quot;top&quot;] = -next.offsetHeight/2+&quot;px&quot;;
		}
		if (prev &amp;&amp; y &lt; prev.offsetTop + prev.offsetHeight/2) { 
			myElem.parentNode.removeChild(myElem);
			prev.parentNode.insertBefore(myElem, prev);
			myElem.style[&quot;top&quot;] = prev.offsetHeight/2+&quot;px&quot;;
		}
	};
	theTiddler.onDragEnd = function(x,y,myElem) {
		myElem.style[&quot;top&quot;] = &quot;0px&quot;;
		if (this.savedstyle!=undefined)
			this.style.position=this.savedstyle;
	};
	theHandle.onclick=function(ev) {
		ev=ev||window.event;
		var p=Popup.create(this); if (!p) return;
		var b=createTiddlyButton(createTiddlyElement(p,&quot;li&quot;),
			&quot;\u25B2 move to top of column &quot;,&quot;move this tiddler to the top of the story column&quot;,
			function() {
				var t=story.getTiddler(this.getAttribute(&quot;tid&quot;));
				t.parentNode.insertBefore(t,t.parentNode.firstChild); // move to top of column
				window.scrollTo(0,ensureVisible(t));
				return false;
			});
		b.setAttribute(&quot;tid&quot;,title);
		var b=createTiddlyButton(createTiddlyElement(p,&quot;li&quot;),
			&quot;\u25BC move to bottom of column &quot;,&quot;move this tiddler to the bottom of the story column&quot;,
			function() {
				var t=story.getTiddler(this.getAttribute(&quot;tid&quot;));
				t.parentNode.insertBefore(t,null); // move to bottom of column
				window.scrollTo(0,ensureVisible(t));
				return false;
			});
		b.setAttribute(&quot;tid&quot;,title);
		Popup.show();
		ev.cancelBubble=true; if (ev.stopPropagation) ev.stopPropagation(); return(false);
	};
	return theTiddler;
}
}

/**************************************************
 * dom-drag.js
 * 09.25.2001
 * www.youngpup.net
 **************************************************
 * 10.28.2001 - fixed minor bug where events
 * sometimes fired off the handle, not the root.
 **************************************************/

var Drag = {
	obj:null,

	init:
	function(o, oRoot, minX, maxX, minY, maxY) {
		o.onmousedown = Drag.start;
		o.root = oRoot &amp;&amp; oRoot != null ? oRoot : o ;
		if (isNaN(parseInt(o.root.style.left))) o.root.style.left=&quot;0px&quot;;
		if (isNaN(parseInt(o.root.style.top))) o.root.style.top=&quot;0px&quot;;
		o.minX = typeof minX != 'undefined' ? minX : null;
		o.minY = typeof minY != 'undefined' ? minY : null;
		o.maxX = typeof maxX != 'undefined' ? maxX : null;
		o.maxY = typeof maxY != 'undefined' ? maxY : null;
		o.root.onDragStart = new Function();
		o.root.onDragEnd = new Function();
		o.root.onDrag = new Function();
	},

	start:
	function(e) {
		var o = Drag.obj = this;
		e = Drag.fixE(e);
		var y = parseInt(o.root.style.top);
		var x = parseInt(o.root.style.left);
		o.root.onDragStart(x, y, Drag.obj.root);
		o.lastMouseX = e.clientX;
		o.lastMouseY = e.clientY;
		if (o.minX != null) o.minMouseX = e.clientX - x + o.minX;
		if (o.maxX != null) o.maxMouseX = o.minMouseX + o.maxX - o.minX;
		if (o.minY != null) o.minMouseY = e.clientY - y + o.minY;
		if (o.maxY != null) o.maxMouseY = o.minMouseY + o.maxY - o.minY;
		document.onmousemove = Drag.drag;
		document.onmouseup = Drag.end;
		Drag.obj.root.style[&quot;z-index&quot;] = &quot;10&quot;;
		return false;
	},

	drag:
	function(e) {
		e = Drag.fixE(e);
		var o = Drag.obj;
		var ey = e.clientY;
		var ex = e.clientX;
		var y = parseInt(o.root.style.top);
		var x = parseInt(o.root.style.left);
		var nx, ny;
		if (o.minX != null) ex = Math.max(ex, o.minMouseX);
		if (o.maxX != null) ex = Math.min(ex, o.maxMouseX);
		if (o.minY != null) ey = Math.max(ey, o.minMouseY);
		if (o.maxY != null) ey = Math.min(ey, o.maxMouseY);
		nx = x + (ex - o.lastMouseX);
		ny = y + (ey - o.lastMouseY);
		Drag.obj.root.style[&quot;left&quot;] = nx + &quot;px&quot;;
		Drag.obj.root.style[&quot;top&quot;] = ny + &quot;px&quot;;
		Drag.obj.lastMouseX = ex;
		Drag.obj.lastMouseY = ey;
		Drag.obj.root.onDrag(nx, ny, Drag.obj.root);
		return false;
	},

	end:
	function() {
		document.onmousemove = null;
		document.onmouseup = null;
		Drag.obj.root.style[&quot;z-index&quot;] = &quot;0&quot;;
		Drag.obj.root.onDragEnd(parseInt(Drag.obj.root.style[&quot;left&quot;]), parseInt(Drag.obj.root.style[&quot;top&quot;]), Drag.obj.root);
		Drag.obj = null;
	},

	fixE:
	function(e) {
		if (typeof e == 'undefined') e = window.event;
		if (typeof e.layerX == 'undefined') e.layerX = e.offsetX;
		if (typeof e.layerY == 'undefined') e.layerY = e.offsetY;
		return e;
	}
};
//}}}</pre>
</div>
<div title="Recent Changes" modifier="Christopher Wilson" created="201402240711" modified="201402240711" tags="excludeTimeline">
<pre>&lt;&lt;recentChanges&gt;&gt;</pre>
</div>
<div title="RecentChangesPlugin" modifier="Christopher Wilson" created="201402240619" tags="systemConfig excludeTimeline">
<pre>/***
|Name|RecentChangesPlugin|
|Source|http://www.TiddlyTools.com/#RecentChangesPlugin|
|Version|2.2.1|
|Author|Eric Shulman|
|License|http://www.TiddlyTools.com/#LegalStatements|
|~CoreVersion|2.1|
|Type|plugin|
|Description|display droplist of recently changed tiddlers with goto, edit, and preview buttons|
!!!!!Usage
&lt;&lt;&lt;
The {{{&lt;&lt;recentChanges&gt;&gt;}}} macro displays a droplist of all tiddlers that have been changed within the last N days (default=10 days).  
{{{
&lt;&lt;recentChanges&gt;&gt;
&lt;&lt;recentChanges #ofdays summary noEdit previewheight previewclass&gt;&gt;
}}}
where:
* #ofdays specifies the time limit for listing changed tiddlers.  Use 0 (zero) to list all tiddlers in the document.
* ''summary'' is an optional keyword that outputs only the summary text (without the droplist or buttons)
* ''noEdit'' is an optional keyword that hides the 'edit' button
* previewheight is a CSS height measurement and sets the FIXED height of the tiddler preview area (default is 15em)
* previewclass is any CSS classname, and can be used to apply custom styles to the preview area (default is to use the standard 'viewer' class)
&lt;&lt;&lt;
!!!!!Examples
&lt;&lt;&lt;
{{smallform{
{{{&lt;&lt;recentChanges&gt;&gt;}}}
&lt;&lt;recentChanges&gt;&gt;
{{{&lt;&lt;recentChanges 30 summary&gt;&gt;}}}
&lt;&lt;recentChanges 30 summary&gt;&gt;

{{{&lt;&lt;recentChanges 30 noedit 10em groupbox&gt;&gt;}}}
&lt;&lt;recentChanges 30 noedit 10em groupbox&gt;&gt;
}}}
&lt;&lt;&lt;
!!!!!Revisions
&lt;&lt;&lt;
2009.09.07 [2.2.1] fixed typo in shadow definition
2009.07.02 [2.2.0] added optional 'noedit' keyword to hide 'edit' button
2008.07.01 [2.1.0] added optional 'summary' keyword for simple text output
2008.05.01 [2.0.1] fixup for titles with double-quotes
2007.07.26 [2.0.0] re-written as plugin
2006.10.02 [1.0.0] initial release (as inline script ShowRecentChanges)
&lt;&lt;&lt;
!!!!!Code
***/
//{{{
version.extensions.RecentChangesPlugin= {major: 2, minor: 2, revision: 1, date: new Date(2009,9,7)};

config.shadowTiddlers.RecentChanges='&lt;&lt;recentChanges&gt;&gt;';

config.macros.recentChanges = {
	handler: function(place,macroName,params,wikifier,paramString,tiddler) {
		var days=10; if (!isNaN(params[0])) days=parseInt(params[0]); // time limit in days (use 0 for all tiddlers)
		var summary=params[1]&amp;&amp;params[1].toLowerCase()=='summary'; if (summary) params.shift();
		var noedit=params[1]&amp;&amp;params[1].toLowerCase()=='noedit'; if (noedit) params.shift();
		var height='15em'; if (params[1]) height=params[1]; // preview area fixed height
		var previewclass='viewer'; if (params[2]) previewclass=params[2]; // preview area CSS class
		var tiddlers=store.getTiddlers('modified','excludeLists').reverse();
		var count=tiddlers.length;
		if (days) {
			var timelimit=(new Date()).getTime()-86400000*days;
			for (var count=0; count&lt;tiddlers.length &amp;&amp; tiddlers[count].modified&gt;timelimit; count++);
		}
		var s=count+' tiddlers have changed since ';
		s+=new Date(timelimit).formatString('DDD, MMM DDth YYYY 0hh:0mm');
		s+=' ('+days+' days ago)';
		if (summary)
			{ wikify(s,place); return; }
		var opts='&lt;option value=&quot;&quot;&gt;'+s+'&lt;/option&gt;';
		for (var i=0; i&lt;count; i++) { var t=tiddlers[i];
			opts+='&lt;option value=&quot;'+t.title.replace(/&quot;/g,&quot;&amp;#x22;&quot;)+'&quot;&gt;';
			opts+=t.modified.formatString('YYYY.0MM.0DD 0hh:0mm')+' - '+t.title;
			opts+='&lt;/option&gt;';
		}
		var h=store.getTiddlerText('RecentChangesPlugin##html')
		h=h.replace(/%options%/,opts);
		h=h.replace(/%listwidth%/,noedit?79.5:69.5);
		h=h.replace(/%noedit%/,noedit?'none':'inline');
		createTiddlyElement(place,'div').innerHTML=h;
		var preview=createTiddlyElement(place,'div',null,previewclass);
		preview.style.display='none';
		preview.style.whiteSpace='normal';
		preview.style.overflow='auto';
		preview.style.height=height;
	}
}
//}}}
/***
//{{{
!html
&lt;form&gt;&lt;select size=1 name=&quot;list&quot; style=&quot;width:%listwidth%%&quot;
	onchange=&quot;this.form.goto.disabled=this.form.edit.disabled=this.form.preview.disabled=!this.value.length;
		var target=this.parentNode.parentNode.nextSibling; removeChildren(target);
		if (!this.value.length)
			{ target.style.display='none'; this.form.preview.value='preview'; }
		else if (target.style.display=='block') {
			wikify('&lt;'+'&lt;tiddler [['+this.value+']]&gt;'+'&gt;',target);
			target.style.display='block';
			this.form.preview.value='done';
		}
&quot;&gt;%options%&lt;/select&gt;&lt;!--
--&gt;&lt;input type=&quot;button&quot; name=&quot;goto&quot; value=&quot;goto&quot; disabled title=&quot;view selected tiddler&quot; style=&quot;width:10%&quot;
	onclick=&quot;var target=this.parentNode.parentNode.nextSibling; removeChildren(target);
		target.style.display='none'; this.form.preview.value='preview';
		story.displayTiddler(story.findContainingTiddler(this),this.form.list.value);
&quot;&gt;&lt;input type=&quot;button&quot; name=&quot;edit&quot; value=&quot;edit&quot; disabled title=&quot;edit selected tiddler&quot; style=&quot;width:10%;display:%noedit%&quot;
	onclick=&quot;var target=this.parentNode.parentNode.nextSibling; removeChildren(target);
		target.style.display='none'; this.form.preview.value='preview';
		story.displayTiddler(story.findContainingTiddler(this),this.form.list.value,DEFAULT_EDIT_TEMPLATE);
&quot;&gt;&lt;input type=&quot;button&quot; name=&quot;preview&quot; value=&quot;preview&quot; disabled title=&quot;show/hide tiddler preview&quot; style=&quot;width:10%&quot;
	onclick=&quot;var target=this.parentNode.parentNode.nextSibling;
		if (this.value=='preview') {
			removeChildren(target);
			wikify('&lt;'+'&lt;tiddler [['+this.form.list.value+']]&gt;'+'&gt;',target);
			target.style.display=this.form.list.value.length?'block':'none'; this.value='done';
		} else {
			removeChildren(target);
			target.style.display='none'; this.value='preview';
		}
&quot;&gt;&lt;/form&gt;
!end
//}}}
***/
 	</pre>
</div>
<div title="RedirectMacro" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405171314" tags="systemConfig excludeTimeline systemConfigDisable" changecount="12" content-type="text/javascript">
<pre>/***
|Macro|redirect (alias)|
|Author|[[Clint Checketts]] and Paul Petterson|
|Version|1.1 Jan 26, 2006|
|Location|http://checkettsweb.com/styles/themes.htm#RedirectMacro|
|Description|This macro tells TW to find all instances of a word and makes it point to a different link.  For example, whenever I put the word 'Clint' in a tiddler I want TiddlyWiki to turn it into a link that points to a tiddler titled 'Clint Checketts' Or the word 'TW' could point to a tiddler called 'TiddlyWiki' It even matches clint (which is lowercase) [[Clint]] leet lEEt LEET|
|Usage|{{{&lt;&lt;redirect TW TiddlyWiki&gt;&gt;}}}   |
|Example|&lt;&lt;redirect TW &quot;TiddlyWiki&quot;&gt;&gt;  &lt;&lt;redirect Clint &quot;Clint Checketts&quot;&gt;&gt; (Nothing should appear, its just setting it all up)&lt;&lt;redirectExact lEEt Elite&gt;&gt;|

!Revisions
1.1- Fixed tiddler refresh so a tiddler declaring a redirect will also render the redirect
1.0- Updated to work with TiddlyWiki 2.0 (thanks to Udo Borkowski)
0.9- Original release October 2005

!Code
***/
//{{{
version.extensions.redirectExact = {major: 1, minor: 2, revision: 0, date: new Date(2005,10,24)};
config.macros.redirectExact = {label: &quot;Pickles Rock!&quot;};
config.macros.redirectExact.handler = function(place,macroName,params,wikifier,paramString,tiddler){
	config.macros.redirect.handler(place,macroName,params,wikifier,paramString,tiddler);
}

version.extensions.redirect = {major: 1, minor: 2, revision: 0, date: new Date(2005,10,24)};
config.macros.redirect = {label: &quot;Pickles Rock!&quot;};

config.macros.redirect.handler = function(place,macroName,params,wikifier,paramString,tiddler){

var redirectExists = false
// Check to see if the wikifier exists
for (var i=0;i&lt;config.formatters.length;i++)
	if (config.formatters[i].name == &quot;redirect&quot;+params[0])
		redirectExists = true;

//If it doesn't exist, add it!
if (!redirectExists){
	for( var i=0; i&lt;config.formatters.length; i++ )
		if ( config.formatters[i].name=='wikiLink') break ;

	if ( i &gt;= config.formatters.length ) {
		var e = &quot;Can't find formatter for wikiLink!&quot; ;
		displayMessage( e ) ;
		throw( e ) ;
	}

var pattern;
	if (macroName == 'redirect'){pattern=params[0].escapeRegExp().replace(/([A-Z])/img, function($1) {return(&quot;[&quot;+$1.toUpperCase()+$1.toLowerCase()+&quot;]&quot;);});
	} else {
		pattern=params[0].escapeRegExp();
	}

	config.formatters.splice( i, 0, {
		name: &quot;redirect&quot;+params[0],
		match: &quot;(?:\\b)(?:\\[\\[)?&quot;+pattern+&quot;(?:\\]\\])?(?:\\b)&quot;,
		subst: params[1],
		handler:  function(w) {
			var link = createTiddlyLink(w.output,this.subst,false);
			w.outputText(link,w.matchStart,w.nextMatch);
		}
	});
	formatter = new Formatter(config.formatters); //update the tiddler
	if(tiddler) story.refreshTiddler(tiddler.title,null,true); //refresh tiddler so the new rule is applied
} // End if
}
//}}}</pre>
</div>
<div title="Redirects" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405171321" modified="201405171332" tags="Reference excludeTimeline" alias="" changecount="17" content-type="text/x-tiddlywiki">
<pre>/%
&lt;&lt;redirect compact &quot;Compact&quot;&gt;&gt;&lt;&lt;redirect Compact &quot;Compact&quot;&gt;&gt;
&lt;&lt;redirect &quot;continuouss map&quot; &quot;Continuity&quot;&gt;&gt;&lt;&lt;redirect &quot;Continuous Map&quot; &quot;Continuity&quot;&gt;&gt;
&lt;&lt;redirect continuous &quot;Continuity&quot;&gt;&gt;&lt;&lt;redirect Continuous &quot;Continuity&quot;&gt;&gt;
&lt;&lt;redirect continuity &quot;Continuity&quot;&gt;&gt;&lt;&lt;redirect Continuity &quot;Continuity&quot;&gt;&gt;
&lt;span id='redirects' refresh='content' force='true' tiddler='xRedirects'&gt;&lt;/span&gt;
%/
</pre>
</div>
<div title="Reference" creator="colmbritton" modifier="Christopher Wilson" created="201404112131" modified="201404141124" tags="excludeTimeline" changecount="1" content-type="">
<pre></pre>
</div>
<div title="ReferencesPlugin" modifier="Christopher Wilson" created="201305270438" modified="201404101836" tags="excludeTimeline systemConfig systemConfigDisable">
<pre>TiddlyWiki.prototype.getReferringNotes = function(title,unusedParameter,sortField)
{
	if(!this.notesUpdated)
		this.updateNotes();
	return this.reverseLookup(&quot;links&quot;,title,true,sortField);
}

TiddlyWiki.prototype.updateNotes = function()
{
	this.notesUpdated = true;
	this.forEachNote(function(title,note) {
		note.changed();
		});
}
	var importStore = new TiddlyWiki();
	// Extract data for the listview
	var notes = [];
	importStore.forEachNote(function(title,note)
		{
		var t = {};
		t.title = title;
		t.modified = note.modified;
		t.modifier = note.modifier;
		t.text = note.text.substr(0,50);
		t.tags = note.tags;
		notes.push(t);
		});

/***
''Name:'' ReferencesPlugin
''Author:'' Garrett Lisi
''Description:'' Places a comma separated list of referring notes at the bottom of each note -- replacing the &quot;references&quot; command bar button.
''Installation:'' Copy this note, change the [[StyleSheet]] to set the references class style, and add a line in the [[ViewTemplate]].

''Code:''
***/
/*{{{*/
config.macros.references = {};
config.macros.references.handler = function(place,macroName,params,wikifier,paramString,note)
{
	var references = store.getReferringNotes(note.title);
	if(references.length&gt;0)
		{
//		createTiddlyText(place,&quot;\xAB &quot;);	
		createTiddlyLink(place,references[0].title,true);
		}
	for(var r=1; r&lt;references.length; r++)
		if(references[r].title != note.title ||  references[r].tags.search(&quot;excludeLists&quot;) == -1 )
			{
			createTiddlyText(place,&quot;, &quot;);
			createTiddlyLink(place,references[r].title,true);
			}
}
/*}}}*/</pre>
</div>
<div title="Regular, Normal" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404250211" modified="201404250416" tags="Topology" changecount="17" content-type="text/x-tiddlywiki">
<pre>!!Definition
Let singleton sets be closed in $X$.  
*The space $X$ is said to be ''//regular//'' if for each pair consisting of a point $x$ and a closed set $B$ disjoint from $x$, there exist disjoint open sets containing $x$ and $B$, respectively.  
*The space $X$ is said to be ''//normal//'' if for each pair $A, B$ of disjoint closed sets of $X$, there exist disjoint open sets containing $A$ and $B$, respectively.

|sortable3|k
|[img[Images\Topology\Regular, Normal.png]]|

!!Theorems
*$X$ is regular iff given $x \in X\,$ and a neighborhood  $ U $ of $x$, there exists a neighborhood $V$ of $x\;$  such that $\overline{V} \subset U$.
*$X$ is normal iff given a closed set $A$ and an open set $U$ containing $A$, there is an open set $V$ containing $A$ such that $\overline{V} \subset U$.</pre>
</div>
<div title="RenameTagsPlugin" modifier="Christopher Wilson" created="201106271025" modified="201305222317" tags="systemConfig excludeTimeline" changecount="1">
<pre>/***
|Name:|RenameTagsPlugin|
|Description:|Allows you to easily rename or delete tags across multiple tiddlers|
|Version:|3.0a|
|Date:|27-Jun-2011|
|Source:|http://mptw.tiddlyspot.com/#RenameTagsPlugin|
|Author:|Simon Baird &lt;simon.baird@gmail.com&gt;|
|License|http://mptw.tiddlyspot.com/#TheBSDLicense|
Rename a tag and you will be prompted to rename it in all its tagged tiddlers.
***/
//{{{
config.renameTags = {

  prompts: {
    rename: &quot;Rename the tag '%0' to '%1' in %2 tidder%3?&quot;,
    remove: &quot;Remove the tag '%0' from %1 tidder%2?&quot;
  },

  removeTag: function(tag,tiddlers) {
    store.suspendNotifications();
    for (var i=0;i&lt;tiddlers.length;i++) {
      store.setTiddlerTag(tiddlers[i].title,false,tag);
    }
    store.resumeNotifications();
    store.notifyAll();
  },

  renameTag: function(oldTag,newTag,tiddlers) {
    store.suspendNotifications();
    for (var i=0;i&lt;tiddlers.length;i++) {
      store.setTiddlerTag(tiddlers[i].title,false,oldTag); // remove old
      store.setTiddlerTag(tiddlers[i].title,true,newTag);  // add new
    }
    store.resumeNotifications();
    store.notifyAll();
  },

  storeMethods: {

    saveTiddler_orig_renameTags: TiddlyWiki.prototype.saveTiddler,

    saveTiddler: function(title,newTitle,newBody,modifier,modified,tags,fields,clearChangeCount,created,creator) {
      if (title != newTitle) {
        var tagged = this.getTaggedTiddlers(title);
        if (tagged.length &gt; 0) {
          // then we are renaming a tag
          if (confirm(config.renameTags.prompts.rename.format([title,newTitle,tagged.length,tagged.length&gt;1?&quot;s&quot;:&quot;&quot;])))
            config.renameTags.renameTag(title,newTitle,tagged);

          if (!this.tiddlerExists(title) &amp;&amp; newBody == &quot;&quot;)
            // dont create unwanted tiddler
            return null;
        }
      }
      return this.saveTiddler_orig_renameTags(title,newTitle,newBody,modifier,modified,tags,fields,clearChangeCount,created,creator);
    },

    removeTiddler_orig_renameTags: TiddlyWiki.prototype.removeTiddler,

    removeTiddler: function(title) {
      var tagged = this.getTaggedTiddlers(title);
      if (tagged.length &gt; 0)
        if (confirm(config.renameTags.prompts.remove.format([title,tagged.length,tagged.length&gt;1?&quot;s&quot;:&quot;&quot;])))
          config.renameTags.removeTag(title,tagged);
      return this.removeTiddler_orig_renameTags(title);
    }

  },

  init: function() {
    merge(TiddlyWiki.prototype,this.storeMethods);
  }
}

config.renameTags.init();

//}}}
</pre>
</div>
<div title="Results Update" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404270113" modified="201404290755" tags="[[Critical Phenomena]]" changecount="80" content-type="text/x-tiddlywiki">
<pre>!!Plots of ${H_3(\mathbb{Z}_m)}$
*The case $m=4$ could be $1^{st}$ order? Maybe $2^{nd}$ order still?
*The case $m=3$ still seems Potts-like, but with a much strong second transition.
*It looks like all clock-like nature will vanish for $m=5$, but it seems that the transition might be $1^{st}$ order...
*The distance matrix for $m=5$ will take at least several hours to generate.

&lt;&lt;tabs H3_pTabs 
&quot;m = 2&quot; &quot;m = 2&quot; [[H3_p Images/H3_2]]
&quot;m = 3&quot; &quot;m = 3&quot; [[H3_p Images/H3_3]]
&quot;m = 4&quot; &quot;m = 4&quot; [[H3_p Images/H3_4]]
&gt;&gt;
*[[Download Mathematica Script for Distance Matrices|Research\H3_2_reorder.nb]]


!!Phase Transition Characterization
The literature has a wide range of opinions on existing phases for well-studied models.
*(2001) It is nearly impossible, by means of Monte Carlo simulations of finite systems, to observe asymptotic critical behavior of isotropic-anisotropic phase transition in 2D six-clock model and those of similar symmetry..?&lt;&lt;bibtex Itakura2014&gt;&gt;
*(2010) The lower temperature transition in the clock model might be first-order..?&lt;&lt;bibtex Brito2010&gt;&gt;


!!Finite Lattice Scaling
*Can we characterize the transition by finite lattice scaling?  Not with current results, need to use Wolff alg.
*The points for $H_3(\mathbb{Z}_3)$ and $H_3(\mathbb{Z}_2)$ need to be rechecked. These could also be linear.
*Does the scaling relation change from $m=3$ to $m=4$?
*Too difficult to find the exact critical points above $L=64$ using Monte Carlo.  
*At $L=64$, a change in temperature of $10^{-4}$ changes the specific heat peak by $15\%$. 


|sortable3|k
|[img[CritPhen\Models\H3_p\Plots\finiteScaling.png]]|
|The Monte Carlo algorithm is very inefficient for precise scaling.|c


!!Correlation Function
*The correlation function&lt;&lt;bibtex Wu1982&gt;&gt;, where $(q = m^3)$ $$g(x) = g(\sigma_0,\sigma_x) = \frac{q\delta(\sigma_0,\sigma_x) - 1}{4x(q-1)} - \frac{1}{q^2}$$


|sortable3|k
|[img[CritPhen\Models\H3_p\Plots\powerDecay.png]]|[img[CritPhen\Models\H3_p\Plots\expDecay.png]]|
| $R^2$ for fits: 0.9994 (left), 0.9998 (right). |c


!!Distance Matrices For a Few Groups of Order 8
*$H_3(\mathbb{Z}_2)$ can be 'relabeled' (not isometrically) to represent any of the other distance matrices.  
*When number generators = number elements $\Rightarrow$ Potts model.
*The word metric is the same distance as the left-invariant metric we used before.&lt;&lt;bibtex dmitri2001course&gt;&gt;

&lt;&lt;tabs wordMetric 
&quot;H3&quot; &quot;H3&quot; [[H3_p Images/H3_2metric]]
&quot;D4&quot; &quot;D4&quot; [[H3_p Images/D4metric]]
&quot;Q8&quot; &quot;Q8&quot; [[H3_p Images/Q8metric]]
&gt;&gt;


!!Word lengths in $H_3(\mathbb{Z}_m)$
*An upper bound on the maximum word length for each $m\in \mathbb{N}$ might be given by $2\,\mathrm{ceiling}(2z)$.
*I'm not sure if the case $m \rightarrow \infty$ converges to the XY model.  Is this interesting?
*[[Paper on Word Lengths in H3|Research\Papers\Heisenberg Group\Blachere2003.pdf]] (Has at least one error).
</pre>
</div>
<div title="Revisions" modifier="Christopher Wilson" created="201404100811" modified="201404140159" tags="excludeTimeline" changecount="1" content-type="">
<pre>&lt;&lt;matchTags &quot;*[[%0]] (%2) &lt;br&gt;^^%5^^&quot; &quot;\n&quot; sort:title Revisions&gt;&gt;
</pre>
</div>
<div title="RevisionsPlugin" modifier="Christopher Wilson" created="201404090543" modified="201404140253" tags="excludeTimeline systemConfig" changecount="4" content-type="">
<pre>/***
|Name|RevisionsPlugin|
|Source|http://www.linux-lovers.be/RevisionsPlugin/#RevisionsPlugin|
|Version|1.0.1|
|Author|Willy De la Court (willy [dot] delacourt [at] telenet [dot] be)|
|License|[[Creative Commons Attribution-ShareAlike 2.5 License|http://creativecommons.org/licenses/by-sa/2.5/]]|
|~CoreVersion|2.5|
|Type|plugin|
|Requires||
|Overrides|config.commands.saveTiddler|
|Description|Create revisions of a tiddler when changes are saved|
!!!Edits 
Editted to make it compatible with the CodeMirror saving macro, cmSave (replaced all instances of saveTiddler with cmSave).
!!!Usage
&lt;&lt;&lt;
This plugin automatically updates the default (shadow) ToolbarCommands slice definitions to insert the ''revisions'' command.

When you select the ''revisions'' command, a drop down popup is shown with all the revisions of the current tiddler.

The plugin takes control of the ''saveTiddler'' command and check the tags of the current tiddler. If the current tiddler is taged with the &lt;&lt;tag KeepRevisions&gt;&gt; tag then the ''saveTiddler'' command automatically will create a new revision of the tiddler.

All revision tiddlers will be tagged with &lt;&lt;tag Revisions&gt;&gt;, &lt;&lt;tag excludeTimeline&gt;&gt;, &lt;&lt;tag excludeSearch&gt;&gt;, &lt;&lt;tag excludeLists&gt;&gt; and &lt;&lt;tag excludeMissing&gt;&gt;.

Note: if you are already using customized toolbar definitions, you will need to manually add the ''revisions'' toolbar command to your existing ToolbarCommands tiddler, e.g.:
{{{
|EditToolbar|... revisions ... |
}}}
&lt;&lt;&lt;
!!!Revisions
&lt;&lt;&lt;
2009.03.27 [1.0.1] added some documentation
2009.03.23 [1.0.0] initial version
&lt;&lt;&lt;
!!!Code
***/
//{{{
version.extensions.RevisionsPlugin= {major: 1, minor: 0, revision: 0, date: new Date(2009,3,23)};

config.extensions.RevisionsPlugin = {};
config.extensions.RevisionsPlugin.core_saveTiddler_handler = config.commands.cmSave.handler;
merge(config.commands.cmSave,{
	zeroPad: 4,
	keepRevisonsTag: &quot;KeepRevisions&quot;,
	suffixText: &quot; Revision(%0)&quot;,
	newtags: [&quot;Revisions&quot;, &quot;excludeMissing&quot;, &quot;excludeSearch&quot;, &quot;excludeLists&quot;, &quot;excludeTimeline&quot;],
	keepTags: false
	});

config.commands.cmSave.handler = function(event,src,title) {
	if(store.tiddlerExists(title) &amp;&amp; store.getTiddler(title).isTagged(this.keepRevisonsTag)) {
		// Not a new tiddler and tagged with keepRevisonsTag
		n = 1;
		var newTitle = title + this.suffixText.format([String.zeroPad(n, this.zeroPad)]);
		while (store.tiddlerExists(newTitle) || document.getElementById(story.idPrefix + newTitle)) {
			n++;
			newTitle = title + this.suffixText.format([String.zeroPad(n, this.zeroPad)]);
		}
		var text = store.getTiddlerText(title, '');
		var newtags = this.newtags;
		var newfields = {};
		var tid = store.getTiddler(title);
		if (tid) {
			if(this.keepTags)
				for (var t = 0; t &lt; tid.tags.length; t++) newtags.push(tid.tags[t]);
			store.forEachField(tid,
				function(t, f, v) {
					newfields[f] = v;
				},
			true);
		}
		store.saveTiddler(newTitle, newTitle, text, tid.modifier, tid.modified, newtags, newfields, false);
	}
	return config.extensions.RevisionsPlugin.core_saveTiddler_handler.apply(this,arguments);
}

config.commands.revisions = {
	type: &quot;popup&quot;,
	text: &quot;revisions&quot;,
	tooltip: &quot;Show revisions of this tiddler&quot;,
	shortSuffixText: &quot; Revision(&quot;
}

config.commands.revisions.handlePopup = function(popup,title) {
	var tiddlertitle = title;
	store.forEachTiddler(function(title,tiddler) {
		if(title.startsWith(tiddlertitle + config.commands.revisions.shortSuffixText))
			createTiddlyLink(createTiddlyElement(popup,&quot;li&quot;),title,true,null,false,null,true);
		});
};

config.shadowTiddlers.ToolbarCommands = config.shadowTiddlers.ToolbarCommands.replace(
	/jump/m,
	&quot;revisions jump&quot;);

//}}}</pre>
</div>
<div title="RunTiddlerPlugin" modifier="Christopher Wilson" created="200709271816" modified="201404121534" tags="TidIDEPackage systemConfig excludeTimeline excludeLists systemConfigDisable" content-type="" changecount="5">
<pre>/***
|Name|RunTiddlerPlugin|
|Source|http://www.TiddlyTools.com/#RunTiddlerPlugin|
|Version|1.2.1|
|Author|Eric Shulman|
|License|http://www.TiddlyTools.com/#LegalStatements|
|~CoreVersion|2.1|
|Type|plugin|
|Description|command to invoke tiddler content as if tagged with systemConfig (i.e., a plugin)|
!!!!!Usage/Example
&lt;&lt;&lt;
Toolbar command:
&gt;{{{&lt;&lt;toolbar runTiddler&gt;&gt;}}} (in tiddler content)
&gt;{{{&lt;span class='toolbar' macro='toolbar runTiddler'&gt;&lt;/span&gt;}}} (in ViewTemplate definition)
&gt;&lt;&lt;toolbar runTiddler&gt;&gt;
&gt;when clicked, invokes the current tiddler as javascript code
Macro function:
&gt;{{{&lt;&lt;runTiddler TiddlerName&gt;&gt;}}} or {{{&lt;&lt;runTiddler TiddlerName label tip&gt;&gt;}}}
&gt;if only a TiddlerName is provided, the specified tiddler is automatically invoked as javascript code as soon as the macro is rendered.  If //optional// ''label'' and ''tip'' parameters are present, a command link is created that, when clicked, invokes the specified tiddler as javascript code.
&lt;&lt;&lt;
!!!!!Revisions
&lt;&lt;&lt;
2008.09.01 [1.2.1] fixed return value from command handler to prevent IE from attempt to leave the page
2008.08.26 [1.2.0] added optional label and tooltip params to macro (creates 'onclick' button to invoke specified tiddler)
2008.08.26 [1.1.0] added {{{&lt;&lt;runTiddler TiddlerName&gt;&gt;}}} macro to invoke specified tiddler
2007.09.27 [1.0.0] toolbar command based on run button functionality from TidIDEPlugin
&lt;&lt;&lt;
!!!!!Code
***/
//{{{
version.extensions.RunTiddlerPlugin= {major: 1, minor: 2, revision: 1, date: new Date(2008,9,1)};
//}}}
//{{{
config.commands.runTiddler = {
	text: 'run',
	tooltip: 'evaluate tiddler content as systemConfig (plugin) javascript code',
	warning: &quot;Warning!!  Processing '%0' as a systemConfig (plugin) tiddler may produce unexpected results! Are you sure you want to proceed?&quot;,
	completed: &quot;%0: Processing completed&quot;,
	handler: function(event,src,title) {
		var here=story.findContainingTiddler(src); if (!here) return;
		return this.invoke(here.getAttribute(&quot;tiddler&quot;),true,false);
	},
	invoke: function(tid,ask,quiet) {
		if (ask &amp;&amp; !confirm(this.warning.format([tid]))) return false;
		var text=store.getTiddlerText(tid); if (!text) return false;
		try { window.eval(text); if (!quiet) displayMessage(config.commands.runTiddler.completed.format([tid])); }
		catch(ex) { displayMessage(config.messages.pluginError.format([exceptionText(ex)])); }
		return false;
	}
};
//}}}
//{{{
config.macros.runTiddler = {
	handler: function(place,macroName,params,wikifier,paramString,tiddler) {
		var tid=params[0];
		var label=params[1];
		var tip=params[2]||config.commands.runTiddler.tooltip;
		if (!label) config.commands.runTiddler.invoke(tid,false,true);
		else createTiddlyButton(place,label,tip,function(){
			return config.commands.runTiddler.invoke(this.getAttribute(&quot;tid&quot;),true,false);
		},&quot;button&quot;).setAttribute(&quot;tid&quot;,tid);
	}
}
//}}}</pre>
</div>
<div title="SVG Demo" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405200422" modified="201405200423" tags="example excludeTimeline" content-type="text/x-tiddlywiki" alias="" changecount="40">
<pre>Converted from MATLAB eps output.  Due to the terrible $\LaTeX$ fonts MATLAB uses, image cleanup is required before it can be posted. A solution to this would be to create the plot without any text, and then add the text within the svg element, but this might be time consuming.

&lt;html&gt;&lt;object type=&quot;image/svg+xml&quot; data=&quot;./Ising_Compare_M2.svg&quot; width=&quot;100%&quot; height=&quot;250px&quot;&gt;&lt;/object&gt;&lt;/html&gt;</pre>
</div>
<div title="Sample graph3d.js Plot" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405190808" tags="example graph3d excludeTimeline" content-type="text/x-tiddlywiki" alias="" changecount="13">
<pre>Use the mouse to rotate and zoom with the mousewheel.  Doesn't work online.
|sortable3|k
|width:640px; |
|&lt;html&gt;&lt;iframe src=&quot;graph3d/examples/example01_basis.html&quot;  width=&quot;100%&quot; height=&quot;640px&quot; style=&quot;border: none;&quot;&gt;&lt;/iframe&gt;&lt;/html&gt;|
|  $$f(x,y) = 50\sin(x/50)\cos(y/50)+ 50$$ |c</pre>
</div>
<div title="SaveCloseTiddlerPlugin" modifier="Christopher Wilson" created="201106271025" modified="201402240701" tags="excludeTimeline">
<pre>/***
|Name:|SaveCloseTiddlerPlugin|
|Description:|Provides two extra toolbar commands, saveCloseTiddler and cancelCloseTiddler|
|Version:|3.0a|
|Date:|27-Jun-2011|
|Source:|http://mptw.tiddlyspot.com/#SaveCloseTiddlerPlugin|
|Author:|Simon Baird &lt;simon.baird@gmail.com&gt;|
|License:|http://mptw.tiddlyspot.com/#TheBSDLicense|
To use these add them to the commands in ToolbarCommands under EditToolbar,
or in the MptwTheme tiddler under EditTemplate.
***/
//{{{
merge(config.commands,{

  saveCloseTiddler: {
    text: 'save/close',
    tooltip: 'Save changes to this tiddler and close it',
    handler: function(ev,src,title) {
      var closeTitle = title;
      var newTitle = story.saveTiddler(title,ev.shiftKey);
      if (newTitle)
        closeTitle = newTitle;
      return config.commands.closeTiddler.handler(ev,src,closeTitle);
    }
  },

  cancelCloseTiddler: {
    text: 'cancel/close',
    tooltip: 'Undo changes to this tiddler and close it',
    handler: function(ev,src,title) {
      // the same as closeTiddler now actually
      return config.commands.closeTiddler.handler(ev,src,title);
    }
  }

});

//}}}
</pre>
</div>
<div title="Schrodinger Picture" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405032053" modified="201405032300" changecount="9" content-type="">
<pre>State vectors depend explicitly on time, but operators do not.
$$i \hbar \partial_t \Bigl|\Psi(t)\Bigr&gt;_S = \hat{H}\Bigl|\Psi(t)\Bigr&gt;_S$$
The state evolves as 
$$\Bigl|\Psi(t)\Bigr&gt;_S=\hat{U}(t,t_0)\Bigl|\Psi(t_0)\Bigr&gt;_S$$
where $\hat{U}(t,t_0) = e^{-i(t-t_0)\hat{H}/\hbar}$ is the time-evolution operator.</pre>
</div>
<div title="Search Results" modifier="Christopher Wilson" created="201405090328" modified="201704020537" tags="excludeLists excludeSearch excludeTimeline" changecount="14" content-type="" alias="">
<pre>| ''150 tiddlers found matching /{{{style}}}/'' |c
| !''#'' | ! ''Titles'' | !''Size'' | !''Tags'' | !''Modified'' |h
| 1|[[TagglyTaggingStyles]]| 2582|css,excludeTimeline|2014.04.14|
| 2|[[StyleSheetPrint]]| 1941|css,excludeTimeline|2014.05.18|
| 3|[[StyleSheetLocale]]| 433|css,excludeTimeline|2014.05.18|
| 4|[[StyleSheetLayout]]| 6563|css,excludeTimeline|2014.05.09|
| 5|[[StyleSheetColors]]| 8754|css,excludeTimeline|2014.05.04|
| 6|[[StyleSheetCodeMirror]]| 183|css,excludeTimeline|2014.05.18|
| 7|[[StyleSheet Old]]| 28173|css,excludeTimeline|2014.05.18|
| 8|[[StyleSheet]]| 14618|excludeTimeline,css,Reference|2014.05.15|
| 9|[[MPTWStyles]]| 4377|css,excludeTimeline|2014.05.17|
| 10|[[BibTeXPluginStyleSheet]]| 343|excludeTimeline|2014.04.09|
| 11|[[Ambit Stylesheet]]| 33572|ambit,excludeTimeline|2014.05.17|
| 12|[[StyleSheetAccordionMenuPlugin]]| 1085||2017.04.02|
| 13|[[StyleSheetDropDownMenuPlugin]]| 2467||2017.04.02|
| 14|[[MptwCollapsePluginStyles]]| 255||2017.04.02|
| 15|[[QuickOpenTagStyles]]| 1281||2017.04.02|
| 16|[[StyleSheetUntagged]]| 65||2017.04.02|
| 17|[[zCodeMirrorPlugin]]| 18679|cmtw,excludeTimeline,systemConfig,excludeLists|2014.05.14|
| 18|[[xHighChartsTheme.js]]| 2019|excludeTimeline,js,systemConfig|2014.05.19|
| 19|[[xHighChartsMore.js]]| 22883|excludeTimeline,js,systemConfig|2014.05.19|
| 20|[[Welcome]]| 3274|excludeTimeline|2014.05.14|
| 21|[[ViewTemplateToolbar]]| 1349|excludeTimeline,systemTemplate|2014.05.17|
| 22|[[UntaggedPlugin]]| 11154|systemConfig,excludeTimeline|2014.04.13|
| 23|[[toolbar testing]]| 5181|excludeTimeline,Reference|2014.05.15|
| 24|[[ToggleRightSidebar]]| 2571|excludeTimeline|2014.04.12|
| 25|[[ToDo]]| 1774|excludeTimeline,Reference|2014.05.04|
| 26|[[tiddlywiki.js]]| 4592|cmtw,excludeTimeline,systemConfig,excludeLists|2014.04.11|
| 27|[[tiddlywiki.css]]| 856|cmtw,excludeTimeline,excludeLists,css|2014.04.11|
| 28|[[TiddlerTweakerPlugin]]| 21754|systemConfig,excludeTimeline|2014.04.12|
| 29|[[TiddlerListMacro]]| 8212|systemConfig,excludeTimeline|2013.05.27|
| 30|[[TagsTreePlugin]]| 7082|excludeTimeline|2014.02.24|
| 31|[[TagglyTaggingPlugin]]| 23140|systemConfig,excludeTimeline|2013.05.22|
| 32|[[TableSortingPlugin]]| 5812|excludeTimeline,systemConfig|2014.04.12|
| 33|[[TabContents]]| 503|Folder,excludeTimeline|2014.04.10|
| 34|[[SystemInfoPlugin]]| 10089|systemConfig,excludeTimeline|2014.05.16|
| 35|[[SnapshotPluginInfo]]| 7580|excludeTimeline|2014.04.10|
| 36|[[SnapshotPlugin]]| 13120|excludeTimeline,systemConfig,systemConfigDisable|2014.04.10|
| 37|[[SlideShowPluginDoc]]| 7014|excludeTimeline|2014.04.26|
| 38|[[SlideShowPlugin]]| 17506|systemConfig,excludeTimeline,systemConfigDisable|2014.04.26|
| 39|[[SiteTitle]]| 162|excludeTimeline|2014.04.10|
| 40|[[SimpleSearchPlugin]]| 5658|systemConfig,excludeTimeline,systemConfigDisable|2014.05.08|
| 41|[[ShowUpdatesPluginInfo]]| 1098|plugininfo,excludeTimeline|2014.05.17|
| 42|[[SharedTiddlersPlugin]]| 22744|systemConfig,excludeTimeline,systemConfigDisable|2014.05.09|
| 43|[[SetIconPluginInfo]]| 7930|excludeTimeline|2014.04.10|
| 44|[[SetIconPlugin2]]| 3769|systemConfig,excludeTimeline|2014.04.11|
| 45|[[SetIconPlugin]]| 3658|systemConfig,excludeTimeline|2014.04.12|
| 46|[[SelectThemePlugin]]| 4062|systemConfig,excludeTimeline|2014.02.24|
| 47|[[SectionLinksPlugin]]| 12363|systemConfig,excludeTimeline|2014.04.12|
| 48|[[SearchOptionsPluginInfo]]| 12007|excludeTimeline|2014.05.08|
| 49|[[SearchOptionsPlugin]]| 20009|excludeTimeline,systemConfig|2014.05.08|
| 50|[[SearchOptions]]| 1182|excludeTimeline|2014.04.12|
| 51|[[Sample graph3d.js Plot]]| 278|example,graph3d,excludeTimeline|2014.05.19|
| 52|[[ReferencesPlugin]]| 1548|excludeTimeline,systemConfig,systemConfigDisable|2014.04.10|
| 53|[[RedirectMacro]]| 2745|systemConfig,excludeTimeline,systemConfigDisable|2014.05.17|
| 54|[[RecentChangesPlugin]]| 5436|systemConfig,excludeTimeline|2014.02.24|
| 55|[[RearrangeTiddlersPlugin]]| 6497|systemConfig,excludeTimeline|2014.04.12|
| 56|[[QuickOpenTagPlugin]]| 4339|systemConfig,excludeTimeline|2013.05.22|
| 57|[[QuickEditToolbar]]| 1741|QuickEdit,excludeTimeline|2014.05.16|
| 58|[[QuickEditPlugin]]| 5943|systemConfig,excludeTimeline,systemConfigDisable|2014.05.16|
| 59|[[QuickEdit_replace]]| 4339|QuickEditPackage,excludeTimeline|2014.05.16|
| 60|[[PreviewPlugin]]| 12111|excludeTimeline,systemConfig|2014.04.12|
| 61|[[physicsF]]| 573|Folder,excludeTimeline|2014.04.10|
| 62|[[pgreF]]| 391|Folder,excludeTimeline|2014.04.10|
| 63|[[Perfect Scrollbar Example]]| 541|example,excludeTimeline|2014.05.18|
| 64|[[Palette Viewer]]| 6304|excludeTimeline,Reference|2014.05.06|
| 65|[[PageTemplate]]| 1141|excludeTimeline,systemTemplate|2014.05.17|
| 66|[[Notebook Configuration]]| 5934|Reference,excludeTimeline|2014.04.14|
| 67|[[NestedSlidersPluginInfo]]| 14666|pluginInfo,excludeTimeline|2014.05.15|
| 68|[[NestedSlidersPlugin (1)]]| 18282|systemConfig,excludeTimeline,systemConfigDisable|2014.05.15|
| 69|[[NestedSlidersPlugin]]| 14663|systemConfig,excludeTimeline|2013.05.22|
| 70|[[n-Vector Model]]| 1290|KeepRevisions,Critical Phenomena|2014.04.14|
| 71|[[More graph3d.js Plots]]| 264|example,excludeTimeline|2014.05.19|
| 72|[[MeyerReset.css]]| 1092|css,excludeTimeline|2014.05.18|
| 73|[[MathPad]]| 3509|mathJs,Reference,excludeTimeline|2014.05.16|
| 74|[[MathNotepadJs]]| 71315|excludeTimeline,systemConfig,systemConfigDisable|2014.05.14|
| 75|[[mathematicsF]]| 363|Folder,excludeTimeline|2014.04.10|
| 76|[[Math Notepad]]| 10860|mathJs,excludeTimeline|2014.05.14|
| 77|[[MatchTagsPluginInfo]]| 10009|excludeTimeline|2014.04.10|
| 78|[[MatchTagsPlugin]]| 10474|excludeTimeline,systemConfig|2014.04.10|
| 79|[[MarkupPreHead (1)]]| 1204|excludeTimeline|2014.05.15|
| 80|[[MarkupPreHead]]| 182|excludeTimeline|2014.04.26|
| 81|[[MarkupPreBody (1)]]| 846|excludeTimeline|2014.05.15|
| 82|[[MarkupPostBody (1)]]| 611|excludeTimeline|2014.05.18|
| 83|[[MarkupPostBody]]| 288|excludeTimeline|2014.05.14|
| 84|[[MainMenu]]| 1304|excludeTimeline,excludeLists|2014.05.09|
| 85|[[jQueryListnavPlugin]]| 8161|systemConfig,excludeTimeline,systemConfigDisable|2014.05.14|
| 86|[[jquery.ui.resizable.min.js]]| 17410|js,excludeTimeline|2014.05.15|
| 87|[[jquery.ui.draggable.min.js]]| 18560|js,excludeTimeline|2014.05.15|
| 88|[[jquery.ui.dialog.min.js]]| 11263|js,excludeTimeline|2014.05.15|
| 89|[[jquery.ui.core.min.js]]| 19704|js,excludeTimeline|2014.05.15|
| 90|[[jquery.mousewheel.js]]| 7349|systemConfig,js,excludeTimeline|2014.05.18|
| 91|[[jquery-v1.8.3.js]]| 93601|systemConfig,systemConfigDisable,excludeTimeline,js,jquery|2014.05.17|
| 92|[[jQuery-v1.11.1.js]]| 95797|excludeTimeline,js|2014.05.15|
| 93|[[jquery-v1.10.2]]| 93158|systemConfig,systemConfigDisable,excludeTimeline,jquery,js|2014.05.16|
| 94|[[jquery-ui.css]]| 27291|excludeTimeline,css|2014.05.15|
| 95|[[jQuery testing]]| 4502|excludeTimeline,jQuery,Reference|2014.05.14|
| 96|[[javascript.js]]| 7011|cmtw,excludeTimeline,systemConfig,excludeLists|2014.04.11|
| 97|[[Javascript Sandbox]]| 747|Reference,excludeTimeline|2014.04.13|
| 98|[[iScroll-v4.2.5.js]]| 33959|systemConfig,js,systemConfigDisable,excludeTimeline|2014.05.18|
| 99|[[IntelliTaggerPlugin]]| 17368|systemConfig,systemConfigDisable,excludeTimeline|2014.04.13|
| 100|[[InlineJavascriptPlugin]]| 4297|systemConfig,excludeTimeline|2014.04.10|
| 101|[[ImageSizePlugin]]| 6875|excludeTimeline,systemConfig|2014.04.09|
| 102|[[htmlmixed.js]]| 1714|cmtw,excludeTimeline,systemConfig,excludeLists|2014.04.11|
| 103|[[HTMLFormattingPlugin]]| 3409|systemConfig,excludeTimeline|2014.04.12|
| 104|[[HighchartsJS.js]]| 152253|excludeTimeline,js,systemConfig|2014.05.19|
| 105|[[HighCharts5]]| 11245|example,excludeTimeline|2014.05.19|
| 106|[[HighCharts4 (1)]]| 8988|example,excludeTimeline|2014.05.19|
| 107|[[HighCharts4]]| 9259|example,excludeTimeline|2014.05.19|
| 108|[[HighCharts3]]| 976|HighCharts,example,excludeTimeline|2014.05.19|
| 109|[[HighCharts2]]| 3081|example,excludeTimeline|2014.05.19|
| 110|[[HighCharts1]]| 1771|example,excludeTimeline|2014.05.19|
| 111|[[HideTiddlerTags]]| 877|transclusion,excludeTimeline|2014.04.12|
| 112|[[HideTiddlerSubtitle]]| 836|transclusion,excludeTimeline|2014.04.12|
| 113|[[formatters]]| 16172|systemConfig,systemConfigDisable,excludeTimeline|2014.05.15|
| 114|[[ForEachTiddlerPlugin]]| 30342|systemConfig,excludeTimeline|2014.05.08|
| 115|[[FootnotesPlugin]]| 3499|systemConfig,excludeTimeline|2014.05.15|
| 116|[[FontSizePlugin]]| 4160|systemConfig,excludeTimeline,systemConfigDisable|2014.04.10|
| 117|[[FoldHeadingsPlugin]]| 6912|systemConfig,excludeTimeline,systemConfigDisable|2014.05.16|
| 118|[[flaticon.css]]| 8585|excludeTimeline,css|2014.05.15|
| 119|[[exporting.js]]| 7323|excludeTimeline,js,systemConfig,HighCharts|2014.05.19|
| 120|[[EncryptedVaultPlugin]]| 20948|excludeTimeline,systemConfig,systemConfigDisable|2014.04.09|
| 121|[[Embedded Webpage]]| 126|example,excludeTimeline|2014.04.14|
| 122|[[EditTemplate]]| 1363|excludeTimeline,systemTemplate|2014.05.17|
| 123|[[dropzone.js]]| 61937|systemConfig,js,systemConfigDisable,excludeTimeline|2014.05.18|
| 124|[[DropDownMenuPlugin]]| 5707|systemConfig,excludeTimeline|2013.05.27|
| 125|[[DiffFormatterPlugin]]| 2625|ambit,excludeTimeline|2014.05.16|
| 126|[[DC3.LightBox]]| 13117|systemConfig,excludeTimeline|2014.04.10|
| 127|[[d3: xkcd]]| 11348|d3,excludeTimeline|2014.05.14|
| 128|[[d3: stacked]]| 4582|d3,excludeTimeline|2014.05.13|
| 129|[[d3: linePlot]]| 1797|d3,excludeTimeline|2014.05.12|
| 130|[[d3: Liebniz Curve]]| 1802|d3,excludeTimeline|2014.05.13|
| 131|[[d3: Background Color]]| 89|d3,excludeTimeline|2014.05.12|
| 132|[[D3.jsPlugin]]| 149096|excludeTimeline,systemConfig|2014.05.12|
| 133|[[CSSBrowserSelectorPlugin]]| 2002|systemConfig,excludeTimeline|2014.05.14|
| 134|[[css.js]]| 14225|cmtw,excludeTimeline,systemConfig,excludeLists|2014.04.11|
| 135|[[CoreTweaks]]| 27181|systemConfig,excludeTimeline,systemConfigDisable|2014.05.14|
| 136|[[Configuration]]| 419|Reference,excludeTimeline|2014.05.16|
| 137|[[commandLine.js]]| 14765|excludeTimeline,js|2014.05.15|
| 138|[[CodeMirrorPluginInfo]]| 6413|excludeTimeline,cmtw,excludeLists|2014.04.11|
| 139|[[codemirror.js]]| 58950|cmtw,excludeTimeline,systemConfig,excludeLists|2014.04.11|
| 140|[[codemirror.css]]| 4676|cmtw,excludeTimeline,excludeLists,css|2014.04.11|
| 141|[[c3.jsPlugin]]| 73911|excludeTimeline,systemConfig|2014.05.12|
| 142|[[BreadcrumbsPluginInfo]]| 11814|plugininfo,excludeTimeline|2014.05.16|
| 143|[[BreadcrumbsPlugin]]| 9129|systemConfig,excludeTimeline|2014.05.16|
| 144|[[BibTexPlugin]]| 17116|systemConfig,excludeTimeline|2014.05.14|
| 145|[[BackstageSidebarPlugin]]| 1506|systemConfig,excludeTimeline|2014.05.05|
| 146|[[AttachFilePlugin]]| 19987|systemConfig,excludeTimeline,systemConfigDisable|2014.04.14|
| 147|[[AccordionMenuPlugin]]| 3684|systemConfig,excludeTimeline|2013.05.23|
| 148|[[@font-face.css]]| 3674|css,excludeTimeline|2014.05.18|
| 149|[[StyleSheetAccordionMenuPlugin]]| 1085||2017.04.02|
| 150|[[StyleSheetDropDownMenuPlugin]]| 2467||2017.04.02|
|sortable3|k
</pre>
</div>
<div title="SearchOptions" modifier="Christopher Wilson" created="201404121051" modified="201404121204" tags="excludeTimeline" content-type="">
<pre>&lt;html&gt;&lt;div style=&quot;margin-right:10px;&quot;&gt;search in:
  {{nowrap{&lt;&lt;option chkSearchTitles&gt;&gt;titles &lt;&lt;option chkSearchText&gt;&gt;text &lt;&lt;option chkSearchTags&gt;&gt;tags}}} /%
%/{{nowrap{&lt;&lt;option chkSearchFields&gt;&gt;fields &lt;&lt;option chkSearchShadows&gt;&gt;shadows}}}
----
  {{nowrap{&lt;&lt;option chkCaseSensitiveSearch&gt;&gt;case-sensitive}}} /%
%/{{nowrap{&lt;&lt;option chkRegExpSearch&gt;&gt;match text patterns}}}
  {{nowrap{&lt;&lt;option chkIncrementalSearch&gt;&gt;key-by-key search:}}} /%
	%/{{threechar smallform nowrap{&lt;&lt;option txtIncrementalSearchMin&gt;&gt; or more characters}}} /%
	%/{{threechar smallform nowrap{&lt;&lt;option txtIncrementalSearchDelay&gt;&gt; msec delay}}}&lt;hr&gt;
  {{nowrap{&lt;&lt;option chkSearchList&gt;&gt;show results in a list &amp;nbsp; &amp;nbsp;}}} /%
%/{{nowrap{&lt;&lt;option chkSearchListTiddler&gt;&gt;save list in ''[[SearchResults]]''}}}
  {{nowrap{&lt;&lt;option chkSearchTitlesFirst&gt;&gt;show title matches first}}} /%
%/{{nowrap{&lt;&lt;option chkSearchByDate&gt;&gt;sort results by date}}} /%
%/{{nowrap{&lt;&lt;option chkSearchHighlight&gt;&gt;highlight matching text}}}
----
{{nowrap{&lt;&lt;option chkSearchOpenTiddlers&gt;&gt;search open tiddlers only}}}
{{nowrap{&lt;&lt;option chkSearchExcludeTags&gt;&gt;exclude tiddlers tagged with:}}}
{{editor{&lt;&lt;option txtSearchExcludeTags&gt;&gt;}}}
&lt;/div&gt;&lt;/html&gt;</pre>
</div>
<div title="SearchOptionsPlugin" modifier="Christopher Wilson" created="201305230144" modified="201405080606" tags="excludeTimeline systemConfig" changecount="3" content-type="text/x-tiddlywiki">
<pre>/***
|Name|SearchOptionsPlugin|
|Source|http://www.TiddlyTools.com/#SearchOptionsPlugin|
|Documentation|http://www.TiddlyTools.com/#SearchOptionsPluginInfo|
|Version|3.0.10|
|Author|Eric Shulman|
|License|http://www.TiddlyTools.com/#LegalStatements|
|~CoreVersion|2.1|
|Type|plugin|
|Description|extend core search function with additional user-configurable options|
Adds extra options to core search function including selecting which data items to search, enabling/disabling incremental key-by-key searches, and generating a ''list of matching tiddlers'' instead of immediately displaying all matches.  This plugin also adds syntax for rendering 'search links' within tiddler content to embed one-click searches using pre-defined 'hard-coded' search terms.
!!!!!Documentation
&gt;see [[SearchOptionsPluginInfo]]
!!!!!Configuration
&lt;&lt;&lt;
&lt;&lt;tiddler SearchOptions&gt;&gt;
&lt;&lt;option chkSearchResultsOptions&gt;&gt; Include {{{options...}}} slider in &quot;search again&quot; form
&lt;&lt;&lt;
!!!!!Revisions
&lt;&lt;&lt;
2011.04.08 3.0.10 fixed typo in CSS in formatSearchResults_buttons().  Restore missing options in Configuration section.
|please see [[SearchOptionsPluginInfo]] for additional revision details|
2005.10.18 1.0.0 Initial Release
&lt;&lt;&lt;
!!!!!Code
***/
//{{{
version.extensions.SearchOptionsPlugin= {major: 3, minor: 0, revision: 10, date: new Date(2011,3,18)};
//}}}
//{{{
var defaults={
	chkSearchTitles:	true,
	chkSearchText:		true,
	chkSearchTags:		true,
	chkSearchFields:	true,
	chkSearchTitlesFirst:	true,
	chkSearchList:		true,
	chkSearchHighlight:	true,
	chkSearchListTiddler:	false,
	chkSearchByDate:	false,
	chkIncrementalSearch:	true,
	chkSearchShadows:	true,
	chkSearchOpenTiddlers:	false,
	chkSearchResultsOptions:true,
	chkSearchExcludeTags:	true,
	txtSearchExcludeTags:	'excludeSearch',
	txtIncrementalSearchDelay:	500,
	txtIncrementalSearchMin:	3
}; for (var id in defaults) if (config.options[id]===undefined)
	config.options[id]=defaults[id];
if (config.macros.search.reportTitle==undefined)
	config.macros.search.reportTitle=&quot;SearchResults&quot;; // note: not a cookie!
config.macros.search.label+=&quot;\xa0&quot;; // a little bit of space just because it looks better
//}}}
// // searchLink: {{{[search[text to find]] OR [search[text to display|text to find]]}}}
//{{{
config.formatters.push( {
	name: &quot;searchLink&quot;,
	match: &quot;\\[search\\[&quot;,
	lookaheadRegExp: /\[search\[(.*?)(?:\|(.*?))?\]\]/mg,
	prompt: &quot;search for: '%0'&quot;,
	handler: function(w)
	{
		this.lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		if(lookaheadMatch &amp;&amp; lookaheadMatch.index == w.matchStart) {
			var label=lookaheadMatch[1];
			var text=lookaheadMatch[2]||label;
			var prompt=this.prompt.format([text]);
			var btn=createTiddlyButton(w.output,label,prompt,
				function(){story.search(this.getAttribute(&quot;searchText&quot;))},&quot;searchLink&quot;);
			btn.setAttribute(&quot;searchText&quot;,text);
			w.nextMatch = this.lookaheadRegExp.lastIndex;
		}
	}
});
//}}}
// // incremental search uses option settings instead of hard-coded delay and minimum input values
//{{{
var fn=config.macros.search.onKeyPress;
fn=fn.toString().replace(/500/g, &quot;config.options.txtIncrementalSearchDelay||500&quot;);
fn=fn.toString().replace(/&gt; 2/g, &quot;&gt;=(config.options.txtIncrementalSearchMin||3)&quot;);
eval(&quot;config.macros.search.onKeyPress=&quot;+fn);
//}}}
// // REPLACE story.search() for option to &quot;show search results in a list&quot;
//{{{
Story.prototype.search = function(text,useCaseSensitive,useRegExp)
{
	var co=config.options; // abbrev
	var re=new RegExp(useRegExp ? text : text.escapeRegExp(),useCaseSensitive ? &quot;mg&quot; : &quot;img&quot;);
	if (config.options.chkSearchHighlight) highlightHack=re;
	var matches = store.search(re,co.chkSearchByDate?&quot;modified&quot;:&quot;title&quot;,&quot;&quot;);
	if (co.chkSearchByDate) matches=matches.reverse(); // most recent first
	var q = useRegExp ? &quot;/&quot; : &quot;'&quot;;
	clearMessage();
	if (!matches.length) {
		if (co.chkSearchListTiddler) discardSearchResults();
		displayMessage(config.macros.search.failureMsg.format([q+text+q]));
	} else {
		if (co.chkSearchList||co.chkSearchListTiddler) 
			reportSearchResults(text,matches);
		else {
			var titles = []; for(var t=0; t&lt;matches.length; t++) titles.push(matches[t].title);
			this.closeAllTiddlers(); story.displayTiddlers(null,titles);
			displayMessage(config.macros.search.successMsg.format([matches.length, q+text+q]));
		}
	}
	highlightHack = null;
}
//}}}
// // REPLACE store.search() for enhanced searching/sorting options
//{{{
TiddlyWiki.prototype.search = function(searchRegExp,sortField,excludeTag,match)
{
	var co=config.options; // abbrev
	var tids = this.reverseLookup(&quot;tags&quot;,excludeTag,!!match,sortField);
	var opened=[]; story.forEachTiddler(function(tid,elem){opened.push(tid);});

	// eliminate tiddlers tagged with excluded tags
	if (co.chkSearchExcludeTags&amp;&amp;co.txtSearchExcludeTags.length) {
		var ex=co.txtSearchExcludeTags.readBracketedList();
		var temp=[]; for(var t=tids.length-1; t&gt;=0; t--)
			if (!tids[t].tags.containsAny(ex)) temp.push(tids[t]);
		tids=temp;
	}

	// scan for matching titles first...
	var results = [];
	if (co.chkSearchTitles) {
		for(var t=0; t&lt;tids.length; t++) {
			if (co.chkSearchOpenTiddlers &amp;&amp; !opened.contains(tids[t].title)) continue; 
			if(tids[t].title.search(searchRegExp)!=-1) results.push(tids[t]);
		}
		if (co.chkSearchShadows)
			for (var t in config.shadowTiddlers) {
				if (co.chkSearchOpenTiddlers &amp;&amp; !opened.contains(t)) continue; 
				if ((t.search(searchRegExp)!=-1) &amp;&amp; !store.tiddlerExists(t))
					results.push((new Tiddler()).assign(t,config.shadowTiddlers[t]));
			}
	}
	// then scan for matching text, tags, or field data
	for(var t=0; t&lt;tids.length; t++) {
		if (co.chkSearchOpenTiddlers &amp;&amp; !opened.contains(tids[t].title)) continue; 
		if (co.chkSearchText &amp;&amp; tids[t].text.search(searchRegExp)!=-1)
			results.pushUnique(tids[t]);
		if (co.chkSearchTags &amp;&amp; tids[t].tags.join(&quot; &quot;).search(searchRegExp)!=-1)
			results.pushUnique(tids[t]);
		if (co.chkSearchFields &amp;&amp; store.forEachField!=undefined)
			store.forEachField(tids[t],
				function(tid,field,val) {
					if (val.search(searchRegExp)!=-1) results.pushUnique(tids[t]);
				},
				true); // extended fields only
	}
	// then check for matching text in shadows
	if (co.chkSearchShadows)
		for (var t in config.shadowTiddlers) {
			if (co.chkSearchOpenTiddlers &amp;&amp; !opened.contains(t)) continue; 
			if ((config.shadowTiddlers[t].search(searchRegExp)!=-1) &amp;&amp; !store.tiddlerExists(t))
				results.pushUnique((new Tiddler()).assign(t,config.shadowTiddlers[t]));
		}

	// if not 'titles first', or sorting by modification date,
	// re-sort results to so titles, text, tag and field matches are mixed together
	if(!sortField) sortField = &quot;title&quot;;
	var bySortField=function(a,b){
		if(a[sortField]==b[sortField])return(0);else return(a[sortField]&lt;b[sortField])?-1:+1;
	}
	if (!co.chkSearchTitlesFirst || co.chkSearchByDate) results.sort(bySortField);

	return results;
}
//}}}
// // HIJACK core {{{&lt;&lt;search&gt;&gt;}}} macro to add &quot;report&quot; and &quot;simple inline&quot; output
//{{{
config.macros.search.SOP_handler=config.macros.search.handler;
config.macros.search.handler = function(place,macroName,params)
{
	// if &quot;report&quot;, use SearchOptionsPlugin report generator for inline output
	if (params[1]&amp;&amp;params[1].substr(0,6)==&quot;report&quot;) {
		var keyword=params[0];
		var options=params[1].split(&quot;=&quot;)[1]; // split &quot;report=option+option+...&quot;
		var heading=params[2]?params[2].unescapeLineBreaks():&quot;&quot;;
		var matches=store.search(new RegExp(keyword.escapeRegExp(),&quot;img&quot;),&quot;title&quot;,&quot;excludeSearch&quot;);
		if (matches.length) wikify(heading+window.formatSearchResults(keyword,matches,options),place);
	} else if (params[1]) {
		var keyword=params[0];
		var heading=params[1]?params[1].unescapeLineBreaks():&quot;&quot;;
		var seperator=params[2]?params[2].unescapeLineBreaks():&quot;, &quot;;
		var matches=store.search(new RegExp(keyword.escapeRegExp(),&quot;img&quot;),&quot;title&quot;,&quot;excludeSearch&quot;);
		if (matches.length) {
			var out=[];
			for (var m=0; m&lt;matches.length; m++) out.push(&quot;[[&quot;+matches[m].title+&quot;]]&quot;);
			wikify(heading+out.join(seperator),place);
		}
	} else
		config.macros.search.SOP_handler.apply(this,arguments);
};
//}}}
// // SearchResults panel handling
//{{{
setStylesheet(&quot;.searchResults { padding:1em 1em 0 1em; }&quot;,&quot;searchResults&quot;); // matches std tiddler padding

config.macros.search.createPanel=function(text,matches,body) {

	function getByClass(e,c) { var d=e.getElementsByTagName(&quot;div&quot;);
		for (var i=0;i&lt;d.length;i++) if (hasClass(d[i],c)) return d[i]; }
	var panel=createTiddlyElement(null,&quot;div&quot;,&quot;searchPanel&quot;,&quot;searchPanel&quot;);
	this.renderPanel(panel,text,matches,body);
	var oldpanel=document.getElementById(&quot;searchPanel&quot;);
	if (!oldpanel) { // insert new panel just above tiddlers
		var da=document.getElementById(&quot;displayArea&quot;);
		da.insertBefore(panel,da.firstChild);
	} else { // if panel exists
		var oldwrap=getByClass(oldpanel,&quot;searchResults&quot;);
		var newwrap=getByClass(panel,&quot;searchResults&quot;);
		// if no prior content, just insert new content
		if (!oldwrap) oldpanel.insertBefore(newwrap,null);
		else {	// swap search results content but leave containing panel intact
			oldwrap.style.display='block'; // unfold wrapper if needed
			var i=oldwrap.getElementsByTagName(&quot;input&quot;)[0]; // get input field
			if (i) { var pos=this.getCursorPos(i); i.onblur=null; } // get cursor pos, ignore blur
			oldpanel.replaceChild(newwrap,oldwrap);
			panel=oldpanel; // use existing panel
		} 
	}
	this.showPanel(true,pos);
	return panel;
}

config.macros.search.renderPanel=function(panel,text,matches,body) {

	var wrap=createTiddlyElement(panel,&quot;div&quot;,null,&quot;searchResults&quot;);
	wrap.onmouseover = function(e){ addClass(this,&quot;selected&quot;); }
	wrap.onmouseout = function(e){ removeClass(this,&quot;selected&quot;); }
	// create toolbar: &quot;open all&quot;, &quot;fold/unfold&quot;, &quot;close&quot;
	var tb=createTiddlyElement(wrap,&quot;div&quot;,null,&quot;toolbar&quot;);
	var b=createTiddlyButton(tb, &quot;openAll&quot;, &quot;open all matching tiddlers&quot;, function() {
		story.displayTiddlers(null,this.getAttribute(&quot;list&quot;).readBracketedList()); return false; },&quot;button&quot;);
	var list=&quot;&quot;; for(var t=0;t&lt;matches.length;t++) list+='[['+matches[t].title+']] ';
	b.setAttribute(&quot;list&quot;,list);
	var b=createTiddlyButton(tb, &quot; fold&quot;, &quot;toggle display of search results&quot;, function() {
		config.macros.search.foldPanel(this); return false; },&quot;button&quot;);
	var b=createTiddlyButton(tb, &quot; close&quot;, &quot;dismiss search results&quot;,	function() {
		config.macros.search.showPanel(false); return false; },&quot;button&quot;);
	createTiddlyText(createTiddlyElement(wrap,&quot;div&quot;,null,&quot;title&quot;),&quot;Search for: &quot;+text); // title
	wikify(body,createTiddlyElement(wrap,&quot;div&quot;,null,&quot;viewer&quot;)); // report
	return panel;
}

config.macros.search.showPanel=function(show,pos) {
	var panel=document.getElementById(&quot;searchPanel&quot;);
	var i=panel.getElementsByTagName(&quot;input&quot;)[0];
	i.onfocus=show?function(){config.macros.search.stayFocused(true);}:null;
	i.onblur=show?function(){config.macros.search.stayFocused(false);}:null;
	if (show &amp;&amp; panel.style.display==&quot;block&quot;) { // if shown, grab focus, restore cursor
		if (i&amp;&amp;this.stayFocused()) { i.focus(); this.setCursorPos(i,pos); }
		return;
	}
	if(!config.options.chkAnimate) {
		panel.style.display=show?&quot;block&quot;:&quot;none&quot;;
		if (!show) { removeChildren(panel); config.macros.search.stayFocused(false); }
	} else {
		var s=new Slider(panel,show,false,show?&quot;none&quot;:&quot;children&quot;);
		s.callback=function(e,p){e.style.overflow=&quot;visible&quot;;}
		anim.startAnimating(s);
	}
	return panel;
}

config.macros.search.foldPanel=function(button) {
	var d=document.getElementById(&quot;searchPanel&quot;).getElementsByTagName(&quot;div&quot;);
	for (var i=0;i&lt;d.length;i++) if (hasClass(d[i],&quot;viewer&quot;)) var v=d[i]; if (!v) return;
	var show=v.style.display==&quot;none&quot;;
	if(!config.options.chkAnimate)
		v.style.display=show?&quot;block&quot;:&quot;none&quot;;
	else {
		var s=new Slider(v,show,false,&quot;none&quot;);
		s.callback=function(e,p){e.style.overflow=&quot;visible&quot;;}
		anim.startAnimating(s);
	}
	button.innerHTML=show?&quot;fold&quot;:&quot;unfold&quot;;
	return false;
}

config.macros.search.stayFocused=function(keep) { // TRUE/FALSE=set value, no args=get value
	if (keep===undefined) return this.keepReportInFocus;
	this.keepReportInFocus=keep;
	return keep
}	

config.macros.search.getCursorPos=function(i) {
	var s=0; var e=0; if (!i) return { start:s, end:e };
	try {
		if (i.setSelectionRange) // FF
			{ s=i.selectionStart; e=i.selectionEnd; }
		if (document.selection &amp;&amp; document.selection.createRange) { // IE
			var r=document.selection.createRange().duplicate();
			var len=r.text.length; s=0-r.moveStart('character',-100000); e=s+len;
		}
	}catch(e){};
	return { start:s, end:e };
}
config.macros.search.setCursorPos=function(i,pos) {
	if (!i||!pos) return; var s=pos.start; var e=pos.end;
	if (i.setSelectionRange) //FF
		i.setSelectionRange(s,e);
	if (i.createTextRange) // IE
		{ var r=i.createTextRange(); r.collapse(true); r.moveStart(&quot;character&quot;,s); r.select(); }
}
//}}}
// // SearchResults report generation
// note: these functions are defined globally, so they can be more easily redefined to customize report formats//
//{{{
if (!window.reportSearchResults) window.reportSearchResults=function(text,matches)
{
	var cms=config.macros.search; // abbrev
	var body=window.formatSearchResults(text,matches);
	if (!config.options.chkSearchListTiddler) // show #searchResults panel
		window.scrollTo(0,ensureVisible(cms.createPanel(text,matches,body)));
	else { // write [[SearchResults]] tiddler
		var title=cms.reportTitle;
		var who=config.options.txtUserName;
		var when=new Date();
		var tags=&quot;excludeLists excludeSearch temporary&quot;;
		var tid=store.getTiddler(title); if (!tid) tid=new Tiddler();
		tid.set(title,body,who,when,tags);
		store.addTiddler(tid);
		story.closeTiddler(title);
		story.displayTiddler(null,title);
	}
}

if (!window.formatSearchResults) window.formatSearchResults=function(text,matches,opt)
{
	var body='';
	var title=config.macros.search.reportTitle
	var q = config.options.chkRegExpSearch ? &quot;/&quot; : &quot;'&quot;;
	if (!opt) var opt=&quot;all&quot;;
	var parts=opt.split(&quot;+&quot;);
	for (var i=0; i&lt;parts.length; i++) { var p=parts[i].toLowerCase();
		if (p==&quot;again&quot;||p==&quot;all&quot;)   body+=window.formatSearchResults_again(text,matches);
		if (p==&quot;summary&quot;||p==&quot;all&quot;) body+=window.formatSearchResults_summary(text,matches);
		if (p==&quot;list&quot;||p==&quot;all&quot;)    body+=window.formatSearchResults_list(text,matches);
		if (p==&quot;buttons&quot;||p==&quot;all&quot;) body+=window.formatSearchResults_buttons(text,matches);
	}
	return body;
}

if (!window.formatSearchResults_again) window.formatSearchResults_again=function(text,matches)
{
	var title=config.macros.search.reportTitle
	var body='';
	// search again
	body+='{{span{&lt;&lt;search &quot;'+text.replace(/&quot;/g,'&amp;#x22;')+'&quot;&gt;&gt; /%\n';
	body+='%/&lt;html&gt;&lt;input type=&quot;button&quot; value=&quot;search again&quot;';
	body+=' onclick=&quot;var t=this.parentNode.parentNode.getElementsByTagName(\'input\')[0];';
	body+=' config.macros.search.doSearch(t); return false;&quot;&gt;';
	if (!config.options.chkSearchResultsOptions) // omit &quot;options...&quot;
		body+='&lt;/html&gt;';
	else {
		body+=' &lt;a href=&quot;javascript:;&quot; onclick=&quot;';
		body+=' var e=this.parentNode.nextSibling;';
		body+=' var show=e.style.display!=\'block\';';
		body+=' if(!config.options.chkAnimate) e.style.display=show?\'block\':\'none\';';
		body+=' else anim.startAnimating(new Slider(e,show,false,\'none\'));';
		body+=' return false;&quot;&gt;options...&lt;/a&gt;';
		body+='&lt;/html&gt;@@display:none;border-left:1px dotted;margin-left:1em;padding:0;padding-left:.5em;font-size:90%;/%\n';
		body+='	%/&lt;&lt;tiddler SearchOptions&gt;&gt;@@';
	};
	body+='}}}\n\n';
	return body;
}

if (!window.formatSearchResults_summary) window.formatSearchResults_summary=function(text,matches)
{
	// summary: nn tiddlers found matching '...', options used
	var body='';
	var co=config.options; // abbrev
	var title=config.macros.search.reportTitle
	var q = co.chkRegExpSearch ? &quot;/&quot; : &quot;'&quot;;
	body+=&quot;''&quot;+config.macros.search.successMsg.format([matches.length,q+&quot;{{{&quot;+text+&quot;}}}&quot;+q])+&quot;''\n&quot;;
	var opts=[];
	if (co.chkSearchTitles) opts.push(&quot;titles&quot;);
	if (co.chkSearchText) opts.push(&quot;text&quot;);
	if (co.chkSearchTags) opts.push(&quot;tags&quot;);
	if (co.chkSearchFields) opts.push(&quot;fields&quot;);
	if (co.chkSearchShadows) opts.push(&quot;shadows&quot;);
	if (co.chkSearchOpenTiddlers) body+=&quot;^^//search limited to displayed tiddlers only//^^\n&quot;;
	body+=&quot;~~&amp;nbsp; searched in &quot;+opts.join(&quot; + &quot;)+&quot;~~\n&quot;;
	body+=(co.chkCaseSensitiveSearch||co.chkRegExpSearch?&quot;^^&amp;nbsp; using &quot;:&quot;&quot;)
		+(co.chkCaseSensitiveSearch?&quot;case-sensitive &quot;:&quot;&quot;)
		+(co.chkRegExpSearch?&quot;pattern &quot;:&quot;&quot;)
		+(co.chkCaseSensitiveSearch||co.chkRegExpSearch?&quot;matching^^\n&quot;:&quot;&quot;);
	return body;
}

if (!window.formatSearchResults_list) window.formatSearchResults_list=function(text,matches)
{
	// bullet list of links to matching tiddlers
	var body='';
	var co=config.options; // abbrev
	var pattern=co.chkRegExpSearch?text:text.escapeRegExp();
	var sensitive=co.chkCaseSensitiveSearch?&quot;mg&quot;:&quot;img&quot;;
	var link='{{tiddlyLinkExisting{&lt;html&gt;&lt;nowiki&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;'
		+'if(config.options.chkSearchHighlight)'
		+'	highlightHack=new RegExp(\x27'+pattern+'\x27.escapeRegExp(),\x27'+sensitive+'\x27);'
		+'story.displayTiddler(null,\x27%0\x27);'
		+'highlightHack = null; return false;'
		+'&quot; title=&quot;%2&quot;&gt;%1&lt;/a&gt;&lt;/html&gt;}}}';
	for(var t=0;t&lt;matches.length;t++) {
		body+=&quot;* &quot;;
		if (co.chkSearchByDate)
			body+=matches[t].modified.formatString('YYYY.0MM.0DD 0hh:0mm')+&quot; &quot;;
		var title=matches[t].title;
		var fixup=title.replace(/'/g,&quot;\\x27&quot;).replace(/&quot;/g,&quot;\\x22&quot;);
		var tid=store.getTiddler(title);
		var tip=tid?tid.getSubtitle():''; tip=tip.replace(/&quot;/g,&quot;&amp;quot;&quot;);
		body+=link.format([fixup,title,tip])+'\n';
	}
	return body;
}

if (!window.formatSearchResults_buttons) window.formatSearchResults_buttons=function(text,matches)
{
	// embed buttons only if writing SearchResults to tiddler
	if (!config.options.chkSearchListTiddler) return &quot;&quot;;
	// &quot;open all&quot; button
	var title=config.macros.search.reportTitle;
	var body=&quot;&quot;;
	body+=&quot;@@display:block;&lt;html&gt;&lt;input type=\&quot;button\&quot; href=\&quot;javascript:;\&quot; &quot;
		+&quot;onclick=\&quot;story.displayTiddlers(null,[&quot;;
	for(var t=0;t&lt;matches.length;t++)
		body+=&quot;'&quot;+matches[t].title.replace(/\'/mg,&quot;\\'&quot;)+&quot;'&quot;+((t&lt;matches.length-1)?&quot;, &quot;:&quot;&quot;);
	body+=&quot;],1);\&quot; accesskey=\&quot;O\&quot; value=\&quot;open all matching tiddlers\&quot;&gt;&lt;/html&gt; &quot;;
	// &quot;discard SearchResults&quot; button
	body+=&quot;&lt;html&gt;&lt;input type=\&quot;button\&quot; href=\&quot;javascript:;\&quot; &quot;
		+&quot;onclick=\&quot;discardSearchResults()\&quot; value=\&quot;discard &quot;+title+&quot;\&quot;&gt;&lt;/html&gt;&quot;;
	body+=&quot;@@\n&quot;;
	return body;
}

if (!window.discardSearchResults) window.discardSearchResults=function()
{
	// remove the tiddler
	story.closeTiddler(config.macros.search.reportTitle);
	store.deleteTiddler(config.macros.search.reportTitle);
	store.notify(config.macros.search.reportTitle,true);
}
//}}}
// // DELIVER [[SearchOptions]] shadow payload
//{{{
config.shadowTiddlers.SearchOptions = store.getTiddlerText('SearchOptionsPlugin##panel','');
config.annotations.SearchOptions    = 'created by SearchOptionsPlugin';
//}}}
/***
//{{{
!panel
search in:
  {{nowrap{&lt;&lt;option chkSearchTitles&gt;&gt;titles &lt;&lt;option chkSearchText&gt;&gt;text &lt;&lt;option chkSearchTags&gt;&gt;tags}}} /%
%/{{nowrap{&lt;&lt;option chkSearchFields&gt;&gt;fields &lt;&lt;option chkSearchShadows&gt;&gt;shadows}}}
----
  {{nowrap{&lt;&lt;option chkCaseSensitiveSearch&gt;&gt;case-sensitive}}} /%
%/{{nowrap{&lt;&lt;option chkRegExpSearch&gt;&gt;match text patterns}}}
  {{nowrap{&lt;&lt;option chkIncrementalSearch&gt;&gt;key-by-key search:}}} /%
	%/{{threechar smallform nowrap{&lt;&lt;option txtIncrementalSearchMin&gt;&gt; or more characters}}} /%
	%/{{threechar smallform nowrap{&lt;&lt;option txtIncrementalSearchDelay&gt;&gt; msec delay}}}&lt;hr&gt;
  {{nowrap{&lt;&lt;option chkSearchList&gt;&gt;show results in a list &amp;nbsp; &amp;nbsp;}}} /%
%/{{nowrap{&lt;&lt;option chkSearchListTiddler&gt;&gt;save list in ''[[SearchResults]]''}}}
  {{nowrap{&lt;&lt;option chkSearchTitlesFirst&gt;&gt;show title matches first}}} /%
%/{{nowrap{&lt;&lt;option chkSearchByDate&gt;&gt;sort results by date}}} /%
%/{{nowrap{&lt;&lt;option chkSearchHighlight&gt;&gt;highlight matching text}}}
----
{{nowrap{&lt;&lt;option chkSearchOpenTiddlers&gt;&gt;search open tiddlers only}}}
{{nowrap{&lt;&lt;option chkSearchExcludeTags&gt;&gt;exclude tiddlers tagged with:}}}
{{editor{&lt;&lt;option txtSearchExcludeTags&gt;&gt;}}}
!end
//}}}
***/
 	</pre>
</div>
<div title="SearchOptionsPluginInfo" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405080451" tags="excludeTimeline" changecount="1" content-type="text/x-tiddlywiki">
<pre>/***
|Name|SearchOptionsPluginInfo|
|Source|http://www.TiddlyTools.com/#SearchOptionsPlugin|
|Documentation|http://www.TiddlyTools.com/#SearchOptionsPluginInfo|
|Version|3.0.10|
|Author|Eric Shulman|
|License|http://www.TiddlyTools.com/#LegalStatements|
|~CoreVersion|2.1|
|Type|documentation|
|Description|Documentation for SearchOptionsPlugin|
Extend core search function with additional user-configurable options including selecting which data items to search, enabling/disabling incremental key-by-key searches, and generating a ''list of matching tiddler'' instead of immediately displaying all matches.  This plugin also adds syntax for rendering 'search links' within tiddler content to embed one-click searches using pre-defined 'hard-coded' search terms.
!!!!!Search link Syntax
&lt;&lt;&lt;
To insert a 'search link' into tiddler content, you can write:
{{{
[search[text to find]]
}}}
or
{{{
[search[text to display|text to find]]
}}}
Clicking on the resulting search link will trigger the search functionality, just as if the specified 'text to find' had been entered into the standard search input field usually displayed in the document sidebar.
&lt;&lt;&lt;
!!!!!Inline output: search macro syntax
&lt;&lt;&lt;
Alternatively, to embed search results lists directly into your tiddler content, you can use:
{{{
&lt;&lt;search &quot;text&quot; report&gt;&gt; (report is a literal keyword)
&lt;&lt;search &quot;text&quot; &quot;heading&quot; &quot;separator&quot;&gt;&gt; (simple inline generator)
}}}
&lt;&lt;&lt;
!!!!!Inline output examples:
&lt;&lt;&lt;
*+++*[&amp;lt;&amp;lt;search &quot;wood&quot;&amp;gt;&amp;gt;]&gt;...
&lt;&lt;search &quot;wood&quot;&gt;&gt;
===

*+++*[&amp;lt;&amp;lt;search &quot;wood&quot; &quot;/%%/&quot;&amp;gt;&amp;gt;]&gt;...
&lt;&lt;search &quot;wood&quot; &quot;/%%/&quot;&gt;&gt;
===

*+++*[&amp;lt;&amp;lt;search &quot;wood&quot; &quot;See also: &quot;&amp;gt;&amp;gt;]&gt;...
&lt;&lt;search &quot;wood&quot; &quot;See also: &quot;&gt;&gt;
===

*+++*[&amp;lt;&amp;lt;search &quot;wood&quot; &quot;See also:\n*&quot; &quot;\n*&quot;&amp;gt;&amp;gt;]&gt;...
&lt;&lt;search &quot;wood&quot; &quot;See also:\n*&quot; &quot;\n*&quot;&gt;&gt;
===

*+++*[&amp;lt;&amp;lt;search &quot;wood&quot; report=list &quot;See also:&quot;&amp;gt;&amp;gt;]&gt;...
&lt;&lt;search &quot;wood&quot; report=list &quot;See Also:&quot; &gt;&gt;
===

*+++*[&amp;lt;&amp;lt;search &quot;wood&quot; report&amp;gt;&amp;gt;]&gt;...
&lt;&lt;search &quot;wood&quot; report&gt;&gt;
===

*+++*[&amp;lt;&amp;lt;search &quot;wood&quot; report=&amp;gt;&amp;gt;]&gt;...
&lt;&lt;search &quot;wood&quot; report=&gt;&gt;
===

*+++*[&amp;lt;&amp;lt;search &quot;wood&quot; report=all&amp;gt;&amp;gt;]&gt;...
&lt;&lt;search &quot;wood&quot; report=all&gt;&gt;
===

*+++*[&amp;lt;&amp;lt;search &quot;wood&quot; report=summary+buttons+again+list&amp;gt;&amp;gt;]&gt;...
&lt;&lt;search &quot;wood&quot; report=summary+buttons+again+list&gt;&gt;
===

*+++*[&amp;lt;&amp;lt;search &quot;wood&quot; report=summary+again&amp;gt;&amp;gt;]&gt;...
&lt;&lt;search &quot;wood&quot; report=summary+again&gt;&gt;
===

*+++*[&amp;lt;&amp;lt;search &quot;wood&quot; report=summary&amp;gt;&amp;gt;]&gt;...
&lt;&lt;search &quot;wood&quot; report=summary&gt;&gt;
===

&lt;&lt;&lt;
!!!!!Configuration
&lt;&lt;&lt;
&lt;&lt;tiddler SearchOptions&gt;&gt;&lt;&lt;option chkSearchResultsOptions&gt;&gt; Include {{{options...}}} slider in &quot;search again&quot; form
&gt;//Note: You can customize the search options display by editing the [[SearchOptions]] shadow tiddler.  You can also embed these options in your content by using any of the following standard TiddlyWiki macros://
{{{
&lt;&lt;tiddler SearchOptions&gt;&gt;
&lt;&lt;slider chkSearchOptions [[SearchOptions]] options &quot;show search options&quot;&gt;&gt;
&lt;&lt;tabs chkSomeCookieName ... &quot;options&quot; &quot;show search options&quot; [[SearchOptions]] ... &gt;&gt;
}}}
&lt;&lt;&lt;
!!!!!Revisions
&lt;&lt;&lt;
2011.04.08 3.0.10 fixed typo in CSS in formatSearchResults_buttons().  Restore missing options in Configuration section.
2011.03.18 3.0.9 moved configuration controls to [[SearchOptions]] shadow tiddler
2010.05.03 3.0.8 added chkSearchResultsOptions to allow/omit the &quot;options...&quot; slider from the &quot;search again&quot; form
2010.02.25 3.0.7 in formatSearchResults_list, added declaration of local 'co' variable
2009.09.22 3.0.6 in TiddlyWiki.prototype.search, added 'match' param for core compatibility
2009.01.16 3.0.5 added chkSearchOpenTiddlers option to limit searches to displayed tiddlers only
2009.01.15 3.0.4 in formatSearchResults_list(), corrected link generation to properly handle single-quotes and double-quotes in tiddler titles
2009.01.09 3.0.3 added chkSearchHighlight to optionally disable highlighting of matched text
2009.01.05 3.0.2 in formatSearchResults_list(), set/clear 'highlightHack' via HTML links so that search term will be highlighted when displaying tiddlers.
2008.10.14 3.0.1 changed panel class from &quot;tiddler&quot; to &quot;searchPanel&quot; and added style definition for &quot;searchPanel&quot;.  Fixes ticket #771 (in IE, links from search results were reporting errors due to &quot;fake&quot; tiddler class wrapper)
2008.10.02 3.0.0 added optional list of tags to use for excluding tiddler from searches (default=&quot;excludeLists&quot;).
2008.09.24 2.9.9 performance improvment to reportSearchResults(): when rendering a real SearchResults tiddler, store.notify() isn't needed since the results tiddler is always explicitly closed and redrawn each time.
2008.09.20 2.9.8 corrected createPanel() and renderPanel() so toolbar will be correctly shown/hidden on mouseover/mouseout.
2008.09.19 2.9.7 fixes to panel handling for IE, Safari, and others.  Changed panel id to #searchPanel and added .searchResults CSS class wrapper around panel content.  Fixed fold/unfold handling.
2008.09.18 2.9.6 refactored panel handling code, added 'fold/unfold' panel toolbar command, added dynamic 'title' (shows search term), added txtIncrementalSearchMin option
2008.09.17 2.9.5 added focus and cursor handling for 'search again' field in #searchResults DIV report so that an incremental key-by-key search doesn't interfere with continuous typing into the field.
2008.09.17 2.9.4 fix 'flicker' when updating #searchResults DIV by wikify()ing to an 'offscreen' DIV and then using replaceChild() instead of using removeChildren() followed by wikify()
2008.09.16 2.9.3 changed report layout, added &quot;search again&quot; and collapsible 'options' section with incremental search checkbox and &quot;txtIncrementalSearchDelay&quot; timer tweak to onKeyPress()
2008.08.25 2.9.2 added animation to search results DIV.  Also, the #searchResults DOM element is only auto-created if it does not exist ... and when closed, the DIV is simply hidden rather than removed.  This allows custom placement of search results report in the PageTemplate definition.
2008.08.23 2.9.1 story column search results uses {{{&lt;&lt;moveablePanel&gt;&gt;}}}
2008.08.22 2.9.0 default is now to show search results at top of story column, similar to FND's SimpleSearchPlugin display, with an option to generate SearchResults tiddler as before.  Also changed 'chkSearchIncremental' to 'chkIncrementalSearch' to match core option variable
2008.08.12 2.8.2 change default for chkSearchByDate back to FALSE, and adjusted &quot;list&quot; and &quot;again&quot; output formats (minor tweaks requested by PhilWhitehouse for use on TiddlyWiki.com)
2008.08.11 2.8.1 changed defaults for chkSearchTitlesFirst, chkSearchList and chkSearchShadows to TRUE to enable enhanced search results output as soon as plugin is installed.
2008.06.21 2.8.0 added extended syntax for {{{&lt;&lt;search &quot;text&quot; report heading&gt;&gt; and &lt;&lt;search &quot;text&quot; &quot;heading&quot; &quot;seperator&quot;&gt;&gt;}}}
2008.05.03 2.7.1 in searchLink formatter handler(), use separate setAttribute() call instead of passing attribs to createTiddlyButton().  Avoids conflict with errant code in TiddlerNotesPlugin (v2.1 26/10/07)
2008.04.29 2.7.0 added searchLink formatter (syntax: {{{[search[text]]}}} or {{{[search[display|text]]}}})
2008.04.08 2.6.2 don't automatically add options to AdvancedOptions shadow tiddler
2007.02.17 2.6.1 added redefinition of config.macros.search.onKeyPress() to restore check to bypass key-by-key searching (i.e., when chkSearchIncremental==false), which had been unintentionally removed with v2.6.0
2007.02.13 2.6.0 remove redefinition of config.macros.search.handler since core now includes handling for ENTER key.
2007.02.08 2.5.1 include 'temporary' tag when creating SearchResults (for use with TemporaryTiddlersPlugin)
2007.01.29 2.5.0 added support for &quot;sort results by date&quot;.  Default is to sort alphabetically (standard).  When sorted by dates, most recent changes are shown first
2006.10.10 2.4.0 added support for &quot;search in tiddler data&quot; (tiddler.fields)  Default is to search extended data.
2006.04.06 2.3.0 added support for &quot;search in shadow tiddlers&quot;.  Default is *not* to search in the shadows (i.e. standard TW behavior).  Note: if a shadow tiddler has a 'real' counterpart, only the real tiddler is searched, since the shadow is inaccessible for viewing/editing.
2006.02.03 2.2.1 rewrite timeout clearing code and blank search text handling to match 2.0.4 core release changes.  note that core no longer permits &quot;blank=all&quot; searches, so neither does this plugin.  To search for all, use &quot;.&quot; with text patterns enabled.
2006.02.02 2.2.0 in search.handler(), KeyHandler() function clears 'left over' timeout when search input is &lt; 3 chars.  Prevents searching on shorter text when shortened by rapid backspaces (&lt;500msec)
2006.02.01 2.1.9 in Story.prototype.search(), correct inverted logic for using/not using regular expressions when searching
also, blank search text now presents &quot;No search text.  Continue anyway?&quot; confirm() message box, so search on blank can still be processed if desired by user.
2006.02.01 2.1.8 in doSearch(), added alert/return if search text is blank
2006.01.20 2.1.7 fixed setting of config.macros.search.reportTitle so that Tweaks can override it.
2006.01.19 2.1.6 improved SearchResults formatting, added a &quot;search again&quot; form to the report (based on a suggestion from MorrisGray)
define results report title using config.macros.search.reportTitle instead of hard-coding the tiddler title
2006.01.18 2.1.5 Created separate functions for reportSearchResults(text,matches) and discardSearchResults(), so that other developers can create alternative report generators.
2006.01.17 2.1.4 Use regExp.search() instead of regExp.test() to scan for matches.  Correctd the problem where only half the matching tiddlers (the odd-numbered ones) were being reported.
2006.01.15 2.1.3 Added information (date/time, username, search options used) to SearchResults output
2006.01.10 2.1.2 use displayTiddlers() to render matched tiddlers.  This lets you display multiple matching tiddlers, even if SinglePageModePlugin is enabled.
2006.01.08 2.1.1 corrected invalid variable reference, &quot;txt.value&quot; to &quot;text&quot; in story.search()
2006.01.08 2.1.0 re-write to match new store.search(), store.search.handler() and story.search() functions.
2005.12.30 2.0.0 Upgraded to TW2.0.  When rendering SearchResults tiddler, closeTiddler() first to ensure display is refreshed.
2005.12.26 1.4.0 added option to search for matching text in tiddler tags
2005.12.21 1.3.7 use \\ to 'escape' single quotes in tiddler titles when generating &quot;Open all matching tiddlers&quot; link.  Also, added access key: &quot;O&quot;, to trigger &quot;open all&quot; link.  Based on a suggestion by UdoBorkowski.
2005.12.18 1.3.6 call displayMessage() AFTER showing matching tiddlers so message is not cleared too soon
2005.12.17 1.3.5 if no matches found, just display message and delete any existing SearchResults tiddler.
2005.12.17 1.3.4 use {/%%/{/%%/{  and }/%%/}/%%/} to 'escape' display text in SearchResults tiddler to ensure that formatting contained in search string is not rendered.  Based on a suggestion by UdoBorkowski.
2005.12.14 1.3.3 tag SearchResults tiddler with 'excludeSearch' so it won't list itself in subsequent searches. Based on a suggestion by UdoBorkowski.
2005.12.14 1.3.2 added &quot;open all matching tiddlers...&quot; link to search results output. Based on a suggestion by UdoBorkowski.
2005.12.10 1.3.1 added &quot;discard search results&quot; link to end of search list tiddler output for quick self-removal of 'SearchResults' tiddler.
2005.12.01 1.3.0 added chkSearchIncremental to enable/disable 'incremental' searching (i.e., search after each keystroke) (default is ENABLED).
added handling for Enter key so it can be used to start a search. Based on a suggestion by LyallPearce
2005.11.25 1.2.1 renamed from SearchTitleOrTextPlugin to SearchOptionsPlugin
2005.11.25 1.2.0 added chkSearchList option.  Based on a suggestion by RodneyGomes
2005.10.19 1.1.0 added chkSearchTitlesFirst option.  Based on a suggestion by ChristianHauck
2005.10.18 1.0.0 Initial Release.  Based on a suggestion by LyallPearce.
&lt;&lt;&lt;</pre>
</div>
<div title="Second-Countable" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404240537" modified="201404260545" tags="Topology" changecount="21" content-type="text/x-tiddlywiki">
<pre>!!Definition
If a space $X$ has a countable basis for its topology, then $X$ is said to satisify the ''//second countability axiom//'', or to be ''//second-countable//''.

!!Notes
*The second countability axiom implies the [[first countability axiom|first-countable]].
*Not every metrizable space satisifies this axiom.
*Subspaces and countable products of second-countable spaces are second-countable.

!!Theorems
*If $X$ is second-countable, then every open covering of $X$ contains a countable subcollection covering $X$ ([[Lindelof Space]]).
{{proof{
+++!!!![Proof.]
Let $\mathcal{A}$ be an open covering of $X$.  For each positive integer $n$ for which it is possible, choose an element $a_n \in \mathcal{A}$ containing the basis element $B_n$.  The collection $\mathcal{A}'$ of the sets $A_n$ is countable, since it is indexed by $J_n \subset \mathbb{N}$.  Furthermore, $\mathcal{A}'$ covers $X$:
$\qquad$ Given a point $x\in X$, we can choose an element $A\in\mathcal{A}$ containing $x$.  Since $A$ is open, $\exists B_n$ s.t. $x\in B_n \subset A$.  Becasue $B_n$ lies in an element of $\mathcal{A}$, the index $n$ belongs to $J$, so $A_n$ is defined, where clearly $x \in A_n$.  Thus, $\mathcal{A}'$ is a countable subcollection of $\mathcal{A}$ that covers $X$.
\(\tag*{$\square$}\)===
}}}
*If $X$ is second-countable, there exists a countable subset of $X$ that is dense in $X$ ([[Seperable Space]]).  
{{proof{
+++!!!![Proof.]
From each nonempty basis element $B_n$, choose a point $x_n$.  Let $D$ bet the set consisting of all chosen points $x_n$.  Given any point $x \in X$, every basis element containing $x$ intersects $D$, so $x\in \bar{D}$.  Hence, $\bar{D} = X$, which means $D$ is [[dense]] in $X$.
\(\tag*{$\square$}\)===
}}}</pre>
</div>
<div title="SectionLinksPlugin" modifier="Christopher Wilson" created="200901061840" modified="201404121824" tags="systemConfig excludeTimeline" content-type="" changecount="36">
<pre>/***
|Name|SectionLinksPlugin|
|Source|http://www.TiddlyTools.com/#SectionLinksPlugin|
|Documentation|http://www.TiddlyTools.com/#SectionLinksPlugin|
|Version|1.4.2|
|Author|Eric Shulman|
|License|http://www.TiddlyTools.com/#LegalStatements|
|~CoreVersion|2.1|
|Type|plugin|
|Description|allow tiddler sections in TiddlyLinks to be used as anchor points|
This plugin enhances tiddler links so that they can include section references that ''auto-scroll to the indicated section heading'' within a tiddler (i.e., similar to the 'anchor' behavior provided in HTML by {{{&lt;a name=&quot;foo&quot;&gt;}}} and {{{&lt;a href=&quot;#foo&quot;&gt;...&lt;/a&gt;}}}).  The {{{&lt;&lt;tiddler&gt;&gt;}}} macro syntax has also be extended to allow section references without a tiddler name, so that transclusion of //hidden sections from the same tiddler// can be easily accomplished.  The plugin also adds a new macro, &lt;&lt;sectionTOC&gt;&gt; which can auto-generate and embed a 'Table of Contents' outline view into a tiddler to enable quick navigation to sections within that tiddler.
!!!Usage
&lt;&lt;&lt;
!!!!~TiddlyLink syntax
You can link to a section of a tiddler by adding the &quot;##sectionname&quot; syntax to the tiddlername:
{{{
[[SomeTiddler##SomeSection]]
}}}
When clicked, the tiddler is displayed and the specified section heading is automatically scrolled into view. If the tiddler title is omitted or the 'here' keyword is used, e.g.,
{{{
[[##SomeSection]] or [[here##SomeSection]]&gt;&gt;
}}}
then the current containing tiddler is implied by default.
!!!!HTML anchor syntax
You can use HTML syntax to create a scrollable 'anchor' location within a tiddler without use of the standard TW section heading syntax:
{{{
&lt;html&gt;&lt;a name=&quot;sectionname&quot; /&gt;&lt;/html&gt;
}}}
You can then link to that section using the enhanced TiddlyLink syntax as above.
!!!!{{{&lt;&lt;tiddler&gt;&gt;}}} macro 
The {{{&lt;&lt;tiddler&gt;&gt;}}} syntax has been extended so that when the tiddler title is omitted or the 'here' keyword is used, e.g.,
{{{
&lt;&lt;tiddler ##SomeSection&gt;&gt; or &lt;&lt;tiddler here##SomeSection&gt;&gt;
}}}
then the current containing tiddler is implied by default.
!!!!&quot;&quot;&quot;&lt;&lt;sectionTOC&gt;&gt;&quot;&quot;&quot; macro
This macro generates a 'Table of Contents' outline-style bullet list with links to all sections within the current tiddler.  Simply place the following macro at the //end of the tiddler content// (i.e., following all section headings).  Important note: //''The {{{&lt;&lt;sectionTOC&gt;&gt;}}} macro must occur at the end of the tiddler in order to locate the rendered section headings that precede it.''//
{{{
&lt;&lt;sectionTOC&gt;&gt; or &lt;&lt;sectionTOC className&gt;&gt;
}}}
To position the macro's //output// within the tiddler, you must create a special 'target element' that uses a specific classname (default='sectionTOC'), like this:
{{{
{{sectionTOC{}}}
}}}
When the {{{&lt;&lt;sectionTOC&gt;&gt;}}} macro is rendered, it will find the matching 'sectionTOC'-classed element and writes it's output there.  You can also add the macro and/or target elements directly to the [[ViewTemplate]] definition, so that every tiddler can automatically display the table of contents:
{{{
&lt;span class='sectionTOC'&gt;&lt;/span&gt; &lt;!-- target element --&gt;
...
&lt;span macro='sectionTOC'&gt;&lt;/span&gt; &lt;!-- must be at end of tiddler --&gt;
}}}
&lt;&lt;&lt;
!!!Configuration
&lt;&lt;&lt;
You can change the {{{&lt;&lt;SectionTOC&gt;&gt;}}} output link format by adding the following statement to a tiddler tagged with &lt;&lt;tag systemConfig&gt;&gt;
{{{
config.macros.sectionTOC.linkFormat='[[%0|##%0]]';
}}}
The default value (shown above) produces a link to each section within the tiddler, using &quot;%0&quot; to insert the section name into the link.  You can add extra formatting to generate additional output to suit your purposes.  For example, if you have EditSectionPlugin installed, you could include a link that invokes that plugin's popup editor directly from each item in the TOC display, like this:
{{{
config.macros.sectionTOC.linkFormat='[[%0|##%0]] &lt;&lt;editSection [[##%0]] [[(edit)]]&gt;&gt;';
}}}
&lt;&lt;&lt;
!!!Examples
&lt;&lt;&lt;
links to sections defined by ''TW heading syntax'' (e.g, {{{!!!sectionname}}}):{{indent{
[[SectionLinksPlugin##onClickTiddlerLink]]
[[##onClickTiddlerLink]] //(current tiddler implied)//}}}
links to anchors defined by ''HTML syntax'' (e.g., {{{&lt;html&gt;&lt;a href=&quot;anchorname&quot;&gt;&lt;/html&gt;}}}):{{indent{
[[SectionLinksPlugin##sampleanchorlink]]
[[##sampleanchorlink]] //(current tiddler implied)//}}}
&lt;&lt;&lt;
!!!Revisions
&lt;&lt;&lt;
2011.12.21 1.4.2 refactor sectionTOCformat to permit customization
2011.02.08 1.4.1 in isExternalLink() hijack, strip section references before testing for external link
2010.08.09 1.4.0 in scrollToSection(), added support for using HTML &lt;a name=&quot;...&quot;&gt; anchor elements
2009.08.21 1.3.4 added handling to ignore leading/trailing whitespace in section references
2009.08.21 1.3.3 in createTiddlyLink(), add tiddlyLinkNonExistingSection class if matching section is not found
2009.08.14 1.3.2 in createTiddlyLink(), don't override core value for ~TiddlyLink attribute
2009.08.02 1.3.1 in sectionTOC.handler(), trim leading/trailing whitespace from generated section links
2009.08.01 1.3.0 in scrollToSection(), apply 3-tier section matching (exact, startsWith, contains)
2009.07.06 1.2.2 fixed displayTiddler() hijack
2009.07.03 1.2.1 in {{{&lt;&lt;sectionTOC&gt;&gt;}}}, suppress output if target is not found
2009.06.02 1.2.0 added support for 'here' keyword in {{{[[here##section]]}}} links and {{{&lt;&lt;tiddler here##section&gt;&gt;}}} macro
2009.04.09 1.1.1 in sectionTOC macro, make target visible when TOC is rendered.
2009.01.18 1.1.0 added {{{&lt;&lt;sectionTOC&gt;&gt;}}} macro to generate numbered-bullet links to sections of current tiddler
2009.01.06 1.0.0 converted to stand-alone plugin
2008.10.14 0.0.0 initial release (as [[CoreTweaks]] #784 - http://trac.tiddlywiki.org/ticket/784)
&lt;&lt;&lt;
!!!Code
***/
//{{{
version.extensions.SectionLinksPlugin= {major: 1, minor: 4, revision: 2, date: new Date(2011,12,21)};

Story.prototype.scrollToSection = function(title,section) {
	if (!title||!section) return; var t=this.getTiddler(title); if (!t) return null;
	var elems=t.getElementsByTagName('*');
	var heads=[]; var anchors=[];
	for (var i=0; i&lt;elems.length; i++)
		if (['H1','H2','H3','H4','H5'].contains(elems[i].nodeName)) heads.push(elems[i]);
	for (var i=0; i&lt;elems.length; i++)
		if (elems[i].nodeName=='A' &amp;&amp; (elems[i].getAttribute('name')||'').length) anchors.push(elems[i]);
	var found=null;
	for (var i=0; i&lt;heads.length; i++)
		if (getPlainText(heads[i]).trim()==section) { found=heads[i]; break; }
	if (!found) for (var i=0; i&lt;heads.length; i++)
		if (getPlainText(heads[i]).trim().startsWith(section)) { found=heads[i]; break; }
	if (!found) for (var i=0; i&lt;heads.length; i++)
		if (getPlainText(heads[i]).trim().indexOf(section)!=-1) { found=heads[i]; break; }
	if (!found) for (var i=0; i&lt;anchors.length; i++)
		if (anchors[i].getAttribute('name')==section) { found=anchors[i]; break; }
	if (!found) for (var i=0; i&lt;anchors.length; i++)
		if (anchors[i].getAttribute('name').startsWith(section)) { found=anchors[i]; break; }
	if (!found) for (var i=0; i&lt;anchors.length; i++)
		if (anchors[i].getAttribute('name').indexOf(section)!=-1) { found=anchors[i]; break; }
	if (found) {
		// if section heading is collapsed, click to expand it - see [[FoldHeadingsPlugin]]
		if (hasClass(found,'foldable') &amp;&amp; found.nextSibling.style.display=='none') found.onclick();
		// scroll *after* tiddler animation
		var delay=config.options.chkAnimate?config.animDuration+100:0;
		setTimeout('window.scrollTo('+findPosX(found)+','+findPosY(found)+')',delay);
		return found;
	}
}
//}}}
/***
!!!!core hijacks
***/
/***
!!!!!createTiddlyLink
***/
//{{{
// [[tiddlername##section]] and [[##section]]
if (!window.createTiddlyLink_section)
	window.createTiddlyLink_section=window.createTiddlyLink;
window.createTiddlyLink=function(place,title) {
	var t=story.findContainingTiddler(place); var tid=t?t.getAttribute('tiddler'):'';
	var parts=title.split(config.textPrimitives.sectionSeparator);
	var title=parts[0]; var section=parts[1]; if (section) section=section.trim();
	if (!title.length || title.toLowerCase()=='here') title=tid;  // default=current tiddler
	arguments[1]=title;
	var btn=createTiddlyLink_section.apply(this,arguments);
	if (section) {
		btn.setAttribute('section',section);
		if (store.getTiddlerText(title+config.textPrimitives.sectionSeparator+section)===null)
			addClass(btn,'tiddlyLinkNonExistingSection');
	}
	return btn;
}
//}}}
/***
!!!!!onClickTiddlerLink
***/
//{{{
if (!window.onClickTiddlerLink_section)
	window.onClickTiddlerLink_section=window.onClickTiddlerLink;
window.onClickTiddlerLink=function(ev) {
	var e=ev||window.event;	var target=resolveTarget(e); var title=null;
	while (target!=null &amp;&amp; title==null) {
		title=target.getAttribute('tiddlyLink');
		section=target.getAttribute('section');
		target=target.parentNode;
	} 
	var t=story.findContainingTiddler(target); var tid=t?t.getAttribute('tiddler'):'';
	if (title!=tid||!section) // avoid excess scrolling for intra-tiddler links
		onClickTiddlerLink_section.apply(this,arguments);
	story.scrollToSection(title,section);
	return false;
}
//}}}
/***
!!!!! displayTiddler
***/
//{{{
if (!Story.prototype.displayTiddler_section)
	Story.prototype.displayTiddler_section=Story.prototype.displayTiddler;
Story.prototype.displayTiddler = function(srcElement,tiddler)
{
	var title=(tiddler instanceof Tiddler)?tiddler.title:tiddler;
	var parts=title.split(config.textPrimitives.sectionSeparator);
	var title=parts[0]; var section=parts[1]; if (section) section=section.trim();
	if (!title.length || title.toLowerCase()=='here') {
		var t=story.findContainingTiddler(place);
		title=t?t.getAttribute('tiddler'):'';
	}
	arguments[1]=title;  // default=current tiddler
	this.displayTiddler_section.apply(this,arguments);
	story.scrollToSection(title,section);
}
//}}}
/***
&lt;html&gt;&lt;a name=&quot;sampleanchorlink&quot; /&gt;&lt;/html&gt;This is a sample ''anchor link'': {{{&lt;html&gt;&lt;a name=&quot;sampleanchorlink&quot; /&gt;&lt;/html&gt;}}}
!!!!!isExternalLink
***/
//{{{
if (!config.formatterHelpers.isExternalLink_section)
	config.formatterHelpers.isExternalLink_section=config.formatterHelpers.isExternalLink;
config.formatterHelpers.isExternalLink=function(link) {  // remove section references before testing
	var l=link.split(config.textPrimitives.sectionSeparator)[0];
	return config.formatterHelpers.isExternalLink_section(l);
}
//}}}
/***
!!!!!tiddler.handler
***/
//{{{
if (!config.macros.tiddler.handler_section)
	config.macros.tiddler.handler_section=config.macros.tiddler.handler;
config.macros.tiddler.handler=function(place,macroName,params,wikifier,paramString,tiddler)
{
	if (!params[0]) return;
	var sep=config.textPrimitives.sectionSeparator;
	var parts=params[0].split(sep); var tid=parts[0]; var sec=parts[1]; if (sec) sec=sec.trim();
	if ((tid.toLowerCase()=='here'||!tid.length) &amp;&amp; sec) { // fixup for 'here##section' and '##section'
		var here=story.findContainingTiddler(place)
		var tid=here?here.getAttribute('tiddler'):tiddler?tiddler.title:'';
		arguments[2][0]=tid+sep+sec;
		arguments[4]=paramString.replace(new RegExp('(here)?'+sep+sec),tid+sep+sec);
	}
	config.macros.tiddler.handler_section.apply(this,arguments);
}
//}}}
/***
!!!!sectionTOC macro
***/
//{{{
config.macros.sectionTOC = {
	targetClass: 'sectionTOC',
	linkFormat: '[[%0|##%0]]',
	handler: function(place,macroName,params,wikifier,paramString,tiddler) {
		var out=[];
		var targetClass=params[0]||this.targetClass;
		var t=story.findContainingTiddler(place); if (!t) return;
		var elems=t.getElementsByTagName('*');
		var level=5; // topmost heading level
		for (var i=0; i&lt;elems.length; i++) {
			var txt=getPlainText(elems[i]).trim();
			var link=this.linkFormat.format([txt]);
			switch(elems[i].nodeName) {
				case 'H1': out.push('#'+link);		level=1; break;
				case 'H2': out.push('##'+link);		level=level&lt;2?level:2; break;
				case 'H3': out.push('###'+link);	level=level&lt;3?level:3; break;
				case 'H4': out.push('####'+link);	level=level&lt;4?level:4; break;
				case 'H5': out.push('#####'+link);	level=level&lt;5?level:5; break;
				default: if (hasClass(elems[i],targetClass)) var target=elems[i];
			}
		}
		// trim excess bullet levels
		if (level&gt;1) for (var i=0; i&lt;out.length; i++) out[i]=out[i].substr(level-1);
		// show numbered list
		if (out.length &amp;&amp; target) {
			if (target.style.display=='none') target.style.display='block';
			wikify(out.join('\n'),target);
		}
	}
}
//}}}
/***
!!!Invoke macro
{{{
&lt;&lt;sectionTOC&gt;&gt;
}}}
***/
// //&lt;&lt;sectionTOC&gt;&gt;</pre>
</div>
<div title="SelectThemePlugin" modifier="Christopher Wilson" created="201106271025" modified="201402240725" tags="systemConfig excludeTimeline">
<pre>/***
|Name:|SelectThemePlugin|
|Description:|Lets you easily switch theme and palette|
|Version:|1.0.1a|
|Date:|27-Jun-2011|
|Source:|http://mptw.tiddlyspot.com/#SelectThemePlugin|
|Author:|Simon Baird &lt;simon.baird@gmail.com&gt;|
|License:|http://mptw.tiddlyspot.com/#TheBSDLicense|
!Notes
* Borrows largely from ThemeSwitcherPlugin by Martin Budden http://www.martinswiki.com/#ThemeSwitcherPlugin
* Theme is cookie based. But set a default by setting config.options.txtTheme in MptwConfigPlugin (for example)
* Palette is not cookie based. It actually overwrites your ColorPalette tiddler when you select a palette, so beware.
!Usage
* {{{&lt;&lt;selectTheme&gt;&gt;}}} makes a dropdown selector
* {{{&lt;&lt;selectPalette&gt;&gt;}}} makes a dropdown selector
* {{{&lt;&lt;applyTheme&gt;&gt;}}} applies the current tiddler as a theme
* {{{&lt;&lt;applyPalette&gt;&gt;}}} applies the current tiddler as a palette
* {{{&lt;&lt;applyTheme TiddlerName&gt;&gt;}}} applies TiddlerName as a theme
* {{{&lt;&lt;applyPalette TiddlerName&gt;&gt;}}} applies TiddlerName as a palette
***/
//{{{

config.macros.selectTheme = {
  label: {
    selectTheme:&quot;select theme&quot;,
    selectPalette:&quot;&quot;
  },
  prompt: {
    selectTheme:&quot;Select the current theme&quot;,
    selectPalette:&quot;Select the current palette&quot;
  },
  tags: {
    selectTheme:'systemTheme',
    selectPalette:'systemPalette'
  }
};

config.macros.selectTheme.handler = function(place,macroName)
{
  var btn = createTiddlyButton(place,this.label[macroName],this.prompt[macroName],this.onClick);
  // want to handle palettes and themes with same code. use mode attribute to distinguish
  btn.setAttribute('mode',macroName);
};

config.macros.selectTheme.onClick = function(ev)
{
  var e = ev ? ev : window.event;
  var popup = Popup.create(this);
  var mode = this.getAttribute('mode');
  var tiddlers = store.getTaggedTiddlers(config.macros.selectTheme.tags[mode]);
  // for default
  if (mode == &quot;selectPalette&quot;) {
    var btn = createTiddlyButton(createTiddlyElement(popup,'li'),&quot;(default)&quot;,&quot;default color palette&quot;,config.macros.selectTheme.onClickTheme);
    btn.setAttribute('theme',&quot;(default)&quot;);
    btn.setAttribute('mode',mode);
  }
  for(var i=0; i&lt;tiddlers.length; i++) {
    var t = tiddlers[i].title;
    var name = store.getTiddlerSlice(t,'Name');
    var desc = store.getTiddlerSlice(t,'Description');
    var btn = createTiddlyButton(createTiddlyElement(popup,'li'), name?name:t, desc?desc:config.macros.selectTheme.label['mode'], config.macros.selectTheme.onClickTheme);
    btn.setAttribute('theme',t);
    btn.setAttribute('mode',mode);
  }
  Popup.show();
  return stopEvent(e);
};

config.macros.selectTheme.onClickTheme = function(ev)
{
  var mode = this.getAttribute('mode');
  var theme = this.getAttribute('theme');
  if (mode == 'selectTheme')
    story.switchTheme(theme);
  else // selectPalette
    config.macros.selectTheme.updatePalette(theme);
  return false;
};

config.macros.selectTheme.updatePalette = function(title)
{
  if (title != &quot;&quot;) {
    store.deleteTiddler(&quot;ColorPalette&quot;);
    if (title != &quot;(default)&quot;)
      store.saveTiddler(&quot;ColorPalette&quot;,&quot;ColorPalette&quot;,store.getTiddlerText(title),
          config.options.txtUserName,undefined,&quot;&quot;);
    refreshAll();
    if(config.options.chkAutoSave)
      saveChanges(true);
  }
};

config.macros.applyTheme = {
  label: &quot;apply&quot;,
  prompt: &quot;apply this theme or palette&quot; // i'm lazy
};

config.macros.applyTheme.handler = function(place,macroName,params,wikifier,paramString,tiddler) {
  var useTiddler = params[0] ? params[0] : tiddler.title;
  var btn = createTiddlyButton(place,this.label,this.prompt,config.macros.selectTheme.onClickTheme);
  btn.setAttribute('theme',useTiddler);
  btn.setAttribute('mode',macroName==&quot;applyTheme&quot;?&quot;selectTheme&quot;:&quot;selectPalette&quot;); // a bit untidy here
}

config.macros.selectPalette = config.macros.selectTheme;
config.macros.applyPalette = config.macros.applyTheme;

config.macros.refreshAll = { handler: function(place,macroName,params,wikifier,paramString,tiddler) {
  createTiddlyButton(place,&quot;refresh&quot;,&quot;refresh layout and styles&quot;,function() { refreshAll(); });
}};

//}}}
</pre>
</div>
<div title="Separation" modifier="Christopher Wilson" created="201404110053" modified="201404111931" tags="Topology" content-type="text/x-tiddlywiki" changecount="1">
<pre>!!Definition
A ''//separation//'' of a topological space $X$ is a pair $U,V$ of disjoint nonempty open subsets of $X$ whose union is $X$.  The space $X$ is said to be [[connected]] if there does not exist a separation of $X$.

A space $X$ is [[connected]] if and only if the only subsets of $X$ that are both open and closed in $X$ are $\varnothing$ and $X$.

!!Notes
*If $X$ is connected, so is any space [[homeomorphic|homeomorphism]] to $X$.
*If $Y\subset X$, a separation of $Y$ is a pair of disjoint nonempty sets $A$ and $B$ which satisify: $A \cup B = Y$, $\overline{A} \cap B = \varnothing$, and $A \cap \overline{B} = \varnothing$.
*If the sets $C$ and $D$ form a separation of $X$, and if $Y$ is a connected subspace of $X$, then $Y$ lies entirely within either $C$ or $D$&lt;&lt;bibtex munkres2000topology&gt;&gt;.
</pre>
</div>
<div title="Separation Axioms" modifier="Christopher Wilson" created="201404012333" modified="201404012335" tags="Topology">
<pre>*$\bf T_1$: The condition that finite point sets are closed.</pre>
</div>
<div title="ServerSideSavingPlugin" modifier="Christopher Wilson" created="201404121305" modified="201404121507" tags="systemConfig systemConfigDisable excludeTimeline" changecount="1" content-type="">
<pre>/***
|''Name''|ServerSideSavingPlugin|
|''Description''|server-side saving|
|''Author''|FND|
|''Version''|0.6.5|
|''Status''|stable|
|''Source''|http://svn.tiddlywiki.org/Trunk/association/plugins/ServerSideSavingPlugin.js|
|''License''|[[BSD|http://www.opensource.org/licenses/bsd-license.php]]|
|''CoreVersion''|2.5.3|
|''Keywords''|serverSide|
!Notes
This plugin relies on a dedicated adaptor to be present.
The specific nature of this plugin depends on the respective server.
!Revision History
!!v0.1 (2008-11-24)
* initial release
!!v0.2 (2008-12-01)
* added support for local saving
!!v0.3 (2008-12-03)
* added Save to Web macro for manual synchronization
!!v0.4 (2009-01-15)
* removed ServerConfig dependency by detecting server type from the respective tiddlers
!!v0.5 (2009-08-25)
* raised CoreVersion to 2.5.3 to take advantage of core fixes
!!v0.6 (2010-04-21)
* added notification about cross-domain restrictions to ImportTiddlers
!To Do
* conflict detection/resolution
* rename to ServerLinkPlugin?
* document deletion/renaming convention
!Code
***/
//{{{
(function($) {

readOnly = false; //# enable editing over HTTP

var plugin = config.extensions.ServerSideSavingPlugin = {};

plugin.locale = {
	saved: &quot;%0 saved successfully&quot;,
	saveError: &quot;Error saving %0: %1&quot;,
	saveConflict: &quot;Error saving %0: edit conflict&quot;,
	deleted: &quot;Removed %0&quot;,
	deleteError: &quot;Error removing %0: %1&quot;,
	deleteLocalError: &quot;Error removing %0 locally&quot;,
	removedNotice: &quot;This tiddler has been deleted.&quot;,
	connectionError: &quot;connection could not be established&quot;,
	hostError: &quot;Unable to import from this location due to cross-domain restrictions.&quot;
};

plugin.sync = function(tiddlers) {
	tiddlers = tiddlers &amp;&amp; tiddlers[0] ? tiddlers : store.getTiddlers();
	$.each(tiddlers, function(i, tiddler) {
		var changecount = parseInt(tiddler.fields.changecount, 10);
		if(tiddler.fields.deleted === &quot;true&quot; &amp;&amp; changecount === 1) {
			plugin.removeTiddler(tiddler);
		} else if(tiddler.isTouched() &amp;&amp; !tiddler.doNotSave() &amp;&amp;
				tiddler.getServerType() &amp;&amp; tiddler.fields[&quot;server.host&quot;]) { // XXX: server.host could be empty string
			delete tiddler.fields.deleted;
			plugin.saveTiddler(tiddler);
		}
	});
};

plugin.saveTiddler = function(tiddler) {
	try {
		var adaptor = this.getTiddlerServerAdaptor(tiddler);
	} catch(ex) {
		return false;
	}
	var context = {
		tiddler: tiddler,
		changecount: tiddler.fields.changecount,
		workspace: tiddler.fields[&quot;server.workspace&quot;]
	};
	var serverTitle = tiddler.fields[&quot;server.title&quot;]; // indicates renames
	if(!serverTitle) {
		tiddler.fields[&quot;server.title&quot;] = tiddler.title;
	} else if(tiddler.title != serverTitle) {
		return adaptor.moveTiddler({ title: serverTitle },
			{ title: tiddler.title }, context, null, this.saveTiddlerCallback);
	}
	var req = adaptor.putTiddler(tiddler, context, {}, this.saveTiddlerCallback);
	return req ? tiddler : false;
};

plugin.saveTiddlerCallback = function(context, userParams) {
	var tiddler = context.tiddler;
	if(context.status) {
		if(tiddler.fields.changecount == context.changecount) { //# check for changes since save was triggered
			tiddler.clearChangeCount();
		} else if(tiddler.fields.changecount &gt; 0) {
			tiddler.fields.changecount -= context.changecount;
		}
		plugin.reportSuccess(&quot;saved&quot;, tiddler);
		store.setDirty(false);
	} else {
		if(context.httpStatus == 412) {
			plugin.reportFailure(&quot;saveConflict&quot;, tiddler);
		} else {
			plugin.reportFailure(&quot;saveError&quot;, tiddler, context);
		}
	}
};

plugin.removeTiddler = function(tiddler) {
	try {
		var adaptor = this.getTiddlerServerAdaptor(tiddler);
	} catch(ex) {
		return false;
	}
	var context = {
		host: tiddler.fields[&quot;server.host&quot;],
		workspace: tiddler.fields[&quot;server.workspace&quot;],
		tiddler: tiddler
	};
	var req = adaptor.deleteTiddler(tiddler, context, {}, this.removeTiddlerCallback);
	return req ? tiddler : false;
};

plugin.removeTiddlerCallback = function(context, userParams) {
	var tiddler = context.tiddler;
	if(context.status) {
		if(tiddler.fields.deleted === &quot;true&quot;) {
			store.deleteTiddler(tiddler.title);
		} else {
			plugin.reportFailure(&quot;deleteLocalError&quot;, tiddler);
		}
		plugin.reportSuccess(&quot;deleted&quot;, tiddler);
		store.setDirty(false);
	} else {
		plugin.reportFailure(&quot;deleteError&quot;, tiddler, context);
	}
};

plugin.getTiddlerServerAdaptor = function(tiddler) { // XXX: rename?
	var type = tiddler.fields[&quot;server.type&quot;] || config.defaultCustomFields[&quot;server.type&quot;];
	return new config.adaptors[type]();
};

plugin.reportSuccess = function(msg, tiddler) {
	displayMessage(plugin.locale[msg].format([tiddler.title]));
};

plugin.reportFailure = function(msg, tiddler, context) {
	var desc = (context &amp;&amp; context.httpStatus) ? context.statusText :
		plugin.locale.connectionError;
	displayMessage(plugin.locale[msg].format([tiddler.title, desc]));
};

config.macros.saveToWeb = { // XXX: hijack existing sync macro?
	locale: { // TODO: merge with plugin.locale?
		btnLabel: &quot;save to web&quot;,
		btnTooltip: &quot;synchronize changes&quot;,
		btnAccessKey: null
	},

	handler: function(place, macroName, params, wikifier, paramString, tiddler) {
		createTiddlyButton(place, this.locale.btnLabel, this.locale.btnTooltip,
			plugin.sync, null, null, this.locale.btnAccessKey);
	}
};

// hijack saveChanges to trigger remote saving
var _saveChanges = saveChanges;
saveChanges = function(onlyIfDirty, tiddlers) {
	if(window.location.protocol == &quot;file:&quot;) {
		_saveChanges.apply(this, arguments);
	} else {
		plugin.sync(tiddlers);
	}
};

// override removeTiddler to flag tiddler as deleted -- XXX: use hijack to preserve compatibility?
TiddlyWiki.prototype.removeTiddler = function(title) { // XXX: should override deleteTiddler instance method?
	var tiddler = this.fetchTiddler(title);
	if(tiddler) {
		tiddler.tags = [&quot;excludeLists&quot;, &quot;excludeSearch&quot;, &quot;excludeMissing&quot;];
		tiddler.text = plugin.locale.removedNotice;
		tiddler.fields.deleted = &quot;true&quot;; // XXX: rename to removed/tiddlerRemoved?
		tiddler.fields.changecount = &quot;1&quot;;
		this.notify(title, true);
		this.setDirty(true);
	}
};

// hijack ImportTiddlers wizard to handle cross-domain restrictions
var _onOpen = config.macros.importTiddlers.onOpen;
config.macros.importTiddlers.onOpen = function(ev) {
	var btn = $(resolveTarget(ev));
	var url = btn.closest(&quot;.wizard&quot;).find(&quot;input[name=txtPath]&quot;).val();
	if(window.location.protocol != &quot;file:&quot; &amp;&amp; url.indexOf(&quot;://&quot;) != -1) {
		var host = url.split(&quot;/&quot;)[2];
		var macro = config.macros.importTiddlers;
		if(host != window.location.host) {
			btn.text(macro.cancelLabel).attr(&quot;title&quot;, macro.cancelPrompt);
			btn[0].onclick = macro.onCancel;
			$('&lt;span class=&quot;status&quot; /&gt;').text(plugin.locale.hostError).insertAfter(btn);
			return false;
		}
	}
	return _onOpen.apply(this, arguments);
};

})(jQuery);
//}}}</pre>
</div>
<div title="SetIconPlugin" creator="ELSDesignStudios" modifier="Christopher Wilson" created="200805091124" modified="201404121827" tags="systemConfig excludeTimeline" content-type="" changecount="28">
<pre>/***
|Name|SetIconPlugin|
|Source|http://www.TiddlyTools.com/#SetIconPlugin|
|Documentation|http://www.TiddlyTools.com/#SetIconPluginInfo|
|Version|1.9.1|
|Author|Eric Shulman|
|License|http://www.TiddlyTools.com/#LegalStatements|
|~CoreVersion|2.3|
|Type|plugin|
|Description|add an image to a toolbar, macro, or slider link|
!!!!!Documentation
&gt;see [[SetIconPluginInfo]]
!!!!!Configuration
&lt;&lt;&lt;
&lt;&lt;option chkIconsShowImage&gt;&gt; show images on links
&lt;&lt;option chkIconsShowText&gt;&gt; include link text with images
default image style: {{stretch{&lt;&lt;option txtIconsCSS&gt;&gt;}}}
&lt;&lt;&lt;
!!!!!Revisions
&lt;&lt;&lt;
2011.10.02 1.9.1 use plain text instead of innerHTML for link tooltips
2011.10.02 1.9.0 added 'find:...' macro param (for use with tabsets)
| see [[SetIconPluginInfo]] for additional revision details |
2008.05.09 1.0.0 initial release (as inline script)
&lt;&lt;&lt;
!!!!!Code
***/
//{{{
version.extensions.SetIconPlugin= {major: 1, minor: 9, revision: 1, date: new Date(2011,10,2)};

if (config.options.chkIconsShowImage===undefined)
	config.options.chkIconsShowImage=true;
if (config.options.chkIconsShowText===undefined)
	config.options.chkIconsShowText=true;
if (config.options.txtIconsCSS===undefined)
	config.options.txtIconsCSS=&quot;vertical-align:middle;width:auto;height:auto&quot;;

config.macros.setIcon = {
	handler: function(place,macroName,params,wikifier,paramString,tiddler) {
		if (!config.options.chkIconsShowImage) return; // text-only - do nothing
		var src=params[0]; if (!src) return;  // no image src specified - do nothing
		var p=paramString.parseParams('name',null,true,false,true);
		var label=getParam(p,'find'); if (label) params.shift(); // optional find:&quot;...&quot;
		var css=params[1]; if (!css||!css.length) css=config.options.txtIconsCSS;
		var after=params[2]&amp;&amp;params[2].toUpperCase()==&quot;RIGHT&quot;;
		var notext=params[2]&amp;&amp;params[2].toUpperCase()==&quot;NOTEXT&quot;;

		// find nearest link element
		var btn=place.lastChild; // look for sibling link
		while (btn &amp;&amp; (btn.nodeName!=&quot;A&quot; || label&amp;&amp;!btn.innerHTML.startsWith(label)))
			btn=btn.previousSibling;
		if (!btn) { // look for child link
			var links=place.getElementsByTagName(&quot;A&quot;);
			for (var i=links.length-1; i&gt;=0; i--)
				if (!label || links[i].innerHTML.startsWith(label)) { btn=links[i]; break; }
		}
		if (!btn) { // look for parent link
			var btn=place.parentNode.lastChild;
			while (btn &amp;&amp; (btn.nodeName!=&quot;A&quot; || label&amp;&amp;!btn.innerHTML.startsWith(label)))
				btn=btn.previousSibling;
		}
		if (!btn) { // look for cousin link (e.g. TABS in TABSETS)
			var links=place.parentNode.getElementsByTagName(&quot;A&quot;);
			for (var i=links.length-1; i&gt;=0; i--)
				if (!label || links[i].innerHTML.startsWith(label)) { btn=links[i]; alert('found'); break; }
		}
		if (!btn) return; // can't find a link - do nothing

		// set icon and command text/tip
		var txt=btn.innerHTML; var tip=getPlainText(btn);
		if (config.macros.attach &amp;&amp; config.macros.attach.isAttachment(src))
			src=config.macros.attach.getAttachment(src); // retrieve attachment (if any)
		btn.innerHTML=&quot;&lt;img src='&quot;+src+&quot;' style='&quot;+css+&quot;'&gt;&quot;;
		if (config.options.chkIconsShowText &amp;&amp; !notext)
			btn.innerHTML=after?txt+btn.innerHTML:btn.innerHTML+txt;
		else
			btn.title=tip+&quot; - &quot;+btn.title; // add text to tooltip

		// adjust nested slider button text/tip
		if (btn.getAttribute(&quot;closedtext&quot;)!=null) {
			btn.setAttribute(&quot;closedtext&quot;,btn.innerHTML);
			btn.setAttribute(&quot;openedtext&quot;,btn.innerHTML);
			if (!config.options.chkIconsShowText || notext) {
				btn.setAttribute(&quot;closedtip&quot;,txt.toUpperCase()+&quot;: &quot;+btn.getAttribute(&quot;closedtip&quot;));
				btn.setAttribute(&quot;openedtip&quot;,txt.toUpperCase()+&quot;: &quot;+btn.getAttribute(&quot;openedtip&quot;));
			}
		}
	}
};
//}}}</pre>
</div>
<div title="SetIconPlugin2" modifier="Christopher Wilson" created="201404101927" modified="201404111922" tags="systemConfig excludeTimeline">
<pre>/***
|Name|SetIconPlugin2|
|Source|http://www.TiddlyTools.com/#SetIconPlugin|
|Documentation|http://www.TiddlyTools.com/#SetIconPluginInfo|
|Version|1.9.1|
|Author|Eric Shulman|
|License|http://www.TiddlyTools.com/#LegalStatements|
|~CoreVersion|2.3|
|Type|plugin|
|Description|add an Awesome Font icon to a toolbar, macro, or slider link|
!!!!!Documentation
&gt;see [[SetIconPluginInfo]]
!!!!!Configuration
&lt;&lt;&lt;
&lt;&lt;option chkIconsShowImage&gt;&gt; show images on links
&lt;&lt;option chkIconsShowText&gt;&gt; include link text with images
default image style: {{stretch{&lt;&lt;option txtIconsCSS&gt;&gt;}}}
&lt;&lt;&lt;
!!!!!Revisions
&lt;&lt;&lt;
2011.10.02 1.9.1 use plain text instead of innerHTML for link tooltips
2011.10.02 1.9.0 added 'find:...' macro param (for use with tabsets)
| see [[SetIconPluginInfo]] for additional revision details |
2008.05.09 1.0.0 initial release (as inline script)
&lt;&lt;&lt;
!!!!!Code
***/
//{{{
version.extensions.SetIconPlugin= {major: 1, minor: 9, revision: 1, date: new Date(2011,10,2)};

if (config.options.chkIconsShowImage===undefined)
	config.options.chkIconsShowImage=true;
if (config.options.chkIconsShowText===undefined)
	config.options.chkIconsShowText=true;
if (config.options.txtIconsCSS===undefined)
	config.options.txtIconsCSS=&quot;vertical-align:middle;width:auto;height:auto&quot;;

config.options.chkIconsShowText=false; //(edited by Chris)

config.macros.setIcon2 = {
	handler: function(place,macroName,params,wikifier,paramString,tiddler) {
		if (!config.options.chkIconsShowImage) return; // text-only - do nothing
		var src=params[0]+&quot;  &quot;+params[1]+&quot;  &quot;+params[2]; if (!src) return;  // no image src specified - do nothing
		var p=paramString.parseParams('name',null,true,false,true);
		var label=getParam(p,'find'); if (label) params.shift(); // optional find:&quot;...&quot;
		var css=params[3]; if (!css||!css.length) css=config.options.txtIconsCSS;
		var after=params[4]&amp;&amp;params[4].toUpperCase()==&quot;RIGHT&quot;;
		var notext=params[4]&amp;&amp;params[4].toUpperCase()==&quot;NOTEXT&quot;;

		// find nearest link element
		var btn=place.lastChild; // look for sibling link
		while (btn &amp;&amp; (btn.nodeName!=&quot;A&quot; || label&amp;&amp;!btn.innerHTML.startsWith(label)))
			btn=btn.previousSibling;
		if (!btn) { // look for child link
			var links=place.getElementsByTagName(&quot;A&quot;);
			for (var i=links.length-1; i&gt;=0; i--)
				if (!label || links[i].innerHTML.startsWith(label)) { btn=links[i]; break; }
		}
		if (!btn) { // look for parent link
			var btn=place.parentNode.lastChild;
			while (btn &amp;&amp; (btn.nodeName!=&quot;A&quot; || label&amp;&amp;!btn.innerHTML.startsWith(label)))
				btn=btn.previousSibling;
		}
		if (!btn) { // look for cousin link (e.g. TABS in TABSETS)
			var links=place.parentNode.getElementsByTagName(&quot;A&quot;);
			for (var i=links.length-1; i&gt;=0; i--)
				if (!label || links[i].innerHTML.startsWith(label)) { btn=links[i]; alert('found'); break; }
		}
		if (!btn) return; // can't find a link - do nothing

		// set icon and command text/tip
		var txt=btn.innerHTML; var tip=getPlainText(btn);
		if (config.macros.attach &amp;&amp; config.macros.attach.isAttachment(src))
			src=config.macros.attach.getAttachment(src); // retrieve attachment (if any)
		btn.innerHTML=&quot;&lt;i class='fa &quot;+src+&quot;' style='&quot;+css+&quot;'&gt;&lt;/i&gt;&quot;;
		if (config.options.chkIconsShowText &amp;&amp; !notext)
			btn.innerHTML=after?txt+btn.innerHTML:btn.innerHTML+txt;
		else
			btn.title=tip+&quot; - &quot;+btn.title; // add text to tooltip

		// adjust nested slider button text/tip
		if (btn.getAttribute(&quot;closedtext&quot;)!=null) {
			btn.setAttribute(&quot;closedtext&quot;,btn.innerHTML);
			btn.setAttribute(&quot;openedtext&quot;,btn.innerHTML);
			if (!config.options.chkIconsShowText || notext) {
				btn.setAttribute(&quot;closedtip&quot;,txt.toUpperCase()+&quot;: &quot;+btn.getAttribute(&quot;closedtip&quot;));
				btn.setAttribute(&quot;openedtip&quot;,txt.toUpperCase()+&quot;: &quot;+btn.getAttribute(&quot;openedtip&quot;));
			}
		}
	}
};
//}}}</pre>
</div>
<div title="SetIconPluginInfo" modifier="Christopher Wilson" created="201404101928" tags="excludeTimeline">
<pre>/***
|Name|SetIconPlugin|
|Source|http://www.TiddlyTools.com/#SetIconPlugin|
|Documentation|http://www.TiddlyTools.com/#SetIconPluginInfo|
|Version|1.9.1|
|Author|Eric Shulman|
|License|http://www.TiddlyTools.com/#LegalStatements|
|~CoreVersion|2.3|
|Type|documentation|
|Description|documentation for SetIconPlugin|
!!!!!Syntax
&lt;&lt;&lt;
{{{
&lt;&lt;setIcon image find:&quot;...&quot; style iconpos&gt;&gt;
}}}
where:
*''image''&lt;br&gt;tiddlername for an attached image or a URL for an external image
*''find:&quot;...&quot;''(optional)&lt;br&gt;finds a link that starts with the specified text (for use with &quot;&quot;&quot;&lt;&lt;tabs&gt;&gt;&quot;&quot;&quot;)
*''style'' (optional)&lt;br&gt;CSS style attributes applied to the image (default=&quot;vertical-align:middle;width:auto;height:auto&quot;)
*''iconpos''(optional)&lt;br&gt;indicates the placement of the image relative to the link text.  Use keywords: ''left'', ''right'' or ''notext'' (default=''left'', i.e., the text follows the image).  ''notext'' hides the link text, even if the global option (see Configuration section, below) is set to display the link text along with image.  //Note:  when specifying the non-default //''right''// or //''notext''// value, you can use &quot;&quot; as a placeholder for the ''style'' parameter to apply the standard CSS styles)//
&lt;&lt;&lt;
!!!!!Usage
&lt;&lt;&lt;
First, create a link element using any of:
* ''links:''&lt;br&gt;&amp;nbsp;&amp;nbsp;&quot;&quot;&quot;[[TiddlerName]]&quot;&quot;&quot; or &quot;&quot;&quot;[[text|TiddlerName]]&quot;&quot;&quot; or &quot;&quot;&quot;[[text|URL]]&quot;&quot;&quot;
* ''macros that generate links:''&lt;br&gt;&amp;nbsp;&amp;nbsp;&quot;&quot;&quot;&lt;&lt;toolbar ...&gt;&gt;&quot;&quot;&quot;, &quot;&quot;&quot;&lt;&lt;slider ...&gt;&gt;&quot;&quot;&quot;, &quot;&quot;&quot;&lt;&lt;tabs ...&gt;&gt;&quot;&quot;&quot;, &quot;&quot;&quot;&lt;&lt;saveChanges&gt;&gt;&quot;&quot;&quot;, etc.
* ''inline sliders:'' (using NestedSlidersPlugin)&lt;br&gt;&amp;nbsp;&amp;nbsp;&quot;&quot;&quot;+++[sliderlabel]...===&quot;&quot;&quot;
* '''onclick' scripts:'' (using InlineJavascriptPlugin)&lt;br&gt;&amp;nbsp;&amp;nbsp;&quot;&quot;&quot;&lt;script label=&quot;...&quot;&gt;...&lt;/script&gt;&quot;&quot;&quot;
* ''~HTML-based links:''&lt;br&gt;&amp;nbsp;&amp;nbsp;&quot;&quot;&quot;&lt;html&gt;&lt;a href=&quot;...&quot;&gt;...&lt;/a&gt;&lt;/html&gt;&quot;&quot;&quot;
* ''transcluded links:'' (where the output of the specified ~TiddlerName contains a link)&lt;br&gt;&amp;nbsp;&amp;nbsp;&quot;&quot;&quot;&lt;&lt;tiddler TiddlerName&gt;&gt;&quot;&quot;&quot; 
Then, ''embed the &quot;&quot;&quot;&lt;&lt;setIcon&gt;&gt;&quot;&quot;&quot; macro immediately following the generated link''.  The macro looks for the last rendered link element that occurs //within the same DOM container// and adds the specified image to that link.  If an optional find:&quot;...&quot; parameter is provided, then the macro looks for a matching link that starts with the indicated label, working backward from the last rendered link within the DOM container.

Note: links embedded via the &quot;&quot;&quot;&lt;&lt;tiddler&gt;&gt;&quot;&quot;&quot; macro or HTML syntax are rendered within a //child// DOM element container.  To ensure that &quot;&quot;&quot;&lt;&lt;setIcon&gt;&gt;&quot;&quot;&quot; will find the correct link, you can isolate the child DOM element container along with the associated &quot;&quot;&quot;&lt;&lt;setIcon&gt;&gt;&quot;&quot;&quot; macro that follows it by enclosing both elements within a surrounding SPAN 'class wrapper' element, like this:
{{{
{{span{&lt;&lt;tiddler SomeTranscludedLink&gt;&gt;&lt;&lt;setIcon ...&gt;&gt;}}}
{{span{&lt;html&gt;&lt;a href=&quot;...&quot;&gt;...&lt;/a&gt;&lt;/html&gt;&lt;&lt;setIcon ...&gt;&gt;}}}
}}}
This same technique should also be applied for any other macros that may generate output that is nested within their own containing DOM elements.  Similarly, link elements created by macros embedded directly in the ViewTemplate or EditTemplate using HTML syntax (i.e, &quot;&quot;&quot;&lt;span macro='...'&gt;&lt;/span&gt;&quot;&quot;&quot;) are also rendered within their own DOM element containers.  To ensure that the correct link is located, &quot;&quot;&quot;&lt;span macro='setIcon ...'&gt;&lt;/span&gt;&quot;&quot;&quot; should be inserted //within// the span that invokes the link-generating macro, like this:
{{{
&lt;span macro='...'&gt;
   &lt;span macro='setIcon ...'&gt;&lt;/span&gt;
&lt;/span&gt;
}}}
Alternatively, your can surround the paired link+icon sequence in an enclosing span, like this:
{{{
&lt;span&gt;
   &lt;span macro='...'&gt;&lt;/span&gt;
   &lt;span macro='setIcon ...'&gt;&lt;/span&gt;
&lt;/span&gt;
}}}
''In general, whether the link element is rendered in tiddler content or directly from a template, if you are uncertain when an 'isolation span' is needed, you can always choose to surround every link+icon sequence within a enclosing span, regardless of the type of link content being rendered.''
&lt;&lt;&lt;
!!!!!Examples
&lt;&lt;&lt;
''~TiddlyLink:'' [[About]]&lt;&lt;setIcon information.png&gt;&gt;
{{{
[[About]]&lt;&lt;setIcon information.png&gt;&gt;
}}}
''toolbar command:'' &lt;&lt;toolbar jump&gt;&gt;&lt;&lt;setIcon page_go.png&gt;&gt;
{{{
in tiddler content:
	&lt;&lt;toolbar jump&gt;&gt;&lt;&lt;setIcon page_go.png&gt;&gt;
in template definitions:
	&lt;span class='toolbar' macro='toolbar jump'&gt;
		&lt;span macro='setIcon page_go.png'&gt;&lt;/span&gt;
	&lt;/span&gt;
}}}
''slider macro:''&lt;&lt;slider &quot;&quot; PluginManager Plugins &quot;view installed plugin status&quot;&gt;&gt;&lt;&lt;setIcon cog.png&gt;&gt;
{{{
in tiddler content:
	&lt;&lt;slider &quot;&quot; PluginManager Plugins &quot;view installed plugin status&quot;&gt;&gt;&lt;&lt;setIcon cog.png&gt;&gt;
in template definitions:
	&lt;span macro='slider ...'&gt;
		&lt;span macro='setIcon page_go.png'&gt;&lt;/span&gt;
	&lt;/span&gt;
}}}
''nested (inline) slider:'' +++[settings]&lt;&lt;list filter [tag[settings]]&gt;&gt;===&lt;&lt;setIcon wrench.png&gt;&gt;
{{{
+++[settings]
	&lt;&lt;list filter [tag[settings]]&gt;&gt;
===&lt;&lt;setIcon wrench.png&gt;&gt;
}}}
''onclick script:'' &lt;script label=&quot;print document&quot;&gt;window.print();&lt;/script&gt;&lt;&lt;setIcon printer.png&gt;&gt;
{{{
&lt;script label=&quot;print document&quot;&gt;
	window.print();
&lt;/script&gt;&lt;&lt;setIcon printer.png&gt;&gt;
}}}
''tiddler macro:'' {{span{&lt;&lt;tiddler SiteUrl&gt;&gt;&lt;&lt;setIcon exclamation.png&gt;&gt;}}}
{{{
in tiddler content:
	{{span{&lt;&lt;tiddler SiteUrl&gt;&gt;&lt;&lt;setIcon exclamation.png&gt;&gt;}}}
in template definitions:
	&lt;span macro='tiddler ...'&gt;
		&lt;span macro='setIcon exclamation.png'&gt;&lt;/span&gt;
	&lt;/span&gt;
}}}
''tabs macro:'' {{span{&lt;&lt;tabs chkDemo About About About Legal Legal LegalStatements&gt;&gt;&lt;&lt;setIcon information.png find:&quot;About&quot;&gt;&gt;&lt;&lt;setIcon exclamation.png find:&quot;Legal&quot;&gt;&gt;}}}
{{{
in tiddler content:
	{{span{&lt;&lt;tabs chkTest About ... Legal ...&gt;&gt;&lt;&lt;setIcon information.png find:&quot;About&quot;&gt;&gt;&lt;&lt;setIcon exclamation.png find:&quot;Legal&quot;&gt;&gt;}}}
in template definitions:
	&lt;span macro='tabs chkDemo About ... Legal ...&gt;
		&lt;span macro='setIcon information.png find:&quot;About&quot;'&gt;&lt;/span&gt;
		&lt;span macro='setIcon exclamation.png find:&quot;Legal&quot;'&gt;&lt;/span&gt;
        &lt;/span&gt;
}}}
''HTML link:'' {{span{&lt;html&gt;&lt;a href=&quot;http://www.TiddlyWiki.com&quot;&gt;TiddlyWiki.com&lt;/a&gt;&lt;/html&gt;&lt;&lt;setIcon server_go.png&gt;&gt;}}}
{{{
in tiddler content:
	{{span{&lt;html&gt;&lt;a href=&quot;http://www.TiddlyWiki.com&quot;&gt;TiddlyWiki.com&lt;/a&gt;&lt;/html&gt;&lt;&lt;setIcon server_go.png&gt;&gt;}}}
in template definitions:
	&lt;span&gt;
		&lt;a href=&quot;http://www.TiddlyWiki.com&quot;&gt;TiddlyWiki.com&lt;/a&gt;
		&lt;span macro='setIcon server_go.png'&gt;&lt;/span&gt;
	&lt;/span&gt;
}}}
''macro link:'' {{span{&lt;&lt;saveChanges&gt;&gt;&lt;&lt;setIcon disk.png&gt;&gt;}}}
{{{
in tiddler content:
	{{span{&lt;&lt;saveChanges&gt;&gt;&lt;&lt;setIcon disk.png&gt;&gt;}}}
in template definitions:
	&lt;span macro='saveChanges'&gt;
		&lt;span macro='setIcon disk.png'&gt;&lt;/span&gt;
	&lt;/span&gt;
}}}
&lt;&lt;&lt;
!!!!!Configuration
&lt;&lt;&lt;
&lt;&lt;option chkIconsShowImage&gt;&gt; show icons on links //(unchecked=text-only)//
^^{{{&lt;&lt;option chkIconsShowImage&gt;&gt;}}}^^
&lt;&lt;option chkIconsShowText&gt;&gt; include link text with images //(unchecked=icons-only, ignored if no icons displayed)//
^^{{{&lt;&lt;option chkIconsShowText&gt;&gt;}}}^^
default image style: {{stretch{&lt;&lt;option txtIconsCSS&gt;&gt;}}}
^^{{{&lt;&lt;option txtIconsCSS&gt;&gt;}}}^^
&lt;&lt;&lt;
!!!!!Revisions
&lt;&lt;&lt;
2011.10.02 1.9.1 use plain text instead of innerHTML for link tooltips
2011.10.02 1.9.0 added 'find:...' macro param (for use with tabsets)
2008.05.11 1.8.0 added optional 'notext' value for iconpos to force text to be hidden for specific links
2008.05.11 1.7.0 support use within template definitions by looking for nearest link using: siblings, children, parents, or cousins.  Also, major documentation re-write with improved examples
2008.05.11 1.6.0 added optional iconpos param to control icon placement (&quot;left&quot; or &quot;right&quot;, default=&quot;left&quot;)
2008.05.10 1.5.0 converted to plugin/macro and reduced code size by moving documentation into SetIconPluginInfo
2008.05.10 1.4.0 handle links contained in {{{&lt;&lt;tiddler&gt;&gt;}}} and {{{&lt;html&gt;...&lt;/html}}}
2008.05.10 1.3.0 added support for setting styles on images
2008.05.09 1.2.0 handle links created by TiddlyLinks, sliders, and nested sliders syntax
2008.05.09 1.1.0 added support for external URLs and options for displaying text with images
2008.05.09 1.0.0 initial release (as inline script)
&lt;&lt;&lt;</pre>
</div>
<div title="ShadowNotes" modifier="Christopher Wilson" created="201305222215" modified="201404121432" tags="excludeTimeline" content-type="" changecount="2">
<pre>&lt;&lt;list shadowed&gt;&gt;</pre>
</div>
<div title="SharePriceData" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404140730" modified="201404140748" tags="example-data excludeLists excludeTimeline" changecount="2" content-type="">
<pre>|Month|SharePrice|
|1|143|
|2|270|
|3|250|
|4|251|
|5|253|
|6|250|
|7|249|
|8|243|
|9|270|
|10|290|
|11|320|
|12|300|</pre>
</div>
<div title="SharedTiddlersPlugin" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405090411" tags="systemConfig excludeTimeline systemConfigDisable" changecount="2" content-type="text/x-tiddlywiki">
<pre>/***
|''Name''|SharedTiddlersPlugin|
|''Description''|Introduces a possibility to use tiddlers from other ~TiddlyWikis (with or without importing them)|
|''Documentation''|http://yakovl.bplaced.net/TW/STP/STP.html#SharedTiddlersPluginInfo|
|''Type''|plugin|
|''Version''|2.4.0|
|''~CoreVersion''|2.2.6|
|''Requires''|UpToDateFiltersPlugin|
|''Requirements note''|[[UpToDateFiltersPlugin|http://yakovl.bplaced.net/TW/ExtraFilters.html#UpToDateFiltersPlugin]] is necessary only for TW below v2.6.2|
|''Source''|http://yakovl.bplaced.net/TW/STP/STP.html#SharedTiddlersPlugin|
|''Author''|Yakov Litvin|
|''Forked from''|[[IncludePlugin|http://tiddlywiki.abego-software.de/#IncludePlugin]], by Udo Borkowski|
|''Contact''|see [[docs|SharedTiddlersPluginInfo]]|
|''Copyright''|Yakov Litvin, 2013|
|''Licence''|[[BSD-like open source license|http://yakovl.bplaced.net/TW/STP/STP.html#%5B%5BYakov%20Litvin%20Public%20Licence%5D%5D]] |
|&gt;| In this tiddler, the code is minified and hidden; the full code can be found [[here|http://yakovl.bplaced.net/TW/STP/STP.html#SharedTiddlersPluginCode]]. |
''Config:''
***/
//{{{
config.options.STP_hijackPrettyLink = true;
config.options.STP_hijackImageFormatter = true;
//}}}
// /%
config.filters.all=function(l,r){if(&quot;with included&quot;==r[3]){var f,n=this.reverseLookup();for(f=0;f&lt;n.length;f++)l.pushUnique(n[f])}else this.forEachTiddler(function(f,n){l.pushUnique(n)});return l};config.filters.includedFrom=function(l,r){var f=twWeb.checkNodeNotation(r[3]),f=f?twWeb.getNodeUrl(f):r[3];if(!f)return[];for(var n=0;n&lt;l.length;n++)l[n].getIncludeURL()!=f&amp;&amp;l.splice(n--,1);return l};config.filters.external=function(l,r){for(var f=0;f&lt;l.length;f++)l[f].getIncludeURL()||l.splice(f--,1);return l};
config.filters.internal=function(l,r){for(var f=0;f&lt;l.length;f++)l[f].getIncludeURL()&amp;&amp;l.splice(f--,1);return l};
(function(){function l(){var a={};this.add=function(b,c,d,e){if(d||e)void 0==a[b]&amp;&amp;(a[b]={urlsSubs:[],urlsSubsSh:[]}),d&amp;&amp;a[b].urlsSubs.pushUnique(c),e&amp;&amp;a[b].urlsSubsSh.pushUnique(c)};this.getSubsUrl=function(b){b=a[b];return null==b||0==b.urlsSubs.length?null:b.urlsSubs[0]};this.getSubsShUrl=function(b){b=a[b];if(null==b||0==b.urlsSubsSh.length)return null;var c,d;for(c=0;c&lt;b.urlsSubs.length;c++)for(d=0;c&lt;b.urlsSubsSh.length;d++)if(b.urlsSubs[c]==b.urlsSubsSh[d])return b.urlsSubs[c];return b.urlsSubsSh[0]};
this.containSubsUrl=function(b,c){var d=a[b];return null==d?!1:d.urlsSubs.contains(c)};this.containSubsShUrl=function(b,c){var d=a[b];return null==d?!1:d.urlsSubsSh.contains(c)};this.removeByUrl=function(b){var c,d,e;for(c in a){d=a[c];for(e=0;e&lt;d.urlsSubs.length;e++)d.urlsSubs[e]==b&amp;&amp;d.urlsSubs.splice(e--,1);for(e=0;e&lt;d.urlsSubsSh.length;e++)d.urlsSubsSh[e]==b&amp;&amp;d.urlsSubsSh.splice(e--,1)}}}function r(){var a={},b={};this.init=function(){void 0==config.options.chkWarnOnSharedTiddlersConflicts&amp;&amp;(config.options.chkWarnOnSharedTiddlersConflicts=
!0);void 0==config.options.chkAlertOnSharedTiddlersConflicts&amp;&amp;(config.options.chkAlertOnSharedTiddlersConflicts=!1)};this.checkNew=function(c,d,e,h){var g=function(a,b){var c=a[b.title];if(c){var e=c[b.url];e?!e.subs&amp;&amp;b.substitute&amp;&amp;(c[b.url]={subs:b.substitute,warned:!1}):c[b.url]={subs:b.substitute,warned:!1}}else c=a[b.title]={},c[b.url]={subs:b.substitute,warned:!1}},k=x(function(a,b){if(b!=d)return a.fetchTiddler(c)})||window.sharedTiddlersAPI.orig_fetchTiddler(c);k&amp;&amp;(k=k.getIncludeURL(),a[c]||
g(a,{title:c,url:k||&quot;main store&quot;,substitute:k?q.containSubsUrl(c,k):void 0}),g(a,{title:c,url:d,substitute:e}),h&amp;&amp;(h=x(function(a,b){if(b!=d&amp;&amp;q.containSubsShUrl(c,b))return a.fetchTiddler(c)})||window.sharedTiddlersAPI.orig_fetchTiddler(c)))&amp;&amp;(h=h.getIncludeURL(),b[c]||g(b,{title:c,url:h||&quot;main store&quot;,substitute:h?q.containSubsShUrl(c,h):void 0}),g(b,{title:c,url:d,substitute:e}))};this.markNodeUnloaded=function(c){for(var d in a)a[d][c]&amp;&amp;delete a[d][c];for(d in b)b[d][c]&amp;&amp;delete b[d][c]};this.notify=
function(){var c=config.options.chkWarnOnSharedTiddlersConflicts,d=config.options.chkAlertOnSharedTiddlersConflicts;if(d||c){var e=function(a,b,c){var e=&quot;&quot;,h=function(a){e+=&quot;\n&quot;+a;b&amp;&amp;v(a)},d,p,f,l,m;for(d in a){p=a[d];l=!1;for(f in p)p[f].subs&amp;&amp;(l=!0);m=0;for(f in p)p[f].subs==l&amp;&amp;m++;if(2&gt;m)break;m=!1;for(f in p)p[f].subs!=l||p[f].warned||(m=!0);if(m){h(&quot;* &quot;+d+&quot; in:&quot;);for(f in p)p[f].subs!=l||p[f].warned||(h(&quot;** &quot;+f),c&amp;&amp;(p[f].warned=!0));l&amp;&amp;h(&quot;  (with the subsitute priority)&quot;)}}return e},h=&quot;&quot;;e(a,
!1,!1)&amp;&amp;(h+=&quot;New conflicts:&quot;,c&amp;&amp;v(h),h+=e(a,c,!0));e(b,!1,!1)&amp;&amp;(h&amp;&amp;(h+=&quot;\n&quot;),h+=&quot;New conflicts among tiddlers competing for substituting shadows:&quot;,c&amp;&amp;v(&quot;New conflicts among tiddlers competing for substituting shadows:&quot;),h+=e(b,c,!0));d&amp;&amp;h&amp;&amp;alert(h)}}}function f(){var a={};this.isUsed=function(b){return a[b]?!0:!1};this.setUsed=function(b){a[b]=1};this.getUsed=function(){return jQuery.extend(!0,{},a)};this.markUnused=function(b){for(var c in b)a[c]=void 0}}function n(){var a={},b={},c={},d;this.includeUsages=
new f;this.setSelfNodeName=function(a){d=a};this.getSelfNodeName=function(){return d};this.setNodeDesc=function(b,c){this.getNodeDesc(b)?this.addConflict(b,c):a[b]=c;this.callWaitingTasks(b)};this.getNodeDesc=function(b){return a[b]};this.deleteNodeDesc=function(b){a[b]=null};this.getNodeUrl=function(a){return(a=this.getNodeDesc(a))?a.url:null};this.compareNodeDesc=function(a,b){return a.url==b.url?a:null};this.setNodeNotation=function(a){return&quot;node: &quot;+a};this.checkNodeNotation=function(a){return(a=
/node: (.*)/.exec(a))?a[1]:null};this.addConflict=function(a,c){var d=this.compareNodeDesc(c,this.getNodeDesc(a));d?(this.deleteNodeDesc(a),this.setNodeDesc(a,d)):(b[a]?b[a].push(c):b[a]=[c],alert(&quot;Warning: more than one description of the &quot;+a+&quot; node was pushed. The earlier version is kept.&quot;))};this.setWaitingTask=function(a,b,d){b={action:b,self:d};c[a]?c[a].push(b):c[a]=[b];this.getNodeUrl(a)&amp;&amp;this.callWaitingTasks(a)};this.callWaitingTasks=function(a){var b=c[a];if(b)for(var d=0;d&lt;b.length;d++)b[d].action.call(b[d].self);
c[a]=null};this.addNodeDesc=function(a,b){this.setNodeDesc(a,{url:b})}}window.abego||(window.abego={});if(abego.TiddlyWikiIncluder)alert(&quot;Warning: abego.TiddlyWikiIncluder already exists, so probably two copies of SharedTiddlersPlugin and/or IncludePlugin are installed and activated. It is highly recommended to deactivate all but one copy. You can find those by searching 'abego.TiddlyWikiIncluder'.&quot;);else{var v=function(a,b){displayMessage(a,b);console.log(a)},w=function(a){return 0!=a.search(/^(?:((http(s)?)|(file)):)|(.\:\\)|(\\\\)|(\/)/)},
A=function(a){return-1&lt;a.lastIndexOf(&quot;/&quot;)?a.substr(0,a.lastIndexOf(&quot;/&quot;)+1):&quot;&quot;},F=function(a){0!=a.search(/^((http(s)?)|(file)):/)&amp;&amp;(a=w(a)?w(a)&amp;&amp;document.location.toString()?A(document.location.toString())+a:a:&quot;file://&quot;+a,a=a.replace(/\\/mg,&quot;/&quot;));return a},K=function(a,b,c){if(2&gt;version.major||2==version.major&amp;&amp;7&gt;version.minor){var d={type:&quot;GET&quot;,url:a,processData:!1,data:void 0,cache:!1,beforeSend:function(a){},complete:function(d,e){var k;a:{try{k=!d.status&amp;&amp;&quot;file:&quot;===location.protocol||200&lt;=d.status&amp;&amp;
300&gt;d.status||304===d.status||1223===d.status;break a}catch(f){}k=!1}k?b(!0,c,d.responseText,a,d):b(!1,c,null,a,d)}};try{window.Components&amp;&amp;window.netscape&amp;&amp;window.netscape.security&amp;&amp;-1==document.location.protocol.indexOf(&quot;http&quot;)&amp;&amp;window.netscape.security.PrivilegeManager.enablePrivilege(&quot;UniversalBrowserRead&quot;)}catch(e){}return jQuery.ajax(d)}return httpReq(&quot;GET&quot;,a,b,c)},L=function(a,b,c){a=F(a);K(a,function(a,c,h,g,k){return a?b(h,g,c):b(void 0,g,c,&quot;Error loading %0&quot;.format([g]))},c)},M=function(a,
b,c,d){var e=function(b,e){d&amp;&amp;d(b,&quot;stp_loadTiddlyWikiStore&quot;,e,a,c)},h=function(d){e(&quot;Error when loading %0&quot;.format([a]),&quot;Failed&quot;);b(void 0,a,c,d);return d};e(&quot;Start loading %0&quot;.format([a]),&quot;Started&quot;);L(a,function(d,k,f,l){if(void 0===d)h(l);else{e(&quot;Processing %0&quot;.format([a]),&quot;Processing&quot;);try{var m=new TiddlyWiki,n=m.importTiddlyWiki(d)?null:&quot;Problem with importing TiddlyWiki, probable reason is: &quot;+&quot;The file '%0' does not appear to be a valid TiddlyWiki file&quot;.format([a]);n?h(n):(e(&quot;Loaded %0&quot;.format([a]),
&quot;Done&quot;),b(m,a,c))}catch(p){h(exceptionText(p))}}},c)},B,m={},C=[],t,D=[],u,q=new l;conflicts=new r;conflicts.init();window.sharedTiddlersAPI={};var N=function(){var a=C;C=[];if(a.length)for(var b=0;b&lt;D.length;b++)D[b](a)},y,G=function(){void 0!==t&amp;&amp;clearInterval(t);y=0;var a=function(){config.extensions.SharedTiddlersPlugin.sendProgress(&quot;&quot;,&quot;&quot;,&quot;Done&quot;)};t=setInterval(function(){y++;10&gt;=y||(clearInterval(t),t=void 0,config.extensions.SharedTiddlersPlugin.sendProgress(&quot;Refreshing...&quot;,&quot;&quot;,&quot;&quot;),refreshDisplay(),
setTimeout(a,0))},1)},x=function(a){var b,c;for(c in m){var d=config.extensions.SharedTiddlersPlugin.getStore(c);if(d&amp;&amp;(b=a(d,c)))return b}},H=function(){if(!window.store)return setTimeout(H,100);var a=store.fetchTiddler;window.sharedTiddlersAPI.orig_fetchTiddler=a;store.fetchTiddler=function(b){var c;if(c=q.getSubsUrl(b))return m[c].fetchTiddler(b);if(c=a.apply(this,arguments))return c;if(void 0!==config.shadowTiddlers[b]){if(c=q.getSubsShUrl(b))return m[c].fetchTiddler(b)}else return b==config.macros.newTiddler.title?
void 0:x(function(a,c){return a.fetchTiddler(b)})};config.extensions.SharedTiddlersPlugin.getIncludes().length&amp;&amp;G()},I=function(){if(!window.store)return setTimeout(I,100);var a=store.getTiddlerText(&quot;IncludeList&quot;);a&amp;&amp;wikify(a,document.createElement(&quot;div&quot;),void 0,store.fetchTiddler(&quot;IncludeList&quot;))},E=function(a){return function(){var b=store.forEachTiddler;store.forEachTiddler=function(a){var d={},e=function(b,e){d[b]||q.getSubsUrl(b)&amp;&amp;q.getSubsUrl(b)!=e.getIncludeURL()||(d[b]=1,a.apply(this,arguments))};
b.call(store,e);for(var h in config.shadowTiddlers)q.getSubsShUrl(h)||(d[h]=1);d[config.macros.newTiddler.title]=1;x(function(a,b){a.forEachTiddler(e)})};try{return a.apply(this,arguments)}finally{store.forEachTiddler=b}}},s=function(a,b){return a[b]=E(a[b])};config.extensions.SharedTiddlersPlugin={setProgressFunction:function(a){u=a},getProgressFunction:function(a){return u},sendProgress:function(a,b,c){u&amp;&amp;u.apply(this,arguments)},onError:function(a,b){v(&quot;Error when including '%0':\n%1&quot;.format([a,
b]))},hasPendingIncludes:function(){for(var a in m){var b=config.extensions.SharedTiddlersPlugin.getState(a);if(&quot;waiting&quot;==b||&quot;loading&quot;==b)return!0}return!1},getIncludes:function(){var a=[],b;for(b in m)a.push(b);return a},getState:function(a){var b=m[a];return b?&quot;string&quot;==typeof b?b:null:&quot;No include specified for %0&quot;.format([a])},getStore:function(a){return(a=m[a])&amp;&amp;a instanceof TiddlyWiki?a:null},getFunctionUsingForReallyEachTiddler:E,useForReallyEachTiddler:s,addListener:function(a){D.push(a)},
reload:function(a){var b=a.urlOrNodeParam;if(b)for(f=0;f&lt;b.length;f++)k=twWeb.checkNodeNotation(b[f]),b[f]=k?twWeb.getNodeUrl(k):b[f],b[f]||b.splice(f--,1);if(void 0===a[&quot;import&quot;]||null===a[&quot;import&quot;])a[&quot;import&quot;]=!0;if(void 0===a.wikify||null===a.wikify)a.wikify=!0;var c,d=twWeb.includeUsages.getUsed(),e,h,g,k,f;for(c in d){e=c.substring(10,c.length-2);h=e.readMacroParams();e=e.parseParams(&quot;url&quot;,null,!0,!1,!0);g=e[0].url[0];g=(k=twWeb.checkNodeNotation(g))?twWeb.getNodeUrl(k):g;k=!0;if(b)for(f=0;f&lt;
b.length;f++)g==b[f]&amp;&amp;(k=!1);else k=!1;if(!a[&quot;import&quot;]&amp;&amp;getParam(e,&quot;import&quot;,void 0)||!a.eval&amp;&amp;h.contains(&quot;eval&quot;)||!a.wikify&amp;&amp;h.contains(&quot;wikify&quot;))k=!0;k?delete d[c]:(m[g]=void 0,q.removeByUrl(g),conflicts.markNodeUnloaded(g))}twWeb.includeUsages.markUnused(d);for(c in d)wikify(c,document.createElement(&quot;div&quot;),void 0,null)},importIncluded:function(a,b){b=void 0==b?1:parseInt(b);var c,d,e={tiddler:null},h=function(a){store.addTiddler(a);store.setDirty(!0);e.status=0;e.tiddler=a;e.from=f};if(a instanceof
Tiddler)e.tiddler=window.sharedTiddlersAPI.orig_fetchTiddler(a.title),c=jQuery.extend(!0,new Tiddler,a);else return e.status=-1,e.errorText=&quot;not a Tiddler instance&quot;,e;var f;(f=c.getIncludeURL())&amp;&amp;c.deleteIncludeURL();switch(b){case 1:h(c);break;case 3:confirm(c.title+&quot; from &quot;+f+&quot; is availabe, import?&quot;)&amp;&amp;h(c);break;case 2:d=window.sharedTiddlersAPI.orig_fetchTiddler(c.title);(!d||d.modified&lt;c.modified)&amp;&amp;h(c);break;case 4:d=window.sharedTiddlersAPI.orig_fetchTiddler(c.title);(!d||d.modified&lt;c.modified)&amp;&amp;
confirm(&quot;Up-to-date &quot;+c.title+&quot; from &quot;+f+&quot; is availabe, import?&quot;)&amp;&amp;h(c);break;default:e.status=-1,e.errorText=&quot;unknown import mode&quot;}return e},importAndLog:function(a,b){var c=a.title,d=config.extensions.SharedTiddlersPlugin.importIncluded(a,b);switch(d.status){case 0:console.log(&quot;imported: &quot;+c+&quot; from &quot;+d.from);break;case -1:console.log(&quot;error importing &quot;+c+&quot;: &quot;+d.errorText)}}};window.sharedTiddlersAPI.forReallyEachTiddler=function(a){E(function(){store.forEachTiddler(a)}).call(store)};abego.TiddlyWikiIncluder=
{getIncludes:config.extensions.SharedTiddlersPlugin.getIncludes,getState:config.extensions.SharedTiddlersPlugin.getState,getStore:config.extensions.SharedTiddlersPlugin.getStore};window.sharedTiddlersAPI.getIncludes=config.extensions.SharedTiddlersPlugin.getIncludes;window.sharedTiddlersAPI.getState=config.extensions.SharedTiddlersPlugin.getState;window.sharedTiddlersAPI.getStore=config.extensions.SharedTiddlersPlugin.getStore;window.sharedTiddlersAPI.importAndLog=config.extensions.SharedTiddlersPlugin.importAndLog;
config.extensions.SharedTiddlersPlugin.include=function(a,b){void 0===B&amp;&amp;(B=void 0===config.options.chkUseInclude||config.options.chkUseInclude);if(B){var c=this,d=function(a){var d=function(b,d,f,g){void 0===b?(m[a]=g,c.onError(a,g)):(m[a]=b,m[a].orig_store=new TiddlyWiki,m[a].forEachTiddler(function(b,c){c.setIncludeURL(a);m[a].orig_store.addTiddler(c)}),m[a].clear(),e())},e=function(){var c=b.substitute,d=b.substituteShadows,f=b.importMode;if(null===config.extensions.SharedTiddlersPlugin.getStore(a))return setTimeout(e,
100);var g,l,n=m[a].orig_store.filterTiddlers(b.filterLine);for(g=0;g&lt;n.length;g++)l=jQuery.extend(!0,new Tiddler,n[g]),m[a].orig_store.fetchTiddler(l.title)&amp;&amp;(f?config.extensions.SharedTiddlersPlugin.importAndLog(l,f):(conflicts.checkNew(l.title,a,c,d),m[a].addTiddler(l)),b.evalTiddlers&amp;&amp;eval(l.text),b.wikifyTiddlers&amp;&amp;wikify(l.text,document.createElement(&quot;div&quot;),void 0,l));if(!f&amp;&amp;(c||d))for(g=0;g&lt;n.length;g++)q.add(n[g].title,a,c,d);conflicts.notify();store.slices={};b.noRefresh||(refreshAll(),story.refreshAllTiddlers());
C.push(a);setTimeout(N,void 0)},f=function(){m[a]=&quot;loading&quot;;M(a,d,null,u)};m[a]?e():(m[a]=&quot;waiting&quot;,b.delayMilliSeconds?setTimeout(f,b.delayMilliSeconds):f())},e=twWeb.checkNodeNotation(a);e?e!=twWeb.getSelfNodeName()&amp;&amp;twWeb.setWaitingTask(e,function(){var a=twWeb.getNodeUrl(e);d(a)},this):d(a)}};config.extensions.SharedTiddlersPlugin.addListener(G);config.shadowTiddlers.AdvancedOptions+=&quot;\n~IncludePlugin settings:\n&lt;&lt;option chkUseInclude&gt;&gt; Include ~TiddlyWikis\n&lt;&lt;option chkAlertOnSharedTiddlersConflicts&gt;&gt; Alert on tiddler name conflicts\n&lt;&lt;option chkWarnOnSharedTiddlersConflicts&gt;&gt; Display messages and write log in the browser console on conflicts\nIncludeList | IncludeState | ImportIncluded | [[help|http://yakovl.bplaced.net/TW/SharedTiddlersPlugin.html/#SharedTiddlersPluginInfo]]\n^^(Reload this ~TiddlyWiki to make changes become effective)^^&quot;;
config.shadowTiddlers.IncludeState=&quot;&lt;&lt;includeState&gt;&gt;&quot;;config.shadowTiddlers.ImportIncluded='| the url of the document to import from | &lt;&lt;option txtStoreUrl&gt;&gt;               |\n|    the filter of tiddlers to import    | &lt;&lt;option txtFilterTiddlersToImport&gt;&gt; |\n|           the importing mode           | &lt;&lt;option txtImportMode&gt;&gt;             |\n&lt;html&gt;&lt;a href=\'javascript:;\' onclick=\'\n\tvar storeUrl = config.options.txtStoreUrl,\n\t    params = {\n\t\tfilterLine: config.options.txtFilterTiddlersToImport,\n\t\timportMode: config.options.txtImportMode,\n\t\tnoRefresh: true,\n\t};\n\tif(!storeUrl)\n\t\treturn displayMessage(&quot;please specify the url to import from&quot;);\n\tif(!params.filterLine)\n\t\treturn displayMessage(&quot;please specify the filter of tiddlers to import&quot;);\n\tif(!sharedTiddlersAPI.getStore(storeUrl))\n\t\tdisplayMessage(&quot;warning: no store was loaded from &quot;+storeUrl+&quot; previously, trying now&quot;);\n\tconfig.extensions.SharedTiddlersPlugin.include(storeUrl,params);\n\'&gt;import (without saving)&lt;a/&gt;&lt;/html&gt;';
config.extensions.SharedTiddlersPlugin.getDefaultProgressFunction=function(){setStylesheet(&quot;.includeProgressState{\nbackground-color:#FFCC00;\nposition:absolute;\nright:0.2em;\ntop:0.2em;\nwidth:7em;\npadding-left:0.2em;\npadding-right:0.2em\n}\n&quot;,&quot;stp_Include&quot;);var a=function(){var a=document.createElement(&quot;div&quot;);a.className=&quot;includeProgressState&quot;;a.style.display=&quot;none&quot;;document.body.appendChild(a);return a}(),b=function(){setTimeout(function(){a.style.display=&quot;none&quot;},100)};return function(c,d,e,
f,g){&quot;Done&quot;==e||&quot;Failed&quot;==e?b():&quot;stp_loadTiddlyWikiStore&quot;==d?(y=0,&quot;Processing&quot;==e&amp;&amp;(removeChildren(a),createTiddlyText(a,&quot;Including...&quot;),a.style.display=&quot;block&quot;)):(removeChildren(a),createTiddlyText(a,c),a.style.display=&quot;block&quot;)}};config.extensions.SharedTiddlersPlugin.setProgressFunction(config.extensions.SharedTiddlersPlugin.getDefaultProgressFunction());config.macros.include={};config.macros.include.handler=function(a,b,c,d,e,f){b=d.source.substring(d.matchStart,d.nextMatch);pParams=e.parseParams(&quot;url&quot;,
null,!0,!1,!0);getFlag(pParams,&quot;hide&quot;,!1)||c.contains(&quot;hide&quot;)||createTiddlyText(createTiddlyElement(a,&quot;code&quot;),b);if(!twWeb.includeUsages.isUsed(b))for(twWeb.includeUsages.setUsed(b),a=pParams[0].url,c={delayMilliSeconds:parseInt(getParam(pParams,&quot;delay&quot;,&quot;0&quot;)),filterLine:getParam(pParams,&quot;filters&quot;,&quot;[all[-]]&quot;),substitute:c.contains(&quot;substitute&quot;),substituteShadows:c.contains(&quot;substituteShadows&quot;),noRefresh:c.contains(&quot;noRefresh&quot;),importMode:getParam(pParams,&quot;import&quot;,void 0),evalTiddlers:c.contains(&quot;eval&quot;),
wikifyTiddlers:c.contains(&quot;wikify&quot;)},e=0;a&amp;&amp;e&lt;a.length;e++)b=a[e],&quot;hide&quot;!=b&amp;&amp;&quot;substituteShadows&quot;!=b&amp;&amp;&quot;substitute&quot;!=b&amp;&amp;&quot;eval&quot;!=b&amp;&amp;&quot;wikify&quot;!=b&amp;&amp;&quot;noRefresh&quot;!=b&amp;&amp;config.extensions.SharedTiddlersPlugin.include(b,c)};config.macros.reloadIncluded={};config.macros.reloadIncluded.handler=function(a,b,c,d,e,f){var g=e.parseParams(&quot;url&quot;,null,!0,!1,!0);b=getParam(g,&quot;label&quot;,&quot;refresh&quot;);c=getParam(g,&quot;tooltip&quot;,void 0);d=getParam(g,&quot;class&quot;,&quot;&quot;);e=getParam(g,&quot;urls&quot;,void 0);var g=getParam(g,&quot;reloadParams&quot;,&quot;{}&quot;),k=JSON&amp;&amp;
JSON.parse(g)||jQuery.parseJSON(g);k.urlOrNodeList=e?JSON&amp;&amp;JSON.parse(e)||jQuery.parseJSON(e):void 0;if(!c)if(k.urlOrNodeList){c=&quot;refresh '&quot;+k.urlOrNodeList[0]+&quot;'&quot;;for(e=1;e&lt;k.urlOrNodeList.length;e++)c+=&quot;, '&quot;+k.urlOrNodeList[e]+&quot;'&quot;;c+=&quot; nodes&quot;}else c=&quot;refresh all included nodes&quot;;jQuery(a).append(jQuery(&quot;&lt;a&gt;&quot;,{text:b,title:c,&quot;class&quot;:d,href:&quot;javascript:;&quot;}).click(function(){var a=function(){if(config.extensions.SharedTiddlersPlugin.hasPendingIncludes())setTimeout(a,100);else{var b=f.title;story.displayTiddler(this,
b,story.chooseTemplateForTiddler(b,DEFAULT_VIEW_TEMPLATE))}};config.extensions.SharedTiddlersPlugin.reload(k);setTimeout(a,100)}))};config.macros.includeState={};config.macros.includeState.handler=function(a,b,c,d,e,f){var g=function(){removeChildren(k);var a=wikify,b;b=&quot;&quot;;var c=config.extensions.SharedTiddlersPlugin.getIncludes();if(c.length){b+=&quot;|!Address|!State|\n&quot;;for(var d=0;d&lt;c.length;d++){var e=c[d];b+=&quot;|{{{&quot;+e+&quot;}}}|&quot;;e=config.extensions.SharedTiddlersPlugin.getState(e);b+=e?&quot;{{{&quot;+e+&quot;}}}&quot;:
&quot;included&quot;;b+=&quot;|\n&quot;}b+=&quot;|includeState|k\n&quot;}else b=&quot;{{noIncludes{\nNo TiddlyWiki is included or including is disabled (see AdvancedOptions)\n}}}\n&quot;;a(b,k);config.extensions.SharedTiddlersPlugin.hasPendingIncludes()&amp;&amp;setTimeout(g,500)},k=createTiddlyElement(a,&quot;div&quot;);setTimeout(g,0)};Tiddler.prototype.isIncluded=function(){return void 0!=this.includeURL};Tiddler.prototype.getIncludeURL=function(){return this.includeURL};Tiddler.prototype.setIncludeURL=function(a){this.includeURL=a};Tiddler.prototype.deleteIncludeURL=
function(){delete this.includeURL};config.extensions.SharedTiddlersPlugin.orig_Tiddler_isReadOnly=Tiddler.prototype.isReadOnly;Tiddler.prototype.isReadOnly=function(){return config.extensions.SharedTiddlersPlugin.orig_Tiddler_isReadOnly.apply(this,arguments)||this.isIncluded()};var z={getMissingLinks:1,getOrphans:1,getTags:1,reverseLookup:1,updateTiddlers:1},J;for(J in z)s(TiddlyWiki.prototype,J);twWeb=new n;config.macros.describeNode={};config.macros.describeNode.handler=function(a,b,c,d,e,f){b=
d.source.substring(d.matchStart,d.nextMatch);createTiddlyText(createTiddlyElement(a,&quot;code&quot;),b);f=f.getIncludeURL();a=c[0];c=c[1];if(&quot;self&quot;==c){if((c=twWeb.getSelfNodeName())&amp;&amp;c!=a)return alert(&quot;The '&quot;+c+&quot;' alias is already assigned as the name of the current TiddlyWiki; the new attempt to assign '&quot;+a+&quot;' is ignored.&quot;);twWeb.setSelfNodeName(a)}else c=w(c)&amp;&amp;f?A(f)+c:c,c=F(c),twWeb.addNodeDesc(a,c)};s=function(a){for(var b=0;b&lt;config.formatters.length;b++)if(config.formatters[b].name==a)return b;return null};
config.options.STP_hijackPrettyLink&amp;&amp;(z=s(&quot;prettyLink&quot;),config.extensions.SharedTiddlersPlugin.orig_prettyLinkFormatter=config.formatters[z],config.formatters[z]={name:&quot;prettyLink&quot;,match:&quot;\\[\\[&quot;,lookaheadRegExp:/\[\[(.*?)(?:\|(~)?(.*?))?\]\](?:(?:@(\w+))(?:@([\w\s\:]+)@)?)?/mg,handler:function(a){this.lookaheadRegExp.lastIndex=a.matchStart;var b=this.lookaheadRegExp.exec(a.source);if(b&amp;&amp;b.index==a.matchStart){config.extensions.SharedTiddlersPlugin.orig_prettyLinkFormatter.handler(a);var c=b[4]?b[4]:
void 0,d=a.tiddler?a.tiddler.getIncludeURL():null,c=c?twWeb.setNodeNotation(c):d?d:void 0,d='&quot;'+c+'&quot; filters:&quot;[['+(b[3]?b[3]:b[1])+']]&quot; hide noRefresh ';b[5]&amp;&amp;(d+=b[5]);c&amp;&amp;config.macros.include.handler(a.output,&quot;include&quot;,d.readMacroParams(!0),a,d,a.tiddler);a.nextMatch=this.lookaheadRegExp.lastIndex}}});config.options.STP_hijackImageFormatter&amp;&amp;(s=s(&quot;image&quot;),config.extensions.SharedTiddlersPlugin.orig_imageFormatterHandler=config.formatters[s].handler,config.formatters[s].handler=function(a){var b=
a.output.lastChild;config.extensions.SharedTiddlersPlugin.orig_imageFormatterHandler.apply(this,arguments);if(a.output.lastChild!=b){var b=a.output.lastChild,c=a.tiddler?a.tiddler.getIncludeURL():&quot;&quot;,d=jQuery(b).attr(&quot;src&quot;);b.src=w(d)&amp;&amp;c?A(c)+d:d}});config.extensions.SharedTiddlersPlugin.orig_editHandler=config.macros.edit.handler;config.macros.edit.handler=function(a,b,c,d,e,f){var g=f.getIncludeURL();if(&quot;text&quot;==c[0]&amp;&amp;g){var k=createTiddlyElement(null,&quot;div&quot;);k.className=&quot;manageIncludedPanel&quot;;createTiddlyText(k,
&quot;manage the included tiddler: &quot;);createExternalLink(k,g+&quot;#[[&quot;+f.title+&quot;]]&quot;,&quot;open in the source TiddlyWiki&quot;);readOnly||(createTiddlyText(k,&quot; | &quot;),jQuery(k).append(jQuery(&quot;&lt;a&gt;&quot;,{href:&quot;javascript:;&quot;,title:&quot;import this tiddler&quot;,text:&quot;import&quot;}).click(function(){config.extensions.SharedTiddlersPlugin.importAndLog(f,1)})));createTiddlyText(k,&quot; | &quot;);config.macros.reloadIncluded.handler(k,&quot;&quot;,null,null,&quot;urls:'[\&quot;&quot;+g+&quot;\&quot;]'&quot;,f);a.appendChild(k)}return config.extensions.SharedTiddlersPlugin.orig_editHandler(a,
b,c,d,e,f)};H();setTimeout(I,100)}})();
//%/ //</pre>
</div>
<div title="ShowReferencesPlugin" modifier="Christopher Wilson" created="201305261638" modified="201404101841" tags="systemConfig excludeTimeline" changecount="2">
<pre>/***
I edited this code so that for the comma separated list, the last item does not have a comma following it.

|Name|[[ShowReferencesPlugin]]|
|Source|http://www.TiddlyTools.com/#ShowReferencesPlugin|
|Version|2.0.0|
|Author|Eric Shulman|
|License|http://www.TiddlyTools.com/#LegalStatements|
|~CoreVersion|2.1|
|Type|plugin|
|Description|format and display references to the current tiddler|
!!!!!Documenatation
&gt;see [[ShowReferencesPluginInfo]]
!!!!!Revisions
&lt;&lt;&lt;
2011.03.01 2.0.0 converted to plugin and added optional TiddlerName and message params
| Please see [[ShowReferencesPluginInfo]] for previous revision details |
2006.09.04 1.0.0 original release (transclusion)
&lt;&lt;&lt;
!!!!!Code
***/
//{{{
version.extensions.ShowReferencesPlugin =
	{ major:2, minor:0, revision:0, date:new Date(2011,3,1) };
config.macros.showReferences = {
	defaultFormat: '[[%0]], ',
	fallbackMsg: 'no references',
	init: function() {
		config.shadowTiddlers.ShowReferences =
			'&lt;&lt;showReferences &quot;$1&quot; [[$2]] &quot;$3&quot;&gt;&gt;';
		config.annotations.ShowReferences =
			'created by ShowReferencesPlugin';
	},
	handler: function(place,macroName,params,wikifier,paramString,tiddler) {
		var here=story.findContainingTiddler(place);
		var tid=here?here.getAttribute('tiddler'):'';
		var fmt=params[0];	if (!fmt||fmt=='$1')	 fmt	=this.defaultFormat;
		var title=params[1];	if (!title||title=='$2') title	=tid;
		var msg=params[2];	if (!msg||msg=='$3')	 msg	=this.fallbackMsg;
		var refs=store.getReferringTiddlers(title);
		var out='';
		var end='[[%0]]';
		var test=refs.length-1;
		fmt=fmt.unescapeLineBreaks();
		for(var r=0; r&lt;refs.length; r++)
			if(refs[r].title!=title &amp;&amp; !refs[r].isTagged('excludeLists')&amp;&amp; !refs[r].isTagged('Revisions')&amp;&amp;r&lt;test)
				out+=fmt.format([refs[r].title]);
			else if(refs[r].title!=title &amp;&amp; !refs[r].isTagged('excludeLists')&amp;&amp; !refs[r].isTagged('Revisions')&amp;&amp;r==test)
				out+=end.format([refs[r].title]);
		
		wikify(out.length?out:msg,place);
	}
}
//}}}</pre>
</div>
<div title="ShowReferencesPluginInfo" modifier="Christopher Wilson" created="201305270352" modified="201404121751" tags="excludeTimeline" content-type="" changecount="2">
<pre>/***
|Name|ShowReferencesPluginInfo|
|Source|http://www.TiddlyTools.com/#ShowReferencesPlugin|
|Documentation|http://www.TiddlyTools.com/#ShowReferencesPluginInfo|
|Version|2.0.0|
|Author|Eric Shulman|
|License|http://www.TiddlyTools.com/#LegalStatements|
|~CoreVersion|2.1|
|Type|documentation|
|Description|documentation for ShowReferencesPlugin|
!!!!!Usage
&lt;&lt;&lt;
{{{
&lt;&lt;showReferences &quot;format&quot; [[TiddlerName]] &quot;message&quot;&gt;&gt;
}}}
*''format'' (optional, default={{{&quot;[[%0]]\n&quot;}}})&lt;br&gt;lists references as links, one per line, using %0 as a 'substitution marker' to insert the reference tiddler's title.
*''TiddlerName'' (optional, default=current tiddler)&lt;br&gt;specifies the tiddler whose references are to be displayed.
*''message'' (optional, default={{{&quot;no references&quot;}}})&lt;br&gt;specifies a message to display when there are no references.
You can also use the [[ShowReferences]] //shadow tiddler// to transclude the macro output or embed it within a slider or tabset:
{{{
&lt;&lt;tiddler ShowReferences with: &quot;format&quot; [[TiddlerName]] &quot;message&quot;&gt;&gt;
&lt;&lt;slider ... [[ShowReferences]] label tooltip &gt;&gt;
&lt;&lt;tabs ... label tooltip [[ShowReferences]] ...&gt;&gt;
}}}
Note: {{{&lt;&lt;slider&gt;&gt;}}} and {{{&lt;&lt;tabs&gt;&gt;}}} macros do //not// support use of extra parameters to specify a custom format, ~TiddlerName, or message.  The default format, current tiddler, and message will be used.
&lt;&lt;&lt;
!!!!!Configuration
&lt;&lt;&lt;
You can edit [[ShowReferences]] to specify //non-default// custom parameters values for use with transclusion, slider or tabs macros, or add additional content to display before/after the macro output.  You can also customize the //default// message text (i.e., &quot;no references&quot;) by adding the following line to a tiddler tagged with 'systemConfig':
{{{
config.macros.fallbackMsg=&quot;your text here&quot;;
}}}
or
{{{
config.macros.fallbackMsg=&quot;&quot;; // omits fallback message
}}}
&lt;&lt;&lt;
!!!!!Examples
&lt;&lt;&lt;
one per line: {{{&lt;&lt;showReferences &quot;[[%0]]\n&quot; [[GettingStarted]]&gt;&gt;}}}
{{indent{&lt;&lt;showReferences &quot;[[%0]]\n&quot; [[GettingStarted]]&gt;&gt;}}}
comma-separated: {{{&lt;&lt;showReferences &quot;[[%0]], &quot; [[GettingStarted]]&gt;&gt;}}}
{{indent{&lt;&lt;showReferences &quot;[[%0]], &quot; [[GettingStarted]]&gt;&gt;}}}
bullet items: {{{&lt;&lt;showReferences &quot;* [[%0]]\n&quot; [[GettingStarted]]&gt;&gt;}}}
&lt;&lt;showReferences &quot;* [[%0]]\n&quot; [[GettingStarted]]&gt;&gt;
numbered items: {{{&lt;&lt;showReferences &quot;# [[%0]]\n&quot; [[GettingStarted]]&gt;&gt;}}}
&lt;&lt;showReferences &quot;# [[%0]]\n&quot; [[GettingStarted]]&gt;&gt;
&lt;&lt;&lt;
!!!!!Revisions
&lt;&lt;&lt;
2011.03.01 2.0.0 converted to plugin and added optional TiddlerName and message params
2006.09.13 1.1.0 added format param
2006.09.04 1.0.0 original release (transclusion)
&lt;&lt;&lt;</pre>
</div>
<div title="ShowUpdatesPlugin" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405180339" tags="excludeTimeline systemConfig" changecount="2" alias="" content-type="text/x-tiddlywiki">
<pre>/***
|Name|ShowUpdatesPlugin|
|Created by|SaqImtiaz|
|Version|0.2 |
|Requires|~TW2.x|
!!!Description:
Allows you to list tiddlers that have changed since the users last visit. You can list only all changed tiddlers, or filter them to only show tiddlers that have or do not have a specific tag. By default a simple list of the titles of changed tiddlers is created. However, using an extremely versatile syntax you can provide a custom template for the generated text.

!!!Examples: 
[[ShowUpdatesPluginInfo]]

!!!Installation:
Copy the contents of this tiddler to your TW, tag with systemConfig, save and reload your TW.

!!!Syntax:
{{{&lt;&lt;showUpdates&gt;&gt;}}}
additional optional params:
{{{&lt;showUpdates excludeTag:TagToExclude onlyTag:TagToList maxEntries:10 write:CustomWriteParameter &gt;&gt;}}}
excludeTag: ~TagToExclude
onlyTag: ~TagToList
maxEntries: max number of entries displayed when there are no updates. (default is 10, which can be changed in the config.macros.showUpdates.settings part of the code)
write: if a write parameter is not provided, an un-numbered list of the updates is generated. Alternatively, you can specify a custom 'template' for the text generated. The syntax for the write parameter is identical to that of the forEachTiddler macro. Additonal documentation on this syntax will be provided soon.
Some of the variables available in the write parameter are 'index', 'count' and 'lastVisit' where lastVisit is the date of the last visit in the format YYYYMMDDHHMM. Also areUpdates is a boolean that is true if there are new updates since the users last visit.

!!!To Do:
*refactor code to facilitate translations
*a streamlined version without the custom write parameter


!!!Code
***/
//{{{
window.lewcidLastVisit = '';
window.old_lewcid_whatsnew_restart = window.restart;
window.restart = function()
{
        if(config.options.txtLastVisit)
                 lewcidLastVisit= config.options.txtLastVisit;
        config.options.txtLastVisit = (new Date()).convertToYYYYMMDDHHMM();
        saveOptionCookie('txtLastVisit');
        window.old_lewcid_whatsnew_restart();
}

TiddlyWiki.prototype.lewcidGetTiddlers = function(field,excludeTag,includeTag,updatesOnly)
{
              var results = [];
              this.forEachTiddler(function(title,tiddler)
                      {
                      if(excludeTag == undefined || !tiddler.isTagged(excludeTag))
                                    if(includeTag == undefined ||  tiddler.isTagged(includeTag))
                                            if ( updatesOnly == false || tiddler.modified.convertToYYYYMMDDHHMM()&gt;lewcidLastVisit)
                                                  results.push(tiddler);
                      });
              if(field)
                  results.sort(function (a,b) {if(a[field] == b[field]) return(0); else return (a[field] &lt; b[field]) ? -1 : +1; });
              return results;
}

config.macros.showUpdates={};
config.macros.showUpdates.settings =
{
         maxEntries: 10  //max items to show, if there are no updates since last visit
}

config.macros.showUpdates.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
          var args = paramString.parseParams(&quot;list&quot;,null,true);
          var write = getParam(args, &quot;write&quot;, undefined);
          var onlyTag = getParam(args, &quot;onlyTag&quot;, undefined);
          var excludeTag = getParam(args, &quot;excludeTag&quot;, undefined);
          var sortBy = &quot;modified&quot;;
          var maxEntries = getParam(args,&quot;maxEntries&quot;,this.settings.maxEntries);

          if (lewcidLastVisit) 
                {var tiddlers = store.lewcidGetTiddlers(sortBy,excludeTag,onlyTag,true);
                 var areUpdates = tiddlers.length&gt;0? true:false;}

          if (!lewcidLastVisit)
               {var countLine = &quot;!!Recent Updates:&quot;;
               var tiddlers = store.lewcidGetTiddlers(sortBy,excludeTag,onlyTag,false);
               var areUpdates = false;}
          else if (tiddlers.length == 0)
               {var countLine = &quot;!!@@color:red;No new updates@@ since your last visit. @@color:#999;font-size:70%;&quot; + (Date.convertFromYYYYMMDDHHMM(lewcidLastVisit)).formatString(&quot; (DD/MM/YY)&quot;) + &quot;@@\n!!Recent Updates:&quot;;
               var tiddlers = store.lewcidGetTiddlers(sortBy,excludeTag,onlyTag,false);}
          else
               {var countLine =&quot;!!@@color:red;&quot;+ tiddlers.length + &quot;@@ new &quot; + (tiddlers.length==1?&quot;update&quot;:&quot;updates&quot;) + &quot; since your last visit: @@color:#999;font-size:70%;&quot; + (Date.convertFromYYYYMMDDHHMM(lewcidLastVisit)).formatString(&quot; (DD/MM/YY)&quot;) + &quot;@@&quot;;}

          tiddlers = tiddlers.reverse();
          var lastVisit = lewcidLastVisit? lewcidLastVisit:undefined;
          var count = areUpdates == true? tiddlers.length : maxEntries;
          var sp = createTiddlyElement(place,&quot;span&quot;,&quot;showUpdates&quot;);
          if (write==undefined)
                 {
                  wikify(countLine,sp);
                  var list = createTiddlyElement(sp,&quot;ul&quot;);
                  for (var i = 0; i &lt; count; i++)
                          {
                           var tiddler = tiddlers[i];
                           createTiddlyLink(createTiddlyElement(list,&quot;li&quot;), tiddler.title, true);
                          }
                 }
          else
                {
                 var list = '';
                 for (var index = 0; index &lt; count; index++) {
                 var tiddler = tiddlers[index];
                 list += eval(write); }
                 wikify(list, sp);
                }
}
//}}}</pre>
</div>
<div title="ShowUpdatesPluginInfo" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405180342" tags="plugininfo excludeTimeline" changecount="4" alias="" content-type="">
<pre>&lt;&lt;showUpdates onlyTag:Topology maxEntries:8&gt;&gt;
{{{&lt;&lt;showUpdates onlyTag:RecentUpdates maxEntries:8&gt;&gt;}}}

----

&lt;&lt;showUpdates onlyTag:Topology write:'(index==0? countLine + &quot;\n{{blog{\n&quot;:&quot;&quot;)+(index&lt;8?&quot;!!![[&quot;+tiddler.title+&quot;]]@@color:#999;font-size:70%;&quot; +tiddler.modified.formatString(&quot; - DD/MM/YY&quot;)+&quot;@@\n&quot; +&quot;{{excerpt{\n&quot;+tiddler.text.substr(0,100)+&quot;...\n[[read more...|&quot;+tiddler.title+&quot;]]\n}}}\n&quot;:&quot;&quot;)+(index==count-1?&quot;}}}&quot;:&quot;&quot;)' &gt;&gt;

{{{
&lt;&lt;showUpdates
onlyTag:RecentUpdates
write:
'(index==0? countLine + &quot;\n{{blog{\n&quot;:&quot;&quot;)+
(index&lt;8?&quot;!!![[&quot;+tiddler.title+&quot;]]@@color:#999;font-size:70%;&quot; +tiddler.modified.formatString(&quot; - DD/MM/YY&quot;)+&quot;@@\n&quot; +&quot;{{excerpt{\n&quot;+tiddler.text.substr(0,100)+&quot;...\n[[read more...|&quot;+tiddler.title+&quot;]]\n}}}\n&quot;:&quot;&quot;)+
(index==count-1?&quot;}}}&quot;:&quot;&quot;)' 
&gt;&gt;
}}}

this one requires the following css in your StyleSheet:
//{{{
.blog h2, .blog h3, .blog h4{
  margin:0;
  padding:0;
  border-bottom:none;
}
.blog {margin-left:1.5em;}  

.blog .excerpt {
  margin:0;
  margin-top:0.3em;
  padding: 0;
  margin-left:1em;
  padding-left:1em;
  font-size:90%;
  border-left:1px solid #ddd;
}
//}}}</pre>
</div>
<div title="SideBarOptions" creator="jermolene" modifier="Christopher Wilson" created="201305230006" modified="201405052225" tags="excludeTimeline" changecount="19" content-type="text/x-tiddlywiki">
<pre>/%&lt;&lt;search&gt;&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&lt;&lt;closeAll&gt;&gt;&lt;&lt;setIcon closeall.png&gt;&gt;&lt;&lt;permaview&gt;&gt;&lt;&lt;setIcon permalink.png&gt;&gt;&lt;&lt;newTiddler&gt;&gt;&lt;&lt;setIcon newtiddler.png&gt;&gt;&lt;&lt;saveChanges&gt;&gt;&lt;&lt;setIcon save.png&gt;&gt;&lt;&lt;selectPalette a&gt;&gt;&lt;&lt;setIcon options.png&gt;&gt;
&lt;&lt;fontSize font-size: &gt;&gt;%//%
&lt;html&gt;&lt;div&gt;&lt;&lt;closeAll&gt;&gt;&lt;&lt;setIcon2 fa-power-off&gt;&gt;&lt;&lt;permaview&gt;&gt;&lt;&lt;setIcon2 fa-globe&gt;&gt;&lt;&lt;newTiddler label:&quot;New tiddler&quot; fields:&quot;content-type:text/x-tiddlywiki&quot; tag:&quot;KeepRevisions&quot;&gt;&gt;&lt;&lt;setIcon2 fa-file-text&gt;&gt;&lt;&lt;newTiddler&gt;&gt;&lt;&lt;setIcon2 fa-file-o&gt;&gt;&lt;&lt;saveChanges&gt;&gt;&lt;&lt;setIcon2 fa-save&gt;&gt;&lt;&lt;selectPalette a&gt;&gt;&lt;&lt;setIcon2 fa-cogs&gt;&gt;&lt;/div&gt;&lt;/html&gt;
/%&lt;&lt;search&gt;&gt;%/
/%&lt;&lt;search&gt;&gt;&lt;&lt;setIcon2 fa-search&gt;&gt;%/</pre>
</div>
<div title="SideBarTabs" modifier="Christopher Wilson" created="201305280023" modified="201405140600" tags="excludeTimeline" alias="" content-type="text/x-tiddlywiki" changecount="31">
<pre>&lt;&lt;tabs txtMainTab &quot;Content&quot; &quot;Content&quot; TabContents &quot;Timeline&quot; &quot;Timeline&quot; TabTimeline &quot;Open&quot; &quot;Open&quot; TabOpen &quot;More&quot; &quot;More lists&quot; TabMore&gt;&gt; /% &lt;&lt;tabs txtMainTab &quot;Content&quot; &quot;Content&quot; TabContents &quot;Timeline&quot; &quot;Timeline&quot; TabTimeline &quot;All&quot; &quot;All tiddlers&quot; TabAll &quot;Tags&quot; &quot;All tags&quot; TabTags &quot;More&quot; &quot;More lists&quot; TabMore&gt;&gt; %/&lt;script&gt;
jQuery(document).ready(function ($) {
&quot;use strict&quot;;jQuery('#sidebarTabs').perfectScrollbar();
});
&lt;/script&gt;</pre>
</div>
<div title="Simple Order" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404232353" tags="excludeTimeline" changecount="1" content-type="">
<pre>See [[order relation]].</pre>
</div>
<div title="SimpleSearchPlugin" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405080427" tags="systemConfig excludeTimeline systemConfigDisable" changecount="4" content-type="text/x-tiddlywiki application/json">
<pre>/***
|''Name''|SimpleSearchPlugin|
|''Description''|displays search results as a simple list of matching tiddlers|
|''Authors''|FND|
|''Version''|0.4.1|
|''Status''|stable|
|''Source''|http://devpad.tiddlyspot.com/#SimpleSearchPlugin|
|''CodeRepository''|http://svn.tiddlywiki.org/Trunk/contributors/FND/plugins/SimpleSearchPlugin.js|
|''License''|[[Creative Commons Attribution-ShareAlike 3.0 License|http://creativecommons.org/licenses/by-sa/3.0/]]|
|''Keywords''|search|
!Revision History
!!v0.2.0 (2008-08-18)
* initial release
!!v0.3.0 (2008-08-19)
* added Open All button (renders Classic Search option obsolete)
* sorting by relevance (title matches before content matches)
!!v0.4.0 (2008-08-26)
* added tag matching
!To Do
* tag matching optional
* animations for container creation and removal
* when clicking on search results, do not scroll to the respective tiddler (optional)
* use template for search results
!Code
***/
//{{{
if(!version.extensions.SimpleSearchPlugin) { //# ensure that the plugin is only installed once
version.extensions.SimpleSearchPlugin = { installed: true };

if(!config.extensions) { config.extensions = {}; }

config.extensions.SimpleSearchPlugin = {
	heading: &quot;Search Results&quot;,
	containerId: &quot;searchResults&quot;,
	btnCloseLabel: &quot;close&quot;,
	btnCloseTooltip: &quot;dismiss search results&quot;,
	btnCloseId: &quot;search_close&quot;,
	btnOpenLabel: &quot;Open all&quot;,
	btnOpenTooltip: &quot;open all search results&quot;,
	btnOpenId: &quot;search_open&quot;,

	displayResults: function(matches, query) {
		story.refreshAllTiddlers(true); // update highlighting within story tiddlers
		var el = document.getElementById(this.containerId);
		query = '&quot;&quot;&quot;' + query + '&quot;&quot;&quot;'; // prevent WikiLinks
		if(el) {
			removeChildren(el);
		} else { //# fallback: use displayArea as parent
			var container = document.getElementById(&quot;displayArea&quot;);
			el = document.createElement(&quot;div&quot;);
			el.id = this.containerId;
			el = container.insertBefore(el, container.firstChild);
		}
		var msg = &quot;!&quot; + this.heading + &quot;\n&quot;;
		if(matches.length &gt; 0) {
			msg += &quot;''&quot; + config.macros.search.successMsg.format([matches.length.toString(), query]) + &quot;:''\n&quot;;
			this.results = [];
			for(var i = 0 ; i &lt; matches.length; i++) {
				this.results.push(matches[i].title);
				msg += &quot;* [[&quot; + matches[i].title + &quot;]]\n&quot;;
			}
		} else {
			msg += &quot;''&quot; + config.macros.search.failureMsg.format([query]) + &quot;''&quot;; // XXX: do not use bold here!?
		}
		createTiddlyButton(el, this.btnCloseLabel, this.btnCloseTooltip, config.extensions.SimpleSearchPlugin.closeResults, &quot;button&quot;, this.btnCloseId);
		wikify(msg, el);
		if(matches.length &gt; 0) { // XXX: redundant!?
			createTiddlyButton(el, this.btnOpenLabel, this.btnOpenTooltip, config.extensions.SimpleSearchPlugin.openAll, &quot;button&quot;, this.btnOpenId);
		}
	},

	closeResults: function() {
		var el = document.getElementById(config.extensions.SimpleSearchPlugin.containerId);
		removeNode(el);
		config.extensions.SimpleSearchPlugin.results = null;
		highlightHack = null;
	},

	openAll: function(ev) {
		story.displayTiddlers(null, config.extensions.SimpleSearchPlugin.results);
		return false;
	}
};

config.shadowTiddlers.StyleSheetSimpleSearch = &quot;/*{{{*/\n&quot; +
	&quot;#&quot; + config.extensions.SimpleSearchPlugin.containerId + &quot; {\n&quot; +
	&quot;\toverflow: auto;\n&quot; +
	&quot;\tpadding: 5px 1em 10px;\n&quot; +
	&quot;\tbackground-color: [[ColorPalette::TertiaryPale]];\n&quot; +
	&quot;}\n\n&quot; +
	&quot;#&quot; + config.extensions.SimpleSearchPlugin.containerId + &quot; h1 {\n&quot; +
	&quot;\tmargin-top: 0;\n&quot; +
	&quot;\tborder: none;\n&quot; +
	&quot;}\n\n&quot; +
	&quot;#&quot; + config.extensions.SimpleSearchPlugin.containerId + &quot; ul {\n&quot; +
	&quot;\tmargin: 0.5em;\n&quot; +
	&quot;\tpadding-left: 1.5em;\n&quot; +
	&quot;}\n\n&quot; +
	&quot;#&quot; + config.extensions.SimpleSearchPlugin.containerId + &quot; .button {\n&quot; +
	&quot;\tdisplay: block;\n&quot; +
	&quot;\tborder-color: [[ColorPalette::TertiaryDark]];\n&quot; +
	&quot;\tpadding: 5px;\n&quot; +
	&quot;\tbackground-color: [[ColorPalette::TertiaryLight]];\n&quot; +
	&quot;}\n\n&quot; +
	&quot;#&quot; + config.extensions.SimpleSearchPlugin.containerId + &quot; .button:hover {\n&quot; +
	&quot;\tborder-color: [[ColorPalette::SecondaryMid]];\n&quot; +
	&quot;\tbackground-color: [[ColorPalette::SecondaryLight]];\n&quot; +
	&quot;}\n\n&quot; +
	&quot;#&quot; + config.extensions.SimpleSearchPlugin.btnCloseId + &quot; {\n&quot; +
	&quot;\tfloat: right;\n&quot; +
	&quot;\tmargin: -5px -1em 5px 5px;\n&quot; +
	&quot;}\n\n&quot; +
	&quot;#&quot; + config.extensions.SimpleSearchPlugin.btnOpenId + &quot; {\n&quot; +
	&quot;\tfloat: left;\n&quot; +
	&quot;\tmargin-top: 5px;\n&quot; +
	&quot;}\n&quot; +
	&quot;/*}}}*/&quot;;
store.addNotification(&quot;StyleSheetSimpleSearch&quot;, refreshStyles);

// override Story.search()
Story.prototype.search = function(text, useCaseSensitive, useRegExp) {
	highlightHack = new RegExp(useRegExp ? text : text.escapeRegExp(), useCaseSensitive ? &quot;mg&quot; : &quot;img&quot;);
	var matches = store.search(highlightHack, null, &quot;excludeSearch&quot;);
	var q = useRegExp ? &quot;/&quot; : &quot;'&quot;;
	config.extensions.SimpleSearchPlugin.displayResults(matches, q + text + q);
};

// override TiddlyWiki.search() to sort by relevance
TiddlyWiki.prototype.search = function(searchRegExp, sortField, excludeTag, match) {
	var candidates = this.reverseLookup(&quot;tags&quot;, excludeTag, !!match);
	var primary = [];
	var secondary = [];
	var tertiary = [];
	for(var t = 0; t &lt; candidates.length; t++) {
		if(candidates[t].title.search(searchRegExp) != -1) {
			primary.push(candidates[t]);
		} else if(candidates[t].tags.join(&quot; &quot;).search(searchRegExp) != -1) {
			secondary.push(candidates[t]);
		} else if(candidates[t].text.search(searchRegExp) != -1) {
			tertiary.push(candidates[t]);
		}
	}
	var results = primary.concat(secondary).concat(tertiary);
	if(sortField) {
		results.sort(function(a, b) {
			return a[sortField] &lt; b[sortField] ? -1 : (a[sortField] == b[sortField] ? 0 : +1);
		});
	}
	return results;
};

} //# end of &quot;install only once&quot;
//}}}
</pre>
</div>
<div title="Simply Connected" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405060453" modified="201405060453" tags="Topology [[Topology Paper]]" changecount="2" content-type="text/x-tiddlywiki">
<pre>!!Overview
A space that is //simply connected// denotes a space that is [[Path Connected]], where every path can be continuously transformed with respect to fixed end points such that the path never leaves the space.
*If a space is not simply connected, then there exist holes in the space.
*For example, a 3D torus and a 2D annulus are not simply connected.</pre>
</div>
<div title="Simulation Results (1)" modifier="Christopher Wilson" created="201404072354" modified="201404090009">
<pre>!!Simulation Results
|cssClass|k
| | $\bf Heisenberg\; Group$ | $\bf Clock\; Model\;(2)$ | $\bf Clock\; Model\;(1)$ | $\bf Potts\; Model$ |
| $ \left&lt;M\right&gt;$ | [img[Research\Images\2d Heis, M02h.png]] | [img[Research\Images\2d Heis, M02d.png]] | [img[Research\Images\2d Heis, M02e.png]] | [img[Research\Images\2d Potts, M08d.png]] |
| $\chi_M$ | [img[Research\Images\2d Heis, X02h.png]] | [img[Research\Images\2d Heis, X02d.png]] | [img[Research\Images\2d Heis, X02e.png]] | [img[Research\Images\2d Potts, X08d.png]] |
| $ \left&lt;H\right&gt;$ | [img[Research\Images\2d Heis, E02h.png]] | [img[Research\Images\2d Heis, E02d.png]] | [img[Research\Images\2d Heis, E02e.png]] | [img[Research\Images\2d Potts, E08d.png]] |
| $ c_N$ | [img[Research\Images\2d Heis, C02h.png]] | [img[Research\Images\2d Heis, C02d.png]] | [img[Research\Images\2d Heis, C02e.png]] | [img[Research\Images\2d Potts, C08d.png]] |
| $ \left&lt;(\Delta H)^2\right&gt;$ | [img[Research\Images\2d Heis, V02h.png]] | [img[Research\Images\2d Heis, V02d.png]] | [img[Research\Images\2d Heis, V02e.png]] |  |
| | $\bf Heisenberg\; Group$ | $\bf Clock\; Model\;(2)$ | $\bf Clock\; Model\;(1)$ | $\bf Potts\; Model$ |

!!Files
*[[Associated Data and C++ Code|Research\Data\Simulation Results.rar]]
/%
!!Heisenberg Group $(p = 2)$

[img[Research\Images\2d Heis, E02h.png]][img[Research\Images\2d Heis, C02h.png]][img[Research\Images\2d Heis, V02h.png]]
[img[Research\Images\2d Heis, M02h.png]][img[Research\Images\2d Heis, X02h.png]]

!!Clock Model $(q=8)$

[img[Research\Images\2d Heis, E02e.png]][img[Research\Images\2d Heis, C02e.png]][img[Research\Images\2d Heis, V02e.png]]
[img[Research\Images\2d Heis, M02e.png]][img[Research\Images\2d Heis, X02e.png]]


!!Potts Model $(q=8)$

[img[Research\Images\2d Potts, E08d.png]][img[Research\Images\2d Potts, C08d.png]]
[img[Research\Images\2d Potts, M08d.png]][img[Research\Images\2d Potts, X08d.png]]
%/</pre>
</div>
<div title="SiteSubtitle" creator="psd" modifier="Christopher Wilson" created="201305222205" modified="201404120932" tags="excludeTimeline" content-type="">
<pre></pre>
</div>
<div title="SiteTitle" creator="psd" modifier="Christopher Wilson" created="201305222205" modified="201404100826" tags="excludeTimeline">
<pre>&lt;html&gt;&lt;a href=&quot;https://dl.dropboxusercontent.com/u/88005189/TW/index.htm&quot; style=&quot;font-weight:bold;font-family:times;font-size:125%;&quot;&gt;A Physics Notebook&lt;/a&gt;&lt;/html&gt;</pre>
</div>
<div title="SlideShowPlugin" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404270126" tags="systemConfig excludeTimeline systemConfigDisable" changecount="2" content-type="">
<pre>/***
|''Name:''|SlideShowPlugin|
|''Description:''|Creates a slide show from any number of tiddlers|
|''Author:''|Paulo Soares|
|''Contributors:''|John P. Rouillard|
|''Version:''|2.2.6|
|''Date:''|2010-11-17|
|''Source:''|http://www.math.ist.utl.pt/~psoares/addons.html|
|''Documentation:''|[[SlideShowPlugin Documentation|SlideShowPluginDoc]]|
|''License:''|[[Creative Commons Attribution-Share Alike 3.0 License|http://creativecommons.org/licenses/by-sa/3.0/]]|
|''~CoreVersion:''|2.5.0|
***/
//{{{
if(!version.extensions.SlideShowPlugin) { //# ensure that the plugin is only installed once
version.extensions.SlideShowPlugin = {installed: true};

(function($) {
config.macros.slideShow = {maxTOCLength: 30, separator:'-s-'};

config.formatters.push( {
	name: &quot;SlideSeparator&quot;,
	match: &quot;^&quot;+config.macros.slideShow.separator+&quot;+$\\n?&quot;,
	handler: function(w) {
		createTiddlyElement(w.output,&quot;hr&quot;,null,'slideSeparator');
	}
});

config.macros.slideShow.text = {
  label: &quot;slide show&quot;, tooltip: &quot;Start slide show&quot;,
  quit: {label: &quot;x&quot;, tooltip: &quot;Quit the slide show&quot;},
  firstSlide: {label: &quot;&lt;&lt;&quot;, tooltip: &quot;Go to first slide&quot;},
  previous: {label: &quot;&lt;&quot;, tooltip: &quot;Go back&quot;},
  next: {label: &quot;&gt;&quot;, tooltip: &quot;Advance&quot;},
  lastSlide: {label: &quot;&gt;&gt;&quot;, tooltip: &quot;Go to last slide&quot;},
  goto: {label: &quot;Go to slide:&quot;},
  resetClock: {tooltip: &quot;Reset the clock&quot;},
  overlay: &quot;overlay&quot;
};

config.macros.slideShow.handler = function(place,macroName,params,wikifier,paramString){
  var args = paramString.parseParams(null,null,false);
  this.label = getParam(args,&quot;label&quot;,this.text.label);
  this.tooltip = getParam(args,&quot;tooltip&quot;,this.text.tooltip);
  var onclick = function(){config.macros.slideShow.onClick(place,paramString); return false;};
  createTiddlyButton(place,this.label,this.tooltip,onclick);
  return false;
}

config.macros.slideShow.onClick = function(place,paramString) {
  var slide, cm = config.macros.slideShow;
  var title = story.findContainingTiddler(place);
  title = title ? title.getAttribute(&quot;tiddler&quot;) : null;
  var args = paramString.parseParams(null,null,false);
  title =  getParam(args,&quot;tiddler&quot;,title);
  var argsArray = paramString.readMacroParams();
  this.single = ($.inArray('single',argsArray) &gt; -1);
  this.clicks = ($.inArray('noClicks',argsArray) &lt; 0);
  this.keyboard = ($.inArray('noKeyboard',argsArray) &lt; 0);
  this.showAll = ($.inArray('showAll',argsArray) &gt; -1);
  this.cycle = ($.inArray('cycle',argsArray) &gt; -1);
  this.overlays = ($.inArray('noOverlays',argsArray) &lt; 0);
  this.theme = getParam(args,&quot;theme&quot;);
  this.tag = getParam(args,&quot;tag&quot;);
  this.toc = getParam(args,&quot;toc&quot;,&quot;headers&quot;);
  this.sort = getParam(args,&quot;sort&quot;);
  this.clockFormat = getParam(args,&quot;clockFormat&quot;,'0hh:0mm:0ss');
  this.auto = getParam(args,&quot;auto&quot;,0);
  this.header = getParam(args,&quot;header&quot;,title);
  this.footer = getParam(args,&quot;footer&quot;,&quot;&quot;);
  this.clock = getParam(args,&quot;clock&quot;);
  this.blocked = 0;
  if(this.clock){
    var startTime = new Date(0);
    this.clockCorrection=startTime.getTimezoneOffset()*60000;
    startTime = new Date();
    this.clockMultiplier = 1;
    this.clockInterval = 0;
    var clockType= parseFloat(this.clock);
    if(clockType &lt; 0) {
      this.clockMultiplier = -1;
      this.clockInterval = -clockType*60000;
    } else if(clockType == 0){
      this.clockCorrection = 0;
      startTime = new Date(0);
    }
    this.clockStartTime=startTime.getTime();
  }
  this.slides = [];
  this.openTiddlers = [];
  $(&quot;#tiddlerDisplay &gt; *&quot;).each(function(){cm.openTiddlers.push($(this).attr('tiddler'))});
  var count = 0;
  this.slideTOC=[];
  if(this.single){
    if(!store.tiddlerExists(title)) return;
    var newTiddler;
    var content = store.getTiddlerText(title).split(cm.separator);
    $.each(content, function(){
      count++;
      newTiddler = new Tiddler();
      newTiddler.title =&quot;TempSlide&quot; + count;
      newTiddler.tags[0] = &quot;excludeLists&quot;;
      newTiddler.text = $.trim(this);
      newTiddler.fields['doNotSave']= true;
      store.addTiddler(newTiddler);
      cm.buildTOC(count,newTiddler.title);
      cm.slides.push(newTiddler.title);
    });
  } else {
    if(this.tag){
      var content = store.getTaggedTiddlers(this.tag,this.sort);
      $.each(content, function(){
        count++;
        cm.buildTOC(count,this.title);
        cm.slides.push(this.title);
      });
    } else {
      story.displayTiddler(null,title);
      var list = $('[tiddler='+title+']').find('.viewer').find('.tiddlyLinkExisting');
      $.each(list,function(){
        if(!$(this).parents().hasClass(&quot;exclude&quot;)){
          slide = $(this).attr('tiddlylink');
          count++;
          cm.buildTOC(count,slide);
          cm.slides.push(slide);
        }
      });
    }
  }
  this.nSlides = this.slides.length;
  if(this.nSlides==0) return false;
  clearMessage();
  this.toggleSlideStyles();
  if(!this.showAll){
    //Attach the key and mouse listeners
    if(this.keyboard &amp;&amp; !$(&quot;#tiddlerDisplay&quot;).hasClass(&quot;noKeyboard&quot;)) $(document).keyup(cm.keys);
    if(this.clicks){
      $(document).mouseup(cm.clicker);
      document.oncontextmenu = function(){return false;}
    }
    if(this.clock) this.slideClock=setInterval(this.setClock, 1000);
    if(this.auto&gt;0){
      this.autoAdvance=setInterval(cm.next, this.auto*1000);
    }
    this.showSlide(1);
  } else {
    story.closeAllTiddlers();
    story.displayTiddlers(null,this.slides);
    $(&quot;.tiddler&quot;).attr(&quot;ondblclick&quot;,null);
    $(document).keyup(cm.endSlideShow);
  }
  return false;
}

config.macros.slideShow.buildNavigator = function() {
  //Create the navigation bar
  var i, slidefooter = $(&quot;#controlBar&quot;)[0];
  if(!slidefooter) return;
  $(slidefooter).addClass(&quot;slideFooterOff noClicks&quot;);
  var navigator = createTiddlyElement(slidefooter,&quot;SPAN&quot;,&quot;navigator&quot;);
  var buttonBar = createTiddlyElement(navigator,&quot;SPAN&quot;,&quot;buttonBar&quot;);
  //Make it so that when the footer is hovered over the class will change to make it visible
  $(slidefooter).bind(&quot;mouseenter mouseleave&quot;, function(e){$(this).toggleClass(&quot;slideFooterOff&quot;);});
  //Create the control buttons for the navigation
 
  createTiddlyButton(buttonBar,this.text.firstSlide.label,this.text.firstSlide.tooltip,this.firstSlide,&quot;button&quot;);
  createTiddlyButton(buttonBar,this.text.previous.label,this.text.previous.tooltip,this.previous,&quot;button&quot;);
  createTiddlyButton(buttonBar,this.text.quit.label,this.text.quit.tooltip,this.endSlideShow,&quot;button&quot;);
  createTiddlyButton(buttonBar,this.text.next.label,this.text.next.tooltip,this.next,&quot;button&quot;);
  createTiddlyButton(buttonBar,this.text.lastSlide.label,this.text.lastSlide.tooltip,this.lastSlide,&quot;button&quot;);
  if(this.clock){
    if(this.clock == 0){
       createTiddlyElement(navigator,&quot;SPAN&quot;,&quot;slideClock&quot;);
    } else {
      createTiddlyButton(navigator,&quot; &quot;,this.text.resetClock.tooltip,this.resetClock,&quot;button&quot;,&quot;slideClock&quot;);
    }
    this.setClock();
  }
  var index = createTiddlyElement(slidefooter,&quot;SPAN&quot;,&quot;slideCounter&quot;);
  index.onclick = this.toggleTOC;
  var toc = createTiddlyElement(slidefooter,&quot;SPAN&quot;,&quot;toc&quot;);
  var tocLine;
  for(i=0; i&lt;this.slideTOC.length; i++){
    $(toc).append(this.slideTOC[i][2]);
    tocLine = $(toc.lastChild);
    tocLine.addClass(&quot;tocLevel&quot;+this.slideTOC[i][1]).css(&quot;cursor&quot;, &quot;pointer&quot;).hover(function () {
        $(this).addClass(&quot;highlight&quot;);}, function () {
        $(this).removeClass(&quot;highlight&quot;);});
    tocLine.attr(&quot;slide&quot;,this.slideTOC[i][0]);
    tocLine.click(config.macros.slideShow.showSlideFromTOC);
  }
  //Input box to jump to specific slide
  var tocItem = createTiddlyElement(toc,&quot;DIV&quot;,&quot;jumpItem&quot;,null,this.text.goto.label);
  var tocJumpInput = createTiddlyElement(tocItem,&quot;INPUT&quot;,&quot;jumpInput&quot;);
  tocJumpInput.type=&quot;text&quot;;
  $(tocJumpInput).keyup(config.macros.slideShow.jumpToSlide);
}

//Used to shorten the TOC fields
config.macros.slideShow.abbreviate = function(label){
  if(label.length&gt;this.maxTOCLength) {
    var temp = new Array();
    temp = label.split(' ');
    label = temp[0];
    for(var j=1; j&lt;temp.length; j++){
      if((label.length+temp[j].length)&lt;=this.maxTOCLength){
        label += &quot; &quot; + temp[j];
      } else {
        label += &quot; ...&quot;;
        break;
      }
    }
  }
  return label;
}

config.macros.slideShow.buildTOC = function(count,title) {
  var level = 1, text;
  switch(this.toc){
  case &quot;headers&quot;:
    var frag = wikifyStatic(store.getTiddlerText(title));
    text = frag.replace(/&lt;div class=&quot;comment&quot;&gt;.*&lt;\/div&gt;/mg,&quot;&quot;);
    var matches =  text.match(/&lt;h[123456]&gt;.*?&lt;\/h[123456]&gt;/mgi);
    if(matches){
      for (var j=0; j&lt;matches.length; j++){
        level = matches[j].charAt(2);
        text = matches[j].replace(/&lt;\/?h[123456]&gt;/gi,&quot;&quot;);
        text = this.abbreviate(text);
        this.slideTOC.push([count,level,&quot;&lt;div&gt;&quot;+text+&quot;&lt;/div&gt;&quot;]);
      }
    }
    break;
  case &quot;titles&quot;:
    text = this.abbreviate(title);
    this.slideTOC.push([count,level,&quot;&lt;div&gt;&quot;+text+&quot;&lt;/div&gt;&quot;]);
  }
}

config.macros.slideShow.showSlideFromTOC = function(e) {
  var cm = config.macros.slideShow;
  var slide = parseInt(e.target.getAttribute('slide'));
  $(&quot;#toc&quot;).hide();
  cm.showSlide(slide);
  return false;
}

config.macros.slideShow.toggleTOC = function(){
  $(&quot;#toc&quot;).toggle();
  $(&quot;#jumpInput&quot;).focus().val('');
  return false;
}

config.macros.slideShow.isInteger = function(s){
  for (var i = 0; i &lt; s.length; i++){
    // Check that current character is number
    var c = s.charAt(i);
    if (((c &lt; &quot;0&quot;) || (c &gt; &quot;9&quot;))) return false;
  }
  // All characters are numbers
  return true;
}

config.macros.slideShow.jumpToSlide = function(e){
  var cm = config.macros.slideShow;
  if(e.which==13){
    var input= $(&quot;#jumpInput&quot;).val();
    if(cm.isInteger(input) &amp;&amp; input&gt;0 &amp;&amp; input&lt;=cm.nSlides){
      $(&quot;#toc&quot;).hide();
      cm.showSlide(input);
    } else  {$(&quot;#jumpInput&quot;).val('');}
  }
  return false;
}

config.macros.slideShow.toggleSlideStyles = function(){
  var contentWrapper = $('#contentWrapper');
  if(contentWrapper.hasClass(&quot;slideShowMode&quot;)){
    refreshPageTemplate();
    removeStyleSheet(&quot;SlideShowStyleSheet&quot;);
    if(this.theme) removeStyleSheet(this.theme);
  } else {
    $(&quot;#displayArea&quot;).prepend('&lt;div id=&quot;slideBlanker&quot; style=&quot;display:none&quot;&gt;&lt;/div&gt;&lt;div id=&quot;slideHeader&quot;&gt;'+this.header+'&lt;/div&gt;&lt;div id=&quot;slideFooter&quot;&gt;'+this.footer+'&lt;/div&gt;&lt;div id=&quot;controlBar&quot;&gt;&lt;/div&gt;');
    setStylesheet(store.getRecursiveTiddlerText(&quot;SlideShowStyleSheet&quot;),&quot;SlideShowStyleSheet&quot;);
    if(this.theme &amp;&amp; store.tiddlerExists(this.theme)){setStylesheet(store.getRecursiveTiddlerText(this.theme),this.theme);}
    this.buildNavigator();
  }
  contentWrapper.toggleClass(&quot;slideShowMode&quot;);
  return false;
}

config.macros.slideShow.showSlide = function(n){
  if(this.cycle) {
    if(n&gt;this.nSlides) {
      n = 1;
    } else if(n&lt;1) {
      n = this.nSlides;
    }
  } else {
    if(n&gt;this.nSlides || n&lt;1) return;
  }
  story.closeAllTiddlers();
  if(this.clock=='-'){this.resetClock();}
  story.displayTiddler(null,String(this.slides[n-1]));
  $(&quot;.tiddler&quot;).attr(&quot;ondblclick&quot;,null);
  $(&quot;body&quot;).removeClass(&quot;slide&quot;+this.curSlide);
  this.curSlide = n;
  $(&quot;body&quot;).addClass(&quot;slide&quot;+this.curSlide);
  $(&quot;#slideCounter&quot;).text(this.curSlide+&quot;/&quot;+this.nSlides);
  if(this.overlays){
    var contents = $(&quot;.viewer *&quot;);
    this.numOverlays = 1;
    while(1){
      if(contents.hasClass(this.text.overlay+this.numOverlays)){
        this.numOverlays++;
      } else {break;}
    }
    this.numOverlays--;
    this.showOverlay(0);
  }
  return false;
}

config.macros.slideShow.showOverlay = function(n){
  var i, set, cm = config.macros.slideShow;
  if(!cm.overlays || cm.numOverlays == 0 || n&lt;0 || n&gt;cm.numOverlays){return;}
  for(i=1; i&lt;n; i++){
    set = $(&quot;.viewer &quot;+&quot;.&quot;+cm.text.overlay+i);
    set.removeClass(&quot;currentOverlay nextOverlay&quot;);
    set.addClass(&quot;previousOverlay&quot;);
  }
  set = $(&quot;.viewer &quot;+&quot;.&quot;+cm.text.overlay+n);
  set.removeClass(&quot;previousOverlay nextOverlay&quot;);
  set.addClass(&quot;currentOverlay&quot;);
  for(i=n; i&lt;config.macros.slideShow.numOverlays; i++){
    set = $(&quot;.viewer &quot;+&quot;.&quot;+cm.text.overlay+(i+1));
    set.removeClass(&quot;previousOverlay currentOverlay&quot;);
    set.addClass(&quot;nextOverlay&quot;);
  }
  cm.curOverlay = n;
}

config.macros.slideShow.firstSlide = function(){
  config.macros.slideShow.showSlide(1);
  return false;
}

config.macros.slideShow.lastSlide = function(){
  config.macros.slideShow.showSlide(config.macros.slideShow.nSlides);
  return false;
}

config.macros.slideShow.next = function(){
  var cm = config.macros.slideShow;
  if(!cm.overlays || cm.numOverlays == 0 || cm.curOverlay == cm.numOverlays) {
    cm.showSlide(cm.curSlide+1);
  } else {
    cm.showOverlay(cm.curOverlay+1);
  }
  return false;
}

config.macros.slideShow.previous = function(){
  var cm = config.macros.slideShow;
  if(!cm.overlays || cm.numOverlays == 0 || cm.curOverlay == 0) {
    cm.showSlide(cm.curSlide-1);
    cm.showOverlay(cm.numOverlays);
  } else {
    cm.showOverlay(cm.curOverlay-1);
  }
  return false;
}

config.macros.slideShow.endSlideShow=function(){
  var cm = config.macros.slideShow;
  if(cm.autoAdvance) {clearInterval(cm.autoAdvance);}
  if(cm.clock) clearInterval(cm.slideClock);
  story.closeAllTiddlers();
  cm.toggleSlideStyles();
  story.displayTiddlers(null,cm.openTiddlers);
  $(document).unbind();
  document.oncontextmenu =  function(){};
  $(&quot;body&quot;).removeClass(&quot;slide&quot;+cm.curSlide);
  return false;
}

// 'keys' code adapted from S5 which in turn was adapted from MozPoint (http://mozpoint.mozdev.org/)
config.macros.slideShow.keys = function(key) {
  var cm = config.macros.slideShow;
  switch(key.which) {
  case 32: // spacebar
    if(cm.auto&gt;0 &amp;&amp; cm.blocked==0){
      if(cm.autoAdvance){
        clearInterval(cm.autoAdvance);
        cm.autoAdvance = null;
      } else {
        cm.autoAdvance=setInterval(cm.next, cm.auto*1000);
      }
    } else {
      if(cm.blocked==0) cm.next();
    }
    break;
  case 34: // page down
    if(cm.blocked==0) cm.showSlide(cm.curSlide+1);
    break;
  case 39: // rightkey
    if(cm.blocked==0) cm.next();
    break;
  case 40: // downkey
    if(cm.blocked==0) cm.showOverlay(cm.numOverlays);
    break;
  case 33: // page up
    if(cm.blocked==0) cm.showSlide(cm.curSlide-1);
    break;
  case 37: // leftkey
    if(cm.blocked==0) cm.previous();
    break;
  case 38: // upkey
    if(cm.blocked==0) cm.showOverlay(0);
    break;
  case 36: // home
    if(cm.blocked==0) cm.firstSlide();
    break;
  case 35: // end
    if(cm.blocked==0) cm.lastSlide();
    break;
  case 27: // escape
    cm.endSlideShow();
    break;
  case 66: // B
    $(&quot;#slideBlanker&quot;).toggle();
    cm.blocked = (cm.blocked +1)%2;
    break;
  }
  return false;
}

config.macros.slideShow.clicker = function(e) {
  var cm = config.macros.slideShow;
  if(cm.blocked==1 || $(e.target).attr('href') || $(e.target).parents().andSelf().hasClass('noClicks')){
    return true;
  }
  if($(&quot;#toc&quot;).is(':visible')){
    cm.toggleTOC();
  } else {
    if((!e.which &amp;&amp; e.button == 1) || e.which == 1) {
      cm.next();
    }
    if((!e.which &amp;&amp; e.button == 2) || e.which == 3) {
      cm.previous();
    }
  }
  return false;
}

config.macros.slideShow.setClock = function(){
  var cm = config.macros.slideShow;
  var actualTime = new Date();
  var newTime = actualTime.getTime() - cm.clockStartTime;
  newTime = cm.clockMultiplier*newTime+cm.clockInterval+cm.clockCorrection;
  actualTime.setTime(newTime);
  newTime = actualTime.formatString(cm.clockFormat);
  $(&quot;#slideClock&quot;).text(newTime);
  return false;
}

config.macros.slideShow.resetClock = function(){
  var cm = config.macros.slideShow;
  if(cm.clock == 0) return;
  var time = new Date(0);
  if(cm.clockStartTime&gt;time){
    var startTime = new Date();
    cm.clockStartTime=startTime.getTime();
  }
  return false;
}

config.shadowTiddlers.SlideShowStyleSheet=&quot;/*{{{*/\n.header, #mainMenu, #sidebar, #backstageButton, #backstageArea, .toolbar, .title, .subtitle, .tagging, .tagged, .tagClear, .comment{\n display:none !important\n}\n\n#slideBlanker{\n position: absolute;\n top: 0;\n left: 0;\n width: 100%;\n height: 100%;\n z-index: 90; \n background-color: #000;\n opacity: 0.9;\n filter: alpha(opacity=90)\n}\n\n.nextOverlay{\n visibility: hidden\n}\n\n.previousOverlay,.currentOverlay{\n visibility: visible\n}\n\n#displayArea{\n font-size: 250%;\n margin: 0 !important;\n padding: 0\n}\n\n#controlBar{\n position: fixed;\n bottom: 2px;\n right: 2px;\n width: 100%;\n text-align: right\n}\n\n#controlBar .button{\n margin: 0 0.25em;\n padding: 0 0.25em\n}\n\n#slideHeader{\n font-size: 200%;\n font-weight: bold\n}\n\n#slideFooter{\n position: fixed;\n bottom: 2px\n}\n\n.slideFooterOff #navigator{\n visibility: hidden\n}\n\n#slideClock{\n margin: 0 5px 0 5px\n}\n\n#slideCounter{\n cursor: pointer;\n color: #aaa\n}\n\n#toc{\n display: none;\n position: absolute;\n font-size: .75em;\n bottom: 2em;\n right: 0;\n background: #fff;\n border: 1px solid #000;\n text-align: left\n}\n\n#jumpItem{\n padding-left:0.25em\n}\n\n#jumpInput{\n margin-left: 0.25em;\n width: 3em\n}\n\n.tocLevel1{\n font-size: .8em\n}\n\n.tocLevel2{\n margin-left: 1em;\n font-size: .75em\n}\n\n.tocLevel3{\n margin-left: 2em;\n font-size: .7em\n}\n\n.tocLevel4{\n margin-left: 3em;\n font-size: .65em\n}\n\n.tocLevel5{\n margin-left: 4em;\n font-size: .6em\n}\n\n.tocLevel6{\n margin-left: 5em;\n font-size: .55em\n}\n/*}}}*/&quot;;

config.shadowTiddlers.SlideShowPluginDoc=&quot;The documentation is available [[here|http://www.math.ist.utl.pt/~psoares/addons.html#SlideShowPluginDoc]].&quot;;
})(jQuery)
}
//}}}</pre>
</div>
<div title="SlideShowPluginDoc" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404270131" tags="excludeTimeline" changecount="1" content-type="">
<pre>!Description
This plugin turns any number of tiddlers into a slide show. A single macro provides a flexible way to present a set of tiddlers, including:
#a full screen presentation that hides the TiddlyWiki structure (header, sidebar, main menu);
#a way to navigate through a set of tiddlers keeping the TiddlyWiki structure (similar to the [[NavigationMacro|http://tw.lewcid.org/#NavigationMacro]] by Saq Imtiaz);
#a display of all the selected tiddlers ready to be printed.
!Main features
Most features that are usually found in presentation software are available. 
*Build a slide show from a list of tiddlers' titles or selecting a specific tag with optional sort
*Build a slide show from a single tiddler where slides are divided by a separator
*Fully customizable presentations (CSS knowledge required)
*Auto-advancing slide show (kiosk mode) and looping (circular mode)
*Incremental display (several overlays or layers in a slide)
*Optional clock with 4 different modes:
**local time
**elapsed time of presentation
**elapsed time for each slide
**countdown clock for a given period
*Screen blanking for pauses
!Installation
To install this plugin copy the tiddler SlideShowPlugin to your TiddlyWiki, label it with the ''systemConfig'' tag, save the TW and refresh the browser.
Optionally, you can also copy this documentation tiddler. If you don't, a link to the original one in my site is provided.  
!Quick start
The simplest way to make a slide show is to create a new tiddler with references to all the tiddlers you want to include in your presentation. Any reference or group of references to tiddlers that should be skipped must be wrapped in a {{{exclude}}} class as in the following example:
{{{
MissingSlide
[[First slide|SlideShowExample-1]] {{exclude{(the tiddler SlideShowPluginDoc will not be included in the presentation)}}}
SlideShowExample-2
SlideShowExample-3
SlideShowExample-4
}}}
Add {{{&lt;&lt;slideShow&gt;&gt;}}} anywhere in the tiddler, close the edit form, click the ''slide show'' button and there you are. Move forward/backward in the presentation with the mouse left/right button. If you move the mouse pointer over the bottom of the browser window you will see a few navigation buttons. Click the ''x'' button or press the ''Escape'' key to exit.
!Options
{{{
&lt;&lt;slideShow
  noClicks
  noKeyboard
  noOverlays
  cycle
  showAll
  single
  tiddler:tiddler
  label:string
  tooltip:string
  tag:tag
  sort:field
  theme:tiddler
  toc:string
  auto:time
  clock:type
  clockFormat:string
  header:string
  footer:string
&gt;&gt; 
}}}
''noClicks''
Disables navigation through mouse clicks on the tiddlers. This is useful when there are lots of clickable elements in the presentation.
If you want to keep using the mouse to move around the presentation and there are occasional elements that require mouse clicking, these can be formatted with a {{{noClicks}}} class (read more [[here|http://www.tiddlywiki.com/#CustomCssClass]]).

''noKeyboard''
Disables keyboard navigation.

''noOverlays''
Disables the incremental display of overlays.

''cycle''
The slide shows runs in a continuous loop. 

''showAll''
To print a presentation all the selected tiddlers are opened in the specified order. Press any key to return to the default TiddlyWiki layout.

''single''
Use this if a presentation is defined in a single tiddler.

''tiddler''
Use this option to indicate the tiddler where your slide show is defined when it is not the same one that contains the button that starts the presentation.

''label''
Text to replace the default text in the slide show button.

''tooltip''
Text to be shown when the mouse is over the slide show button.

''tag''
Use this option to create a slide show with the tiddlers with the provided tag instead of providing a list of tiddlers.

''sort''
If the ''tag'' option is used you can use this other option to sort the tiddlers according to a specific field. Valid values are: //created// (default), //modified//, //title// and //text//.

''theme''
A user provided tiddler containing CSS rules that define the style of the slide show. To redefine the default style, edit the SlideShowStyleSheet shadow tiddler. 

''toc''
Choose the type of table of contents. Possible values: ''titles'' will enable the use of the tiddlers titles, ''headers'' (default) to choose html headers (h1, h2,...), anything else will disable the table of contents.  

''auto''
The slide show auto advances after the defined number of seconds. The slide show can be paused by pressing the ''space bar''.

''clock''
Displays a clock near the navigation buttons at the bottom of the screen. Four types of clocks can be defined:
#''clock:0'' -- shows the local time.
#''clock:'+''' -- displays the elapsed time of the presentation. Click the clock display to reset the time.
#''clock:'-''' -- displays the elapsed for each slide. Click the clock display to reset the time.
#''clock:-20'' -- displays a countdown clock for the given (negative) number of minutes. Click the clock display to reset the time.
''clockFormat''
A string that defines the clock format. The default is '0hh:0mm:0ss' where the prefix '0' forces a leading zero. 

''header''
A string to be used as a permanent header for the slide show. By default it's used the title of tiddler that defines the slide show.

''footer''
A string to be used as a permanent footer for the slide show. By default the footer is empty.
!Incremental display
A succession of overlays (or layers) can be defined in each slide by marking blocks of text with
{{{
{{overlay1{...some text...}}}, {{overlay2{...some text...}}}, {{overlay3{...some text...}}}, ...
}}}
The default name of the classes (//overlay//) can be redefined with //config.macros.slideShow.text.overlay = &quot;layer&quot;//, for example. 
To costumize the way overlays are shown you can redefine the following CSS classes
*.previousOverlay 
*.currentOverlay 
*.nextOverlay 
in a ~StyleSheet. The default style simply hides the next overlays and shows the current and the previous ones as normal text.
!Slide show navigation
You can navigate through a slide show using the keyboard or the mouse. 
!!Mouse navigation
Left (right) clicking on a slide jumps to the next (previous) slide or overlay. To move to the first or last slides you must use the navigation bar at the bottom of the browser's window.
!!Keyboard
The following keys are defined:
*Home - first slide
*~PageUp - previous slide
*~PageDown - next slide
*End - last slide
*Escape - exit slide show
*Up arrow - first overlay
*Left arrow - previous overlay/slide
*Pause/Right arrow - next overlay/slide
*Down arrow - last overlay
*Spacebar - pause/resume slide show in auto advance mode, next overlay/slide otherwise
*B - blank screen and block the slide show
!Miscellaneous 
Any block of text marked as
{{{
{{comment{For my eyes only!}}}
}}}
will not be displayed in the slide show.

All translatable strings are defined in //config.macros.slideShow.text// parameter. See SlideShowPluginMsgPT with the portuguese translation as an example.</pre>
</div>
<div title="SnapshotPlugin" modifier="Christopher Wilson" created="201404102109" tags="excludeTimeline systemConfig systemConfigDisable" changecount="1">
<pre>/***
|Name|SnapshotPlugin|
|Source|http://www.TiddlyTools.com/#SnapshotPlugin|
|Documentation|http://www.TiddlyTools.com/#SnapshotPluginInfo|
|Version|1.4.3|
|Author|Eric Shulman|
|License|http://www.TiddlyTools.com/#LegalStatements|
|~CoreVersion|2.1|
|Type|plugin|
|Description|save or print HTML+CSS image of rendered document content|
This plugin provides a macro as well as tiddler toolbar commands to create a file or browser window containing the //rendered// CSS-and-HTML that is currently being displayed for selected elements of the current document.
!!!!!Documentation
&gt;see [[SnapshotPluginInfo]]
!!!!!Configuration
&lt;&lt;&lt;
&lt;&lt;option chkSnapshotHTMLOnly&gt;&gt; output HTML only (omit CSS)
&lt;&lt;&lt;
!!!!!Revisions
&lt;&lt;&lt;
2011.02.14 1.4.3 fix OSX error: use picker.file.path
2011.01.03 1.4.2 added snapshotSaveViewer toolbar command
2010.12.15 1.4.1 added 'snapshot' class to wrapper
|please see [[SnapshotPluginInfo]] for additional revision details|
2008.04.21 1.0.0 initial release - derived from [[NewDocumentPlugin]] with many improvements...
&lt;&lt;&lt;
!!!!!Code
***/
//{{{
version.extensions.SnapshotPlugin= {major: 1, minor: 4, revision: 3, date: new Date(2011,2,14)};

if (config.options.chkSnapshotHTMLOnly===undefined)
	config.options.chkSnapshotHTMLOnly=false;

config.macros.snapshot = {
	snapLabel: &quot;save a snapshot&quot;,
	printLabel: &quot;print a snapshot&quot;,
	snapPrompt: &quot;save an HTML image&quot;,
	printPrompt: &quot;print an HTML image&quot;,
	hereID: &quot;here&quot;,
	viewerID: &quot;viewer&quot;,
	storyID: &quot;story&quot;,
	allID: &quot;all&quot;,
	askID: &quot;ask&quot;,
	askTiddlerID: &quot;askTiddler&quot;,
	askDOMID: &quot;askDOM&quot;,
	askMsg: &quot;select an element...&quot;,
	hereItem: &quot;tiddler: '%0'&quot;,
	viewerItem: &quot;tiddler: '%0' (content only)&quot;,
	storyItem: &quot;story column (one file)&quot;,
	storyFilesItem: &quot;story column (multiple files)&quot;,
	allItem: &quot;entire document&quot;,
	tiddlerItem: &quot;select a tiddler...&quot;,
	IDItem: &quot;select a DOM element by ID...&quot;,
	HTMLItem: &quot;[%0] output HTML only (omit CSS)&quot;,
	fileMsg: &quot;select or enter a target path/filename&quot;,
	defaultFilename: &quot;snapshot.html&quot;,
	okmsg: &quot;snapshot written to %0&quot;,
	failmsg: &quot;An error occurred while creating %0&quot;,
	handler: function(place,macroName,params,wikifier,paramString,tiddler) {
		var printing=params[0]&amp;&amp;params[0]==&quot;print&quot;; if (printing) params.shift();
		params = paramString.parseParams(&quot;anon&quot;,null,true,false,false);
		var id=getParam(params,&quot;id&quot;,&quot;here&quot;);
		var label=getParam(params,&quot;label&quot;,printing?this.printLabel:this.snapLabel);
		var prompt=getParam(params,&quot;prompt&quot;,printing?this.printPrompt:this.snapPrompt);
		var btn=createTiddlyButton(place,label,prompt, function(ev){
			this.setAttribute(&quot;snapID&quot;,this.getAttribute(&quot;startID&quot;));
			config.macros.snapshot.go(this,ev)
		});
		btn.setAttribute(&quot;startID&quot;,id);
		btn.setAttribute(&quot;snapID&quot;,id);
		btn.setAttribute(&quot;printing&quot;,printing?&quot;true&quot;:&quot;false&quot;);
		btn.setAttribute(&quot;HTMLOnly&quot;,config.options.chkSnapshotHTMLOnly?&quot;true&quot;:&quot;false&quot;);
	},
	go: function(here,ev) {
		var cms=config.macros.snapshot; // abbreviation
		var id=here.getAttribute(&quot;snapID&quot;);
		var printing=here.getAttribute(&quot;printing&quot;)==&quot;true&quot;;
		var HTMLOnly=here.getAttribute(&quot;HTMLOnly&quot;)==&quot;true&quot;;

		if (id==cms.askID||id==cms.askTiddlerID||id==cms.askDOMID) {
			cms.askForID(here,ev);
		} else if (id==cms.storyID) {
			story.forEachTiddler(function(t,e) {
				var out=cms.getsnap(e,e.id,printing,HTMLOnly);
				if (printing) cms.printsnap(out);
				else cms.savesnap(out,e.getAttribute('tiddler')+'.html');
			});
		} else {
			if (id==cms.allID) id=&quot;contentWrapper&quot;;
			var snapElem=document.getElementById(id);
			if (id==cms.hereID || id==cms.viewerID)
				var snapElem=story.findContainingTiddler(here);
			if (snapElem &amp;&amp; hasClass(snapElem,&quot;tiddler&quot;) &amp;&amp; (id==cms.viewerID || HTMLOnly)) {
				// find viewer class element within tiddler element
				var nodes=snapElem.getElementsByTagName(&quot;*&quot;);
				for (var i=0; i&lt;nodes.length; i++)
					if (hasClass(nodes[i],&quot;viewer&quot;)) { snapElem=nodes[i]; break; }
			}
			if (!snapElem) // not in a tiddler or no viewer element or unknown ID
				{ e.cancelBubble=true; if(e.stopPropagation)e.stopPropagation(); return(false); }
			// write or print snapshot
			var out=cms.getsnap(snapElem,id,printing,HTMLOnly);
			if (printing) cms.printsnap(out); else cms.savesnap(out);
		}
		return false;
	},
	askForID: function(here,ev) {
		var ev = ev ? ev : window.event; 
		var cms=config.macros.snapshot; // abbreviation
		var id=here.getAttribute(&quot;snapID&quot;);
		var indent='\xa0\xa0\xa0\xa0';
		var p=Popup.create(here); if (!p) return false; p.className+=' sticky smallform';
		var s=createTiddlyElement(p,'select'); s.button=here;
		if (id==cms.askID) {
			s.options[s.length]=new Option(cms.askMsg,cms.askID);
			var tid=story.findContainingTiddler(here);
			if(tid) { 
				var title=tid.getAttribute(&quot;tiddler&quot;);
				if (here.getAttribute(&quot;HTMLOnly&quot;)!=&quot;true&quot;)
					s.options[s.length]=new Option(indent+cms.hereItem.format([title]),cms.hereID);
				s.options[s.length]=new Option(indent+cms.viewerItem.format([title]),cms.viewerID);
			}
			s.options[s.length]=new Option(indent+cms.tiddlerItem,cms.askTiddlerID);
			s.options[s.length]=new Option(indent+cms.IDItem,cms.askDOMID);
			s.options[s.length]=new Option(indent+cms.storyItem,&quot;tiddlerDisplay&quot;);
			s.options[s.length]=new Option(indent+cms.storyFilesItem,cms.storyID);
			s.options[s.length]=new Option(indent+cms.allItem,&quot;contentWrapper&quot;);
		}
		if (id==cms.askDOMID) {
			s.options[s.length]=new Option(cms.IDItem,cms.askDOMID);
			var elems=document.getElementsByTagName(&quot;*&quot;);
			var ids=[];
			for (var i=0;i&lt;elems.length;i++)
				if (elems[i].id.length &amp;&amp; elems[i].className!=&quot;animationContainer&quot;)
					ids.push(elems[i].id);
			ids.sort();
			for (var i=0;i&lt;ids.length;i++) s.options[s.length]=new Option(indent+ids[i],ids[i]);
		}
		if (id==cms.askTiddlerID) {
			s.options[s.length]=new Option(cms.tiddlerItem,cms.askTiddlerID);
			var elems=document.getElementsByTagName(&quot;div&quot;);
			var ids=[];
			for (var i=0;i&lt;elems.length;i++) { var id=elems[i].id;
				if (id.length &amp;&amp; id.substr(0,story.idPrefix.length)==story.idPrefix &amp;&amp; id!=&quot;tiddlerDisplay&quot;)
					ids.push(id);
			}
			ids.sort();
			for (var i=0;i&lt;ids.length;i++) s.options[s.length]=new Option(indent+ids[i].substr(story.idPrefix.length),ids[i]);
		}
		s.options[s.length]=new Option(cms.HTMLItem.format([here.getAttribute(&quot;HTMLOnly&quot;)==&quot;true&quot;?&quot;\u221a&quot;:&quot;_&quot;]),cms.HTMLItem);
		s.onchange=function(ev){
			var ev = ev ? ev : window.event; 
			var cms=config.macros.snapshot; // abbreviation
			var here=this.button;
			if (this.value==cms.HTMLItem) {
				config.options.chkSnapshotHTMLOnly=!config.options.chkSnapshotHTMLOnly;
				here.setAttribute(&quot;HTMLOnly&quot;,config.options.chkSnapshotHTMLOnly?&quot;true&quot;:&quot;false&quot;);
				config.macros.option.propagateOption(&quot;chkSnapshotHTMLOnly&quot;,&quot;checked&quot;,
					config.options.chkSnapshotHTMLOnly,&quot;input&quot;);
			} else
				here.setAttribute(&quot;snapID&quot;,this.value);
			config.macros.snapshot.go(here,ev);
			return false;
		};
		Popup.show();
		ev.cancelBubble=true;
		if(ev.stopPropagation)ev.stopPropagation();
		return false;
	},
	getpath: function() {
		// get current path
		var path=getLocalPath(window.location.href);
		var slashpos=path.lastIndexOf(&quot;/&quot;);
		if (slashpos==-1) slashpos=path.lastIndexOf(&quot;\\&quot;); 
		if (slashpos!=-1) path=path.substr(0,slashpos+1); // trim filename
		return path;
	},
	getsnap: function(snapElem,id,printing,HTMLOnly) {
		var cms=config.macros.snapshot; // abbreviation
		var out='&lt;head&gt;&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html;charset=utf-8&quot; /&gt;';
		if (printing)
			out+='&lt;base href=&quot;file:///'+cms.getpath().replace(/\\/g,'/')+'&quot;&gt;&lt;/base&gt;\n';
		if (!HTMLOnly) {
			var styles=document.getElementsByTagName('style');
			var fmt='&lt;style&gt;\n/* stylesheet=%0 */\n%1\n\n&lt;/style&gt;\n';
			for(var i=0; i &lt; styles.length; i++)
				out+=fmt.format([styles[i].getAttribute('id'),styles[i].innerHTML]);
		}
		out+='&lt;/head&gt;\n';

		var elems=snapElem.getElementsByTagName('input');
		for (var i=0; i&lt;elems.length; i++) { var e=elems[i];
			if (e.type=='text')		e.defaultValue=e.value;
			if (e.type=='checkbox')	 	e.defaultChecked=e.checked;
			if (e.type=='radiobutton')	e.defaultChecked=e.checked;
		}
		var elems=snapElem.getElementsByTagName('textarea');
		for (var i=0; i&lt;elems.length; i++)	elems[i].defaultValue=elems[i].value;

		var fmt='&lt;body&gt;\n\n&lt;div class=&quot;snapshot %0&quot;&gt;%1&lt;/div&gt;\n\n&lt;/body&gt;\n';
		out+=fmt.format([(id==cms.viewerID?'tiddler viewer':''),snapElem.innerHTML]);

		return '&lt;html&gt;\n'+out+'&lt;/html&gt;';
	},
	printsnap: function(out) {
		var win=window.open(&quot;&quot;,&quot;_blank&quot;,&quot;&quot;);
		win.document.open();
		win.document.writeln(out);
		win.document.close();
		win.focus(); // bring to front
		win.print(); // trigger print dialog
	},
	savesnap: function(out,target) {
		var cms=config.macros.snapshot; // abbreviation
		// make sure we are local
		if (window.location.protocol!=&quot;file:&quot;)
			{ alert(config.messages.notFileUrlError); return; }
		var target=target||cms.askForFilename(cms.fileMsg,cms.getpath(),cms.defaultFilename);
		if (!target) return; // cancelled by user
		// if specified file does not include a path, assemble fully qualified path and filename
		var slashpos=target.lastIndexOf(&quot;/&quot;); if (slashpos==-1) slashpos=target.lastIndexOf(&quot;\\&quot;);
		if (slashpos==-1) {
			var h=document.location.href;
			var cwd=getLocalPath(decodeURIComponent(h.substr(0,h.lastIndexOf('/')+1)));
			target=cwd+target;
		}
		var link=&quot;file:///&quot;+target.replace(/\\/g,'/'); // link for message text
		var ok=saveFile(target,convertUnicodeToUTF8(out));
		var msg=ok?cms.okmsg.format([target]):cms.failmsg.format([target]);
		displayMessage(msg,link);
	},
	askForFilename: function(msg,path,file) {
		if(window.Components) { // moz
			try {
				netscape.security.PrivilegeManager.enablePrivilege('UniversalXPConnect');
				var nsIFilePicker = window.Components.interfaces.nsIFilePicker;
				var picker = Components.classes['@mozilla.org/filepicker;1'].createInstance(nsIFilePicker);
				picker.init(window, msg, nsIFilePicker.modeSave);
				var thispath = Components.classes['@mozilla.org/file/local;1'].createInstance(Components.interfaces.nsILocalFile);
				thispath.initWithPath(path);
				picker.displayDirectory=thispath;
				picker.defaultExtension='html';
				picker.defaultString=file;
				picker.appendFilters(nsIFilePicker.filterAll|nsIFilePicker.filterText|nsIFilePicker.filterHTML);
				if (picker.show()!=nsIFilePicker.returnCancel) var result=picker.file.path;
			}
			catch(e) { alert('error during local file access: '+e.toString()) }
		}
		else { // IE
			try { // XP/Vista only
				var s = new ActiveXObject('UserAccounts.CommonDialog');
				s.Filter='All files|*.*|Text files|*.txt|HTML files|*.htm;*.html|';
				s.FilterIndex=3; // default to HTML files;
				s.InitialDir=path;
				s.FileName=file;
				if (s.showOpen()) var result=s.FileName;
			}
			catch(e) { var result=prompt(msg,path+file); } // fallback for non-XP IE
		}
		return result;
	}
};
//}}}

// // TOOLBAR DEFINITIONS
//{{{
config.commands.snapshotSave = {
	text: &quot;snap&quot;,
	tooltip: config.macros.snapshot.snapPrompt,
	handler: function(ev,src,title) {
		src.setAttribute(&quot;snapID&quot;,&quot;ask&quot;);
		src.setAttribute(&quot;printing&quot;,&quot;false&quot;);
		src.setAttribute(&quot;HTMLOnly&quot;,config.options.chkSnapshotHTMLOnly?&quot;true&quot;:&quot;false&quot;);
		config.macros.snapshot.go(src,ev);
		return false;
	}
};
config.commands.snapshotSaveViewer = {
	text: &quot;snap&quot;,
	tooltip: config.macros.snapshot.snapPrompt,
	handler: function(ev,src,title) {
		src.setAttribute(&quot;snapID&quot;,&quot;viewer&quot;);
		src.setAttribute(&quot;printing&quot;,&quot;false&quot;);
		src.setAttribute(&quot;HTMLOnly&quot;,config.options.chkSnapshotHTMLOnly?&quot;true&quot;:&quot;false&quot;);
		config.macros.snapshot.go(src,ev);
		return false;
	}
};
config.commands.snapshotPrint = {
	text: &quot;print&quot;,
	tooltip: config.macros.snapshot.printPrompt,
	handler: function(ev,src,title) {
		src.setAttribute(&quot;snapID&quot;,&quot;ask&quot;);
		src.setAttribute(&quot;printing&quot;,&quot;true&quot;);
		src.setAttribute(&quot;HTMLOnly&quot;,config.options.chkSnapshotHTMLOnly?&quot;true&quot;:&quot;false&quot;);
		config.macros.snapshot.go(src,ev);
		return false;
	}
};
config.commands.snapshotPrintViewer = {
	text: &quot;print&quot;,
	tooltip: config.macros.snapshot.printPrompt,
	handler: function(ev,src,title) {
		src.setAttribute(&quot;snapID&quot;,&quot;viewer&quot;);
		src.setAttribute(&quot;printing&quot;,&quot;true&quot;);
		src.setAttribute(&quot;HTMLOnly&quot;,config.options.chkSnapshotHTMLOnly?&quot;true&quot;:&quot;false&quot;);
		config.macros.snapshot.go(src,ev);
		return false;
	}
};
//}}}

// // COPIED FROM [[StickyPopupPlugin]] TO ELIMINATE PLUGIN DEPENDENCY
//{{{
if (config.options.chkStickyPopups==undefined) config.options.chkStickyPopups=false;
Popup.stickyPopup_onDocumentClick = function(ev)
{
	// if click is in a sticky popup, ignore it so popup will remain visible
	var e = ev ? ev : window.event; var target = resolveTarget(e);
	var p=target; while (p) {
		if (hasClass(p,&quot;popup&quot;) &amp;&amp; (hasClass(p,&quot;sticky&quot;)||config.options.chkStickyPopups)) break;
		else p=p.parentNode;
	}
	if (!p) // not in sticky popup (or sticky popups disabled)... use normal click handling
		Popup.onDocumentClick(ev);
	return true;
};
try{removeEvent(document,&quot;click&quot;,Popup.onDocumentClick);}catch(e){};
try{addEvent(document,&quot;click&quot;,Popup.stickyPopup_onDocumentClick);}catch(e){};
//}}}</pre>
</div>
<div title="SnapshotPluginInfo" modifier="Christopher Wilson" created="201404102109" tags="excludeTimeline">
<pre>/***
|Name|SnapshotPluginInfo|
|Source|http://www.TiddlyTools.com/#SnapshotPlugin|
|Documentation|http://www.TiddlyTools.com/#SnapshotPluginInfo|
|Version|1.4.2|
|Author|Eric Shulman|
|License|http://www.TiddlyTools.com/#LegalStatements|
|~CoreVersion|2.1|
|Type|documentation|
|Description|Documentation for SnapshotPlugin|
This plugin provides a macro as well as tiddler toolbar commands that creates a file or opens a new browser window containing the //rendered// HTML and CSS style definitions that are being displayed for selected elements of the current document.
!!!!!Usage:
&lt;&lt;&lt;
As a macro embedded in tiddler content:
{{{
&lt;&lt;snapshot print label:text prompt:text id:elementID|here|viewer|story|all|ask&gt;
}}}
where:
*''print'' //(optional)//&lt;br&gt;when present, causes the snapshot output to be directed to a new browser tab/window instead of saving it to a file.  In addition, the print dialog for that tab/window is automatically invoked.
*''label'' //(optional)//&lt;br&gt;is the text to be displayed for the command link generated by the macro
*''prompt'' //(optional)//&lt;br&gt;is the 'tool tip' message displayed when you mouseover the command link
*''id:...'' //(optional)//&lt;br&gt;specifies the document element to be captured, and can be one of:
**''elementID''&lt;br&gt;is a specific DOM element ID, such as &quot;displayArea&quot;, &quot;mainMenu&quot;, &quot;contentWrapper&quot;, etc.
**''here''&lt;br&gt;the containing tiddler in which the macro (or toolbar command) occurs, including the tiddler title and subtitle (date/time/author) information.
**''viewer''&lt;br&gt;same as ''here'', but omits the tiddler title, subtitle and toolbar elements (i.e., it includes //only// the content of the tiddler)
**''story''&lt;br&gt;selects all currently displayed tiddlers (i.e., the 'story column')
**''all''&lt;br&gt;selects the entire document contents, including page header, main menu and sidebar displays
**''ask''&lt;br&gt;when the snapshot command link is clicked, a droplist is displayed so you can choose from several pre-defined elements: &quot;current tiddler&quot;, &quot;story column&quot;, or &quot;entire document&quot;, or &quot;DOM element ID...&quot;  When DOM element ID is chosen, the droplist is refreshed to show the individual ID's for all currently rendered DOM elements (at least, the ones that have ID's).  For any given DOM element ID, only the portions of the document that are contained //within// the specified DOM element will be transcribed to the resulting snapshot or print output.  
//''NOTE: when no parameters are specified, the macro creates a snapshot file using the containing tiddler as the default element.'' (e.g., equivalent to {{{&lt;&lt;snapshot id:here&gt;&gt;}}}//

The snapshot/print functions can also be embedded as tiddler toolbar commands in [[ViewTemplate]]:
{{{
&lt;span class='toolbar' macro='toolbar snapshotSave'&gt;&lt;/span&gt;
&lt;span class='toolbar' macro='toolbar snapshotSaveViewer'&gt;&lt;/span&gt;
&lt;span class='toolbar' macro='toolbar snapshotPrint'&gt;&lt;/span&gt;
&lt;span class='toolbar' macro='toolbar snapshotPrintViewer'&gt;&lt;/span&gt;
}}}
* By default, the toolbar commands use the &quot;id:ask&quot; option to display a droplist of elements to select from.  The &quot;...Viewer&quot; form of each command bypasses the droplist and automatically selects the current tiddler viewer area for saving/printing.

Please note that, although the snapshot/print that is created using the HTML+CSS of the displayed content, ''there is NO javascript code'' written into the snapshot.  As a result, the snapshot only ''reproduces the //appearance// of the displayed content, allowing you to //view// or //print// the result'', but does not permit you to interact with it in other ways.

For example, even simple processing (such as mouseover highlighting) will not function from the snapshot.  You can't click a TiddlyLink to open other tiddlers, because A) there is no code that handles the click and B) there is no underlying 'storeArea' (and core code) to retrieve and render anything!  You also can't use ANY command links, since these also require javascript code (and the core) to operate. 

__''Custom CSS for printing''__
There can be differences in the appearance of snapshot output when rendered on different devices (e.g. screen vs. printer).  Although these differences are typically very minor, it is sometimes necessary to define alternative CSS styles to account for the differences in device characteristics, such as font metrics, page sizes, resolutions, etc.  You can use the {{{@@media}}} wrapper within your custom StyleSheet CSS to define printer-specific formatting:
{{{
@media print {
...
}
}}}
The plugin places the snapshot output within a custom CSS class wrapper, using the classname, &quot;{{{.snapshot}}}&quot;.  This enables you to define and apply custom formatting rules to 'fine tune' the appearance of the snapshot output, regardless of the intended output device.  For example, the following rule will override and hide tiddler borders and background colors when displaying and/or printing snapshots.
{{{
.snapshot .viewer { border:0 !important; background-color:none !important; }
}}}
&lt;&lt;&lt;
!!!!!Examples:
&lt;&lt;&lt;
{{{&lt;&lt;snapshot&gt;&gt;}}}: &lt;&lt;snapshot&gt;&gt;
{{{&lt;&lt;snapshot id:mainMenu&gt;&gt;}}}: &lt;&lt;snapshot id:mainMenu&gt;&gt;
{{{&lt;&lt;snapshot print id:story&gt;&gt;}}}: &lt;&lt;snapshot print id:story&gt;&gt;
{{{&lt;&lt;snapshot print id:ask&gt;&gt;}}}: &lt;&lt;snapshot print id:ask&gt;&gt;
{{{&lt;&lt;snapshot print noCSS id:viewer&gt;&gt;}}}: &lt;&lt;snapshot print noCSS id:viewer&gt;&gt;
&lt;&lt;&lt;
!!!!!Configuration
&lt;&lt;&lt;
&lt;&lt;option chkSnapshotHTMLOnly&gt;&gt; output HTML only (omit CSS)
&lt;&lt;&lt;
!!!!!Revisions
&lt;&lt;&lt;
2011.01.03 1.4.2 added snapshotSaveViewer toolbar command
2010.12.15 1.4.1 added 'snapshot' class to wrapper
2010.11.20 1.4.0 added snapshotPrintViewer toolbar command
2009.10.12 1.3.0 added multi-file story snapshot
2009.09.25 1.2.1 in getSnap(), added META tag to set UTF-8 encoding for I18N support
2009.06.04 1.2.0 added handling in getSnap() so current form input values are shown in snapshots
2008.05.16 1.1.1 added try..catch around addEvent/removeEvent calls to avoid error in Opera
2008.04.28 1.1.0 removed 'viewerHTML' from 'ask' droplist and replaced with toggle for &quot;output HTML only&quot;.  Removed 'noCSS' parameter and replaced with config.options.chkSnapshotHTMLOnly global option.  Added &quot;select a tiddler...&quot; to 'ask' droplist
2008.04.24 1.0.1 in saveSnap(), convert output from Unicode to UTF before passing to saveFile().  Fixes &quot;unknown name&quot; error in IE's file.Write() function.
2008.04.21 1.0.0 initial release - derived from [[NewDocumentPlugin]] with many improvements, including: &quot;ask for ID&quot; using droplist of available DOM elements, use &quot;&lt;base href=...&gt;&quot; for correctly resolving image references, wrap 'viewer only' output in class=&quot;tiddler viewer&quot; for proper application of inherited CSS styles, snapshotSave and snapshotPrint tiddler toolbar command definitions, and more...

__Excerpted revisions from [[NewDocumentPlugin]] (obsolete)__
2008.04.20 1.8.0 added support for 'noCSS' and 'viewer' params for alternative snapshot output
2007.03.30 1.7.0 added support for &quot;print&quot; param as alternative for &quot;snap&quot;.  When &quot;print&quot; is used, the filename is ignored and ouput is directed to another browser tab/window, where the print dialog is then automatically triggered.
2007.03.30 1.6.1 added support for &quot;here&quot; keyword for current tiddler elementID and &quot;prompt:text&quot; param for specifying tooltip text
2006.10.18 1.5.0 new optional param for 'snap'... specify alternative DOM element ID (default is still &quot;contentWrapper&quot;).  Based on a suggestion from Xavier Verges.
2006.03.09 1.2.0 added special &quot;snap&quot; filter parameter to generate and write &quot;snapshot&quot; files containing static HTML+CSS for currently rendered document.
2006.02.03 1.0.0 Created.
&lt;&lt;&lt;</pre>
</div>
<div title="SpaceActivityData" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404140731" modified="201404140748" tags="example-data excludeLists excludeTimeline" changecount="2" content-type="">
<pre>&lt;&lt;ActivityTable&gt;&gt;</pre>
</div>
<div title="Spherical Harmonics" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404141354" modified="201404150140" tags="KeepRevisions QuantumMechanics" changecount="71" content-type="text/x-tiddlywiki">
<pre>{{sectionTOC{}}}
!!''//l = 0//''
|sortable2|k
|! |! |! |h
|font-size:12pt; !''//l//'' |font-size:12pt;  !''//m//''  |font-size:12pt; !''//Y~~l~~^^m^^(&amp;#952;, &amp;#966;)//'' |h
| $0$ | $0$ | $$\frac{1}{2 \sqrt{\pi }}$$ |
|! |! |! |h

!!''//l = 1//''
|sortable2|k
|! |! |! |h
|font-size:12pt; !''//l//'' |font-size:12pt; !''//m//''  |font-size:12pt;!''//Y~~l~~^^m^^(&amp;#952;, &amp;#966;)//'' |h
| $1$ | $1$ |$$\frac{1}{2}\sqrt{\frac{3}{2 \pi }} e^{-i \phi }\sin\theta$$ |
| $1$ | $0$ |$$\frac{1}{2}\sqrt{\frac{3}{\pi }}\cos\theta$$|
| $1$ | -$1$ |$$-\frac{1}{2}\sqrt{\frac{3}{2 \pi }} e^{i \phi }\sin\theta$$ |
|! |! |! |h

!!''//l = 2//''
|sortable2|k
|! |! |! |h
|font-size:12pt; !''//l//'' |font-size:12pt;  !''//m//''  |font-size:12pt; !''//Y~~l~~^^m^^(&amp;#952;, &amp;#966;)//'' |h
| $2$ | $2$ | $$\frac{1}{4} \sqrt{\frac{15}{2 \pi }} e^{-2 i \phi } \sin^2\theta$$ |
| $2$ | $1$ | $$\frac{1}{2} \sqrt{\frac{15}{2 \pi }} e^{-i \phi } \sin\theta\cos\theta $$ |
| $2$ | $0$ | $$\frac{1}{8} \sqrt{\frac{5}{\pi }} \Bigl(3\cos(2 \theta) +1\Bigr)$$|
| $2$ | -$1$ | $$-\frac{1}{2} \sqrt{\frac{15}{2 \pi }} e^{i \phi }\sin\theta\cos\theta $$ |
| $2$ | -$2$ | $$\frac{1}{4} \sqrt{\frac{15}{2 \pi }} e^{2 i \phi }\sin ^2\theta $$ |
|! |! |! |h

!!''//l = 3//''
|sortable2|k
|! |! |! |h
|font-size:12pt; !''//l//'' |font-size:12pt;  !''//m//''  |font-size:12pt; !''//Y~~l~~^^m^^(&amp;#952;, &amp;#966;)//'' |h
| $3$ | $3$ |$$\frac{1}{8} \sqrt{\frac{35}{\pi }} e^{-3 i \phi } \sin ^3\theta$$ |
| $3$ | $2$ |$$\frac{1}{4} \sqrt{\frac{105}{2 \pi }} e^{-2 i \phi }   \sin ^2\theta \cos\theta  $$ |
| $3$ | $1$ |$$\frac{1}{32} \sqrt{\frac{21}{\pi }} e^{-i \phi } \Bigl(  \sin\theta +5 \sin(3 \theta )\Bigr) $$ |
| $3$ | $0$ |$$\frac{1}{16} \sqrt{\frac{7}{\pi }} \Bigl(3  \cos\theta  +5  \cos(3 \theta ) \Bigr)$$ |
| $3$ | -$1$ |$$-\frac{1}{32} \sqrt{\frac{21}{\pi }} e^{i \phi } \Bigl(  \sin\theta +5  \sin(3 \theta ) \Bigr)$$ |
| $3$ | -$2$ |$$\frac{1}{4} \sqrt{\frac{105}{2 \pi }} e^{2 i \phi }  \sin ^2\theta  \cos\theta $$ |
| $3$ | -$3$ |$$-\frac{1}{8} \sqrt{\frac{35}{\pi }} e^{3 i \phi }  \sin ^3\theta $$ |
|! |! |! |h
&lt;&lt;sectionTOC&gt;&gt;


</pre>
</div>
<div title="Spherical Harmonics Revision(0001)" modifier="Christopher Wilson" created="201404141459" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="65" content-type="text/x-tiddlywiki">
<pre>{{sectionTOC{}}}
!!''//l = 0//''
|sortable|k
|font-size:15pt; !''//l//'' |font-size:15pt;  !''//m//''  |font-size:15pt; !''//Y~~l~~^^m^^(&amp;#952;, &amp;#966;)//'' |h
| $0$ | $0$ | $$\frac{1}{2 \sqrt{\pi }}$$ |

!!''//l = 1//''
|sortable|k
|font-size:15pt; !''//l//'' |font-size:15pt;  !''//m//''  |font-size:15pt; !''//Y~~l~~^^m^^(&amp;#952;, &amp;#966;)//'' |h
| $1$ | $1$ | $$\frac{1}{2} \sqrt{\frac{3}{2 \pi }} e^{-i \phi } \sin\theta$$ |
| $1$ | $0$ | $$\frac{1}{2} \sqrt{\frac{3}{\pi }} \cos\theta$$|
| $1$ | -$1$ | $$-\frac{1}{2} \sqrt{\frac{3}{2 \pi }} e^{i \phi } \sin\theta$$ |

!!''//l = 2//''
|sortable|k
|font-size:15pt; !''//l//'' |font-size:15pt;  !''//m//''  |font-size:15pt; !''//Y~~l~~^^m^^(&amp;#952;, &amp;#966;)//'' |h
| $2$ | $2$ | $$\frac{1}{4} \sqrt{\frac{15}{2 \pi }} e^{-2 i \phi } \sin^2\theta$$ |
| $2$ | $1$ | $$\frac{1}{2} \sqrt{\frac{15}{2 \pi }} e^{-i \phi } \sin\theta\cos\theta $$ |
| $2$ | $0$ | $$\frac{1}{8} \sqrt{\frac{5}{\pi }} \Bigl(3\cos(2 \theta) +1\Bigr)$$|
| $2$ | -$1$ | $$-\frac{1}{2} \sqrt{\frac{15}{2 \pi }} e^{i \phi }\sin\theta\cos\theta $$ |
| $2$ | -$2$ | $$\frac{1}{4} \sqrt{\frac{15}{2 \pi }} e^{2 i \phi }\sin ^2\theta $$ |

!!''//l = 3//''
|sortable|k
|font-size:15pt; !''//l//'' |font-size:15pt;  !''//m//''  |font-size:15pt; !''//Y~~l~~^^m^^(&amp;#952;, &amp;#966;)//'' |h
| $3$ | $3$ |$$\frac{1}{8} \sqrt{\frac{35}{\pi }} e^{-3 i \phi } \sin ^3\theta$$ |
| $3$ | $2$ |$$\frac{1}{4} \sqrt{\frac{105}{2 \pi }} e^{-2 i \phi }   \sin ^2\theta \cos\theta  $$ |
| $3$ | $1$ |$$\frac{1}{32} \sqrt{\frac{21}{\pi }} e^{-i \phi } \Bigl(  \sin\theta +5 \sin(3 \theta )\Bigr) $$ |
| $3$ | $0$ |$$\frac{1}{16} \sqrt{\frac{7}{\pi }} \Bigl(3  \cos\theta  +5  \cos(3 \theta ) \Bigr)$$ |
| $3$ | -$1$ |$$-\frac{1}{32} \sqrt{\frac{21}{\pi }} e^{i \phi } \Bigl(  \sin\theta +5  \sin(3 \theta ) \Bigr)$$ |
| $3$ | -$2$ |$$\frac{1}{4} \sqrt{\frac{105}{2 \pi }} e^{2 i \phi }  \sin ^2\theta  \cos\theta $$ |
| $3$ | -$3$ |$$-\frac{1}{8} \sqrt{\frac{35}{\pi }} e^{3 i \phi }  \sin ^3\theta $$ |
&lt;&lt;sectionTOC&gt;&gt;


</pre>
</div>
<div title="Spherical Harmonics Revision(0002)" modifier="Christopher Wilson" created="201404150137" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="66" content-type="text/x-tiddlywiki">
<pre>{{sectionTOC{}}}
!!''//l = 0//''
|sortable2|k
|font-size:15pt; !''//l//'' |font-size:15pt;  !''//m//''  |font-size:15pt; !''//Y~~l~~^^m^^(&amp;#952;, &amp;#966;)//'' |h
| $0$ | $0$ | $$\frac{1}{2 \sqrt{\pi }}$$ |

!!''//l = 1//''
|sortable2|k
|font-size:15pt; !''//l//'' |font-size:15pt;  !''//m//''  |font-size:15pt; !''//Y~~l~~^^m^^(&amp;#952;, &amp;#966;)//'' |h
| $1$ | $1$ | $$\frac{1}{2} \sqrt{\frac{3}{2 \pi }} e^{-i \phi } \sin\theta$$ |
| $1$ | $0$ | $$\frac{1}{2} \sqrt{\frac{3}{\pi }} \cos\theta$$|
| $1$ | -$1$ | $$-\frac{1}{2} \sqrt{\frac{3}{2 \pi }} e^{i \phi } \sin\theta$$ |

!!''//l = 2//''
|sortable2|k
|font-size:15pt; !''//l//'' |font-size:15pt;  !''//m//''  |font-size:15pt; !''//Y~~l~~^^m^^(&amp;#952;, &amp;#966;)//'' |h
| $2$ | $2$ | $$\frac{1}{4} \sqrt{\frac{15}{2 \pi }} e^{-2 i \phi } \sin^2\theta$$ |
| $2$ | $1$ | $$\frac{1}{2} \sqrt{\frac{15}{2 \pi }} e^{-i \phi } \sin\theta\cos\theta $$ |
| $2$ | $0$ | $$\frac{1}{8} \sqrt{\frac{5}{\pi }} \Bigl(3\cos(2 \theta) +1\Bigr)$$|
| $2$ | -$1$ | $$-\frac{1}{2} \sqrt{\frac{15}{2 \pi }} e^{i \phi }\sin\theta\cos\theta $$ |
| $2$ | -$2$ | $$\frac{1}{4} \sqrt{\frac{15}{2 \pi }} e^{2 i \phi }\sin ^2\theta $$ |

!!''//l = 3//''
|sortable2|k
|font-size:15pt; !''//l//'' |font-size:15pt;  !''//m//''  |font-size:15pt; !''//Y~~l~~^^m^^(&amp;#952;, &amp;#966;)//'' |h
| $3$ | $3$ |$$\frac{1}{8} \sqrt{\frac{35}{\pi }} e^{-3 i \phi } \sin ^3\theta$$ |
| $3$ | $2$ |$$\frac{1}{4} \sqrt{\frac{105}{2 \pi }} e^{-2 i \phi }   \sin ^2\theta \cos\theta  $$ |
| $3$ | $1$ |$$\frac{1}{32} \sqrt{\frac{21}{\pi }} e^{-i \phi } \Bigl(  \sin\theta +5 \sin(3 \theta )\Bigr) $$ |
| $3$ | $0$ |$$\frac{1}{16} \sqrt{\frac{7}{\pi }} \Bigl(3  \cos\theta  +5  \cos(3 \theta ) \Bigr)$$ |
| $3$ | -$1$ |$$-\frac{1}{32} \sqrt{\frac{21}{\pi }} e^{i \phi } \Bigl(  \sin\theta +5  \sin(3 \theta ) \Bigr)$$ |
| $3$ | -$2$ |$$\frac{1}{4} \sqrt{\frac{105}{2 \pi }} e^{2 i \phi }  \sin ^2\theta  \cos\theta $$ |
| $3$ | -$3$ |$$-\frac{1}{8} \sqrt{\frac{35}{\pi }} e^{3 i \phi }  \sin ^3\theta $$ |
&lt;&lt;sectionTOC&gt;&gt;


</pre>
</div>
<div title="Spherical Harmonics Revision(0003)" modifier="Christopher Wilson" created="201404150137" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="67" content-type="text/x-tiddlywiki">
<pre>{{sectionTOC{}}}
!!''//l = 0//''
|sortable2|k
|font-size:15pt; !''//l//'' |font-size:13pt;  !''//m//''  |font-size:15pt; !''//Y~~l~~^^m^^(&amp;#952;, &amp;#966;)//'' |h
| $0$ | $0$ | $$\frac{1}{2 \sqrt{\pi }}$$ |

!!''//l = 1//''
|sortable2|k
|font-size:15pt; !''//l//'' |font-size:13pt;  !''//m//''  |font-size:15pt; !''//Y~~l~~^^m^^(&amp;#952;, &amp;#966;)//'' |h
| $1$ | $1$ | $$\frac{1}{2} \sqrt{\frac{3}{2 \pi }} e^{-i \phi } \sin\theta$$ |
| $1$ | $0$ | $$\frac{1}{2} \sqrt{\frac{3}{\pi }} \cos\theta$$|
| $1$ | -$1$ | $$-\frac{1}{2} \sqrt{\frac{3}{2 \pi }} e^{i \phi } \sin\theta$$ |

!!''//l = 2//''
|sortable2|k
|font-size:15pt; !''//l//'' |font-size:13pt;  !''//m//''  |font-size:15pt; !''//Y~~l~~^^m^^(&amp;#952;, &amp;#966;)//'' |h
| $2$ | $2$ | $$\frac{1}{4} \sqrt{\frac{15}{2 \pi }} e^{-2 i \phi } \sin^2\theta$$ |
| $2$ | $1$ | $$\frac{1}{2} \sqrt{\frac{15}{2 \pi }} e^{-i \phi } \sin\theta\cos\theta $$ |
| $2$ | $0$ | $$\frac{1}{8} \sqrt{\frac{5}{\pi }} \Bigl(3\cos(2 \theta) +1\Bigr)$$|
| $2$ | -$1$ | $$-\frac{1}{2} \sqrt{\frac{15}{2 \pi }} e^{i \phi }\sin\theta\cos\theta $$ |
| $2$ | -$2$ | $$\frac{1}{4} \sqrt{\frac{15}{2 \pi }} e^{2 i \phi }\sin ^2\theta $$ |

!!''//l = 3//''
|sortable2|k
|! |! |! |h
|font-size:15pt; !''//l//'' |font-size:13pt;  !''//m//''  |font-size:15pt; !''//Y~~l~~^^m^^(&amp;#952;, &amp;#966;)//'' |h
| $3$ | $3$ |$$\frac{1}{8} \sqrt{\frac{35}{\pi }} e^{-3 i \phi } \sin ^3\theta$$ |
| $3$ | $2$ |$$\frac{1}{4} \sqrt{\frac{105}{2 \pi }} e^{-2 i \phi }   \sin ^2\theta \cos\theta  $$ |
| $3$ | $1$ |$$\frac{1}{32} \sqrt{\frac{21}{\pi }} e^{-i \phi } \Bigl(  \sin\theta +5 \sin(3 \theta )\Bigr) $$ |
| $3$ | $0$ |$$\frac{1}{16} \sqrt{\frac{7}{\pi }} \Bigl(3  \cos\theta  +5  \cos(3 \theta ) \Bigr)$$ |
| $3$ | -$1$ |$$-\frac{1}{32} \sqrt{\frac{21}{\pi }} e^{i \phi } \Bigl(  \sin\theta +5  \sin(3 \theta ) \Bigr)$$ |
| $3$ | -$2$ |$$\frac{1}{4} \sqrt{\frac{105}{2 \pi }} e^{2 i \phi }  \sin ^2\theta  \cos\theta $$ |
| $3$ | -$3$ |$$-\frac{1}{8} \sqrt{\frac{35}{\pi }} e^{3 i \phi }  \sin ^3\theta $$ |
|! |! |! |h
&lt;&lt;sectionTOC&gt;&gt;


</pre>
</div>
<div title="Spherical Harmonics Revision(0004)" modifier="Christopher Wilson" created="201404150138" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="68" content-type="text/x-tiddlywiki">
<pre>{{sectionTOC{}}}
!!''//l = 0//''
|sortable2|k
|! |! |! |h
|font-size:12pt; !''//l//'' |font-size:12pt;  !''//m//''  |font-size:12pt; !''//Y~~l~~^^m^^(&amp;#952;, &amp;#966;)//'' |h
| $0$ | $0$ | $$\frac{1}{2 \sqrt{\pi }}$$ |
|! |! |! |h

!!''//l = 1//''
|sortable2|k
|! |! |! |h
|font-size:12pt; !''//l//'' |font-size:12pt;  !''//m//''  |font-size:12pt; !''//Y~~l~~^^m^^(&amp;#952;, &amp;#966;)//'' |h
| $1$ | $1$ | $$\frac{1}{2} \sqrt{\frac{3}{2 \pi }} e^{-i \phi } \sin\theta$$ |
| $1$ | $0$ | $$\frac{1}{2} \sqrt{\frac{3}{\pi }} \cos\theta$$|
| $1$ | -$1$ | $$-\frac{1}{2} \sqrt{\frac{3}{2 \pi }} e^{i \phi } \sin\theta$$ |
|! |! |! |h

!!''//l = 2//''
|sortable2|k
|! |! |! |h
|font-size:12pt; !''//l//'' |font-size:12pt;  !''//m//''  |font-size:12pt; !''//Y~~l~~^^m^^(&amp;#952;, &amp;#966;)//'' |h
| $2$ | $2$ | $$\frac{1}{4} \sqrt{\frac{15}{2 \pi }} e^{-2 i \phi } \sin^2\theta$$ |
| $2$ | $1$ | $$\frac{1}{2} \sqrt{\frac{15}{2 \pi }} e^{-i \phi } \sin\theta\cos\theta $$ |
| $2$ | $0$ | $$\frac{1}{8} \sqrt{\frac{5}{\pi }} \Bigl(3\cos(2 \theta) +1\Bigr)$$|
| $2$ | -$1$ | $$-\frac{1}{2} \sqrt{\frac{15}{2 \pi }} e^{i \phi }\sin\theta\cos\theta $$ |
| $2$ | -$2$ | $$\frac{1}{4} \sqrt{\frac{15}{2 \pi }} e^{2 i \phi }\sin ^2\theta $$ |
|! |! |! |h

!!''//l = 3//''
|sortable2|k
|! |! |! |h
|font-size:12pt; !''//l//'' |font-size:12pt;  !''//m//''  |font-size:12pt; !''//Y~~l~~^^m^^(&amp;#952;, &amp;#966;)//'' |h
| $3$ | $3$ |$$\frac{1}{8} \sqrt{\frac{35}{\pi }} e^{-3 i \phi } \sin ^3\theta$$ |
| $3$ | $2$ |$$\frac{1}{4} \sqrt{\frac{105}{2 \pi }} e^{-2 i \phi }   \sin ^2\theta \cos\theta  $$ |
| $3$ | $1$ |$$\frac{1}{32} \sqrt{\frac{21}{\pi }} e^{-i \phi } \Bigl(  \sin\theta +5 \sin(3 \theta )\Bigr) $$ |
| $3$ | $0$ |$$\frac{1}{16} \sqrt{\frac{7}{\pi }} \Bigl(3  \cos\theta  +5  \cos(3 \theta ) \Bigr)$$ |
| $3$ | -$1$ |$$-\frac{1}{32} \sqrt{\frac{21}{\pi }} e^{i \phi } \Bigl(  \sin\theta +5  \sin(3 \theta ) \Bigr)$$ |
| $3$ | -$2$ |$$\frac{1}{4} \sqrt{\frac{105}{2 \pi }} e^{2 i \phi }  \sin ^2\theta  \cos\theta $$ |
| $3$ | -$3$ |$$-\frac{1}{8} \sqrt{\frac{35}{\pi }} e^{3 i \phi }  \sin ^3\theta $$ |
|! |! |! |h
&lt;&lt;sectionTOC&gt;&gt;


</pre>
</div>
<div title="Spherical Harmonics Revision(0005)" modifier="Christopher Wilson" created="201404150139" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="69" content-type="text/x-tiddlywiki">
<pre>{{sectionTOC{}}}
!!''//l = 0//''
|sortable2|k
|! |! |! |h
|font-size:12pt; !''//l//'' |font-size:12pt;  !''//m//''  |font-size:12pt; !''//Y~~l~~^^m^^(&amp;#952;, &amp;#966;)//'' |h
| $0$ | $0$ | $$\frac{1}{2 \sqrt{\pi }}$$ |
|! |! |! |h

!!''//l = 1//''
|sortable2|k
|! |! |! |h
|font-size:12pt; !''//l//'' |font-size:12pt;  !''//m//''  |font-size:12pt; !''//Y~~l~~^^m^^(&amp;#952;, &amp;#966;)//'' |h
| $1$ | $1$ |$$\frac{1}{2} \sqrt{\frac{3}{2 \pi }} e^{-i \phi } \sin\theta$$ |
| $1$ | $0$ |$$\frac{1}{2} \sqrt{\frac{3}{\pi }} \cos\theta$$|
| $1$ | -$1$ |$$-\frac{1}{2} \sqrt{\frac{3}{2 \pi }} e^{i \phi } \sin\theta$$ |
|! |! |! |h

!!''//l = 2//''
|sortable2|k
|! |! |! |h
|font-size:12pt; !''//l//'' |font-size:12pt;  !''//m//''  |font-size:12pt; !''//Y~~l~~^^m^^(&amp;#952;, &amp;#966;)//'' |h
| $2$ | $2$ | $$\frac{1}{4} \sqrt{\frac{15}{2 \pi }} e^{-2 i \phi } \sin^2\theta$$ |
| $2$ | $1$ | $$\frac{1}{2} \sqrt{\frac{15}{2 \pi }} e^{-i \phi } \sin\theta\cos\theta $$ |
| $2$ | $0$ | $$\frac{1}{8} \sqrt{\frac{5}{\pi }} \Bigl(3\cos(2 \theta) +1\Bigr)$$|
| $2$ | -$1$ | $$-\frac{1}{2} \sqrt{\frac{15}{2 \pi }} e^{i \phi }\sin\theta\cos\theta $$ |
| $2$ | -$2$ | $$\frac{1}{4} \sqrt{\frac{15}{2 \pi }} e^{2 i \phi }\sin ^2\theta $$ |
|! |! |! |h

!!''//l = 3//''
|sortable2|k
|! |! |! |h
|font-size:12pt; !''//l//'' |font-size:12pt;  !''//m//''  |font-size:12pt; !''//Y~~l~~^^m^^(&amp;#952;, &amp;#966;)//'' |h
| $3$ | $3$ |$$\frac{1}{8} \sqrt{\frac{35}{\pi }} e^{-3 i \phi } \sin ^3\theta$$ |
| $3$ | $2$ |$$\frac{1}{4} \sqrt{\frac{105}{2 \pi }} e^{-2 i \phi }   \sin ^2\theta \cos\theta  $$ |
| $3$ | $1$ |$$\frac{1}{32} \sqrt{\frac{21}{\pi }} e^{-i \phi } \Bigl(  \sin\theta +5 \sin(3 \theta )\Bigr) $$ |
| $3$ | $0$ |$$\frac{1}{16} \sqrt{\frac{7}{\pi }} \Bigl(3  \cos\theta  +5  \cos(3 \theta ) \Bigr)$$ |
| $3$ | -$1$ |$$-\frac{1}{32} \sqrt{\frac{21}{\pi }} e^{i \phi } \Bigl(  \sin\theta +5  \sin(3 \theta ) \Bigr)$$ |
| $3$ | -$2$ |$$\frac{1}{4} \sqrt{\frac{105}{2 \pi }} e^{2 i \phi }  \sin ^2\theta  \cos\theta $$ |
| $3$ | -$3$ |$$-\frac{1}{8} \sqrt{\frac{35}{\pi }} e^{3 i \phi }  \sin ^3\theta $$ |
|! |! |! |h
&lt;&lt;sectionTOC&gt;&gt;


</pre>
</div>
<div title="Spherical Harmonics Revision(0006)" modifier="Christopher Wilson" created="201404150139" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="70" content-type="text/x-tiddlywiki">
<pre>{{sectionTOC{}}}
!!''//l = 0//''
|sortable2|k
|! |! |! |h
|font-size:12pt; !''//l//'' |font-size:12pt;  !''//m//''  |font-size:12pt; !''//Y~~l~~^^m^^(&amp;#952;, &amp;#966;)//'' |h
| $0$ | $0$ | $$\frac{1}{2 \sqrt{\pi }}$$ |
|! |! |! |h

!!''//l = 1//''
|sortable2|k
|! |! |! |h
|font-size:12pt; !''//l//'' |font-size:12pt; !''//m//''  |font-size:12pt;!''//Y~~l~~^^m^^(&amp;#952;, &amp;#966;)//'' |h
| $1$ | $1$ |$$\frac{1}{2} \sqrt{\frac{3}{2 \pi }} e^{-i \phi } \sin\theta$$ |
| $1$ | $0$ |$$\frac{1}{2} \sqrt{\frac{3}{\pi }} \cos\theta$$|
| $1$ | -$1$ |$$-\frac{1}{2} \sqrt{\frac{3}{2 \pi }} e^{i \phi } \sin\theta$$ |
|! |! |! |h

!!''//l = 2//''
|sortable2|k
|! |! |! |h
|font-size:12pt; !''//l//'' |font-size:12pt;  !''//m//''  |font-size:12pt; !''//Y~~l~~^^m^^(&amp;#952;, &amp;#966;)//'' |h
| $2$ | $2$ | $$\frac{1}{4} \sqrt{\frac{15}{2 \pi }} e^{-2 i \phi } \sin^2\theta$$ |
| $2$ | $1$ | $$\frac{1}{2} \sqrt{\frac{15}{2 \pi }} e^{-i \phi } \sin\theta\cos\theta $$ |
| $2$ | $0$ | $$\frac{1}{8} \sqrt{\frac{5}{\pi }} \Bigl(3\cos(2 \theta) +1\Bigr)$$|
| $2$ | -$1$ | $$-\frac{1}{2} \sqrt{\frac{15}{2 \pi }} e^{i \phi }\sin\theta\cos\theta $$ |
| $2$ | -$2$ | $$\frac{1}{4} \sqrt{\frac{15}{2 \pi }} e^{2 i \phi }\sin ^2\theta $$ |
|! |! |! |h

!!''//l = 3//''
|sortable2|k
|! |! |! |h
|font-size:12pt; !''//l//'' |font-size:12pt;  !''//m//''  |font-size:12pt; !''//Y~~l~~^^m^^(&amp;#952;, &amp;#966;)//'' |h
| $3$ | $3$ |$$\frac{1}{8} \sqrt{\frac{35}{\pi }} e^{-3 i \phi } \sin ^3\theta$$ |
| $3$ | $2$ |$$\frac{1}{4} \sqrt{\frac{105}{2 \pi }} e^{-2 i \phi }   \sin ^2\theta \cos\theta  $$ |
| $3$ | $1$ |$$\frac{1}{32} \sqrt{\frac{21}{\pi }} e^{-i \phi } \Bigl(  \sin\theta +5 \sin(3 \theta )\Bigr) $$ |
| $3$ | $0$ |$$\frac{1}{16} \sqrt{\frac{7}{\pi }} \Bigl(3  \cos\theta  +5  \cos(3 \theta ) \Bigr)$$ |
| $3$ | -$1$ |$$-\frac{1}{32} \sqrt{\frac{21}{\pi }} e^{i \phi } \Bigl(  \sin\theta +5  \sin(3 \theta ) \Bigr)$$ |
| $3$ | -$2$ |$$\frac{1}{4} \sqrt{\frac{105}{2 \pi }} e^{2 i \phi }  \sin ^2\theta  \cos\theta $$ |
| $3$ | -$3$ |$$-\frac{1}{8} \sqrt{\frac{35}{\pi }} e^{3 i \phi }  \sin ^3\theta $$ |
|! |! |! |h
&lt;&lt;sectionTOC&gt;&gt;


</pre>
</div>
<div title="Spherical Harmonics Revision(0007)" modifier="Christopher Wilson" created="201404150139" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="71" content-type="text/x-tiddlywiki">
<pre>{{sectionTOC{}}}
!!''//l = 0//''
|sortable2|k
|! |! |! |h
|font-size:12pt; !''//l//'' |font-size:12pt;  !''//m//''  |font-size:12pt; !''//Y~~l~~^^m^^(&amp;#952;, &amp;#966;)//'' |h
| $0$ | $0$ | $$\frac{1}{2 \sqrt{\pi }}$$ |
|! |! |! |h

!!''//l = 1//''
|sortable2|k
|! |! |! |h
|font-size:12pt; !''//l//'' |font-size:12pt; !''//m//''  |font-size:12pt;!''//Y~~l~~^^m^^(&amp;#952;, &amp;#966;)//'' |h
| $1$ | $1$ |$$\frac{1}{2}\sqrt{\frac{3}{2 \pi }} e^{-i \phi }\sin\theta$$ |
| $1$ | $0$ |$$\frac{1}{2}\sqrt{\frac{3}{\pi }}\cos\theta$$|
| $1$ | -$1$ |$$-\frac{1}{2}\sqrt{\frac{3}{2 \pi }} e^{i \phi }\sin\theta$$ |
|! |! |! |h

!!''//l = 2//''
|sortable2|k
|! |! |! |h
|font-size:12pt; !''//l//'' |font-size:12pt;  !''//m//''  |font-size:12pt; !''//Y~~l~~^^m^^(&amp;#952;, &amp;#966;)//'' |h
| $2$ | $2$ | $$\frac{1}{4} \sqrt{\frac{15}{2 \pi }} e^{-2 i \phi } \sin^2\theta$$ |
| $2$ | $1$ | $$\frac{1}{2} \sqrt{\frac{15}{2 \pi }} e^{-i \phi } \sin\theta\cos\theta $$ |
| $2$ | $0$ | $$\frac{1}{8} \sqrt{\frac{5}{\pi }} \Bigl(3\cos(2 \theta) +1\Bigr)$$|
| $2$ | -$1$ | $$-\frac{1}{2} \sqrt{\frac{15}{2 \pi }} e^{i \phi }\sin\theta\cos\theta $$ |
| $2$ | -$2$ | $$\frac{1}{4} \sqrt{\frac{15}{2 \pi }} e^{2 i \phi }\sin ^2\theta $$ |
|! |! |! |h

!!''//l = 3//''
|sortable2|k
|! |! |! |h
|font-size:12pt; !''//l//'' |font-size:12pt;  !''//m//''  |font-size:12pt; !''//Y~~l~~^^m^^(&amp;#952;, &amp;#966;)//'' |h
| $3$ | $3$ |$$\frac{1}{8} \sqrt{\frac{35}{\pi }} e^{-3 i \phi } \sin ^3\theta$$ |
| $3$ | $2$ |$$\frac{1}{4} \sqrt{\frac{105}{2 \pi }} e^{-2 i \phi }   \sin ^2\theta \cos\theta  $$ |
| $3$ | $1$ |$$\frac{1}{32} \sqrt{\frac{21}{\pi }} e^{-i \phi } \Bigl(  \sin\theta +5 \sin(3 \theta )\Bigr) $$ |
| $3$ | $0$ |$$\frac{1}{16} \sqrt{\frac{7}{\pi }} \Bigl(3  \cos\theta  +5  \cos(3 \theta ) \Bigr)$$ |
| $3$ | -$1$ |$$-\frac{1}{32} \sqrt{\frac{21}{\pi }} e^{i \phi } \Bigl(  \sin\theta +5  \sin(3 \theta ) \Bigr)$$ |
| $3$ | -$2$ |$$\frac{1}{4} \sqrt{\frac{105}{2 \pi }} e^{2 i \phi }  \sin ^2\theta  \cos\theta $$ |
| $3$ | -$3$ |$$-\frac{1}{8} \sqrt{\frac{35}{\pi }} e^{3 i \phi }  \sin ^3\theta $$ |
|! |! |! |h
&lt;&lt;sectionTOC&gt;&gt;


</pre>
</div>
<div title="Spherical Harmonics Revision(0031)" modifier="Christopher Wilson" created="201404141456" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="63" content-type="text/x-tiddlywiki">
<pre>{{sectionTOC{}}}
!!''//l = 0//''
|sortable|k
|font-size:15pt; !''//l//'' |font-size:15pt;  !''//m//''  |font-size:15pt; !''//Y~~l~~^^m^^(&amp;#952;, &amp;#966;)//'' |h
| $0$ | $0$ | $$\frac{1}{2 \sqrt{\pi }}$$ |

!!''//l = 1//''
|sortable|k
|font-size:15pt; !''//l//'' |font-size:15pt;  !''//m//''  |font-size:15pt; !''//Y~~l~~^^m^^(&amp;#952;, &amp;#966;)//'' |h
| $1$ | $1$ | $$\frac{1}{2} \sqrt{\frac{3}{2 \pi }} e^{-i \phi } \sin\theta$$ |
| $1$ | $0$ | $$\frac{1}{2} \sqrt{\frac{3}{\pi }} \cos\theta$$|
| $1$ | -$1$ | $$-\frac{1}{2} \sqrt{\frac{3}{2 \pi }} e^{i \phi } \sin\theta$$ |

!!''//l = 2//''
|sortable|k
|font-size:15pt; !''//l//'' |font-size:15pt;  !''//m//''  |font-size:15pt; !''//Y~~l~~^^m^^(&amp;#952;, &amp;#966;)//'' |h
| $2$ | $2$ | $$\frac{1}{4} \sqrt{\frac{15}{2 \pi }} e^{-2 i \phi } \sin^2\theta$$ |
| $2$ | $1$ | $$\frac{1}{2} \sqrt{\frac{15}{2 \pi }} e^{-i \phi } \sin\theta\cos\theta $$ |
| $2$ | $0$ | $$\frac{1}{8} \sqrt{\frac{5}{\pi }} \Bigl(3\cos(2 \theta) +1\Bigr)$$|
| $2$ | -$1$ | $$-\frac{1}{2} \sqrt{\frac{15}{2 \pi }} e^{i \phi }\sin\theta\cos\theta $$ |
| $2$ | -$2$ | $$\frac{1}{4} \sqrt{\frac{15}{2 \pi }} e^{2 i \phi }\sin ^2\theta $$ |

!!''//l = 3//''
|sortable|k
|font-size:15pt; !''//l//'' |font-size:15pt;  !''//m//''  |font-size:15pt; !''//Y~~l~~^^m^^(&amp;#952;, &amp;#966;)//'' |h
| $3$ | $3$ |$$\frac{1}{8} \sqrt{\frac{35}{\pi }} e^{-3 i \phi } \sin ^3\theta$$ |
| $3$ | $2$ |$$\frac{1}{4} \sqrt{\frac{105}{2 \pi }} e^{-2 i \phi }   \sin ^2\theta \cos\theta  $$ |
| $3$ | $1$ |$$\frac{1}{32} \sqrt{\frac{21}{\pi }} e^{-i \phi } \Bigl(  \sin\theta +5 \sin(3 \theta )\Bigr) $$ |
| $3$ | $0$ |$$\frac{1}{16} \sqrt{\frac{7}{\pi }} \Bigl(3  \cos\theta  +5  \cos(3 \theta ) \Bigr)$$ |
| $3$ | -$1$ |$$-\frac{1}{32} \sqrt{\frac{21}{\pi }} e^{i \phi } \Bigl(  \sin\theta +5  \sin(3 \theta ) \Bigr)$$ |
| $3$ | -$2$ |$$\frac{1}{4} \sqrt{\frac{105}{2 \pi }} e^{2 i \phi }  \sin ^2\theta  \cos\theta $$ |
| $3$ | -$3$ |$$-\frac{1}{8} \sqrt{\frac{35}{\pi }} e^{3 i \phi }  \sin ^3\theta $$ |
&lt;&lt;sectionTOC&gt;&gt;




</pre>
</div>
<div title="Spin Systems" creator="Christopher Wilson" modifier="Christopher Wilson" created="201411020232" tags="[[Critical Phenomena]]" changecount="10" alias="" content-type="text/x-tiddlywiki">
<pre>Consider a finite lattice of spin configurations, denoted by
$$\Lambda_L = \left\{i_n:|i_n|\leq L,\; n=1,2,\ldots,p\right\} \subset {\mathbb{Z}}^{^p},$$
where $p$ is the dimension of the space, and $i_n$ represents a site in the lattice.  For each site, there corresponds a spin value $\sigma_i$;  the set of possible spin configurations of the system is denoted by $\sigma \equiv \{\sigma_i\}_{i\in\Lambda_L}$.  Suppose that this spin system is exposed to an external uniform magnetic field $\vec{B}_e$, the Hamiltonian representing the interaction between nearby spins and the magnetic field coupling\footnote{The magnetic moment relates to spin as $\vec{I}_i = -g \,\mu_B \vec{\sigma}_i$, with $g$ the Lande factor, and $\mu_B$ the Bohr magneton. &lt;&lt;bibtex stanley1971introduction&gt;&gt; is given by 
\beq\label{}H(\sigma) = - \sum_{\langle i,j\rangle} J_{ij}\,\vec{\sigma_i}\cdot\vec{\sigma_j} - g\,\mu_B  \sum_i \vec{B}_e \cdot \vec{\sigma_i},\eeq
where $J_{ij}$ is the interaction energy, and ${\langle i,j\rangle} = \{i,j\in\Lambda_L:d(i,j)\leq r\}$ represents the sum over spins within the neighborhood $\mathcal{N}_r$ of radius $r$. The introduction of the external magnetic field requires an additional extensive parameter $\mathcal{M}$ in the magnetic Euler equation corresponding to \cref{U},  
\beqU' = TS - P'V' + \mu N + B_e\mathcal{M}  = U + B_e\mathcal{M},\eeq where primes denote parameters specific to the magnetic system &lt;&lt;bibtex callen2006thermodynamics&gt;&gt;. This additional parameter is the net magnetization $\mathcal{M} = \mathcal{M}(T,h)$ of the system, defined as the expectation of the system's magnetic moment dotted with the external magnetic field, $\mathcal{M} \equiv \langle \vec{I}_i\cdot\vec{B}_e \rangle.$ The associated partition function is given by 
\beq\label{}
Z' = \prod_{i = 1}^N\Biggl(\sum_{\sigma}\exp(x\sigma_i) \Biggr),\quad {\rm for}\, x \equiv \frac{g\,\mu_b B_e}{k_B T}.
\eeq
Consequently, the relationship corresponding to \cref{F} is that of 
\beq\label{} 
G' = U - TS - B_e\mathcal{M} = -k_B T \log Z',
\eeq
where $ G' = G'(T, B_e)$ is the Gibbs free energy of the magnetic system, in contrast to the Helmholtz free energy in the fluid case \cite{stanley1971introduction, Castellano2003146}. However, the fluid result is recovered in the absence of an external magnetic field, $B_e \rightarrow 0;$ such is the case for the spontaneous magnetization, defined by 
$$M(T) \equiv \lim_{B_e \rightarrow 0} \mathcal{M}(T,B_e)\;\; \Rightarrow\;\;  M = -g\,\mu_B \biggl&lt;\sum_i \sigma_i\biggr&gt;.$$ 
Furthermore, by considering the pressure and volume of the magnetic system to negligibly contribute to the Hamiltonian, $P', V' \ll 1$, a correspondence between the fluid and magnetic thermodynamic pictures is given by $V \rightarrow -\mathcal{M}$ and $P \rightarrow B_e$ &lt;&lt;bibtex stanley1971introduction&gt;&gt;.</pre>
</div>
<div title="Standard Bounded Metric" modifier="Christopher Wilson" created="201404010013" modified="201404082209" tags="[[Common Metrics]]">
<pre>!!Definition
The ''//Standard bounded metric//'' is given by $$\overline{d}(x,y) = \min\{d(x,y),1\}.$$</pre>
</div>
<div title="Stress-Energy Tensor" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405060624" modified="201405060627" tags="[[Topology Paper]]" changecount="5" content-type="text/x-tiddlywiki">
<pre>The stress-energy tensor (energy-momentum tensor) of general relativity obeys the equation 
$$\nabla_\nu T^{\mu\nu} \equiv T^{\mu\nu}_{;\nu} = 0,$$
as a consequence of the [[Einstein Equations]].  These express the local conservation of energy and momentum in local Minkowskian coordinates.&lt;&lt;bibtex hawking1979general&gt;&gt;
</pre>
</div>
<div title="Strong Casuality Assumption" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405060602" modified="201405060605" tags="[[Topology Paper]]" changecount="9" content-type="text/x-tiddlywiki">
<pre>The //strong casuality condition// is said to hold at a point $p$ if every neighborhood of $p$ contains a neighborhood of $p$ which no non-spacelike curve intersects more than once.&lt;&lt;bibtex hawking1973large&gt;&gt;
*Strong casuality fails if $p$ is intersected by more than one [[Casual Curve]].
</pre>
</div>
<div title="StyleSheet" creator="psd" modifier="Christopher Wilson" created="201305230021" modified="201405150409" tags="excludeTimeline css Reference" changecount="2049" content-type="text/css" alias="">
<pre>/*{{{*/

[[xMeyerReset.css]]
[[MPTWStyles]]

#onlineMode #backstageButton, #onlineMode #topMenu .topMenuEditButtons, #onlineMode #tiddlerDisplay .editMacros {display:none !important;}
#onlineMode #topMenu .topMenuButtons {width:126px !important;}
#onlineMode #topMenu input {right:141px !important;}


.viewer {margin-left:10px;}
.viewer {text-shadow:0px  0px .3px rgba(1,1,1,0.15);}
.chrome .viewer {text-shadow:0.0px 0.0px 0.3px rgba(1,1,1,0.4);}

#backstageShow {font-size:4pt;line-height:1px;display:block;position:fixed;top:0px;right:0px;height:0px;width:0px;}/* position:absolute;top:-10px;right:0px; */
#backstageHide {position:relative;top:4px;}/* position:absolute;top:-10px;right:0px; */
/*#backstageButton a:hover{background:#000;}
#backstageButton a {background:#000;}*/


html {overflow-x:hidden;}
.tiddler {  box-shadow: 2px 2px 2px #888;
-moz-box-shadow: 2px 2px 2px #888;
-webkit-box-shadow: 2px 2px 2px #888;
border:0px;}

.chrome #displayArea {
    margin: 1em 25.5em 0em 1em; /* use the freed up space */}
#displayArea {
    margin: 1em 25.5em 0em 1em; /* use the freed up space */
}
#displayArea {padding-top:32px;padding-bottom:6px;}
.fancy_title span.char1 {color:[[ColorPalette::PrimaryMid]] !important;}
.fancy_title span.char2 {color:[[ColorPalette::PrimaryDark]];}
.fancy_title span.char3 {color:[[ColorPalette::PrimaryMid]];}
.fancy_title span.char4 {color:[[ColorPalette::PrimaryDark]];}
.fancy_title span.char5 {color:[[ColorPalette::PrimaryMid]];}
.fancy_title span.char6 {color:[[ColorPalette::PrimaryDark]];}
.fancy_title span.char7 {color:[[ColorPalette::PrimaryMid]];}
.fancy_title span.char8 {color:[[ColorPalette::PrimaryDark]];}
.fancy_title span.char9 {color:[[ColorPalette::PrimaryMid]];}
.fancy_title span.char10 {color:[[ColorPalette::PrimaryDark]];}

/*
.viewer a.externalLink {
padding-bottom:1px;padding-right:32px;margin-right:4px;
background:url(icons/icon_external.gif) center right no-repeat;
} 
.viewer a.externalLink:hover {
	padding-bottom:1px;padding-right:32px;margin-right:4px;
background:url(icons/icon_external.gif) center right no-repeat;
} 
.viewer a[href$='.pdf'] {background-size: 40% 40%;
padding-top:3px;padding-right:19px;margin-right:4px;
background:url(icons/icon_pdf.gif) center right no-repeat;
} 
.viewer a[href$='.pdf']:hover {
background:url(icons/icon_pdf.gif) center right no-repeat;
}
.viewer span i.flaticon {margin-left:-20px;color::[[ColorPalette::PrimaryMid]];font-size:10pt !important;}
.viewer span i.flaticon {margin-left:-20px;color::[[ColorPalette::PrimaryMid]];font-size:10pt !important;}

.viewer .footnoteholder a.externalLink[href$='.com'] {
padding-top:4px;padding-right:16px;margin-right:4px;
text-decoration:underline;color:[[ColorPalette::PrimaryMid]];
background:url(icons/icon_external_s.gif) center right no-repeat;
} 
.viewer .footnoteholder  a.externalLink[href$='.com']:hover {
text-decoration:underline;color:[[ColorPalette::PrimaryMid]];
background:url(icons/icon_external_s.gif) center right no-repeat !important;}
}
.viewer .footnoteholder a.externalLink[href$='.pdf'] {
padding-top:4px;padding-right:16px;margin-right:4px;
background:url(icons/icon_pdf_s.gif) center right no-repeat !important;
} 
.viewer .footnoteholder a.externalLink[href$='.pdf']:hover {
	padding-top:4px;padding-right:16px;margin-right:4px;
background:url(icons/icon_pdf_s.gif) center right no-repeat !important;text-decoration:underline;color:[[ColorPalette::PrimaryMid]]}
}

*/

/*#sidebarTabs {position:fixed;overflow:auto;max-height:1000px;}*/

html {text-rendering: optimizeLegibility !important,
		-webkit-font-smoothing: antialiased;}
.tiddler div.footnoteholder{margin:0em 0em !important;
	padding:0.1em 0.1em 0.1em 0.1em !important;font-size:12pt !important;}

.tiddler div.footnoteholder li {padding-bottom:4px;font-size:80% !important;line-height:15pt}
/*.chrome .viewer a {-webkit-text-stroke:0.2px}*/


.chrome .subtitle {text-shadow:0px 0px 0.2px rgba(0,1,1,0.3) !important;}
.viewer .MathJax_Display,.viewer .MathJax {text-shadow:0px 0px 0.3px rgba(1,1,1,0.1);}

.chrome .viewer .MathJax,.chrome .viewer .MathJax_Display,.chrome .viewer pre {text-shadow:0px 0px 0.3px rgba(1,1,1,0.2);}
.subtitle a:hover {color:[[ColorPalette::TertiaryDarker]];background:[[ColorPalette::Background]];}
.viewer thead tr td{color:#000;}
.twtable thead tr td{color:#000;}
.viewer code {font-size:12pt;}

/* These can't be commented out (?), delete the lines instead if not needed */
[[@font-face.css]]
[[topMenu.css]]
[[sidebar.css]]
[[c3.css]]
[[flaticon.css]]
[[jquery-ui.css]]
[[perfectScrollbar.css]]
[[noise.css]]
[[LightBox.css]]

/*[[StyleSheetPrint]]*/

/* DELAY CODE 
-webkit-transition: all 0.2s linear;
  -moz-transition: all 0.2s linear;;
  -o-transition: all 0.2s linear;
  transition: all 0.2s linear;
*/
/*body {background: url('bg.jpg') top left repeat fixed;}*/

.viewer {font-size:12pt !important;}

/*#tiddlerDisplay .sliderPanel {border-left:1px solid #ccc;padding-left:10px;}*/
#tiddlerDisplay .sliderPanel {padding:12px;}
#tiddlerDisplay .proof h4 a {font-weight:normal;color:[[ColorPalette::TertiaryMid]]}
#tiddlerDisplay .proof h4 a:hover {font-weight:normal;background:[[ColorPalette::Background]];color:[[ColorPalette::TertiaryDarker]]}
#tiddlerDisplay .sliderPanel .math {font-size:90% !important;}
#tiddlerDisplay .floatingPanel .math {font-size:90% !important;}
/*.chrome #tiddlerDisplay .sliderPanel .math {font-size:80% !important;}*/

.tiddler {overflow:visible;}
#tiddlerDisplay .toolbar {display:block;}
#tiddlerDisplay .titleContainer .miniTag {display:none !important;}



.tiddler {
	padding-top:0.75em;
	overflow:auto;
	font-size:11pt;
	font-family:cmr10, arial,helvetica;
	padding-bottom:0.75em;
}

.titleContainer {padding:0px;}
.tiddler .MathJax_Display {overflow:visible;}
.tiddler {overflow:auto;}
.tiddler table, .tiddler img, .tiddler a {overflow:scroll;}


.title {
    font-family: 'Georgia','Times', sans-serif;line-height:1.00em;
font-size:140%;font-variant:small-caps;
font-weight:900;margin-left:8px;padding:0px;
    text-shadow: 0.3px 0.3px 0.1px [[ColorPalette::PrimaryLight]];
    letter-spacing:1px;display:block;
    
}
.titleContainer .title {
    font-family: 'Georgia','Times', sans-serif;line-height:1.25em;
font-size:200%;font-variant:small-caps;
font-weight:900;margin-left:8px;padding:0px;
    text-shadow: 0.3px 0.3px 0.1px [[ColorPalette::PrimaryLight]];
    letter-spacing:1px;display:block;
    
}


#search_close {border:0px !important;background:#FFF !important;}
#searchResults { 
	background:#FFF !important;
	    overflow:auto;
   
    font-family:cmr10,Georgia,Times, arial,helvetica;
    padding-bottom:1.25em;
	margin-bottom:15px;
	box-shadow: 2px 2px 2px #888;
-moz-box-shadow: 2px 2px 2px #888;
-webkit-box-shadow: 2px 2px 2px #888;
}
.txtOptionInput {-moz-border-radius: 2px;
-webkit-border-radius:2px;
border-radius: 2px; /* future proofing */
-khtml-border-radius: 2px; /* for old Konqueror browsers */}
/*#contentWrapper {background:#e6e6e6;height:100%;}*/
#displayArea .viewer {font-size:16px;}
.footer {display:none;}
.viewer .twtable {border:0px;}
.viewer .twtable th {color:#000;}
/* sexy tiddler titles */







/*body {background:[[ColorPalette::TertiaryPale]];}*/


.chrome .tabMoreClass .tab {line-height:20px;}
.chrome .tabMoreClass .tabContents {position:relative;top:-5px;}




.header {display: none !important;}
/*#backstageButton { display: none !important;}*/

/*
#topMenu {display: none !important;}

#topMenu {background:[[ColorPalette::TertiaryLight]];}
*/


.tiddler{margin-right:0;}
.viewer .tiddlyLinkExisting {font-weight:normal;}


.viewer h2 .tiddlyLinkExisting {font-weight:bold;}
h2 a{color:#000;}
h2 a:hover {background:inherit;color:#000}
.viewer{margin-bottom:2em;}
.viewer li,.viewer  ul {padding-top: 0.0em; padding-bottom: 0.0em;margin-bottom:-1em;margin-top:1em;} 
.tabset {padding:0em 0 0 0.5em;}
viewer table, table.twtable {border:2px solid [[ColorPalette::TertiaryDark]];padding:0px;}
.viewer th, .viewer thead td, .twtable th, .twtable thead td {padding:0px;background:[[ColorPalette::Background]]; border-left:0px solid [[ColorPalette::TertiaryDark]];border-right:0px solid [[ColorPalette::TertiaryDark]]; }
.viewer td, .viewer tr, .twtable td, .twtable .sortable2 tr {padding:0px;border:0px solid [[ColorPalette::TertiaryDark]];}

.viewer .lists li{margin:0px;padding:0px;}

.viewer .proof .sliderPanel {font-size:12pt;padding:5px;margin:-1.5em 1em 1em 0em;
    color:#000;  }
.proof{margin:0em 2em -4.0em 3em;padding:0em;font-size:11pt;}

#tiddlerDisplay .tiddler .subtitle {padding-bottom:1em;margin-left:-4px;margin-top:2px;}
html {font-family:Georgia;}
.fontResizer{ font-size:9.5pt;border:0px;font-weight:bold;}
	a.fontResizer{ font-size:9.5pt;border: 0px;}
.fontResizer .button { font-size:9.5pt;border:0px solid #000;text-decoration:none;font-weight:bold;}
.tiddler a.ftnlink {vertical-align: super; font-size: 0.8em; padding-left:1px;color:[[ColorPalette::PrimaryMid]];line-height:100%;font-weight:bold;}


.toolbar a {text-align:right; font-size:12pt;color:[[ColorPalette::TertiaryLight]];border:0px;-webkit-transition: all 0.3s ease-in-out;
  -moz-transition: all 0.3s ease-in-out;;
  -o-transition: all 0.3s ease-in-out;
  transition: all 0.3s ease-in-out;}
.toolbar a:hover{color:[[ColorPalette::TertiaryDarker]];background:[[ColorPalette::Background]];border:0px;}
.viewer .tab {background:[[ColorPalette::TertiaryPale]];
	margin: .1em -1em 0em 1.2em;
	padding: 3px;
	border-top: 1px solid #ddd;
	border-left: 1px solid #ddd;
	border-right:1px solid #bbb;
}
#tiddlerDisplay .tabUnselected {color:[[ColorPalette::TertiaryMid]]; background:[[ColorPalette::TertiaryPale]];-webkit-transition: all 0.2s ease-in-out;
  -moz-transition: all 0.2s ease-in-out;
  -o-transition: all 0.2s ease-in-out;
  transition: all 0.2s ease-in-out;}
#tiddlerDisplay .tabUnselected:hover {color:[[ColorPalette::Background]]; background:[[ColorPalette::PrimaryMid]];
	border-top: 1px solid #eee;
	border-left: 1px solid #eee;
	border-right:1px solid #aaa;
border-bottom:2px solid #aaa;
}
#tiddlerDisplay .tabSelected:hover {color:[[ColorPalette::Background]]; background:[[ColorPalette::PrimaryMid]];}
#tiddlerDisplay .tabSelected {color:[[ColorPalette::Foreground]];
	font-weight:bold;
	background:[[ColorPalette::Background]];
	border-left:1px solid [[ColorPalette::TertiaryLight]];
	border-top:1px solid [[ColorPalette::TertiaryLight]];
	border-right:1px solid [[ColorPalette::TertiaryLight]];
	-webkit-transition: all 0.2s ease-in-out;
  -moz-transition: all 0.2s ease-in-out;
  -o-transition: all 0.2s ease-in-out;
  transition: all 0.2s ease-in-out;
}
#tiddlerDisplay .tabContents {background:[[ColorPalette::Background]];border:0px;padding-top:2em; }
#tiddlerDisplay .tabset {padding: 1em 0em 0em 0em;}
.sectionTOC {
	display:block;background-color:[[ColorPalette::TertiaryPale]];float:right;padding-bottom:15px;
	margin-left:1.2em;border:1px solid [[ColorPalette::TertiaryMid]];margin-top:-40px;margin-bottom:5px;padding-right:5px;
	font-size:11pt;line-height:1.5em;
}
.sectionContents2
{
		
	float:right;padding:0.25 0.5em;font-weight:bold;
}




.viewer pre {padding:0.5em; margin-left:-2px; font-size:1.0em; line-height:1.4em; overflow:auto;}
.editor {font-size:1.0em; line-height:1.6em;}
.viewer  {line-height:1.5em;}
.br1 {margin-top:-0.5em;}
.br2 {margin-top:-1em;}
.br3 {margin-top:-1.5em;}
.br4 {margin-top:-2em;}
.br5 {margin-top:-2.5em;}
.br6 {margin-top:-3em;}



.viewer table.centered {
    margin:0 auto;background-color:#FFF;
}

.viewer table.centered th{
    font-size:11pt;font-family:cmr10,Georgia;
	padding:1px;
	background-color:[[ColorPalette::TertiaryPale]];
	color:black;
}
.viewer table.centered td{
	padding:2px;border:[[ColorPalette::TertiaryDark]] 1px solid;
}
.viewer table.sortable {
    background-color:#FFF; !margin:0 auto;
}

.viewer table.sortable th{
    font-size:11pt;font-family:cmr10,Georgia;
	padding:1px;padding-right:5px;padding-left:8px;
	background-color:[[ColorPalette::TertiaryPale]];
	color:black;
}
.viewer table.sortable td{
	padding:2px;padding-right:5px;padding-left:5px;
}


.viewer table.sortable2 { border:0px;
    background-color:#FFF; !margin:0 auto;
}


.viewer table.sortable2 td{
	padding:4px 10px;border:0px;background-color:#FFF;
}

.viewer table.sortable2 th{ 
    font-size:11pt;font-family:cmr10,Georgia;
	padding:1px;padding-right:5px;padding-left:8px;
	background-color:[[ColorPalette::TertiaryPale]];
	color:black;
}
.viewer table.sortable3 th{ 
    font-size:11pt;font-family:cmr10,Georgia;
	padding:1px;padding-right:5px;padding-left:8px;
	background-color:[[ColorPalette::TertiaryPale]];
	color:black;
}


.viewer table.sortable3 { border:0px;
    background-color:#FFF; margin:0 auto;
}


.viewer table.sortable3 td{
	padding:4px 10px;border:0px;background-color:#FFF;
}
.viewer table.sortable4 th{ 
    font-size:11pt;font-family:cmr10,Georgia;
	padding:1px;padding-right:10px;padding-left:15px;
	background-color:[[ColorPalette::TertiaryPale]];
	color:black;
}


.viewer table.sortable4 { border:0px;
    background-color:#FFF; margin:0 auto;
}


.viewer table.sortable4 td{
	padding:6px 16px;border:0px;background-color:#FFF;
}





a.bibtexhandle { position: relative; }
a.bibtexhandle span.bibtexbox {
  font-size: 5pt;
  display: none;
  position: absolute;
  z-index: 10;
  left: -100%;
  width: 300%;
  padding: 5px;
  border:0px solid [[ColorPalette::SecondaryMid]];
  background: [[ColorPalette::SecondaryLight]];
  color:[[ColorPalette::Foreground]]; }

.tiddler a.ftnlink {vertical-align: super; font-size: 0.7em; color:[[ColorPalette::PrimaryMid]];margin:0em,padding:0em;}
.tiddler a.ftnlink:hover, .tiddler .footnoteholder a.ftnbklink:hover{color:#fff;background:[[ColorPalette::PrimaryMid]];}
.tiddler div.footnoteholder{margin:0.5em 0.5em; padding:0.1em 1.0em 0.1em 1.0em ;border-left: 0px solid #ccc;font-size: 0.9em;}
.tiddler footnoteholder ol {font-size: 0.9em; line-height: 1.2em;}
.tiddler .footnoteholder li.footnote {margin: 0 0 5px 0;}
.tiddler .footnoteholder a.ftnbklink{color:[[ColorPalette::PrimaryLight]];}

.references {
        margin-left:8px;
	font-size: 1em;
	text-align: center;
	color: [[ColorPalette::TertiaryDark]];
	margin-top: .75em;
	padding: .25em;margin-bottom:0.5em;
	border: 1px solid [[ColorPalette::TertiaryPale]];
	background-color: [[ColorPalette::TertiaryPale]];}
.selected .references {
	background-color: [[ColorPalette::TertiaryPale]];
	border: 1px solid [[ColorPalette::TertiaryLight]];}
.references .tiddlyLinkExisting {font-weight: normal;}




.chrome #sidebarOptions i {font-size:13pt;}





/*}}}*/</pre>
</div>
<div title="StyleSheet Old" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405180649" tags="css excludeTimeline" content-type="text/x-tiddlywiki" alias="" changecount="2">
<pre>/*{{{*/
[[MPTWStyles]]
.ps-container .ps-scrollbar-x-rail{position:absolute;bottom:3px;height:8px;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;opacity:0;filter:alpha(opacity=0);-o-transition:background-color .2s linear,opacity .2s linear;-webkit-transition:background-color .2s linear,opacity .2s linear;-moz-transition:background-color .2s linear,opacity .2s linear;transition:background-color .2s linear,opacity .2s linear}.ps-container:hover .ps-scrollbar-x-rail,.ps-container.hover .ps-scrollbar-x-rail{opacity:.6;filter:alpha(opacity=60)}.ps-container .ps-scrollbar-x-rail:hover,.ps-container .ps-scrollbar-x-rail.hover{background-color:#eee;opacity:.9;filter:alpha(opacity=90)}.ps-container .ps-scrollbar-x-rail.in-scrolling{background-color:#eee;opacity:.9;filter:alpha(opacity=90)}.ps-container .ps-scrollbar-y-rail{position:absolute;right:3px;width:8px;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;opacity:0;filter:alpha(opacity=0);-o-transition:background-color .2s linear,opacity .2s linear;-webkit-transition:background-color .2s linear,opacity .2s linear;-moz-transition:background-color .2s linear,opacity .2s linear;transition:background-color .2s linear,opacity .2s linear}.ps-container:hover .ps-scrollbar-y-rail,.ps-container.hover .ps-scrollbar-y-rail{opacity:.6;filter:alpha(opacity=60)}.ps-container .ps-scrollbar-y-rail:hover,.ps-container .ps-scrollbar-y-rail.hover{background-color:#eee;opacity:.9;filter:alpha(opacity=90)}.ps-container .ps-scrollbar-y-rail.in-scrolling{background-color:#eee;opacity:.9;filter:alpha(opacity=90)}.ps-container .ps-scrollbar-x{position:absolute;bottom:0;height:8px;background-color:#aaa;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;-o-transition:background-color .2s linear;-webkit-transition:background-color.2s linear;-moz-transition:background-color .2s linear;transition:background-color .2s linear}.ps-container.ie6 .ps-scrollbar-x{font-size:0}.ps-container .ps-scrollbar-x-rail:hover .ps-scrollbar-x,.ps-container .ps-scrollbar-x-rail.hover .ps-scrollbar-x{background-color:#999}.ps-container .ps-scrollbar-y{position:absolute;right:0;width:8px;background-color:#aaa;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;-o-transition:background-color .2s linear;-webkit-transition:background-color.2s linear;-moz-transition:background-color .2s linear;transition:background-color .2s linear}.ps-container.ie6 .ps-scrollbar-y{font-size:0}.ps-container .ps-scrollbar-y-rail:hover .ps-scrollbar-y,.ps-container .ps-scrollbar-y-rail.hover .ps-scrollbar-y{background-color:#999}.ps-container.ie .ps-scrollbar-x,.ps-container.ie .ps-scrollbar-y{visibility:hidden}.ps-container.ie:hover .ps-scrollbar-x,.ps-container.ie:hover .ps-scrollbar-y,.ps-container.ie.hover .ps-scrollbar-x,.ps-container.ie.hover .ps-scrollbar-y{visibility:visible}

#sidebar {max-height:600px !important;}

#sidebar .tabContents {position:relative;display:inline-block;}
#sidebarTabs {position:fixed;max-height:600px;}
#sidebarTabs span.close {color:[[ColorPalette::TertiaryMid]];cursor:pointer;font-weight:bold;
	-webkit-transition: all 0.2s linear;
  -moz-transition: all 0.2s linear;;
  -o-transition: all 0.2s linear;
  transition: all 0.2s linear;
text-shadow:0px 0px .5px [[ColorPalette::TertiaryMid]];font-size:9pt;position:relative;bottom:1px;}
#sidebarTabs .close:hover {color:[[ColorPalette::Error]];text-shadow:0px 0px .75px [[ColorPalette::Error]];}




.fancy_title span.char1 {color:[[ColorPalette::PrimaryMid]] !important;}
.fancy_title span.char2 {color:[[ColorPalette::PrimaryDark]];}
.fancy_title span.char3 {color:[[ColorPalette::PrimaryMid]];}
.fancy_title span.char4 {color:[[ColorPalette::PrimaryDark]];}
.fancy_title span.char5 {color:[[ColorPalette::PrimaryMid]];}
.fancy_title span.char6 {color:[[ColorPalette::PrimaryDark]];}
.fancy_title span.char7 {color:[[ColorPalette::PrimaryMid]];}
.fancy_title span.char8 {color:[[ColorPalette::PrimaryDark]];}
.fancy_title span.char9 {color:[[ColorPalette::PrimaryMid]];}
.fancy_title span.char10 {color:[[ColorPalette::PrimaryDark]];}

/*
.viewer a.externalLink {
padding-bottom:1px;padding-right:32px;margin-right:4px;
background:url(icons/icon_external.gif) center right no-repeat;
} 
.viewer a.externalLink:hover {
	padding-bottom:1px;padding-right:32px;margin-right:4px;
background:url(icons/icon_external.gif) center right no-repeat;
} 
.viewer a[href$='.pdf'] {background-size: 40% 40%;
padding-top:3px;padding-right:19px;margin-right:4px;
background:url(icons/icon_pdf.gif) center right no-repeat;
} 
.viewer a[href$='.pdf']:hover {
background:url(icons/icon_pdf.gif) center right no-repeat;
}
.viewer span i.flaticon {margin-left:-20px;color::[[ColorPalette::PrimaryMid]];font-size:10pt !important;}
.viewer span i.flaticon {margin-left:-20px;color::[[ColorPalette::PrimaryMid]];font-size:10pt !important;}

.viewer .footnoteholder a.externalLink[href$='.com'] {
padding-top:4px;padding-right:16px;margin-right:4px;
text-decoration:underline;color:[[ColorPalette::PrimaryMid]];
background:url(icons/icon_external_s.gif) center right no-repeat;
} 
.viewer .footnoteholder  a.externalLink[href$='.com']:hover {
text-decoration:underline;color:[[ColorPalette::PrimaryMid]];
background:url(icons/icon_external_s.gif) center right no-repeat !important;}
}
.viewer .footnoteholder a.externalLink[href$='.pdf'] {
padding-top:4px;padding-right:16px;margin-right:4px;
background:url(icons/icon_pdf_s.gif) center right no-repeat !important;
} 
.viewer .footnoteholder a.externalLink[href$='.pdf']:hover {
	padding-top:4px;padding-right:16px;margin-right:4px;
background:url(icons/icon_pdf_s.gif) center right no-repeat !important;text-decoration:underline;color:[[ColorPalette::PrimaryMid]]}
}

*/

/*#sidebarTabs {position:fixed;overflow:auto;max-height:1000px;}*/

html {text-rendering: optimizeLegibility !important,
		-webkit-font-smoothing: antialiased;}
.tiddler div.footnoteholder{margin:0em 0em !important;
	padding:0.1em 0.1em 0.1em 0.1em !important;font-size:12pt !important;}

.tiddler div.footnoteholder li {padding-bottom:4px;font-size:80% !important;line-height:15pt}
/*.chrome .viewer a {-webkit-text-stroke:0.2px}*/
.viewer {text-shadow:0px 0px .3px rgba(1,1,1,0.3);}

.chrome .subtitle {text-shadow:0px 0px 0.2px rgba(0,1,1,0.3) !important;}
.viewer .MathJax_Display,.viewer .MathJax {text-shadow:0px 0px 0.3px rgba(1,1,1,0.1);}
.chrome .viewer {text-shadow:0px 0px .3px rgba(1,1,1,0.4);}
.chrome .viewer .MathJax,.chrome .viewer .MathJax_Display,.chrome .viewer pre {text-shadow:0px 0px 0.3px rgba(1,1,1,0.2);}
.subtitle a:hover {color:[[ColorPalette::TertiaryDarker]];background:[[ColorPalette::Background]];}
.viewer thead tr td{color:#000;}
.twtable thead tr td{color:#000;}
.viewer code {font-size:12pt;}
[[topMenu.css]]
[[c3.css]]
[[flaticon.css]]
[[jquery-ui.css]]
/* DELAY CODE 
-webkit-transition: all 0.2s linear;
  -moz-transition: all 0.2s linear;;
  -o-transition: all 0.2s linear;
  transition: all 0.2s linear;
*/
/*body {background: url('bg.jpg') top left repeat fixed;}*/

.viewer {font-size:12pt !important;margin-left:8px;}

/*#tiddlerDisplay .sliderPanel {border-left:1px solid #ccc;padding-left:10px;}*/
#tiddlerDisplay .sliderPanel {padding:12px;}
#tiddlerDisplay .proof h4 a {font-weight:normal;color:[[ColorPalette::TertiaryMid]]}
#tiddlerDisplay .proof h4 a:hover {font-weight:normal;background:[[ColorPalette::Background]];color:[[ColorPalette::TertiaryDarker]]}
#tiddlerDisplay .sliderPanel .math {font-size:90% !important;}
#tiddlerDisplay .floatingPanel .math {font-size:90% !important;}
/*.chrome #tiddlerDisplay .sliderPanel .math {font-size:80% !important;}*/

.tiddler {overflow:visible;}
#tiddlerDisplay .toolbar {display:block;}
#tiddlerDisplay .titleContainer .miniTag {display:none !important;}
@font-face{font-family: lmroman10-regular;src: url('lmroman10-regular.otf') format('opentype');}

@font-face{	font-family: cmr10; src: url('cmr10.ttf') format('truetype');
			font-weight:normal;font-style: normal;}
@font-face{	font-family: cmr10; src: url('cmb10.ttf') format('truetype');
			font-weight:bold;font-style: normal;}
@font-face{	font-family: cmr10; src: url('cmti10.ttf') format('truetype');
			font-weight:normal;font-style: italic;}
@font-face{	font-family: cmr10; src: url('cmbxti10.ttf') format('truetype');
			font-weight:bold;font-style: italic;}
@font-face{	font-family: cmrsc10; src: url('cmcsc10.ttf') format('truetype');
			font-variant: small-caps;}

@font-face{	font-family: cmr10_bl; src: url('cmr10.ttf') format('truetype');
			font-weight:normal;font-style: normal;}
@font-face{font-family: cmr10_ams;src: url('CMR10_ams.otf') format('opentype');}
	@font-face{
	font-family: cmr8;
src: url('cmr8.ttf') format('truetype');
		}
		@font-face{
	font-family: cmb10;
src: url('cmb10.ttf') format('truetype');
			}
			@font-face{
	font-family: cmmi10;
src: url('cmmi10.ttf') format('truetype');	
				}
				@font-face{
		font-family: MathJax_Main-Regular;
src: url('MathJax_Main-Regular.otf') format('opentype');
					}
					@font-face{
		font-family: MathJax_Math-Regular;
src: url('MathJax_Math-Regular.otf') format('opentype');
						}
						@font-face{
		font-family: MathJax_SansSerif-Regular;
src: url('MathJax_SansSerif-Regular.otf') format('opentype');
}
.right {font-family:cmr10_ams;}
/*.viewer {-webkit-text-stroke: 0.2px;}*/
.tiddler .cmr8 {font-family:cmr8;}
.tiddler .cmr10 {font-family:cmr10;}
.tiddler .lmroman10-regular {font-family:lmroman10-regular;}
.tiddler .MathJax_Main-Regular {font-family:MathJax_Main-Regular;}
.tiddler .MathJax_Math-Regular {font-family:MathJax_Math-Regular;}
.tiddler .cmr10_ams {font-family:cmr10_ams;}
.tiddler .georgia {font-family:Georgia;}

.tiddler {
	padding-top:0.75em;
	overflow:auto;
	font-size:11pt;
	font-family:cmr10, arial,helvetica;
	padding-bottom:0.75em;
}

.titleContainer {padding:0px;}
.tiddler .MathJax_Display {overflow:visible;}
.tiddler {overflow:auto;}
.tiddler table, .tiddler img, .tiddler a {overflow:scroll;}


.title {
    font-family: 'Georgia','Times', sans-serif;line-height:1.00em;
font-size:140%;font-variant:small-caps;
font-weight:900;margin-left:8px;padding:0px;
    text-shadow: 0.3px 0.3px 0.1px [[ColorPalette::PrimaryLight]];
    letter-spacing:1px;display:block;
    
}
.titleContainer .title {
    font-family: 'Georgia','Times', sans-serif;line-height:1.25em;
font-size:200%;font-variant:small-caps;
font-weight:900;margin-left:8px;padding:0px;
    text-shadow: 0.3px 0.3px 0.1px [[ColorPalette::PrimaryLight]];
    letter-spacing:1px;display:block;
    
}

#sidebar {
-webkit-transition: all 0.2s ease-in-out;
  -moz-transition: all 0.2s ease-in-out;
  -o-transition: all 0.2s ease-in-out;
  transition: all 0.2s ease-in-out;
}

#sidebar .tabContents .tiddlyLink{
-webkit-transition: all 0.1s linear;
  -moz-transition: all 0.1s linear;
  -o-transition: all 0.1s linear;
  transition: all 0.1s linear;}

#sidebarTabs .tabUnselected {padding-bottom:0px !important;
		color:#888; background:[[ColorPalette::TertiaryLighter]] !important;
	border-top: 1px solid #ddd !important;
	border-left:1px solid #ddd !important;
	border-right:1px solid #bbb !important;
	border-bottom:4px solid [[ColorPalette::TertiaryLighter]] !important;

-webkit-transition: all 0.2s ease-in-out;
  -moz-transition: all 0.2s ease-in-out;
  -o-transition: all 0.2s ease-in-out;
  transition: all 0.2s ease-in-out;}
#sidebarTabs .tabUnselected:hover {
	border-left:1px solid [[ColorPalette::TertiaryPale]] !important;
	border-top:1px solid [[ColorPalette::TertiaryPale]] !important;
	border-right:1px solid [[ColorPalette::TertiaryMid]] !important;
	border-bottom:4px solid [[ColorPalette::TertiaryLight]] !important;

color:[[ColorPalette::TertiaryDark]];background:[[ColorPalette::TertiaryLight]] !important;}

#sidebarTabs .tabSelected {color:[[ColorPalette::TertiaryDarker]];
	background:[[ColorPalette::TertiaryPale]];
	border-left:1px solid [[ColorPalette::TertiaryPale]];
	border-top:1px solid [[ColorPalette::TertiaryDark]];
	border-right:1px solid [[ColorPalette::TertiaryMid]];
	border-bottom:4px solid [[ColorPalette::TertiaryPale]];
	 box-shadow: 6px 2px 2px -4px #888, 
				0px 1px 1.5px -1px [[ColorPalette::TertiaryMid]] inset !important;
-moz-box-shadow: 6px 2px 2px -4px  #888,0px 1px 1.5px -1px [[ColorPalette::TertiaryMid]] inset !important;
-webkit-box-shadow: 6px 2px 2px -4px #888, 0px 1px 1.5px -1px [[ColorPalette::TertiaryMid]] inset !important;
}
#sidebarTabs .tab {
-moz-border-radius: 20px !important;
-webkit-border-radius:2px !important;
border-radius: 3px 3px 0px 0px !important; /* future proofing */
-khtml-border-radius: 2px !important; /* for old Konqueror browsers */
-webkit-transition: all 0.2s ease-in-out;
  -moz-transition: all 0.2s ease-in-out;
  -o-transition: all 0.2s ease-in-out;
  transition: all 0.2s ease-in-out;
}


#search_close {border:0px !important;background:#FFF !important;}
#searchResults { 
	background:#FFF !important;
	    overflow:auto;
   
    font-family:cmr10,Georgia,Times, arial,helvetica;
    padding-bottom:1.25em;
	margin-bottom:15px;
	box-shadow: 2px 2px 2px #888;
-moz-box-shadow: 2px 2px 2px #888;
-webkit-box-shadow: 2px 2px 2px #888;
}
.txtOptionInput {-moz-border-radius: 2px;
-webkit-border-radius:2px;
border-radius: 2px; /* future proofing */
-khtml-border-radius: 2px; /* for old Konqueror browsers */}
/*#contentWrapper {background:#e6e6e6;height:100%;}*/
#displayArea .viewer {font-size:16px;}
.footer {display:none;}
.viewer .twtable {border:0px;}
.viewer .twtable th {color:#000;}
/* sexy tiddler titles */




#sidebar {margin-right:12px;}
#sidebarTabs {margin-top:6px;}
#sidebarOptions {display:none;}
.tiddler {  box-shadow: 2px 2px 2px #888;
-moz-box-shadow: 2px 2px 2px #888;
-webkit-box-shadow: 2px 2px 2px #888;
border:0px;}



/*body {background:[[ColorPalette::TertiaryPale]];}*/


.chrome .tabMoreClass .tab {line-height:20px;}
.chrome .tabMoreClass .tabContents {position:relative;top:-5px;}

#backstageShow {height:1px;width:1px;margin:0px;padding:2px;position:absolute;top:-17px;right:-3px;}/* position:absolute;top:-10px;right:0px; */
#backstageHide {position:relative;top:4px;}/* position:absolute;top:-10px;right:0px; */
#backstageButton a:hover{background:#000;display:inline;}

#sidebarOptions .searchButton { position:absolute;right:5px;margin-top:8px;font-size:8px;display: none !important;}
#sidebarOptions  a:hover { color:#FFF;}
#sidebarOptions input {width:210pt;margin-left:-1px;display: none !important;}


.ToggleRightSidebar {position:relative;top:2px;font-size:16px;margin-left:-3px;}




.header {display: none !important;}
/*#backstageButton { display: none !important;}*/

/*
#topMenu {display: none !important;}

#topMenu {background:[[ColorPalette::TertiaryLight]];}
*/

#displayArea{margin-right:312px;}
.tiddler{margin-right:0;}
.viewer .tiddlyLinkExisting {font-weight:normal;}
#sidebarTabs .tiddlyLinkExisting {font-weight:normal;}
.viewer h2 .tiddlyLinkExisting {font-weight:bold;}
h2 a{color:#000;}
h2 a:hover {background:inherit;color:#000}
.viewer{margin-bottom:2em;}
.viewer li,.viewer  ul {padding-top: 0.0em; padding-bottom: 0.0em;margin-bottom:-1em;margin-top:1em;} 
.tabset {padding:0em 0 0 0.5em;}
viewer table, table.twtable {border:2px solid [[ColorPalette::TertiaryDark]];padding:0px;}
.viewer th, .viewer thead td, .twtable th, .twtable thead td {padding:0px;background:[[ColorPalette::Background]]; border-left:0px solid [[ColorPalette::TertiaryDark]];border-right:0px solid [[ColorPalette::TertiaryDark]]; }
.viewer td, .viewer tr, .twtable td, .twtable .sortable2 tr {padding:0px;border:0px solid [[ColorPalette::TertiaryDark]];}

.viewer .lists li{margin:0px;padding:0px;}

.viewer .proof .sliderPanel {font-size:12pt;padding:5px;margin:-1.5em 1em 1em 0em;
    color:#000;  }
.proof{margin:0em 2em -4.0em 3em;padding:0em;font-size:11pt;}

#tiddlerDisplay .tiddler .subtitle {padding-bottom:1em;margin-left:-4px;margin-top:2px;}
html {font-family:Georgia;}
.fontResizer{ font-size:9.5pt;border:0px;font-weight:bold;}
	a.fontResizer{ font-size:9.5pt;border: 0px;}
.fontResizer .button { font-size:9.5pt;border:0px solid #000;text-decoration:none;font-weight:bold;}
.tiddler a.ftnlink {vertical-align: super; font-size: 0.8em; padding-left:1px;color:[[ColorPalette::PrimaryMid]];line-height:100%;font-weight:bold;}


.toolbar a {text-align:right; font-size:12pt;color:[[ColorPalette::TertiaryLight]];border:0px;-webkit-transition: all 0.3s ease-in-out;
  -moz-transition: all 0.3s ease-in-out;;
  -o-transition: all 0.3s ease-in-out;
  transition: all 0.3s ease-in-out;}
.toolbar a:hover{color:[[ColorPalette::TertiaryDarker]];background:[[ColorPalette::Background]];border:0px;}
.viewer .tab {background:[[ColorPalette::TertiaryPale]];
	margin: .1em -1em 0em 1.2em;
	padding: 3px;
	border-top: 1px solid #ddd;
	border-left: 1px solid #ddd;
	border-right:1px solid #bbb;
}
#tiddlerDisplay .tabUnselected {color:[[ColorPalette::TertiaryMid]]; background:[[ColorPalette::TertiaryPale]];-webkit-transition: all 0.2s ease-in-out;
  -moz-transition: all 0.2s ease-in-out;
  -o-transition: all 0.2s ease-in-out;
  transition: all 0.2s ease-in-out;}
#tiddlerDisplay .tabUnselected:hover {color:[[ColorPalette::Background]]; background:[[ColorPalette::PrimaryMid]];
	border-top: 1px solid #eee;
	border-left: 1px solid #eee;
	border-right:1px solid #aaa;
border-bottom:2px solid #aaa;
}
#tiddlerDisplay .tabSelected:hover {color:[[ColorPalette::Background]]; background:[[ColorPalette::PrimaryMid]];}
#tiddlerDisplay .tabSelected {color:[[ColorPalette::Foreground]];
	font-weight:bold;
	background:[[ColorPalette::Background]];
	border-left:1px solid [[ColorPalette::TertiaryLight]];
	border-top:1px solid [[ColorPalette::TertiaryLight]];
	border-right:1px solid [[ColorPalette::TertiaryLight]];
	-webkit-transition: all 0.2s ease-in-out;
  -moz-transition: all 0.2s ease-in-out;
  -o-transition: all 0.2s ease-in-out;
  transition: all 0.2s ease-in-out;
}
#tiddlerDisplay .tabContents {background:[[ColorPalette::Background]];border:0px;padding-top:2em; }
#tiddlerDisplay .tabset {padding: 1em 0em 0em 0em;}
.sectionTOC {
	display:block;background-color:[[ColorPalette::TertiaryPale]];float:right;padding-bottom:15px;
	margin-left:1.2em;border:1px solid [[ColorPalette::TertiaryMid]];margin-top:-40px;margin-bottom:5px;padding-right:5px;
	font-size:11pt;line-height:1.5em;
}
.sectionContents2
{
		
	float:right;padding:0.25 0.5em;font-weight:bold;
}

.chrome #sidebar {display:block;position:absolute; right:5px; width:21em; font-size:10pt;margin-left:50em;}
#sidebar {display:block;position:absolute; right:5px; width:21.0em; font-size:10pt;margin-left:50em;}
#sidebarOptions {padding-top:0.0em;margin-top:-4px;width:100%;}
#sidebarOptions a {margin:0 0.1em; padding:0.2em 0.4em;font-size:10pt;}
#sidebarOptions i {font-size:15pt;margin:0 0.1em;color:[[ColorPalette::PrimaryMid]];}
/*#sidebarOptions input {margin:0.4em 0.2em;} what is this? */
#sidebarOptions .sliderPanel {margin-left:1em; padding:0.5em; font-size:0.85em;}
#sidebarOptions .sliderPanel a {font-weight:bold;  padding:0;}
#sidebarOptions .sliderPanel input {margin:0 0 0.3em 0;}
#sidebarTabs .tabContents {width:20em; overflow:hidden;font-size:1em;background:[[ColorPalette::TertiaryPale]];
	border: 0px;border-top: 1px solid #ddd;margin-top:5px;margin-left:1px;
}
.chrome #sidebarTabs .tabContents {width:20em;
}


#sidebarTabs {width:21em;}
#sidebarOptions {padding-top:0.8em;}
#sidebarTabs .tabContents ul{
	margin-left: .75em;
	overflow: hidden;}

#sidebarTabs .tabset {padding: 1em 0em 0em 0em;}
#sidebarTabs .tab {margin: 0em 0em 0em 0.1em;
	padding: 3px;margin-bottom:3px;
	margin-top:0px;
	margin-right:2px;
		border-top: 1px solid #ddd;
	border-left:1px solid [[ColorPalette::TertiaryPale]];
	border-right:1px solid #ddd;
	overflow:visible;
}


.viewer pre {padding:0.5em; margin-left:-2px; font-size:1.0em; line-height:1.4em; overflow:auto;}
.editor {font-size:1.0em; line-height:1.6em;}
.viewer  {line-height:1.5em;}
.br1 {margin-top:-0.5em;}
.br2 {margin-top:-1em;}
.br3 {margin-top:-1.5em;}
.br4 {margin-top:-2em;}
.br5 {margin-top:-2.5em;}
.br6 {margin-top:-3em;}



.viewer table.centered {
    margin:0 auto;background-color:#FFF;
}

.viewer table.centered th{
    font-size:11pt;font-family:cmr10,Georgia;
	padding:1px;
	background-color:[[ColorPalette::TertiaryPale]];
	color:black;
}
.viewer table.centered td{
	padding:2px;border:[[ColorPalette::TertiaryDark]] 1px solid;
}
.viewer table.sortable {
    background-color:#FFF; !margin:0 auto;
}

.viewer table.sortable th{
    font-size:11pt;font-family:cmr10,Georgia;
	padding:1px;padding-right:5px;padding-left:8px;
	background-color:[[ColorPalette::TertiaryPale]];
	color:black;
}
.viewer table.sortable td{
	padding:2px;padding-right:5px;padding-left:5px;
}


.viewer table.sortable2 { border:0px;
    background-color:#FFF; !margin:0 auto;
}


.viewer table.sortable2 td{
	padding:4px 10px;border:0px;background-color:#FFF;
}

.viewer table.sortable2 th{ 
    font-size:11pt;font-family:cmr10,Georgia;
	padding:1px;padding-right:5px;padding-left:8px;
	background-color:[[ColorPalette::TertiaryPale]];
	color:black;
}
.viewer table.sortable3 th{ 
    font-size:11pt;font-family:cmr10,Georgia;
	padding:1px;padding-right:5px;padding-left:8px;
	background-color:[[ColorPalette::TertiaryPale]];
	color:black;
}


.viewer table.sortable3 { border:0px;
    background-color:#FFF; margin:0 auto;
}


.viewer table.sortable3 td{
	padding:4px 10px;border:0px;background-color:#FFF;
}
.viewer table.sortable4 th{ 
    font-size:11pt;font-family:cmr10,Georgia;
	padding:1px;padding-right:10px;padding-left:15px;
	background-color:[[ColorPalette::TertiaryPale]];
	color:black;
}


.viewer table.sortable4 { border:0px;
    background-color:#FFF; margin:0 auto;
}


.viewer table.sortable4 td{
	padding:6px 16px;border:0px;background-color:#FFF;
}





a.bibtexhandle { position: relative; }
a.bibtexhandle span.bibtexbox {
  font-size: 5pt;
  display: none;
  position: absolute;
  z-index: 10;
  left: -100%;
  width: 300%;
  padding: 5px;
  border:0px solid [[ColorPalette::SecondaryMid]];
  background: [[ColorPalette::SecondaryLight]];
  color:[[ColorPalette::Foreground]]; }

.tiddler a.ftnlink {vertical-align: super; font-size: 0.7em; color:[[ColorPalette::PrimaryMid]];margin:0em,padding:0em;}
.tiddler a.ftnlink:hover, .tiddler .footnoteholder a.ftnbklink:hover{color:#fff;background:[[ColorPalette::PrimaryMid]];}
.tiddler div.footnoteholder{margin:0.5em 0.5em; padding:0.1em 1.0em 0.1em 1.0em ;border-left: 0px solid #ccc;font-size: 0.9em;}
.tiddler footnoteholder ol {font-size: 0.9em; line-height: 1.2em;}
.tiddler .footnoteholder li.footnote {margin: 0 0 5px 0;}
.tiddler .footnoteholder a.ftnbklink{color:[[ColorPalette::PrimaryLight]];}

.references {
        margin-left:8px;
	font-size: 1em;
	text-align: center;
	color: [[ColorPalette::TertiaryDark]];
	margin-top: .75em;
	padding: .25em;margin-bottom:0.5em;
	border: 1px solid [[ColorPalette::TertiaryPale]];
	background-color: [[ColorPalette::TertiaryPale]];}
.selected .references {
	background-color: [[ColorPalette::TertiaryPale]];
	border: 1px solid [[ColorPalette::TertiaryLight]];}
.references .tiddlyLinkExisting {font-weight: normal;}




#lightBoxOverlay {
    position:absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 90;   
    background-color: #000;
    -moz-opacity: 0.6;
    opacity: .60;
    filter: alpha(opacity=60);
}
#lightBoxOverlay[id]{ 
    position: fixed;
}

div.lightBox {
    background: #2d2d2d;
    color: #fff;
    border: 2px solid #eee;
}

img.lightBoxClose {
    position: absolute;
    top: -5px;
    right: -5px;
    margin: 0px;
    cursor: pointer;
}

div.lightBoxAlert {
    width: 300px;
    height: 64px;
    background: #2d2d2d;
    color: #fff;
    padding: 10px;
    border: 2px solid #eee;
}

div.lightBoxAlertIcon {
	position: absolute;
	top: 8px;
	left: 8px;
	width: 48px;
	height: 48px;
}

div.lightBoxAlertMessage {
	margin-left: 56px;
	margin-top: 16px;
}

/* Tidy things up for clean printing */

@media print {
/* Sans-Serif for screen, but Serif for print */
body { font-family:cmr10,Georgia, Times New Roman, Serif; }
 
/* Get rid of stuff that just wastes space */
#contentWrapper .header, #displayAreaHeader, #searchResults,
#tiddlerDisplay .tiddler .subtitle,
div.dp-highlighter div.bar {
display: none !important;
}
div.dp-highlighter ol.dp-css { margin-left: 1.5ex !important; }

/* Hide tag-related floats as they're almost always irrelevant to
* print copies */
.tagging, .tagged { display: none !important; }
 
/* Mark up highlighted regions in dotted borders as a surrogate for
* background colors */
.marked {
border: 1px dotted black;
padding-left: 0.3ex;
padding-right:0.3ex;
}
/* Also set a &quot;highlighter marker yellow&quot; background on highlighted
* text if the browser allows background colors OR images. */
.marked { background: url(data:image/gif;base64,R0lGODdhAQABAIABAP//Rf///ywAAAAAAQABAAACAkQBADs=) repeat scroll 0 0 #ffff45; }
 
/* Force Firefox and Chrome to render checkboxes properly and at
* the same scale as fonts */
input[type=&quot;checkbox&quot;] {
vertical-align: bottom !important;
-moz-appearance: none;
-webkit-appearance: none;
outline: 1px solid black !important;
width: 0.7em;
height: 0.7em;
}
input[type=&quot;checkbox&quot;]:checked{
border: 0.4em solid black;
}
 
/* Display URLs for links in the print version */
/* DISABLED: More bother than it's worth, given how I use external links
a.externalLink:after { content: &quot; (&quot; attr(href) &quot;) &quot;; }
*/
 
/* Page break before each tiddler like chapters in a book */
#tiddlerDisplay .tiddler { page-break-after: always; }
	    .tagglyTagged  {display: none ! important;}
        
}

.chrome #sidebarOptions i {font-size:13pt;}


/*** SNIPPET STARTS ***/

.noise {
	position: relative;
	z-index: 1;
	}
		
.noise:before, .body-noise:before {
	content: &quot;&quot;;
	position: absolute;
	z-index: -1;
	top:0;
	bottom:0;
	left:0;
	right:0;
	background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAAUVBMVEWFhYWDg4N3d3dtbW17e3t1dXWBgYGHh4d5eXlzc3OLi4ubm5uVlZWPj4+NjY19fX2JiYl/f39ra2uRkZGZmZlpaWmXl5dvb29xcXGTk5NnZ2c8TV1mAAAAG3RSTlNAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAvEOwtAAAFVklEQVR4XpWWB67c2BUFb3g557T/hRo9/WUMZHlgr4Bg8Z4qQgQJlHI4A8SzFVrapvmTF9O7dmYRFZ60YiBhJRCgh1FYhiLAmdvX0CzTOpNE77ME0Zty/nWWzchDtiqrmQDeuv3powQ5ta2eN0FY0InkqDD73lT9c9lEzwUNqgFHs9VQce3TVClFCQrSTfOiYkVJQBmpbq2L6iZavPnAPcoU0dSw0SUTqz/GtrGuXfbyyBniKykOWQWGqwwMA7QiYAxi+IlPdqo+hYHnUt5ZPfnsHJyNiDtnpJyayNBkF6cWoYGAMY92U2hXHF/C1M8uP/ZtYdiuj26UdAdQQSXQErwSOMzt/XWRWAz5GuSBIkwG1H3FabJ2OsUOUhGC6tK4EMtJO0ttC6IBD3kM0ve0tJwMdSfjZo+EEISaeTr9P3wYrGjXqyC1krcKdhMpxEnt5JetoulscpyzhXN5FRpuPHvbeQaKxFAEB6EN+cYN6xD7RYGpXpNndMmZgM5Dcs3YSNFDHUo2LGfZuukSWyUYirJAdYbF3MfqEKmjM+I2EfhA94iG3L7uKrR+GdWD73ydlIB+6hgref1QTlmgmbM3/LeX5GI1Ux1RWpgxpLuZ2+I+IjzZ8wqE4nilvQdkUdfhzI5QDWy+kw5Wgg2pGpeEVeCCA7b85BO3F9DzxB3cdqvBzWcmzbyMiqhzuYqtHRVG2y4x+KOlnyqla8AoWWpuBoYRxzXrfKuILl6SfiWCbjxoZJUaCBj1CjH7GIaDbc9kqBY3W/Rgjda1iqQcOJu2WW+76pZC9QG7M00dffe9hNnseupFL53r8F7YHSwJWUKP2q+k7RdsxyOB11n0xtOvnW4irMMFNV4H0uqwS5ExsmP9AxbDTc9JwgneAT5vTiUSm1E7BSflSt3bfa1tv8Di3R8n3Af7MNWzs49hmauE2wP+ttrq+AsWpFG2awvsuOqbipWHgtuvuaAE+A1Z/7gC9hesnr+7wqCwG8c5yAg3AL1fm8T9AZtp/bbJGwl1pNrE7RuOX7PeMRUERVaPpEs+yqeoSmuOlokqw49pgomjLeh7icHNlG19yjs6XXOMedYm5xH2YxpV2tc0Ro2jJfxC50ApuxGob7lMsxfTbeUv07TyYxpeLucEH1gNd4IKH2LAg5TdVhlCafZvpskfncCfx8pOhJzd76bJWeYFnFciwcYfubRc12Ip/ppIhA1/mSZ/RxjFDrJC5xifFjJpY2Xl5zXdguFqYyTR1zSp1Y9p+tktDYYSNflcxI0iyO4TPBdlRcpeqjK/piF5bklq77VSEaA+z8qmJTFzIWiitbnzR794USKBUaT0NTEsVjZqLaFVqJoPN9ODG70IPbfBHKK+/q/AWR0tJzYHRULOa4MP+W/HfGadZUbfw177G7j/OGbIs8TahLyynl4X4RinF793Oz+BU0saXtUHrVBFT/DnA3ctNPoGbs4hRIjTok8i+algT1lTHi4SxFvONKNrgQFAq2/gFnWMXgwffgYMJpiKYkmW3tTg3ZQ9Jq+f8XN+A5eeUKHWvJWJ2sgJ1Sop+wwhqFVijqWaJhwtD8MNlSBeWNNWTa5Z5kPZw5+LbVT99wqTdx29lMUH4OIG/D86ruKEauBjvH5xy6um/Sfj7ei6UUVk4AIl3MyD4MSSTOFgSwsH/QJWaQ5as7ZcmgBZkzjjU1UrQ74ci1gWBCSGHtuV1H2mhSnO3Wp/3fEV5a+4wz//6qy8JxjZsmxxy5+4w9CDNJY09T072iKG0EnOS0arEYgXqYnXcYHwjTtUNAcMelOd4xpkoqiTYICWFq0JSiPfPDQdnt+4/wuqcXY47QILbgAAAABJRU5ErkJggg==);

	}

/*** SNIPPET ENDS ***/


/*}}}*/</pre>
</div>
<div title="StyleSheetCodeMirror" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405181057" tags="css excludeTimeline" changecount="2" alias="" content-type="">
<pre>/*{{{*/
[[codemirror.css]]
[[tiddlywiki.css]]

.CodeMirror {
	border: 1px solid [[ColorPalette::PrimaryMid]];
	background: [[ColorPalette::Background]];
	line-height: 1.1em;
}
/*}}}*/</pre>
</div>
<div title="StyleSheetColors" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404150047" modified="201405042130" tags="css excludeTimeline" changecount="3" content-type="">
<pre>/*{{{*/
body {background:[[ColorPalette::Background]]; color:[[ColorPalette::Foreground]];}

a {color:[[ColorPalette::PrimaryMid]];}
a:hover {background-color:[[ColorPalette::PrimaryMid]]; color:[[ColorPalette::Background]];}
a img {border:0;}

h1,h2,h3,h4,h5,h6 {color:[[ColorPalette::SecondaryDark]]; background:transparent;}
h1 {border-bottom:2px solid [[ColorPalette::TertiaryLight]];}
h2,h3 {border-bottom:1px solid [[ColorPalette::TertiaryLight]];}

.button {color:[[ColorPalette::PrimaryDark]]; border:1px solid [[ColorPalette::Background]];}
.button:hover {color:[[ColorPalette::PrimaryDark]]; background:[[ColorPalette::SecondaryLight]]; border-color:[[ColorPalette::SecondaryMid]];}
.button:active {color:[[ColorPalette::Background]]; background:[[ColorPalette::SecondaryMid]]; border:1px solid [[ColorPalette::SecondaryDark]];}

.header {background:[[ColorPalette::PrimaryMid]];}
.headerShadow {color:[[ColorPalette::Foreground]];}
.headerShadow a {font-weight:normal; color:[[ColorPalette::Foreground]];}
.headerForeground {color:[[ColorPalette::Background]];}
.headerForeground a {font-weight:normal; color:[[ColorPalette::PrimaryPale]];}

.tabSelected {color:[[ColorPalette::PrimaryDark]];
	background:[[ColorPalette::TertiaryPale]];
	border-left:1px solid [[ColorPalette::TertiaryLight]];
	border-top:1px solid [[ColorPalette::TertiaryLight]];
	border-right:1px solid [[ColorPalette::TertiaryLight]];
}
.tabUnselected {color:[[ColorPalette::Background]]; background:[[ColorPalette::TertiaryMid]];}
.tabContents {color:[[ColorPalette::PrimaryDark]]; background:[[ColorPalette::TertiaryPale]]; border:1px solid [[ColorPalette::TertiaryLight]];}
.tabContents .button {border:0;}

#sidebar {}
#sidebarOptions input {border:1px solid [[ColorPalette::PrimaryMid]];}
#sidebarOptions .sliderPanel {background:[[ColorPalette::PrimaryPale]];}
#sidebarOptions .sliderPanel a {border:none;color:[[ColorPalette::PrimaryMid]];}
#sidebarOptions .sliderPanel a:hover {color:[[ColorPalette::Background]]; background:[[ColorPalette::PrimaryMid]];}
#sidebarOptions .sliderPanel a:active {color:[[ColorPalette::PrimaryMid]]; background:[[ColorPalette::Background]];}

.wizard {background:[[ColorPalette::PrimaryPale]]; border:1px solid [[ColorPalette::PrimaryMid]];}
.wizard h1 {color:[[ColorPalette::PrimaryDark]]; border:none;}
.wizard h2 {color:[[ColorPalette::Foreground]]; border:none;}
.wizardStep {background:[[ColorPalette::Background]]; color:[[ColorPalette::Foreground]];
	border:1px solid [[ColorPalette::PrimaryMid]];}
.wizardStep.wizardStepDone {background:[[ColorPalette::TertiaryLight]];}
.wizardFooter {background:[[ColorPalette::PrimaryPale]];}
.wizardFooter .status {background:[[ColorPalette::PrimaryDark]]; color:[[ColorPalette::Background]];}
.wizard .button {color:[[ColorPalette::Foreground]]; background:[[ColorPalette::SecondaryLight]]; border: 1px solid;
	border-color:[[ColorPalette::SecondaryPale]] [[ColorPalette::SecondaryDark]] [[ColorPalette::SecondaryDark]] [[ColorPalette::SecondaryPale]];}
.wizard .button:hover {color:[[ColorPalette::Foreground]]; background:[[ColorPalette::Background]];}
.wizard .button:active {color:[[ColorPalette::Background]]; background:[[ColorPalette::Foreground]]; border: 1px solid;
	border-color:[[ColorPalette::PrimaryDark]] [[ColorPalette::PrimaryPale]] [[ColorPalette::PrimaryPale]] [[ColorPalette::PrimaryDark]];}

.wizard .notChanged {background:transparent;}
.wizard .changedLocally {background:#80ff80;}
.wizard .changedServer {background:#8080ff;}
.wizard .changedBoth {background:#ff8080;}
.wizard .notFound {background:#ffff80;}
.wizard .putToServer {background:#ff80ff;}
.wizard .gotFromServer {background:#80ffff;}

#messageArea {border:1px solid [[ColorPalette::SecondaryMid]]; background:[[ColorPalette::SecondaryLight]]; color:[[ColorPalette::Foreground]];}
#messageArea .button {color:[[ColorPalette::PrimaryMid]]; background:[[ColorPalette::SecondaryPale]]; border:none;}

.popupTiddler {background:[[ColorPalette::TertiaryPale]]; border:2px solid [[ColorPalette::TertiaryMid]];}

.popup {background:[[ColorPalette::TertiaryPale]]; color:[[ColorPalette::TertiaryDark]]; border-left:1px solid [[ColorPalette::TertiaryMid]]; border-top:1px solid [[ColorPalette::TertiaryMid]]; border-right:2px solid [[ColorPalette::TertiaryDark]]; border-bottom:2px solid [[ColorPalette::TertiaryDark]];}
.popup hr {color:[[ColorPalette::PrimaryDark]]; background:[[ColorPalette::PrimaryDark]]; border-bottom:1px;}
.popup li.disabled {color:[[ColorPalette::TertiaryMid]];}
.popup li a, .popup li a:visited {color:[[ColorPalette::Foreground]]; border: none;}
.popup li a:hover {background:[[ColorPalette::SecondaryLight]]; color:[[ColorPalette::Foreground]]; border: none;}
.popup li a:active {background:[[ColorPalette::SecondaryPale]]; color:[[ColorPalette::Foreground]]; border: none;}
.popupHighlight {background:[[ColorPalette::Background]]; color:[[ColorPalette::Foreground]];}
.listBreak div {border-bottom:1px solid [[ColorPalette::TertiaryDark]];}

.tiddler .defaultCommand {font-weight:bold;}

.shadow .title {color:[[ColorPalette::TertiaryDark]];}

.title {color:[[ColorPalette::SecondaryDark]];}
.subtitle {color:[[ColorPalette::TertiaryDark]];}

.toolbar {color:[[ColorPalette::PrimaryMid]];}
.toolbar a {color:[[ColorPalette::TertiaryLight]];}
.selected .toolbar a {color:[[ColorPalette::TertiaryMid]];}
.selected .toolbar a:hover {color:[[ColorPalette::Foreground]];}

.tagging, .tagged {border:1px solid [[ColorPalette::TertiaryPale]]; background-color:[[ColorPalette::TertiaryPale]];}
.selected .tagging, .selected .tagged {background-color:[[ColorPalette::TertiaryLight]]; border:1px solid [[ColorPalette::TertiaryMid]];}
.tagging .listTitle, .tagged .listTitle {color:[[ColorPalette::PrimaryDark]];}
.tagging .button, .tagged .button {border:none;}

.footer {color:[[ColorPalette::TertiaryLight]];}
.selected .footer {color:[[ColorPalette::TertiaryMid]];}

.error, .errorButton {color:[[ColorPalette::Foreground]]; background:[[ColorPalette::Error]];}
.warning {color:[[ColorPalette::Foreground]]; background:[[ColorPalette::SecondaryPale]];}
.lowlight {background:[[ColorPalette::TertiaryLight]];}

.zoomer {background:none; color:[[ColorPalette::TertiaryMid]]; border:3px solid [[ColorPalette::TertiaryMid]];}

.imageLink, #displayArea .imageLink {background:transparent;}

.annotation {background:[[ColorPalette::SecondaryLight]]; color:[[ColorPalette::Foreground]]; border:2px solid [[ColorPalette::SecondaryMid]];}

.viewer .listTitle {list-style-type:none; margin-left:-2em;}
.viewer .button {border:1px solid [[ColorPalette::SecondaryMid]];}
.viewer blockquote {border-left:3px solid [[ColorPalette::TertiaryDark]];}

.viewer table, table.twtable {border:2px solid [[ColorPalette::TertiaryDark]];}
.viewer th, .viewer thead td, .twtable th, .twtable thead td {background:[[ColorPalette::SecondaryMid]]; border:1px solid [[ColorPalette::TertiaryDark]]; color:[[ColorPalette::Background]];}
.viewer td, .viewer tr, .twtable td, .twtable tr {border:1px solid [[ColorPalette::TertiaryDark]];}

.viewer pre {border:1px solid [[ColorPalette::SecondaryLight]]; background:[[ColorPalette::SecondaryPale]];}
.viewer code {color:[[ColorPalette::SecondaryDark]];}
.viewer hr {border:0; border-top:dashed 1px [[ColorPalette::TertiaryDark]]; color:[[ColorPalette::TertiaryDark]];}

.highlight, .marked {background:[[ColorPalette::SecondaryLight]];}

.editor input {border:1px solid [[ColorPalette::PrimaryMid]];}
.editor textarea {border:1px solid [[ColorPalette::PrimaryMid]]; width:100%;}
.editorFooter {color:[[ColorPalette::TertiaryMid]];}
.readOnly {background:[[ColorPalette::TertiaryPale]];}

#backstageArea {background:[[ColorPalette::Foreground]]; color:[[ColorPalette::TertiaryMid]];}
#backstageArea a {background:[[ColorPalette::Foreground]]; color:[[ColorPalette::Background]]; border:none;}
#backstageArea a:hover {background:[[ColorPalette::SecondaryLight]]; color:[[ColorPalette::Foreground]]; }
#backstageArea a.backstageSelTab {background:[[ColorPalette::Background]]; color:[[ColorPalette::Foreground]];}
#backstageButton a {background:none; color:[[ColorPalette::Background]]; border:none;}
#backstageButton a:hover {background:[[ColorPalette::Foreground]]; color:[[ColorPalette::Background]]; border:none;}
#backstagePanel {background:[[ColorPalette::Background]]; border-color: [[ColorPalette::Background]] [[ColorPalette::TertiaryDark]] [[ColorPalette::TertiaryDark]] [[ColorPalette::TertiaryDark]];}
.backstagePanelFooter .button {border:none; color:[[ColorPalette::Background]];}
.backstagePanelFooter .button:hover {color:[[ColorPalette::Foreground]];}
#backstageCloak {background:[[ColorPalette::Foreground]]; opacity:0.6; filter:alpha(opacity=60);}
/*}}}*/
</pre>
</div>
<div title="StyleSheetLayout" modifier="Christopher Wilson" created="201305230022" modified="201405090506" tags="css excludeTimeline" alias="" content-type="text/css" changecount="11">
<pre>/*{{{*/


* html .tiddler {height:1%;}

body {font-size:.75em; font-family:Georgia,arial,helvetica; margin:0; padding:0;}

h1,h2,h3,h4,h5,h6 {font-weight:bold; text-decoration:none;}
h1,h2,h3 {padding-bottom:1px; margin-top:1.2em;margin-bottom:0.3em;}
h4,h5,h6 {margin-top:1em;}
h1 {font-size:1.35em;}
h2 {font-size:1.25em;}
h3 {font-size:1.1em;}
h4 {font-size:1em;}
h5 {font-size:.9em;}

hr {height:1px;}

a {text-decoration:none;}

dt {font-weight:bold;}

ol {list-style-type:decimal;}
ol ol {list-style-type:lower-alpha;}
ol ol ol {list-style-type:lower-roman;}
ol ol ol ol {list-style-type:decimal;}
ol ol ol ol ol {list-style-type:lower-alpha;}
ol ol ol ol ol ol {list-style-type:lower-roman;}
ol ol ol ol ol ol ol {list-style-type:decimal;}

.txtOptionInput {width:11em;}

#contentWrapper .chkOptionInput {border:0;}

.externalLink {text-decoration:underline;}

.indent {margin-left:3em;}
.outdent {margin-left:3em; text-indent:-3em;}
code.escaped {white-space:nowrap;}

.tiddlyLinkExisting {font-weight:bold;}
.tiddlyLinkNonExisting {font-style:italic;}

/* the 'a' is required for IE, otherwise it renders the whole tiddler in bold */
a.tiddlyLinkNonExisting.shadow {font-weight:bold;}

#mainMenu .tiddlyLinkExisting,
	#mainMenu .tiddlyLinkNonExisting,
	#sidebarTabs .tiddlyLinkNonExisting {font-weight:normal; font-style:normal;}
#sidebarTabs .tiddlyLinkExisting {font-weight:bold; font-style:normal;}

.header {position:relative;}
.header a:hover {background:transparent;}
.headerShadow {position:relative; padding:4.5em 0 1em 1em; left:-1px; top:-1px;}
.headerForeground {position:absolute; padding:4.5em 0 1em 1em; left:0; top:0;}

.siteTitle {font-size:3em;}
.siteSubtitle {font-size:1.2em;}

#mainMenu {position:absolute; left:0; width:10em; text-align:right; line-height:1.6em; padding:1.5em 0.5em 0.5em 0.5em; font-size:1.1em;}

#sidebar {position:absolute; right:3px; width:22em; font-size:.9em;}
#sidebarOptions {padding-top:0.3em;}
#sidebarOptions a {margin:0 0.2em; padding:0.2em 0.3em; display:inline;}
#sidebarOptions input {margin:0.4em 0.5em;}
#sidebarOptions .sliderPanel {margin-left:1em; padding:0.5em; font-size:.85em;}
#sidebarOptions .sliderPanel a {font-weight:bold; display:inline; padding:0;}
#sidebarOptions .sliderPanel input {margin:0 0 0.3em 0;}
#sidebarTabs .tabContents {width:15em; overflow:hidden;}

.wizard {padding:0.1em 1em 0 2em;}
.wizard h1 {font-size:2em; font-weight:bold; background:none; padding:0; margin:0.4em 0 0.2em;}
.wizard h2 {font-size:1.2em; font-weight:bold; background:none; padding:0; margin:0.4em 0 0.2em;}
.wizardStep {padding:1em 1em 1em 1em;}
.wizard .button {margin:0.5em 0 0; font-size:1.2em;}
.wizardFooter {padding:0.8em 0.4em 0.8em 0;}
.wizardFooter .status {padding:0 0.4em; margin-left:1em;}
.wizard .button {padding:0.1em 0.2em;}

#messageArea {position:fixed; top:2em; right:0; margin:0.5em; padding:0.5em; z-index:2000; _position:absolute;}
.messageToolbar {display:block; text-align:right; padding:0.2em;}
#messageArea a {text-decoration:underline;}

.tiddlerPopupButton {padding:0.2em;}
.popupTiddler {position: absolute; z-index:300; padding:1em; margin:0;}

.popup {position:absolute; z-index:300; font-size:.9em; padding:0; list-style:none; margin:0;}
.popup .popupMessage {padding:0.4em;}
.popup hr {display:block; height:1px; width:auto; padding:0; margin:0.2em 0;}
.popup li.disabled {padding:0.4em;}
.popup li a {display:block; padding:0.4em; font-weight:normal; cursor:pointer;}
.listBreak {font-size:1px; line-height:1px;}
.listBreak div {margin:2px 0;}

.tabset {padding:1em 0 0 0.5em;}
.tab {margin:0 0 0 0.25em; padding:2px;}
.tabContents {padding:0.5em;}
.tabContents ul, .tabContents ol {margin:0; padding:0;}
.txtMainTab .tabContents li {list-style:none;}
.tabContents li.listLink { margin-left:.75em;}

#contentWrapper {display:block;}
#splashScreen {display:none;}

#displayArea {margin:1em 17em 0 14em;}

.toolbar {text-align:right; font-size:.9em;}

.tiddler {padding:1em 1em 0;}

.missing .viewer,.missing .title {font-style:italic;}

.title {font-size:1.6em; font-weight:bold;}

.missing .subtitle {display:none;}
.subtitle {font-size:1.1em;}

.tiddler .button {padding:0.2em 0.4em;}

.tagging {margin:0.5em 0.5em 0.5em 0; float:left; display:none;}
.isTag .tagging {display:block;}
.tagged {margin:0.5em; float:right;}
.tagging, .tagged {font-size:0.9em; padding:0.25em;}
.tagging ul, .tagged ul {list-style:none; margin:0.25em; padding:0;}
.tagClear {clear:both;}

.footer {font-size:.9em;}
.footer li {display:inline;}

.annotation {padding:0.5em; margin:0.5em;}

* html .viewer pre {width:99%; padding:0 0 1em 0;}
.viewer {line-height:1.4em; padding-top:0.5em;}
.viewer .button {margin:0 0.25em; padding:0 0.25em;}
.viewer blockquote {line-height:1.5em; padding-left:0.8em;margin-left:2.5em;}
.viewer ul, .viewer ol {margin-left:0.5em; padding-left:1.5em;}

.viewer table, table.twtable {border-collapse:collapse; margin:0.8em 1.0em;}
.viewer th, .viewer td, .viewer tr,.viewer caption,.twtable th, .twtable td, .twtable tr,.twtable caption {padding:3px;}
table.listView {font-size:0.85em; margin:0.8em 1.0em;}
table.listView th, table.listView td, table.listView tr {padding:0 3px 0 3px;}

.viewer pre {padding:0.5em; margin-left:0.5em; font-size:1.2em; line-height:1.4em; overflow:auto;}
.viewer code {font-size:1.2em; line-height:1.4em;}

.editor {font-size:1.1em;}
.editor input, .editor textarea {display:block; width:100%; font:inherit;}
.editorFooter {padding:0.25em 0; font-size:.9em;}
.editorFooter .button {padding-top:0; padding-bottom:0;}

.fieldsetFix {border:0; padding:0; margin:1px 0px;}

.zoomer {font-size:1.1em; position:absolute; overflow:hidden;}
.zoomer div {padding:1em;}

* html #backstage {width:99%;}
* html #backstageArea {width:99%;}
#backstageArea {display:none; position:relative; overflow: hidden; z-index:150; padding:0.3em 0.5em;}
#backstageToolbar {position:relative;}
#backstageArea a {font-weight:bold; margin-left:0.5em; padding:0.3em 0.5em;}
#backstageButton {display:none; position:absolute; z-index:175; top:0; right:0;}
#backstageButton a {padding:0.1em 0.4em; margin:0.1em;}
#backstage {position:relative; width:100%; z-index:50;}
#backstagePanel {display:none; z-index:100; position:absolute; width:90%; margin-left:3em; padding:1em;}
.backstagePanelFooter {padding-top:0.2em; float:right;}
.backstagePanelFooter a {padding:0.2em 0.4em;}
#backstageCloak {display:none; z-index:20; position:absolute; width:100%; height:100px;}

.whenBackstage {display:none;}
.backstageVisible .whenBackstage {display:block;}
/*}}}*/
</pre>
</div>
<div title="StyleSheetLocale" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405181034" tags="css excludeTimeline" changecount="3" alias="" content-type="">
<pre>/***
StyleSheet for use when a translation requires any css style changes.
This StyleSheet can be used directly by languages such as Chinese, Japanese and Korean which need larger font sizes.
***/
/*{{{*/
body {font-size:0.8em;}
#sidebarOptions {font-size:1.05em;}
#sidebarOptions a {font-style:normal;}
#sidebarOptions .sliderPanel {font-size:0.95em;}
.subtitle {font-size:0.8em;}
.viewer table.listView {font-size:0.95em;}
/*}}}*/
</pre>
</div>
<div title="StyleSheetPrint" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405181010" tags="css excludeTimeline" changecount="1" alias="" content-type="text/css">
<pre>/*{{{*/
@media print {
/* Sans-Serif for screen, but Serif for print */
body { font-family:cmr10,Georgia, Times New Roman, Serif; }
 
/* Get rid of stuff that just wastes space */
#contentWrapper .header, #displayAreaHeader, #searchResults,
#tiddlerDisplay .tiddler .subtitle,
div.dp-highlighter div.bar {
display: none !important;
}
div.dp-highlighter ol.dp-css { margin-left: 1.5ex !important; }

/* Hide tag-related floats as they're almost always irrelevant to
* print copies */
.tagging, .tagged { display: none !important; }
 
/* Mark up highlighted regions in dotted borders as a surrogate for
* background colors */
.marked {
border: 1px dotted black;
padding-left: 0.3ex;
padding-right:0.3ex;
}
/* Also set a &quot;highlighter marker yellow&quot; background on highlighted
* text if the browser allows background colors OR images. */
.marked { background: url(data:image/gif;base64,R0lGODdhAQABAIABAP//Rf///ywAAAAAAQABAAACAkQBADs=) repeat scroll 0 0 #ffff45; }
 
/* Force Firefox and Chrome to render checkboxes properly and at
* the same scale as fonts */
input[type=&quot;checkbox&quot;] {
vertical-align: bottom !important;
-moz-appearance: none;
-webkit-appearance: none;
outline: 1px solid black !important;
width: 0.7em;
height: 0.7em;
}
input[type=&quot;checkbox&quot;]:checked{
border: 0.4em solid black;
}
 
/* Display URLs for links in the print version */
/* DISABLED: More bother than it's worth, given how I use external links
a.externalLink:after { content: &quot; (&quot; attr(href) &quot;) &quot;; }
*/
 
/* Page break before each tiddler like chapters in a book */
#tiddlerDisplay .tiddler { page-break-after: always; }
	    .tagglyTagged  {display: none ! important;}
        
}


@media print {
#mainMenu, #sidebar, #messageArea, .toolbar, #backstageButton, #backstageArea {display: none !important;}
#displayArea {margin: 1em 1em 0em;}
noscript {display:none;} /* Fixes a feature in Firefox 1.5.0.2 where print preview displays the noscript content */
}
/*}}}*/
</pre>
</div>
<div title="SystemInfoPlugin" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405161246" tags="systemConfig excludeTimeline" changecount="2" content-type="text/x-tiddlywiki">
<pre>/***
|Name|SystemInfoPlugin|
|Source|http://www.TiddlyTools.com/#SystemInfoPlugin|
|Version|1.7.1|
|Author|Eric Shulman|
|License|http://www.TiddlyTools.com/#LegalStatements|
|~CoreVersion|2.1|
|Type|plugin|
|Description|view system internal data and settings|
~TidIDE (//prounounced &quot;Tie Dyed&quot;//) - ''Tid''dlyWiki ''I''ntegrated ''D''evelopment ''E''nvironment - tools for ~TiddlyWiki authors and editors.  

You can use the {{{&lt;&lt;systemInfo&gt;&gt;}}} control panel to view a variety of system internal data and functions, and view/modify ''all'' of ~TiddlyWiki's internal config.option.* settings.  NOTE: Non-default config.options are stored in cookies and are retrieved whenever the TW document is loaded into a browser; however, ''core TW functions and custom-defined plugins can explicitly ignore or reset any locally-stored cookie values and use their own, internally-defined values'' instead.  As a result, changes to these may be completely ignored, or may only have an effect during the current TW document &quot;session&quot; (i.e., until the TW document is reloaded), even though a persistent cookie value has been saved.
!!!!!Usage/Example
&lt;&lt;&lt;
{{{&lt;&lt;systemInfo&gt;&gt;}}}
{{smallform{&lt;&lt;systemInfo&gt;&gt;}}}
&lt;&lt;&lt;
!!!!!Revisions
&lt;&lt;&lt;
''2007.10.31 [1.7.1]'' code reduction: when filling globals droplist, instead of using a large, static &quot;global exclusion list&quot;, simply skip global *functions*, while still listing all other global properties, including key TW internal objects such as &quot;config&quot;.
''2007.09.09 [1.7.0]'' split from TidIDEPlugin
|please see [[TidIDEPluginInfo]] for additional revision details|
''2006.04.15 [0.5.0]'' Initial ALPHA release. Converted from inline script.
&lt;&lt;&lt;
!!!!!Code
***/
//{{{
version.extensions.SystemInfoPlugin= {major: 1, minor: 7, revision: 1, date: new Date(2006,10,31)};
config.shadowTiddlers.SystemInfo=&quot;&lt;&lt;systemInfo&gt;&gt;&quot;;
config.macros.systemInfo = {
	handler: function(place,macroName,params,wikifier,paramString,tiddler) {
		var span=createTiddlyElement(place,&quot;span&quot;)
		span.innerHTML=this.html;
		this.getsys(span.getElementsByTagName(&quot;form&quot;)[0]); // initialize form
	},
	getsys: function(f) {
		f.sysview.value=&quot;&quot;;

		// OPTIONS
		while (f.sys_opts.options.length &gt; 1) { f.sys_opts.options[1]=null; } // clear list
		f.config_view.value=&quot;&quot;;  // clear edit field
		var cookies = { };
		if (document.cookie != &quot;&quot;) {
			var p = document.cookie.split(&quot;; &quot;);
			for (var i=0; i &lt; p.length; i++) {
				var pos=p[i].indexOf(&quot;=&quot;);
				if (pos==-1)
					cookies[p[i]]=&quot;&quot;;
				else
					cookies[p[i].substr(0,pos)]=unescape(p[i].slice(pos+1));
			}
		}
		var c=1;
		var opt=new Array(); for (var i in config.options) opt.push(i); opt.sort();
		for(var i=0; i&lt;opt.length; i++) {
			if ((opt[i].substr(0,3)==&quot;txt&quot;)||(opt[i].substr(0,3)==&quot;chk&quot;)) {
				var txt = (opt[i].substr(0,3)==&quot;chk&quot;?(&quot;[&quot;+(config.options[opt[i]]?&quot;x&quot;:&quot;_&quot;)+&quot;] &quot;):&quot;&quot;)+opt[i]+(cookies[opt[i]]?&quot; (cookie)&quot;:&quot;&quot;);
				var val = config.options[opt[i]];
				f.sys_opts.options[c++]=new Option(txt,val,false,false);
			}
		}

		// STYLESHEETS
		while (f.sys_styles.options.length &gt; 1) { f.sys_styles.options[1]=null; } // clear list
		var c=1;
		var styles=document.getElementsByTagName(&quot;style&quot;);
		for(var i=0; i &lt; styles.length; i++) {
			var id=styles[i].getAttribute(&quot;id&quot;); if (!id) id=&quot;(default)&quot;;
			var txt=id;
			var val=&quot;/* stylesheet:&quot;+txt+&quot; */\n&quot;+styles[i].innerHTML;
			f.sys_styles.options[c++]=new Option(txt,val,false,false);
		}

		// SHADOWS
		while (f.sys_shadows.options.length &gt; 1) { f.sys_shadows.options[1]=null; } // clear list
		var c=1;
		for(var s in config.shadowTiddlers) f.sys_shadows.options[c++]=new Option(s,config.shadowTiddlers[s],false,false);

		// NOTIFICATIONS
		while (f.sys_notify.options.length &gt; 1) { f.sys_notify.options[1]=null; } // clear list
		var c=1;
		for (var i=0; i&lt;store.namedNotifications.length; i++) {
			var n = store.namedNotifications[i];
			var fn = n.notify.toString();
			fn = fn.substring(fn.indexOf(&quot;function &quot;)+9,fn.indexOf(&quot;{&quot;)-1);
			var txt=(n.name?n.name:&quot;any change&quot;)+&quot;=&quot;+fn;
			var val=&quot;/* notify: &quot;+txt+&quot; */\n&quot;+n.notify.toString();
			f.sys_notify.options[c++]=new Option(txt,val,false,false);
		}

		// MACROS
		while (f.sys_macros.options.length &gt; 1) { f.sys_macros.options[1]=null; } // clear list
		var c=1;
		var macros=new Array(); for (var m in config.macros) macros.push(m); macros.sort();
		for(var i=0; i &lt; macros.length; i++)
			f.sys_macros.options[c++]=new Option(macros[i],this.showObject(config.macros[macros[i]]),false,false);

		// COMMANDS
		while (f.sys_commands.options.length &gt; 1) { f.sys_commands.options[1]=null; } // clear list
		var c=1;
		for(var cmd in config.commands)
			f.sys_commands.options[c++]=new Option(cmd,this.showObject(config.commands[cmd]),false,false);

		// FORMATTERS
		while (f.sys_formatters.options.length &gt; 1) { f.sys_formatters.options[1]=null; } // clear list
		var c=1;
		for(var i=0; i &lt; config.formatters.length; i++)
			f.sys_formatters.options[c++]=new Option(config.formatters[i].name,this.showObject(config.formatters[i]),false,false);

		// PARAMIFIERS
		while (f.sys_params.options.length &gt; 1) { f.sys_params.options[1]=null; } // clear list
		var c=1;
		for(var param in config.paramifiers)
			f.sys_params.options[c++]=new Option(param,this.showObject(config.paramifiers[param]),false,false);

		// GLOBALS
		//global variables and functions (excluding most DOM and ~TiddyWiki core definitions)://
		while (f.sys_globals.options.length &gt; 1) { f.sys_globals.options[1]=null; } // clear list
		if (config.browser.isIE) return; // BYPASS - 8/16/2006 // DON'T LIST GLOBALS IN IE... throws object error - WFFL
		try {
			var c=1;
			for (var v in window) if ((typeof window[v])!='function') {
				var t=window[v];
				if ((typeof window[v])=='object') {
					var t='';
					for (var p in window[v]) {
						t+=((typeof window[v][p])!='function')?('['+typeof window[v][p]+'] '+p):p;
						t+=((typeof window[v][p])!='function')?('='+window[v][p]):'';
						t+='\n';
					}
				}
				f.sys_globals.options[c++]=new Option(((typeof window[v])!='function')?('['+typeof window[v]+'] '+v):v,t,false,false);
			}	
		}
		catch(e) { ; }
	},
	setsys: function(f) {
		if (f.sys_opts.selectedIndex==0) return; // heading - do nothing
		var name=f.sys_opts.options[f.sys_opts.selectedIndex].text.replace(/\[[Xx_]\] /,'').replace(/ \(cookie\)/,'')
		var value=f.config_view.value;
		config.options[name]=value;
		saveOptionCookie(name);
		f.sys_opts.options[f.sys_opts.selectedIndex].value=value;
		return;
	},
	showObject: function(o) { // generate formatted output for displaying object references
		var t=&quot;&quot;;
		for (var p in o) {
			if (typeof o[p]==&quot;function&quot;) {
				t+=&quot;- - - - - - - - - - &quot;+p+&quot; - - - - - - - - - -\n&quot;;
				t+=o[p].toString();
				t+=&quot;\n- - - - - - - - - - END: &quot;+p+&quot; - - - - - - - - - -\n&quot;;
			}
			else
				t+='['+typeof o[p]+'] '+p+&quot;: &quot;+o[p]+&quot;\n&quot;;
		}
		return t;
	},
	html: &quot;\
	&lt;form style='display:inline;margin:0;padding:0;'&gt; \
		&lt;!-- configurable options --&gt; \
		&lt;table style='width:100%;border:0;padding:0;margin:0'&gt;&lt;tr style='border:0;padding:0;margin:0'&gt; \
		&lt;td style='width:30%;border:0;padding:0;margin:0'&gt; \
			&lt;select size=1 name='sys_opts' style='width:100%;' \
				onchange='this.form.config_view.value=this.value'&gt; \
				&lt;option value=\&quot;\&quot;&gt;config.options.*&lt;/option&gt; \
			&lt;/select&gt; \
		&lt;/td&gt;&lt;td style='width:50%;border:0;padding:0;margin:0;'&gt; \
			&lt;input type=text name='config_view' size=60 style='width:99%;' value=''&gt; \
		&lt;/td&gt;&lt;td style='width:20%;white-space:nowrap;border:0;padding:0;margin:0;'&gt; \
			&lt;input type=button style='width:50%;' value='set option' title='save this TiddlyWiki option value' \
				onclick='config.macros.systemInfo.setsys(this.form);config.macros.systemInfo.getsys(this.form);'&gt;&lt;!-- \
			--&gt;&lt;input type=button style='width:50%;' value='refresh' title='retrieve current options and system values' \
				onclick='this.form.sysview.style.display=\&quot;none\&quot;; config.macros.systemInfo.getsys(this.form);'&gt; \
		&lt;/td&gt;&lt;/tr&gt;&lt;tr style='border:0;padding:0;margin:0'&gt;&lt;td colspan=3 \
				style='white-space:nowrap;width:100%;border:0;padding:0;margin:0'&gt; \
			&lt;!-- system objects --&gt; \
			&lt;select size=1  name='sys_styles' style='width:25%;' \
				onchange='this.form.sysview.style.display=\&quot;block\&quot;; this.form.sysview.value=this.value'&gt; \
				&lt;option value=\&quot;\&quot;&gt;stylesheets...&lt;/option&gt; \
			&lt;/select&gt;&lt;select size=1  name='sys_shadows' style='width:25%;' \
				onchange='this.form.sysview.style.display=\&quot;block\&quot;; this.form.sysview.value=this.value'&gt; \
				&lt;option value=\&quot;\&quot;&gt;shadows...&lt;/option&gt; \
			&lt;/select&gt;&lt;select size=1  name='sys_notify' style='width:25%;' \
				onchange='this.form.sysview.style.display=\&quot;block\&quot;; this.form.sysview.value=this.value'&gt; \
				&lt;option value=\&quot;\&quot;&gt;notifications...&lt;/option&gt; \
			&lt;/select&gt;&lt;select size=1  name='sys_globals' style='width:25%;' \
				onchange='this.form.sysview.style.display=\&quot;block\&quot;; this.form.sysview.value=this.value'&gt; \
				&lt;option value=\&quot;\&quot;&gt;globals...&lt;/option&gt; \
			&lt;/select&gt;&lt;br&gt;&lt;select size=1  name='sys_macros' style='width:25%;' \
				onchange='this.form.sysview.style.display=\&quot;block\&quot;; this.form.sysview.value=this.value'&gt; \
				&lt;option value=\&quot;\&quot;&gt;macros...&lt;/option&gt; \
			&lt;/select&gt;&lt;select size=1  name='sys_commands' style='width:25%;' \
				onchange='this.form.sysview.style.display=\&quot;block\&quot;; this.form.sysview.value=this.value'&gt; \
				&lt;option value=\&quot;\&quot;&gt;commands...&lt;/option&gt; \
			&lt;/select&gt;&lt;select size=1  name='sys_formatters' style='width:25%;' \
				onchange='this.form.sysview.style.display=\&quot;block\&quot;; this.form.sysview.value=this.value'&gt; \
				&lt;option value=\&quot;\&quot;&gt;formatters...&lt;/option&gt; \
			&lt;/select&gt;&lt;select size=1  name='sys_params' style='width:25%;' \
				onchange='this.form.sysview.style.display=\&quot;block\&quot;; this.form.sysview.value=this.value'&gt; \
				&lt;option value=\&quot;\&quot;&gt;paramifiers...&lt;/option&gt; \
			&lt;/select&gt; \
			&lt;!-- system value display area --&gt; \
			&lt;span style='white-space:normal;'&gt;&lt;textarea id='sysview' name=sysview cols=60 rows=12 \
				onfocus='this.select()' style='width:99.5%;height:16em;display:none'&gt;&lt;/textarea&gt;&lt;/span&gt; \
		&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt; \
	&lt;/form&gt;&quot;
}
//}}}</pre>
</div>
<div title="SystemSettings" creator="YourName" modifier="YourName" created="201405171259" tags="excludeTimeline" content-type="" changecount="74">
<pre>chkAllowLinksFromShadowTiddlers: true
chkAnimate: true
chkAutoSave: false
chkBreadcrumbsHideHomeLink: true
chkCreateDefaultBreadcrumbs: false
chkDisableNonExistingWikiLinks: true
chkDisableWikiLinks: true
chkDoubleClickToEdit: false
chkForceMinorUpdate: true
chkGuessSyntax: true
chkHttpReadOnly: false
chkInsertTabs: false
chkSaveBackups: true
chkShowRightSidebar: true
chkToggleLinks: false
moreLabel: 
txtBackupFolder: twbackup
txtUserName: Christopher%20Wilson</pre>
</div>
<div title="TWHelp-SearchResults" modifier="Christopher Wilson" created="201405080606" modified="201405081129" tags="excludeLists excludeSearch excludeTimeline" changecount="30" content-type="">
<pre>|&gt;|bgcolor:#4c4c4c;@@color(#ccc):''48 tiddlers found matching /{{{head}}}/''@@|bgcolor:#4c4c4c;  @@color:#ffffc8; Ver: &lt;&lt;version&gt;&gt;@@ |
|&gt;|&gt;|bgcolor:#999;color:#000;&lt;&lt;search&gt;&gt; &lt;&lt;option chkSearchTitles&gt;&gt; Titles &lt;&lt;option chkSearchText&gt;&gt; Text &lt;&lt;option chkSearchTags&gt;&gt;Tags &lt;&lt;option chkHoldSearches&gt;&gt; Hold |

|bgcolor:#4c4c4c;&amp;nbsp;|bgcolor:#4c4c4c; ''Titles'' |bgcolor:#4c4c4c; ''Size'' |bgcolor:#4c4c4c; ''Tags'' |bgcolor:#4c4c4c; ''Modified'' |h
| 1|[[MarkupPreHead]]| 1175|excludeTimeline|2014.04.26|
| 2|[[MarkupPostHead]]| 410|excludeTimeline|2014.05.08|
| 3|[[zCodeMirrorPlugin]]| 18673|cmtw,excludeTimeline,systemConfig,excludeLists|2014.04.11|
| 4|[[xml.js]]| 4822|cmtw,excludeTimeline,systemConfig,excludeLists|2014.04.11|
| 5|[[UploadPlugin]]| 18761|systemConfig,systemConfigDisable,excludeTimeline,excludeLists|2014.04.12|
| 6|[[TwHelpSearchPlugin]]| 6279|systemConfig,excludeTimeline|2014.05.08|
| 7|[[tiddlywiki.js]]| 4592|cmtw,excludeTimeline,systemConfig,excludeLists|2014.04.11|
| 8|[[tiddlywiki.css]]| 856|cmtw,excludeTimeline,excludeLists|2014.04.11|
| 9|[[TiddlyFileImportr]]| 7797|systemConfig,excludeTimeline|2014.04.12|
| 10|[[TiddlyChartsPlugin]]| 8486|excludeLists,systemConfig,excludeTimeline|2014.04.14|
| 11|[[TiddlerListMacro]]| 8212|systemConfig,excludeTimeline|2013.05.27|
| 12|[[TagsTreePlugin]]| 7082|excludeTimeline|2014.02.24|
| 13|[[TagglyTaggingPlugin]]| 23140|systemConfig,excludeTimeline|2013.05.22|
| 14|[[TableSortingPlugin]]| 5812|excludeTimeline,systemConfig|2014.04.12|
| 15|[[StyleSheetLayout]]| 6561|css,excludeTimeline|2014.04.14|
| 16|[[StyleSheetColors]]| 8754|css,excludeTimeline|2014.05.04|
| 17|[[StyleSheet]]| 18608|excludeTimeline,css|2014.05.08|
| 18|[[SnapshotPluginInfo]]| 7580|excludeTimeline|2014.04.10|
| 19|[[SnapshotPlugin]]| 13120|excludeTimeline,systemConfig|2014.04.10|
| 20|[[SlideShowPluginDoc]]| 7014|excludeTimeline|2014.04.26|
| 21|[[SlideShowPlugin]]| 17506|systemConfig,excludeTimeline|2014.04.26|
| 22|[[SimpleSearchPlugin]]| 5658|systemConfig,excludeTimeline,systemConfigDisable|2014.05.08|
| 23|[[SectionLinksPlugin]]| 12363|systemConfig,excludeTimeline|2014.04.12|
| 24|[[SearchOptionsPluginInfo]]| 12007|excludeTimeline|2014.05.08|
| 25|[[SearchOptionsPlugin]]| 20009|excludeTimeline,systemConfig|2014.05.08|
| 26|[[PluginMathJax v1.3]]| 11660|excludeTimeline,systemConfig|2014.04.26|
| 27|[[Notebook Configuration]]| 5769|Reference,excludeTimeline|2014.04.14|
| 28|[[NestedSlidersPlugin]]| 18282|systemConfig,excludeTimeline|2013.05.22|
| 29|[[MptwTrimTheme]]| 893|excludeTimeline|2013.05.22|
| 30|[[MptwTheme]]| 9173|systemTheme,excludeTimeline|2014.05.08|
| 31|[[MatchTagsPlugin]]| 10474|excludeTimeline,systemConfig|2014.04.10|
| 32|[[LaTeX Symbols]]| 825|Reference,excludeTimeline|2014.04.12|
| 33|[[InlineJavascriptPlugin]]| 4303|systemConfig,excludeTimeline|2014.04.10|
| 34|[[ImageSizePlugin]]| 6875|excludeTimeline,systemConfig|2014.04.09|
| 35|[[HTMLFormattingPlugin]]| 3409|systemConfig,excludeTimeline|2014.04.12|
| 36|[[FootnotesPlugin]]| 3441|systemConfig,excludeTimeline|2014.04.14|
| 37|[[FileDropPlugin]]| 12521|systemConfig,excludeTimeline|2014.04.14|
| 38|[[EncryptedVaultPlugin]]| 20948|excludeTimeline,systemConfig,systemConfigDisable|2014.04.09|
| 39|[[DC3.LightBox]]| 13117|systemConfig,excludeTimeline|2014.04.10|
| 40|[[css.js]]| 14225|cmtw,excludeTimeline,systemConfig,excludeLists|2014.04.11|
| 41|[[CoreTweaks]]| 27779|systemConfig,excludeTimeline,systemConfigDisable|2014.04.12|
| 42|[[CodeMirrorConfig]]| 2664|excludeTimeline,cmtw,excludeLists|2014.04.11|
| 43|[[codemirror.js]]| 58950|cmtw,excludeTimeline,systemConfig,excludeLists|2014.04.11|
| 44|[[codemirror.css]]| 4676|cmtw,excludeTimeline,excludeLists|2014.04.11|
| 45|[[BibTexPlugin]]| 17111|systemConfig,excludeTimeline|2014.05.06|
| 46|[[AttachFilePluginFormatters]]| 9052|systemConfig,excludeTimeline|2014.04.14|
| 47|[[PageTemplate]]| 928||2014.05.08|
| 48|[[SlideShowStyleSheet]]| 1430||2014.05.08|
|sortable|k
</pre>
</div>
<div title="TabContents" modifier="Christopher Wilson" created="201305280024" modified="201404101200" tags="Folder excludeTimeline" changecount="1" alias="" content-type="">
<pre>*&lt;html&gt;&lt;i class=&quot;fa fa-caret-right&quot; style=&quot;font-size:8pt;position:relative;bottom:1px;&quot;&gt;&lt;/i&gt;&lt;/html&gt;&lt;&lt;slider chkSliderpgreF pgreF ' PGRE' 'Physics GRE Notes'&gt;&gt;
*&lt;html&gt;&lt;i class=&quot;fa fa-caret-right&quot; style=&quot;font-size:8pt;position:relative;bottom:1px;&quot;&gt;&lt;/i&gt;&lt;/html&gt;&lt;&lt;slider chkSliderphysicsF physicsF ' Physics' 'Physics Notes'&gt;&gt;
*&lt;html&gt;&lt;i class=&quot;fa fa-caret-right&quot; style=&quot;font-size:8pt;position:relative;bottom:1px;&quot;&gt;&lt;/i&gt;&lt;/html&gt;&lt;&lt;slider chkSlidermathematicsF mathematicsF ' Mathematics' 'Mathematics Notes'&gt;&gt;
</pre>
</div>
<div title="TabHistory" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405160758" modified="201405160851" tags="tab excludeTimeline" content-type="text/x-tiddlywiki" changecount="15">
<pre>*Recently Opened Tiddlers:
**&lt;&lt;breadcrumbs [[&lt;html&gt;&lt;hr&gt;&lt;/html&gt;]] [[&lt;br&gt;]]&gt;&gt;</pre>
</div>
<div title="TabMore" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405060025" modified="201405060643" tags="excludeTimeline" changecount="15" content-type="text/x-tiddlywiki">
<pre>&lt;html&gt;&lt;div class=&quot;tabMoreClass&quot;&gt;&lt;&lt;tabs txtMainTab &quot;History&quot; &quot;History&quot; TabHistory &quot;Tags&quot; &quot;Tags&quot; TabTags &quot;All&quot; &quot;All tiddlers&quot; TabAll &quot;Missing&quot; &quot;Missing tiddlers&quot; TabMoreMissing &quot;Orphans&quot; &quot;Orphaned tiddlers&quot; TabMoreOrphans &quot;Shadowed&quot; &quot;Shadowed tiddlers&quot; TabMoreShadowed&gt;&gt;&lt;/div&gt;&lt;/html&gt;</pre>
</div>
<div title="TabOpen" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405160614" tags="excludeTimeline" alias="" content-type="text/x-tiddlywiki" changecount="170">
<pre>*Currently Open Tiddlers:
**&lt;script&gt;
openTiddlers = document.getElementsByClassName(&quot;tiddler&quot;);
for (var i = 0; i &lt; openTiddlers.length; i++) { 
   title = openTiddlers[i].getAttribute(&quot;tiddler&quot;);
  	wikify('&lt;html&gt;&lt;span onclick=&quot; &quot; class=&quot;close&quot; title=&quot;close '+title+'&quot; name=&quot;'+title+'&quot; &gt; &amp;times; &lt;/span&gt;&lt;/html&gt;',place); wikify(createTiddlyLink(place,title,true),place); wikify('&lt;br&gt;',place); $('span.close');
	
        };
   for (var i = 0; i &lt; openTiddlers.length; i++) {
   
			 	ttitle=document.getElementsByClassName('close')[i].getAttribute(&quot;name&quot;);
	
	document.getElementsByClassName('close')[i].onclick=function() { 
            story.closeTiddler(this.getAttribute(&quot;name&quot;), true);setTimeout(function(){refreshDisplay();},500);
			
        };
  
}

//createTiddlyLink(place,title,includeText,className,isStatic,linkedFromTiddler,noToggle)
&lt;/script&gt;
&lt;&lt;autoRefresh&gt;&gt;</pre>
</div>
<div title="TableSortingPlugin" modifier="Christopher Wilson" created="201404120507" modified="201404120526" tags="excludeTimeline systemConfig" content-type="application/javascript" changecount="2">
<pre>/***
|''Name:''|TableSortingPlugin|
|''Description:''|Dynamically sort tables by clicking on column headers|
|''Author:''|Saq Imtiaz ( lewcid@gmail.com )|
|''Source:''|http://tw.lewcid.org/#TableSortingPlugin|
|''Code Repository:''|http://tw.lewcid.org/svn/plugins|
|''Version:''|2.02|
|''Date:''|25-01-2008|
|''License:''|[[Creative Commons Attribution-ShareAlike 3.0 License|http://creativecommons.org/licenses/by-sa/3.0/]]|
|''~CoreVersion:''|2.2.3|
!!Usage:
* Make sure your table has a header row
** {{{|Name|Phone Number|Address|h}}}&lt;br&gt; Note the /h/ that denote a header row 
* Give the table a class of 'sortable'
** {{{
|sortable|k
|Name|Phone Number|Address|h
}}}&lt;br&gt;Note the /k/ that denotes a class name being assigned to the table.
* To disallow sorting by a column, place {{{&lt;&lt;nosort&gt;&gt;}}} in it's header
* To automatically sort a table by a column, place {{{&lt;&lt;autosort&gt;&gt;}}} in the header for that column
** Or to sort automatically but in reverse order, use {{{&lt;&lt;autosort reverse&gt;&gt;}}}

|sortable|k
|!Name |!Salary |!Extension |!Performance |!File Size |!Start date |h
|Fitz, Marvin |3300.30 |5554 |+5 |4Kb |05/22/1995 |
|ZBloggs, Fred |\$12000.00 |1353 |+1.2 |74.2Kb |Aug 19, 2003 21:34:00 |
|ABloggs, Fred |\$12000.00 |1353 |1.2 |3350b |09/18/2003 |
|CBloggs, Fred |\$12000 |1353 |1.200 |55.2Kb |August 18, 2003 |
|DBloggs, Fred |\$12000.00 |1353 |1.2 |2100b |07/18/2003 |
|Bloggs, Fred |\$12000.00 |1353 |01.20 |6.156Mb |08/17/2003 05:43 |
|Turvey, Kevin |\$191200.00 |2342 |-33 |1b |02/05/1979 |
|Mbogo, Arnold |\$32010.12 |2755 |-21.673 |1.2Gb |09/08/1998 |
|Shakespeare, Bill |122000.00|3211 |6 |33.22Gb |12/11/1961 |
|Shakespeare, Hamlet |9000 |9005 |-8 |3Gb |01/01/2002 |

***/

//{{{
config.tableSorting = {
	
	darrow: &quot;\u2193&quot;,
	
	uarrow: &quot;\u2191&quot;,
	
	getText : function (o) {
		var p = o.cells[SORT_INDEX];
		return p.innerText || p.textContent || '';
	},
	
	sortTable : function (o,rev) {
		SORT_INDEX = o.getAttribute(&quot;index&quot;);
		var c = config.tableSorting;
		var T = findRelated(o.parentNode,&quot;TABLE&quot;);
		if(T.tBodies[0].rows.length&lt;=1) 
			return;
		var itm = &quot;&quot;;
		var i = 0;
		while (itm == &quot;&quot; &amp;&amp; i &lt; T.tBodies[0].rows.length) {
			itm = c.getText(T.tBodies[0].rows[i]).trim();
			i++;
		}
		if (itm == &quot;&quot;) 
			return; 	
		var r = [];
		var S = o.getElementsByTagName(&quot;span&quot;)[0];		
		c.fn = c.sortAlpha; 
		if(!isNaN(Date.parse(itm)))
			c.fn = c.sortDate; 
		else if(itm.match(/^[$|||\+|\-]{0,1}\d*\.{0,1}\d+$/)) 
			c.fn = c.sortNumber; 
		else if(itm.match(/^\d*\.{0,1}\d+[K|M|G]{0,1}b$/)) 
			c.fn = c.sortFile; 
		for(i=0; i&lt;T.tBodies[0].rows.length; i++) {
			 r[i]=T.tBodies[0].rows[i]; 
		} 
		r.sort(c.reSort);
		if(S.firstChild.nodeValue==c.darrow || rev) {
			r.reverse();
			S.firstChild.nodeValue=c.uarrow;
		} 
		else 
			S.firstChild.nodeValue=c.darrow;
		var thead = T.getElementsByTagName('thead')[0]; 
		var headers = thead.rows[thead.rows.length-1].cells;
		for(var k=0; k&lt;headers.length; k++) {
			if(!hasClass(headers[k],&quot;nosort&quot;))
				addClass(headers[k].getElementsByTagName(&quot;span&quot;)[0],&quot;hidden&quot;);
		}
		removeClass(S,&quot;hidden&quot;);
		for(i=0; i&lt;r.length; i++) { 
			T.tBodies[0].appendChild(r[i]);
			c.stripe(r[i],i);
			for(var j=0; j&lt;r[i].cells.length;j++){
				removeClass(r[i].cells[j],&quot;sortedCol&quot;);
			}
			addClass(r[i].cells[SORT_INDEX],&quot;sortedCol&quot;);
		}
	},
	
	stripe : function (e,i){
		var cl = [&quot;oddRow&quot;,&quot;evenRow&quot;];
		i&amp;1? cl.reverse() : cl;
		removeClass(e,cl[1]);
		addClass(e,cl[0]);
	},
	
	sortNumber : function(v) {
		var x = parseFloat(this.getText(v).replace(/[^0-9.-]/g,''));
		return isNaN(x)? 0: x;
	},
	
	sortDate : function(v) {
		return Date.parse(this.getText(v));
	},

	sortAlpha : function(v) {
		return this.getText(v).toLowerCase();
	},
	
	sortFile : function(v) { 		
		var j, q = config.messages.sizeTemplates, s = this.getText(v);
		for (var i=0; i&lt;q.length; i++) {
			if ((j = s.toLowerCase().indexOf(q[i].template.replace(&quot;%0\u00a0&quot;,&quot;&quot;).toLowerCase())) != -1)
				return q[i].unit * s.substr(0,j);
		}
		return parseFloat(s);
	},
	
	reSort : function(a,b){
		var c = config.tableSorting;
		var aa = c.fn(a);
		var bb = c.fn(b);
		return ((aa==bb)? 0 : ((aa&lt;bb)? -1:1));
	}
};

Story.prototype.tSort_refreshTiddler = Story.prototype.refreshTiddler;
Story.prototype.refreshTiddler = function(title,template,force,customFields,defaultText){
	var elem = this.tSort_refreshTiddler.apply(this,arguments);
	if(elem){
		var tables = elem.getElementsByTagName(&quot;TABLE&quot;);
		var c = config.tableSorting;
		for(var i=0; i&lt;tables.length; i++){
			if(hasClass(tables[i],&quot;sortable&quot;)){
				var x = null, rev, table = tables[i], thead = table.getElementsByTagName('thead')[0], headers = thead.rows[thead.rows.length-1].cells;
				for (var j=0; j&lt;headers.length; j++){
					var h = headers[j];
					if (hasClass(h,&quot;nosort&quot;))
						continue;
					h.setAttribute(&quot;index&quot;,j);
					h.onclick = function(){c.sortTable(this); return false;};
					h.ondblclick = stopEvent;
					if(h.getElementsByTagName(&quot;span&quot;).length == 0)
						createTiddlyElement(h,&quot;span&quot;,null,&quot;hidden&quot;,c.uarrow); 
					if(!x &amp;&amp; hasClass(h,&quot;autosort&quot;)) {
						x = j;
						rev = hasClass(h,&quot;reverse&quot;);
					}
				}
				if(x)
					c.sortTable(headers[x],rev);		
			}
		}
	}
	return elem; 
};

setStylesheet(&quot;table.sortable span.hidden {visibility:hidden;}\n&quot;+
	&quot;table.sortable thead {cursor:pointer;}\n&quot;+
	&quot;table.sortable .nosort {cursor:default;}\n&quot;+
	&quot;table.sortable td.sortedCol {background:#ffc;}&quot;,&quot;TableSortingPluginStyles&quot;);

function stopEvent(e){
	var ev = e? e : window.event;
	ev.cancelBubble = true;
	if (ev.stopPropagation) ev.stopPropagation();
	return false;	
}	

config.macros.nosort={
	handler : function(place){
		addClass(place,&quot;nosort&quot;);
	}	
};

config.macros.autosort={
	handler : function(place,m,p,w,pS){
		addClass(place,&quot;autosort&quot;+&quot; &quot;+pS);		
	}	
};
//}}}</pre>
</div>
<div title="TagTablePlugin" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404140732" modified="201404140747" tags="systemConfig excludeTimeline systemConfigDisable" changecount="5" content-type="">
<pre>//{{{
config.macros.TagTable = {
  handler: function(place) {
    var tagsCount = {};
    var tiddlers = store.getTiddlers();
    for(var i=0; i &lt; tiddlers.length; i++){
      var tags = tiddlers[i].tags;
      for(var j=0; j &lt; tags.length; j++){
        var tag = tags[j];
        tagsCount[tag] = tagsCount[tag] ? tagsCount[tag] + 1 : 1;
      }
    }
    var line1 = [];
    var line2 = []; 
    for(var i in tagsCount){
      line1.push(i);
      line2.push(tagsCount[i]);
    }
    var wikiText = &quot;|%0|\n|%1|&quot;.format([line1.join(&quot;|&quot;),line2.join(&quot;|&quot;)]);
    wikify(wikiText, place);
  }
}
//}}}</pre>
</div>
<div title="TagUsage" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404140731" modified="201404140747" tags="example-data excludeLists excludeTimeline" changecount="2" content-type="">
<pre>&lt;&lt;TagTable&gt;&gt;</pre>
</div>
<div title="TagglyTaggingPlugin" modifier="Christopher Wilson" created="201106271026" modified="201305222317" tags="systemConfig excludeTimeline" changecount="1">
<pre>/***
|Name:|TagglyTaggingPlugin|
|Description:|tagglyTagging macro is a replacement for the builtin tagging macro in your ViewTemplate|
|Version:|3.3.2a|
|Date:|27-Jun-2011|
|Source:|http://mptw.tiddlyspot.com/#TagglyTaggingPlugin|
|Author:|Simon Baird &lt;simon.baird@gmail.com&gt;|
|License:|http://mptw.tiddlyspot.com/#TheBSDLicense|
!Notes
See http://mptw.tiddlyspot.com/#TagglyTagging
***/
//{{{

merge(String.prototype,{

  parseTagExpr: function(debug) {

    if (this.trim() == &quot;&quot;)
      return &quot;(true)&quot;;

    var anyLogicOp = /(!|&amp;&amp;|\|\||\(|\))/g;
    var singleLogicOp = /^(!|&amp;&amp;|\|\||\(|\))$/;

    var spaced = this.
      // because square brackets in templates are no good
      // this means you can use [(With Spaces)] instead of [[With Spaces]]
      replace(/\[\(/g,&quot; [[&quot;).
      replace(/\)\]/g,&quot;]] &quot;).
      // space things out so we can use readBracketedList. tricky eh?
      replace(anyLogicOp,&quot; $1 &quot;);

    var expr = &quot;&quot;;

    var tokens = spaced.readBracketedList(false); // false means don't uniq the list. nice one JR!

    for (var i=0;i&lt;tokens.length;i++)
      if (tokens[i].match(singleLogicOp))
        expr += tokens[i];
      else
        expr += &quot;tiddler.tags.contains('%0')&quot;.format([tokens[i].replace(/'/,&quot;\\'&quot;)]); // fix single quote bug. still have round bracket bug i think

    if (debug)
      alert(expr);

    return '('+expr+')';
  }

});

merge(TiddlyWiki.prototype,{
  getTiddlersByTagExpr: function(tagExpr,sortField) {

    var result = [];

    var expr = tagExpr.parseTagExpr();

    store.forEachTiddler(function(title,tiddler) {
      if (eval(expr))
        result.push(tiddler);
    });

    if(!sortField)
      sortField = &quot;title&quot;;

    result.sort(function(a,b) {return a[sortField] &lt; b[sortField] ? -1 : (a[sortField] == b[sortField] ? 0 : +1);});

    return result;
  }
});

config.taggly = {

  // for translations
  lingo: {
    labels: {
      asc:        &quot;\u2191&quot;, // down arrow
      desc:       &quot;\u2193&quot;, // up arrow
      title:      &quot;title&quot;,
      modified:   &quot;modified&quot;,
      created:    &quot;created&quot;,
      show:       &quot;+&quot;,
      hide:       &quot;-&quot;,
      normal:     &quot;normal&quot;,
      group:      &quot;group&quot;,
      commas:     &quot;commas&quot;,
      sitemap:    &quot;sitemap&quot;,
      numCols:    &quot;cols\u00b1&quot;, // plus minus sign
      label:      &quot;Tagged as '%0':&quot;,
      exprLabel:  &quot;Matching tag expression '%0':&quot;,
      excerpts:   &quot;excerpts&quot;,
      descr:      &quot;descr&quot;,
      slices:     &quot;slices&quot;,
      contents:   &quot;contents&quot;,
      sliders:    &quot;sliders&quot;,
      noexcerpts: &quot;title only&quot;,
      noneFound:  &quot;(none)&quot;
    },

    tooltips: {
      title:      &quot;Click to sort by title&quot;,
      modified:   &quot;Click to sort by modified date&quot;,
      created:    &quot;Click to sort by created date&quot;,
      show:       &quot;Click to show tagging list&quot;,
      hide:       &quot;Click to hide tagging list&quot;,
      normal:     &quot;Click to show a normal ungrouped list&quot;,
      group:      &quot;Click to show list grouped by tag&quot;,
      sitemap:    &quot;Click to show a sitemap style list&quot;,
      commas:     &quot;Click to show a comma separated list&quot;,
      numCols:    &quot;Click to change number of columns&quot;,
      excerpts:   &quot;Click to show excerpts&quot;,
      descr:      &quot;Click to show the description slice&quot;,
      slices:     &quot;Click to show all slices&quot;,
      contents:   &quot;Click to show entire tiddler contents&quot;,
      sliders:    &quot;Click to show tiddler contents in sliders&quot;,
      noexcerpts: &quot;Click to show entire title only&quot;
    },

    tooDeepMessage: &quot;* //sitemap too deep...//&quot;
  },

  config: {
    showTaggingCounts: true,
    listOpts: {
      // the first one will be the default
      sortBy:     [&quot;title&quot;,&quot;modified&quot;,&quot;created&quot;],
      sortOrder:  [&quot;asc&quot;,&quot;desc&quot;],
      hideState:  [&quot;show&quot;,&quot;hide&quot;],
      listMode:   [&quot;normal&quot;,&quot;group&quot;,&quot;sitemap&quot;,&quot;commas&quot;],
      numCols:    [&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,&quot;6&quot;],
      excerpts:   [&quot;noexcerpts&quot;,&quot;excerpts&quot;,&quot;descr&quot;,&quot;slices&quot;,&quot;contents&quot;,&quot;sliders&quot;]
    },
    valuePrefix: &quot;taggly.&quot;,
    excludeTags: [&quot;excludeLists&quot;,&quot;excludeTagging&quot;],
    excerptSize: 50,
    excerptMarker: &quot;/%&quot;+&quot;%/&quot;,
    siteMapDepthLimit: 25
  },

  getTagglyOpt: function(title,opt) {
    var val = store.getValue(title,this.config.valuePrefix+opt);
    return val ? val : this.config.listOpts[opt][0];
  },

  setTagglyOpt: function(title,opt,value) {
    // create it silently if it doesn't exist
    if (!store.tiddlerExists(title)) {
      store.saveTiddler(title,title,config.views.editor.defaultText.format([title]),config.options.txtUserName,new Date(),&quot;&quot;);

      // &lt;&lt;tagglyTagging expr:&quot;...&quot;&gt;&gt; creates a tiddler to store its display settings
      // Make those tiddlers less noticeable by tagging as excludeSearch and excludeLists
      // Because we don't want to hide real tags, check that they aren't actually tags before doing so
      // Also tag them as tagglyExpression for manageability
      // (contributed by RA)
      if (!store.getTaggedTiddlers(title).length) {
        store.setTiddlerTag(title,true,&quot;excludeSearch&quot;);
        store.setTiddlerTag(title,true,&quot;excludeLists&quot;);
        store.setTiddlerTag(title,true,&quot;tagglyExpression&quot;);
      }
    }

    // if value is default then remove it to save space
    return store.setValue(title, this.config.valuePrefix+opt, value == this.config.listOpts[opt][0] ? null : value);
  },

  getNextValue: function(title,opt) {
    var current = this.getTagglyOpt(title,opt);
    var pos = this.config.listOpts[opt].indexOf(current);
    // supposed to automagically don't let cols cycle up past the number of items
    // currently broken in some situations, eg when using an expression
    // lets fix it later when we rewrite for jquery
    // the columns thing should be jquery table manipulation probably
    var limit = (opt == &quot;numCols&quot; ? store.getTaggedTiddlers(title).length : this.config.listOpts[opt].length);
    var newPos = (pos + 1) % limit;
    return this.config.listOpts[opt][newPos];
  },

  toggleTagglyOpt: function(title,opt) {
    var newVal = this.getNextValue(title,opt);
    this.setTagglyOpt(title,opt,newVal);
  },

  createListControl: function(place,title,type) {
    var lingo = config.taggly.lingo;
    var label;
    var tooltip;
    var onclick;

    if ((type == &quot;title&quot; || type == &quot;modified&quot; || type == &quot;created&quot;)) {
      // &quot;special&quot; controls. a little tricky. derived from sortOrder and sortBy
      label = lingo.labels[type];
      tooltip = lingo.tooltips[type];

      if (this.getTagglyOpt(title,&quot;sortBy&quot;) == type) {
        label += lingo.labels[this.getTagglyOpt(title,&quot;sortOrder&quot;)];
        onclick = function() {
          config.taggly.toggleTagglyOpt(title,&quot;sortOrder&quot;);
          return false;
        }
      }
      else {
        onclick = function() {
          config.taggly.setTagglyOpt(title,&quot;sortBy&quot;,type);
          config.taggly.setTagglyOpt(title,&quot;sortOrder&quot;,config.taggly.config.listOpts.sortOrder[0]);
          return false;
        }
      }
    }
    else {
      // &quot;regular&quot; controls, nice and simple
      label = lingo.labels[type == &quot;numCols&quot; ? type : this.getNextValue(title,type)];
      tooltip = lingo.tooltips[type == &quot;numCols&quot; ? type : this.getNextValue(title,type)];
      onclick = function() {
        config.taggly.toggleTagglyOpt(title,type);
        return false;
      }
    }

    // hide button because commas don't have columns
    if (!(this.getTagglyOpt(title,&quot;listMode&quot;) == &quot;commas&quot; &amp;&amp; type == &quot;numCols&quot;))
      createTiddlyButton(place,label,tooltip,onclick,type == &quot;hideState&quot; ? &quot;hidebutton&quot; : &quot;button&quot;);
  },

  makeColumns: function(orig,numCols) {
    var listSize = orig.length;
    var colSize = listSize/numCols;
    var remainder = listSize % numCols;

    var upperColsize = colSize;
    var lowerColsize = colSize;

    if (colSize != Math.floor(colSize)) {
      // it's not an exact fit so..
      upperColsize = Math.floor(colSize) + 1;
      lowerColsize = Math.floor(colSize);
    }

    var output = [];
    var c = 0;
    for (var j=0;j&lt;numCols;j++) {
      var singleCol = [];
      var thisSize = j &lt; remainder ? upperColsize : lowerColsize;
      for (var i=0;i&lt;thisSize;i++)
        singleCol.push(orig[c++]);
      output.push(singleCol);
    }

    return output;
  },

  drawTable: function(place,columns,theClass) {
    var newTable = createTiddlyElement(place,&quot;table&quot;,null,theClass);
    var newTbody = createTiddlyElement(newTable,&quot;tbody&quot;);
    var newTr = createTiddlyElement(newTbody,&quot;tr&quot;);
    for (var j=0;j&lt;columns.length;j++) {
      var colOutput = &quot;&quot;;
      for (var i=0;i&lt;columns[j].length;i++)
        colOutput += columns[j][i];
      var newTd = createTiddlyElement(newTr,&quot;td&quot;,null,&quot;tagglyTagging&quot;); // todo should not need this class
      wikify(colOutput,newTd);
    }
    return newTable;
  },

  createTagglyList: function(place,title,isTagExpr) {
    switch(this.getTagglyOpt(title,&quot;listMode&quot;)) {
      case &quot;group&quot;:  return this.createTagglyListGrouped(place,title,isTagExpr); break;
      case &quot;normal&quot;: return this.createTagglyListNormal(place,title,false,isTagExpr); break;
      case &quot;commas&quot;: return this.createTagglyListNormal(place,title,true,isTagExpr); break;
      case &quot;sitemap&quot;:return this.createTagglyListSiteMap(place,title,isTagExpr); break;
    }
  },

  getTaggingCount: function(title,isTagExpr) {
    // thanks to Doug Edmunds
    if (this.config.showTaggingCounts) {
      var tagCount = config.taggly.getTiddlers(title,'title',isTagExpr).length;
      if (tagCount &gt; 0)
        return &quot; (&quot;+tagCount+&quot;)&quot;;
    }
    return &quot;&quot;;
  },

  getTiddlers: function(titleOrExpr,sortBy,isTagExpr) {
    return isTagExpr ? store.getTiddlersByTagExpr(titleOrExpr,sortBy) : store.getTaggedTiddlers(titleOrExpr,sortBy);
  },

  getExcerpt: function(inTiddlerTitle,title,indent) {
    if (!indent)
      indent = 1;

    var displayMode = this.getTagglyOpt(inTiddlerTitle,&quot;excerpts&quot;);
    var t = store.getTiddler(title);

    if (t &amp;&amp; displayMode == &quot;excerpts&quot;) {
      var text = t.text.replace(/\n/,&quot; &quot;);
      var marker = text.indexOf(this.config.excerptMarker);
      if (marker != -1) {
        return &quot; {{excerpt{&lt;nowiki&gt;&quot; + text.substr(0,marker) + &quot;&lt;/nowiki&gt;}}}&quot;;
      }
      else if (text.length &lt; this.config.excerptSize) {
        return &quot; {{excerpt{&lt;nowiki&gt;&quot; + t.text + &quot;&lt;/nowiki&gt;}}}&quot;;
      }
      else {
        return &quot; {{excerpt{&lt;nowiki&gt;&quot; + t.text.substr(0,this.config.excerptSize) + &quot;...&quot; + &quot;&lt;/nowiki&gt;}}}&quot;;
      }
    }
    else if (t &amp;&amp; displayMode == &quot;contents&quot;) {
      return &quot;\n{{contents indent&quot;+indent+&quot;{\n&quot; + t.text + &quot;\n}}}&quot;;
    }
    else if (t &amp;&amp; displayMode == &quot;sliders&quot;) {
      return &quot;&lt;slider slide&gt;\n{{contents{\n&quot; + t.text + &quot;\n}}}\n&lt;/slider&gt;&quot;;
    }
    else if (t &amp;&amp; displayMode == &quot;descr&quot;) {
      var descr = store.getTiddlerSlice(title,'Description');
      return descr ? &quot; {{excerpt{&quot; + descr  + &quot;}}}&quot; : &quot;&quot;;
    }
    else if (t &amp;&amp; displayMode == &quot;slices&quot;) {
      var result = &quot;&quot;;
      var slices = store.calcAllSlices(title);
      for (var s in slices)
        result += &quot;|%0|&lt;nowiki&gt;%1&lt;/nowiki&gt;|\n&quot;.format([s,slices[s]]);
      return result ? &quot;\n{{excerpt excerptIndent{\n&quot; + result  + &quot;}}}&quot; : &quot;&quot;;
    }
    return &quot;&quot;;
  },

  notHidden: function(t,inTiddler) {
    if (typeof t == &quot;string&quot;)
      t = store.getTiddler(t);
    return (!t || !t.tags.containsAny(this.config.excludeTags) ||
        (inTiddler &amp;&amp; this.config.excludeTags.contains(inTiddler)));
  },

  // this is for normal and commas mode
  createTagglyListNormal: function(place,title,useCommas,isTagExpr) {

    var list = config.taggly.getTiddlers(title,this.getTagglyOpt(title,&quot;sortBy&quot;),isTagExpr);

    if (this.getTagglyOpt(title,&quot;sortOrder&quot;) == &quot;desc&quot;)
      list = list.reverse();

    var output = [];
    var first = true;
    for (var i=0;i&lt;list.length;i++) {
      if (this.notHidden(list[i],title)) {
        var countString = this.getTaggingCount(list[i].title);
        var excerpt = this.getExcerpt(title,list[i].title);
        if (useCommas)
          output.push((first ? &quot;&quot; : &quot;, &quot;) + &quot;[[&quot; + list[i].title + &quot;]]&quot; + countString + excerpt);
        else
          output.push(&quot;*[[&quot; + list[i].title + &quot;]]&quot; + countString + excerpt + &quot;\n&quot;);

        first = false;
      }
    }

    return this.drawTable(place,
      this.makeColumns(output,useCommas ? 1 : parseInt(this.getTagglyOpt(title,&quot;numCols&quot;))),
      useCommas ? &quot;commas&quot; : &quot;normal&quot;);
  },

  // this is for the &quot;grouped&quot; mode
  createTagglyListGrouped: function(place,title,isTagExpr) {
    var sortBy = this.getTagglyOpt(title,&quot;sortBy&quot;);
    var sortOrder = this.getTagglyOpt(title,&quot;sortOrder&quot;);

    var list = config.taggly.getTiddlers(title,sortBy,isTagExpr);

    if (sortOrder == &quot;desc&quot;)
      list = list.reverse();

    var leftOvers = []
    for (var i=0;i&lt;list.length;i++)
      leftOvers.push(list[i].title);

    var allTagsHolder = {};
    for (var i=0;i&lt;list.length;i++) {
      for (var j=0;j&lt;list[i].tags.length;j++) {

        if (list[i].tags[j] != title) { // not this tiddler

          if (this.notHidden(list[i].tags[j],title)) {

            if (!allTagsHolder[list[i].tags[j]])
              allTagsHolder[list[i].tags[j]] = &quot;&quot;;

            if (this.notHidden(list[i],title)) {
              allTagsHolder[list[i].tags[j]] += &quot;**[[&quot;+list[i].title+&quot;]]&quot;
                    + this.getTaggingCount(list[i].title) + this.getExcerpt(title,list[i].title) + &quot;\n&quot;;

              leftOvers.setItem(list[i].title,-1); // remove from leftovers. at the end it will contain the leftovers

            }
          }
        }
      }
    }

    var allTags = [];
    for (var t in allTagsHolder)
      allTags.push(t);

    var sortHelper = function(a,b) {
      if (a == b) return 0;
      if (a &lt; b) return -1;
      return 1;
    };

    allTags.sort(function(a,b) {
      var tidA = store.getTiddler(a);
      var tidB = store.getTiddler(b);
      if (sortBy == &quot;title&quot;) return sortHelper(a,b);
      else if (!tidA &amp;&amp; !tidB) return 0;
      else if (!tidA) return -1;
      else if (!tidB) return +1;
      else return sortHelper(tidA[sortBy],tidB[sortBy]);
    });

    var leftOverOutput = &quot;&quot;;
    for (var i=0;i&lt;leftOvers.length;i++)
      if (this.notHidden(leftOvers[i],title))
        leftOverOutput += &quot;*[[&quot;+leftOvers[i]+&quot;]]&quot; + this.getTaggingCount(leftOvers[i]) + this.getExcerpt(title,leftOvers[i]) + &quot;\n&quot;;

    var output = [];

    if (sortOrder == &quot;desc&quot;)
      allTags.reverse();
    else if (leftOverOutput != &quot;&quot;)
      // leftovers first...
      output.push(leftOverOutput);

    for (var i=0;i&lt;allTags.length;i++)
      if (allTagsHolder[allTags[i]] != &quot;&quot;)
        output.push(&quot;*[[&quot;+allTags[i]+&quot;]]&quot; + this.getTaggingCount(allTags[i]) + this.getExcerpt(title,allTags[i]) + &quot;\n&quot; + allTagsHolder[allTags[i]]);

    if (sortOrder == &quot;desc&quot; &amp;&amp; leftOverOutput != &quot;&quot;)
      // leftovers last...
      output.push(leftOverOutput);

    return this.drawTable(place,
        this.makeColumns(output,parseInt(this.getTagglyOpt(title,&quot;numCols&quot;))),
        &quot;grouped&quot;);

  },

  // used to build site map
  treeTraverse: function(title,depth,sortBy,sortOrder,isTagExpr) {

    var list = config.taggly.getTiddlers(title,sortBy,isTagExpr);

    if (sortOrder == &quot;desc&quot;)
      list.reverse();

    var indent = &quot;&quot;;
    for (var j=0;j&lt;depth;j++)
      indent += &quot;*&quot;

    var childOutput = &quot;&quot;;

    if (depth &gt; this.config.siteMapDepthLimit)
      childOutput += indent + this.lingo.tooDeepMessage + &quot;\n&quot;;
    else
      for (var i=0;i&lt;list.length;i++)
        if (list[i].title != title)
          if (this.notHidden(list[i].title,this.config.inTiddler))
            childOutput += this.treeTraverse(list[i].title,depth+1,sortBy,sortOrder,false);

    if (depth == 0)
      return childOutput;
    else
      return indent + &quot;[[&quot;+title+&quot;]]&quot; + this.getTaggingCount(title) + this.getExcerpt(this.config.inTiddler,title,depth) + &quot;\n&quot; + childOutput;
  },

  // this if for the site map mode
  createTagglyListSiteMap: function(place,title,isTagExpr) {
    this.config.inTiddler = title; // nasty. should pass it in to traverse probably
    var output = this.treeTraverse(title,0,this.getTagglyOpt(title,&quot;sortBy&quot;),this.getTagglyOpt(title,&quot;sortOrder&quot;),isTagExpr);
    return this.drawTable(place,
        this.makeColumns(output.split(/(?=^\*\[)/m),parseInt(this.getTagglyOpt(title,&quot;numCols&quot;))), // regexp magic
        &quot;sitemap&quot;
        );
  },

  macros: {
    tagglyTagging: {
      handler: function (place,macroName,params,wikifier,paramString,tiddler) {
        var parsedParams = paramString.parseParams(&quot;tag&quot;,null,true);
        var refreshContainer = createTiddlyElement(place,&quot;div&quot;);

        // do some refresh magic to make it keep the list fresh - thanks Saq
        refreshContainer.setAttribute(&quot;refresh&quot;,&quot;macro&quot;);
        refreshContainer.setAttribute(&quot;macroName&quot;,macroName);

        var tag = getParam(parsedParams,&quot;tag&quot;);
        var expr = getParam(parsedParams,&quot;expr&quot;);

        if (expr) {
          refreshContainer.setAttribute(&quot;isTagExpr&quot;,&quot;true&quot;);
          refreshContainer.setAttribute(&quot;title&quot;,expr);
          refreshContainer.setAttribute(&quot;showEmpty&quot;,&quot;true&quot;);
        }
        else {
          refreshContainer.setAttribute(&quot;isTagExpr&quot;,&quot;false&quot;);
          if (tag) {
                refreshContainer.setAttribute(&quot;title&quot;,tag);
            refreshContainer.setAttribute(&quot;showEmpty&quot;,&quot;true&quot;);
          }
          else {
                refreshContainer.setAttribute(&quot;title&quot;,tiddler.title);
            refreshContainer.setAttribute(&quot;showEmpty&quot;,&quot;false&quot;);
          }
        }
        this.refresh(refreshContainer);
      },

      refresh: function(place) {
        var title = place.getAttribute(&quot;title&quot;);
        var isTagExpr = place.getAttribute(&quot;isTagExpr&quot;) == &quot;true&quot;;
        var showEmpty = place.getAttribute(&quot;showEmpty&quot;) == &quot;true&quot;;
        jQuery(place).empty()
        addClass(place,&quot;tagglyTagging&quot;);
        var countFound = config.taggly.getTiddlers(title,'title',isTagExpr).length
        if (countFound &gt; 0 || showEmpty) {
          var lingo = config.taggly.lingo;
          config.taggly.createListControl(place,title,&quot;hideState&quot;);
          if (config.taggly.getTagglyOpt(title,&quot;hideState&quot;) == &quot;show&quot;) {
            createTiddlyElement(place,&quot;span&quot;,null,&quot;tagglyLabel&quot;,
                isTagExpr ? lingo.labels.exprLabel.format([title]) : lingo.labels.label.format([title]));
            config.taggly.createListControl(place,title,&quot;title&quot;);
            config.taggly.createListControl(place,title,&quot;modified&quot;);
            config.taggly.createListControl(place,title,&quot;created&quot;);
            config.taggly.createListControl(place,title,&quot;listMode&quot;);
            config.taggly.createListControl(place,title,&quot;excerpts&quot;);
            config.taggly.createListControl(place,title,&quot;numCols&quot;);
            config.taggly.createTagglyList(place,title,isTagExpr);
            if (countFound == 0 &amp;&amp; showEmpty)
              createTiddlyElement(place,&quot;div&quot;,null,&quot;tagglyNoneFound&quot;,lingo.labels.noneFound);
          }
        }
      }
    }
  },

  // todo fix these up a bit
  styles: [
&quot;/*{{{*/&quot;,
&quot;/* created by TagglyTaggingPlugin */&quot;,
&quot;.tagglyTagging { padding-top:0.5em; }&quot;,
&quot;.tagglyTagging li.listTitle { display:none; }&quot;,
&quot;.tagglyTagging ul {&quot;,
&quot; margin-top:0px; padding-top:0.5em; padding-left:2em;&quot;,
&quot; margin-bottom:0px; padding-bottom:0px;&quot;,
&quot;}&quot;,
&quot;.tagglyTagging { vertical-align: top; margin:0px; padding:0px; }&quot;,
&quot;.tagglyTagging table { margin:0px; padding:0px; }&quot;,
&quot;.tagglyTagging .button { visibility:hidden; margin-left:3px; margin-right:3px; }&quot;,
&quot;.tagglyTagging .button, .tagglyTagging .hidebutton {&quot;,
&quot; color:[[ColorPalette::TertiaryLight]]; font-size:90%;&quot;,
&quot; border:0px; padding-left:0.3em;padding-right:0.3em;&quot;,
&quot;}&quot;,
&quot;.tagglyTagging .button:hover, .hidebutton:hover, &quot;,
&quot;.tagglyTagging .button:active, .hidebutton:active  {&quot;,
&quot; border:0px; background:[[ColorPalette::TertiaryPale]]; color:[[ColorPalette::TertiaryDark]];&quot;,
&quot;}&quot;,
&quot;.selected .tagglyTagging .button { visibility:visible; }&quot;,
&quot;.tagglyTagging .hidebutton { color:[[ColorPalette::Background]]; }&quot;,
&quot;.selected .tagglyTagging .hidebutton { color:[[ColorPalette::TertiaryLight]] }&quot;,
&quot;.tagglyLabel { color:[[ColorPalette::TertiaryMid]]; font-size:90%; }&quot;,
&quot;.tagglyTagging ul {padding-top:0px; padding-bottom:0.5em; margin-left:1em; }&quot;,
&quot;.tagglyTagging ul ul {list-style-type:disc; margin-left:-1em;}&quot;,
&quot;.tagglyTagging ul ul li {margin-left:0.5em; }&quot;,
&quot;.editLabel { font-size:90%; padding-top:0.5em; }&quot;,
&quot;.tagglyTagging .commas { padding-left:1.8em; }&quot;,
&quot;/* not technically tagglytagging but will put them here anyway */&quot;,
&quot;.tagglyTagged li.listTitle { display:none; }&quot;,
&quot;.tagglyTagged li { display: inline; font-size:90%; }&quot;,
&quot;.tagglyTagged ul { margin:0px; padding:0px; }&quot;,
&quot;.excerpt { color:[[ColorPalette::TertiaryDark]]; }&quot;,
&quot;.excerptIndent { margin-left:4em; }&quot;,
&quot;div.tagglyTagging table,&quot;,
&quot;div.tagglyTagging table tr,&quot;,
&quot;td.tagglyTagging&quot;,
&quot; {border-style:none!important; }&quot;,
&quot;.tagglyTagging .contents { border-bottom:2px solid [[ColorPalette::TertiaryPale]]; padding:0 1em 1em 0.5em;&quot;,
&quot;  margin-bottom:0.5em; }&quot;,
&quot;.tagglyTagging .indent1  { margin-left:3em;  }&quot;,
&quot;.tagglyTagging .indent2  { margin-left:4em;  }&quot;,
&quot;.tagglyTagging .indent3  { margin-left:5em;  }&quot;,
&quot;.tagglyTagging .indent4  { margin-left:6em;  }&quot;,
&quot;.tagglyTagging .indent5  { margin-left:7em;  }&quot;,
&quot;.tagglyTagging .indent6  { margin-left:8em;  }&quot;,
&quot;.tagglyTagging .indent7  { margin-left:9em;  }&quot;,
&quot;.tagglyTagging .indent8  { margin-left:10em; }&quot;,
&quot;.tagglyTagging .indent9  { margin-left:11em; }&quot;,
&quot;.tagglyTagging .indent10 { margin-left:12em; }&quot;,
&quot;.tagglyNoneFound { margin-left:2em; color:[[ColorPalette::TertiaryMid]]; font-size:90%; font-style:italic; }&quot;,
&quot;/*}}}*/&quot;,
    &quot;&quot;].join(&quot;\n&quot;),

  init: function() {
    merge(config.macros,this.macros);
    config.shadowTiddlers[&quot;TagglyTaggingStyles&quot;] = this.styles;
    store.addNotification(&quot;TagglyTaggingStyles&quot;,refreshStyles);
  }
};

config.taggly.init();

//}}}

/***
InlineSlidersPlugin
By Saq Imtiaz
http://tw.lewcid.org/sandbox/#InlineSlidersPlugin

// syntax adjusted to not clash with NestedSlidersPlugin
// added + syntax to start open instead of closed

***/
//{{{
config.formatters.unshift( {
  name: &quot;inlinesliders&quot;,
  // match: &quot;\\+\\+\\+\\+|\\&lt;slider&quot;,
  match: &quot;\\&lt;slider&quot;,
  // lookaheadRegExp: /(?:\+\+\+\+|&lt;slider) (.*?)(?:&gt;?)\n((?:.|\n)*?)\n(?:====|&lt;\/slider&gt;)/mg,
  lookaheadRegExp: /(?:&lt;slider)(\+?) (.*?)(?:&gt;)\n((?:.|\n)*?)\n(?:&lt;\/slider&gt;)/mg,
  handler: function(w) {
    this.lookaheadRegExp.lastIndex = w.matchStart;
    var lookaheadMatch = this.lookaheadRegExp.exec(w.source)
    if(lookaheadMatch &amp;&amp; lookaheadMatch.index == w.matchStart ) {
      var btn = createTiddlyButton(w.output,lookaheadMatch[2] + &quot; &quot;+&quot;\u00BB&quot;,lookaheadMatch[2],this.onClickSlider,&quot;button sliderButton&quot;);
      var panel = createTiddlyElement(w.output,&quot;div&quot;,null,&quot;sliderPanel&quot;);
      panel.style.display = (lookaheadMatch[1] == '+' ? &quot;block&quot; : &quot;none&quot;);
      wikify(lookaheadMatch[3],panel);
      w.nextMatch = lookaheadMatch.index + lookaheadMatch[0].length;
    }
   },
   onClickSlider : function(e) {
    if(!e) var e = window.event;
    var n = this.nextSibling;
    n.style.display = (n.style.display==&quot;none&quot;) ? &quot;block&quot; : &quot;none&quot;;
    return false;
  }
});

//}}}
</pre>
</div>
<div title="TagglyTaggingStyles" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404142133" modified="201404142354" tags="css excludeTimeline" changecount="13" content-type="">
<pre>/*{{{*/
/* created by TagglyTaggingPlugin */
.tagglyTagging { padding-top:0.5em; }
.tagglyTagging li.listTitle { display:none; }
.tagglyTagging ul {
 margin-top:0px; padding-top:0.5em; padding-left:2em;
 margin-bottom:0px; padding-bottom:0px;
}
.tagglyTagging { vertical-align: top; margin:0px; padding:0px; }
.tagglyTagging table { margin:0px; padding:0px; }
.tagglyTagging .button { visibility:hidden; margin-left:3px; margin-right:3px; font-weight:300;}
.tagglyTagging .button, .tagglyTagging .hidebutton {
 color:[[ColorPalette::TertiaryLight]]; font-size:75%;font-weight:300;
 border:0px; padding-left:0.3em;padding-right:0.3em;
}

.tagglyTagging .button:hover, .hidebutton:hover, 
.tagglyTagging .button:active, .hidebutton:active  {
 border:0px; background:[[ColorPalette::TertiaryPale]]; color:[[ColorPalette::TertiaryDark]];
}
.selected .tagglyTagging .button { visibility:visible; }
.tagglyTagging .hidebutton { color:[[ColorPalette::Background]]; }
.selected .tagglyTagging .hidebutton { color:[[ColorPalette::TertiaryLight]] }
.tagglyLabel { color:[[ColorPalette::TertiaryMid]]; font-size:90%; }
.tagglyTagging ul {padding-top:0px; padding-bottom:0.5em; margin-left:1em; }
.tagglyTagging ul ul {list-style-type:disc; margin-left:-1em;}
.tagglyTagging ul ul li {margin-left:0.5em; }
.editLabel { font-size:90%; padding-top:0.5em; }
.tagglyTagging .commas { padding-left:1.8em; }
/* not technically tagglytagging but will put them here anyway */
.tagglyTagged li.listTitle { display:none; }
.tagglyTagged li { display: inline; font-size:90%;font-weight:300;color:[[ColorPalette::TertiaryLight]];font-family:Times; }
.tagglyTagged ul { margin:0px; padding:0px; }
.excerpt { color:[[ColorPalette::TertiaryDark]]; }
.excerptIndent { margin-left:4em; }
div.tagglyTagging table,
div.tagglyTagging table tr,
td.tagglyTagging
 {border-style:none!important; }
.tagglyTagging .contents { border-bottom:2px solid [[ColorPalette::TertiaryPale]]; padding:0 1em 1em 0.5em;
  margin-bottom:0.5em; }
.tagglyTagging .indent1  { margin-left:3em;  }
.tagglyTagging .indent2  { margin-left:4em;  }
.tagglyTagging .indent3  { margin-left:5em;  }
.tagglyTagging .indent4  { margin-left:6em;  }
.tagglyTagging .indent5  { margin-left:7em;  }
.tagglyTagging .indent6  { margin-left:8em;  }
.tagglyTagging .indent7  { margin-left:9em;  }
.tagglyTagging .indent8  { margin-left:10em; }
.tagglyTagging .indent9  { margin-left:11em; }
.tagglyTagging .indent10 { margin-left:12em; }
.tagglyNoneFound { margin-left:2em; color:[[ColorPalette::TertiaryMid]]; font-size:90%; font-style:italic; }
/*}}}*/
</pre>
</div>
<div title="TagsTreePlugin" modifier="Christopher Wilson" created="201305240016" modified="201402240803" tags="excludeTimeline">
<pre>/***
|''Name:''|TagsTreePlugin|
|''Description:''|Displays tags hierachy as a tree of tagged tiddlers.&lt;br&gt;Can be used to create dynamic outline navigation.|
|''Version:''|1.0.1|
|''Date:''|Jan 04,2008|
|''Source:''|http://visualtw.ouvaton.org/VisualTW.html|
|''Author:''|Pascal Collin|
|''License:''|[[BSD open source license|License]]|
|''~CoreVersion:''|2.1.0|
|''Browser:''|Firefox 2.0; InternetExplorer 6.0|
!Demo
On the plugin [[homepage|http://visualtw.ouvaton.org/VisualTW.html]] :
*Try to tag some &lt;&lt;newTiddler&gt;&gt; with a tag displayed in the menu and edit MainMenu.
*Look at some tags like [[Plugins]] or [[menu]].
!Installation
#import the plugin,
#save and reload,
#optionally, edit TagsTreeStyleSheet.
! Usage
{{{&lt;&lt;tagsTree&gt;&gt;}}} macro accepts the following //optional// parameters.
|!#|!parameter|!description|!by default|
|1|{{{root}}}|Uses {{{root}}} tag as tree root|- In a //tiddler// content or template : uses the tiddler as root tag.&lt;br&gt;- In the //page// content or template (by ex MainMenu) : displays all untagged tags.|
|2|{{{excludeTag}}}|Excludes all such tagged tiddlers from the tree|Uses default excludeLists tag|
|3|{{{level}}}|Expands nodes until level {{{level}}}.&lt;br&gt;Value {{{0}}} hides expand/collapse buttons.|Nodes are collapsed on first level|
|4|{{{depth}}}|Hierachy depth|6 levels depth (H1 to H6 header styles)|
|5|{{{sortField}}}|Alternate sort field. By example : &quot;index&quot;.|Sorts tags and tiddlers alphabetically (on their title)|
|6|{{{labelField}}}|Alertnate label field. By example : &quot;label&quot;.|Displays tiddler's title|

!Useful addons
*[[FieldsEditorPlugin]] : //create//, //edit//, //view// and //delete// commands in toolbar &lt;&lt;toolbar fields&gt;&gt;.
*[[TaggerPlugin]] : Provides a drop down listing current tiddler tags, and allowing toggling of tags.
!Advanced Users
You can change the global defaults for TagsTreePlugin, like default {{{level}}} value or level styles, by editing or overriding the first config.macros.tagsTree attributes below.
!Code
***/
//{{{
config.macros.tagsTree = {
	expand : &quot;+&quot;,
	collapse : &quot;&quot;,
	depth : 6,
	level : 1,
	sortField : &quot;&quot;,	
	labelField : &quot;&quot;,
	styles : [&quot;h1&quot;,&quot;h2&quot;,&quot;h3&quot;,&quot;h4&quot;,&quot;h5&quot;,&quot;h6&quot;],
	trees : {}
}

config.macros.tagsTree.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	var root = params[0] ? params[0] : (tiddler ? tiddler.title : null);
	var excludeTag = params[1] ? params[1] : &quot;excludeTagsTree&quot;;
	var level = params[2] ? params[2] : config.macros.tagsTree.level;
	var depth = params[3] ? params[3] : config.macros.tagsTree.depth;
	var sortField = params[4] ? params[4] : config.macros.tagsTree.sortField;
	var labelField = params[5] ? params[5] : config.macros.tagsTree.labelField;
	var showButtons = (level&gt;0);
	var id = config.macros.tagsTree.getId(place);
	if (config.macros.tagsTree.trees[id]==undefined) config.macros.tagsTree.trees[id]={};
	config.macros.tagsTree.createSubTree(place,id,root,excludeTag,[],level&gt;0 ? level : 1,depth, sortField, labelField,showButtons);
}

config.macros.tagsTree.createSubTree = function(place, id, root, excludeTag, ancestors, level, depth, sortField, labelField,showButtons){
	var childNodes = root ? this.getChildNodes(root, ancestors) : this.getRootTags(excludeTag);
	var isOpen = (level&gt;0) || (!showButtons);
	if (root &amp;&amp; this.trees[id][root]!=undefined) isOpen = this.trees[id][root]; 
	if (root &amp;&amp; ancestors.length) {
		var t = store.getTiddler(root);
		if (childNodes.length &amp;&amp; depth&gt;0) {
			var wrapper = createTiddlyElement(place , this.styles[Math.min(Math.max(ancestors.length,1),6)-1],null,&quot;branch&quot;);
			if (showButtons) {
				b = createTiddlyButton(wrapper, isOpen ? config.macros.tagsTree.collapse : config.macros.tagsTree.expand, null, config.macros.tagsTree.onClick);
				b.setAttribute(&quot;treeId&quot;,id);
				b.setAttribute(&quot;tiddler&quot;,root);					
			}
			createTiddlyText(createTiddlyLink(wrapper, root),t&amp;&amp;labelField ? t.fields[labelField] ? t.fields[labelField] : root : root);
		}
		else 
			createTiddlyText(createTiddlyLink(place, root,false,&quot;leaf&quot;),t&amp;&amp;labelField ? t.fields[labelField] ? t.fields[labelField] : root : root);
	}
	if (childNodes.length &amp;&amp; depth) {
		var d = createTiddlyElement(place,&quot;div&quot;,null,&quot;subtree&quot;);
		d.style.display= isOpen ? &quot;block&quot; : &quot;none&quot;;
		if (sortField)
			childNodes.sort(function(a, b){
				var fa=a.fields[sortField];
				var fb=b.fields[sortField];
				return (fa==undefined &amp;&amp; fb==undefined) ? a.title &lt; b.title ? -1 : a.title &gt; b.title ? 1 : 0 : (fa==undefined &amp;&amp; fb!=undefined) ? 1 :(fa!=undefined &amp;&amp; fb==undefined) ? -1 : fa &lt; fb ? -1 : fa &gt; fb ? 1 : 0;
			})
		for (var cpt=0; cpt&lt;childNodes.length; cpt++)
			this.createSubTree(d, id, childNodes[cpt].title, excludeTag, ancestors.concat(root), level-1, depth-1, sortField, labelField, showButtons);	
	}	
}

config.macros.tagsTree.onClick = function(e){
	var id = this.getAttribute(&quot;treeId&quot;);
	var tiddler = this.getAttribute(&quot;tiddler&quot;);	
	var n = this.parentNode.nextSibling;
	var isOpen = n.style.display != &quot;none&quot;;
	if(config.options.chkAnimate &amp;&amp; anim &amp;&amp; typeof Slider == &quot;function&quot;)
		anim.startAnimating(new Slider(n,!isOpen,null,&quot;none&quot;));
	else
		n.style.display = isOpen ? &quot;none&quot; : &quot;block&quot;;
	this.firstChild.nodeValue = isOpen ? config.macros.tagsTree.expand : config.macros.tagsTree.collapse;
	config.macros.tagsTree.trees[id][tiddler]=!isOpen;
	return false;
}

config.macros.tagsTree.getChildNodes = function(root ,ancestors){
	var childs = store.getTaggedTiddlers(root);
	var result = new Array();
	for (var cpt=0; cpt&lt;childs.length; cpt++)
		if (childs[cpt].title!=root &amp;&amp; ancestors.indexOf(childs[cpt].title)==-1) result.push(childs[cpt]);
	return result;
}

config.macros.tagsTree.getRootTags = function(excludeTag){
	var tags = store.getTags(excludeTag);
	tags.sort(function(a,b) {return a[0].toLowerCase() &lt; b[0].toLowerCase() ? -1 : (a[0].toLowerCase() == b[0].toLowerCase() ? 0 : +1);});
	var result = new Array();
	for (var cpt=0; cpt&lt;tags.length; cpt++) {
		var t = store.getTiddler(tags[cpt][0]);
		if (!t || t.tags.length==0) result.push(t ? t : {title:tags[cpt][0],fields:{}});
	}
	return result;
}

config.macros.tagsTree.getId = function(element){
	while (!element.id &amp;&amp; element.parentNode) element=element.parentNode;
	return element.id ? element.id : &quot;&lt;html&gt;&quot;;
}

config.shadowTiddlers.TagsTreeStyleSheet = &quot;/*{{{*/\n&quot;;
config.shadowTiddlers.TagsTreeStyleSheet +=&quot;.leaf, .subtree {display:block; margin-left : 0.5em}\n&quot;;
config.shadowTiddlers.TagsTreeStyleSheet +=&quot;.subtree {margin-bottom:0.5em}\n&quot;;
config.shadowTiddlers.TagsTreeStyleSheet +=&quot;#mainMenu {text-align:left}\n&quot;;
config.shadowTiddlers.TagsTreeStyleSheet +=&quot;.branch .button {border:1px solid #DDD; color:#AAA;font-size:9px;padding:0 2px;margin-right:0.3em;vertical-align:middle;text-align:center;}\n&quot;;
config.shadowTiddlers.TagsTreeStyleSheet +=&quot;/*}}}*/&quot;;

store.addNotification(&quot;TagsTreeStyleSheet&quot;, refreshStyles); 

config.shadowTiddlers.MainMenu=&quot;&lt;&lt;tagsTree&gt;&gt;&quot;

config.shadowTiddlers.PageTemplate = config.shadowTiddlers.PageTemplate.replace(/id='mainMenu' refresh='content' /,&quot;id='mainMenu' refresh='content' force='true' &quot;)

//}}}</pre>
</div>
<div title="The Action Principle" modifier="Christopher Wilson" created="201305222035" modified="201404082244" tags="ClassicalMechanics" changecount="4" content-type="">
<pre>Example Classical Action Calculations:
#+++!!!![The Free Particle]
The Lagrangian of a free particle is given by 
$$\mathcal{L} = \frac{1}{2}m\dot{x}^2$$
From the [[Euler-Lagrange Equation]], it then follows that the corresponding momenta is conserved,
$$\frac{d}{dt}\left(\partial_{\dot{x}}\mathcal{L}\right) = 0\quad\Rightarrow\quad \dot{x} = c \in \mathbb{R}$$
This allows for an easy computation of the classical action,
$$S_{cl} = \int_{t_a}^{t_b}\mathcal{L}\, dt = \frac{1}{2}m\dot{x}^2\int_{t_a}^{t_b}\, dt = \frac{m(x_b - x_a)^2}{2(t_b-t_a)}$$
where the constant velocity is given by $$\dot{x} = \frac{x_b - x_a}{t_b - t_a}$$===

#+++!!!![The Harmonic Oscillator]
For the harmonic oscillator, the Lagrangian is given by $$\mathcal{L} = \frac{m}{2}(\dot{x}^2 - \omega^2x^2)$$
Using the ~Euler-Lagrange equations of motion, we may determine that 
$$x(t-ta) = A\cos[\omega(t-t_a)] + B\sin[\omega(t-ta)],\quad\mathrm{for }\;A,B \in \mathbb{R}\tag{1}$$
Using boundary conditions, we define \(x_a \equiv x(t_a - t_a) = x(0) \mathrm{,\;\,}\)   which implies, 
$$x_a = A$$
For $x_b \equiv x(t_b - t_a) = x(T);\; T \equiv t_b - t_a\mathrm{,\,\;}$ we have
$$x_b = x_a\cos(\omega T) + B\sin(\omega T)\quad \Rightarrow \quad B = \frac{x_b - x_a\cos(\omega T)}{\sin(\omega T)}$$
Now, we move forward and compute the classical action from the definition
$$S_{cl} = \int_{t_a}^{t_b}\frac{m}{2}(\dot{x}^2 - \omega^2x^2)\, dt $$
Instead of substituting in for \(x\) and \(\dot{x}\) in terms of the sine and cosine expressions within the integral, we may ease the calculation by first slightly massaging this equation.  By integrating the first term by parts, we obtain,
$$S_{cl} = \frac{m}{2}\left[ x\dot{x}\Bigr|_{t_a}^{t_b} - \int_{t_a}^{t_b} x\ddot{x}\,dt - \int_{t_a}^{t_b} \omega^2x^2\,dt\right] =  \frac{m}{2}\left[ x\dot{x}\Bigr|_{t_a}^{t_b} - \int_{t_a}^{t_b} x\left(\ddot{x} + \omega^2x\right) \, dt\right]$$
But this last term in parenthesis is precisely the equation of motion given by the [[Euler-Lagrange Equation]], and thus the term vanishes.  Therefore, we are only left with the first term of
$$S_{cl} =  \frac{m}{2} x\dot{x}\Bigr|_{t_a}^{t_b} =  \frac{m}{2}\left( x_b\dot{x_b} -  x_a\dot{x_a}\right)$$
Now, by differentiating Eq. (1) and by applying boundary conditions, we may write
$$\dot{x}_a = \frac{\omega}{\sin{\omega T}}\left[ x_b - x_a \cos(\omega T)\right] \qquad \textrm{and} \qquad \dot{x}_b =  \frac{\omega}{\sin{\omega T}}\left[ x_b\cos(\omega T) - x_a\right]$$
Then, after some algebraic manipulation, we arrive at the result of 
$$S_{cl} = \frac{m\omega}{2 \sin{\omega T}}\left[(x_a^2 + x_b^2)\cos{\omega T} - 2x_ax_b\right]$$===</pre>
</div>
<div title="The Partition Function" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405101718" modified="201405101757" tags="[[Statistical Mechanics]]" content-type="text/x-tiddlywiki" changecount="23">
<pre>Working within the canonical ensemble, let $\sigma$ represent a generic state of the thermodynamic system.  Assume that the number of possible states is large and that the system is in thermal equilibrium with the surrounding environment.  These assumptions allow the probability of a configuration $\sigma$ occurring to be expressed using the Boltzmann law
$$\mathcal{P}(\sigma) = Z^{-1}{e^{-\beta H(\sigma)}},$$
where $H(\sigma)$ is the Hamiltonian of configuration $\sigma$, and $\beta = 1/k_b T$ is the inverse of the absolute temperature times the Boltzmann factor. Letting $V$ be the volume of the system, the denominator $Z = Z(T,V)$ is the partition function of the system, 
$$Z = \sum_\sigma e^{-\beta H(\sigma)},$$
which ensures the normalization of probabilities, $\sum_\sigma  \mathcal{P(\sigma)} = 1$.  This allows the expectation value of any physical observable $Q$ to be expressed as the weighted average over all states of the system,
$$\langle Q \rangle = \sum_\sigma Q \mathcal{P(\sigma)}.$$
From the partition function, a change of variables allows the expression
$$Z \equiv e^{-\beta F},$$
or equivalently, $F = \beta^{-1}\log Z$, where $F = F(T,V)$ is the Helmholtz [[free energy]] of the system.  The preceding expression leads to the differential equation 
$$\beta \partial_\beta F + F = \langle H(\sigma) \rangle;$$
this implies the follow relationship between the free energy and mean energy of the system,
$$ F = \langle H(\sigma) \rangle - T S(\sigma),$$
where $S(\sigma)$ is the entropy of the configuration. From this expression, further calculations reveal that
$$\partial_T \left&lt;H\right&gt; = \frac{1}{k_BT^2}\bigl&lt;\bigl(\Delta H\bigr)^2\bigr&gt;,$$
where $C \equiv \partial_T \left&lt;H\right&gt;$ is defined as the [[heat capacity]] of the system.</pre>
</div>
<div title="Theme Selector" modifier="Christopher Wilson" created="201305240427" modified="201404121431" tags="excludeTimeline" content-type="" changecount="2">
<pre>&lt;&lt;selectTheme&gt;&gt;</pre>
</div>
<div title="Thermodynamic Potentials" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404142340" modified="201405101020" tags="[[Critical Phenomena]]" changecount="23" content-type="">
<pre>| !|! |! |h
|sortable2|k
| !Potentials | !Fluids | !Magnets |h
| Internal Energy | $U(S,V)$ | $U(S,h)$ |
|~| $dU = TdS - p\,dV$ | $dU= TdS - \mathcal{M}dh$ |
| &amp;nbsp; | | |
| Helmholtz | $F(T,V) = U - TS$ | $F(T,h) = U-TS$ |
|~| $dF = -S\,dT-p\,dV$ | $dF=-SdT-\mathcal{M}dh$ |
| &amp;nbsp; | | |
| Gibbs | $G(T,p) = F + pV $ | $F(T,\mathcal{M}) = F + \mathcal{M}h$ |
|~| $dG = -S\,dT-V\,dp$ | $dG=-SdT-h\,d\mathcal{M}$ |
| !|! |! |
where $h$ is the external magnetic field, and $\mathcal{M}$ is the total magnetic moment.  The magnetization $M$ is given by $M = \mathcal{M}/V$.</pre>
</div>
<div title="TiddlerAliasPlugin" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405171341" tags="systemConfig excludeTimeline" alias="" content-type="text/javascript" changecount="8">
<pre>/***
|''Name:''|TiddlerAliasPlugin|
|''Version:''|1.0.0 BETA 4 (2009-03-30)|
|''Source:''|http://tiddlywiki.abego-software.de/Beta.html#TiddlerAliasPlugin|
|''Author:''|UdoBorkowski (ub [at] abego-software [dot] de)|
|''Licence:''|[[BSD open source license (abego Software)|http://www.abego-software.de/legal/apl-v10.html]]|
|''Copyright:''|&amp;copy; 2009 [[abego Software|http://www.abego-software.de]]|
|''~CoreVersion:''|2.1.0|
|''Browser:''|Firefox 1.5.0.7 or better; InternetExplorer 6.0|
!Description

Reference a tiddler through an alias (or even through many aliases). E.g. a tiddler &quot;William Shakespeare&quot; may also be referenced as {{{[[Shaxper]]}}}.

When editing a tiddler you may enter alternative names for the tiddler in the &quot;Alias&quot; field (below the tags field), similar to the way you enter tags. You may even specify multiple alias names, separated by spaces. Alias names containing spaces must be written as {{{[[...]]}}}

Also this plugin implements the &quot;Auto Non-Space Alias&quot; feature: for tiddlers with titles containing whitespaces an alias is automatically created that has every whitespace replaced by a dash (&quot;-&quot;). E.g. a tiddler called [[Tiddler with no alias defined]] can also be referenced by [[Tiddler-with-no-alias-defined]].

!Revision history
* v1.0.0 Beta 4 (2009-03-30)
** Bugfix: ToggleLinks does not work when TiddlerAliasPlugin is installed (Thanks to Jonnan West for reporting the bug)
* v1.0.0 Beta 3 (2006-09-23)
** Support &quot;Auto Non-Space Alias&quot; feature: For tiddler with titles containing whitespaces an alias is automatically created that has every whitespace replaced by a dash (&quot;-&quot;)
* v1.0.0 Beta 2 (2006-09-22)
** Bugfix: Tiddler is displayed more than once when opened both through title and alias (Thanks to KenGirard for reporting)
* v1.0.0 Beta 1 (2006-09-21)
** Beta 1 release
!Code
***/
//{{{
	
//============================================================================
//============================================================================
//		   TiddlerAliasPlugin
//============================================================================
//============================================================================

// Only install once
if (!version.extensions.TiddlerAliasPlugin) {

version.extensions.TiddlerAliasPlugin = {
	major: 1, minor: 0, revision: 0, beta: 4,
	date: new Date(2009,2,30), 
	source: &quot;http://tiddlywiki.abego-software.de/Beta.html#TiddlerAliasPlugin&quot;,
	licence: &quot;[[BSD open source license (abego Software)|http://www.abego-software.de/legal/apl-v10.html]]&quot;,
	copyright: &quot;Copyright (c) abego Software GmbH, 2005-2009 (www.abego-software.de)&quot;
};

(function() {

window.abegoTiddlerAlias = {
	lingo:  {
		aliasPrompt: &quot;Type alias names (i.e. alternative names for this tiddler) separated with spaces, [[use double square brackets]] if necessary&quot;
	}, 
	
	editTemplateExtension: &quot;&lt;div class='editor' macro='edit alias'&gt;&lt;/div&gt;&lt;div class='editorFooter'&gt;&lt;span macro='message abegoTiddlerAlias.lingo.aliasPrompt'&gt;&lt;/span&gt;&lt;/div&gt;&quot;
};

var oldFetchTiddler;
var oldSaveTiddler;
var oldDisplayTiddler;

var fWithAutoNonSpaceAlias = true;

function withAutoNonSpaceAlias() {
	return fWithAutoNonSpaceAlias;
}

function addNonSpaceAlias(map, title) {
	var s = title.replace(/\s/g,&quot;-&quot;);
	if (s != title)
		map[s] = title;
}

function calcAliases() {
	var result = {};
	store.forEachTiddler(function(title,tiddler) {
		var s = store.getValue(tiddler,&quot;alias&quot;);
		if (s) {
			var p = s.parseParams(&quot;list&quot;,null,false,true);
			for(var i=1; i&lt;p.length; i++)
				result[p[i].value] = title;
		}
		if (withAutoNonSpaceAlias())
			addNonSpaceAlias(result,title);
	});
	return result;
}

// Returns a map that maps an alias name to the title of the tiddler
abegoTiddlerAlias.getAliases = function() {
	if (!store.aliases)
		store.aliases = calcAliases();
	return store.aliases;
}

// Returns the title of the tiddler for the given alias.
// When no such alias is defined but a tiddler with that name exists the alias is returned.
// Otherwise null is returned.
abegoTiddlerAlias.getAliasTitle = function(alias) {
	var t = abegoTiddlerAlias.getAliases()[alias];
	return t ? t : (store.fetchTiddler(alias) ? alias : null)
}

function hasEditTemplateExtension(s) {
	return s.indexOf(abegoTiddlerAlias.editTemplateExtension) &gt;= 0;
}

function addEditTemplateExtension(s) {
	if (s &amp;&amp; !hasEditTemplateExtension(s)) {
		var i = s.lastIndexOf(&quot;&lt;/div&gt;&quot;);
		if (i &gt;= 0)
			return s.slice(0,i+6)+&quot;\n&quot;+abegoTiddlerAlias.editTemplateExtension+s.slice(i+6);
	}
	return null;
}

function hijackFetchTiddler() {
	oldFetchTiddler = store.fetchTiddler;

	store.fetchTiddler = function(title) {
		var result = oldFetchTiddler.apply(this, arguments);
		if (!result &amp;&amp; title) {
			title = abegoTiddlerAlias.getAliases()[title];
			if (title)
				result = oldFetchTiddler.apply(this, [title])
		}
		return result;	
	};
}

function hijackSaveTiddler() {
	oldSaveTiddler = TiddlyWiki.prototype.saveTiddler;
	TiddlyWiki.prototype.saveTiddler = function() {
		var result = oldSaveTiddler.apply(this, arguments);
		delete store.aliases;				
		return result;	
	}
}


function hijackDisplayTiddler() {
	oldDisplayTiddler = Story.prototype.displayTiddler;
	Story.prototype.displayTiddler = function(srcElement,title,template,animate,slowly,customFields,toggle,animationSrc) {
		// Ensure that a tiddler is always opened with its &quot;original&quot; title (not an alias)
		var tiddler = store.fetchTiddler(title);
		if (tiddler) 
			title = tiddler.title;
		return oldDisplayTiddler.apply(this, [srcElement,title,template,animate,slowly,customFields,toggle,animationSrc]);
	}
}
	

function modifyEditTemplate() {
	// The shadow tiddler
	var s = addEditTemplateExtension(config.shadowTiddlers[&quot;EditTemplate&quot;]);
	if (s) 
		config.shadowTiddlers[&quot;EditTemplate&quot;] = s;
	
	// The &quot;real&quot; tiddler (if defined)
	var t = store.getTiddler(&quot;EditTemplate&quot;);
    if (t &amp;&amp; !hasEditTemplateExtension(t.text))
          t.set(null,addEditTemplateExtension(t.text));		
}

// Requires store is defined.
function doHijacking() {
	hijackFetchTiddler();
	hijackSaveTiddler();
	hijackDisplayTiddler();
	modifyEditTemplate();
}

// for debugging the plugin is not loaded through the systemConfig mechanism but via a script tag. 
// At that point in the &quot;store&quot; is not yet defined. In that case hijackFetchTiddler through the restart function.
// Otherwise hijack now.
if (!store) {
	var oldRestartFunc = restart;
	window.restart = function() {
		doHijacking();
		oldRestartFunc.apply(this,arguments);
	};
} else
	doHijacking();

// To support the access through the &quot;message&quot; macro
config.abegoTiddlerAlias = abegoTiddlerAlias;
})();
} // of &quot;install only once&quot;


/***
!Licence and Copyright
Copyright (c) abego Software ~GmbH, 2005 ([[www.abego-software.de|http://www.abego-software.de]])

Redistribution and use in source and binary forms, with or without modification,
are permitted provided that the following conditions are met:

Redistributions of source code must retain the above copyright notice, this
list of conditions and the following disclaimer.

Redistributions in binary form must reproduce the above copyright notice, this
list of conditions and the following disclaimer in the documentation and/or other
materials provided with the distribution.

Neither the name of abego Software nor the names of its contributors may be
used to endorse or promote products derived from this software without specific
prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND ANY
EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,
INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR
BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN
ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH
DAMAGE.
***/

//}}}</pre>
</div>
<div title="TiddlerListMacro" modifier="Christopher Wilson" created="201305270646" modified="201305270647" tags="systemConfig excludeTimeline" changecount="1">
<pre>/***
|''Name:''|TiddlerListMacro|
|''Version:''|2.3 (8-Jan-2008)|
|''Source''|http://jackparke.googlepages.com/jtw.html#TiddlerListMacro ([[del.icio.us|http://del.icio.us/post?url=http://jackparke.googlepages.com/jtw.html%23TiddlerListMacro]])|
|''Author:''|[[Jack]]|
|''Type:''|Macro|
|''Documentation:''|[[TiddlerListMacroDocumentation]]|
!Usage
{{{&lt;&lt;tiddlerList parameter1:&quot;value1&quot; parameter2:&quot;value2&quot; ...&gt;&gt;}}}
See TiddlerListMacroDocumentation and TiddlerListMacroExamples
!Code
***/
//{{{
version.extensions.tiddlerList = {major: 2, minor: 3, revision: 0, date: new Date(&quot;Jan 08, 2008&quot;)};
// template = [header, item, separator, group, footer]
config.macros.tiddlerList={
 formats : {list:true, nlist:true, span:true, stack:true, csv:true, table:true},
 templates : {
 list : [ &quot;%0\n&quot;, &quot;* %0\n&quot;, &quot;&quot;, &quot;%group\n&quot;, &quot;%0\n&quot;],
 nlist : [ &quot;%0&quot;, &quot;# %0\n&quot;, &quot;&quot;, &quot;%group\n&quot;, &quot;%0\n&quot;],
 span : [ &quot;%0&quot;, &quot;%0&quot;, &quot; &quot;, &quot;%group&quot;, &quot;%0&quot;],
 stack : [ &quot;%0&quot;, &quot;%0&quot;, &quot;\n&quot;, &quot;%group&quot;, &quot;%0&quot;],
 csv : [ &quot;%0&quot;, &quot;%0&quot;, &quot;, &quot;, &quot;%0&quot;, &quot;%0\n&quot;],
 table : [&quot;|!%0|\n&quot;, &quot;|%0|\n&quot;, &quot;&quot;, &quot;|%group|\n&quot;, &quot;|%0|\n&quot;]
 },
 dateFormat : &quot;DD MMM YYYY&quot;
}

if (typeof gCurrentTiddler == 'undefined')
 var gCurrentTiddler;

config.macros.tiddlerList.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
 // Some globals
 var count=0, groupCount=0, theGroup=&quot;&quot;, lastGroup=&quot;&quot;, firstInGroup = false;
 var currentTiddler = tiddler;
 gCurrentTiddler = tiddler;
 var listWikiText=&quot;&quot;;
 var formats = this.formats;
 
 // SQL-Like parameters
 var parameters = paramString.parseParams(&quot;name&quot;,null,true);
 var pTags = parameters[0][&quot;tags&quot;]?parameters[0][&quot;tags&quot;][0].split(&quot;,&quot;):[];
 var pOrder = parameters[0][&quot;order&quot;]?parameters[0][&quot;order&quot;][0]:&quot;title&quot;;
 var pTop = parameters[0][&quot;top&quot;]?parameters[0][&quot;top&quot;][0]:-1;
 var pText = parameters[0][&quot;text&quot;]?parameters[0][&quot;text&quot;][0]:&quot;&quot;;
 var pTitle = parameters[0][&quot;title&quot;]?parameters[0][&quot;title&quot;][0]:&quot;&quot;;
 var pSearch = parameters[0][&quot;search&quot;]?parameters[0][&quot;search&quot;][0]:&quot;&quot;;
 var pFilter = parameters[0][&quot;filter&quot;]?parameters[0][&quot;filter&quot;][0]:&quot;&quot;;
 var pHeader = parameters[0][&quot;header&quot;]?paramFormat(parameters[0][&quot;header&quot;][0]):&quot;&quot;;
 var pFooter = parameters[0][&quot;footer&quot;]?paramFormat(parameters[0][&quot;footer&quot;][0]):&quot;&quot;;
 var pGroup = parameters[0][&quot;group&quot;]?parameters[0][&quot;group&quot;][0]:&quot;&quot;;
 var pDateFormat = parameters[0][&quot;dateFormat&quot;]?parameters[0][&quot;dateFormat&quot;][0]:this.dateFormat;
 var pCustomParameter = parameters[0][&quot;customParameter&quot;]?parameters[0][&quot;customParameter&quot;][0]:&quot;&quot;;
 var pFormat = parameters[0][&quot;format&quot;]?parameters[0][&quot;format&quot;][0]:&quot;list&quot;;
 pFormat = formats[pFormat]?pFormat:&quot;list&quot;
 
 // Separator
 var pSeparator = parameters[0][&quot;separator&quot;]?paramFormat(parameters[0][&quot;separator&quot;][0]):(parameters[0][&quot;seperator&quot;]?paramFormat(parameters[0][&quot;seperator&quot;][0]):this.templates[pFormat][2])

 // Template for group
 var pGroupTemplate = this.templates[pFormat][3];
 if (parameters[0][&quot;groupTemplate&quot;])
 pGroupTemplate = paramFormat(parameters[0][&quot;groupTemplate&quot;][0])
 pGroupTemplate = pGroupTemplate.replace(&quot;$))&quot;, &quot;&gt;&gt;&quot;)
 
 // Template for group footer
 var pGroupFooterTemplate = &quot;&quot;;
 if (parameters[0][&quot;groupFooterTemplate&quot;])
 pGroupFooterTemplate = paramFormat(parameters[0][&quot;groupFooterTemplate&quot;][0])
 pGroupFooterTemplate = pGroupFooterTemplate.replace(&quot;$))&quot;, &quot;&gt;&gt;&quot;)
 
 // Template for item
 var pItemTemplate = this.templates[pFormat][1];
 if (parameters[0][&quot;itemTemplate&quot;])
 pItemTemplate = paramFormat(parameters[0][&quot;itemTemplate&quot;][0])
 pItemTemplate = pItemTemplate.replace(&quot;$))&quot;, &quot;&gt;&gt;&quot;).replace(&quot;%link&quot;, &quot;%0&quot;).replace(&quot;%item&quot;, &quot;%1&quot;).replace(&quot;%abstract&quot;, &quot;%2&quot;).replace(&quot;%text&quot;, &quot;%3&quot;).replace(&quot;%created&quot;, &quot;%4&quot;).replace(&quot;%modified&quot;, &quot;%5&quot;).replace(&quot;%modifier&quot;, &quot;%6&quot;).replace(&quot;%group&quot;, &quot;%7&quot;).replace(&quot;%title&quot;, &quot;%8&quot;).replace(&quot;%tags&quot;, &quot;%9&quot;).replace(&quot;%nolink&quot;, &quot;%10&quot;).replace(&quot;%custom&quot;, &quot;%11&quot;)
 // Template for footer
 var pFooterTemplate = this.templates[pFormat][4].replace(&quot;%count&quot;, &quot;%1&quot;)

 // Get all tiddlers
 var tiddlers = store.reverseLookup(&quot;tags&quot;,&quot;excludeLists&quot;,false);

 // Sorting
 if(!pOrder)
 pOrder = &quot;title&quot;;
 if (pOrder.match(/^\-/i)) {
 pOrder = pOrder.substr(1)
 var sortDesc = true;
 }
 // Sorting on a standard field
 if (pOrder.match(/(title)|(text)|(modifier)|(modified)|(created)|(tags)/))
  if (sortDesc)
   tiddlers.sort(function (a,b) {if(a[pOrder] == b[pOrder]) return(0); else return (a[pOrder] &gt; b[pOrder]) ? -1 : +1; });
  else
  tiddlers.sort(function (a,b) {if(a[pOrder] == b[pOrder]) return(0); else return (a[pOrder] &lt; b[pOrder]) ? -1 : +1; });
 else
  if (sortDesc)
   tiddlers.sort(function (a,b) {if(a.fields[pOrder] == b.fields[pOrder]) return(0); else return (a.fields[pOrder] &gt; b.fields[pOrder]) ? -1 : +1; });
  else
   tiddlers.sort(function (a,b) {if(a.fields[pOrder] == b.fields[pOrder]) return(0); else return (a.fields[pOrder] &lt; b.fields[pOrder]) ? -1 : +1; });

 // Header
 if (pHeader)
 listWikiText += formatItem(this.templates[pFormat][0], [pHeader], pFormat)
 
 for(var t=0; t&lt;tiddlers.length; t++) {
 tiddler = tiddlers[t];
 if (pText!=&quot;&quot; &amp;&amp; tiddler.text==&quot;&quot;) tiddler.text=store.getValue(tiddler, 'text')
 if (pTop==-1 || count&lt;pTop) {
 if (pText==&quot;&quot; || tiddler.text.match(pText)) {
 if (pTitle==&quot;&quot; || tiddler.title.match(pTitle)) {
 if (pSearch==&quot;&quot; || (tiddler.title.match(pSearch) || tiddler.text.match(pSearch))) {
 if (pFilter==&quot;&quot; || eval(pFilter)) {
 if (pTags.length==0 || compareArrays(tiddler.tags, pTags, &quot;all&quot;)) {
 count++;
 if (tiddler.text==&quot;&quot;) tiddler.text=store.getValue(tiddler, 'text')
 // Grouping
 if (pGroup) {
 theGroup = eval(pGroup);
 if(theGroup != lastGroup) {
 groupCount++;firstInGroup = true;
 if (pGroupFooterTemplate &amp;&amp; groupCount&gt;1)
 listWikiText += pGroupFooterTemplate.replace(&quot;%group&quot;, theGroup)
 listWikiText += pGroupTemplate.replace(&quot;%group&quot;, theGroup)
 lastGroup = theGroup;
 } else
  firstInGroup = false;
 }
 // Separators
 if (count&gt;1 &amp;&amp; !firstInGroup) listWikiText += pSeparator;
 //Plaintext title
 var noLink = tiddler.title.match(config.textPrimitives.wikiLink)?&quot;~&quot; + tiddler.title:tiddler.title;
 // Custom parameter
 if (pCustomParameter)
 var custom=&quot;&quot;;
 try {
 custom = eval(pCustomParameter)
 } catch (e) {}
 // List individual tiddler
 var strItem = formatItem(pItemTemplate,[&quot;[[&quot; + tiddler.title + &quot;]]&quot;,count,tiddler.text.substr(0,300),tiddler.text,tiddler.created.formatString(pDateFormat),tiddler.modified.formatString(pDateFormat),tiddler.modifier,theGroup,tiddler.title,tiddler.tags.join(&quot; &quot;),noLink,custom], pFormat)
 for (var fld in tiddler.fields) strItem = strItem.replace('%field.' + fld, tiddler.fields[fld]);
 listWikiText += strItem
 }
 }
 }
 }
 }
 }
 }
 
 // Last group footer
 if (pGroup &amp;&amp; pGroupFooterTemplate &amp;&amp; count&gt;0)
 listWikiText += pGroupFooterTemplate.replace(&quot;%group&quot;, theGroup)

 // Footer
 if (pFooter) {
 pFooter = pFooter.replace(&quot;%count&quot;, count)
 listWikiText += formatItem(pFooterTemplate, [pFooter], pFormat)
 }
 
 // Render result
 if (!parameters[0][&quot;debug&quot;])
 wikify(listWikiText,place, null, currentTiddler)
 else
 place.innerHTML = &quot;&lt;textarea style=\&quot;width:100%;\&quot; rows=30&gt;&quot; + listWikiText + &quot;&lt;/textarea&gt;&quot;
 
 
 // Local functions
 
 function paramFormat(param) {
 // Allow &quot;\n&quot; in non evalled parameters
 return param.replace(/\\n/g, &quot;\n&quot;);
 }
 
 function formatItem(template, values, format) {
 // Fill template with values (depending on list format)
 if (format.match(/table/) &amp;&amp; values[0].match(/\|/))
 return (&quot;%0\n&quot;).format(values)
 else
 return template.format(values)
 }
 
 function compareArrays(array, values, logic) {
 // Compare items in array with AND(&quot;all&quot;) or OR(&quot;any&quot;) logic
 var matches=0;
 for(var v=0; v&lt;values.length; v++) 
 if(values[v].replace(/^\s+|\s+$/g,&quot;&quot;).match(/^\-/) &amp;&amp; !array.contains(values[v].replace(/^\s+|\s+$/g,&quot;&quot;).substr(1)))
 matches++;
 else if (array.contains(values[v]))
 matches++;
 return ((logic==&quot;all&quot; &amp;&amp; matches==values.length) || (logic!=&quot;all&quot; &amp;&amp; matches&gt;0))
 }
 
}

String.prototype.prettyTrim = function(len,prefix,postfix) {
 var result = this.trim().replace(/\r\n/g,' ').replace(/\n/g,' ');
 if (!prefix) prefix = '';
 if (!postfix) postfix = '';
 if (result.length &gt; len - 3)
 return prefix + result.substr(0,len) + '...' + postfix;
 else if (result.length &gt; 0)
 return prefix + result + postfix;
 else
 return result;
}

//}}}</pre>
</div>
<div title="TiddlerTweakerPlugin" modifier="Christopher Wilson" created="201404121225" tags="systemConfig excludeTimeline" content-type="" changecount="2">
<pre>/***
|Name|TiddlerTweakerPlugin|
|Source|http://www.TiddlyTools.com/#TiddlerTweakerPlugin|
|Version|2.4.2|
|Author|Eric Shulman|
|License|http://www.TiddlyTools.com/#LegalStatements|
|~CoreVersion|2.1|
|Type|plugin|
|Requires||
|Overrides||
|Description|select multiple tiddlers and modify author, created, modified and/or tag values|
~TiddlerTweaker is a tool for TiddlyWiki authors.  It allows you to select multiple tiddlers from a listbox, either by direct interaction or automatically matching specific criteria.  You can then modify the creator, author, created, modified and/or tag values of those tiddlers using a compact set of form fields.  The values you enter into the fields simultantously overwrite the existing values in all tiddlers you have selected.
!!!!!Usage
&lt;&lt;&lt;
{{{&lt;&lt;tiddlerTweaker&gt;&gt;}}}
{{smallform{&lt;&lt;tiddlerTweaker&gt;&gt;}}}
By default, any tags you enter into the TiddlerTweaker will //replace// the existing tags in all the tiddlers you have selected.  However, you can also use TiddlerTweaker to quickly filter specified tags from the selected tiddlers, while leaving any other tags assigned to those tiddlers unchanged:
&gt;Any tag preceded by a &quot;+&quot; (plus) or &quot;-&quot; (minus), will be added or removed from the existing tags //instead of replacing the entire tag definition// of each tiddler (e.g., enter &quot;-excludeLists&quot; to remove that tag from all selected tiddlers.  When using this syntax, care should be taken to ensure that //every// tag is preceded by &quot;+&quot; or &quot;-&quot;, to avoid inadvertently overwriting any other existing tags on the selected tiddlers.  (note: the &quot;+&quot; or &quot;-&quot; prefix on each tag value is NOT part of the tag value, and is only used by TiddlerTweaker to control how that tag value is processed)
Important Notes:
* Inasmuch as TiddlerTweaker is a 'power user' tool that can perform 'batch' functions (operating on many tiddlers at once), you should always have a recent backup of your document (or &quot;save changes&quot; just *before* tweaking the tiddlers), just in case you &quot;shoot yourself in the foot&quot;.
* The date and author information on any tiddlers you tweak will ONLY be updated if the corresponding  TiddlyTweaker checkboxes have been selected.  As a general rule, after using TiddlerTweaker, always ''//remember to save your document//'' when you are done, even though the tiddler timeline tab may not show any recently modified tiddlers.
* Selecting and updating all tiddlers in a document can take a while.  Your browser may warn about an &quot;unresponsive script&quot;.  Usually, if you allow it to continue, it should complete the processing... eventually.  Nonetheless, be sure to save your work before you begin tweaking lots of tiddlers, just in case something does get 'stuck'.
&lt;&lt;&lt;
!!!!!Revisions
&lt;&lt;&lt;
2009.06.26 [2.4.2] only add brackets around tags containing spaces
2009.06.22 [2.4.1] in setFields(), add brackets around all tags shown tweaker edit field
2009.03.30 [2.4.0] added 'sort by modifier'
2009.01.22 [2.3.0] added support for text pattern find/replace
2008.10.27 [2.2.3] in setTiddlers(), fixed Safari bug by replacing static Array.concat(...) with new Array().concat(...)
2008.09.07 [2.2.2] added removeCookie() function for compatibility with [[CookieManagerPlugin]]
2008.05.12 [2.2.1] replace built-in backstage &quot;tweak&quot; task with tiddler tweaker control panel (moved from BackstageTweaks)
2008.01.13 [2.2.0] added &quot;auto-selection&quot; links: all, changed, tags, title, text
2007.12.26 [2.1.0] added support for managing 'creator' custom field (see [[CoreTweaks]])
2007.11.01 [2.0.3] added config.options.txtTweakerSortBy for cookie-based persistence of list display order preference setting.
2007.09.28 [2.0.2] in settiddlers() and deltiddlers(), added suspend/resume notification handling (improves performance when operating on multiple tiddlers)
2007.08.03 [2.0.1] added shadow definition for [[TiddlerTweaker]] tiddler for use as parameter references with {{{&lt;&lt;tiddler&gt;&gt;, &lt;&lt;slider&gt;&gt; or &lt;&lt;tabs&gt;&gt;}}} macros.
2007.08.03 [2.0.0] converted from inline script
2006.01.01 [1.0.0] initial release
&lt;&lt;&lt;
!!!!!Code
***/
//{{{
version.extensions.TiddlerTweakerPlugin= {major: 2, minor: 4, revision: 1, date: new Date(2009,6,22)};

// shadow tiddler
config.shadowTiddlers.TiddlerTweaker=&quot;&lt;&lt;tiddlerTweaker&gt;&gt;&quot;;

/// backstage task
if (config.tasks) { // for TW2.2b3 or above
	config.tasks.tweak.tooltip=&quot;review/modify tiddler internals: dates, authors, tags, etc.&quot;;
	config.tasks.tweak.content=&quot;{{smallform small groupbox{&lt;&lt;tiddlerTweaker&gt;&gt;}}}&quot;;
}

if (config.options.txtTweakerSortBy==undefined) config.options.txtTweakerSortBy=&quot;modified&quot;;

// if removeCookie() function is not defined by TW core, define it here.
if (window.removeCookie===undefined) {
	window.removeCookie=function(name) {
		document.cookie = name+'=; expires=Thu, 01-Jan-1970 00:00:01 UTC; path=/;'; 
	}
}

config.macros.tiddlerTweaker = {
	html: '&lt;form style=&quot;display:inline&quot;&gt;&lt;!--\
		--&gt;&lt;table style=&quot;padding:0;margin:0;border:0;width:100%&quot;&gt;&lt;tr valign=&quot;top&quot; style=&quot;padding:0;margin:0;border:0&quot;&gt;&lt;!--\
		--&gt;&lt;td style=&quot;text-align:center;white-space:nowrap;width:99%;padding:0;margin:0;border:0&quot;&gt;&lt;!--\
			--&gt;&lt;font size=-2&gt;&lt;div style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;float:right&quot;&gt;&lt;!--\
			--&gt;&amp;nbsp; &lt;a href=&quot;javascript:;&quot; \
				title=&quot;select all tiddlers&quot;\
				onclick=&quot;\
				var f=this; while (f&amp;&amp;f.nodeName.toLowerCase()!=\'form\')f=f.parentNode;\
				for (var t=0; t&lt;f.list.options.length; t++)\
					if (f.list.options[t].value.length) f.list.options[t].selected=true;\
				config.macros.tiddlerTweaker.selecttiddlers(f.list);\
				return false&quot;&gt;all&lt;/a&gt;&lt;!--\
			--&gt;&amp;nbsp; &lt;a href=&quot;javascript:;&quot; \
				title=&quot;select tiddlers that are new/changed since the last file save&quot;\
				onclick=&quot;\
				var lastmod=new Date(document.lastModified);\
				var f=this; while (f&amp;&amp;f.nodeName.toLowerCase()!=\'form\')f=f.parentNode;\
				for (var t=0; t&lt;f.list.options.length; t++) {\
					var tid=store.getTiddler(f.list.options[t].value);\
					f.list.options[t].selected=tid&amp;&amp;tid.modified&gt;lastmod;\
				}\
				config.macros.tiddlerTweaker.selecttiddlers(f.list);\
				return false&quot;&gt;changed&lt;/a&gt;&lt;!--\
			--&gt;&amp;nbsp; &lt;a href=&quot;javascript:;&quot; \
				title=&quot;select tiddlers with at least one matching tag&quot;\
				onclick=&quot;\
				var t=prompt(\'Enter space-separated tags (match ONE)\');\
				if (!t||!t.length) return false;\
				var tags=t.readBracketedList();\
				var f=this; while (f&amp;&amp;f.nodeName.toLowerCase()!=\'form\')f=f.parentNode;\
				for (var t=0; t&lt;f.list.options.length; t++) {\
					f.list.options[t].selected=false;\
					var tid=store.getTiddler(f.list.options[t].value);\
					if (tid&amp;&amp;tid.tags.containsAny(tags)) f.list.options[t].selected=true;\
				}\
				config.macros.tiddlerTweaker.selecttiddlers(f.list);\
				return false&quot;&gt;tags&lt;/a&gt;&lt;!--\
			--&gt;&amp;nbsp; &lt;a href=&quot;javascript:;&quot; \
				title=&quot;select tiddlers whose titles include matching text&quot;\
				onclick=&quot;\
				var txt=prompt(\'Enter a title (or portion of a title) to match\');\
				if (!txt||!txt.length) return false;\
				var f=this; while (f&amp;&amp;f.nodeName.toLowerCase()!=\'form\')f=f.parentNode;\
				for (var t=0; t&lt;f.list.options.length; t++) {\
					f.list.options[t].selected=f.list.options[t].value.indexOf(txt)!=-1;\
				}\
				config.macros.tiddlerTweaker.selecttiddlers(f.list);\
				return false&quot;&gt;titles&lt;/a&gt;&lt;!--\
			--&gt;&amp;nbsp; &lt;a href=&quot;javascript:;&quot; \
				title=&quot;select tiddlers containing matching text&quot;\
				onclick=&quot;\
				var txt=prompt(\'Enter tiddler text (content) to match\');\
				if (!txt||!txt.length) return false;\
				var f=this; while (f&amp;&amp;f.nodeName.toLowerCase()!=\'form\')f=f.parentNode;\
				for (var t=0; t&lt;f.list.options.length; t++) {\
					var tt=store.getTiddlerText(f.list.options[t].value,\'\');\
					f.list.options[t].selected=(tt.indexOf(txt)!=-1);\
				}\
				config.macros.tiddlerTweaker.selecttiddlers(f.list);\
				return false&quot;&gt;text&lt;/a&gt; &amp;nbsp;&lt;!--\
			--&gt;&lt;/span&gt;&lt;span&gt;select tiddlers&lt;/span&gt;&lt;!--\
			--&gt;&lt;/div&gt;&lt;!--\
			--&gt;&lt;/font&gt;&lt;select multiple name=list size=&quot;11&quot; style=&quot;width:99.99%&quot; \
				title=&quot;use click, shift-click and/or ctrl-click to select multiple tiddler titles&quot; \
				onclick=&quot;config.macros.tiddlerTweaker.selecttiddlers(this)&quot; \
				onchange=&quot;config.macros.tiddlerTweaker.setfields(this)&quot;&gt;&lt;!--\
			--&gt;&lt;/select&gt;&lt;br&gt;&lt;!--\
			--&gt;show&lt;input type=text size=1 value=&quot;11&quot; \
				onchange=&quot;this.form.list.size=this.value; this.form.list.multiple=(this.value&gt;1);&quot;&gt;&lt;!--\
			--&gt;by&lt;!--\
			--&gt;&lt;select name=sortby size=1 \
				onchange=&quot;config.macros.tiddlerTweaker.init(this.form,this.value)&quot;&gt;&lt;!--\
			--&gt;&lt;option value=&quot;title&quot;&gt;title&lt;/option&gt;&lt;!--\
			--&gt;&lt;option value=&quot;size&quot;&gt;size&lt;/option&gt;&lt;!--\
			--&gt;&lt;option value=&quot;modified&quot;&gt;modified&lt;/option&gt;&lt;!--\
			--&gt;&lt;option value=&quot;created&quot;&gt;created&lt;/option&gt;&lt;!--\
			--&gt;&lt;option value=&quot;modifier&quot;&gt;modifier&lt;/option&gt;&lt;!--\
			--&gt;&lt;/select&gt;&lt;!--\
			--&gt;&lt;input type=&quot;button&quot; value=&quot;refresh&quot; \
				onclick=&quot;config.macros.tiddlerTweaker.init(this.form,this.form.sortby.value)&quot;&lt;!--\
			--&gt; &lt;input type=&quot;button&quot; name=&quot;stats&quot; disabled value=&quot;totals...&quot; \
				onclick=&quot;config.macros.tiddlerTweaker.stats(this)&quot;&gt;&lt;!--\
		--&gt;&lt;/td&gt;&lt;td style=&quot;white-space:nowrap;padding:0;margin:0;border:0;width:1%&quot;&gt;&lt;!--\
			--&gt;&lt;div style=&quot;text-align:left&quot;&gt;&lt;font size=-2&gt;&amp;nbsp;modify values&lt;/font&gt;&lt;/div&gt;&lt;!--\
			--&gt;&lt;table border=0 style=&quot;width:100%;padding:0;margin:0;border:0;&quot;&gt;&lt;tr style=&quot;padding:0;border:0;&quot;&gt;&lt;!--\
			--&gt;&lt;td style=&quot;padding:1px;border:0;white-space:nowrap&quot;&gt;&lt;!--\
				--&gt;&lt;input type=checkbox name=settitle unchecked \
					title=&quot;allow changes to tiddler title (rename tiddler)&quot; \
					onclick=&quot;this.form.title.disabled=!this.checked&quot;&gt;title&lt;!--\
			--&gt;&lt;/td&gt;&lt;td style=&quot;padding:1px;border:0;white-space:nowrap&quot;&gt;&lt;!--\
				--&gt;&lt;input type=text name=title size=35 style=&quot;width:98%&quot; disabled&gt;&lt;!--\
			--&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr style=&quot;padding:0;border:0;&quot;&gt;&lt;td style=&quot;padding:1px;border:0;white-space:nowrap&quot;&gt;&lt;!--\
				--&gt;&lt;input type=checkbox name=setcreator unchecked \
					title=&quot;allow changes to tiddler creator&quot; \
					onclick=&quot;this.form.creator.disabled=!this.checked&quot;&gt;created by&lt;!--\
			--&gt;&lt;/td&gt;&lt;td style=&quot;padding:1px;border:0;white-space:nowrap&quot;&gt;&lt;!--\
				--&gt;&lt;input type=text name=creator size=35 style=&quot;width:98%&quot; disabled&gt;&lt;!--\
			--&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr style=&quot;padding:0;border:0;&quot;&gt;&lt;td style=&quot;padding:1px;border:0;white-space:nowrap&quot;&gt;&lt;!--\
				--&gt;&lt;input type=checkbox name=setwho unchecked \
					title=&quot;allow changes to tiddler author&quot; \
					onclick=&quot;this.form.who.disabled=!this.checked&quot;&gt;modified by&lt;!--\
			--&gt;&lt;/td&gt;&lt;td style=&quot;padding:1px;border:0;white-space:nowrap&quot;&gt;&lt;!--\
				--&gt;&lt;input type=text name=who size=35 style=&quot;width:98%&quot; disabled&gt;&lt;!--\
			--&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr style=&quot;padding:0;border:0;&quot;&gt;&lt;td style=&quot;padding:1px;border:0;white-space:nowrap&quot;&gt;&lt;!--\
				--&gt;&lt;input type=checkbox name=setcdate unchecked \
					title=&quot;allow changes to created date&quot; \
					onclick=&quot;var f=this.form; f.cm.disabled=f.cd.disabled=f.cy.disabled=f.ch.disabled=f.cn.disabled=!this.checked&quot;&gt;&lt;!--\
				--&gt;created on&lt;!--\
			--&gt;&lt;/td&gt;&lt;td style=&quot;padding:1px;border:0;white-space:nowrap&quot;&gt;&lt;!--\
				--&gt;&lt;input type=text name=cm size=2 style=&quot;width:2em;padding:0;text-align:center&quot; disabled&gt;&lt;!--\
				--&gt; / &lt;input type=text name=cd size=2 style=&quot;width:2em;padding:0;text-align:center&quot; disabled&gt;&lt;!--\
				--&gt; / &lt;input type=text name=cy size=4 style=&quot;width:3em;padding:0;text-align:center&quot; disabled&gt;&lt;!--\
				--&gt; at &lt;input type=text name=ch size=2 style=&quot;width:2em;padding:0;text-align:center&quot; disabled&gt;&lt;!--\
				--&gt; : &lt;input type=text name=cn size=2 style=&quot;width:2em;padding:0;text-align:center&quot; disabled&gt;&lt;!--\
			--&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr style=&quot;padding:0;border:0;&quot;&gt;&lt;td style=&quot;padding:1px;border:0;white-space:nowrap&quot;&gt;&lt;!--\
				--&gt;&lt;input type=checkbox name=setmdate unchecked \
					title=&quot;allow changes to modified date&quot; \
					onclick=&quot;var f=this.form; f.mm.disabled=f.md.disabled=f.my.disabled=f.mh.disabled=f.mn.disabled=!this.checked&quot;&gt;&lt;!--\
				--&gt;modified on&lt;!--\
			--&gt;&lt;/td&gt;&lt;td style=&quot;padding:1px;border:0;white-space:nowrap&quot;&gt;&lt;!--\
				--&gt;&lt;input type=text name=mm size=2 style=&quot;width:2em;padding:0;text-align:center&quot; disabled&gt;&lt;!--\
				--&gt; / &lt;input type=text name=md size=2 style=&quot;width:2em;padding:0;text-align:center&quot; disabled&gt;&lt;!--\
				--&gt; / &lt;input type=text name=my size=4 style=&quot;width:3em;padding:0;text-align:center&quot; disabled&gt;&lt;!--\
				--&gt; at &lt;input type=text name=mh size=2 style=&quot;width:2em;padding:0;text-align:center&quot; disabled&gt;&lt;!--\
				--&gt; : &lt;input type=text name=mn size=2 style=&quot;width:2em;padding:0;text-align:center&quot; disabled&gt;&lt;!--\
			--&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr style=&quot;padding:0;border:0;&quot;&gt;&lt;td style=&quot;padding:1px;border:0;white-space:nowrap&quot;&gt;&lt;!--\
				--&gt;&lt;input type=checkbox name=replacetext unchecked\
					title=&quot;find/replace matching text&quot; \
					onclick=&quot;this.form.pattern.disabled=this.form.replacement.disabled=!this.checked&quot;&gt;replace text&lt;!--\
			--&gt;&lt;/td&gt;&lt;td style=&quot;padding:1px;border:0;white-space:nowrap&quot;&gt;&lt;!--\
				--&gt;&lt;input type=text name=pattern size=15 value=&quot;&quot; style=&quot;width:40%&quot; disabled \
					title=&quot;enter TEXT PATTERN (regular expression)&quot;&gt; with &lt;!--\
				--&gt;&lt;input type=text name=replacement size=15 value=&quot;&quot; style=&quot;width:40%&quot; disabled \
					title=&quot;enter REPLACEMENT TEXT&quot;&gt;&lt;!--\
			--&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr style=&quot;padding:0;border:0;&quot;&gt;&lt;td style=&quot;padding:1px;border:0;white-space:nowrap&quot;&gt;&lt;!--\
				--&gt;&lt;input type=checkbox name=settags checked \
					title=&quot;allow changes to tiddler tags&quot; \
					onclick=&quot;this.form.tags.disabled=!this.checked&quot;&gt;tags&lt;!--\
			--&gt;&lt;/td&gt;&lt;td style=&quot;padding:1px;border:0;white-space:nowrap&quot;&gt;&lt;!--\
				--&gt;&lt;input type=text name=tags size=35 value=&quot;&quot; style=&quot;width:98%&quot; \
					title=&quot;enter new tags or use \'+tag\' and \'-tag\' to add/remove tags from existing tags&quot;&gt;&lt;!--\
			--&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;!--\
			--&gt;&lt;div style=&quot;text-align:center&quot;&gt;&lt;!--\
			--&gt;&lt;nobr&gt;&lt;input type=button name=display disabled style=&quot;width:32%&quot; value=&quot;display tiddlers&quot; \
				onclick=&quot;config.macros.tiddlerTweaker.displaytiddlers(this)&quot;&gt;&lt;!--\
			--&gt; &lt;input type=button name=del disabled style=&quot;width:32%&quot; value=&quot;delete tiddlers&quot; \
				onclick=&quot;config.macros.tiddlerTweaker.deltiddlers(this)&quot;&gt;&lt;!--\
			--&gt; &lt;input type=button name=set disabled style=&quot;width:32%&quot; value=&quot;update tiddlers&quot; \
				onclick=&quot;config.macros.tiddlerTweaker.settiddlers(this)&quot;&gt;&lt;/nobr&gt;&lt;!--\
			--&gt;&lt;/div&gt;&lt;!--\
		--&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;!--\
		--&gt;&lt;/form&gt;&lt;span style=&quot;display:none&quot;&gt;&lt;!--content replaced by tiddler &quot;stats&quot;--&gt;&lt;/span&gt;\
	',
	handler: function(place,macroName,params,wikifier,paramString,tiddler) {
		var span=createTiddlyElement(place,&quot;span&quot;);
		span.innerHTML=this.html;
		this.init(span.firstChild,config.options.txtTweakerSortBy);
	},
	init: function(f,sortby) { // initialize form controls
		if (!f) return; // form might not be rendered yet...
		while (f.list.options[0]) f.list.options[0]=null; // empty current list content
		var tids=store.getTiddlers(sortby);
		if (sortby=='size') // descending order
			tids.sort(function(a,b) {return a.text.length &gt; b.text.length ? -1 : (a.text.length == b.text.length ? 0 : +1);});
		var who='';
		for (i=0; i&lt;tids.length; i++) { var t=tids[i];
			var label=t.title; var value=t.title;
			switch (sortby) {
				case 'modified':
				case 'created':
					var t=tids[tids.length-i-1]; // reverse order
					var when=t[sortby].formatString('YY.0MM.0DD 0hh:0mm ');
					label=when+t.title;
					value=t.title;
					break;
				case 'size':
					label='['+t.text.length+'] '+label;
					break;
				case 'modifier':
				case 'creator':
					if (who!=t[sortby]) {
						who=t[sortby];
						f.list.options[f.list.length]=new Option('by '+who+':','',false,false);
					}
					label='\xa0\xa0\xa0'+label; // indent
					break;
			}
			f.list.options[f.list.length]=new Option(label,value,false,false);
		}
		f.title.value=f.who.value=f.creator.value=f.tags.value=&quot;&quot;;
		f.cm.value=f.cd.value=f.cy.value=f.ch.value=f.cn.value=&quot;&quot;;
		f.mm.value=f.md.value=f.my.value=f.mh.value=f.mn.value=&quot;&quot;;
		f.stats.disabled=f.set.disabled=f.del.disabled=f.display.disabled=true;
		f.settitle.disabled=false;
		config.options.txtTweakerSortBy=sortby; // remember current setting
		f.sortby.value=sortby; // sync droplist selection with current setting
		if (sortby!=&quot;modified&quot;) // non-default preference... save cookie
			saveOptionCookie(&quot;txtTweakerSortBy&quot;);
		else removeCookie(&quot;txtTweakerSortBy&quot;); // default preference... clear cookie
	},
	selecttiddlers: function(here) { // enable/disable tweaker fields based on number of items selected
		// count how many tiddlers are selected
		var f=here.form; var list=f.list;
		var c=0; for (i=0;i&lt;list.length;i++) if (list.options[i].selected) c++;
		if (c&gt;1) f.title.disabled=true;
		if (c&gt;1) f.settitle.checked=false;
		f.set.disabled=(c==0);
		f.del.disabled=(c==0);
		f.display.disabled=(c==0);
		f.settitle.disabled=(c&gt;1);
		f.stats.disabled=(c==0);
		var msg=(c==0)?'select tiddlers':(c+' tiddler'+(c!=1?'s':'')+' selected');
		here.previousSibling.firstChild.firstChild.nextSibling.innerHTML=msg;
		if (c) clearMessage(); else displayMessage(&quot;no tiddlers selected&quot;);
	},
	setfields: function(here) { // set tweaker edit fields from first selected tiddler
		var f=here.form;
		if (!here.value.length) {
			f.title.value=f.who.value=f.creator.value=f.tags.value=&quot;&quot;;
			f.cm.value=f.cd.value=f.cy.value=f.ch.value=f.cn.value=&quot;&quot;;
			f.mm.value=f.md.value=f.my.value=f.mh.value=f.mn.value=&quot;&quot;;
			return;
		}
		var tid=store.getTiddler(here.value); if (!tid) return;
		f.title.value=tid.title;
		f.who.value=tid.modifier;
		f.creator.value=tid.fields['creator']||''; // custom field - might not exist
		f.tags.value=tid.tags.map(function(t){return String.encodeTiddlyLink(t)}).join(' ');
		var c=tid.created; var m=tid.modified;
		f.cm.value=c.getMonth()+1;
		f.cd.value=c.getDate();
		f.cy.value=c.getFullYear();
		f.ch.value=c.getHours();
		f.cn.value=c.getMinutes();
		f.mm.value=m.getMonth()+1;
		f.md.value=m.getDate();
		f.my.value=m.getFullYear();
		f.mh.value=m.getHours();
		f.mn.value=m.getMinutes();
	},
	settiddlers: function(here) {
		var f=here.form; var list=f.list;
		var tids=[];
		for (i=0;i&lt;list.length;i++) if (list.options[i].selected) tids.push(list.options[i].value);
		if (!tids.length) { alert(&quot;please select at least one tiddler&quot;); return; }
		var cdate=new Date(f.cy.value,f.cm.value-1,f.cd.value,f.ch.value,f.cn.value);
		var mdate=new Date(f.my.value,f.mm.value-1,f.md.value,f.mh.value,f.mn.value);
		if (tids.length&gt;1 &amp;&amp; !confirm(&quot;Are you sure you want to update these tiddlers:\n\n&quot;+tids.join(', '))) return;
		store.suspendNotifications();
		for (t=0;t&lt;tids.length;t++) {
			var tid=store.getTiddler(tids[t]); if (!tid) continue;
			var title=!f.settitle.checked?tid.title:f.title.value;
			var who=!f.setwho.checked?tid.modifier:f.who.value;
			var text=tid.text;
			if (f.replacetext.checked) text=text.replace(new RegExp(f.pattern.value,'mg'),f.replacement.value);
			var tags=tid.tags;
			if (f.settags.checked) { 
				var intags=f.tags.value.readBracketedList();
				var addtags=[]; var deltags=[]; var reptags=[];
				for (i=0;i&lt;intags.length;i++) {
					if (intags[i].substr(0,1)=='+')
						addtags.push(intags[i].substr(1));
					else if (intags[i].substr(0,1)=='-')
						deltags.push(intags[i].substr(1));
					else
						reptags.push(intags[i]);
				}
				if (reptags.length)
					tags=reptags;
				if (addtags.length)
					tags=new Array().concat(tags,addtags);
				if (deltags.length)
					for (i=0;i&lt;deltags.length;i++)
						{ var pos=tags.indexOf(deltags[i]); if (pos!=-1) tags.splice(pos,1); }
			}
			if (!f.setcdate.checked) cdate=tid.created;
			if (!f.setmdate.checked) mdate=tid.modified;
			store.saveTiddler(tid.title,title,text,who,mdate,tags,tid.fields);
			if (f.setcreator.checked) store.setValue(tid.title,'creator',f.creator.value); // set creator
			if (f.setcdate.checked) tid.assign(null,null,null,null,null,cdate); // set create date
		}
		store.resumeNotifications();
		this.init(f,f.sortby.value);
	},
	displaytiddlers: function(here) {
		var f=here.form; var list=f.list;
		var tids=[];
		for (i=0; i&lt;list.length;i++) if (list.options[i].selected) tids.push(list.options[i].value);
		if (!tids.length) { alert(&quot;please select at least one tiddler&quot;); return; }
		story.displayTiddlers(story.findContainingTiddler(f),tids)
	},
	deltiddlers: function(here) {
		var f=here.form; var list=f.list;
		var tids=[];
		for (i=0;i&lt;list.length;i++) if (list.options[i].selected) tids.push(list.options[i].value);
		if (!tids.length) { alert(&quot;please select at least one tiddler&quot;); return; }
		if (!confirm(&quot;Are you sure you want to delete these tiddlers:\n\n&quot;+tids.join(', '))) return;
		store.suspendNotifications();
		for (t=0;t&lt;tids.length;t++) {
			var tid=store.getTiddler(tids[t]); if (!tid) continue;
			if (tid.tags.contains(&quot;systemConfig&quot;))
				if (!confirm(&quot;'&quot;+tid.title+&quot;' is tagged with 'systemConfig'.\n\nRemoving this tiddler may cause unexpected results.  Are you sure?&quot;))
					continue;
			store.removeTiddler(tid.title);
			story.closeTiddler(tid.title);
		}
		store.resumeNotifications();
		this.init(f,f.sortby.value);
	},
	stats: function(here) {
		var f=here.form; var list=f.list; var tids=[]; var out=''; var tot=0;
		var target=f.nextSibling;
		for (i=0;i&lt;list.length;i++) if (list.options[i].selected) tids.push(list.options[i].value);
		if (!tids.length) { alert(&quot;please select at least one tiddler&quot;); return; }
		for (t=0;t&lt;tids.length;t++) {
			var tid=store.getTiddler(tids[t]); if (!tid) continue;
			out+='[['+tid.title+']] '+tid.text.length+'\n'; tot+=tid.text.length;
		}
		var avg=tot/tids.length;
		out=tot+' bytes in '+tids.length+' selected tiddlers ('+avg+' bytes/tiddler)\n&lt;&lt;&lt;\n'+out+'&lt;&lt;&lt;\n';
		removeChildren(target);
		target.innerHTML=&quot;&lt;hr&gt;&lt;font size=-2&gt;&lt;a href='javascript:;' style='float:right' &quot;
			+&quot;onclick='this.parentNode.parentNode.style.display=\&quot;none\&quot;'&gt;close&lt;/a&gt;&lt;/font&gt;&quot;;
		wikify(out,target);
		target.style.display=&quot;block&quot;;
	}
};
//}}}</pre>
</div>
<div title="TiddlyChartsExample" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404140729" modified="201404141045" tags="excludeTimeline example" changecount="17" content-type="">
<pre>To install you will need [[g.bar]], [[g.dot]], [[g.line]], [[g.pie]], [[g.raphael]], [[raphael.js]] and [[TiddlyChartsPlugin]]. Or just include this space into an existing TiddlySpace.

&lt;&lt;PieChart ExamplePieChartData&gt;&gt;
This uses data in the tiddler [[ExamplePieChartData]]
Use the same data for a bar chart..
&lt;&lt;BarChart ExamplePieChartData  width:300 height:300&gt;&gt;

&lt;&lt;LineChart SharePriceData width:300 height:300&gt;&gt;
Using data from [[SharePriceData]]

Data can also be organised in columns, ie. your table could be laid out like [[LineData]]:
&lt;&lt;LineChart LineData dataView:col  symbol:&quot;&quot;&gt;&gt;

!TiddlyWiki tricks
Obviously graphs come in useful in a TiddlyWiki.

For visualising tag usage.. (using [[TagUsage]])
&lt;&lt;PieChart TagUsage width:400 height:300&gt;&gt;
.. or for seeing activity in a given space by looking at tiddlers modified on different dates:

&lt;&lt;BarChart SpaceActivityData width:400 height:300&gt;&gt;
using [[SpaceActivityData]]

This uses the wonderful [[g.raphael|http://github.com/DmitryBaranovskiy/g.raphael]] made by Dmitry Baranovskiy.
I first blogged about this in the blog post [[TiddlyCharts|http://jonrobson.me.uk/posts/TiddlyCharts]]</pre>
</div>
<div title="TiddlyFileImportr" modifier="Christopher Wilson" created="201404121259" modified="201404121507" tags="systemConfig excludeTimeline" changecount="3" content-type="application/json">
<pre>/***
|''Name''|TiddlyFileImportr|
|''Version''|0.2.7|
|''Status''|experimental|
|''Source''|https://github.com/jdlrobson/TiddlyWikiPlugins/tree/master/apps/fileimport|
|''Latest''|http://repository.tiddlyspace.com/TiddlyFileImportr|
|''Description''|This plugin updates the import command in the backstage section|
***/
//{{{
var ImportWizard, WizardMaker;

(function($) {
window.WizardMaker = function(place, wizard) {
	var steps = wizard[0];
	var options = wizard[1] || {};
	$(&quot;&lt;h1 /&gt;&quot;).text(options.heading || &quot;Wizard&quot;).appendTo(place);
	var wizard = this;
	$('&lt;button class=&quot;button&quot;&gt;restart wizard&lt;/button&gt;').click(function(ev) {
		wizard.jumpTo(0);
		}).appendTo(place)[0];
	this.currentStep = 0;
	this.body = $('&lt;div class=&quot;wizardBody&quot;/&gt;').appendTo(place)[0];
	this.steps = steps;
	this.values = {};
	this.createStep(0);
};

WizardMaker.prototype = {
	/*
	OPTIONS
	step: [function, options]
	*/
	createStep: function(stepNumber) {
		$(this.body).empty();
		var step = this.steps[stepNumber];
		if(!step) {
			throw &quot;invalid step (&quot; + stepNumber + &quot;)&quot;
		}
		var options = step[1] || {};
		var humanStep = stepNumber + 1;
		var heading = &quot;Step &quot; + humanStep;
		if(options.heading) {
			heading += &quot;: &quot; + options.heading;
		}
		$(&quot;&lt;h2 /&gt;&quot;).text(heading).appendTo(this.body);
		var container = $('&lt;div class=&quot;wizardStep&quot; /&gt;').appendTo(this.body)[0];
		step[0](container, this);
	},
	next: function() {
		if(this.currentStep &lt; this.steps.length - 1) {
			this.currentStep += 1;
		}
		this.createStep(this.currentStep);
	},
	jumpTo: function(step) {
		this.currentStep = step;
		this.createStep(step);
	},
	setValue: function(name, val) {
		this.values[name] = val;
	},
	getValue: function(name) {
		return this.values[name];
	}
};

if(window.FileReader) {
	window.ImportWizard = function(options) {
		var proxy = options.proxy, saveFunction = options.save,
			internalizeTiddler = options.internalizeTiddler, proxyType = options.proxyType || &quot;GET&quot;;
		return [
			[
				[function(body, wizard) {
					$(body).html('Where do you want to import from? &lt;select&gt;&lt;option value=&quot;1&quot;&gt;file&lt;/option&gt;&lt;option value=&quot;2&quot;&gt;the web&lt;/option&gt;&lt;/select&gt;&lt;button class=&quot;button&quot;&gt;ok&lt;/button&gt;');
					$(&quot;button&quot;, body).click(function(ev) {
						var opt = $(&quot;select&quot;, body).val();
						if(opt === &quot;1&quot;) {
							wizard.next();
						} else {
							wizard.jumpTo(2);
						}
					});
				},
				{ heading: &quot;File or Web?&quot; }],
				[function(body, wizard) {
					$(body).html('Browse for a file: &lt;input type=&quot;file&quot; size=&quot;50&quot; name=&quot;txtBrowse&quot;&gt;&lt;br&gt;&lt;hr&gt;&lt;div class=&quot;wizardFooter&quot;&gt;&lt;div class=&quot;message&quot;&gt;&lt;/div&gt;&lt;/div&gt;');
					function handleFileSelect(evt) {
						reader = new FileReader();
						reader.onerror = function(e, msg) {
							alert(&quot;Error occurred&quot;)
						};
						reader.onabort = function(e) {
							alert('File read cancelled');
						};
						reader.onload = function(e) {
							var html = reader.result;
							wizard.setValue(&quot;html&quot;, html);
							wizard.jumpTo(3)
						}
						// Read in the image file as a binary string.
						window.reader = reader;
						reader.readAsText(evt.target.files[0]);
					}
					$(&quot;[type=file]&quot;, body)[0].addEventListener('change', handleFileSelect, false);
				}, { heading: &quot;Locate TiddlyWiki file&quot; }],
				[function(body, wizard) {
					$(body).html('Enter the URL or pathname here: &lt;div class=&quot;message&quot;&gt;&lt;/div&gt;&lt;input type=&quot;text&quot; size=&quot;50&quot; name=&quot;txtPath&quot;&gt;&lt;button class=&quot;button&quot;&gt;open&lt;/button&gt;');

					$(&quot;button&quot;, body).click(function(ev) {
						var url = proxy.replace(&quot;%0&quot;, $(&quot;input&quot;, body).val())
						ajaxReq({
							type: options.proxyType,
							url: url,
							success: function(html) {
								wizard.setValue(&quot;html&quot;, html);
								wizard.jumpTo(3);
							},
							error: function() {
								$(&quot;.message&quot;).html(&quot;There is something wrong with that url please try another.&quot;);
								$(&quot;input&quot;, body).addClass(&quot;error&quot;);
							}
						})
					})
				},
				{ heading: &quot;Import from Web&quot; }],
				[function(body, wizard) {
					var html = wizard.getValue(&quot;html&quot;);
					var doc = $(html);
					var store;
					$(html).each(function(i, el) {
						if(el.id === &quot;storeArea&quot;) {
							store = el;
						}
					});
					if(store) {
						var tiddlers = [];
						$(store).children().each(function(i, el) {
							var title = $(el).attr(&quot;title&quot;);
							tiddlers.push(internalizeTiddler(el));
						});
						$(&quot;&lt;div /&gt;&quot;).text(&quot;Choose tiddlers that you wish to import&quot;);
						var table = $(&quot;&lt;table /&gt;&quot;).appendTo(body)[0];
						$(&quot;&lt;tr /&gt;&quot;).html('&lt;th&gt;&lt;input type=&quot;checkbox&quot; checked/&gt;&lt;/th&gt;&lt;th&gt;title&lt;/th&gt;').
							appendTo(table)
						$(&quot;input&quot;, table).change(function(ev) {
							var checked = $(ev.target).is(':checked');
							$(&quot;input[type=checkbox]&quot;, body).attr(&quot;checked&quot;, checked);
						});
						for(var i = 0; i &lt; tiddlers.length; i++) {
							var title = tiddlers[i].title;
							var row = $(&quot;&lt;tr /&gt;&quot;).data(&quot;tiddler&quot;, tiddlers[i]).appendTo(table)[0];
							$(&quot;&lt;td /&gt;&quot;).html('&lt;input type=&quot;checkbox&quot; checked=&quot;checked&quot;/&gt;').appendTo(row);
							$(&quot;&lt;td /&gt;&quot;).text(title).appendTo(row);
						}
						$('&lt;button class=&quot;button&quot;&gt;import all selected tiddlers&lt;/button&gt;').click(function(ev) {
							var tids = [];
							$(&quot;input[type=checkbox]:checked&quot;).each(function(i, chk) {
								var tiddler = $(chk).parents(&quot;tr&quot;).data(&quot;tiddler&quot;);
								if(tiddler) {
									tids.push(tiddler);
								}
							});
							wizard.setValue(&quot;selected&quot;, tids);
							wizard.jumpTo(4)
						}).prependTo(body);
					}
				},
				{ heading: &quot;Choose tiddlers&quot; }],
				[function(body, wizard) {
					var tids = wizard.getValue(&quot;selected&quot;);
					$(body).text(&quot;Please wait&quot;);
					// do import
					var save = 0;
					var complete = function() {
						save += 1;
						if(save === tids.length) {
							wizard.jumpTo(5);
						}
					};
					$(body).text(&quot;Please wait (Importing &quot; + tids.length + &quot; tiddlers)&quot;);
					for(var i = 0; i &lt; tids.length; i++) {
						var tid = tids[i];
						$(body).text(&quot;Please wait (Importing &quot; + tid.title + &quot;)&quot;);
						saveFunction(tid, complete);
					}
				},
				{ heading: &quot;Importing&quot; }],
				[function(body, wizard) {
					$(body).html(&quot;Good news! Everything is now imported.&quot;);
				},
				{ heading: &quot;Finished!&quot; }]
			],
			{
				heading: &quot;Import tiddlers from another file or server&quot;
			}
		];
	}
} else {
  $(&quot;#container&quot;).addClass(&quot;error&quot;).text(&quot;Your browser is not modern enough to support this app.&quot;);
}

})(jQuery);
(function($) {

if(window.ImportWizard) {
	var proxy = &quot;%0&quot;, proxyType = &quot;GET&quot;;
	if(config.extensions.tiddlyspace) {
		proxy = &quot;/reflector?uri=%0&quot;;
		proxyType: &quot;POST&quot;;
	}
	var loader = new TW21Loader();
	var internalizer = function(node) {
		var title = $(node).attr(&quot;title&quot;);
		var tiddler = new Tiddler(title);
		loader.internalizeTiddler(store, tiddler, title, node);
		return tiddler;
	};

	var importer = ImportWizard({proxy:&quot;%0&quot;, save: function(tid, callback) {
		merge(tid.fields, config.defaultCustomFields);
		delete tid.fields[&quot;server.page.revision&quot;];
		delete tid.fields[&quot;server.etag&quot;];
		tid = store.saveTiddler(tid.title, tid.title, tid.text,
			tid.modifier, tid.modified, tid.tags, tid.fields, null, tid.created, tid.creator);
		autoSaveChanges(null, [tid]);
		callback();
	}, internalizeTiddler: internalizer, proxyType: proxyType });

	config.macros.importTiddlers = {
		handler: function(place) {
			var container = $(&quot;&lt;div /&gt;&quot;).appendTo(place)[0];
			new WizardMaker(container, importer);
		}
	};
} else if(config.macros.importTiddlers) {
	var _import = config.macros.importTiddlers.handler;
	config.macros.importTiddlers.handler = function(place) {
		_import.apply(this, arguments);
		jQuery(&quot;&lt;div class='annotation error' /&gt;&quot;).text(&quot;Please upgrade your browser to take advantage of the modernised file import mechanism of the TiddlyFileImportr plugin.&quot;).prependTo(place);
	};
}

})(jQuery);
//}}}</pre>
</div>
<div title="Time-Dependent Perturbation Theory" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405032147" modified="201405040524" tags="QuantumMechanics" changecount="14" content-type="" alias="">
<pre>{{sectionTOC{}}}
!!Overview
Consider Hamiltonian's described as $\hat{H}(t) = \hat{H}_0 + \hat{V}(t)$, where $\hat{H}_0$ is the time-independent part, and $\hat{V}(t)$ is the time-dependent part.  Also, let $\hat{V}(t)$ be weak, such that $\hat{V}(t)\ll \hat{H}_0$, and let $\bigl|\psi_i\bigr&gt;, \bigl|\psi_f\bigr&gt;$ describe the initial and final unperturbed eigenstates of $\hat{H}_0$, respectively.

By substituting the relationship for time-evolution into the [[Interaction Picture]],  we get the relation for the time-evolution of the system as $$\hat{U}_I = 1 - \frac{i}{\hbar}\int_{t_i}^{t}\hat{U}(t',t_i)\hat{V}_I(t')\,dt'\,.\tag{$\star$}$$
The purpose of time-dependent perturbation theory is to provide approximate solutions to this equation.

By assuming $\hat{V}_I(t)$ to be small, we may iteratively give approximate solutions of order $n$, denoted as $\hat{U}^{(n)}_I$, by inserting the expression for $\hat{U}^{(n-1)}_I$ into $(\star)$.  Define the zeroeth order solution by $\hat{U}^{(0)}_I \equiv 1.$  Then,
\begin{align}
\hat{U}^{(1)}_I &amp;= 1 - \frac{i}{\hbar}\int_{t_i}^t \hat{V}_I(t_1)\,dt_1\\
\hat{U}^{(2)}_I &amp;= 1 - \frac{i}{\hbar}\int_{t_i}^t \hat{V}_I(t_1)\,dt_1+\biggl(\frac{i}{\hbar}\biggr)^2\int_{t_i}^t \hat{V}_I(t_1)\,dt_1\int_{t_i}^{t_1} \hat{V}_I(t_2)\,dt_2\\
\vdots\\
\hat{U}^{(n)}_I &amp;= 1 - \frac{i}{\hbar}\int_{t_i}^t \hat{V}_I(t_1)\,dt_1+\biggl(\frac{i}{\hbar}\biggr)^2\int_{t_i}^t \hat{V}_I(t_1)\,dt_1\int_{t_i}^{t_1} \hat{V}_I(t_2)\,dt_2 + \cdots \\
&amp;+  \biggl(\frac{i}{\hbar}\biggr)^n\int_{t_i}^t \hat{V}_I(t_1)\,dt_1\int_{t_i}^{t_1} \hat{V}_I(t_2)\,dt_2\cdots\int_{t_i}^{t_{n-1}} \hat{V}_I(t_n)\,dt_n
\end{align}

This series is referred to as the [[Dyson Series]].

!![[Transition Probability]]
&lt;&lt;tiddler [[Transition Probability]]&gt;&gt;

!![[Transition Rate]]
&lt;&lt;tiddler [[Transition Rate]]&gt;&gt;

!![[Constant Perturbation]]
&lt;&lt;tiddler [[Constant Perturbation]]&gt;&gt;

!![[Fermi's Golden Rule]]
&lt;&lt;tiddler [[Fermi's Golden Rule]]&gt;&gt;

!![[Harmonic Perturbation]]
&lt;&lt;tiddler [[Harmonic Perturbation]]&gt;&gt;

!![[Classical Radiation Interaction|Classical Electron-Radiation Interaction]]
&lt;&lt;tiddler [[Classical Electron-Radiation Interaction]]&gt;&gt;

&lt;&lt;sectionTOC&gt;&gt;</pre>
</div>
<div title="ToDo" modifier="Christopher Wilson" created="201305272036" modified="201405040442" tags="excludeTimeline Reference" alias="" changecount="22" content-type="text/x-tiddlywiki">
<pre>!!Configuration Changes
*--The ~MathJax script needs to be locally installed on the website server--, and made available for easy downloading.  This way a user may download the notebook and view the content offline.
*Looking for some sort of online publishing or easy access notebook updating feature, so that I can edit and save notebook features without having to log in through the web server.
*Add viewing/editing modes.
*[[CoreTweaks]] messes up MathJax functionality, specifically, line breaks in arrays.
*Fix the bibtex plugin to automatically recognize tiddlers ending with .bib in the title.
*Fix CSS for lists and the indent command {{{:}}}.
*Need to eventually make different notebooks for different subjects/projects, so that scalability does not become an issue.
*Show dropdown list of tags using a button, and hide tagglytagging display style.  (Make tags less visible).
*Add macro to automatically add a table of contents to tiddlers tagged with TOC?
*Deep custoizations http://ambit.tiddlyspace.com/.
*Local editing mode using javascript {{{window.location.protocol}}}

!!Graphical
*Upload common icons as 64bit svg images.
*Noise background.
*Reintegrate themes.
*Change theme to be more like updated TW5.  
*Nice wiki theme used here [[http://www.scholarpedia.org|http://www.scholarpedia.org/article/Ising_model:_exact_results#Partition_Function_and_Specific_Heat]]
*Add +/- boxes to the Contents Menu.

!!Plugins
*Reintegrate KeepRevisions; give revision titles dates instead of numbers or switch plugin.
*Info slider at top of each tiddler, similar to Ambit but more discrete.
*RedirectsMacro - only redirect one word per tiddler (don't need to create 10+ links for one word on a single page).
*Fix refresh method for tabOpen; it's currently very sloppy.</pre>
</div>
<div title="ToggleRightSidebar" modifier="Christopher Wilson" created="201404120901" modified="201404120920" tags="excludeTimeline" content-type="text/x-tiddlywiki">
<pre>/%
!info
|Name|ToggleRightSidebar|
|Source|http://www.TiddlyTools.com/#ToggleRightSidebar|
|Version|2.0.0|
|Author|Eric Shulman|
|License|http://www.TiddlyTools.com/#LegalStatements|
|~CoreVersion|2.1|
|Type|transclusion|
|Description|show/hide right sidebar (SideBarOptions)|
Usage
&lt;&lt;&lt;
{{{
&lt;&lt;tiddler ToggleRightSidebar&gt;&gt;
&lt;&lt;tiddler ToggleRightSidebar with: label tooltip&gt;&gt;
}}}
Try it: &lt;&lt;tiddler ToggleRightSidebar##show
	with: {{config.options.chkShowRightSidebar?'':''}}&gt;&gt;
&lt;&lt;&lt;
Configuration:
&lt;&lt;&lt;
copy/paste the following settings into a tiddler tagged with &lt;&lt;tag systemConfig&gt;&gt; ([[MptwUserConfigPlugin]]) and then modify the values to suit your preferences:
{{{
config.options.chkShowRightSidebar=true;
config.options.txtToggleRightSideBarLabelShow=&quot;&quot;;
config.options.txtToggleRightSideBarLabelHide=&quot;&quot;;
}}}
&lt;&lt;&lt;
!end
!show
&lt;&lt;tiddler {{
	var co=config.options;
	if (co.chkShowRightSidebar===undefined) co.chkShowRightSidebar=true;
	var sb=document.getElementById('sidebar');
	var da=document.getElementById('displayArea');
	if (sb) {
		sb.style.display=co.chkShowRightSidebar?'block':'none';
		da.style.marginRight=co.chkShowRightSidebar?'':'1em';
	}
'';}}&gt;&gt;&lt;html&gt;&lt;nowiki&gt;&lt;a href='javascript:;' title=&quot;$2&quot;
onmouseover=&quot;
	this.href='javascript:void(eval(decodeURIComponent(%22(function(){try{('
	+encodeURIComponent(encodeURIComponent(this.onclick))
	+')()}catch(e){alert(e.description?e.description:e.toString())}})()%22)))';&quot;
onclick=&quot;
	var co=config.options;
	var opt='chkShowRightSidebar';
	var show=co[opt]=!co[opt];
	var sb=document.getElementById('sidebar');
	var da=document.getElementById('displayArea');
	if (sb) {
		sb.style.display=show?'block':'none';
		da.style.marginRight=show?'':'1em';
	}
	saveOptionCookie(opt);
	var labelShow=co.txtToggleRightSideBarLabelShow||'&amp;#x25C4;';
	var labelHide=co.txtToggleRightSideBarLabelHide||'&amp;#x25BA;';
	if (this.innerHTML==labelShow||this.innerHTML==labelHide) 
		this.innerHTML=show?labelHide:labelShow;
	this.title=(show?'hide':'show')+' right sidebar';
	var sm=document.getElementById('storyMenu');
	if (sm) config.refreshers.content(sm);
	return false;
&quot;&gt;$1&lt;/a&gt;&lt;/html&gt;
!end
%/&lt;&lt;tiddler {{
	var src='ToggleRightSidebar';
	src+(tiddler&amp;&amp;tiddler.title==src?'##info':'##show');
}} with: {{
	var co=config.options;
	var labelShow=co.txtToggleRightSideBarLabelShow||'&amp;#x25C4;';
	var labelHide=co.txtToggleRightSideBarLabelHide||'&amp;#x25BA;';
	'$1'!='$'+'1'?'$1':(co.chkShowRightSidebar?labelHide:labelShow);
}} {{
	var tip=(config.options.chkShowRightSidebar?'hide':'show')+' right sidebar';
	'$2'!='$'+'2'?'$2':tip;
}}&gt;&gt;</pre>
</div>
<div title="ToggleTagPlugin" modifier="Christopher Wilson" created="201106271026" modified="201305222317" tags="systemConfig excludeTimeline" changecount="1">
<pre>/***
|Name:|ToggleTagPlugin|
|Description:|Makes a checkbox which toggles a tag in a tiddler|
|Version:|3.1.0a|
|Date:|27-Jun-2011|
|Source:|http://mptw.tiddlyspot.com/#ToggleTagPlugin|
|Author:|Simon Baird &lt;simon.baird@gmail.com&gt;|
|License:|http://mptw.tiddlyspot.com/#TheBSDLicense|
!!Usage
{{{&lt;&lt;toggleTag }}}//{{{TagName TiddlerName LabelText}}}//{{{&gt;&gt;}}}
* TagName - the tag to be toggled, default value &quot;checked&quot;
* TiddlerName - the tiddler to toggle the tag in, default value the current tiddler
* LabelText - the text (gets wikified) to put next to the check box, default value is '{{{[[TagName]]}}}' or '{{{[[TagName]] [[TiddlerName]]}}}'
(If a parameter is '.' then the default will be used)
* TouchMod flag - if non empty then touch the tiddlers mod date. Note, can set config.toggleTagAlwaysTouchModDate to always touch mod date
!!Examples
|Code|Description|Example|h
|{{{&lt;&lt;toggleTag&gt;&gt;}}}|Toggles the default tag (checked) in this tiddler|&lt;&lt;toggleTag&gt;&gt;|
|{{{&lt;&lt;toggleTag TagName&gt;&gt;}}}|Toggles the TagName tag in this tiddler|&lt;&lt;toggleTag TagName&gt;&gt;|
|{{{&lt;&lt;toggleTag TagName TiddlerName&gt;&gt;}}}|Toggles the TagName tag in the TiddlerName tiddler|&lt;&lt;toggleTag TagName TiddlerName&gt;&gt;|
|{{{&lt;&lt;toggleTag TagName TiddlerName 'click me'&gt;&gt;}}}|Same but with custom label|&lt;&lt;toggleTag TagName TiddlerName 'click me'&gt;&gt;|
|{{{&lt;&lt;toggleTag . . 'click me'&gt;&gt;}}}|dot means use default value|&lt;&lt;toggleTag . . 'click me'&gt;&gt;|
!!Notes
* If TiddlerName doesn't exist it will be silently created
* Set label to '-' to specify no label
* See also http://mgtd-alpha.tiddlyspot.com/#ToggleTag2
!!Known issues
* Doesn't smoothly handle the case where you toggle a tag in a tiddler that is current open for editing
* Should convert to use named params
***/
//{{{

if (config.toggleTagAlwaysTouchModDate == undefined) config.toggleTagAlwaysTouchModDate = false;

merge(config.macros,{

  toggleTag: {

    createIfRequired: true,
    shortLabel: &quot;[[%0]]&quot;,
    longLabel: &quot;[[%0]] [[%1]]&quot;,

    handler: function(place,macroName,params,wikifier,paramString,tiddler) {
      var tiddlerTitle = tiddler ? tiddler.title : '';
      var tag   = (params[0] &amp;&amp; params[0] != '.') ? params[0] : &quot;checked&quot;;
      var title = (params[1] &amp;&amp; params[1] != '.') ? params[1] : tiddlerTitle;
      var defaultLabel = (title == tiddlerTitle ? this.shortLabel : this.longLabel);
      var label = (params[2] &amp;&amp; params[2] != '.') ? params[2] : defaultLabel;
      var touchMod = (params[3] &amp;&amp; params[3] != '.') ? params[3] : &quot;&quot;;
      label = (label == '-' ? '' : label); // dash means no label
      var theTiddler = (title == tiddlerTitle ? tiddler : store.getTiddler(title));
      var cb = createTiddlyCheckbox(place, label.format([tag,title]), theTiddler &amp;&amp; theTiddler.isTagged(tag), function(e) {
        if (!store.tiddlerExists(title)) {
          if (config.macros.toggleTag.createIfRequired) {
            var content = store.getTiddlerText(title); // just in case it's a shadow
            store.saveTiddler(title,title,content?content:&quot;&quot;,config.options.txtUserName,new Date(),null);
          }
          else
            return false;
        }
        if ((touchMod != &quot;&quot; || config.toggleTagAlwaysTouchModDate) &amp;&amp; theTiddler)
            theTiddler.modified = new Date();
        store.setTiddlerTag(title,this.checked,tag);
        return true;
      });
    }
  }
});

//}}}

</pre>
</div>
<div title="ToolbarCommands" modifier="Christopher Wilson" created="201402240702" modified="201404140246" tags="excludeTimeline" changecount="2" content-type="">
<pre>/% original code
|~ViewToolbar|closeTiddler closeOthers +editTiddler revisions &gt; fields syncing permalink references jump|
|~EditToolbar|+saveTiddler -cancelTiddler deleteTiddler|

|~ViewToolbar|closeTiddler editTiddler &gt; fields syncing jump|
|~EditToolbar|+saveTiddler -cancelTiddler deleteTiddler|%/
</pre>
</div>
<div title="Topological Censorship Theorem" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405060443" modified="201405100758" tags="[[Topology Paper]]" changecount="24" content-type="text/x-tiddlywiki">
<pre>!!General Statement
An observer cannot probe the topology of spacetime; any topological structure collapses too quickly to allow light to transverse.

//Roughly:// The coplete gravitational collapse of a body will always result in a black hole rather than a naked singularity; the singularity is hidden such that distance observers cannot see them.

!!Theorem
In a [[Globally Hyperbolic]], [[Asymptotically Flat Spacetime]] satisifying the [[Null Energy Condition]], every [[Casual Curve]] from $\mathcal{J}^-$ to  $\mathcal{J}^+$ is [[Homotopic|Homotopy]] to a topologically trivial curve from $\mathcal{J}^-$ to $\mathcal{J}^+$.
*$\mathcal{J}^-$ and $\mathcal{J}^+$ are the past and future null infinity, respectively.

!!Notes
*This is a consequence of the [[Cosmic Censorship Theorem]] by Penrose.
*The [[Hawking-Penrose Theorem]] shows that a singularity in spacetime is (essentially) always sheilded by an event horizon.  The counter-example cases always result in an unstable system that results in an event horizon (?).  In other words, spacetime is geodesically incomplete.
*The //Topological Censorship Theorem// states that outsize all event horizons, topology anomalies are only permitted at the Planck scale, and they cannot grow to macroscopic size and persist for macroscopically long times.
*//``Then Mr Einstein it seems that Mr Hawking was right, God not just play to dice but sometimes he throw them where we cannot seen them.\'\'// Quote by [[J.Benavides|http://web.math.unifi.it/users/navarro/Web_Page_JohnBenavides/J.B..html]].</pre>
</div>
<div title="Topological Group" modifier="Christopher Wilson" created="201404110705" modified="201404110746" tags="Topology Algebra">
<pre>!!Definition
A ''//topological group//'' $G$ is a group that is also a topological space satisfying the $T_1$ [[separation axiom|separation axioms]], such that the map of $G \times G$ into $G$ sending $x\times y$ into $x\cdot y$, and the map of $G$ into $G$ sending $x$ into $x^{-1}$, are [[continuous maps]].

!!Notes
*The [[quotient topology]] gets its name from the special case that arises when one forms the quotient of a ''//topological group//'' by a [[subgroup]].
*For every pair $x,y$ of points of $G$, there exists a [[homeomorphism]] of $G$ onto itself that carries $x$ to $y$.</pre>
</div>
<div title="Topology" modifier="Christopher Wilson" created="201402272203" modified="201403312309">
<pre></pre>
</div>
<div title="Topology (definition)" modifier="Christopher Wilson" created="201403312311" modified="201404092153" tags="Topology">
<pre>!!Definition
//A ''//Topology//'' on a set $X$ is a collection $\mathcal{T}$ of subsets of $X$ having the following properties:
# $\varnothing$ and $X$ are in $\mathcal{T}$.
#The union of elements of any subcollection of $\mathcal{T}$ is in $\mathcal{T}$.
#The intersection of the elements of any finite subcollection of $\mathcal{T}$ is in $\mathcal{T}$.
//
A set $X$ for which a topology $\mathcal{T}$ has been specified is called a ''//topological space//''.

If $X$ is a topological space with topology $\mathcal{T}$, we say that a subset $U$ of $X$ is an ''//open set//'' of $X$ if $U$ belongs to the collection $\mathcal{T}$.  With this, we can refer to a topological space as a set $X$ together with a collection $\mathcal{T}$ of subsets of $X$, called ''//open sets//'', such that $\varnothing$ and $X$ are both open, and such that arbitrary unions and finite intersections of open sets are open.&lt;&lt;bibtex munkres2000topology&gt;&gt;

!!References</pre>
</div>
<div title="Topology Paper" modifier="Christopher Wilson" created="201404090111" modified="201405060655" tags="Topology Reference" changecount="4" content-type="text/x-tiddlywiki">
<pre>!!General Notes
*Every three-manifold occurs as the spatial topology of a solution of the [[Einstein Equations]], so why are such topological structures not part of our everyday experience?  $\Rightarrow$ [[Gannon Singularity Theorem]].</pre>
</div>
<div title="TopologyPaper.bib" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405060512" modified="201405061224" tags="bib excludeTimeline" changecount="7" content-type="text/x-tiddlywiki">
<pre>@book{hawking1979general,
  title={General Relativity: An Einstein Centenary Survey},
  author={Hawking, S.W. and Israel, W.},
  isbn={9780521222853},
  lccn={78062712},
  url={http://books.google.com/books?id=pxA4AAAAIAAJ},
  year={1979},
  publisher={Cambridge University Press}
}
@article{Penrose:1969pc,
      author         = {Penrose, R.},
      title          = {Gravitational collapse: The role of general relativity},
      journal        = {Riv.Nuovo Cim.},
      volume         = {1},
      pages          = {252-276},
      year           = {1969}
}
@article{Gannon1975,
   author = {Gannon, Dennis},
   title = {Singularities in nonsimply connected spacetimes},
   journal = {Journal of Mathematical Physics},
   year = {1975},
   volume = {16},
   number = {12}, 
   pages = {2364-2367},
   url = {http://scitation.aip.org/content/aip/journal/jmp/16/12/10.1063/1.522498},
   doi = {http://dx.doi.org/10.1063/1.522498}
}
@article{Hawking27011970,
author = {Hawking, S. W. and Penrose, R.}, 
title = {The Singularities of Gravitational Collapse and Cosmology},
volume = {314}, 
number = {1519}, 
pages = {529-548}, 
year = {1970}, 
doi = {10.1098/rspa.1970.0021}, 
URL = {http://rspa.royalsocietypublishing.org/content/314/1519/529.abstract}, 
eprint = {http://rspa.royalsocietypublishing.org/content/314/1519/529.full.pdf+html}, 
journal = {Proceedings of the Royal Society of London. A. Mathematical and Physical Sciences} 
}
@article{PhysRevLett.71.1486,
  title = {Topological censorship},
  author = {Friedman, John L. and Schleich, Kristin and Witt, Donald M.},
  journal = {Phys. Rev. Lett.},
  volume = {71},
  issue = {10},
  pages = {1486-1489},
  numpages = {0},
  year = {1993},
  month = {Sep},
  publisher = {American Physical Society},
  doi = {10.1103/PhysRevLett.71.1486},
  url = {http://link.aps.org/doi/10.1103/PhysRevLett.71.1486}
}
@book{munkres2000topology,
  title={Topology},
  author={Munkres, J.R.},
  isbn={9780131784499},
  lccn={99052942},
  series={Topology},
  url={http://books.google.com/books?id=NnCjQgAACAAJ},
  year={2000},
  publisher={Prentice Hall, Incorporated}
}
@book{frolov2011introduction,
  title={Introduction to Black Hole Physics},
  author={Frolov, V.P. and Zelnikov, A.},
  isbn={9780199692293},
  lccn={2011030637},
  url={http://books.google.com/books?id=r\_l5AK9DdXsC},
  year={2011},
  publisher={OUP Oxford}
}
@book{hawking1973large,
  title={The Large Scale Structure of Space-Time},
  author={Hawking, S.W. and Ellis, G.F.R.},
  isbn={9780521099066},
  lccn={72093671},
  series={Cambridge Monographs on Mathematical Physics},
  url={http://books.google.com/books?id=QagG\_KI7Ll8C},
  year={1973},
  publisher={Cambridge University Press}
}
@article{gannon1976,
year={1976},
issn={0001-7701},
journal={General Relativity and Gravitation},
volume={7},
number={2},
doi={10.1007/BF00763437},
title={On the topology of spacelike hypersurfaces, singularities, and black holes},
url={http://dx.doi.org/10.1007/BF00763437},
publisher={Kluwer Academic Publishers-Plenum Publishers},
author={Gannon, Dennis},
pages={219-232},
language={English}
}
</pre>
</div>
<div title="Total Energy" modifier="Christopher Wilson" created="201402230156" modified="201402231610" tags="[[PGRE specialRelativity]] [[PGRE Review]]">
<pre>The total relativistic energy of a particle can be expressed in the equivalent forms, 
$$ E = \gamma mc^2 = \sqrt{(cp)^2 + (mc^2)^2}.$$
In the case that $p =0$, the rest energy $E_0$ is given by 
$$ E_0 = mc^2.$$
+++!!!![Show Derivation]&gt;
We can show this by noting that
$$ (cp)^2 = (\gamma m v c)^2 = \frac{  v^2(mc^2)^2}{c^2 - v^2}.$$
Then,
$$ E = \sqrt{(cp)^2 + (mc^2)^2} = mc^2\sqrt{\frac{v^2}{c^2 - v^2} +1 } = mc^2\sqrt{\frac{c^2}{c^2 - v^2} } = \gamma m c^2$$.
===</pre>
</div>
<div title="Transition Map" modifier="Christopher Wilson" created="201404092122" modified="201404120546" tags="Topology" content-type="text/x-tiddlywiki">
<pre>!!Definition
Suppose that $(O_\alpha,\varphi_\alpha)$ and $(O_\beta,\varphi_\beta)$ are two [[charts|Chart]] for a [[manifold|Manifold]] $M^n$ such that $O_\alpha \cap O_\beta$ is non-empty.  The ''//transition map//'' $$\tau_{\alpha,\beta} : \varphi_\alpha(O_\alpha \cap O_\beta) \rightarrow \varphi_\beta(O_\alpha \cap O_\beta)$$ is the map defined by $\tau_{\alpha,\beta} = \varphi_\beta \circ \varphi_\alpha^{-1}$

!!Discussion
In other words, a ''//transition map//'' $\tau_{\alpha,\beta} = \varphi_\beta \circ \varphi_\alpha^{-1}$ describes the transition from one coordinate system ([[chart|Chart]]) to another coordinate system.  If $x^\mu$ are $n$-numbers labelling points in $U_\alpha$, and $x^{\tilde{\mu}}$ are $n$-numbers labelling points in $U_\beta$, then the transition from one system to another is given by functions of the form $x^{\tilde{\mu}} = x^{\tilde{\mu}}(x^\mu)$.</pre>
</div>
<div title="Transition Probability" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405032207" modified="201405032333" changecount="12" content-type="text/x-tiddlywiki" alias="">
<pre>The //transition probability// from an initial to final unperturbed state $\Bigl(\bigl|\psi_i\bigr&gt; \rightarrow \bigl|\psi_f\bigr&gt;\Bigr)$ is given by
$$\mathcal{P}_{if}(t) = \biggl|\bigl&lt;\psi_f\bigr|\hat{U}_I(t,t_i)\bigr|\psi_i\bigr&gt;\biggr|^2.$$
For $i\neq f$, the first-order transition probability is 
$$ \mathcal{P}_{if}^{(1)} = \frac{1}{\hbar^2}\Biggl|\int_{t_i}^t \exp({i \omega_{fi} t_1})\bigl&lt;\psi_f\bigr|V(t_1)\bigr|\psi_i\bigr&gt;\,dt_1\Biggr|^2.$$
where $\omega_{fi} \equiv \frac{1}{\hbar}(E_f - E_i)$ is the [[Transition Frequency]] between initial and final states.
</pre>
</div>
<div title="Transition Rate" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405032210" modified="201405032256" changecount="16" content-type="text/x-tiddlywiki" alias="">
<pre>The transition rate of a state due to a [[constant perturbation]] is defined as the [[transition probability]] per unit time, 
$$\Gamma_{if} = \frac{\mathcal{P}_{if}}{t} = \frac{2\pi}{\hbar}\delta(E_f - E_i)\Bigl|\bigl&lt;\psi_f\bigl|V\bigl|\psi_i\bigr&gt;\Bigr|^2,\qquad (t\gg 1).$$
*In the large $t$ limit, the transition rate is non-vanishing only between states of equal energy.
*A constant perturbation does not change the energy of the system, it only causes energy conserving transitions.
*A transition into a continuum of states under a constant perturbation gives the expression for [[Fermi's golden rule]].
</pre>
</div>
<div title="Trapped Null Surface" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405061120" tags="[[Topology Paper]]" changecount="1" content-type="text/x-tiddlywiki">
<pre>!!Definition
A //''trapped null surface''// is a set of points defined in the context of general relativity as a closed surface on which outward-pointing light rays are actually moving inwards.

In other words, light within a black hole is behind a trapped null surface.</pre>
</div>
<div title="Trivial Topology" modifier="Christopher Wilson" created="201403312113" modified="201404082209" tags="[[Common Topologies]]" changecount="1" content-type="">
<pre>!!Definition
Also known as the ''//indiscrete topology//'', the ''//trivial topology//'' is the smallest topology on a set $X$, namely the one in which the only open sets are the empty set and the entire set $X$.  These are also the only closed sets.&lt;&lt;bibtex 2014trivialtopology&gt;&gt;  This is in contrast to the [[discrete topology|Discrete Topology]], which is the largest topology on a set $X$.
</pre>
</div>
<div title="TwHelpSearchPlugin" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405080558" modified="201405081108" tags="systemConfig excludeTimeline" changecount="13" content-type="text/x-tiddlywiki">
<pre>/***
|Name|TwHelpSearchPlugin|
|Source|http://twhelp.tiddlyspot.com/#TwHelpSearchPlugin|
|Documentation|http://twhelp.tiddlyspot.com/#TWHelpSearchDoc|
|Version|1.0.8|
|Author|Morris Gray|
|License|http://www.TiddlyTools.com/#LegalStatements &lt;br&gt;and [[Creative Commons Attribution-ShareAlike 2.5 License|http://creativecommons.org/licenses/by-sa/2.5/]]|
|~CoreVersion|2.0 - 2.4|
|Type|plugin|
|Requires|[[SearchOptionsPlugin|http://www.TiddlyTools.com/#SearchOptionsPlugin]] [[TableSortingPlugin|http://tw.lewcid.org/#TableSortingPlugin]] (only for sorting option)|
|Overrides|SearchOptionsPlugin's search results|
|Description|Extends the search results from SearchOptionsPlugin to a sortable table showing title, size and tags.|
 ''Demo search:''
|&gt;|&gt;|&gt;|&lt;&lt;search&gt;&gt; |
|&gt;|&gt;| look for in |&gt;|&gt;|&gt;|
| &lt;&lt;option chkSearchTitles&gt;&gt; | &lt;&lt;option chkSearchText&gt;&gt; | &lt;&lt;option chkSearchTags&gt;&gt; | &lt;&lt;option chkHoldSearches&gt;&gt; |
| titles |  text  | tags | hold |

''A Plugin Tweak for:'' SearchOptionsPlugin
!!!!!Description

&lt;&lt;&lt;
This plugin defines an alternative format for the SearchResults tiddler that is generated by the SearchOptionsPlugin . It presents the search results in tabular form numbering the rows; and showing the tiddler title, the size in bytes, and the tags.  It is ready to be used with the [[TableSortingPlugin|http://tw.lewcid.org/#TableSortingPlugin]] (check versions) so any column can be sorted; such as size in ascending or descending order.
&lt;&lt;&lt;
!!!!!Installation
&lt;&lt;&lt;
Import (or copy/paste) the following tiddlers into your ~TiddlyWiki:
* http://twhelp.tiddlyspot.com/#TwHelpSearchPlugin
*SearchOptionsPlugin from http://www.tiddlytools.com/#SearchOptionsPlugin
* Get more documentation here [[TWHelpSearchDoc]] or here:
* http://twhelp.tiddlyspot.com/#TwHelpSearchDoc
&lt;&lt;&lt;
!!!!!Revision History
&lt;&lt;&lt;
''2009.02.18  [1.0.8]'' 
Added modified column.
''2009.02.18  [1.0.7]'' 
Removed text coloring of headers re: conflict with TableSortingPlugin refresh.
''2008.09.14  [1.0.6]'' 
Cosmetic - Add header.
''2007.09.12  [1.0.6]''
Added overflow scroll to TWHelp-SearchResults for long titles or tags.
''2006.02.03  [1.0.5]''
Added facility for holding the results of multiple searches with tick box on dashboard.
''2006.02.02  [1.0.4]''
Added several options, cleaned up design.Planning one version basic and one with added options this is the added options version.
''2006.01.27  [1.0.3''
Added a column for the size of the text in each tiddler, this does not include the size of the title or tags.  Added overall TW statistics button requires TiddlerStatsPlugin.
''2006.01.23 [1.0.2 ]''
''a)''Changed function reportSearchResults(text,matches) to  window.reportSearchResults=function(text,matches)
''b)''Added a line so that Incremental Search is automatically disabled config.options.chkSearchIncremental=false; turn off key-by-key searching
''c)''Removed space inside parens. bgcolor(#fe8 )&quot; to &quot;bgcolor(#fe8)&quot;.  This
is what was causing IE to 'crap out' halfway through drawing the table
headings.
''d)''Added {{{config.options.chkSearchList=true;}}}
''2006.01.20 [1.0.1]''
ELS: reportSearchResults() definition moved to this Plugin Tweak tiddler and removed extranous code
''2006.01.19 [1.0.0]''
This is an adaptation of Eric Shulman's SearchOptionsPlugin. Adapted by MorrisGray to provide search results in table form. All the necessary controls for refining the search is provided within the table including slide-down access to AdvancedOptions.
&lt;&lt;&lt;
!!!!!Code
***/

//{{{
if (config.options.chkSinglePageMode==undefined) config.options.chkSinglePageMode=false;
if (config.options.chkRegExpSearch==undefined) config.options.chkRegExpSearch=true;
if (config.options.chkSearchTitles==undefined) config.options.chkSearchTitles=false;
if (config.options.chkSearchText==undefined) config.options.chkSearchText=true;
if (config.options.chkSearchTags==undefined) config.options.chkSearchTags=false;
if (config.options.chkSearchTitlesFirst==undefined) config.options.chkSearchTitlesFirst=true;
if (config.options.chkSearchList==undefined) config.options.chkSearchList=true;
if (config.options.chkSearchIncremental==undefined) config.options.chkSearchIncremental=false;
if (config.options.chkToggleLinks==true) config.options.chkToggleLinks=false;
if (config.options.chkHoldSearches==undefined) config.options.chkHoldSearches=false;
if (config.options.chkSortTags==undefined) config.options.chkSortTags=false;

config.options.chkToggleLinks=false;
config.options.chkSinglePageMode=false;
config.options.chkHoldSearches=false;
config.options.chkSearchIncremental=false;
config.options.chkHttpReadOnly = false;
config.options.chkRegExpSearch=true;
config.options.chkSearchList=true;
config.options.chkToggleLinks=false;

config.shadowTiddlers.AdvancedOptions += &quot;\n&lt;&lt;option chkHoldSearches&gt;&gt; Hold search results&quot;;


//}}}

//{{{

// Give the report a custom name
config.macros.search.reportTitle=&quot;Search Results&quot;;

// Override default SearchOptionsPlugin formatting for SearchResults tiddler
window.reportSearchResults=function(text,matches)

{
  
        var title=config.macros.search.reportTitle
	config.macros.search.reportTitle;
      	var q = config.options.chkRegExpSearch ? &quot;/&quot; : &quot;'&quot;;
        if (!config.options.chkHoldSearches)  body=&quot;&quot;; 
      
body+=&quot;| ''&quot;+config.macros.search.successMsg.format([matches.length,q+&quot;{{{&quot;+text+&quot;}}}&quot;+q])+&quot;'' |c&quot;;
        body+=&quot;\n| !''#'' | ! ''Titles'' | !''Size'' | !''Tags'' | !''Modified'' |h&quot;;
	for(var t=0;t&lt;matches.length;t++) 
        body+=&quot;\n&quot;+&quot;| &quot;+(t+1)+&quot;|[[&quot;+matches[t].title+&quot;]]| &quot;+matches[t].text.length+&quot;|&quot;+matches[t].tags+&quot;|&quot;+matches[t].modified.formatString('YYYY.0MM.0DD')+&quot;|&quot;;
         body+=&quot;\n|sortable3|k&quot;;
         body+=&quot;\n&quot;;

	// create/update the tiddler
	var tiddler=store.getTiddler(title); if (!tiddler) tiddler=new Tiddler();
	tiddler.set(title,body,config.options.txtUserName,(new Date()),&quot;excludeLists excludeSearch excludeTimeline&quot;);
	store.addTiddler(tiddler); story.closeTiddler(title);

	// render tiddler
	var oldprompt=config.macros.search.label;
	config.macros.search.label=&quot;search again&quot;; // use alternate &quot;search again&quot; label
        story.displayTiddler(null,title,1); // force refresh
	config.macros.search.label=oldprompt;	// restore standard search label
	
	window.scrollTo(0,0);
}

	



//}}}

</pre>
</div>
<div title="Uniform Metric" modifier="Christopher Wilson" created="201404010017" modified="201404072244" tags="[[Common Metrics]]">
<pre>!!Definition
The ''//uniform metric//'' is defined on $\mathbb{R}^J$, where $J$ is an index set, and ${\bf x} = (x_\alpha)_{\alpha \in J}$, as $$\overline{\rho}({\bf x},{\bf y}) = \sup\{\overline{d}(x_\alpha, y_\alpha) : \alpha \in J\},$$ where $\overline{d}$ is the [[standard bounded metric|Standard Bounded Metric]] on $\mathbb{R}$.</pre>
</div>
<div title="Universal Covering" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405061059" modified="201405061111" tags="[[Topology Paper]] Topology" changecount="3" content-type="text/x-tiddlywiki">
<pre>A [[Covering Space|Covering Map]] is a ''//universal covering//'' if it is [[Simply Connected]].</pre>
</div>
<div title="UntaggedPlugin" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404132210" modified="201404132247" tags="systemConfig excludeTimeline" changecount="5" content-type="">
<pre>/***
|''Name''|UntaggedPlugin|
|''Author''|[[Tobias Beer|http://tobibeer.tiddlyspace.com]]|
|''Description''|provides an &quot;&quot;&quot;&lt;&lt;untagged&gt;&gt;&quot;&quot;&quot; macro&lt;br&gt;adds an untagged button to the tags tab&lt;br&gt;allows to hide (empty) tags / tagging|
|''Source''|https://raw.github.com/tobibeer/TiddlyWikiPlugins/master/plugins/UntaggedPlugin.js|
|''Documentation''|http://untagged.tiddlyspace.com|
|''Version''|1.0.8 (2013-10-08)|
|''~CoreVersion''|2.5.2|
|''License''|Creative Commons 3.0|
!Options
|!Option|!Description|!Default|h
|&lt;&lt;option chkShowUntagged&gt;&gt; ''chkShowUntagged'' |show untagged with the &quot;&quot;&quot;&lt;&lt;alltags&gt;&gt;&quot;&quot;&quot; macro, e.g. in the [[sidebar|TabTags]]|  |
|&lt;&lt;option chkShowUntaggedShadows&gt;&gt; ''chkShowUntaggedShadows'' |also list untagged shadow tiddlers|  |
|&lt;&lt;option chkHideEmptyTags&gt;&gt; ''chkHideEmptyTags'' |hide tags when empty|  |
|&lt;&lt;option chkHideEmptyTagging&gt;&gt; ''chkHideEmptyTagging'' |hide tagging when empty|  |
!Usage
{{{
&lt;&lt;untagged&gt;&gt;
}}}
&lt;&lt;untagged&gt;&gt;

{{{
&lt;&lt;untagged list&gt;&gt;
}}}
&lt;&lt;untagged list&gt;&gt;
!Code
***/
//{{{
(function ($) {

var co = config.options;

[
    'chkShowUntagged',
    'chkShowUntaggedShadows-',
    'chkHideEmptyTags',
    'chkHideEmptyTagging'
].map(function(o){
    o = o.split('-');
    if(undefined == co[o[0]]) co[o[0]] = !o[1];
})

//localisation
merge(config.views.wikified.tag,{
    untaggedButton: &quot;untagged (%0)&quot;,
    untaggedTooltip: &quot;Show untagged tiddlers...&quot;,
    untaggedListTitle: &quot;Untagged tiddlers:&quot;,
    untaggedNone: &quot;There are no untagged tiddlers...&quot;,
    openUntagged: &quot;Open '%0'&quot;
});

//shortcut
var lingo = config.views.wikified.tag;

//define get macro
var me = config.macros.untagged = {
    selectorTags: '.tagged, .tidTags, .infoTags',
    selectorTagging: '.tagging, .infoTagging',
    noTagsWhenTagged:'no-tags',
    noTaggingWhenTagged:'no-tagging',
    untaggedTiddler: 'untagged',
    hideTags:'excludeLists excludeMissing excludePublisher excludeSearch no-tags no-tagging noLinkify',
    hideTagsReadOnly: 'systemConfig',

    //the macro handler
    handler: function (place, macroName, params, wikifier, paramString, tiddler) {
        //call the refresh handler
        me.refresh(place, paramString);
    },

    refresh: function (el, paramString) {
        var $out, tids = [], ul,
            //parse params
            p = paramString.parseParams('anon',null,true),
            //get unnamed params
            params = p[0]['anon'] || [],
            //check if the list is to be rendered
            list = params.contains('list'),
            //is this an actual refresh?
            refresh = $(el).attr('macroName') == 'untagged',
            //the element as jQuery object
            $el = $(el),
            //where to render stuff
            place = refresh ? $el.parent()[0] : el;

        //on refresh, hide previous element
        if(refresh) $el.hide();

        //get all tids
        store.getTiddlers('title').map(function(t){
            //skip shadows and has shadow?
            if(!co.chkShowUntaggedShadows &amp;&amp;
                config.shadowTiddlers[t.title])
                //skip
                return true;

            //add those w/o tags
            if(!t.tags||!t.tags.length)
                tids.push(t);
        });

        //render list or popup button
        $out = $(
            //render list?
            list ?
            //create ul
            createTiddlyElement(place,'ul') :
            //render popup button?
            createTiddlyButton(
                place,
                lingo.untaggedButton.format([tids.length]),
                lingo.untaggedTooltip,
                me.showList,
                'tiddlyLink untagged'
            )
        )
            //remember tids
            .data('tids',tids)
            //set refresh params
            .attr({
                'tiddlyLink': me.untaggedTiddler ? me.untaggedTiddler : '',
                'refresh': 'macro',
                'macroName': 'untagged',
                'params': paramString
            });

        //render list
        if(list)
            me.showList(null, $out[0]);
        //or button into new li in sidebar
        else if(params.contains('alltags')) {
            $out.appendTo(
                $('&lt;li/&gt;').appendTo(
                    $out.prev()
                )
            )
        }

        //on refresh
        if(refresh){
            //append new
            $out.insertAfter($el);
            //remove old
            $el.remove();
        }
    },

    //renders the actual list either directly or into a popup
    showList: function(ev, place){
        var el,
            //get event
            e = ev || window.event,
            //get the tids
            tids = $(place?place:this).data('tids'),
            //where to render? when place defined =&gt; inline list
            out = place ? place : Popup.create(this),
            //the output container as a jQuery object
            $out = $(out);

        //set classes
        $out.addClass(&quot;taggedTiddlerList untaggedTiddlerList&quot;);

        //when there are untagged tids
        if(tids.length &gt; 0) {
            //in the inline list
            if(place){
                //add the list title
                createTiddlyElement(out,'li',null,'listTitle',lingo.untaggedListTitle);
            //in the popup
            } else if (!co.chkSinglePageMode) {
                //add the open all link
                createTiddlyButton(
                    createTiddlyElement(out,&quot;li&quot;),
                    lingo.openAllText.format([lingo.untaggedButton]),
                    lingo.untaggedTooltip,
                    me.openAll
                );
                //spacer
                createTiddlyElement(createTiddlyElement(out,&quot;li&quot;,null,&quot;listBreak&quot;),&quot;div&quot;);
            }
            //loop all tids
            tids.map(function(t){
                //add link
                createTiddlyLink(createTiddlyElement(out,&quot;li&quot;),t.title,true);
            });
            //when link to untagged tiddler enabled and in popup
            if(me.untaggedTiddler &amp;&amp; !place){
                //new separator
                createTiddlyElement(
                    createTiddlyElement(out,&quot;li&quot;,null,&quot;listBreak&quot;),
                    'div' );
                //link to open the untagged tiddler
                el = createTiddlyLink(
                    createTiddlyElement(out,&quot;li&quot;),
                    me.untaggedTiddler,
                    false
                );
                //set link text
                createTiddlyText(el,lingo.openUntagged.format([me.untaggedTiddler]));
            }
        //no untagged tids
        } else {
            //render message
            createTiddlyElement(
                out,
                &quot;li&quot;,
                null,
                &quot;disabled&quot;,
                lingo.untaggedNone
            );
        }

        //append tids
        $out.data('tids',tids);

        //when popup
        if(!place){
            //show it and be done
            Popup.show();
            e.cancelBubble = true;
            if(e.stopPropagation) e.stopPropagation();
            return false;
        }
    },

    //opens all untagged tids
    openAll: function(){
        //open tids
        story.displayTiddlers(
            this,
            //from container
            $(this).closest('.taggedTiddlerList').data('tids')
        );
        return false;
    },

    //hides tag buttons on readOnly
    hide: function(place, what){
        //get tags to be hidden
        var hide = me.hideTags;
            hideR = me.hideTagsReadOnly;
        //get all buttons
        if(hide || hideR){
            //get as array
            hide = hide.readBracketedList();
            hideR = hideR.readBracketedList();
            //loop all buttons
            $('.button, .tiddlyLink',place).each(function(){
                //get tag button
                var $btn = $(this),
                    tag = $btn.attr('tag');
                //when to be hide
                if(
                    hide.contains(tag) ||
                    readOnly &amp;&amp; hideR.contains(tag)
                ){
                    //hide
                    $btn.hide();
                    $btn = $btn.parent();
                    if($btn.is('li') &amp;&amp; $btn.children().length &lt; 2) $btn.hide();
                }
            });
            //when
            if(
                //this list to be hidden on empty
                co['chkHideEmpty' + what] &amp;&amp;
                //and there is no more button
                !$('.button, .tiddlyLink',place).filter(':visible').length
            ){
                //remove this place
                place.remove();
            }
        }
    }
}

//define stylesheet
config.shadowTiddlers.StyleSheetUntagged =
    '/*{{{*/\n' +
    '.untagged {color:[[ColorPalette::TertiaryDark]];}\n' +
    '/*}}}*/';
//activate stylesheet
store.addNotification(&quot;StyleSheetUntagged&quot;, refreshStyles);

//hijack tags tab
config.macros.allTags.handlerUNTAGGED = config.macros.allTags.handler;
config.macros.allTags.handler = function(place, macroName, params) {
    //run default
    config.macros.allTags.handlerUNTAGGED.apply(this, arguments);
    //hide readonly tags
    me.hide($(place).last());
    //show untagged?
    if(co.chkShowUntagged){
        //render it
        wikify('&lt;&lt;untagged alltags&gt;&gt;',place);
    }
};


//hijack tags handler
config.macros.tags.handlerUNTAGGED = config.macros.tags.handler;
config.macros.tags.handler = function(place,macroName,params,wikifier,paramString,tiddler){
    //run default
    config.macros.tags.handlerUNTAGGED.apply(this,arguments);
    //hide tags for tags list
    me.hide($(place).last(),'Tags');
}


//hijack displayTiddler to hide tags or tagging when set or empty
Story.prototype.displayTiddlerUNTAGGED = Story.prototype.displayTiddler;
Story.prototype.displayTiddler = function(srcElement,tiddler,template,animate,unused,customFields,toggle,animationSrc){
    var
        //run default and get tid element
        el = Story.prototype.displayTiddlerUNTAGGED.apply(this, arguments),
        //get title
        title = (tiddler instanceof Tiddler) ? tiddler.title : tiddler,
        //get tiddler
        tid = store.getTiddler(title);

    //when
    if(
        //tid has tags and tag to hide tagged OR
        (tid &amp;&amp; tid.tags &amp;&amp; tid.tags.containsAny(me.noTagsWhenTagged.readBracketedList()))
        ||
        (
            //empty tags to be hidden AND
            co.chkHideEmptyTags &amp;&amp;
            //tid shows no tags
            $(me.selectorTags,el).find('a:visible').length == 0
        )

    ){
        //hide tags
        $(me.selectorTags, el).hide();
    }

    //when
    if(
        //tid has tags and has tag to hide tagging OR
        (tid &amp;&amp; tid.tags &amp;&amp; tid.tags.containsAny(me.noTaggingWhenTagged.readBracketedList()))
        ||
        (
            //empty tagging to be hidden AND
            co.chkHideEmptyTagging &amp;&amp;
            //tid shows no tids tagging to it
            $(me.selectorTagging,el).find('a:visible').length == 0
        )
    ){
        //hide tagging
        $(me.selectorTagging, el).hide();
    }
    return el;
}


})(jQuery);
//}}}</pre>
</div>
<div title="UntaggedPluginInfo" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404132208" modified="201404132215" tags="excludeTimeline no-tags" changecount="3" content-type="">
<pre>|details|k
|''URL''|http://untagged.tiddlyspace.com|
|''Author''|Tobias Beer|
|''Version''|1.0.0|
|''Released''|2013-09-23|
|''Requires''|2.5.2|
|''Source''|https://raw.github.com/tobibeer/TiddlyWikiPlugins/master/plugins/UntaggedPlugin.min.js|
|''Readable Source''|https://github.com/tobibeer/TiddlyWikiPlugins/blob/master/plugins/UntaggedPlugin.js|
! Summary
 provides an &quot;&quot;&quot;&lt;&lt;untagged&gt;&gt;&quot;&quot;&quot; macro
 adds an untagged button to the tags tab, i.e. the &quot;&quot;&quot;&lt;&lt;alltags&gt;&gt;&quot;&quot;&quot; macro
 allows to hide empty tags / tagging
 allows to conditionally hide tags / tagging
 allows to hide tags from visitors on readOnly
! Examples
; [[untagged space|http://untagged.tiddlyspace.com]]
: the @untagged space documents and demonstrates all features
! Preview
[img[http://img.tiddlyspace.com/UntaggedPlugin_1][http://untagged.tiddlyspace.com]]
! Details
* adds an untagged button to the tags tab, i.e. the ''&quot;&quot;&quot;&lt;&lt;alltags&gt;&gt;&quot;&quot;&quot;'' macro
* hides tags or tagging when either is empty using opions that can be turned off
* hides tags when the tiddler is tagged ''no-tags'', hides tagging when tagged ''no-tagging''
* provides the ''&quot;&quot;&quot;&lt;&lt;untagged&gt;&gt;&quot;&quot;&quot;'' macro
** can be used for [[a custom tab listing all untagged tiddlers|SideBarTabs]]
* hides certain tags from visitors in readOnly mode

For more information, visit the @untagged space.</pre>
</div>
<div title="UploadPlugin" modifier="Christopher Wilson" created="201404121504" modified="201404121534" tags="systemConfig systemConfigDisable excludeTimeline excludeLists" changecount="4" content-type="">
<pre>/***
&lt;&lt;tiddler UploadPluginDoc&gt;&gt;
!Code
***/
//{{{

// // ***** ELS 2008.09.08
// // ***** DISABLED OVERRIDE OF saveOptionCookie()
// // ***** TO PREVENT CONFLICT WITH CookieJarPlugin

version.extensions.UploadPlugin = {
 major: 3, minor: 3, revision: 1, 
 date: new Date(2006,3,30),
 type: 'macro',
 source: 'http://tiddlywiki.bidix.info/#UploadPlugin',
 docs: 'http://tiddlywiki.bidix.info/#UploadPluginDoc'
};
//}}}

////+++!![config.lib.file]

//{{{
if (!config.lib) config.lib = {};
if (!config.lib.file) config.lib.file= {
 author: 'BidiX',
 version: {major: 0, minor: 1, revision: 0}, 
 date: new Date(2006,3,9)
};
config.lib.file.dirname = function (filePath) {
 var lastpos;
 if ((lastpos = filePath.lastIndexOf(&quot;/&quot;)) != -1) {
 return filePath.substring(0, lastpos);
 } else {
 return filePath.substring(0, filePath.lastIndexOf(&quot;\\&quot;));
 }
};
config.lib.file.basename = function (filePath) {
 var lastpos;
 if ((lastpos = filePath.lastIndexOf(&quot;#&quot;)) != -1) 
 filePath = filePath.substring(0, lastpos);
 if ((lastpos = filePath.lastIndexOf(&quot;/&quot;)) != -1) {
 return filePath.substring(lastpos + 1);
 } else
 return filePath.substring(filePath.lastIndexOf(&quot;\\&quot;)+1);
};
window.basename = function() {return &quot;@@deprecated@@&quot;;};
//}}}
////===

////+++!![config.lib.log]

//{{{
if (!config.lib) config.lib = {};
if (!config.lib.log) config.lib.log= {
 author: 'BidiX',
 version: {major: 0, minor: 1, revision: 0}, 
 date: new Date(2006,3,9)
};
config.lib.Log = function(tiddlerTitle, logHeader) {
 if (version.major &lt; 2)
 this.tiddler = store.tiddlers[tiddlerTitle];
 else
 this.tiddler = store.getTiddler(tiddlerTitle);
 if (!this.tiddler) {
 this.tiddler = new Tiddler();
 this.tiddler.title = tiddlerTitle;
 this.tiddler.text = &quot;| !date | !user | !location |&quot; + logHeader;
 this.tiddler.created = new Date();
 this.tiddler.modifier = config.options.txtUserName;
 this.tiddler.modified = new Date();
 if (version.major &lt; 2)
 store.tiddlers[tiddlerTitle] = this.tiddler;
 else
 store.addTiddler(this.tiddler);
 }
 return this;
};

config.lib.Log.prototype.newLine = function (line) {
 var now = new Date();
 var newText = &quot;| &quot;;
 newText += now.getDate()+&quot;/&quot;+(now.getMonth()+1)+&quot;/&quot;+now.getFullYear() + &quot; &quot;;
 newText += now.getHours()+&quot;:&quot;+now.getMinutes()+&quot;:&quot;+now.getSeconds()+&quot; | &quot;;
 newText += config.options.txtUserName + &quot; | &quot;;
 var location = document.location.toString();
 var filename = config.lib.file.basename(location);
 if (!filename) filename = '/';
 newText += &quot;[[&quot;+filename+&quot;|&quot;+location + &quot;]] |&quot;;
 this.tiddler.text = this.tiddler.text + &quot;\n&quot; + newText;
 this.addToLine(line);
};

config.lib.Log.prototype.addToLine = function (text) {
 this.tiddler.text = this.tiddler.text + text;
 this.tiddler.modifier = config.options.txtUserName;
 this.tiddler.modified = new Date();
 if (version.major &lt; 2)
 store.tiddlers[this.tiddler.tittle] = this.tiddler;
 else {
 store.addTiddler(this.tiddler);
 story.refreshTiddler(this.tiddler.title);
 store.notify(this.tiddler.title, true);
 }
 if (version.major &lt; 2)
 store.notifyAll(); 
};
//}}}
////===

////+++!![config.lib.options]

//{{{
if (!config.lib) config.lib = {};
if (!config.lib.options) config.lib.options = {
 author: 'BidiX',
 version: {major: 0, minor: 1, revision: 0}, 
 date: new Date(2006,3,9)
};

config.lib.options.init = function (name, defaultValue) {
 if (!config.options[name]) {
 config.options[name] = defaultValue;
 saveOptionCookie(name);
 }
};
//}}}
////===

////+++!![PasswordTweak]

//{{{
version.extensions.PasswordTweak = {
 major: 1, minor: 0, revision: 2, date: new Date(2006,3,11),
 type: 'tweak',
 source: 'http://tiddlywiki.bidix.info/#PasswordTweak'
};
//}}}
/***
!!config.macros.option
***/
//{{{
config.macros.option.passwordCheckboxLabel = &quot;Save this password on this computer&quot;;
config.macros.option.passwordType = &quot;password&quot;; // password | text

config.macros.option.onChangeOption = function(e)
{
 var opt = this.getAttribute(&quot;option&quot;);
 var elementType,valueField;
 if(opt) {
 switch(opt.substr(0,3)) {
 case &quot;txt&quot;:
 elementType = &quot;input&quot;;
 valueField = &quot;value&quot;;
 break;
 case &quot;pas&quot;:
 elementType = &quot;input&quot;;
 valueField = &quot;value&quot;;
 break;
 case &quot;chk&quot;:
 elementType = &quot;input&quot;;
 valueField = &quot;checked&quot;;
 break;
 }
 config.options[opt] = this[valueField];
 saveOptionCookie(opt);
 var nodes = document.getElementsByTagName(elementType);
 for(var t=0; t&lt;nodes.length; t++) {
 var optNode = nodes[t].getAttribute(&quot;option&quot;);
 if (opt == optNode) 
 nodes[t][valueField] = this[valueField];
 }
 }
 return(true);
};

/****** ELS 2009.07.23 ******* DISABLED HIJACK TO PREVENT CONFLICTS WITH AdvancedOptionsPlugin
config.macros.option.handler = function(place,macroName,params)
{
 var opt = params[0];
 var size = 15;
 if (params[1])
 size = params[1];
 if(config.options[opt] === undefined) {
 return;}
 var c;
 switch(opt.substr(0,3)) {
 case &quot;txt&quot;:
 c = document.createElement(&quot;input&quot;);
 c.onkeyup = this.onChangeOption;
 c.setAttribute (&quot;option&quot;,opt);
 c.size = size;
 c.value = config.options[opt];
 place.appendChild(c);
 break;
 case &quot;pas&quot;:
 // input password
 c = document.createElement (&quot;input&quot;);
 c.setAttribute(&quot;type&quot;,config.macros.option.passwordType);
 c.onkeyup = this.onChangeOption;
 c.setAttribute(&quot;option&quot;,opt);
 c.size = size;
 c.value = config.options[opt];
 place.appendChild(c);
 // checkbox link with this password &quot;save this password on this computer&quot;
 c = document.createElement(&quot;input&quot;);
 c.setAttribute(&quot;type&quot;,&quot;checkbox&quot;);
 c.onclick = this.onChangeOption;
 c.setAttribute(&quot;option&quot;,&quot;chk&quot;+opt);
 place.appendChild(c);
 c.checked = config.options[&quot;chk&quot;+opt];
 // text savePasswordCheckboxLabel
 place.appendChild(document.createTextNode(config.macros.option.passwordCheckboxLabel));
 break;
 case &quot;chk&quot;:
 c = document.createElement(&quot;input&quot;);
 c.setAttribute(&quot;type&quot;,&quot;checkbox&quot;);
 c.onclick = this.onChangeOption;
 c.setAttribute(&quot;option&quot;,opt);
 place.appendChild(c);
 c.checked = config.options[opt];
 break;
 }
};
*************************/
//}}}
/***
!! Option cookie stuff
***/
//{{{
window.loadOptionsCookie_orig_PasswordTweak = window.loadOptionsCookie;
window.loadOptionsCookie = function()
{
 var cookies = document.cookie.split(&quot;;&quot;);
 for(var c=0; c&lt;cookies.length; c++) {
 var p = cookies[c].indexOf(&quot;=&quot;);
 if(p != -1) {
 var name = cookies[c].substr(0,p).trim();
 var value = cookies[c].substr(p+1).trim();
 switch(name.substr(0,3)) {
 case &quot;txt&quot;:
 config.options[name] = unescape(value);
 break;
 case &quot;pas&quot;:
 config.options[name] = unescape(value);
 break;
 case &quot;chk&quot;:
 config.options[name] = value == &quot;true&quot;;
 break;
 }
 }
 }
};

/****** ELS 2008.09.08 ******* DISABLED HIJACK TO PREVENT CONFLICTS WITH CookieManagerPlugin
window.saveOptionCookie_orig_PasswordTweak = window.saveOptionCookie;
window.saveOptionCookie = function(name)
{
 var c = name + &quot;=&quot;;
 switch(name.substr(0,3)) {
 case &quot;txt&quot;:
 c += escape(config.options[name].toString());
 break;
 case &quot;chk&quot;:
 c += config.options[name] ? &quot;true&quot; : &quot;false&quot;;
 // is there an option link with this chk ?
 if (config.options[name.substr(3)]) {
 saveOptionCookie(name.substr(3));
 }
 break;
 case &quot;pas&quot;:
 if (config.options[&quot;chk&quot;+name]) {
 c += escape(config.options[name].toString());
 } else {
 c += &quot;&quot;;
 }
 break;
 }
 c += &quot;; expires=Fri, 1 Jan 2038 12:00:00 UTC; path=/&quot;;
 document.cookie = c;
};
*****************************************/
//}}}
/***
!! Initializations
***/
//{{{
// define config.options.pasPassword
if (!config.options.pasPassword) {
 config.options.pasPassword = 'defaultPassword';
 window.saveOptionCookie('pasPassword');
}
// since loadCookies is first called befor password definition
// we need to reload cookies
window.loadOptionsCookie();
//}}}
////===

////+++!![config.macros.upload]

//{{{
config.macros.upload = {
 accessKey: &quot;U&quot;,
 formName: &quot;UploadPlugin&quot;,
 contentType: &quot;text/html;charset=UTF-8&quot;,
 defaultStoreScript: &quot;store.php&quot;
};

// only this two configs need to be translated
config.macros.upload.messages = {
 aboutToUpload: &quot;About to upload TiddlyWiki to %0&quot;,
 errorDownloading: &quot;Error downloading&quot;,
 errorUploadingContent: &quot;Error uploading content&quot;,
 fileNotFound: &quot;file to upload not found&quot;,
 fileNotUploaded: &quot;File %0 NOT uploaded&quot;,
 mainFileUploaded: &quot;Main TiddlyWiki file uploaded to %0&quot;,
 urlParamMissing: &quot;url param missing&quot;,
 rssFileNotUploaded: &quot;RssFile %0 NOT uploaded&quot;,
 rssFileUploaded: &quot;Rss File uploaded to %0&quot;
};

config.macros.upload.label = {
 promptOption: &quot;Save and Upload this TiddlyWiki with UploadOptions&quot;,
 promptParamMacro: &quot;Save and Upload this TiddlyWiki in %0&quot;,
 saveLabel: &quot;save to web&quot;, 
 saveToDisk: &quot;save to disk&quot;,
 uploadLabel: &quot;upload&quot; 
};

config.macros.upload.handler = function(place,macroName,params){
 // parameters initialization
 var storeUrl = params[0];
 var toFilename = params[1];
 var backupDir = params[2];
 var uploadDir = params[3];
 var username = params[4];
 var password; // for security reason no password as macro parameter
 var label;
 if (document.location.toString().substr(0,4) == &quot;http&quot;)
 label = this.label.saveLabel;
 else
 label = this.label.uploadLabel;
 var prompt;
 if (storeUrl) {
 prompt = this.label.promptParamMacro.toString().format([this.dirname(storeUrl)]);
 }
 else {
 prompt = this.label.promptOption;
 }
 createTiddlyButton(place, label, prompt, 
 function () {
 config.macros.upload.upload(storeUrl, toFilename, uploadDir, backupDir, username, password); 
 return false;}, 
 null, null, this.accessKey);
};
config.macros.upload.UploadLog = function() {
 return new config.lib.Log('UploadLog', &quot; !storeUrl | !uploadDir | !toFilename | !backupdir | !origin |&quot; );
};
config.macros.upload.UploadLog.prototype = config.lib.Log.prototype;
config.macros.upload.UploadLog.prototype.startUpload = function(storeUrl, toFilename, uploadDir, backupDir) {
 var line = &quot; [[&quot; + config.lib.file.basename(storeUrl) + &quot;|&quot; + storeUrl + &quot;]] | &quot;;
 line += uploadDir + &quot; | &quot; + toFilename + &quot; | &quot; + backupDir + &quot; |&quot;;
 this.newLine(line);
};
config.macros.upload.UploadLog.prototype.endUpload = function() {
 this.addToLine(&quot; Ok |&quot;);
};
config.macros.upload.basename = config.lib.file.basename;
config.macros.upload.dirname = config.lib.file.dirname;
config.macros.upload.upload = function(storeUrl, toFilename, uploadDir, backupDir, username, password)
{
 // parameters initialization
 storeUrl = (storeUrl ? storeUrl : config.options.txtUploadStoreUrl);
 toFilename = (toFilename ? toFilename : config.options.txtUploadFilename);
 if (toFilename === '') {
 toFilename = config.lib.file.basename(document.location.toString());
 }
 backupDir = (backupDir ? backupDir : config.options.txtUploadBackupDir);
 uploadDir = (uploadDir ? uploadDir : config.options.txtUploadDir);
 username = (username ? username : config.options.txtUploadUserName);
 password = config.options.pasUploadPassword; // for security reason no password as macro parameter

 clearMessage();
 // only for forcing the message to display
 if (version.major &lt; 2)
 store.notifyAll();
 if (!storeUrl) {
 alert(config.macros.upload.messages.urlParamMissing);
 return;
 }
 
 var log = new this.UploadLog();
 log.startUpload(storeUrl, toFilename, uploadDir, backupDir);
 if (document.location.toString().substr(0,5) == &quot;file:&quot;) {
 saveChanges();
 }
 displayMessage(config.macros.upload.messages.aboutToUpload.format([this.dirname(storeUrl)]), this.dirname(storeUrl));
 this.uploadChanges(storeUrl, toFilename, uploadDir, backupDir, username, password);
 if(config.options.chkGenerateAnRssFeed) {
 //var rssContent = convertUnicodeToUTF8(generateRss());
 var rssContent = generateRss();
 var rssPath = toFilename.substr(0,toFilename.lastIndexOf(&quot;.&quot;)) + &quot;.xml&quot;;
 this.uploadContent(rssContent, storeUrl, rssPath, uploadDir, '', username, password, 
 function (responseText) {
 if (responseText.substring(0,1) != '0') {
 displayMessage(config.macros.upload.messages.rssFileNotUploaded.format([rssPath]));
 }
 else {
 if (uploadDir) {
 rssPath = uploadDir + &quot;/&quot; + config.macros.upload.basename(rssPath);
 } else {
 rssPath = config.macros.upload.basename(rssPath);
 }
 displayMessage(config.macros.upload.messages.rssFileUploaded.format(
 [config.macros.upload.dirname(storeUrl)+&quot;/&quot;+rssPath]), config.macros.upload.dirname(storeUrl)+&quot;/&quot;+rssPath);
 }
 // for debugging store.php uncomment last line
 //DEBUG alert(responseText);
 });
 }
 return;
};

config.macros.upload.uploadChanges = function(storeUrl, toFilename, uploadDir, backupDir, 
 username, password) {
 var original;
 if (document.location.toString().substr(0,4) == &quot;http&quot;) {
 original = this.download(storeUrl, toFilename, uploadDir, backupDir, username, password);
 return;
 }
 else {
 // standard way : Local file
 
 original = loadFile(getLocalPath(document.location.toString()));
 if(window.Components) {
 // it's a mozilla browser
 try {
 netscape.security.PrivilegeManager.enablePrivilege(&quot;UniversalXPConnect&quot;);
 var converter = Components.classes[&quot;@mozilla.org/intl/scriptableunicodeconverter&quot;]
 .createInstance(Components.interfaces.nsIScriptableUnicodeConverter);
 converter.charset = &quot;UTF-8&quot;;
 original = converter.ConvertToUnicode(original);
 }
 catch(e) {
 }
 }
 }
 //DEBUG alert(original);
 this.uploadChangesFrom(original, storeUrl, toFilename, uploadDir, backupDir, 
 username, password);
};

config.macros.upload.uploadChangesFrom = function(original, storeUrl, toFilename, uploadDir, backupDir, 
 username, password) {
 var startSaveArea = '&lt;div id=&quot;' + 'storeArea&quot;&gt;'; // Split up into two so that indexOf() of this source doesn't find it
 var endSaveArea = '&lt;/d' + 'iv&gt;';
 // Locate the storeArea div's
 var posOpeningDiv = original.indexOf(startSaveArea);
 var posClosingDiv = original.lastIndexOf(endSaveArea);
 if((posOpeningDiv == -1) || (posClosingDiv == -1))
 {
 alert(config.messages.invalidFileError.format([document.location.toString()]));
 return;
 }
 var revised = original.substr(0,posOpeningDiv + startSaveArea.length) + 
 store.allTiddlersAsHtml() + &quot;\n\t\t&quot; +
 original.substr(posClosingDiv);
 var newSiteTitle;
 if(version.major &lt; 2){
 newSiteTitle = (getElementText(&quot;siteTitle&quot;) + &quot; - &quot; + getElementText(&quot;siteSubtitle&quot;)).htmlEncode();
 } else {
 newSiteTitle = (wikifyPlain (&quot;SiteTitle&quot;) + &quot; - &quot; + wikifyPlain (&quot;SiteSubtitle&quot;)).htmlEncode();
 }
 revised = revised.replace(new RegExp(&quot;&lt;title&gt;[^&lt;]*&lt;/title&gt;&quot;, &quot;im&quot;),&quot;&lt;title&gt;&quot;+ newSiteTitle +&quot;&lt;/title&gt;&quot;);
 var response = this.uploadContent(revised, storeUrl, toFilename, uploadDir, backupDir, 
 username, password, function (responseText) {
 if (responseText.substring(0,1) != '0') {
 alert(responseText);
 displayMessage(config.macros.upload.messages.fileNotUploaded.format([getLocalPath(document.location.toString())]));
 }
 else {
 if (uploadDir !== '') {
 toFilename = uploadDir + &quot;/&quot; + config.macros.upload.basename(toFilename);
 } else {
 toFilename = config.macros.upload.basename(toFilename);
 }
 displayMessage(config.macros.upload.messages.mainFileUploaded.format(
 [config.macros.upload.dirname(storeUrl)+&quot;/&quot;+toFilename]), config.macros.upload.dirname(storeUrl)+&quot;/&quot;+toFilename);
 var log = new config.macros.upload.UploadLog();
 log.endUpload();
 store.setDirty(true); store.setDirty(false); // ELS - toggle to ensure notification event after upload
 }
 // for debugging store.php uncomment last line
 //DEBUG alert(responseText);
 }
 );
};

config.macros.upload.uploadContent = function(content, storeUrl, toFilename, uploadDir, backupDir, 
 username, password, callbackFn) {
 var boundary = &quot;---------------------------&quot;+&quot;AaB03x&quot;; 
 var request;
 try {
 request = new XMLHttpRequest();
 } 
 catch (e) { 
 request = new ActiveXObject(&quot;Msxml2.XMLHTTP&quot;); 
 }
 if (window.netscape){
 try {
 if (document.location.toString().substr(0,4) != &quot;http&quot;) {
 netscape.security.PrivilegeManager.enablePrivilege('UniversalBrowserRead');}
 }
 catch (e) { }
 } 
 //DEBUG alert(&quot;user[&quot;+config.options.txtUploadUserName+&quot;] password[&quot; + config.options.pasUploadPassword + &quot;]&quot;);
 // compose headers data
 var sheader = &quot;\r\n&quot;;
 sheader += &quot;--&quot; + boundary + &quot;\r\nContent-disposition: form-data;name=\&quot;&quot;;
 sheader += config.macros.upload.formName +&quot;\&quot;\r\n\r\n&quot;;
 sheader += &quot;backupDir=&quot;+backupDir
 +&quot;;user=&quot; + username 
 +&quot;;password=&quot; + password
 +&quot;;uploaddir=&quot; + uploadDir
 + &quot;;;\r\n&quot;; 
 sheader += &quot;\r\n&quot; + &quot;--&quot; + boundary + &quot;\r\n&quot;;
 sheader += &quot;Content-disposition: form-data;name=\&quot;userfile\&quot;;filename=\&quot;&quot;+toFilename+&quot;\&quot;\r\n&quot;;
 sheader += &quot;Content-Type: &quot; + config.macros.upload.contentType + &quot;\r\n&quot;;
 sheader += &quot;Content-Length: &quot; + content.length + &quot;\r\n\r\n&quot;;
 // compose trailer data
 var strailer = new String();
 strailer = &quot;\r\n--&quot; + boundary + &quot;--\r\n&quot;;
 var data;
 data = sheader + content + strailer;
 //request.open(&quot;POST&quot;, storeUrl, true, username, password);
 request.open(&quot;POST&quot;, storeUrl, true);
 request.onreadystatechange = function () {
 if (request.readyState == 4) {
 if (request.status == 200)
 callbackFn(request.responseText);
 else
 alert(config.macros.upload.messages.errorUploadingContent);
 }
 };
 request.setRequestHeader(&quot;Content-Length&quot;,data.length);
 request.setRequestHeader(&quot;Content-Type&quot;,&quot;multipart/form-data; boundary=&quot;+boundary);
 request.send(data); 
};


config.macros.upload.download = function(uploadUrl, uploadToFilename, uploadDir, uploadBackupDir, 
 username, password) {
 var request;
 try {
 request = new XMLHttpRequest();
 } 
 catch (e) { 
 request = new ActiveXObject(&quot;Msxml2.XMLHTTP&quot;); 
 }
 try {
 if (uploadUrl.substr(0,4) == &quot;http&quot;) {
 netscape.security.PrivilegeManager.enablePrivilege(&quot;UniversalBrowserRead&quot;);
 }
 else {
 netscape.security.PrivilegeManager.enablePrivilege(&quot;UniversalXPConnect&quot;);
 }
 } catch (e) { }
 //request.open(&quot;GET&quot;, document.location.toString(), true, username, password);
 request.open(&quot;GET&quot;, document.location.toString(), true);
 request.onreadystatechange = function () {
 if (request.readyState == 4) {
 if(request.status == 200) {
 config.macros.upload.uploadChangesFrom(request.responseText, uploadUrl, 
 uploadToFilename, uploadDir, uploadBackupDir, username, password);
 }
 else
 alert(config.macros.upload.messages.errorDownloading.format(
 [document.location.toString()]));
 }
 };
 request.send(null);
};

//}}}
////===

////+++!![Initializations]

//{{{
config.lib.options.init('txtUploadStoreUrl','store.php');
config.lib.options.init('txtUploadFilename','');
config.lib.options.init('txtUploadDir','');
config.lib.options.init('txtUploadBackupDir','');
config.lib.options.init('txtUploadUserName',config.options.txtUserName);
config.lib.options.init('pasUploadPassword','');
config.shadowTiddlers.UploadPluginDoc = &quot;[[Full Documentation|http://tiddlywiki.bidix.info/l#UploadPluginDoc ]]\n&quot;; 


//}}}
////===

////+++!![Core Hijacking]

//{{{
config.macros.saveChanges.label_orig_UploadPlugin = config.macros.saveChanges.label;
config.macros.saveChanges.label = config.macros.upload.label.saveToDisk;
//}}}
////===</pre>
</div>
<div title="UploadPluginTweak" modifier="Christopher Wilson" created="201404121503" modified="201404121542" tags="systemConfig systemConfigDisable excludeTimeline" changecount="5" content-type="">
<pre>// null logger : no more UploadLog and no upload logging
// BidiX - 2006/11/8
//{{{
config.macros.upload.UploadLog = function() {return this;};
config.macros.upload.UploadLog.prototype.startUpload = function(storeUrl, toFilename, uploadDir,  backupDir) {};
config.macros.upload.UploadLog.prototype.endUpload = function() {};
//}}}
</pre>
</div>
<div title="UserConfigPlugin" modifier="Christopher Wilson" created="201004041418" modified="201405171241" tags="systemConfig excludeTimeline" changecount="26" content-type="text/javascript" alias="">
<pre>/***
|Description:|A place to put your config tweaks|
See http://www.tiddlywiki.org/wiki/Configuration_Options for other options you can set. In some cases where there are clashes with other plugins it might help to rename this to zzMptwUserConfigPlugin so it gets executed last.
***/
//{{{

var originalReadOnly = readOnly;
var originalShowBackstage = showBackstage;

readOnly = false;                        // needed because the above doesn't work any more post 2.1 (??)
showBackstage = true;                    // show backstage for same reason

config.views.wikified.defaultText = &quot;&quot;;  // don't need message when a tiddler doesn't exist
config.views.editor.defaultText = &quot;&quot;;    // don't need message when creating a new tiddler


//config.options.chkAutoSave = (window.location.protocol == &quot;file:&quot;); // do autosave if we're in local file


// add select theme and palette controls in default OptionsPanel
//config.shadowTiddlers.OptionsPanel = config.shadowTiddlers.OptionsPanel.replace(/(\n\-\-\-\-\nAlso see \[\[AdvancedOptions\]\])/, &quot;{{select{&lt;&lt;selectTheme&gt;&gt;\n&lt;&lt;selectPalette&gt;&gt;}}}$1&quot;);

// uncomment to disable 'new means new' functionality for the new journal macro
//config.newMeansNewForJournalsToo = false;
config.options.chkDoubleClickToEdit=false; 
config.options.chkShowRightSidebar=true;
config.options.chkForceMinorUpdate=true;
//config.options.txtToggleRightSideBarLabelShow=&quot;&quot;;
//config.options.txtToggleRightSideBarLabelHide=&quot;&quot;;
config.options.txtToggleRightSideBarLabelShow='&lt;i class=&quot;fa fa-sign-out fa-rotate-180&quot;&gt;&lt;/i&gt;';
config.options.txtToggleRightSideBarLabelHide='&lt;i class=&quot;fa fa-sign-in&quot;&gt;&lt;/i&gt;';
config.messages.backstage.open.text=&quot;&quot;;
config.messages.backstage.open.tooltip=&quot;&quot;;
//config.messages.backstage.open.text=&quot;\xa0&quot;;
 config.glyphs.codes.bentArrowLeft=[&quot;\xa0&quot;,&quot;\xa0&quot;];
//}}}</pre>
</div>
<div title="ViewTemplate" modifier="Christopher Wilson" created="201305261638" modified="201404121751" tags="excludeTimeline" content-type="text/html" changecount="4">
<pre>&lt;div class=&quot;uncollapsedView&quot;&gt;
[[ViewTemplateToolbar]]
 
&lt;!--&lt;div class=&quot;tagglyTagged&quot; macro=&quot;tags&quot;&gt;&lt;/div&gt;--&gt;
&lt;!--&lt;div class='tagged' macro='tags'&gt;&lt;/div&gt;--&gt;
&lt;div class='titleContainer'&gt;
    &lt;span class='title' macro='view title'&gt;&lt;/span&gt;
    &lt;span macro=&quot;miniTag&quot;&gt;&lt;/span&gt;
&lt;/div&gt;

&lt;div class='subtitle'&gt;
     &lt;span macro='view modified date {{config.mptwDateFormat?config.mptwDateFormat:&quot;MM/0DD/YY&quot;}}'&gt;&lt;/span&gt;,
     &lt;span macro='view modifier link'&gt;&lt;/span&gt; &lt;!--(type: &lt;span macro='view content-type link'&gt;&lt;/span&gt;)--&gt;
    &lt;!--
    (&lt;span macro='message views.wikified.createdPrompt'&gt;&lt;/span&gt;
    &lt;span macro='view created date {{config.mptwDateFormat?config.mptwDateFormat:&quot;MM/0DD/YY&quot;}}'&gt;&lt;/span&gt;)
    --&gt;
&lt;/div&gt;
&lt;div class=&quot;tagglyTagging&quot; macro=&quot;tagglyTagging&quot;&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;collapsedView&quot;&gt;
    &lt;span class='toolbar'&gt;
        &lt;span macro='toolbar closeTiddler'&gt;&lt;/span&gt;
        &lt;span macro='mptwCollapse +'&gt;&lt;/span&gt;
        &lt;span macro='mptwCollapse +'&gt;&lt;/span&gt;
    &lt;/span&gt;
    &lt;span class='title' macro='view title'&gt;&lt;/span&gt;
&lt;/div&gt;
&lt;div class='viewer' macro='view text wikified'&gt;&lt;/div&gt;
&lt;div class='references' macro='showReferences'&gt;&lt;/div&gt;</pre>
</div>
<div title="ViewTemplateToolbar" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405171233" tags="excludeTimeline systemTemplate" content-type="text/html" changecount="8" alias="">
<pre>&lt;div class='toolbar'&gt;
    &lt;span macro=&quot;showWhenTagged systemConfig&quot;&gt;
        &lt;span macro=&quot;toggleTag systemConfigDisable . '[[disable|systemConfigDisable]]'&quot;&gt;&lt;/span&gt;
    &lt;/span&gt;
    &lt;span macro=&quot;showWhenTagged systemTheme&quot;&gt;&lt;span macro=&quot;applyTheme&quot;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span macro=&quot;showWhenTagged systemPalette&quot;&gt;&lt;span macro=&quot;applyPalette&quot;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span macro=&quot;showWhen tiddler.tags.contains('css') || tiddler.title == 'StyleSheet'&quot;&gt;&lt;span macro=&quot;refreshAll&quot;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span style=&quot;padding:1em;&quot;&gt;&lt;/span&gt;
    &lt;span class='toolbar' macro='toolbar runTiddler'&gt;&lt;/span&gt; 
    &lt;span class=&quot;editMacros&quot;&gt;
	&lt;span class='editTiddler' macro='toolbar cmEdit' style=&quot;margin-right:0px;&quot;&gt;&lt;span macro='setIcon2 fa-code fa-fw'&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class='editTiddler' macro='toolbar editTiddler'&gt;&lt;span macro='setIcon2 fa-pencil fa-fw'&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;/span&gt;
	&lt;!--&lt;span class='snapshotprint' macro='snapshot print'&gt;&lt;span macro='setIcon2 fa-print fa-fw'&gt;&lt;/span&gt;&lt;/span&gt;--&gt;
    &lt;!--&lt;span class='permalink' macro='toolbar permalink'&gt;&lt;span macro='setIcon2 fa-link fa-flip-horizontal fa-fw'&gt;&lt;/span&gt;&lt;/span&gt;--&gt;
    &lt;span class='compress' macro='toolbar collapseTiddler'&gt;&lt;span macro='setIcon2 fa-compress fa-rotate-180'&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class='closeTiddler' macro='toolbar closeTiddler'&gt;&lt;span macro='setIcon2 fa-times fa-fw'&gt;&lt;/span&gt;&lt;/span&gt;
&lt;/div&gt;</pre>
</div>
<div title="VisualTW" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404121845" modified="201404121905" tags="systemPalette excludeTimeline excludeLists" changecount="7" content-type="">
<pre>Name: VisualTW
Background: #fff
Foreground: #000
PrimaryPale: #fc8
PrimaryLight: #f81
PrimaryMid: #b40
PrimaryDark: #410
SecondaryPale: #ffc
SecondaryLight: #fe8
SecondaryMid: #db4
SecondaryDark: #841
TertiaryPale: #eee
TertiaryLight: #ccc
TertiaryMid: #999
TertiaryDark: #666
Error: #f88
Source: http://visualtw.ouvaton.org/VisualTW.html</pre>
</div>
<div title="Weak Energy Condition" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405060457" modified="201405060457" tags="[[Topology Paper]]" changecount="3" content-type="text/x-tiddlywiki">
<pre>The //weak energy condition// states that for every timelike vector field $\vec{X}$, the matter density as observed by corresponding observers is always non-negative:$$\rho = T_{\mu\nu}X^\mu X^\nu \geq 0.$$
*$\vec{X}$ can be interpreted as defining world lines of some family of ideal observes.
*$\rho$ is the total mass-energy density measured by the observer from our family at each event on his worldline.
*$T^{\mu\nu}$ is the [[Stress-Energy Tensor]] (or energy-momentum tensor), that describes distributions of mass, energy, momentum, and stress in spacetime.</pre>
</div>
<div title="Welcome" modifier="Christopher Wilson" created="201305222207" modified="201405150341" tags="excludeTimeline" changecount="159" content-type="text/x-tiddlywiki" alias="">
<pre>/%&lt;script&gt;
var f=config.formatters[config.formatters.findByField(&quot;name&quot;,&quot;list&quot;)];
document.write('&lt;pre&gt;'+f.match+'&lt;/pre&gt;');
document.write('&lt;pre&gt;'+f.lookaheadRegExp+'&lt;/pre&gt;');
f.match='^(?:[*#;:]+)';
f.lookaheadRegExp=/^(?:(?:(\*)|(#)|(;)|(:))+)/mg;
&lt;/script&gt;

&lt;script&gt;
var f=config.formatters[config.formatters.findByField(&quot;name&quot;,&quot;list&quot;)];
document.write('&lt;pre&gt;'+f.match+'&lt;/pre&gt;');
&lt;/script&gt;%/&lt;html&gt;&lt;style&gt;#tiddlerWelcome a {border:0px;}&lt;/style&gt;&lt;/html&gt;
&lt;part WelcomePart&gt;Still a work in progress$\tiny\ldots$&lt;/part&gt;
*I've documented a lot of the configuration changes I made in [[Notebook Configuration]].  
*A list of the features I plan on implementing still is given in [[ToDo]].
*Editting mode (for viewing tiddler code): &lt;&lt;JsDoIt 'Enable' 'execute javascript code(s)' [[ javascript:jQuery('body')[0].id='localMode';]]&gt;&gt;&lt;&lt;JsDoIt 'Disable' 'execute javascript code(s)' [[ javascript:jQuery('body')[0].id='onlineMode';]]&gt;&gt;

;Interactive Plotting Projects
*[[Plotly]]
*[[d3|d3: Examples]]

/%&lt;&lt;showUpdates&gt;&gt;%/
/%&lt;&lt;newTiddler fields:&quot;content-type:text/x-tiddlywiki&quot; label:'new bookmark' title:'NewBookmark' tag:'bookmark'
	text:&quot;&lt;html&gt;&lt;div class='toolbar' macro='toolbar fields'&gt;&lt;/div&gt;&lt;/html&gt;&quot;&gt;&gt;
&lt;&lt;newTiddler
label:&quot;New tiddler with template content...&quot;
fields:&quot;content-type:text/x-tiddlywiki&quot;
text:{{store.getTiddlerText(&quot;Welcome&quot;)}}
tag:&quot;systemConfig&quot;
&gt;&gt;
	 &lt;&lt;youAreReading&gt;&gt;

&lt;&lt;snapshot print&gt;&gt;
&lt;&lt;tiddlerIcons&gt;&gt; 
&lt;&lt;recentChanges 30 noedit 30em groupbox&gt;&gt;
&lt;html&gt;&lt;div align=&quot;center&quot;&gt;&lt;iframe src=&quot;./foo.pdf&quot; frameborder=&quot;0&quot; width=&quot;100%&quot; height=&quot;800&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/html&gt;


&lt;&lt;unlock&gt;&gt;&lt;&lt;setPassword&gt;&gt;
asdfdd
d
&lt;&lt;lb1&gt;&gt;&quot;Research\Images\H distance.png&quot;&gt;&lt;br&gt;&lt;div align=&quot;center&quot;&gt;Gemini-IX Lifts Off&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;DC3.LightBox.showBox('myImageBox')&quot;&gt;Gemini-9 Lifts Off&lt;/a&gt;&lt;/html&gt;
&lt;html&gt;&lt;div id=&quot;myYVideo&quot; style=&quot;display:none&quot;&gt;
&lt;div&gt;&lt;object width=&quot;425&quot; height=&quot;350&quot;&gt;&lt;param name=&quot;movie&quot; value=&quot;http://www.youtube.com/v/uVq2EqTC3yY&quot;&gt;&lt;/param&gt;&lt;param name=&quot;wmode&quot; value=&quot;transparent&quot;&gt;&lt;/param&gt;&lt;embed src=&quot;http://www.youtube.com/v/uVq2EqTC3yY&quot; type=&quot;application/x-shockwave-flash&quot; wmode=&quot;transparent&quot; width=&quot;425&quot; height=&quot;350&quot;&gt;&lt;/embed&gt;&lt;/object&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;a href=&quot;javascript:;&quot; onclick=&quot;DC3.LightBox.showBox('myYVideo')&quot;&gt;Some YouTube junk (short, no close box)&lt;/a&gt;&lt;/html&gt;

&lt;html&gt;&lt;div class=&quot;lightBox&quot; id=&quot;myLB&quot; style=&quot;display:none&quot;&gt;
  &lt;img class=&quot;lightBoxClose&quot; src=&quot;im/close.gif&quot; onclick=&quot;DC3.LightBox.hideBox()&quot; alt=&quot;Close&quot; title=&quot;Close this window&quot; /&gt;
&lt;div style=&quot;padding: 10px&quot;&gt;This uses the standard lightBox CSS class and puts the close box in the standard position. It looks like the showContent() box, but you can see the div and its contents.&lt;/div&gt;
&lt;/div&gt;
&lt;a href=&quot;javascript:;&quot; onclick=&quot;DC3.LightBox.showBox('myLB')&quot;&gt;A box that uses the standard showContent() div in MarkupPreBody&lt;/a&gt;&lt;/html&gt;
&lt;html&gt;&lt;div id=&quot;myLB2&quot; style=&quot;background:white;color:red;border:5px solid black;display:none&quot;&gt;
  &lt;img class=&quot;lightBoxClose&quot; src=&quot;im/close.gif&quot; onclick=&quot;DC3.LightBox.hideBox()&quot; alt=&quot;Close&quot; title=&quot;Close this window&quot; /&gt;
&lt;div style=&quot;padding: 10px&quot;&gt;This uses an inline-styled div and puts the close box in the standard position.&lt;/div&gt;
&lt;/div&gt;
&lt;a href=&quot;javascript:;&quot; onclick=&quot;DC3.LightBox.showBox('myLB2')&quot;&gt;A box that uses an inline-styled div&lt;/a&gt;&lt;/html&gt;%/</pre>
</div>
<div title="Z4xZ2 Group Images" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404210842" tags="excludeTimeline excludeLists Images" changecount="1" content-type="">
<pre>&lt;part Z4xZ2_0&gt;
|sortable2|k
|!|!|h
|&gt;|!Standard Plots|h
| [img[CritPhen\Models\Z4xZ2\Plots\2d Z4xZ2_0, M.png]] | [img[CritPhen\Models\Z4xZ2\Plots\2d Z4xZ2_0, E.png]] |
| [img[CritPhen\Models\Z4xZ2\Plots\2d Z4xZ2_0, X.png]] | [img[CritPhen\Models\Z4xZ2\Plots\2d Z4xZ2_0, C.png]] |
|&gt;|!Log-Log Plots|h
| [img[CritPhen\Models\Z4xZ2\Plots\2d Z4xZ2_0, M_ln.png]] | [img[CritPhen\Models\Z4xZ2\Plots\2d Z4xZ2_0, C_ln.png]] |
| [img[CritPhen\Models\Z4xZ2\Plots\2d Z4xZ2_0, X_ln.png]] |
|&gt;|!Cumulants|h
| [img[CritPhen\Models\Z4xZ2\Plots\2d Z4xZ2_0, M4.png]] | [img[CritPhen\Models\Z4xZ2\Plots\2d Z4xZ2_0, E4.png]] |
|!|!|h
&lt;/part&gt;</pre>
</div>
<div title="Z4xZ2 Group Tables" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404210841" modified="201404290807" tags="excludeTimeline FixMe excludeLists" changecount="7" content-type="text/x-tiddlywiki">
<pre>@@color:red; THIS SLIDE NEEDS FIXING.@@

!$\mathbb{Z}^*_4\times\mathbb{Z}^*_2$ Model

!!Group Matrix
|sortable2|k
|[img(340px+,)[CritPhen\Models\Z4xZ2\Z4xZ2 Group.png]]|[img(340px+,)[CritPhen\Models\Z4xZ2\Z4xZ2 Dist.png]]|

!!Site Occupancy
|sortable2|k
|[img[CritPhen\Models\Z4xZ2\2d Z4xZ2 bins_1.png]]|

!!Simulation Results
&lt;&lt;tabs Z4xZ2Tables  
&quot;bin 1&quot; &quot;bin 1&quot; [[Z4xZ2 Group Images/Z4xZ2_0]]
&quot;Z8* vs. Z4xZ2&quot; &quot;Z8* vs. Z4xZ2&quot; [[Misc Group Images/Z8_0vZ4xZ2_0]]
&gt;&gt;
*The double magnetic susceptibility curves in the disordered phase is also seen in $\mathbb{Z}_8$.</pre>
</div>
<div title="analysisF" modifier="Christopher Wilson" created="201305280150" modified="201404121431" tags="excludeTimeline Folder" alias="" content-type="" changecount="4">
<pre>&lt;&lt;tiddlerList tags:&quot;Analysis&quot;&gt;&gt;</pre>
</div>
<div title="animate.css" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405090255" modified="201405090300" tags="excludeTimeline css" alias="" changecount="5" content-type="text/x-tiddlywiki">
<pre>/*{{{*/
@charset &quot;UTF-8&quot;;

/*!
Animate.css - http://daneden.me/animate
Licensed under the MIT license

Copyright (c) 2013 Daniel Eden

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the &quot;Software&quot;), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
*/

.animated {
  -webkit-animation-duration: 1s;
  animation-duration: 1s;
  -webkit-animation-fill-mode: both;
  animation-fill-mode: both;
}

.animated.infinite {
  -webkit-animation-iteration-count: infinite;
  animation-iteration-count: infinite;
}

.animated.hinge {
  -webkit-animation-duration: 2s;
  animation-duration: 2s;
}

@-webkit-keyframes bounce {
  0%, 20%, 50%, 80%, 100% {
    -webkit-transform: translateY(0);
    transform: translateY(0);
  }

  40% {
    -webkit-transform: translateY(-30px);
    transform: translateY(-30px);
  }

  60% {
    -webkit-transform: translateY(-15px);
    transform: translateY(-15px);
  }
}

@keyframes bounce {
  0%, 20%, 50%, 80%, 100% {
    -webkit-transform: translateY(0);
    -ms-transform: translateY(0);
    transform: translateY(0);
  }

  40% {
    -webkit-transform: translateY(-30px);
    -ms-transform: translateY(-30px);
    transform: translateY(-30px);
  }

  60% {
    -webkit-transform: translateY(-15px);
    -ms-transform: translateY(-15px);
    transform: translateY(-15px);
  }
}

.bounce {
  -webkit-animation-name: bounce;
  animation-name: bounce;
}

@-webkit-keyframes flash {
  0%, 50%, 100% {
    opacity: 1;
  }

  25%, 75% {
    opacity: 0;
  }
}

@keyframes flash {
  0%, 50%, 100% {
    opacity: 1;
  }

  25%, 75% {
    opacity: 0;
  }
}

.flash {
  -webkit-animation-name: flash;
  animation-name: flash;
}

/* originally authored by Nick Pettit - https://github.com/nickpettit/glide */

@-webkit-keyframes pulse {
  0% {
    -webkit-transform: scale(1);
    transform: scale(1);
  }

  50% {
    -webkit-transform: scale(1.1);
    transform: scale(1.1);
  }

  100% {
    -webkit-transform: scale(1);
    transform: scale(1);
  }
}

@keyframes pulse {
  0% {
    -webkit-transform: scale(1);
    -ms-transform: scale(1);
    transform: scale(1);
  }

  50% {
    -webkit-transform: scale(1.1);
    -ms-transform: scale(1.1);
    transform: scale(1.1);
  }

  100% {
    -webkit-transform: scale(1);
    -ms-transform: scale(1);
    transform: scale(1);
  }
}

.pulse {
  -webkit-animation-name: pulse;
  animation-name: pulse;
}

@-webkit-keyframes rubberBand {
  0% {
    -webkit-transform: scale(1);
    transform: scale(1);
  }

  30% {
    -webkit-transform: scaleX(1.25) scaleY(0.75);
    transform: scaleX(1.25) scaleY(0.75);
  }

  40% {
    -webkit-transform: scaleX(0.75) scaleY(1.25);
    transform: scaleX(0.75) scaleY(1.25);
  }

  60% {
    -webkit-transform: scaleX(1.15) scaleY(0.85);
    transform: scaleX(1.15) scaleY(0.85);
  }

  100% {
    -webkit-transform: scale(1);
    transform: scale(1);
  }
}

@keyframes rubberBand {
  0% {
    -webkit-transform: scale(1);
    -ms-transform: scale(1);
    transform: scale(1);
  }

  30% {
    -webkit-transform: scaleX(1.25) scaleY(0.75);
    -ms-transform: scaleX(1.25) scaleY(0.75);
    transform: scaleX(1.25) scaleY(0.75);
  }

  40% {
    -webkit-transform: scaleX(0.75) scaleY(1.25);
    -ms-transform: scaleX(0.75) scaleY(1.25);
    transform: scaleX(0.75) scaleY(1.25);
  }

  60% {
    -webkit-transform: scaleX(1.15) scaleY(0.85);
    -ms-transform: scaleX(1.15) scaleY(0.85);
    transform: scaleX(1.15) scaleY(0.85);
  }

  100% {
    -webkit-transform: scale(1);
    -ms-transform: scale(1);
    transform: scale(1);
  }
}

.rubberBand {
  -webkit-animation-name: rubberBand;
  animation-name: rubberBand;
}

@-webkit-keyframes shake {
  0%, 100% {
    -webkit-transform: translateX(0);
    transform: translateX(0);
  }

  10%, 30%, 50%, 70%, 90% {
    -webkit-transform: translateX(-10px);
    transform: translateX(-10px);
  }

  20%, 40%, 60%, 80% {
    -webkit-transform: translateX(10px);
    transform: translateX(10px);
  }
}

@keyframes shake {
  0%, 100% {
    -webkit-transform: translateX(0);
    -ms-transform: translateX(0);
    transform: translateX(0);
  }

  10%, 30%, 50%, 70%, 90% {
    -webkit-transform: translateX(-10px);
    -ms-transform: translateX(-10px);
    transform: translateX(-10px);
  }

  20%, 40%, 60%, 80% {
    -webkit-transform: translateX(10px);
    -ms-transform: translateX(10px);
    transform: translateX(10px);
  }
}

.shake {
  -webkit-animation-name: shake;
  animation-name: shake;
}

@-webkit-keyframes swing {
  20% {
    -webkit-transform: rotate(15deg);
    transform: rotate(15deg);
  }

  40% {
    -webkit-transform: rotate(-10deg);
    transform: rotate(-10deg);
  }

  60% {
    -webkit-transform: rotate(5deg);
    transform: rotate(5deg);
  }

  80% {
    -webkit-transform: rotate(-5deg);
    transform: rotate(-5deg);
  }

  100% {
    -webkit-transform: rotate(0deg);
    transform: rotate(0deg);
  }
}

@keyframes swing {
  20% {
    -webkit-transform: rotate(15deg);
    -ms-transform: rotate(15deg);
    transform: rotate(15deg);
  }

  40% {
    -webkit-transform: rotate(-10deg);
    -ms-transform: rotate(-10deg);
    transform: rotate(-10deg);
  }

  60% {
    -webkit-transform: rotate(5deg);
    -ms-transform: rotate(5deg);
    transform: rotate(5deg);
  }

  80% {
    -webkit-transform: rotate(-5deg);
    -ms-transform: rotate(-5deg);
    transform: rotate(-5deg);
  }

  100% {
    -webkit-transform: rotate(0deg);
    -ms-transform: rotate(0deg);
    transform: rotate(0deg);
  }
}

.swing {
  -webkit-transform-origin: top center;
  -ms-transform-origin: top center;
  transform-origin: top center;
  -webkit-animation-name: swing;
  animation-name: swing;
}

@-webkit-keyframes tada {
  0% {
    -webkit-transform: scale(1);
    transform: scale(1);
  }

  10%, 20% {
    -webkit-transform: scale(0.9) rotate(-3deg);
    transform: scale(0.9) rotate(-3deg);
  }

  30%, 50%, 70%, 90% {
    -webkit-transform: scale(1.1) rotate(3deg);
    transform: scale(1.1) rotate(3deg);
  }

  40%, 60%, 80% {
    -webkit-transform: scale(1.1) rotate(-3deg);
    transform: scale(1.1) rotate(-3deg);
  }

  100% {
    -webkit-transform: scale(1) rotate(0);
    transform: scale(1) rotate(0);
  }
}

@keyframes tada {
  0% {
    -webkit-transform: scale(1);
    -ms-transform: scale(1);
    transform: scale(1);
  }

  10%, 20% {
    -webkit-transform: scale(0.9) rotate(-3deg);
    -ms-transform: scale(0.9) rotate(-3deg);
    transform: scale(0.9) rotate(-3deg);
  }

  30%, 50%, 70%, 90% {
    -webkit-transform: scale(1.1) rotate(3deg);
    -ms-transform: scale(1.1) rotate(3deg);
    transform: scale(1.1) rotate(3deg);
  }

  40%, 60%, 80% {
    -webkit-transform: scale(1.1) rotate(-3deg);
    -ms-transform: scale(1.1) rotate(-3deg);
    transform: scale(1.1) rotate(-3deg);
  }

  100% {
    -webkit-transform: scale(1) rotate(0);
    -ms-transform: scale(1) rotate(0);
    transform: scale(1) rotate(0);
  }
}

.tada {
  -webkit-animation-name: tada;
  animation-name: tada;
}

/* originally authored by Nick Pettit - https://github.com/nickpettit/glide */

@-webkit-keyframes wobble {
  0% {
    -webkit-transform: translateX(0%);
    transform: translateX(0%);
  }

  15% {
    -webkit-transform: translateX(-25%) rotate(-5deg);
    transform: translateX(-25%) rotate(-5deg);
  }

  30% {
    -webkit-transform: translateX(20%) rotate(3deg);
    transform: translateX(20%) rotate(3deg);
  }

  45% {
    -webkit-transform: translateX(-15%) rotate(-3deg);
    transform: translateX(-15%) rotate(-3deg);
  }

  60% {
    -webkit-transform: translateX(10%) rotate(2deg);
    transform: translateX(10%) rotate(2deg);
  }

  75% {
    -webkit-transform: translateX(-5%) rotate(-1deg);
    transform: translateX(-5%) rotate(-1deg);
  }

  100% {
    -webkit-transform: translateX(0%);
    transform: translateX(0%);
  }
}

@keyframes wobble {
  0% {
    -webkit-transform: translateX(0%);
    -ms-transform: translateX(0%);
    transform: translateX(0%);
  }

  15% {
    -webkit-transform: translateX(-25%) rotate(-5deg);
    -ms-transform: translateX(-25%) rotate(-5deg);
    transform: translateX(-25%) rotate(-5deg);
  }

  30% {
    -webkit-transform: translateX(20%) rotate(3deg);
    -ms-transform: translateX(20%) rotate(3deg);
    transform: translateX(20%) rotate(3deg);
  }

  45% {
    -webkit-transform: translateX(-15%) rotate(-3deg);
    -ms-transform: translateX(-15%) rotate(-3deg);
    transform: translateX(-15%) rotate(-3deg);
  }

  60% {
    -webkit-transform: translateX(10%) rotate(2deg);
    -ms-transform: translateX(10%) rotate(2deg);
    transform: translateX(10%) rotate(2deg);
  }

  75% {
    -webkit-transform: translateX(-5%) rotate(-1deg);
    -ms-transform: translateX(-5%) rotate(-1deg);
    transform: translateX(-5%) rotate(-1deg);
  }

  100% {
    -webkit-transform: translateX(0%);
    -ms-transform: translateX(0%);
    transform: translateX(0%);
  }
}

.wobble {
  -webkit-animation-name: wobble;
  animation-name: wobble;
}

@-webkit-keyframes bounceIn {
  0% {
    opacity: 0;
    -webkit-transform: scale(.3);
    transform: scale(.3);
  }

  50% {
    opacity: 1;
    -webkit-transform: scale(1.05);
    transform: scale(1.05);
  }

  70% {
    -webkit-transform: scale(.9);
    transform: scale(.9);
  }

  100% {
    opacity: 1;
    -webkit-transform: scale(1);
    transform: scale(1);
  }
}

@keyframes bounceIn {
  0% {
    opacity: 0;
    -webkit-transform: scale(.3);
    -ms-transform: scale(.3);
    transform: scale(.3);
  }

  50% {
    opacity: 1;
    -webkit-transform: scale(1.05);
    -ms-transform: scale(1.05);
    transform: scale(1.05);
  }

  70% {
    -webkit-transform: scale(.9);
    -ms-transform: scale(.9);
    transform: scale(.9);
  }

  100% {
    opacity: 1;
    -webkit-transform: scale(1);
    -ms-transform: scale(1);
    transform: scale(1);
  }
}

.bounceIn {
  -webkit-animation-name: bounceIn;
  animation-name: bounceIn;
}

@-webkit-keyframes bounceInDown {
  0% {
    opacity: 0;
    -webkit-transform: translateY(-2000px);
    transform: translateY(-2000px);
  }

  60% {
    opacity: 1;
    -webkit-transform: translateY(30px);
    transform: translateY(30px);
  }

  80% {
    -webkit-transform: translateY(-10px);
    transform: translateY(-10px);
  }

  100% {
    -webkit-transform: translateY(0);
    transform: translateY(0);
  }
}

@keyframes bounceInDown {
  0% {
    opacity: 0;
    -webkit-transform: translateY(-2000px);
    -ms-transform: translateY(-2000px);
    transform: translateY(-2000px);
  }

  60% {
    opacity: 1;
    -webkit-transform: translateY(30px);
    -ms-transform: translateY(30px);
    transform: translateY(30px);
  }

  80% {
    -webkit-transform: translateY(-10px);
    -ms-transform: translateY(-10px);
    transform: translateY(-10px);
  }

  100% {
    -webkit-transform: translateY(0);
    -ms-transform: translateY(0);
    transform: translateY(0);
  }
}

.bounceInDown {
  -webkit-animation-name: bounceInDown;
  animation-name: bounceInDown;
}

@-webkit-keyframes bounceInLeft {
  0% {
    opacity: 0;
    -webkit-transform: translateX(-2000px);
    transform: translateX(-2000px);
  }

  60% {
    opacity: 1;
    -webkit-transform: translateX(30px);
    transform: translateX(30px);
  }

  80% {
    -webkit-transform: translateX(-10px);
    transform: translateX(-10px);
  }

  100% {
    -webkit-transform: translateX(0);
    transform: translateX(0);
  }
}

@keyframes bounceInLeft {
  0% {
    opacity: 0;
    -webkit-transform: translateX(-2000px);
    -ms-transform: translateX(-2000px);
    transform: translateX(-2000px);
  }

  60% {
    opacity: 1;
    -webkit-transform: translateX(30px);
    -ms-transform: translateX(30px);
    transform: translateX(30px);
  }

  80% {
    -webkit-transform: translateX(-10px);
    -ms-transform: translateX(-10px);
    transform: translateX(-10px);
  }

  100% {
    -webkit-transform: translateX(0);
    -ms-transform: translateX(0);
    transform: translateX(0);
  }
}

.bounceInLeft {
  -webkit-animation-name: bounceInLeft;
  animation-name: bounceInLeft;
}

@-webkit-keyframes bounceInRight {
  0% {
    opacity: 0;
    -webkit-transform: translateX(2000px);
    transform: translateX(2000px);
  }

  60% {
    opacity: 1;
    -webkit-transform: translateX(-30px);
    transform: translateX(-30px);
  }

  80% {
    -webkit-transform: translateX(10px);
    transform: translateX(10px);
  }

  100% {
    -webkit-transform: translateX(0);
    transform: translateX(0);
  }
}

@keyframes bounceInRight {
  0% {
    opacity: 0;
    -webkit-transform: translateX(2000px);
    -ms-transform: translateX(2000px);
    transform: translateX(2000px);
  }

  60% {
    opacity: 1;
    -webkit-transform: translateX(-30px);
    -ms-transform: translateX(-30px);
    transform: translateX(-30px);
  }

  80% {
    -webkit-transform: translateX(10px);
    -ms-transform: translateX(10px);
    transform: translateX(10px);
  }

  100% {
    -webkit-transform: translateX(0);
    -ms-transform: translateX(0);
    transform: translateX(0);
  }
}

.bounceInRight {
  -webkit-animation-name: bounceInRight;
  animation-name: bounceInRight;
}

@-webkit-keyframes bounceInUp {
  0% {
    opacity: 0;
    -webkit-transform: translateY(2000px);
    transform: translateY(2000px);
  }

  60% {
    opacity: 1;
    -webkit-transform: translateY(-30px);
    transform: translateY(-30px);
  }

  80% {
    -webkit-transform: translateY(10px);
    transform: translateY(10px);
  }

  100% {
    -webkit-transform: translateY(0);
    transform: translateY(0);
  }
}

@keyframes bounceInUp {
  0% {
    opacity: 0;
    -webkit-transform: translateY(2000px);
    -ms-transform: translateY(2000px);
    transform: translateY(2000px);
  }

  60% {
    opacity: 1;
    -webkit-transform: translateY(-30px);
    -ms-transform: translateY(-30px);
    transform: translateY(-30px);
  }

  80% {
    -webkit-transform: translateY(10px);
    -ms-transform: translateY(10px);
    transform: translateY(10px);
  }

  100% {
    -webkit-transform: translateY(0);
    -ms-transform: translateY(0);
    transform: translateY(0);
  }
}

.bounceInUp {
  -webkit-animation-name: bounceInUp;
  animation-name: bounceInUp;
}

@-webkit-keyframes bounceOut {
  0% {
    -webkit-transform: scale(1);
    transform: scale(1);
  }

  25% {
    -webkit-transform: scale(.95);
    transform: scale(.95);
  }

  50% {
    opacity: 1;
    -webkit-transform: scale(1.1);
    transform: scale(1.1);
  }

  100% {
    opacity: 0;
    -webkit-transform: scale(.3);
    transform: scale(.3);
  }
}

@keyframes bounceOut {
  0% {
    -webkit-transform: scale(1);
    -ms-transform: scale(1);
    transform: scale(1);
  }

  25% {
    -webkit-transform: scale(.95);
    -ms-transform: scale(.95);
    transform: scale(.95);
  }

  50% {
    opacity: 1;
    -webkit-transform: scale(1.1);
    -ms-transform: scale(1.1);
    transform: scale(1.1);
  }

  100% {
    opacity: 0;
    -webkit-transform: scale(.3);
    -ms-transform: scale(.3);
    transform: scale(.3);
  }
}

.bounceOut {
  -webkit-animation-name: bounceOut;
  animation-name: bounceOut;
}

@-webkit-keyframes bounceOutDown {
  0% {
    -webkit-transform: translateY(0);
    transform: translateY(0);
  }

  20% {
    opacity: 1;
    -webkit-transform: translateY(-20px);
    transform: translateY(-20px);
  }

  100% {
    opacity: 0;
    -webkit-transform: translateY(2000px);
    transform: translateY(2000px);
  }
}

@keyframes bounceOutDown {
  0% {
    -webkit-transform: translateY(0);
    -ms-transform: translateY(0);
    transform: translateY(0);
  }

  20% {
    opacity: 1;
    -webkit-transform: translateY(-20px);
    -ms-transform: translateY(-20px);
    transform: translateY(-20px);
  }

  100% {
    opacity: 0;
    -webkit-transform: translateY(2000px);
    -ms-transform: translateY(2000px);
    transform: translateY(2000px);
  }
}

.bounceOutDown {
  -webkit-animation-name: bounceOutDown;
  animation-name: bounceOutDown;
}

@-webkit-keyframes bounceOutLeft {
  0% {
    -webkit-transform: translateX(0);
    transform: translateX(0);
  }

  20% {
    opacity: 1;
    -webkit-transform: translateX(20px);
    transform: translateX(20px);
  }

  100% {
    opacity: 0;
    -webkit-transform: translateX(-2000px);
    transform: translateX(-2000px);
  }
}

@keyframes bounceOutLeft {
  0% {
    -webkit-transform: translateX(0);
    -ms-transform: translateX(0);
    transform: translateX(0);
  }

  20% {
    opacity: 1;
    -webkit-transform: translateX(20px);
    -ms-transform: translateX(20px);
    transform: translateX(20px);
  }

  100% {
    opacity: 0;
    -webkit-transform: translateX(-2000px);
    -ms-transform: translateX(-2000px);
    transform: translateX(-2000px);
  }
}

.bounceOutLeft {
  -webkit-animation-name: bounceOutLeft;
  animation-name: bounceOutLeft;
}

@-webkit-keyframes bounceOutRight {
  0% {
    -webkit-transform: translateX(0);
    transform: translateX(0);
  }

  20% {
    opacity: 1;
    -webkit-transform: translateX(-20px);
    transform: translateX(-20px);
  }

  100% {
    opacity: 0;
    -webkit-transform: translateX(2000px);
    transform: translateX(2000px);
  }
}

@keyframes bounceOutRight {
  0% {
    -webkit-transform: translateX(0);
    -ms-transform: translateX(0);
    transform: translateX(0);
  }

  20% {
    opacity: 1;
    -webkit-transform: translateX(-20px);
    -ms-transform: translateX(-20px);
    transform: translateX(-20px);
  }

  100% {
    opacity: 0;
    -webkit-transform: translateX(2000px);
    -ms-transform: translateX(2000px);
    transform: translateX(2000px);
  }
}

.bounceOutRight {
  -webkit-animation-name: bounceOutRight;
  animation-name: bounceOutRight;
}

@-webkit-keyframes bounceOutUp {
  0% {
    -webkit-transform: translateY(0);
    transform: translateY(0);
  }

  20% {
    opacity: 1;
    -webkit-transform: translateY(20px);
    transform: translateY(20px);
  }

  100% {
    opacity: 0;
    -webkit-transform: translateY(-2000px);
    transform: translateY(-2000px);
  }
}

@keyframes bounceOutUp {
  0% {
    -webkit-transform: translateY(0);
    -ms-transform: translateY(0);
    transform: translateY(0);
  }

  20% {
    opacity: 1;
    -webkit-transform: translateY(20px);
    -ms-transform: translateY(20px);
    transform: translateY(20px);
  }

  100% {
    opacity: 0;
    -webkit-transform: translateY(-2000px);
    -ms-transform: translateY(-2000px);
    transform: translateY(-2000px);
  }
}

.bounceOutUp {
  -webkit-animation-name: bounceOutUp;
  animation-name: bounceOutUp;
}

@-webkit-keyframes fadeIn {
  0% {
    opacity: 0;
  }

  100% {
    opacity: 1;
  }
}

@keyframes fadeIn {
  0% {
    opacity: 0;
  }

  100% {
    opacity: 1;
  }
}

.fadeIn {
  -webkit-animation-name: fadeIn;
  animation-name: fadeIn;
}

@-webkit-keyframes fadeInDown {
  0% {
    opacity: 0;
    -webkit-transform: translateY(-20px);
    transform: translateY(-20px);
  }

  100% {
    opacity: 1;
    -webkit-transform: translateY(0);
    transform: translateY(0);
  }
}

@keyframes fadeInDown {
  0% {
    opacity: 0;
    -webkit-transform: translateY(-20px);
    -ms-transform: translateY(-20px);
    transform: translateY(-20px);
  }

  100% {
    opacity: 1;
    -webkit-transform: translateY(0);
    -ms-transform: translateY(0);
    transform: translateY(0);
  }
}

.fadeInDown {
  -webkit-animation-name: fadeInDown;
  animation-name: fadeInDown;
}

@-webkit-keyframes fadeInDownBig {
  0% {
    opacity: 0;
    -webkit-transform: translateY(-2000px);
    transform: translateY(-2000px);
  }

  100% {
    opacity: 1;
    -webkit-transform: translateY(0);
    transform: translateY(0);
  }
}

@keyframes fadeInDownBig {
  0% {
    opacity: 0;
    -webkit-transform: translateY(-2000px);
    -ms-transform: translateY(-2000px);
    transform: translateY(-2000px);
  }

  100% {
    opacity: 1;
    -webkit-transform: translateY(0);
    -ms-transform: translateY(0);
    transform: translateY(0);
  }
}

.fadeInDownBig {
  -webkit-animation-name: fadeInDownBig;
  animation-name: fadeInDownBig;
}

@-webkit-keyframes fadeInLeft {
  0% {
    opacity: 0;
    -webkit-transform: translateX(-20px);
    transform: translateX(-20px);
  }

  100% {
    opacity: 1;
    -webkit-transform: translateX(0);
    transform: translateX(0);
  }
}

@keyframes fadeInLeft {
  0% {
    opacity: 0;
    -webkit-transform: translateX(-20px);
    -ms-transform: translateX(-20px);
    transform: translateX(-20px);
  }

  100% {
    opacity: 1;
    -webkit-transform: translateX(0);
    -ms-transform: translateX(0);
    transform: translateX(0);
  }
}

.fadeInLeft {
  -webkit-animation-name: fadeInLeft;
  animation-name: fadeInLeft;
}

@-webkit-keyframes fadeInLeftBig {
  0% {
    opacity: 0;
    -webkit-transform: translateX(-2000px);
    transform: translateX(-2000px);
  }

  100% {
    opacity: 1;
    -webkit-transform: translateX(0);
    transform: translateX(0);
  }
}

@keyframes fadeInLeftBig {
  0% {
    opacity: 0;
    -webkit-transform: translateX(-2000px);
    -ms-transform: translateX(-2000px);
    transform: translateX(-2000px);
  }

  100% {
    opacity: 1;
    -webkit-transform: translateX(0);
    -ms-transform: translateX(0);
    transform: translateX(0);
  }
}

.fadeInLeftBig {
  -webkit-animation-name: fadeInLeftBig;
  animation-name: fadeInLeftBig;
}

@-webkit-keyframes fadeInRight {
  0% {
    opacity: 0;
    -webkit-transform: translateX(20px);
    transform: translateX(20px);
  }

  100% {
    opacity: 1;
    -webkit-transform: translateX(0);
    transform: translateX(0);
  }
}

@keyframes fadeInRight {
  0% {
    opacity: 0;
    -webkit-transform: translateX(20px);
    -ms-transform: translateX(20px);
    transform: translateX(20px);
  }

  100% {
    opacity: 1;
    -webkit-transform: translateX(0);
    -ms-transform: translateX(0);
    transform: translateX(0);
  }
}

.fadeInRight {
  -webkit-animation-name: fadeInRight;
  animation-name: fadeInRight;
}

@-webkit-keyframes fadeInRightBig {
  0% {
    opacity: 0;
    -webkit-transform: translateX(2000px);
    transform: translateX(2000px);
  }

  100% {
    opacity: 1;
    -webkit-transform: translateX(0);
    transform: translateX(0);
  }
}

@keyframes fadeInRightBig {
  0% {
    opacity: 0;
    -webkit-transform: translateX(2000px);
    -ms-transform: translateX(2000px);
    transform: translateX(2000px);
  }

  100% {
    opacity: 1;
    -webkit-transform: translateX(0);
    -ms-transform: translateX(0);
    transform: translateX(0);
  }
}

.fadeInRightBig {
  -webkit-animation-name: fadeInRightBig;
  animation-name: fadeInRightBig;
}

@-webkit-keyframes fadeInUp {
  0% {
    opacity: 0;
    -webkit-transform: translateY(20px);
    transform: translateY(20px);
  }

  100% {
    opacity: 1;
    -webkit-transform: translateY(0);
    transform: translateY(0);
  }
}

@keyframes fadeInUp {
  0% {
    opacity: 0;
    -webkit-transform: translateY(20px);
    -ms-transform: translateY(20px);
    transform: translateY(20px);
  }

  100% {
    opacity: 1;
    -webkit-transform: translateY(0);
    -ms-transform: translateY(0);
    transform: translateY(0);
  }
}

.fadeInUp {
  -webkit-animation-name: fadeInUp;
  animation-name: fadeInUp;
}

@-webkit-keyframes fadeInUpBig {
  0% {
    opacity: 0;
    -webkit-transform: translateY(2000px);
    transform: translateY(2000px);
  }

  100% {
    opacity: 1;
    -webkit-transform: translateY(0);
    transform: translateY(0);
  }
}

@keyframes fadeInUpBig {
  0% {
    opacity: 0;
    -webkit-transform: translateY(2000px);
    -ms-transform: translateY(2000px);
    transform: translateY(2000px);
  }

  100% {
    opacity: 1;
    -webkit-transform: translateY(0);
    -ms-transform: translateY(0);
    transform: translateY(0);
  }
}

.fadeInUpBig {
  -webkit-animation-name: fadeInUpBig;
  animation-name: fadeInUpBig;
}

@-webkit-keyframes fadeOut {
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
}

@keyframes fadeOut {
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
}

.fadeOut {
  -webkit-animation-name: fadeOut;
  animation-name: fadeOut;
}

@-webkit-keyframes fadeOutDown {
  0% {
    opacity: 1;
    -webkit-transform: translateY(0);
    transform: translateY(0);
  }

  100% {
    opacity: 0;
    -webkit-transform: translateY(20px);
    transform: translateY(20px);
  }
}

@keyframes fadeOutDown {
  0% {
    opacity: 1;
    -webkit-transform: translateY(0);
    -ms-transform: translateY(0);
    transform: translateY(0);
  }

  100% {
    opacity: 0;
    -webkit-transform: translateY(20px);
    -ms-transform: translateY(20px);
    transform: translateY(20px);
  }
}

.fadeOutDown {
  -webkit-animation-name: fadeOutDown;
  animation-name: fadeOutDown;
}

@-webkit-keyframes fadeOutDownBig {
  0% {
    opacity: 1;
    -webkit-transform: translateY(0);
    transform: translateY(0);
  }

  100% {
    opacity: 0;
    -webkit-transform: translateY(2000px);
    transform: translateY(2000px);
  }
}

@keyframes fadeOutDownBig {
  0% {
    opacity: 1;
    -webkit-transform: translateY(0);
    -ms-transform: translateY(0);
    transform: translateY(0);
  }

  100% {
    opacity: 0;
    -webkit-transform: translateY(2000px);
    -ms-transform: translateY(2000px);
    transform: translateY(2000px);
  }
}

.fadeOutDownBig {
  -webkit-animation-name: fadeOutDownBig;
  animation-name: fadeOutDownBig;
}

@-webkit-keyframes fadeOutLeft {
  0% {
    opacity: 1;
    -webkit-transform: translateX(0);
    transform: translateX(0);
  }

  100% {
    opacity: 0;
    -webkit-transform: translateX(-20px);
    transform: translateX(-20px);
  }
}

@keyframes fadeOutLeft {
  0% {
    opacity: 1;
    -webkit-transform: translateX(0);
    -ms-transform: translateX(0);
    transform: translateX(0);
  }

  100% {
    opacity: 0;
    -webkit-transform: translateX(-20px);
    -ms-transform: translateX(-20px);
    transform: translateX(-20px);
  }
}

.fadeOutLeft {
  -webkit-animation-name: fadeOutLeft;
  animation-name: fadeOutLeft;
}

@-webkit-keyframes fadeOutLeftBig {
  0% {
    opacity: 1;
    -webkit-transform: translateX(0);
    transform: translateX(0);
  }

  100% {
    opacity: 0;
    -webkit-transform: translateX(-2000px);
    transform: translateX(-2000px);
  }
}

@keyframes fadeOutLeftBig {
  0% {
    opacity: 1;
    -webkit-transform: translateX(0);
    -ms-transform: translateX(0);
    transform: translateX(0);
  }

  100% {
    opacity: 0;
    -webkit-transform: translateX(-2000px);
    -ms-transform: translateX(-2000px);
    transform: translateX(-2000px);
  }
}

.fadeOutLeftBig {
  -webkit-animation-name: fadeOutLeftBig;
  animation-name: fadeOutLeftBig;
}

@-webkit-keyframes fadeOutRight {
  0% {
    opacity: 1;
    -webkit-transform: translateX(0);
    transform: translateX(0);
  }

  100% {
    opacity: 0;
    -webkit-transform: translateX(20px);
    transform: translateX(20px);
  }
}

@keyframes fadeOutRight {
  0% {
    opacity: 1;
    -webkit-transform: translateX(0);
    -ms-transform: translateX(0);
    transform: translateX(0);
  }

  100% {
    opacity: 0;
    -webkit-transform: translateX(20px);
    -ms-transform: translateX(20px);
    transform: translateX(20px);
  }
}

.fadeOutRight {
  -webkit-animation-name: fadeOutRight;
  animation-name: fadeOutRight;
}

@-webkit-keyframes fadeOutRightBig {
  0% {
    opacity: 1;
    -webkit-transform: translateX(0);
    transform: translateX(0);
  }

  100% {
    opacity: 0;
    -webkit-transform: translateX(2000px);
    transform: translateX(2000px);
  }
}

@keyframes fadeOutRightBig {
  0% {
    opacity: 1;
    -webkit-transform: translateX(0);
    -ms-transform: translateX(0);
    transform: translateX(0);
  }

  100% {
    opacity: 0;
    -webkit-transform: translateX(2000px);
    -ms-transform: translateX(2000px);
    transform: translateX(2000px);
  }
}

.fadeOutRightBig {
  -webkit-animation-name: fadeOutRightBig;
  animation-name: fadeOutRightBig;
}

@-webkit-keyframes fadeOutUp {
  0% {
    opacity: 1;
    -webkit-transform: translateY(0);
    transform: translateY(0);
  }

  100% {
    opacity: 0;
    -webkit-transform: translateY(-20px);
    transform: translateY(-20px);
  }
}

@keyframes fadeOutUp {
  0% {
    opacity: 1;
    -webkit-transform: translateY(0);
    -ms-transform: translateY(0);
    transform: translateY(0);
  }

  100% {
    opacity: 0;
    -webkit-transform: translateY(-20px);
    -ms-transform: translateY(-20px);
    transform: translateY(-20px);
  }
}

.fadeOutUp {
  -webkit-animation-name: fadeOutUp;
  animation-name: fadeOutUp;
}

@-webkit-keyframes fadeOutUpBig {
  0% {
    opacity: 1;
    -webkit-transform: translateY(0);
    transform: translateY(0);
  }

  100% {
    opacity: 0;
    -webkit-transform: translateY(-2000px);
    transform: translateY(-2000px);
  }
}

@keyframes fadeOutUpBig {
  0% {
    opacity: 1;
    -webkit-transform: translateY(0);
    -ms-transform: translateY(0);
    transform: translateY(0);
  }

  100% {
    opacity: 0;
    -webkit-transform: translateY(-2000px);
    -ms-transform: translateY(-2000px);
    transform: translateY(-2000px);
  }
}

.fadeOutUpBig {
  -webkit-animation-name: fadeOutUpBig;
  animation-name: fadeOutUpBig;
}

@-webkit-keyframes flip {
  0% {
    -webkit-transform: perspective(400px) translateZ(0) rotateY(0) scale(1);
    transform: perspective(400px) translateZ(0) rotateY(0) scale(1);
    -webkit-animation-timing-function: ease-out;
    animation-timing-function: ease-out;
  }

  40% {
    -webkit-transform: perspective(400px) translateZ(150px) rotateY(170deg) scale(1);
    transform: perspective(400px) translateZ(150px) rotateY(170deg) scale(1);
    -webkit-animation-timing-function: ease-out;
    animation-timing-function: ease-out;
  }

  50% {
    -webkit-transform: perspective(400px) translateZ(150px) rotateY(190deg) scale(1);
    transform: perspective(400px) translateZ(150px) rotateY(190deg) scale(1);
    -webkit-animation-timing-function: ease-in;
    animation-timing-function: ease-in;
  }

  80% {
    -webkit-transform: perspective(400px) translateZ(0) rotateY(360deg) scale(.95);
    transform: perspective(400px) translateZ(0) rotateY(360deg) scale(.95);
    -webkit-animation-timing-function: ease-in;
    animation-timing-function: ease-in;
  }

  100% {
    -webkit-transform: perspective(400px) translateZ(0) rotateY(360deg) scale(1);
    transform: perspective(400px) translateZ(0) rotateY(360deg) scale(1);
    -webkit-animation-timing-function: ease-in;
    animation-timing-function: ease-in;
  }
}

@keyframes flip {
  0% {
    -webkit-transform: perspective(400px) translateZ(0) rotateY(0) scale(1);
    -ms-transform: perspective(400px) translateZ(0) rotateY(0) scale(1);
    transform: perspective(400px) translateZ(0) rotateY(0) scale(1);
    -webkit-animation-timing-function: ease-out;
    animation-timing-function: ease-out;
  }

  40% {
    -webkit-transform: perspective(400px) translateZ(150px) rotateY(170deg) scale(1);
    -ms-transform: perspective(400px) translateZ(150px) rotateY(170deg) scale(1);
    transform: perspective(400px) translateZ(150px) rotateY(170deg) scale(1);
    -webkit-animation-timing-function: ease-out;
    animation-timing-function: ease-out;
  }

  50% {
    -webkit-transform: perspective(400px) translateZ(150px) rotateY(190deg) scale(1);
    -ms-transform: perspective(400px) translateZ(150px) rotateY(190deg) scale(1);
    transform: perspective(400px) translateZ(150px) rotateY(190deg) scale(1);
    -webkit-animation-timing-function: ease-in;
    animation-timing-function: ease-in;
  }

  80% {
    -webkit-transform: perspective(400px) translateZ(0) rotateY(360deg) scale(.95);
    -ms-transform: perspective(400px) translateZ(0) rotateY(360deg) scale(.95);
    transform: perspective(400px) translateZ(0) rotateY(360deg) scale(.95);
    -webkit-animation-timing-function: ease-in;
    animation-timing-function: ease-in;
  }

  100% {
    -webkit-transform: perspective(400px) translateZ(0) rotateY(360deg) scale(1);
    -ms-transform: perspective(400px) translateZ(0) rotateY(360deg) scale(1);
    transform: perspective(400px) translateZ(0) rotateY(360deg) scale(1);
    -webkit-animation-timing-function: ease-in;
    animation-timing-function: ease-in;
  }
}

.animated.flip {
  -webkit-backface-visibility: visible;
  -ms-backface-visibility: visible;
  backface-visibility: visible;
  -webkit-animation-name: flip;
  animation-name: flip;
}

@-webkit-keyframes flipInX {
  0% {
    -webkit-transform: perspective(400px) rotateX(90deg);
    transform: perspective(400px) rotateX(90deg);
    opacity: 0;
  }

  40% {
    -webkit-transform: perspective(400px) rotateX(-10deg);
    transform: perspective(400px) rotateX(-10deg);
  }

  70% {
    -webkit-transform: perspective(400px) rotateX(10deg);
    transform: perspective(400px) rotateX(10deg);
  }

  100% {
    -webkit-transform: perspective(400px) rotateX(0deg);
    transform: perspective(400px) rotateX(0deg);
    opacity: 1;
  }
}

@keyframes flipInX {
  0% {
    -webkit-transform: perspective(400px) rotateX(90deg);
    -ms-transform: perspective(400px) rotateX(90deg);
    transform: perspective(400px) rotateX(90deg);
    opacity: 0;
  }

  40% {
    -webkit-transform: perspective(400px) rotateX(-10deg);
    -ms-transform: perspective(400px) rotateX(-10deg);
    transform: perspective(400px) rotateX(-10deg);
  }

  70% {
    -webkit-transform: perspective(400px) rotateX(10deg);
    -ms-transform: perspective(400px) rotateX(10deg);
    transform: perspective(400px) rotateX(10deg);
  }

  100% {
    -webkit-transform: perspective(400px) rotateX(0deg);
    -ms-transform: perspective(400px) rotateX(0deg);
    transform: perspective(400px) rotateX(0deg);
    opacity: 1;
  }
}

.flipInX {
  -webkit-backface-visibility: visible !important;
  -ms-backface-visibility: visible !important;
  backface-visibility: visible !important;
  -webkit-animation-name: flipInX;
  animation-name: flipInX;
}

@-webkit-keyframes flipInY {
  0% {
    -webkit-transform: perspective(400px) rotateY(90deg);
    transform: perspective(400px) rotateY(90deg);
    opacity: 0;
  }

  40% {
    -webkit-transform: perspective(400px) rotateY(-10deg);
    transform: perspective(400px) rotateY(-10deg);
  }

  70% {
    -webkit-transform: perspective(400px) rotateY(10deg);
    transform: perspective(400px) rotateY(10deg);
  }

  100% {
    -webkit-transform: perspective(400px) rotateY(0deg);
    transform: perspective(400px) rotateY(0deg);
    opacity: 1;
  }
}

@keyframes flipInY {
  0% {
    -webkit-transform: perspective(400px) rotateY(90deg);
    -ms-transform: perspective(400px) rotateY(90deg);
    transform: perspective(400px) rotateY(90deg);
    opacity: 0;
  }

  40% {
    -webkit-transform: perspective(400px) rotateY(-10deg);
    -ms-transform: perspective(400px) rotateY(-10deg);
    transform: perspective(400px) rotateY(-10deg);
  }

  70% {
    -webkit-transform: perspective(400px) rotateY(10deg);
    -ms-transform: perspective(400px) rotateY(10deg);
    transform: perspective(400px) rotateY(10deg);
  }

  100% {
    -webkit-transform: perspective(400px) rotateY(0deg);
    -ms-transform: perspective(400px) rotateY(0deg);
    transform: perspective(400px) rotateY(0deg);
    opacity: 1;
  }
}

.flipInY {
  -webkit-backface-visibility: visible !important;
  -ms-backface-visibility: visible !important;
  backface-visibility: visible !important;
  -webkit-animation-name: flipInY;
  animation-name: flipInY;
}

@-webkit-keyframes flipOutX {
  0% {
    -webkit-transform: perspective(400px) rotateX(0deg);
    transform: perspective(400px) rotateX(0deg);
    opacity: 1;
  }

  100% {
    -webkit-transform: perspective(400px) rotateX(90deg);
    transform: perspective(400px) rotateX(90deg);
    opacity: 0;
  }
}

@keyframes flipOutX {
  0% {
    -webkit-transform: perspective(400px) rotateX(0deg);
    -ms-transform: perspective(400px) rotateX(0deg);
    transform: perspective(400px) rotateX(0deg);
    opacity: 1;
  }

  100% {
    -webkit-transform: perspective(400px) rotateX(90deg);
    -ms-transform: perspective(400px) rotateX(90deg);
    transform: perspective(400px) rotateX(90deg);
    opacity: 0;
  }
}

.flipOutX {
  -webkit-animation-name: flipOutX;
  animation-name: flipOutX;
  -webkit-backface-visibility: visible !important;
  -ms-backface-visibility: visible !important;
  backface-visibility: visible !important;
}

@-webkit-keyframes flipOutY {
  0% {
    -webkit-transform: perspective(400px) rotateY(0deg);
    transform: perspective(400px) rotateY(0deg);
    opacity: 1;
  }

  100% {
    -webkit-transform: perspective(400px) rotateY(90deg);
    transform: perspective(400px) rotateY(90deg);
    opacity: 0;
  }
}

@keyframes flipOutY {
  0% {
    -webkit-transform: perspective(400px) rotateY(0deg);
    -ms-transform: perspective(400px) rotateY(0deg);
    transform: perspective(400px) rotateY(0deg);
    opacity: 1;
  }

  100% {
    -webkit-transform: perspective(400px) rotateY(90deg);
    -ms-transform: perspective(400px) rotateY(90deg);
    transform: perspective(400px) rotateY(90deg);
    opacity: 0;
  }
}

.flipOutY {
  -webkit-backface-visibility: visible !important;
  -ms-backface-visibility: visible !important;
  backface-visibility: visible !important;
  -webkit-animation-name: flipOutY;
  animation-name: flipOutY;
}

@-webkit-keyframes lightSpeedIn {
  0% {
    -webkit-transform: translateX(100%) skewX(-30deg);
    transform: translateX(100%) skewX(-30deg);
    opacity: 0;
  }

  60% {
    -webkit-transform: translateX(-20%) skewX(30deg);
    transform: translateX(-20%) skewX(30deg);
    opacity: 1;
  }

  80% {
    -webkit-transform: translateX(0%) skewX(-15deg);
    transform: translateX(0%) skewX(-15deg);
    opacity: 1;
  }

  100% {
    -webkit-transform: translateX(0%) skewX(0deg);
    transform: translateX(0%) skewX(0deg);
    opacity: 1;
  }
}

@keyframes lightSpeedIn {
  0% {
    -webkit-transform: translateX(100%) skewX(-30deg);
    -ms-transform: translateX(100%) skewX(-30deg);
    transform: translateX(100%) skewX(-30deg);
    opacity: 0;
  }

  60% {
    -webkit-transform: translateX(-20%) skewX(30deg);
    -ms-transform: translateX(-20%) skewX(30deg);
    transform: translateX(-20%) skewX(30deg);
    opacity: 1;
  }

  80% {
    -webkit-transform: translateX(0%) skewX(-15deg);
    -ms-transform: translateX(0%) skewX(-15deg);
    transform: translateX(0%) skewX(-15deg);
    opacity: 1;
  }

  100% {
    -webkit-transform: translateX(0%) skewX(0deg);
    -ms-transform: translateX(0%) skewX(0deg);
    transform: translateX(0%) skewX(0deg);
    opacity: 1;
  }
}

.lightSpeedIn {
  -webkit-animation-name: lightSpeedIn;
  animation-name: lightSpeedIn;
  -webkit-animation-timing-function: ease-out;
  animation-timing-function: ease-out;
}

@-webkit-keyframes lightSpeedOut {
  0% {
    -webkit-transform: translateX(0%) skewX(0deg);
    transform: translateX(0%) skewX(0deg);
    opacity: 1;
  }

  100% {
    -webkit-transform: translateX(100%) skewX(-30deg);
    transform: translateX(100%) skewX(-30deg);
    opacity: 0;
  }
}

@keyframes lightSpeedOut {
  0% {
    -webkit-transform: translateX(0%) skewX(0deg);
    -ms-transform: translateX(0%) skewX(0deg);
    transform: translateX(0%) skewX(0deg);
    opacity: 1;
  }

  100% {
    -webkit-transform: translateX(100%) skewX(-30deg);
    -ms-transform: translateX(100%) skewX(-30deg);
    transform: translateX(100%) skewX(-30deg);
    opacity: 0;
  }
}

.lightSpeedOut {
  -webkit-animation-name: lightSpeedOut;
  animation-name: lightSpeedOut;
  -webkit-animation-timing-function: ease-in;
  animation-timing-function: ease-in;
}

@-webkit-keyframes rotateIn {
  0% {
    -webkit-transform-origin: center center;
    transform-origin: center center;
    -webkit-transform: rotate(-200deg);
    transform: rotate(-200deg);
    opacity: 0;
  }

  100% {
    -webkit-transform-origin: center center;
    transform-origin: center center;
    -webkit-transform: rotate(0);
    transform: rotate(0);
    opacity: 1;
  }
}

@keyframes rotateIn {
  0% {
    -webkit-transform-origin: center center;
    -ms-transform-origin: center center;
    transform-origin: center center;
    -webkit-transform: rotate(-200deg);
    -ms-transform: rotate(-200deg);
    transform: rotate(-200deg);
    opacity: 0;
  }

  100% {
    -webkit-transform-origin: center center;
    -ms-transform-origin: center center;
    transform-origin: center center;
    -webkit-transform: rotate(0);
    -ms-transform: rotate(0);
    transform: rotate(0);
    opacity: 1;
  }
}

.rotateIn {
  -webkit-animation-name: rotateIn;
  animation-name: rotateIn;
}

@-webkit-keyframes rotateInDownLeft {
  0% {
    -webkit-transform-origin: left bottom;
    transform-origin: left bottom;
    -webkit-transform: rotate(-90deg);
    transform: rotate(-90deg);
    opacity: 0;
  }

  100% {
    -webkit-transform-origin: left bottom;
    transform-origin: left bottom;
    -webkit-transform: rotate(0);
    transform: rotate(0);
    opacity: 1;
  }
}

@keyframes rotateInDownLeft {
  0% {
    -webkit-transform-origin: left bottom;
    -ms-transform-origin: left bottom;
    transform-origin: left bottom;
    -webkit-transform: rotate(-90deg);
    -ms-transform: rotate(-90deg);
    transform: rotate(-90deg);
    opacity: 0;
  }

  100% {
    -webkit-transform-origin: left bottom;
    -ms-transform-origin: left bottom;
    transform-origin: left bottom;
    -webkit-transform: rotate(0);
    -ms-transform: rotate(0);
    transform: rotate(0);
    opacity: 1;
  }
}

.rotateInDownLeft {
  -webkit-animation-name: rotateInDownLeft;
  animation-name: rotateInDownLeft;
}

@-webkit-keyframes rotateInDownRight {
  0% {
    -webkit-transform-origin: right bottom;
    transform-origin: right bottom;
    -webkit-transform: rotate(90deg);
    transform: rotate(90deg);
    opacity: 0;
  }

  100% {
    -webkit-transform-origin: right bottom;
    transform-origin: right bottom;
    -webkit-transform: rotate(0);
    transform: rotate(0);
    opacity: 1;
  }
}

@keyframes rotateInDownRight {
  0% {
    -webkit-transform-origin: right bottom;
    -ms-transform-origin: right bottom;
    transform-origin: right bottom;
    -webkit-transform: rotate(90deg);
    -ms-transform: rotate(90deg);
    transform: rotate(90deg);
    opacity: 0;
  }

  100% {
    -webkit-transform-origin: right bottom;
    -ms-transform-origin: right bottom;
    transform-origin: right bottom;
    -webkit-transform: rotate(0);
    -ms-transform: rotate(0);
    transform: rotate(0);
    opacity: 1;
  }
}

.rotateInDownRight {
  -webkit-animation-name: rotateInDownRight;
  animation-name: rotateInDownRight;
}

@-webkit-keyframes rotateInUpLeft {
  0% {
    -webkit-transform-origin: left bottom;
    transform-origin: left bottom;
    -webkit-transform: rotate(90deg);
    transform: rotate(90deg);
    opacity: 0;
  }

  100% {
    -webkit-transform-origin: left bottom;
    transform-origin: left bottom;
    -webkit-transform: rotate(0);
    transform: rotate(0);
    opacity: 1;
  }
}

@keyframes rotateInUpLeft {
  0% {
    -webkit-transform-origin: left bottom;
    -ms-transform-origin: left bottom;
    transform-origin: left bottom;
    -webkit-transform: rotate(90deg);
    -ms-transform: rotate(90deg);
    transform: rotate(90deg);
    opacity: 0;
  }

  100% {
    -webkit-transform-origin: left bottom;
    -ms-transform-origin: left bottom;
    transform-origin: left bottom;
    -webkit-transform: rotate(0);
    -ms-transform: rotate(0);
    transform: rotate(0);
    opacity: 1;
  }
}

.rotateInUpLeft {
  -webkit-animation-name: rotateInUpLeft;
  animation-name: rotateInUpLeft;
}

@-webkit-keyframes rotateInUpRight {
  0% {
    -webkit-transform-origin: right bottom;
    transform-origin: right bottom;
    -webkit-transform: rotate(-90deg);
    transform: rotate(-90deg);
    opacity: 0;
  }

  100% {
    -webkit-transform-origin: right bottom;
    transform-origin: right bottom;
    -webkit-transform: rotate(0);
    transform: rotate(0);
    opacity: 1;
  }
}

@keyframes rotateInUpRight {
  0% {
    -webkit-transform-origin: right bottom;
    -ms-transform-origin: right bottom;
    transform-origin: right bottom;
    -webkit-transform: rotate(-90deg);
    -ms-transform: rotate(-90deg);
    transform: rotate(-90deg);
    opacity: 0;
  }

  100% {
    -webkit-transform-origin: right bottom;
    -ms-transform-origin: right bottom;
    transform-origin: right bottom;
    -webkit-transform: rotate(0);
    -ms-transform: rotate(0);
    transform: rotate(0);
    opacity: 1;
  }
}

.rotateInUpRight {
  -webkit-animation-name: rotateInUpRight;
  animation-name: rotateInUpRight;
}

@-webkit-keyframes rotateOut {
  0% {
    -webkit-transform-origin: center center;
    transform-origin: center center;
    -webkit-transform: rotate(0);
    transform: rotate(0);
    opacity: 1;
  }

  100% {
    -webkit-transform-origin: center center;
    transform-origin: center center;
    -webkit-transform: rotate(200deg);
    transform: rotate(200deg);
    opacity: 0;
  }
}

@keyframes rotateOut {
  0% {
    -webkit-transform-origin: center center;
    -ms-transform-origin: center center;
    transform-origin: center center;
    -webkit-transform: rotate(0);
    -ms-transform: rotate(0);
    transform: rotate(0);
    opacity: 1;
  }

  100% {
    -webkit-transform-origin: center center;
    -ms-transform-origin: center center;
    transform-origin: center center;
    -webkit-transform: rotate(200deg);
    -ms-transform: rotate(200deg);
    transform: rotate(200deg);
    opacity: 0;
  }
}

.rotateOut {
  -webkit-animation-name: rotateOut;
  animation-name: rotateOut;
}

@-webkit-keyframes rotateOutDownLeft {
  0% {
    -webkit-transform-origin: left bottom;
    transform-origin: left bottom;
    -webkit-transform: rotate(0);
    transform: rotate(0);
    opacity: 1;
  }

  100% {
    -webkit-transform-origin: left bottom;
    transform-origin: left bottom;
    -webkit-transform: rotate(90deg);
    transform: rotate(90deg);
    opacity: 0;
  }
}

@keyframes rotateOutDownLeft {
  0% {
    -webkit-transform-origin: left bottom;
    -ms-transform-origin: left bottom;
    transform-origin: left bottom;
    -webkit-transform: rotate(0);
    -ms-transform: rotate(0);
    transform: rotate(0);
    opacity: 1;
  }

  100% {
    -webkit-transform-origin: left bottom;
    -ms-transform-origin: left bottom;
    transform-origin: left bottom;
    -webkit-transform: rotate(90deg);
    -ms-transform: rotate(90deg);
    transform: rotate(90deg);
    opacity: 0;
  }
}

.rotateOutDownLeft {
  -webkit-animation-name: rotateOutDownLeft;
  animation-name: rotateOutDownLeft;
}

@-webkit-keyframes rotateOutDownRight {
  0% {
    -webkit-transform-origin: right bottom;
    transform-origin: right bottom;
    -webkit-transform: rotate(0);
    transform: rotate(0);
    opacity: 1;
  }

  100% {
    -webkit-transform-origin: right bottom;
    transform-origin: right bottom;
    -webkit-transform: rotate(-90deg);
    transform: rotate(-90deg);
    opacity: 0;
  }
}

@keyframes rotateOutDownRight {
  0% {
    -webkit-transform-origin: right bottom;
    -ms-transform-origin: right bottom;
    transform-origin: right bottom;
    -webkit-transform: rotate(0);
    -ms-transform: rotate(0);
    transform: rotate(0);
    opacity: 1;
  }

  100% {
    -webkit-transform-origin: right bottom;
    -ms-transform-origin: right bottom;
    transform-origin: right bottom;
    -webkit-transform: rotate(-90deg);
    -ms-transform: rotate(-90deg);
    transform: rotate(-90deg);
    opacity: 0;
  }
}

.rotateOutDownRight {
  -webkit-animation-name: rotateOutDownRight;
  animation-name: rotateOutDownRight;
}

@-webkit-keyframes rotateOutUpLeft {
  0% {
    -webkit-transform-origin: left bottom;
    transform-origin: left bottom;
    -webkit-transform: rotate(0);
    transform: rotate(0);
    opacity: 1;
  }

  100% {
    -webkit-transform-origin: left bottom;
    transform-origin: left bottom;
    -webkit-transform: rotate(-90deg);
    transform: rotate(-90deg);
    opacity: 0;
  }
}

@keyframes rotateOutUpLeft {
  0% {
    -webkit-transform-origin: left bottom;
    -ms-transform-origin: left bottom;
    transform-origin: left bottom;
    -webkit-transform: rotate(0);
    -ms-transform: rotate(0);
    transform: rotate(0);
    opacity: 1;
  }

  100% {
    -webkit-transform-origin: left bottom;
    -ms-transform-origin: left bottom;
    transform-origin: left bottom;
    -webkit-transform: rotate(-90deg);
    -ms-transform: rotate(-90deg);
    transform: rotate(-90deg);
    opacity: 0;
  }
}

.rotateOutUpLeft {
  -webkit-animation-name: rotateOutUpLeft;
  animation-name: rotateOutUpLeft;
}

@-webkit-keyframes rotateOutUpRight {
  0% {
    -webkit-transform-origin: right bottom;
    transform-origin: right bottom;
    -webkit-transform: rotate(0);
    transform: rotate(0);
    opacity: 1;
  }

  100% {
    -webkit-transform-origin: right bottom;
    transform-origin: right bottom;
    -webkit-transform: rotate(90deg);
    transform: rotate(90deg);
    opacity: 0;
  }
}

@keyframes rotateOutUpRight {
  0% {
    -webkit-transform-origin: right bottom;
    -ms-transform-origin: right bottom;
    transform-origin: right bottom;
    -webkit-transform: rotate(0);
    -ms-transform: rotate(0);
    transform: rotate(0);
    opacity: 1;
  }

  100% {
    -webkit-transform-origin: right bottom;
    -ms-transform-origin: right bottom;
    transform-origin: right bottom;
    -webkit-transform: rotate(90deg);
    -ms-transform: rotate(90deg);
    transform: rotate(90deg);
    opacity: 0;
  }
}

.rotateOutUpRight {
  -webkit-animation-name: rotateOutUpRight;
  animation-name: rotateOutUpRight;
}

@-webkit-keyframes slideInDown {
  0% {
    opacity: 0;
    -webkit-transform: translateY(-2000px);
    transform: translateY(-2000px);
  }

  100% {
    -webkit-transform: translateY(0);
    transform: translateY(0);
  }
}

@keyframes slideInDown {
  0% {
    opacity: 0;
    -webkit-transform: translateY(-2000px);
    -ms-transform: translateY(-2000px);
    transform: translateY(-2000px);
  }

  100% {
    -webkit-transform: translateY(0);
    -ms-transform: translateY(0);
    transform: translateY(0);
  }
}

.slideInDown {
  -webkit-animation-name: slideInDown;
  animation-name: slideInDown;
}

@-webkit-keyframes slideInLeft {
  0% {
    opacity: 0;
    -webkit-transform: translateX(-2000px);
    transform: translateX(-2000px);
  }

  100% {
    -webkit-transform: translateX(0);
    transform: translateX(0);
  }
}

@keyframes slideInLeft {
  0% {
    opacity: 0;
    -webkit-transform: translateX(-2000px);
    -ms-transform: translateX(-2000px);
    transform: translateX(-2000px);
  }

  100% {
    -webkit-transform: translateX(0);
    -ms-transform: translateX(0);
    transform: translateX(0);
  }
}

.slideInLeft {
  -webkit-animation-name: slideInLeft;
  animation-name: slideInLeft;
}

@-webkit-keyframes slideInRight {
  0% {
    opacity: 0;
    -webkit-transform: translateX(2000px);
    transform: translateX(2000px);
  }

  100% {
    -webkit-transform: translateX(0);
    transform: translateX(0);
  }
}

@keyframes slideInRight {
  0% {
    opacity: 0;
    -webkit-transform: translateX(2000px);
    -ms-transform: translateX(2000px);
    transform: translateX(2000px);
  }

  100% {
    -webkit-transform: translateX(0);
    -ms-transform: translateX(0);
    transform: translateX(0);
  }
}

.slideInRight {
  -webkit-animation-name: slideInRight;
  animation-name: slideInRight;
}

@-webkit-keyframes slideOutLeft {
  0% {
    -webkit-transform: translateX(0);
    transform: translateX(0);
  }

  100% {
    opacity: 0;
    -webkit-transform: translateX(-2000px);
    transform: translateX(-2000px);
  }
}

@keyframes slideOutLeft {
  0% {
    -webkit-transform: translateX(0);
    -ms-transform: translateX(0);
    transform: translateX(0);
  }

  100% {
    opacity: 0;
    -webkit-transform: translateX(-2000px);
    -ms-transform: translateX(-2000px);
    transform: translateX(-2000px);
  }
}

.slideOutLeft {
  -webkit-animation-name: slideOutLeft;
  animation-name: slideOutLeft;
}

@-webkit-keyframes slideOutRight {
  0% {
    -webkit-transform: translateX(0);
    transform: translateX(0);
  }

  100% {
    opacity: 0;
    -webkit-transform: translateX(2000px);
    transform: translateX(2000px);
  }
}

@keyframes slideOutRight {
  0% {
    -webkit-transform: translateX(0);
    -ms-transform: translateX(0);
    transform: translateX(0);
  }

  100% {
    opacity: 0;
    -webkit-transform: translateX(2000px);
    -ms-transform: translateX(2000px);
    transform: translateX(2000px);
  }
}

.slideOutRight {
  -webkit-animation-name: slideOutRight;
  animation-name: slideOutRight;
}

@-webkit-keyframes slideOutUp {
  0% {
    -webkit-transform: translateY(0);
    transform: translateY(0);
  }

  100% {
    opacity: 0;
    -webkit-transform: translateY(-2000px);
    transform: translateY(-2000px);
  }
}

@keyframes slideOutUp {
  0% {
    -webkit-transform: translateY(0);
    -ms-transform: translateY(0);
    transform: translateY(0);
  }

  100% {
    opacity: 0;
    -webkit-transform: translateY(-2000px);
    -ms-transform: translateY(-2000px);
    transform: translateY(-2000px);
  }
}

.slideOutUp {
  -webkit-animation-name: slideOutUp;
  animation-name: slideOutUp;
}

@-webkit-keyframes slideInUp {
  0% {
    opacity: 0;
    -webkit-transform: translateY(2000px);
    transform: translateY(2000px);
  }

  100% {
    opacity: 1;
    -webkit-transform: translateY(0);
    transform: translateY(0);
  }
}

@keyframes slideInUp {
  0% {
    opacity: 0;
    -webkit-transform: translateY(2000px);
    -ms-transform: translateY(2000px);
    transform: translateY(2000px);
  }

  100% {
    opacity: 1;
    -webkit-transform: translateY(0);
    -ms-transform: translateY(0);
    transform: translateY(0);
  }
}

.slideInUp {
  -webkit-animation-name: slideInUp;
  animation-name: slideInUp;
}

@-webkit-keyframes slideOutDown {
  0% {
    -webkit-transform: translateY(0);
    transform: translateY(0);
  }

  100% {
    opacity: 0;
    -webkit-transform: translateY(2000px);
    transform: translateY(2000px);
  }
}

@keyframes slideOutDown {
  0% {
    -webkit-transform: translateY(0);
    -ms-transform: translateY(0);
    transform: translateY(0);
  }

  100% {
    opacity: 0;
    -webkit-transform: translateY(2000px);
    -ms-transform: translateY(2000px);
    transform: translateY(2000px);
  }
}

.slideOutDown {
  -webkit-animation-name: slideOutDown;
  animation-name: slideOutDown;
}

@-webkit-keyframes hinge {
  0% {
    -webkit-transform: rotate(0);
    transform: rotate(0);
    -webkit-transform-origin: top left;
    transform-origin: top left;
    -webkit-animation-timing-function: ease-in-out;
    animation-timing-function: ease-in-out;
  }

  20%, 60% {
    -webkit-transform: rotate(80deg);
    transform: rotate(80deg);
    -webkit-transform-origin: top left;
    transform-origin: top left;
    -webkit-animation-timing-function: ease-in-out;
    animation-timing-function: ease-in-out;
  }

  40% {
    -webkit-transform: rotate(60deg);
    transform: rotate(60deg);
    -webkit-transform-origin: top left;
    transform-origin: top left;
    -webkit-animation-timing-function: ease-in-out;
    animation-timing-function: ease-in-out;
  }

  80% {
    -webkit-transform: rotate(60deg) translateY(0);
    transform: rotate(60deg) translateY(0);
    -webkit-transform-origin: top left;
    transform-origin: top left;
    -webkit-animation-timing-function: ease-in-out;
    animation-timing-function: ease-in-out;
    opacity: 1;
  }

  100% {
    -webkit-transform: translateY(700px);
    transform: translateY(700px);
    opacity: 0;
  }
}

@keyframes hinge {
  0% {
    -webkit-transform: rotate(0);
    -ms-transform: rotate(0);
    transform: rotate(0);
    -webkit-transform-origin: top left;
    -ms-transform-origin: top left;
    transform-origin: top left;
    -webkit-animation-timing-function: ease-in-out;
    animation-timing-function: ease-in-out;
  }

  20%, 60% {
    -webkit-transform: rotate(80deg);
    -ms-transform: rotate(80deg);
    transform: rotate(80deg);
    -webkit-transform-origin: top left;
    -ms-transform-origin: top left;
    transform-origin: top left;
    -webkit-animation-timing-function: ease-in-out;
    animation-timing-function: ease-in-out;
  }

  40% {
    -webkit-transform: rotate(60deg);
    -ms-transform: rotate(60deg);
    transform: rotate(60deg);
    -webkit-transform-origin: top left;
    -ms-transform-origin: top left;
    transform-origin: top left;
    -webkit-animation-timing-function: ease-in-out;
    animation-timing-function: ease-in-out;
  }

  80% {
    -webkit-transform: rotate(60deg) translateY(0);
    -ms-transform: rotate(60deg) translateY(0);
    transform: rotate(60deg) translateY(0);
    -webkit-transform-origin: top left;
    -ms-transform-origin: top left;
    transform-origin: top left;
    -webkit-animation-timing-function: ease-in-out;
    animation-timing-function: ease-in-out;
    opacity: 1;
  }

  100% {
    -webkit-transform: translateY(700px);
    -ms-transform: translateY(700px);
    transform: translateY(700px);
    opacity: 0;
  }
}

.hinge {
  -webkit-animation-name: hinge;
  animation-name: hinge;
}

/* originally authored by Nick Pettit - https://github.com/nickpettit/glide */

@-webkit-keyframes rollIn {
  0% {
    opacity: 0;
    -webkit-transform: translateX(-100%) rotate(-120deg);
    transform: translateX(-100%) rotate(-120deg);
  }

  100% {
    opacity: 1;
    -webkit-transform: translateX(0px) rotate(0deg);
    transform: translateX(0px) rotate(0deg);
  }
}

@keyframes rollIn {
  0% {
    opacity: 0;
    -webkit-transform: translateX(-100%) rotate(-120deg);
    -ms-transform: translateX(-100%) rotate(-120deg);
    transform: translateX(-100%) rotate(-120deg);
  }

  100% {
    opacity: 1;
    -webkit-transform: translateX(0px) rotate(0deg);
    -ms-transform: translateX(0px) rotate(0deg);
    transform: translateX(0px) rotate(0deg);
  }
}

.rollIn {
  -webkit-animation-name: rollIn;
  animation-name: rollIn;
}

/* originally authored by Nick Pettit - https://github.com/nickpettit/glide */

@-webkit-keyframes rollOut {
  0% {
    opacity: 1;
    -webkit-transform: translateX(0px) rotate(0deg);
    transform: translateX(0px) rotate(0deg);
  }

  100% {
    opacity: 0;
    -webkit-transform: translateX(100%) rotate(120deg);
    transform: translateX(100%) rotate(120deg);
  }
}

@keyframes rollOut {
  0% {
    opacity: 1;
    -webkit-transform: translateX(0px) rotate(0deg);
    -ms-transform: translateX(0px) rotate(0deg);
    transform: translateX(0px) rotate(0deg);
  }

  100% {
    opacity: 0;
    -webkit-transform: translateX(100%) rotate(120deg);
    -ms-transform: translateX(100%) rotate(120deg);
    transform: translateX(100%) rotate(120deg);
  }
}

.rollOut {
  -webkit-animation-name: rollOut;
  animation-name: rollOut;
}

@-webkit-keyframes zoomIn {
  0% {
    opacity: 0;
    -webkit-transform: scale(.3);
    transform: scale(.3);
  }

  50% {
    opacity: 1;
  }
}

@keyframes zoomIn {
  0% {
    opacity: 0;
    -webkit-transform: scale(.3);
    -ms-transform: scale(.3);
    transform: scale(.3);
  }

  50% {
    opacity: 1;
  }
}

.zoomIn {
  -webkit-animation-name: zoomIn;
  animation-name: zoomIn;
}

@-webkit-keyframes zoomInDown {
  0% {
    opacity: 0;
    -webkit-transform: scale(.1) translateY(-2000px);
    transform: scale(.1) translateY(-2000px);
    -webkit-animation-timing-function: ease-in-out;
    animation-timing-function: ease-in-out;
  }

  60% {
    opacity: 1;
    -webkit-transform: scale(.475) translateY(60px);
    transform: scale(.475) translateY(60px);
    -webkit-animation-timing-function: ease-out;
    animation-timing-function: ease-out;
  }
}

@keyframes zoomInDown {
  0% {
    opacity: 0;
    -webkit-transform: scale(.1) translateY(-2000px);
    -ms-transform: scale(.1) translateY(-2000px);
    transform: scale(.1) translateY(-2000px);
    -webkit-animation-timing-function: ease-in-out;
    animation-timing-function: ease-in-out;
  }

  60% {
    opacity: 1;
    -webkit-transform: scale(.475) translateY(60px);
    -ms-transform: scale(.475) translateY(60px);
    transform: scale(.475) translateY(60px);
    -webkit-animation-timing-function: ease-out;
    animation-timing-function: ease-out;
  }
}

.zoomInDown {
  -webkit-animation-name: zoomInDown;
  animation-name: zoomInDown;
}

@-webkit-keyframes zoomInLeft {
  0% {
    opacity: 0;
    -webkit-transform: scale(.1) translateX(-2000px);
    transform: scale(.1) translateX(-2000px);
    -webkit-animation-timing-function: ease-in-out;
    animation-timing-function: ease-in-out;
  }

  60% {
    opacity: 1;
    -webkit-transform: scale(.475) translateX(48px);
    transform: scale(.475) translateX(48px);
    -webkit-animation-timing-function: ease-out;
    animation-timing-function: ease-out;
  }
}

@keyframes zoomInLeft {
  0% {
    opacity: 0;
    -webkit-transform: scale(.1) translateX(-2000px);
    -ms-transform: scale(.1) translateX(-2000px);
    transform: scale(.1) translateX(-2000px);
    -webkit-animation-timing-function: ease-in-out;
    animation-timing-function: ease-in-out;
  }

  60% {
    opacity: 1;
    -webkit-transform: scale(.475) translateX(48px);
    -ms-transform: scale(.475) translateX(48px);
    transform: scale(.475) translateX(48px);
    -webkit-animation-timing-function: ease-out;
    animation-timing-function: ease-out;
  }
}

.zoomInLeft {
  -webkit-animation-name: zoomInLeft;
  animation-name: zoomInLeft;
}

@-webkit-keyframes zoomInRight {
  0% {
    opacity: 0;
    -webkit-transform: scale(.1) translateX(2000px);
    transform: scale(.1) translateX(2000px);
    -webkit-animation-timing-function: ease-in-out;
    animation-timing-function: ease-in-out;
  }

  60% {
    opacity: 1;
    -webkit-transform: scale(.475) translateX(-48px);
    transform: scale(.475) translateX(-48px);
    -webkit-animation-timing-function: ease-out;
    animation-timing-function: ease-out;
  }
}

@keyframes zoomInRight {
  0% {
    opacity: 0;
    -webkit-transform: scale(.1) translateX(2000px);
    -ms-transform: scale(.1) translateX(2000px);
    transform: scale(.1) translateX(2000px);
    -webkit-animation-timing-function: ease-in-out;
    animation-timing-function: ease-in-out;
  }

  60% {
    opacity: 1;
    -webkit-transform: scale(.475) translateX(-48px);
    -ms-transform: scale(.475) translateX(-48px);
    transform: scale(.475) translateX(-48px);
    -webkit-animation-timing-function: ease-out;
    animation-timing-function: ease-out;
  }
}

.zoomInRight {
  -webkit-animation-name: zoomInRight;
  animation-name: zoomInRight;
}

@-webkit-keyframes zoomInUp {
  0% {
    opacity: 0;
    -webkit-transform: scale(.1) translateY(2000px);
    transform: scale(.1) translateY(2000px);
    -webkit-animation-timing-function: ease-in-out;
    animation-timing-function: ease-in-out;
  }

  60% {
    opacity: 1;
    -webkit-transform: scale(.475) translateY(-60px);
    transform: scale(.475) translateY(-60px);
    -webkit-animation-timing-function: ease-out;
    animation-timing-function: ease-out;
  }
}

@keyframes zoomInUp {
  0% {
    opacity: 0;
    -webkit-transform: scale(.1) translateY(2000px);
    -ms-transform: scale(.1) translateY(2000px);
    transform: scale(.1) translateY(2000px);
    -webkit-animation-timing-function: ease-in-out;
    animation-timing-function: ease-in-out;
  }

  60% {
    opacity: 1;
    -webkit-transform: scale(.475) translateY(-60px);
    -ms-transform: scale(.475) translateY(-60px);
    transform: scale(.475) translateY(-60px);
    -webkit-animation-timing-function: ease-out;
    animation-timing-function: ease-out;
  }
}

.zoomInUp {
  -webkit-animation-name: zoomInUp;
  animation-name: zoomInUp;
}

@-webkit-keyframes zoomOut {
  0% {
    opacity: 1;
    -webkit-transform: scale(1);
    transform: scale(1);
  }

  50% {
    opacity: 0;
    -webkit-transform: scale(.3);
    transform: scale(.3);
  }

  100% {
    opacity: 0;
  }
}

@keyframes zoomOut {
  0% {
    opacity: 1;
    -webkit-transform: scale(1);
    -ms-transform: scale(1);
    transform: scale(1);
  }

  50% {
    opacity: 0;
    -webkit-transform: scale(.3);
    -ms-transform: scale(.3);
    transform: scale(.3);
  }

  100% {
    opacity: 0;
  }
}

.zoomOut {
  -webkit-animation-name: zoomOut;
  animation-name: zoomOut;
}

@-webkit-keyframes zoomOutDown {
  40% {
    opacity: 1;
    -webkit-transform: scale(.475) translateY(-60px);
    transform: scale(.475) translateY(-60px);
    -webkit-animation-timing-function: linear;
    animation-timing-function: linear;
  }

  100% {
    opacity: 0;
    -webkit-transform: scale(.1) translateY(2000px);
    transform: scale(.1) translateY(2000px);
    -webkit-transform-origin: center bottom;
    transform-origin: center bottom;
  }
}

@keyframes zoomOutDown {
  40% {
    opacity: 1;
    -webkit-transform: scale(.475) translateY(-60px);
    -ms-transform: scale(.475) translateY(-60px);
    transform: scale(.475) translateY(-60px);
    -webkit-animation-timing-function: linear;
    animation-timing-function: linear;
  }

  100% {
    opacity: 0;
    -webkit-transform: scale(.1) translateY(2000px);
    -ms-transform: scale(.1) translateY(2000px);
    transform: scale(.1) translateY(2000px);
    -webkit-transform-origin: center bottom;
    -ms-transform-origin: center bottom;
    transform-origin: center bottom;
  }
}

.zoomOutDown {
  -webkit-animation-name: zoomOutDown;
  animation-name: zoomOutDown;
}

@-webkit-keyframes zoomOutLeft {
  40% {
    opacity: 1;
    -webkit-transform: scale(.475) translateX(42px);
    transform: scale(.475) translateX(42px);
    -webkit-animation-timing-function: linear;
    animation-timing-function: linear;
  }

  100% {
    opacity: 0;
    -webkit-transform: scale(.1) translateX(-2000px);
    transform: scale(.1) translateX(-2000px);
    -webkit-transform-origin: left center;
    transform-origin: left center;
  }
}

@keyframes zoomOutLeft {
  40% {
    opacity: 1;
    -webkit-transform: scale(.475) translateX(42px);
    -ms-transform: scale(.475) translateX(42px);
    transform: scale(.475) translateX(42px);
    -webkit-animation-timing-function: linear;
    animation-timing-function: linear;
  }

  100% {
    opacity: 0;
    -webkit-transform: scale(.1) translateX(-2000px);
    -ms-transform: scale(.1) translateX(-2000px);
    transform: scale(.1) translateX(-2000px);
    -webkit-transform-origin: left center;
    -ms-transform-origin: left center;
    transform-origin: left center;
  }
}

.zoomOutLeft {
  -webkit-animation-name: zoomOutLeft;
  animation-name: zoomOutLeft;
}

@-webkit-keyframes zoomOutRight {
  40% {
    opacity: 1;
    -webkit-transform: scale(.475) translateX(-42px);
    transform: scale(.475) translateX(-42px);
    -webkit-animation-timing-function: linear;
    animation-timing-function: linear;
  }

  100% {
    opacity: 0;
    -webkit-transform: scale(.1) translateX(2000px);
    transform: scale(.1) translateX(2000px);
    -webkit-transform-origin: right center;
    transform-origin: right center;
  }
}

@keyframes zoomOutRight {
  40% {
    opacity: 1;
    -webkit-transform: scale(.475) translateX(-42px);
    -ms-transform: scale(.475) translateX(-42px);
    transform: scale(.475) translateX(-42px);
    -webkit-animation-timing-function: linear;
    animation-timing-function: linear;
  }

  100% {
    opacity: 0;
    -webkit-transform: scale(.1) translateX(2000px);
    -ms-transform: scale(.1) translateX(2000px);
    transform: scale(.1) translateX(2000px);
    -webkit-transform-origin: right center;
    -ms-transform-origin: right center;
    transform-origin: right center;
  }
}

.zoomOutRight {
  -webkit-animation-name: zoomOutRight;
  animation-name: zoomOutRight;
}

@-webkit-keyframes zoomOutUp {
  40% {
    opacity: 1;
    -webkit-transform: scale(.475) translateY(60px);
    transform: scale(.475) translateY(60px);
    -webkit-animation-timing-function: linear;
    animation-timing-function: linear;
  }

  100% {
    opacity: 0;
    -webkit-transform: scale(.1) translateY(-2000px);
    transform: scale(.1) translateY(-2000px);
    -webkit-transform-origin: center top;
    transform-origin: center top;
  }
}

@keyframes zoomOutUp {
  40% {
    opacity: 1;
    -webkit-transform: scale(.475) translateY(60px);
    -ms-transform: scale(.475) translateY(60px);
    transform: scale(.475) translateY(60px);
    -webkit-animation-timing-function: linear;
    animation-timing-function: linear;
  }

  100% {
    opacity: 0;
    -webkit-transform: scale(.1) translateY(-2000px);
    -ms-transform: scale(.1) translateY(-2000px);
    transform: scale(.1) translateY(-2000px);
    -webkit-transform-origin: center top;
    -ms-transform-origin: center top;
    transform-origin: center top;
  }
}

.zoomOutUp {
  -webkit-animation-name: zoomOutUp;
  animation-name: zoomOutUp;
}
/*}}}*/</pre>
</div>
<div title="app.js" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405160813" tags="js ambit systemConfig systemConfigDisable excludeTimeline" content-type="text/javascript" changecount="6">
<pre>//background position functions
var $ = jQuery;
function getBgPosY(elem) {
	var bgPos = $(elem).css('backgroundPosition');
	if(bgPos) {
		return bgPos.split(&quot; &quot;)[1];
	}
}
function setBgPosY(elem, pos) {
	var bgPos = $(elem).css('backgroundPosition'),
		posX;
	if(bgPos) {
		posX = bgPos.split(&quot; &quot;)[0];
		$(elem).css('backgroundPosition', posX+&quot; &quot;+pos);
	}
}
var delay = (function(){
  var timer = 0;
  return function(callback, ms){
    clearTimeout (timer);
    timer = setTimeout(callback, ms);
  };
})();
function positionPage(open) {
	var newLeft,
		viewportWidth = $(window).width(),
		sidebarWidth,
		sidebarGutter = 30,
		paperWidth = 720,
		sidePanelWidth = 210;
	if(open) {
		sidebarWidth = 10;
	} else {
		sidebarWidth = 270;
	}
	if(viewportWidth &gt;= sidebarWidth + paperWidth + sidePanelWidth) {
		// center paper between sidebar and sidePanel
		newLeft = (sidebarWidth+sidebarGutter)/2 + (viewportWidth-paperWidth-sidePanelWidth)/2;
	} else if(viewportWidth &gt;= sidebarWidth + paperWidth) {
		// stick paper to sidebar
		newLeft = sidebarWidth;
	} else {
		// let paper move to left side
		newLeft = viewportWidth - paperWidth;
		if(newLeft &lt; 0) {
			newLeft = 0;
		}
	}
	if(newLeft) {
		$('#screenWidth').stop(true,true).animate( {
			left: newLeft
		}, 200);
	}
}

// the sidebar

$('#sidebarIcons').click(function(e) {
	e.preventDefault();
	var curLeft = parseInt($('#sidebar').css('left'),10),
		open = curLeft===0,
		$target = $(e.target),
		$panel = $('#sidebar').find('.panel').eq($target.index()-1);
	if($target.attr('id')===&quot;toggle&quot;) {				
		$('#sidebar').animate( {
			left: open ? &quot;-260px&quot; : &quot;0px&quot;
		}, 200);
		// determine whether the screen is wide enough to centre between the statuspanel and sidebar
		positionPage(open);
		setBgPosY('#toggle', open ? &quot;-540px&quot; : &quot;-490px&quot;);
	} else {
		if(!open) {
			$('#toggle').click();
		}
		if($target.attr('id')===&quot;search&quot;) {
			$('#searchBox').find('input').click().focus();
		} else {
			if($panel.hasClass(&quot;closed&quot;)) {
				$panel.children('h2').click();
			}
		}
	}
});

// keep Currently Open count up-to-date
function updateCurrentlyOpenCounter(e, closing) {
	var count = $('#contentWrapper .tiddler').length;
	if(closing) {
		count -= 1;
	}
	if(count&lt;0) {
		count=0;
	}
	$('#sidebarIcons #current span').each(function() {
		if(!count) {
			$(this).hide().text('');
		} else {
			$(this).show().text(count);
		}
	});
}
updateCurrentlyOpenCounter();
$(document).bind(&quot;StoryUpdated&quot;, updateCurrentlyOpenCounter);

$(window).resize(function() {
	delay(function() {
		var open = parseInt($('#sidebar').css('left'),10)!==0;
		positionPage(open);
	}, 500);
});

/*
	sidebar toggle 
		always toggles sidebar in/out

	click on icon
		if sidebar is open  
			opens accordion section
		if sidebar is closed 
			opens accordion section and sidebar
		
	
	-width
		find screen width
		when sidebar opens
			change #screenWidth to be screen width minus the width of the sidebar
		when sidebar closes
			vice versa
			
		240
		
		if the #screenwidth is large enough for the statuspanel to not overlap the tiddlers
			centre the tiddler content between the statuspanel and the extended sidebar
		
		is the screenwidth wide enough? 
			statuspanel+padding = 240px
			sidebar+padding 	= 300px
			tiddler				= 720px
			
			Total				= 1260px
			
			so if viewport width is 1260+, add right:240px and width:-240 to #screenWidth 
			
			if sidebar is closed and width is 1000+, add right:240px and width:-240 to #screenWidth 

*/


/* 
the accordion generic click behaviour
principle: make the sidebar handle clicks;
if click on panel&gt;h2 or input, toggle accordion stage, unless noToggle exists on panel
*/

var viewportHeight = $(window).height() / 3;
$('#sidebar .panel').not('.closed').find('ul.browsingTool').height(viewportHeight);

$('#sidebar .panel').click(function(e) {
	var $target = $(e.target),
		$panel = $(this),
		panelClosed = $panel.hasClass('closed'),
		$otherPanels = $(this).siblings('.panel');

	if(!$target.is('input[type=search], h2') &amp;&amp; !$target.parent().is('h2')) {
		return true;
	}

	// close other panels
	$otherPanels.each(function() {
		var $panel = $(this),
			$ul = $panel.find('ul.browsingTool'),
			panelClosed = $panel.hasClass('closed');
		if($ul.length &amp;&amp; !panelClosed) {
			$ul.stop().animate({
				height: 0
			}, function() {
				$panel.addClass('closed');
			});
			setBgPosY($panel.find('h2'), &quot;-391px&quot;);
		}
	});
	
	// toggle this panel
	if($panel.hasClass('noToggle')) {
		return;
	}
	$panel.find('.browsingTool').animate({
		height: panelClosed ? viewportHeight : 0
	}, function() {
		$panel.toggleClass('closed');
	});
	setBgPosY($panel.find('h2'), panelClosed ? &quot;-437px&quot; : &quot;-391px&quot;);
});


// the info toggle

$('.infoToggle a').live('click', function() {
	$(this).parent().siblings('div.info').slideToggle(200, function() {
		if ($(this).is(':visible')) {
			$('.infoToggle a span').text('-');
		} else {
			$('.infoToggle a span').text('+');
		}
	});
	return false;
});

// the status panel timeout

window.setTimeout(function() {
	if($('#statusTab span').hasClass('panelOpen')) {
		$('#statusTab span').click();
	}
},5000);

// the status panel overall toggle

$('#statusTab span').live('click', function() {
	var $clicked = $(this);
	if($clicked.hasClass('panelOpen')) {
		$('#rightPanel').animate({'right': '-210px'}, 100);
	} else {
		$('#rightPanel').animate({'right': '0px'}, 100);
	}
	$clicked.toggleClass('panelOpen');
});


// the status panel internal toggles
$('#statusPanel a').live('click', function() {
	var $clicked = $(this);
	if($clicked.hasClass('current')) {
		$clicked.parent().next().slideToggle(100);
		$clicked.toggleClass('open');
	}
});
$('#statusPanel #modeStatus a').live('click', function(e) {
	e.preventDefault();
	var $clicked = $(this),
		$dropDownContainer,
		$current;
	if(!$clicked.hasClass('current')) {
		$dropDownContainer = $clicked.closest('.dropDown');
		$current = $dropDownContainer.prev().children('.current');
		$clicked.insertBefore($current).addClass('current');
		$current.prependTo($dropDownContainer).removeClass('current');
	}
	
	// handle advanced toggling
	if($clicked.hasClass('advanced')) {
		if(!backstage.isVisible()) {
			backstage.show();
			$('#app-picker').show().css({'visibility':'visible'});
		}	
	} else {
		if(backstage.isVisible()) {
			backstage.hide();
			$('#app-picker').hide().css({'visibility':'hidden'});
		}
	}
	if($clicked.hasClass('browsing')) {
		readOnly = true;
		refreshElements(document.getElementById('tiddlerDisplay'));
		$('#statusTab span').addClass('browsing');
	} else {
		if(readOnly) {
			readOnly = false;
			refreshElements(document.getElementById('tiddlerDisplay'));
			$('#statusTab span').removeClass('browsing');
		}		
	}
});

$('#statusPanel').mouseleave(function() {
	if ($('div.dropDown').is(':visible')) {
		$('div.dropDown').slideUp(100);
		$('#statusPanel a.current').removeClass('open');
	}
});

/*
// login/logout box
function updateAccountDisplay(name) {
	var $status = $('#statusPanel #accountStatus'),
		$title =  $status.children('.title'),
		$current = $status.children('.value').children('.current'),
		$dropDown = $status.children('.dropDown');
	if(!name) {
		$title.text('Not logged in');
		$current.text('').css('visibility','hidden');
	} else {
		$title.text('Logged in as:');
		$current.text(name).css('visibility','visible');
	}
}
function addLoginForm() {
	var $loginForm = $('#loginForm').show();
}
function disableModeToggle() {
	$('#statusPanel #modeStatus a').click(function() {
		return false;
	});
}

config.extensions.tiddlyweb.getUserInfo(function(info) {
	var anon = info.anon,
		name = info.name;
	if(anon) {
		disableModeToggle();
		updateAccountDisplay();
		addLoginForm();
	} else {
		updateAccountDisplay(name);
	}
});

$('#statusPanel #accountStatus form').submit(function(e) {
	e.preventDefault();
	var token = config.extensions.tiddlyspace.getCSRFToken();
	this.action += &quot;?csrf_token=&quot;+token;
	this.submit();
});
*/
// sidebar links
createTiddlyLink($('#feedback').get(0),'Feedback please!',true);
createTiddlyLink($('#manualizingOurWork').get(0),'+ Manualize our work',true);

</pre>
</div>
<div title="bib" modifier="Christopher Wilson" created="201305240646" modified="201405132116" tags="Reference excludeTimeline" content-type="" changecount="3">
<pre></pre>
</div>
<div title="c3.css" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405121951" tags="css excludeTimeline" alias="" content-type="text/css" changecount="2">
<pre>/*-- Chart --*/

.c3 svg {
  font: 10px sans-serif;
}
.c3 path, .c3 line {
  fill: none;
  stroke: #000;
}
.c3 text {
  -webkit-user-select: none;
     -moz-user-select: none;
          user-select: none;
}

.c3-legend-item-tile,
.c3-xgrid-focus,
.c3-ygrid,
.c3-event-rect,
.c3-bars path {
  shape-rendering: crispEdges;
}

.c3-chart-arc path {
  stroke: #fff;

}
.c3-chart-arc text {
  fill: #fff;
  font-size: 13px;
}

/*-- Axis --*/

.c3-axis-x .tick {
}
.c3-axis-x-label {
}

.c3-axis-y .tick {
}
.c3-axis-y-label {
}

.c3-axis-y2 .tick {
}
.c3-axis-y2-label {
}

/*-- Grid --*/

.c3-grid line {
  stroke: #aaa;
}
.c3-grid text {
  fill: #aaa;
}
.c3-xgrid, .c3-ygrid {
  stroke-dasharray: 3 3;
}
.c3-xgrid-focus {
}

/*-- Text on Chart --*/

.c3-text {
}

/*-- Line --*/

.c3-line {
  stroke-width: 1px;
}
/*-- Point --*/

.c3-circle._expanded_ {
  stroke-width: 1px;
  stroke: white;
}
.c3-selected-circle {
  fill: white;
  stroke-width: 2px;
}

/*-- Bar --*/

.c3-bar._expanded_ {
  fill-opacity: 0.75;
}

/*-- Arc --*/

.c3-chart-arcs-title {
  font-size: 1.3em;
}

/*-- Focus --*/

.c3-target.c3-focused path.c3-line {
  stroke-width: 2px;
}

/*-- Region --*/

.c3-region {
  fill: steelblue;
  fill-opacity: .1;
}

/*-- Brush --*/

.c3-brush .extent {
  fill-opacity: .1;
}

/*-- Select - Drag --*/

.c3-dragarea {
}

/*-- Legend --*/

.c3-legend-item {
  font-size: 12px;
}

/*-- Tooltip --*/

.c3-tooltip {
  border-collapse:collapse;
  border-spacing:0;
  background-color:#fff;
  empty-cells:show;
  -webkit-box-shadow: 7px 7px 12px -9px rgb(119,119,119);
     -moz-box-shadow: 7px 7px 12px -9px rgb(119,119,119);
          box-shadow: 7px 7px 12px -9px rgb(119,119,119);
  opacity: 0.9;
}
.c3-tooltip tr {
  border:1px solid #CCC;
}
.c3-tooltip th {
  background-color: #aaa;
  font-size:14px;
  padding:2px 5px;
  text-align:left;
  color:#FFF;
}
.c3-tooltip td {
  font-size:13px;
  padding: 3px 6px;
  background-color:#fff;
  border-left:1px dotted #999;
}
.c3-tooltip td &gt; span {
  display: inline-block;
  width: 10px;
  height: 10px;
  margin-right: 6px;
}
.c3-tooltip td.value{
  text-align: right;
}

.c3-area {
  stroke-width: 0;
  opacity: 0.2;
}
</pre>
</div>
<div title="c3.jsPlugin" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405121950" tags="excludeTimeline systemConfig" content-type="text/x-tiddlywiki" changecount="5">
<pre>/***
|Name|[[c3.jsPlugin]] |
|Source|&lt;&lt;tiddler url_d3tw&gt;&gt;|
|Documentation|[[c3.jsPluginInfo]]|
|Version|c3.js version: &lt;script&gt;return c3.version ;&lt;/script&gt; |
|Author|Okido |
|License|See below |
|~CoreVersion|2.6|
|Type|plugin|
|Requires||
|Description|Use the c3.js library functions for data visualisation and drawing on SVG/HTML canvas with d3.js |
|Status|EXPERIMENTAL - SUBJECT TO CHANGE|
!!!!!Documentation
&lt;&lt;&lt;
Documentation about c3.js is available at http://c3js.org 
&lt;&lt;&lt;
!!!!!Usage
&lt;&lt;&lt;
Use [[InlineJavascriptPlugin]] to invoke c3.js functions from within tiddler content or write pure javascript in a plugin.
&lt;&lt;&lt;
!!!!!Documentation
&gt;see [[c3.jsPluginInfo]]
!!!!!Revisions
&lt;&lt;&lt;
2014.05.01 First implementation in of [[c3.jsPlugin]].
&lt;&lt;&lt;
!!!!!License
The MIT License (MIT)

Copyright (c) 2013 Masayuki Tanaka

Permission is hereby granted, free of charge, to any person obtaining a copy of
this software and associated documentation files (the &quot;Software&quot;), to deal in
the Software without restriction, including without limitation the rights to
use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
the Software, and to permit persons to whom the Software is furnished to do so,
subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

!!!!!Code
***/

!function(a){&quot;use strict&quot;;function b(a){return a||0===a}function c(a){return&quot;undefined&quot;==typeof a}function d(a){return&quot;undefined&quot;!=typeof a}function e(a,b){function c(a,b){a.attr(&quot;transform&quot;,function(a){return&quot;translate(&quot;+Math.round(b(a)+s)+&quot;, 0)&quot;})}function d(a,b){a.attr(&quot;transform&quot;,function(a){return&quot;translate(0,&quot;+Math.round(b(a))+&quot;)&quot;})}function e(a){var b=a[0],c=a[a.length-1];return c&gt;b?[b,c]:[c,b]}function f(a){var b,c,d=[];if(a.ticks)return a.ticks.apply(a,k);for(c=a.domain(),b=Math.ceil(c[0]);b&lt;c[1];b++)d.push(b);return d.length&gt;0&amp;&amp;d[0]&gt;0&amp;&amp;d.unshift(d[0]-(d[1]-d[0])),d}function g(){var a,c=m.copy();return b&amp;&amp;(a=m.domain(),c.domain([a[0],a[1]-1])),c}function h(a){var c=b&amp;&amp;a&lt;u.length?u[a]:a;return j?j(c):c}function i(i){i.each(function(){function i(a){var b=m(a)+s;return B[0]&lt;b&amp;&amp;b&lt;B[1]?o:0}var j,k,t=a.select(this),u=this.__chart__||m,v=this.__chart__=g(),w=r?r:f(v),x=t.selectAll(&quot;.tick&quot;).data(w,v),y=x.enter().insert(&quot;g&quot;,&quot;.domain&quot;).attr(&quot;class&quot;,&quot;tick&quot;).style(&quot;opacity&quot;,1e-6),z=a.transition(x.exit()).style(&quot;opacity&quot;,1e-6).remove(),A=a.transition(x).style(&quot;opacity&quot;,1),B=m.rangeExtent?m.rangeExtent():e(m.range()),C=t.selectAll(&quot;.domain&quot;).data([0]),D=(C.enter().append(&quot;path&quot;).attr(&quot;class&quot;,&quot;domain&quot;),a.transition(C));y.append(&quot;line&quot;),y.append(&quot;text&quot;);var E=y.select(&quot;line&quot;),F=A.select(&quot;line&quot;),G=x.select(&quot;text&quot;).text(h),H=y.select(&quot;text&quot;),I=A.select(&quot;text&quot;);switch(b?(s=Math.round((v(1)-v(0))/2),k=l?0:s):s=k=0,n){case&quot;bottom&quot;:j=c,E.attr(&quot;y2&quot;,o),H.attr(&quot;y&quot;,Math.max(o,0)+q),F.attr(&quot;x1&quot;,k).attr(&quot;x2&quot;,k).attr(&quot;y2&quot;,i),I.attr(&quot;x&quot;,0).attr(&quot;y&quot;,Math.max(o,0)+q),G.attr(&quot;dy&quot;,&quot;.71em&quot;).style(&quot;text-anchor&quot;,&quot;middle&quot;),D.attr(&quot;d&quot;,&quot;M&quot;+B[0]+&quot;,&quot;+p+&quot;V0H&quot;+B[1]+&quot;V&quot;+p);break;case&quot;top&quot;:j=c,E.attr(&quot;y2&quot;,-o),H.attr(&quot;y&quot;,-(Math.max(o,0)+q)),F.attr(&quot;x2&quot;,0).attr(&quot;y2&quot;,-o),I.attr(&quot;x&quot;,0).attr(&quot;y&quot;,-(Math.max(o,0)+q)),G.attr(&quot;dy&quot;,&quot;0em&quot;).style(&quot;text-anchor&quot;,&quot;middle&quot;),D.attr(&quot;d&quot;,&quot;M&quot;+B[0]+&quot;,&quot;+-p+&quot;V0H&quot;+B[1]+&quot;V&quot;+-p);break;case&quot;left&quot;:j=d,E.attr(&quot;x2&quot;,-o),H.attr(&quot;x&quot;,-(Math.max(o,0)+q)),F.attr(&quot;x2&quot;,-o).attr(&quot;y2&quot;,0),I.attr(&quot;x&quot;,-(Math.max(o,0)+q)).attr(&quot;y&quot;,s),G.attr(&quot;dy&quot;,&quot;.32em&quot;).style(&quot;text-anchor&quot;,&quot;end&quot;),D.attr(&quot;d&quot;,&quot;M&quot;+-p+&quot;,&quot;+B[0]+&quot;H0V&quot;+B[1]+&quot;H&quot;+-p);break;case&quot;right&quot;:j=d,E.attr(&quot;x2&quot;,o),H.attr(&quot;x&quot;,Math.max(o,0)+q),F.attr(&quot;x2&quot;,o).attr(&quot;y2&quot;,0),I.attr(&quot;x&quot;,Math.max(o,0)+q).attr(&quot;y&quot;,0),G.attr(&quot;dy&quot;,&quot;.32em&quot;).style(&quot;text-anchor&quot;,&quot;start&quot;),D.attr(&quot;d&quot;,&quot;M&quot;+p+&quot;,&quot;+B[0]+&quot;H0V&quot;+B[1]+&quot;H&quot;+p)}if(v.rangeBand){var J=v,K=J.rangeBand()/2;u=v=function(a){return J(a)+K}}else u.rangeBand?u=v:z.call(j,v);y.call(j,u),A.call(j,v)})}var j,k,l,m=a.scale.linear(),n=&quot;bottom&quot;,o=6,p=6,q=3,r=null,s=0,t=!0,u=[];return i.scale=function(a){return arguments.length?(m=a,i):m},i.orient=function(a){return arguments.length?(n=a in{top:1,right:1,bottom:1,left:1}?a+&quot;&quot;:&quot;bottom&quot;,i):n},i.tickFormat=function(a){return arguments.length?(j=a,i):j},i.tickCentered=function(a){return arguments.length?(l=a,i):l},i.tickOffset=function(){return s},i.ticks=function(){return arguments.length?(k=arguments,i):k},i.tickCulling=function(a){return arguments.length?(t=a,i):t},i.tickValues=function(a){return arguments.length?(r=a,i):r},i.categories=function(a){return arguments.length?(u=a,i):u},i}var f={version:&quot;0.1.38&quot;},g={target:&quot;c3-target&quot;,chart:&quot;c3-chart&quot;,chartLine:&quot;c3-chart-line&quot;,chartLines:&quot;c3-chart-lines&quot;,chartBar:&quot;c3-chart-bar&quot;,chartBars:&quot;c3-chart-bars&quot;,chartText:&quot;c3-chart-text&quot;,chartTexts:&quot;c3-chart-texts&quot;,chartArc:&quot;c3-chart-arc&quot;,chartArcs:&quot;c3-chart-arcs&quot;,chartArcsTitle:&quot;c3-chart-arcs-title&quot;,selectedCircle:&quot;c3-selected-circle&quot;,selectedCircles:&quot;c3-selected-circles&quot;,eventRect:&quot;c3-event-rect&quot;,eventRects:&quot;c3-event-rects&quot;,eventRectsSingle:&quot;c3-event-rects-single&quot;,eventRectsMultiple:&quot;c3-event-rects-multiple&quot;,zoomRect:&quot;c3-zoom-rect&quot;,brush:&quot;c3-brush&quot;,focused:&quot;c3-focused&quot;,region:&quot;c3-region&quot;,regions:&quot;c3-regions&quot;,tooltip:&quot;c3-tooltip&quot;,tooltipName:&quot;c3-tooltip-name&quot;,shape:&quot;c3-shape&quot;,shapes:&quot;c3-shapes&quot;,line:&quot;c3-line&quot;,lines:&quot;c3-lines&quot;,bar:&quot;c3-bar&quot;,bars:&quot;c3-bars&quot;,circle:&quot;c3-circle&quot;,circles:&quot;c3-circles&quot;,arc:&quot;c3-arc&quot;,arcs:&quot;c3-arcs&quot;,area:&quot;c3-area&quot;,areas:&quot;c3-areas&quot;,text:&quot;c3-text&quot;,texts:&quot;c3-texts&quot;,grid:&quot;c3-grid&quot;,xgrid:&quot;c3-xgrid&quot;,xgrids:&quot;c3-xgrids&quot;,xgridLine:&quot;c3-xgrid-line&quot;,xgridLines:&quot;c3-xgrid-lines&quot;,xgridFocus:&quot;c3-xgrid-focus&quot;,ygrid:&quot;c3-ygrid&quot;,ygrids:&quot;c3-ygrids&quot;,ygridLine:&quot;c3-ygrid-line&quot;,ygridLines:&quot;c3-ygrid-lines&quot;,axisX:&quot;c3-axis-x&quot;,axisXLabel:&quot;c3-axis-x-label&quot;,axisY:&quot;c3-axis-y&quot;,axisYLabel:&quot;c3-axis-y-label&quot;,axisY2:&quot;c3-axis-y2&quot;,axisY2Label:&quot;c3-axis-y2-label&quot;,legendItem:&quot;c3-legend-item&quot;,legendItemEvent:&quot;c3-legend-item-event&quot;,legendItemTile:&quot;c3-legend-item-tile&quot;,legendItemHidden:&quot;c3-legend-item-hidden&quot;,legendItemFocused:&quot;c3-legend-item-focused&quot;,dragarea:&quot;c3-dragarea&quot;,EXPANDED:&quot;_expanded_&quot;,SELECTED:&quot;_selected_&quot;,INCLUDED:&quot;_included_&quot;};f.generate=function(f){function h(a,b){if(!(a in f))throw Error(b)}function i(a,b){var c,d,e,g=f;for(c=0;c&lt;a.length;c++){if(&quot;object&quot;==typeof g&amp;&amp;!(a[c]in g))return b;if(d=c===a.length-1,e=g[a[c]],!d&amp;&amp;&quot;object&quot;!=typeof e)return b;g=e}return g}function j(b){var c=a.navigator.appVersion.toLowerCase().indexOf(&quot;msie 9.&quot;)&gt;=0;return&quot;url(&quot;+(c?&quot;&quot;:document.URL.split(&quot;#&quot;)[0])+&quot;#&quot;+b+&quot;)&quot;}function k(a){return Math.ceil(a)+.5}function l(a,b){var c,d,e;b&amp;&amp;b.axisX?c=b.axisX:(c=Cj.select(&quot;.&quot;+g.axisX),a&amp;&amp;(c=c.transition())),b&amp;&amp;b.axisY?d=b.axisY:(d=Cj.select(&quot;.&quot;+g.axisY),a&amp;&amp;(d=d.transition())),b&amp;&amp;b.axisY2?e=b.axisY2:(e=Cj.select(&quot;.&quot;+g.axisY2),a&amp;&amp;(e=e.transition())),Cj.attr(&quot;transform&quot;,mj.main),c.attr(&quot;transform&quot;,mj.x),d.attr(&quot;transform&quot;,mj.y),e.attr(&quot;transform&quot;,mj.y2),Cj.select(&quot;.&quot;+g.chartArcs).attr(&quot;transform&quot;,mj.arc)}function m(a,b){var c;b&amp;&amp;b.axisSubX?c=b.axisSubX:(c=Dj.select(&quot;.&quot;+g.axisX),a&amp;&amp;(c=c.transition())),Dj.attr(&quot;transform&quot;,mj.context),c.attr(&quot;transform&quot;,mj.subx)}function n(a){(a?Ej.transition():Ej).attr(&quot;transform&quot;,mj.legend)}function o(a,b){l(a,b),nh&amp;&amp;m(a,b),n(a)}function p(){var a=U(),b=T(),c=nj?0:a,d=le(Nf.data.targets),e=wh||d?0:A(&quot;x&quot;),f=nh&amp;&amp;!d?oh+e:0;kg=t(),lg=u(),wh?(dg={top:A(&quot;y2&quot;)+v(),right:d?0:y(),bottom:A(&quot;y&quot;)+c+w(),left:f+(d?0:x())},eg={top:dg.top,right:0/0,bottom:20+c,left:sj}):(dg={top:4+v(),right:d?0:y(),bottom:e+f+c+w(),left:d?0:x()},eg={top:lg-f-c,right:0/0,bottom:e+c,left:dg.left}),fg={top:nj?0:lg-a,right:0/0,bottom:0,left:nj?kg-b:0},gg=kg-dg.left-dg.right,ig=lg-dg.top-dg.bottom,0&gt;gg&amp;&amp;(gg=0),0&gt;ig&amp;&amp;(ig=0),hg=wh?dg.left-sj-tj:gg,jg=wh?ig:lg-eg.top-eg.bottom,0&gt;hg&amp;&amp;(hg=0),0&gt;jg&amp;&amp;(jg=0),pg=gg-(nj?b+10:0),qg=ig-(nj?0:10),r(),nj&amp;&amp;d&amp;&amp;(fg.left=pg/2+1.1*ng)}function q(){Cj.select(&quot;line.&quot;+g.xgridFocus).attr(&quot;x1&quot;,wh?0:-10).attr(&quot;x2&quot;,wh?gg:-10).attr(&quot;y1&quot;,wh?-10:dg.top).attr(&quot;y2&quot;,wh?-10:ig)}function r(){ng=Math.min(pg,qg)/2,mg=.95*ng,og=ke(Nf.data.targets)?.6*mg:0}function s(){var a=wh?g.axisX:g.axisY,b=Cj.select(&quot;.&quot;+a).node(),c=b?b.getBoundingClientRect():{right:0},d=Gj.node().getBoundingClientRect(),e=le(Nf.data.targets),f=c.right-d.left-(e?0:x());return f&gt;0?f:0}function t(){return Qf?Qf:B()}function u(){var a=Rf?Rf:C();return a&gt;0?a:320}function v(){return Uf?Uf:0}function w(){return Vf?Vf:0}function x(){return Sf?Sf:wh?xh?Ke(z(&quot;x&quot;)):1:!Ph||Uh?1:Ke(z(&quot;y&quot;))}function y(){var a=10,b=nj?T()+20:0;return Tf?Tf:wh?a+b:(!Yh||bi?a:Ke(z(&quot;y2&quot;)))+b}function z(a){var b=ob(a);return b.isInner?20+Hb(a):40+Hb(a)}function A(a){return&quot;x&quot;!==a||xh?&quot;x&quot;===a&amp;&amp;Mh?Mh:&quot;y&quot;!==a||Ph?&quot;y2&quot;!==a||Yh?(ob(a).isInner?30:40)+(&quot;y2&quot;===a?-10:0):uj:qh&amp;&amp;!nj?10:1:0}function B(){return+Gj.style(&quot;width&quot;).replace(&quot;px&quot;,&quot;&quot;)}function C(){return+Gj.style(&quot;height&quot;).replace(&quot;px&quot;,&quot;&quot;)}function D(a){return a?-31:-(dg.left-1)}function E(a){return a?-20:-4}function F(){return D(!wh)}function G(){return E(!wh)}function H(){return D(wh)}function I(){return E(wh)}function J(a){return a?gg+2+30+30:dg.left+20}function K(a){return a?(Mh?Mh:0)+80:ig+8}function L(){return J(!wh)}function M(){return K(!wh)}function N(){return J(wh)}function O(){return K(wh)}function P(){var a,b,c,d,e,f=Ec(Nf.data.targets);return f?(a=f.values[0],b=f.values[f.values.length-1],c=Dg(b.x)-Dg(a.x),0===c?wh?ig:gg:(d=Dc(),e=he(Nf.data.targets)?(d-(Wi?.25:1))/d:1,d&gt;1?c*e/(d-1):c)):0}function Q(a){oj=a}function R(a){pj=a}function S(a){qj=a}function T(){return qh?nj?pj*(oj+1):kg:0}function U(){return qh?nj?lg:qj*(oj+1):0}function V(){var a,b,c=!Dg;vg=wh?1:0,wg=wh?ig:gg,xg=wh?0:ig,yg=wh?gg:1,zg=vg,Ag=wg,Bg=wh?0:jg,Cg=wh?hg:1,Dg=Y(vg,wg,c?void 0:Dg.domain(),function(){return Jg.tickOffset()}),Eg=Z(xg,yg,c?void 0:Eg.domain()),Fg=Z(xg,yg,c?void 0:Fg.domain()),Gg=Y(vg,wg,Hj,function(a){return a%1?0:Mg.tickOffset()}),Hg=Z(Bg,Cg,c?void 0:Hg.domain()),Ig=Z(Bg,Cg,c?void 0:Ig.domain()),a=db(),b=Hh?Hh:c?void 0:Jg.tickValues(),Jg=ab(Dg,ij,a,b),Mg=ab(Gg,lj,a,b),Kg=bb(Eg,jj,Vh,Xh),Lg=bb(Fg,kj,ci,ei),c||(vj.scale(Gg),Wf&amp;&amp;zj.scale(Dg)),W()}function W(){rg=Kb(),sg=Lb(),tg=Lb(.98)}function X(a,b,c){return(c?Mf.time.scale():Mf.scale.linear()).range([a,b])}function Y(a,b,c,d){var e,f=X(a,b,Vi),g=c?f.domain(c):f;Wi?(d=d||function(){return 0},f=function(a,b){var c=g(a)+d(a);return b?c:Math.ceil(c)}):f=function(a,b){var c=g(a);return b?c:Math.ceil(c)};for(e in g)f[e]=g[e];return f.orgDomain=function(){var a=g.domain();return Hj&amp;&amp;Hj[0]===a[0]&amp;&amp;Hj[1]&lt;a[1]&amp;&amp;(a[1]=Hj[1]),a},Wi&amp;&amp;(f.domain=function(a){return arguments.length?(g.domain(a),f):(a=this.orgDomain(),[a[0],a[1]+1])}),f}function Z(a,b,c){var d=X(a,b);return c&amp;&amp;d.domain(c),d}function $(a){return&quot;y2&quot;===cb(a)?Fg:Eg}function _(a){return&quot;y2&quot;===cb(a)?Ig:Hg}function ab(a,b,c,d){var f=e(Mf,Wi).scale(a).orient(b);return f.tickFormat(c).tickValues(d),Wi?(f.tickCentered(Bh),Ee(Dh)&amp;&amp;(Dh=!1),f.categories(Ah)):f.tickOffset=function(){var a=Fc(Nf.data.targets),b=Dg(a[1])-Dg(a[0]),c=b?b:wh?ig:gg;return c/Dc()/2},f}function bb(a,b,c,d){return e(Mf).scale(a).orient(b).tickFormat(c).ticks(d)}function cb(a){return a in Ug?Ug[a]:&quot;y&quot;}function db(){var a=Vi?ej:Wi?Wc:function(a){return 0&gt;a?a.toFixed(0):a};return Ch&amp;&amp;(&quot;function&quot;==typeof Ch?a=Ch:Vi&amp;&amp;(a=function(a){return a?dj(Ch)(a):&quot;&quot;})),a}function eb(a){var b;return&quot;y&quot;===a?b=Th:&quot;y2&quot;===a?b=ai:&quot;x&quot;===a&amp;&amp;(b=Oh),b}function fb(a){var b=eb(a);return&quot;string&quot;==typeof b?b:b?b.text:null}function gb(a,b){var c=eb(a);&quot;string&quot;==typeof c?&quot;y&quot;===a?Th=b:&quot;y2&quot;===a?ai=b:&quot;x&quot;===a&amp;&amp;(Oh=b):c&amp;&amp;(c.text=b)}function hb(a){return 10*Math.sin(Math.PI*(a/180))}function ib(a){return 11.5-2.5*(a/15)}function jb(a,b,c){a.selectAll(&quot;.tick text&quot;).style(&quot;text-anchor&quot;,&quot;start&quot;),b.selectAll(&quot;.tick text&quot;).attr(&quot;y&quot;,ib(c)).attr(&quot;x&quot;,hb(c)).attr(&quot;transform&quot;,&quot;rotate(&quot;+c+&quot;)&quot;)}function kb(a,b){var c=eb(a),d=c&amp;&amp;&quot;object&quot;==typeof c&amp;&amp;c.position?c.position:b;return{isInner:d.indexOf(&quot;inner&quot;)&gt;=0,isOuter:d.indexOf(&quot;outer&quot;)&gt;=0,isLeft:d.indexOf(&quot;left&quot;)&gt;=0,isCenter:d.indexOf(&quot;center&quot;)&gt;=0,isRight:d.indexOf(&quot;right&quot;)&gt;=0,isTop:d.indexOf(&quot;top&quot;)&gt;=0,isMiddle:d.indexOf(&quot;middle&quot;)&gt;=0,isBottom:d.indexOf(&quot;bottom&quot;)&gt;=0}}function lb(){return kb(&quot;x&quot;,wh?&quot;inner-top&quot;:&quot;inner-right&quot;)}function mb(){return kb(&quot;y&quot;,wh?&quot;inner-right&quot;:&quot;inner-top&quot;)}function nb(){return kb(&quot;y2&quot;,wh?&quot;inner-right&quot;:&quot;inner-top&quot;)}function ob(a){return&quot;y2&quot;===a?nb():&quot;y&quot;===a?mb():lb()}function pb(){return fb(&quot;x&quot;)}function qb(){return fb(&quot;y&quot;)}function rb(){return fb(&quot;y2&quot;)}function sb(a,b){return a?b.isLeft?0:b.isCenter?gg/2:gg:b.isBottom?-ig:b.isMiddle?-ig/2:0}function tb(a,b){return a?b.isLeft?&quot;0.5em&quot;:b.isRight?&quot;-0.5em&quot;:&quot;0&quot;:b.isTop?&quot;-0.5em&quot;:b.isBottom?&quot;0.5em&quot;:&quot;0&quot;}function ub(a,b){return a?b.isLeft?&quot;start&quot;:b.isCenter?&quot;middle&quot;:&quot;end&quot;:b.isBottom?&quot;start&quot;:b.isMiddle?&quot;middle&quot;:&quot;end&quot;}function vb(){return sb(!wh,lb())}function wb(){return sb(wh,mb())}function xb(){return sb(wh,nb())}function yb(){return tb(!wh,lb())}function zb(){return tb(wh,mb())}function Ab(){return tb(wh,nb())}function Bb(){var a=lb();return wh?a.isInner?&quot;1.2em&quot;:-25-Hb(&quot;x&quot;):a.isInner?&quot;-0.5em&quot;:Mh?Mh-10:&quot;3em&quot;}function Cb(){var a=mb();return wh?a.isInner?&quot;-0.5em&quot;:&quot;3em&quot;:a.isInner?&quot;1.2em&quot;:-20-Hb(&quot;y&quot;)}function Db(){var a=nb();return wh?a.isInner?&quot;1.2em&quot;:&quot;-2.2em&quot;:a.isInner?&quot;-0.5em&quot;:30+Hb(&quot;y2&quot;)}function Eb(){return ub(!wh,lb())}function Fb(){return ub(wh,mb())}function Gb(){return ub(wh,nb())}function Hb(a){var b=0,c=&quot;x&quot;===a?g.axisX:&quot;y&quot;===a?g.axisY:g.axisY2;return Mf.selectAll(&quot;.&quot;+c+&quot; .tick text&quot;).each(function(){var a=this.getBoundingClientRect();b&lt;a.width&amp;&amp;(b=a.width)}),0&gt;b?0:b}function Ib(a){var b=Cj.select(&quot;.&quot;+g.axisX+&quot; .&quot;+g.axisXLabel),c=Cj.select(&quot;.&quot;+g.axisY+&quot; .&quot;+g.axisYLabel),d=Cj.select(&quot;.&quot;+g.axisY2+&quot; .&quot;+g.axisY2Label);(a?b.transition():b).attr(&quot;x&quot;,vb).attr(&quot;dx&quot;,yb).attr(&quot;dy&quot;,Bb).text(pb),(a?c.transition():c).attr(&quot;x&quot;,wb).attr(&quot;dx&quot;,zb).attr(&quot;dy&quot;,Cb).attr(&quot;dy&quot;,Cb).text(qb),(a?d.transition():d).attr(&quot;x&quot;,xb).attr(&quot;dx&quot;,Ab).attr(&quot;dy&quot;,Db).text(rb)}function Jb(a){var b=!1;return ug(Lc(Nf.data.targets)).forEach(function(c){return b||c.data.id!==a.data.id?void 0:(b=!0,void(a=c))}),b?a:null}function Kb(){var a=Mf.svg.arc().outerRadius(mg).innerRadius(og),b=function(b,c){var d;return c?a(b):(d=Jb(b),d?a(d):&quot;M 0 0&quot;)};return b.centroid=a.centroid,b}function Lb(a){var b=Mf.svg.arc().outerRadius(ng*(a?a:1)).innerRadius(og);return function(a){var c=Jb(a);return c?b(c):&quot;M 0 0&quot;}}function Mb(a,b){return se(a.data)?rg(a,b):&quot;M 0 0&quot;}function Nb(a){var b,c,d,e,f=Jb(a),g=&quot;&quot;;return f&amp;&amp;(b=rg.centroid(f),c=b[0],d=b[1],e=Math.sqrt(c*c+d*d),g=&quot;translate(&quot;+c/e*mg*.8+&quot;,&quot;+d/e*mg*.8+&quot;)&quot;),g}function Ob(a){return a?(a.endAngle-a.startAngle)/(2*Math.PI):null}function Pb(a){return tc({id:a.data.id,value:a.value,ratio:Ob(a)})}function Qb(a){var b,c,d,e;return Tb()?(b=Jb(a),c=b?b.value:null,d=Ob(b),e=Ub(),e?e(c,d):Gd(c,d)):&quot;&quot;}function Rb(a,b){var c=Aj.selectAll(&quot;.&quot;+g.chartArc+sd(a)),d=Aj.selectAll(&quot;.&quot;+g.arc).filter(function(b){return b.data.id!==a});ye(a)&amp;&amp;c.selectAll(&quot;path&quot;).transition().duration(50).attr(&quot;d&quot;,sg).transition().duration(100).attr(&quot;d&quot;,tg).each(function(a){re(a.data)}),b||d.style(&quot;opacity&quot;,.3)}function Sb(a){var b=Aj.selectAll(&quot;.&quot;+g.chartArc+sd(a));b.selectAll(&quot;path&quot;).transition().duration(50).attr(&quot;d&quot;,rg),Aj.selectAll(&quot;.&quot;+g.arc).style(&quot;opacity&quot;,1)}function Tb(){return ke(Nf.data.targets)?Ai:ui}function Ub(){return ke(Nf.data.targets)?Bi:vi}function Vb(){return ke(Nf.data.targets)?Di:&quot;&quot;}function Wb(){var a=ke(Nf.data.targets)?Ei:xi;return&quot;function&quot;==typeof a?a:function(){}}function Xb(){var a=ke(Nf.data.targets)?Fi:yi;return&quot;function&quot;==typeof a?a:function(){}}function Yb(){var a=ke(Nf.data.targets)?Gi:zi;return&quot;function&quot;==typeof a?a:function(){}}function Zb(a){var b,c,d,e,f,g,h=Gc(a),i=Sc(a);if(Tg.length&gt;0)for(g=Uc(a),b=0;b&lt;Tg.length;b++)if(e=Tg[b].filter(function(a){return h.indexOf(a)&gt;=0}),0!==e.length)for(d=e[0],g&amp;&amp;i[d]&amp;&amp;i[d].forEach(function(a,b){i[d][b]=0&gt;a?a:0}),c=1;c&lt;e.length;c++)f=e[c],i[f]&amp;&amp;i[f].forEach(function(a,b){cb(f)!==cb(d)||!i[d]||g&amp;&amp;+a&gt;0||(i[d][b]+=+a)});return Mf.min(Object.keys(i).map(function(a){return Mf.min(i[a])}))}function $b(a){var b,c,d,e,f,g,h=Gc(a),i=Sc(a);if(Tg.length&gt;0)for(g=Vc(a),b=0;b&lt;Tg.length;b++)if(e=Tg[b].filter(function(a){return h.indexOf(a)&gt;=0}),0!==e.length)for(d=e[0],g&amp;&amp;i[d]&amp;&amp;i[d].forEach(function(a,b){i[d][b]=a&gt;0?a:0}),c=1;c&lt;e.length;c++)f=e[c],i[f]&amp;&amp;i[f].forEach(function(a,b){cb(f)!==cb(d)||!i[d]||g&amp;&amp;0&gt;+a||(i[d][b]+=+a)});return Mf.max(Object.keys(i).map(function(a){return Mf.max(i[a])}))}function _b(a,c){var d,e,f,g,h,i,j,k,l=a.filter(function(a){return cb(a.id)===c}),m=&quot;y2&quot;===c?$h:Rh,n=&quot;y2&quot;===c?Zh:Qh,o=b(m)?m:Zb(l),p=b(n)?n:$b(l),q=&quot;y2&quot;===c?_h:Sh,r=Ad()&amp;&amp;wh;return 0===l.length?&quot;y2&quot;===c?Fg.domain():Eg.domain():(o===p&amp;&amp;(0&gt;o?p=0:o=0),d=Math.abs(p-o),e=f=g=r?0:.1*d,q&amp;&amp;(h=Math.max(Math.abs(o),Math.abs(p)),p=h-q,o=q-h),r&amp;&amp;(i=Bd(o,p),j=ec(Eg.range()),k=[i[0]/j,i[1]/j],f+=d*(k[1]/(1-k[0]-k[1])),g+=d*(k[0]/(1-k[0]-k[1]))),&quot;y&quot;===c&amp;&amp;Wh&amp;&amp;(f=b(Wh.top)?Wh.top:e,g=b(Wh.bottom)?Wh.bottom:e),&quot;y2&quot;===c&amp;&amp;di&amp;&amp;(f=b(di.top)?di.top:e,g=b(di.bottom)?di.bottom:e),he(l)&amp;&amp;!Uc(l)&amp;&amp;(g=o),[o-g,p+f])}function ac(a){return Kh?Vi?Ae(Kh):Kh:Mf.min(a,function(a){return Mf.min(a.values,function(a){return a.x})})}function bc(a){return Jh?Vi?Ae(Jh):Jh:Mf.max(a,function(a){return Mf.max(a.values,function(a){return a.x})})}function cc(a){var c,d,e,f,g=Fc(a),h=g[1]-g[0];return Wi?d=0:he(a)?(c=Dc(),d=c&gt;1?h/(c-1)/2:.5):d=.01*h,&quot;object&quot;==typeof Lh&amp;&amp;Fe(Lh)?(e=b(Lh.left)?Lh.left:d,f=b(Lh.right)?Lh.right:d):e=f=&quot;number&quot;==typeof Lh?Lh:d,{left:e,right:f}}function dc(a){var b=[ac(a),bc(a)],c=b[0],d=b[1],e=cc(a),f=0,g=0;return c-d!==0||Wi||(c=Vi?new Date(.5*c.getTime()):-.5,d=Vi?new Date(1.5*d.getTime()):.5),(c||0===c)&amp;&amp;(f=Vi?new Date(c.getTime()-e.left):c-e.left),(d||0===d)&amp;&amp;(g=Vi?new Date(d.getTime()+e.right):d+e.right),[f,g]}function ec(a){return a[1]-a[0]}function fc(a){for(var b=0;b&lt;a.length;b++)if(!(a[b]in Of))return!1;return!0}function gc(a,b){Of[a]=Ac(b)}function hc(a){for(var b=[],c=0;c&lt;a.length;c++)a[c]in Of&amp;&amp;b.push(Ac(Of[a[c]]));return b}function ic(a){var b,c=&quot;y&quot;===a.axis?Eg:Fg;return b=&quot;y&quot;===a.axis||&quot;y2&quot;===a.axis?wh?&quot;start&quot;in a?c(a.start):0:0:wh?0:&quot;start&quot;in a?Dg(Vi?Ae(a.start):a.start):0}function jc(a){var b,c=&quot;y&quot;===a.axis?Eg:Fg;return b=&quot;y&quot;===a.axis||&quot;y2&quot;===a.axis?wh?0:&quot;end&quot;in a?c(a.end):0:wh?&quot;start&quot;in a?Dg(Vi?Ae(a.start):a.start):0:0}function kc(a){var b,c=ic(a),d=&quot;y&quot;===a.axis?Eg:Fg;return b=&quot;y&quot;===a.axis||&quot;y2&quot;===a.axis?wh?&quot;end&quot;in a?d(a.end):gg:gg:wh?gg:&quot;end&quot;in a?Dg(Vi?Ae(a.end):a.end):gg,c&gt;b?0:b-c}function lc(a){var b,c=jc(a),d=&quot;y&quot;===a.axis?Eg:Fg;return b=&quot;y&quot;===a.axis||&quot;y2&quot;===a.axis?wh?ig:&quot;start&quot;in a?d(a.start):ig:wh?&quot;end&quot;in a?Dg(Vi?Ae(a.end):a.end):ig:ig,c&gt;b?0:b-c}function mc(a){return Ng&amp;&amp;a===Ng||Fe(Og)&amp;&amp;Ge(Og,a)}function nc(a){return!mc(a)}function oc(a){return Ng?Ng:Fe(Og)?Og[a]:null}function pc(a,b){var c,d=b&amp;&amp;Fe(b)?Gc(b):[];return d.forEach(function(b){oc(b)===a&amp;&amp;(c=Nf.data.xs[b])}),c}function qc(a,b){return a in Nf.data.xs&amp;&amp;Nf.data.xs[a]&amp;&amp;Nf.data.xs[a][b]?Nf.data.xs[a][b]:b}function rc(a){Object.keys(a).forEach(function(b){Og[b]=a[b]})}function sc(a){return 1===Mf.set(Object.keys(a).map(function(b){return a[b]})).size()}function tc(a){var b;return a&amp;&amp;(b=Rg[a.id],a.name=b?b:a.id),a}function uc(a,b){a.forEach(function(a){a.values.forEach(function(c,d){c.x=wc(b[d],a.id,d)}),Nf.data.xs[a.id]=b})}function vc(a,b){a.forEach(function(a){b[a.id]&amp;&amp;uc([a],b[a.id])})}function wc(a,c,d){var e;return e=Vi?a?a instanceof Date?a:Ae(a):Ae(qc(c,d)):Xi&amp;&amp;!Wi?b(a)?+a:qc(c,d):d}function xc(a){var b,c,d=a[0],e={},f=[];for(b=1;b&lt;a.length;b++){for(e={},c=0;c&lt;a[b].length;c++)e[d[c]]=a[b][c];f.push(e)}return f}function yc(a){var b,d,e,f=[];for(b=0;b&lt;a.length;b++)for(e=a[b][0],d=1;d&lt;a[b].length;d++)c(f[d-1])&amp;&amp;(f[d-1]={}),f[d-1][e]=a[b][d];return f}function zc(a){var c,d=Mf.keys(a[0]).filter(nc),e=Mf.keys(a[0]).filter(mc);return d.forEach(function(c){var d,f=oc(c);Xi||Vi?e.indexOf(f)&gt;=0?Nf.data.xs[c]=a.map(function(a){return a[f]}).filter(b):Ng?(d=Object.keys(Nf.data.xs),Nf.data.xs[c]=d.length&gt;0?Nf.data.xs[d[0]]:void 0):Fe(Og)&amp;&amp;(Nf.data.xs[c]=pc(f,Nf.data.targets)):Nf.data.xs[c]=a.map(function(a,b){return b})}),d.forEach(function(a){if(!Nf.data.xs[a])throw new Error('x is not defined for id = &quot;'+a+'&quot;.')}),c=d.map(function(b,c){var d=Qg(b);return{id:d,id_org:b,values:a.map(function(a,e){var f=oc(b),g=a[f],h=wc(g,b,e);return Xi&amp;&amp;Wi&amp;&amp;0===c&amp;&amp;g&amp;&amp;(0===e&amp;&amp;(Ah=[]),Ah.push(g)),(&quot;undefined&quot;==typeof a[b]||Nf.data.xs[b].length&lt;=e)&amp;&amp;(h=void 0),{x:h,value:null===a[b]||isNaN(a[b])?null:+a[b],id:d}}).filter(function(a){return&quot;undefined&quot;!=typeof a.x})}}),c.forEach(function(a){var b;a.values=a.values.sort(function(a,b){var c=a.x||0===a.x?a.x:1/0,d=b.x||0===b.x?b.x:1/0;return c-d}),b=0,a.values.forEach(function(a){a.index=b++})}),Vg&amp;&amp;fe(Gc(c).filter(function(a){return!(a in Wg)}),Vg),c.forEach(function(a){gc(a.id_org,a)}),c}function Ac(a){return{id:a.id,id_org:a.id_org,values:a.values.map(function(a){return{x:a.x,value:a.value,id:a.id}})}}function Bc(a){return a&gt;0&amp;&amp;Nf.data.targets[0].values[a-1]?Nf.data.targets[0].values[a-1].x:void 0}function Cc(a){return a&lt;Dc()-1?Nf.data.targets[0].values[a+1].x:void 0}function Dc(){return Mf.max(Nf.data.targets,function(a){return a.values.length})}function Ec(a){var b,c=a.length,d=0;return c&gt;1?a.forEach(function(a){a.values.length&gt;d&amp;&amp;(b=a,d=a.values.length)}):b=c?a[0]:null,b}function Fc(a){var b,c,d=Ec(a);return d?(b=d.values[0],c=d.values[d.values.length-1],[b.x,c.x]):[0,0]}function Gc(a){return a.map(function(a){return a.id})}function Hc(a){return a?&quot;string&quot;==typeof a?[a]:a:Gc(Nf.data.targets)}function Ic(a,b){var c,d=Gc(a);for(c=0;c&lt;d.length;c++)if(d[c]===b)return!0;return!1}function Jc(a){return fj.indexOf(a)&lt;0}function Kc(a){return gj.indexOf(a)&lt;0}function Lc(a){return a.filter(function(a){return Jc(a.id)})}function Mc(a){var b=Mf.set(Mf.merge(a.map(function(a){return a.values.map(function(a){return a.x})}))).values();return b.map(Vi?function(a){return new Date(a)}:function(a){return+a})}function Nc(a,b){var c,d,e,f,g,h,i,j=a;if(b)if(c=&quot;function&quot;==typeof b?b():b,1===c)j=[a[0]];else if(2===c)j=[a[0],a[a.length-1]];else if(c&gt;2){for(f=c-2,d=a[0],e=a[a.length-1],g=(e-d)/(f+1),j=[d],h=0;f&gt;h;h++)i=+d+g*(h+1),j.push(Vi?new Date(i):i);j.push(e)}return Vi||(j=j.sort(function(a,b){return a-b})),j}function Oc(a){fj=fj.concat(a)}function Pc(a){fj=fj.filter(function(b){return a.indexOf(b)&lt;0})}function Qc(a){gj=gj.concat(a)}function Rc(a){gj=gj.filter(function(b){return a.indexOf(b)&lt;0})}function Sc(a){var b={};return a.forEach(function(a){b[a.id]=[],a.values.forEach(function(c){b[a.id].push(c.value)})}),b}function Tc(a,b){var c,d,e,f=Object.keys(a);for(c=0;c&lt;f.length;c++)for(e=a[f[c]].values,d=0;d&lt;e.length;d++)if(b(e[d].value))return!0;return!1}function Uc(a){return Tc(a,function(a){return 0&gt;a})}function Vc(a){return Tc(a,function(a){return a&gt;0})}function Wc(a){return a&lt;Ah.length?Ah[a]:a}function Xc(a,b){return&quot; &quot;+a+&quot; &quot;+a+rd(b)}function Yc(a){return Xc(g.text,a.id)}function Zc(a){return Xc(g.texts,a.id)}function $c(a,b){return Xc(g.shape,b)}function _c(a){return Xc(g.shapes,a.id)}function ad(a){return $c(a)+Xc(g.line,a.id)}function bd(a){return _c(a)+Xc(g.lines,a.id)}function cd(a,b){return $c(a,b)+Xc(g.circle,b)}function dd(a){return _c(a)+Xc(g.circles,a.id)}function ed(a,b){return $c(a,b)+Xc(g.bar,b)}function fd(a){return _c(a)+Xc(g.bars,a.id)}function gd(a){return $c(a.data)+Xc(g.arc,a.data.id)}function hd(a){return _c(a.data)+Xc(g.arcs,a.data.id)}function id(a){return $c(a)+Xc(g.area,a.id)}function jd(a){return _c(a)+Xc(g.areas,a.id)}function kd(a,b){return Xc(g.region,b)+&quot; &quot;+(&quot;class&quot;in a?a.class:&quot;&quot;)}function ld(a,b){return Xc(g.eventRect,b)}function md(a){var b=Sg[a],c=&quot;&quot;;return b&amp;&amp;(c=&quot; &quot;+g.target+&quot;-&quot;+b),Xc(g.target,a)+c}function nd(a){return g.chartText+md(a.id)}function od(a){return g.chartLine+md(a.id)}function pd(a){return g.chartBar+md(a.id)}function qd(a){return g.chartArc+md(a.data.id)}function rd(a){return a||0===a?&quot;-&quot;+(a.replace?a.replace(/([^a-zA-Z0-9-_])/g,&quot;-&quot;):a):&quot;&quot;}function sd(a){return&quot;.&quot;+g.target+rd(a)}function td(a){return a.length?a.map(function(a){return sd(a)}):null}function ud(a){return&quot;.&quot;+g.legendItem+rd(a)}function vd(a){return a.length?a.map(function(a){return ud(a)}):null}function wd(a){return null!==a.value&amp;&amp;Jj[a.id]?1:0}function xd(a){var b=zd(a);return wd(a)*b}function yd(a){return b(a.value)?pe(a)?.5:1:0}function zd(){return Ad()?1:0}function Ad(){return&quot;boolean&quot;==typeof Xg&amp;&amp;Xg?!0:&quot;object&quot;==typeof Xg&amp;&amp;Fe(Xg)?!0:!1}function Bd(a,b){var c=[],d=1.3;return Gj.select(&quot;svg&quot;).selectAll(&quot;.dummy&quot;).data([a,b]).enter().append(&quot;text&quot;).text(function(a){return a}).each(function(a,b){c[b]=this.getBoundingClientRect().width*d}).remove(),c}function Cd(a){var b=a?Gd:Dd,c=a?Gd:Ed;return function(a,d,e){var f=&quot;y2&quot;===cb(e)?c:b;return f(a,d)}}function Dd(a){var b=Vh?Vh:Fd;return b(a)}function Ed(a){var b=ci?ci:Fd;return b(a)}function Fd(a){return b(a)?+a:&quot;&quot;}function Gd(a,b){return(100*b).toFixed(1)+&quot;%&quot;}function Hd(a){var c=function(a){return b(a)?+a:&quot;&quot;},d=cb(a),e=c;return&quot;function&quot;==typeof Xg.format?e=Xg.format:&quot;object&quot;==typeof Xg.format&amp;&amp;&quot;function&quot;==typeof Xg.format[d]&amp;&amp;(e=Xg.format[d]),e}function Id(a){return a?Dg(a.x):null}function Jd(a){return Math.ceil(Dg(Vi?Ae(a.value):a.value))}function Kd(a){var b=a.axis&amp;&amp;&quot;y2&quot;===a.axis?Fg:Eg;return Math.ceil(b(a.value))}function Ld(a){return Gg(a.x)}function Md(a,b){var c,d=a[b].x,e=[];for(c=b-1;c&gt;=0&amp;&amp;d===a[c].x;c--)e.push(a[c]);for(c=b;c&lt;a.length&amp;&amp;d===a[c].x;c++)e.push(a[c]);return e}function Nd(a,b,c,d){var e,f=c?c:0,g=d?d:a.length-1,h=Math.floor((g-f)/2)+f,i=a[h],j=Dg(i.x)-b[wh?1:0];return j&gt;0?g=h:f=h,g-f===1||0===f&amp;&amp;0===g?(e=[],(a[f].x||0===a[f].x)&amp;&amp;(e=e.concat(Md(a,f))),(a[g].x||0===a[g].x)&amp;&amp;(e=e.concat(Md(a,g))),Pd(e,b)):Nd(a,b,f,g)}function Od(a,b){var c;return c=a.map(function(a){return Nd(a.values,b)}),Pd(c,b)}function Pd(a,b){var c,d;return a.forEach(function(a){var e=He(a,b);(c&gt;e||!c)&amp;&amp;(c=e,d=a)}),d}function Qd(a,b){return Mf.merge(a.map(function(a){return a.values})).filter(function(a){return a.x-b===0})}function Rd(a){var b=a.getBoundingClientRect(),c=[a.pathSegList.getItem(0),a.pathSegList.getItem(1)],d=c[0].x,e=Math.min(c[0].y,c[1].y);return{x:d,y:e,width:b.width,height:b.height}}function Sd(){return Yg&amp;&amp;&quot;desc&quot;===Yg.toLowerCase()}function Td(){return Yg&amp;&amp;&quot;asc&quot;===Yg.toLowerCase()}function Ud(a){var b=Td(),c=Sd();return b||c?a.sort(function(a,c){var d=function(a,b){return a+Math.abs(b.value)},e=a.values.reduce(d,0),f=c.values.reduce(d,0);return b?f-e:e-f}):&quot;function&quot;==typeof Yg&amp;&amp;a.sort(Yg),a}function Vd(a,c){var d,e,f,g,h,i,j,k=le(Nf.data.targets),l=a.filter(function(a){return a&amp;&amp;b(a.value)});0!==l.length&amp;&amp;Ii&amp;&amp;(Fj.html(Li(a,db(),Cd(k),cj)).style(&quot;display&quot;,&quot;block&quot;),d=Fj.property(&quot;offsetWidth&quot;),e=Fj.property(&quot;offsetHeight&quot;),k?(g=gg/2+c[0],i=ig/2+c[1]+20):(wh?(f=s(),g=f+c[0]+100,h=g+d,j=t()-y(),i=Dg(l[0].x)+20):(f=s(),g=f+x()+Dg(l[0].x)+20,h=g+d,j=f+t()-y(),i=c[1]+15),h&gt;j&amp;&amp;(g-=d+60),i+e&gt;u()&amp;&amp;(i-=e+30)),Fj.style(&quot;top&quot;,i+&quot;px&quot;).style(&quot;left&quot;,g+&quot;px&quot;))}function Wd(){Fj.style(&quot;display&quot;,&quot;none&quot;)}function Xd(a){var c=a.filter(function(a){return a&amp;&amp;b(a.value)});if(Ii&amp;&amp;!ie(Nf.data.targets)&amp;&amp;!le(Nf.data.targets)){var d=Cj.selectAll(&quot;line.&quot;+g.xgridFocus);d.style(&quot;visibility&quot;,&quot;visible&quot;).data([c[0]]).attr(wh?&quot;y1&quot;:&quot;x1&quot;,Id).attr(wh?&quot;y2&quot;:&quot;x2&quot;,Id),pf(d,&quot;grid&quot;)}}function Yd(){Cj.select(&quot;line.&quot;+g.xgridFocus).style(&quot;visibility&quot;,&quot;hidden&quot;)}function Zd(a,b){var c,d,e,f,h=[],i=Cj.select(&quot;.&quot;+g.axisX).selectAll(&quot;.tick&quot;).size();if(&quot;year&quot;===a)for(c=dc(),d=c[0].getFullYear(),e=c[1].getFullYear(),f=d;e&gt;=f;f++)h.push(new Date(f+&quot;-01-01 00:00:00&quot;));else h=b.ticks(10);return h.slice(0,i)}function $d(a){return a.x||0===a.x?Dg(a.x):null}function _d(a){return $(a.id)(a.value)}function ae(){var a,b,d={},e=0;return Lc(Nf.data.targets.filter(oe)).forEach(function(f){for(a=0;a&lt;Tg.length;a++)if(!(Tg[a].indexOf(f.id)&lt;0))for(b=0;b&lt;Tg[a].length;b++)if(Tg[a][b]in d){d[f.id]=d[Tg[a][b]];break}c(d[f.id])&amp;&amp;(d[f.id]=e++)}),d.__max__=e-1,d}function be(a,b,c,d){var e=d?Gg:Dg;return function(d){var f=d.id in c?c[d.id]:0;return d.x||0===d.x?e(d.x)-a*(b/2-f):0}}function ce(a){return function(b){var c=a?_(b.id):$(b.id);return c(b.value)}}function de(a,b){var c=Ud(Lc(Nf.data.targets.filter(oe))),d=c.map(function(a){return a.id});return function(e,f){var g=b?_(e.id):$(e.id),h=g(0),i=h;return c.forEach(function(b){b.id!==e.id&amp;&amp;a[b.id]===a[e.id]&amp;&amp;d.indexOf(b.id)&lt;d.indexOf(e.id)&amp;&amp;b.values[f].value*e.value&gt;0&amp;&amp;(i+=g(b.values[f].value)-h)}),i}}function ee(a,b){return&quot;number&quot;==typeof si?si:b?2*a.tickOffset()*ti/b:0}function fe(a,b){Hc(a).forEach(function(a){Jj[a]=b===Wg[a],Wg[a]=b})}function ge(a,b){var c=!1;return a.forEach(function(a){Wg[a.id]===b&amp;&amp;(c=!0),a.id in Wg||&quot;line&quot;!==b||(c=!0)}),c}function he(a){return ge(a,&quot;bar&quot;)}function ie(a){return ge(a,&quot;scatter&quot;)}function je(a){return ge(a,&quot;pie&quot;)}function ke(a){return ge(a,&quot;donut&quot;)}function le(a){return je(a)||ke(a)}function me(a){var b=&quot;string&quot;==typeof a?a:a.id;return!(b in Wg)||&quot;line&quot;===Wg[b]||&quot;spline&quot;===Wg[b]||&quot;area&quot;===Wg[b]||&quot;area-spline&quot;===Wg[b]}function ne(a){var b=&quot;string&quot;==typeof a?a:a.id;return&quot;spline&quot;===Wg[b]||&quot;area-spline&quot;===Wg[b]}function oe(a){var b=&quot;string&quot;==typeof a?a:a.id;return&quot;bar&quot;===Wg[b]}function pe(a){var b=&quot;string&quot;==typeof a?a:a.id;return&quot;scatter&quot;===Wg[b]}function qe(a){var b=&quot;string&quot;==typeof a?a:a.id;return&quot;pie&quot;===Wg[b]}function re(a){var b=&quot;string&quot;==typeof a?a:a.id;return&quot;donut&quot;===Wg[b]}function se(a){return qe(a)||re(a)}function te(a){return me(a)?[a]:[]}function ue(a){return se(a.data)?[a]:[]}function ve(a){return oe(a)?a.values:[]}function we(a){return me(a)||pe(a)?a.values:[]}function xe(a){return oe(a)||me(a)?a.values:[]}function ye(a){return re(a)&amp;&amp;Ci||qe(a)&amp;&amp;wi}function ze(a,b,c){var d=[];return function(e){var f,g=e.id||e;return a[g]instanceof Function?f=a[g](e):a[g]?f=a[g]:(d.indexOf(g)&lt;0&amp;&amp;d.push(g),f=b[d.indexOf(g)%b.length]),c instanceof Function?c(f,e):f}}function Ae(b){var c;try{c=Pg?Mf.time.format(Pg).parse(b):new Date(b)}catch(d){a.console.error(&quot;Failed to parse x '&quot;+b+&quot;' to Date with format &quot;+Pg)}return c}function Be(a,b){var c=Mf.mouse(a),d=Mf.select(a),e=1*d.attr(&quot;cx&quot;),f=1*d.attr(&quot;cy&quot;);return Math.sqrt(Math.pow(e-c[0],2)+Math.pow(f-c[1],2))&lt;b}function Ce(a){var b=Mf.mouse(a),c=a.getBoundingClientRect(),d=a.pathSegList.getItem(0),e=a.pathSegList.getItem(1),f=d.x,g=Math.min(d.y,e.y),h=c.width,i=c.height,j=2,k=f-j,l=f+h+j,m=g+i+j,n=g-j;return k&lt;b[0]&amp;&amp;b[0]&lt;l&amp;&amp;n&lt;b[1]&amp;&amp;b[1]&lt;m}function De(a,b){var c;for(c=0;c&lt;b.length;c++)if(b[c].start&lt;a&amp;&amp;a&lt;=b[c].end)return!0;return!1}function Ee(a){return!a||&quot;string&quot;==typeof a&amp;&amp;0===a.length||&quot;object&quot;==typeof a&amp;&amp;0===Object.keys(a).length}function Fe(a){return Object.keys(a).length&gt;0}function Ge(a,b){var c=!1;return Object.keys(a).forEach(function(d){a[d]===b&amp;&amp;(c=!0)}),c}function He(a,b){var c=&quot;y&quot;===cb(a.id)?Eg:Fg,d=wh?1:0,e=wh?0:1;return Math.pow(Dg(a.x)-b[d],2)+Math.pow(c(a.value)-b[e],2)}function Ie(a,b){var c=0;a.each(function(){++c}).each(&quot;end&quot;,function(){--c||b.apply(this,arguments)})}function Je(a,b,c){return d(a[b])?a[b]:c}function Ke(a){return 10*Math.ceil(a/10)}function Le(a,b,c){jh(b,a.node()),Cj.select(&quot;.&quot;+g.selectedCircles+rd(b.id)).selectAll(&quot;.&quot;+g.selectedCircle+&quot;-&quot;+c).data([b]).enter().append(&quot;circle&quot;).attr(&quot;class&quot;,function(){return Xc(g.selectedCircle,c)}).attr(&quot;cx&quot;,wh?_d:$d).attr(&quot;cy&quot;,wh?$d:_d).attr(&quot;stroke&quot;,function(){return cj(b)}).attr(&quot;r&quot;,1.4*We(b)).transition().duration(100).attr(&quot;r&quot;,We)}function Me(a,b,c){kh(b,a.node()),Cj.select(&quot;.&quot;+g.selectedCircles+rd(b.id)).selectAll(&quot;.&quot;+g.selectedCircle+&quot;-&quot;+c).transition().duration(100).attr(&quot;r&quot;,0).remove()}function Ne(a,b,c,d){a?Le(b,c,d):Me(b,c,d)}function Oe(a,b){jh(b,a.node()),a.transition().duration(100).style(&quot;fill&quot;,function(){return Mf.rgb(cj(b)).brighter(.75)})}function Pe(a,b){kh(b,a.node()),a.transition().duration(100).style(&quot;fill&quot;,function(){return cj(b)})}function Qe(a,b,c,d){a?Oe(b,c,d):Pe(b,c,d)}function Re(a,b,c,d){Qe(a,b,c.data,d)}function Se(a){return&quot;circle&quot;===a.nodeName?Ne:Mf.select(a).classed(g.bar)?Qe:Re}function Te(a){return a.filter(function(a){return b(a.value)})}function Ue(a){return li?&quot;function&quot;==typeof mi?mi(a):mi:0}function Ve(a){return oi?pi?pi:1.75*Ue(a):Ue(a)}function We(a){return qi?qi:4*Ue(a)}function Xe(a,c){return(c?Cj.selectAll(&quot;.&quot;+g.circles+rd(c)):Cj).selectAll(&quot;.&quot;+g.circle+(b(a)?&quot;-&quot;+a:&quot;&quot;))}function Ye(a,b){Xe(a,b).classed(g.EXPANDED,!0).attr(&quot;r&quot;,Ve)}function Ze(a){Xe(a).filter(function(){return Mf.select(this).classed(g.EXPANDED)}).classed(g.EXPANDED,!1).attr(&quot;r&quot;,Ue)}function $e(a){return Cj.selectAll(&quot;.&quot;+g.bar+(b(a)?&quot;-&quot;+a:&quot;&quot;))}function _e(a){$e(a).classed(g.EXPANDED,!0)}function af(a){$e(a).classed(g.EXPANDED,!1)}function bf(a,b){var c=ff(a,b);return function(a,b){var d=c(a,b),e=wh?1:0,f=wh?0:1,g=&quot;M &quot;+d[0][e]+&quot;,&quot;+d[0][f]+&quot; L&quot;+d[1][e]+&quot;,&quot;+d[1][f]+&quot; L&quot;+d[2][e]+&quot;,&quot;+d[2][f]+&quot; L&quot;+d[3][e]+&quot;,&quot;+d[3][f]+&quot; z&quot;;return g}}function cf(a,b){var c=ff(a,!1),d=b?df:ef;return function(a,b){return d(c(a,b),a,this)}}function df(a,b){var c;return wh?(c=oe(b)?4:6,a[2][1]+c*(b.value&lt;0?-1:1)):a[0][0]+(a[2][0]-a[0][0])/2}function ef(a,b,c){var d=c.getBoundingClientRect();return wh?(a[0][0]+a[2][0]+.6*d.height)/2:a[2][1]+(b.value&lt;0?d.height:oe(b)?-3:-6)}function ff(a,b){var c=a.__max__+1,d=ee(Jg,c),e=be(d,c,a,!!b),f=ce(!!b),g=de(a,!!b),h=b?_:$;return function(a,b){var c=h(a.id)(0),i=g(a,b)||c,j=e(a),k=f(a);return wh&amp;&amp;(0&lt;a.value&amp;&amp;c&gt;k||a.value&lt;0&amp;&amp;k&gt;c)&amp;&amp;(k=c),[[j,i],[j,k-(c-i)],[j+d,k-(c-i)],[j+d,i]]}}function gf(a,b,e,f){var g,h,i,j,k,l,m,n,o,p,q,r,s=-1,t=&quot;M&quot;,u=[];if(d(f))for(g=0;g&lt;f.length;g++)u[g]={},u[g].start=c(f[g].start)?a[0].x:Vi?Ae(f[g].start):f[g].start,u[g].end=c(f[g].end)?a[a.length-1].x:Vi?Ae(f[g].end):f[g].end;
for(q=wh?function(a){return e(a.value)}:function(a){return b(a.x)},r=wh?function(a){return b(a.x)}:function(a){return e(a.value)},i=Vi?function(a,c,d,f){var g=a.x.getTime(),h=c.x-a.x,i=new Date(g+h*d),j=new Date(g+h*(d+f));return&quot;M&quot;+b(i)+&quot; &quot;+e(k(d))+&quot; &quot;+b(j)+&quot; &quot;+e(k(d+f))}:function(a,c,d,f){return&quot;M&quot;+b(j(d),!0)+&quot; &quot;+e(k(d))+&quot; &quot;+b(j(d+f),!0)+&quot; &quot;+e(k(d+f))},g=0;g&lt;a.length;g++){if(c(u)||!De(a[g].x,u))t+=&quot; &quot;+q(a[g])+&quot; &quot;+r(a[g]);else for(j=X(a[g-1].x,a[g].x,Vi),k=X(a[g-1].value,a[g].value),l=b(a[g].x)-b(a[g-1].x),m=e(a[g].value)-e(a[g-1].value),n=Math.sqrt(Math.pow(l,2)+Math.pow(m,2)),o=2/n,p=2*o,h=o;1&gt;=h;h+=p)t+=i(a[g-1],a[g],h,o);s=a[g].x}return t}function hf(b){var c,d,e;if(Gj=Mf.select(Pf),Gj.empty())throw new Error(&quot;Element to bind not found&quot;);if(Gj.html(&quot;&quot;).classed(&quot;c3&quot;,!0),Nf.data.xs={},Nf.data.targets=zc(b),bh&amp;&amp;(Nf.data.targets=Nf.data.targets.filter(bh)),ah&amp;&amp;Oc(ah===!0?Gc(Nf.data.targets):ah),p(),V(),Dg.domain(Mf.extent(dc(Nf.data.targets))),Eg.domain(_b(Nf.data.targets,&quot;y&quot;)),Fg.domain(_b(Nf.data.targets,&quot;y2&quot;)),Gg.domain(Dg.domain()),Hg.domain(Eg.domain()),Ig.domain(Fg.domain()),Hj=Dg.domain(),vj.scale(Gg),Wf&amp;&amp;zj.scale(Dg),Aj=Gj.append(&quot;svg&quot;).style(&quot;overflow&quot;,&quot;hidden&quot;).on(&quot;mouseenter&quot;,$f).on(&quot;mouseleave&quot;,_f),Bj=Aj.append(&quot;defs&quot;),Bj.append(&quot;clipPath&quot;).attr(&quot;id&quot;,Pi).append(&quot;rect&quot;),Bj.append(&quot;clipPath&quot;).attr(&quot;id&quot;,Qi).append(&quot;rect&quot;),Bj.append(&quot;clipPath&quot;).attr(&quot;id&quot;,Ri).append(&quot;rect&quot;),uf(),Cj=Aj.append(&quot;g&quot;).attr(&quot;transform&quot;,mj.main),Dj=Aj.append(&quot;g&quot;).attr(&quot;transform&quot;,mj.context),Ej=Aj.append(&quot;g&quot;).attr(&quot;transform&quot;,mj.legend),nh||Dj.style(&quot;visibility&quot;,&quot;hidden&quot;),qh||(Ej.style(&quot;visibility&quot;,&quot;hidden&quot;),gj=Gc(Nf.data.targets)),Fj=Gj.style(&quot;position&quot;,&quot;relative&quot;).append(&quot;div&quot;).style(&quot;position&quot;,&quot;absolute&quot;).style(&quot;pointer-events&quot;,&quot;none&quot;).style(&quot;z-index&quot;,&quot;10&quot;).style(&quot;display&quot;,&quot;none&quot;),Hf(Gc(Nf.data.targets),{withTransform:!1,withTransitionForTransform:!1}),d=Cj.append(&quot;g&quot;).attr(&quot;clip-path&quot;,Si).attr(&quot;class&quot;,g.grid),fi&amp;&amp;d.append(&quot;g&quot;).attr(&quot;class&quot;,g.xgrids),Fe(hi)&amp;&amp;d.append(&quot;g&quot;).attr(&quot;class&quot;,g.xgridLines),ni&amp;&amp;d.append(&quot;g&quot;).attr(&quot;class&quot;,g.xgridFocus).append(&quot;line&quot;).attr(&quot;class&quot;,g.xgridFocus),ii&amp;&amp;d.append(&quot;g&quot;).attr(&quot;class&quot;,g.ygrids),Fe(ji)&amp;&amp;d.append(&quot;g&quot;).attr(&quot;class&quot;,g.ygridLines),Cj.append(&quot;g&quot;).attr(&quot;clip-path&quot;,Si).attr(&quot;class&quot;,g.regions),Cj.append(&quot;g&quot;).attr(&quot;clip-path&quot;,Si).attr(&quot;class&quot;,g.chart),c=Cj.select(&quot;.&quot;+g.chart).append(&quot;g&quot;).attr(&quot;class&quot;,g.eventRects).style(&quot;fill-opacity&quot;,0).style(&quot;cursor&quot;,Wf?wh?&quot;ns-resize&quot;:&quot;ew-resize&quot;:null),Cj.select(&quot;.&quot;+g.chart).append(&quot;g&quot;).attr(&quot;class&quot;,g.chartBars),Cj.select(&quot;.&quot;+g.chart).append(&quot;g&quot;).attr(&quot;class&quot;,g.chartLines),Cj.select(&quot;.&quot;+g.chart).append(&quot;g&quot;).attr(&quot;class&quot;,g.chartArcs).attr(&quot;transform&quot;,mj.arc).append(&quot;text&quot;).attr(&quot;class&quot;,g.chartArcsTitle).style(&quot;text-anchor&quot;,&quot;middle&quot;).text(Vb()),Cj.select(&quot;.&quot;+g.chart).append(&quot;g&quot;).attr(&quot;class&quot;,g.chartTexts),Wf&amp;&amp;Cj.insert(&quot;rect&quot;,Yf?null:&quot;g.&quot;+g.grid).attr(&quot;class&quot;,g.zoomRect).attr(&quot;width&quot;,gg).attr(&quot;height&quot;,ig).style(&quot;opacity&quot;,0).style(&quot;cursor&quot;,wh?&quot;ns-resize&quot;:&quot;ew-resize&quot;).call(zj).on(&quot;dblclick.zoom&quot;,null),Nh&amp;&amp;vj.extent(&quot;function&quot;!=typeof Nh?Nh:Nh(dc())),hj.x=Cj.append(&quot;g&quot;).attr(&quot;class&quot;,g.axisX).attr(&quot;clip-path&quot;,Ti).attr(&quot;transform&quot;,mj.x).style(&quot;visibility&quot;,xh?&quot;visible&quot;:&quot;hidden&quot;),hj.x.append(&quot;text&quot;).attr(&quot;class&quot;,g.axisXLabel).attr(&quot;transform&quot;,wh?&quot;rotate(-90)&quot;:&quot;&quot;).style(&quot;text-anchor&quot;,Eb),hj.y=Cj.append(&quot;g&quot;).attr(&quot;class&quot;,g.axisY).attr(&quot;clip-path&quot;,Ui).attr(&quot;transform&quot;,mj.y).style(&quot;visibility&quot;,Ph?&quot;visible&quot;:&quot;hidden&quot;),hj.y.append(&quot;text&quot;).attr(&quot;class&quot;,g.axisYLabel).attr(&quot;transform&quot;,wh?&quot;&quot;:&quot;rotate(-90)&quot;).style(&quot;text-anchor&quot;,Fb),hj.y2=Cj.append(&quot;g&quot;).attr(&quot;class&quot;,g.axisY2).attr(&quot;transform&quot;,mj.y2).style(&quot;visibility&quot;,Yh?&quot;visible&quot;:&quot;hidden&quot;),hj.y2.append(&quot;text&quot;).attr(&quot;class&quot;,g.axisY2Label).attr(&quot;transform&quot;,wh?&quot;&quot;:&quot;rotate(-90)&quot;).style(&quot;text-anchor&quot;,Gb),Dj.append(&quot;g&quot;).attr(&quot;clip-path&quot;,Si).attr(&quot;class&quot;,g.chart),Dj.select(&quot;.&quot;+g.chart).append(&quot;g&quot;).attr(&quot;class&quot;,g.chartBars),Dj.select(&quot;.&quot;+g.chart).append(&quot;g&quot;).attr(&quot;class&quot;,g.chartLines),Dj.append(&quot;g&quot;).attr(&quot;clip-path&quot;,Si).attr(&quot;class&quot;,g.brush).call(vj).selectAll(&quot;rect&quot;).attr(wh?&quot;width&quot;:&quot;height&quot;,wh?hg:jg),hj.subx=Dj.append(&quot;g&quot;).attr(&quot;class&quot;,g.axisX).attr(&quot;transform&quot;,mj.subx).attr(&quot;clip-path&quot;,wh?&quot;&quot;:Ti),xf(Nf.data.targets),qf({withUpdateTranslate:!0,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1}),Mi){if(Vi&amp;&amp;&quot;string&quot;==typeof Ni){for(Ni=Ae(Ni),e=0;e&lt;Nf.data.targets[0].values.length&amp;&amp;Nf.data.targets[0].values[e].x-Ni!==0;e++);Ni=e}Fj.html(Li(Nf.data.targets.map(function(a){return tc(a.values[Ni])}),db(),Cd(le(Nf.data.targets)),cj)),Fj.style(&quot;top&quot;,Oi.top).style(&quot;left&quot;,Oi.left).style(&quot;display&quot;,&quot;block&quot;)}null==a.onresize&amp;&amp;(a.onresize=tf()),a.onresize.add&amp;&amp;(a.onresize.add(ag),a.onresize.add(function(){wf({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})}),a.onresize.add(bg))}function jf(a){a.append(&quot;rect&quot;).attr(&quot;class&quot;,ld).style(&quot;cursor&quot;,ch&amp;&amp;dh?&quot;pointer&quot;:null).on(&quot;mouseover&quot;,function(a,b){if(!Zi&amp;&amp;!le(Nf.data.targets)){var c,d,e=Nf.data.targets.map(function(a){return tc(a.values[b])});if(Object.keys(Rg).length&gt;0){d=[];for(var f in Rg)for(c=0;c&lt;e.length;c++)if(e[c].id===f){d.push(e[c]),e.shift(c);break}e=d.concat(e)}oi&amp;&amp;Ye(b),_e(b),Cj.selectAll(&quot;.&quot;+g.shape+&quot;-&quot;+b).each(function(a){hh(a)})}}).on(&quot;mouseout&quot;,function(a,b){le(Nf.data.targets)||(Yd(),Wd(),Ze(b),af(),Cj.selectAll(&quot;.&quot;+g.shape+&quot;-&quot;+b).each(function(a){ih(a)}))}).on(&quot;mousemove&quot;,function(a,b){var c;Zi||le(Nf.data.targets)||(c=Lc(Nf.data.targets).map(function(a){return tc(a.values[b])}),Vd(c,Mf.mouse(this)),Xd(c),ch&amp;&amp;(dh||Cj.selectAll(&quot;.&quot;+g.shape+&quot;-&quot;+b).filter(function(a){return eh(a)}).each(function(){var a=Mf.select(this).classed(g.EXPANDED,!0);&quot;circle&quot;===this.nodeName&amp;&amp;a.attr(&quot;r&quot;,Ve),Aj.select(&quot;.&quot;+g.eventRect+&quot;-&quot;+b).style(&quot;cursor&quot;,null)}).filter(function(a){return&quot;circle&quot;===this.nodeName?Be(this,We(a)):&quot;path&quot;===this.nodeName?Ce(this):void 0}).each(function(){var a=Mf.select(this);a.classed(g.EXPANDED)||(a.classed(g.EXPANDED,!0),&quot;circle&quot;===this.nodeName&amp;&amp;a.attr(&quot;r&quot;,We)),Aj.select(&quot;.&quot;+g.eventRect+&quot;-&quot;+b).style(&quot;cursor&quot;,&quot;pointer&quot;)})))}).on(&quot;click&quot;,function(a,b){return le(Nf.data.targets)?void 0:$i?void($i=!1):void Cj.selectAll(&quot;.&quot;+g.shape+&quot;-&quot;+b).each(function(a){lf(this,a,b)})}).call(Mf.behavior.drag().origin(Object).on(&quot;drag&quot;,function(){mf(Mf.mouse(this))}).on(&quot;dragstart&quot;,function(){nf(Mf.mouse(this))}).on(&quot;dragend&quot;,function(){of()})).call(zj).on(&quot;dblclick.zoom&quot;,null)}function kf(a){a.append(&quot;rect&quot;).attr(&quot;x&quot;,0).attr(&quot;y&quot;,0).attr(&quot;width&quot;,gg).attr(&quot;height&quot;,ig).attr(&quot;class&quot;,g.eventRect).on(&quot;mouseout&quot;,function(){le(Nf.data.targets)||(Yd(),Wd(),Ze())}).on(&quot;mousemove&quot;,function(){var a,b,c,d,e=Lc(Nf.data.targets);Zi||le(e)||(a=Mf.mouse(this),b=Od(e,a),b&amp;&amp;(c=pe(b)?[b]:Qd(e,b.x),d=c.map(function(a){return tc(a)}),Vd(d,a),oi&amp;&amp;(Ze(),Ye(b.index,b.id)),Xd(d),He(b,a)&lt;100?(Aj.select(&quot;.&quot;+g.eventRect).style(&quot;cursor&quot;,&quot;pointer&quot;),_i||(hh(b),_i=!0)):(Aj.select(&quot;.&quot;+g.eventRect).style(&quot;cursor&quot;,null),ih(b),_i=!1)))}).on(&quot;click&quot;,function(){var a,b,c=Lc(Nf.data.targets);le(c)||(a=Mf.mouse(this),b=Od(c,a),b&amp;&amp;He(b,a)&lt;100&amp;&amp;Cj.select(&quot;.&quot;+g.circles+&quot;-&quot;+rd(b.id)).select(&quot;.&quot;+g.circle+&quot;-&quot;+b.index).each(function(){lf(this,b,b.index)}))}).call(Mf.behavior.drag().origin(Object).on(&quot;drag&quot;,function(){mf(Mf.mouse(this))}).on(&quot;dragstart&quot;,function(){nf(Mf.mouse(this))}).on(&quot;dragend&quot;,function(){of()})).call(zj).on(&quot;dblclick.zoom&quot;,null)}function lf(a,b,c){var d,e,f=Mf.select(a),h=f.classed(g.SELECTED);&quot;circle&quot;===a.nodeName?(d=Be(a,1.5*We(b)),e=Ne):&quot;path&quot;===a.nodeName&amp;&amp;(f.classed(g.bar)?(d=Ce(a),e=Qe):(d=!0,e=Re)),(dh||d)&amp;&amp;(ch&amp;&amp;eh(b)&amp;&amp;(fh||Cj.selectAll(&quot;.&quot;+g.shapes+(dh?rd(b.id):&quot;&quot;)).selectAll(&quot;.&quot;+g.shape).each(function(a,b){var c=Mf.select(this);c.classed(g.SELECTED)&amp;&amp;e(!1,c.classed(g.SELECTED,!1),a,b)}),f.classed(g.SELECTED,!h),e(!h,f,b,c)),gh(b,a))}function mf(a){var b,c,d,e,f,h,i,j;le(Nf.data.targets)||ch&amp;&amp;(!Wf||zj.altDomain)&amp;&amp;fh&amp;&amp;(b=Yi[0],c=Yi[1],d=a[0],e=a[1],f=Math.min(b,d),h=Math.max(b,d),i=dh?dg.top:Math.min(c,e),j=dh?ig:Math.max(c,e),Cj.select(&quot;.&quot;+g.dragarea).attr(&quot;x&quot;,f).attr(&quot;y&quot;,i).attr(&quot;width&quot;,h-f).attr(&quot;height&quot;,j-i),Cj.selectAll(&quot;.&quot;+g.shapes).selectAll(&quot;.&quot;+g.shape).filter(function(a){return eh(a)}).each(function(a,b){var c,d,e,k,l,m,n=Mf.select(this),o=n.classed(g.SELECTED),p=n.classed(g.INCLUDED),q=!1;if(n.classed(g.circle))c=1*n.attr(&quot;cx&quot;),d=1*n.attr(&quot;cy&quot;),l=Ne,q=c&gt;f&amp;&amp;h&gt;c&amp;&amp;d&gt;i&amp;&amp;j&gt;d;else{if(!n.classed(g.bar))return;m=Rd(this),c=m.x,d=m.y,e=m.width,k=m.height,l=Qe,q=!(c&gt;h||f&gt;c+e||d&gt;j||i&gt;d+k)}q^p&amp;&amp;(n.classed(g.INCLUDED,!p),n.classed(g.SELECTED,!o),l(!o,n,a,b))}))}function nf(a){le(Nf.data.targets)||ch&amp;&amp;(Yi=a,Cj.select(&quot;.&quot;+g.chart).append(&quot;rect&quot;).attr(&quot;class&quot;,g.dragarea).style(&quot;opacity&quot;,.1),Zi=!0,lh())}function of(){le(Nf.data.targets)||ch&amp;&amp;(Cj.select(&quot;.&quot;+g.dragarea).transition().duration(100).style(&quot;opacity&quot;,0).remove(),Cj.selectAll(&quot;.&quot;+g.shape).classed(g.INCLUDED,!1),Zi=!1,mh())}function pf(a,b){&quot;grid&quot;===b&amp;&amp;a.each(function(){var a=Mf.select(this),b=a.attr(&quot;x1&quot;),c=a.attr(&quot;x2&quot;),d=a.attr(&quot;y1&quot;),e=a.attr(&quot;y2&quot;);a.attr({x1:Math.ceil(b),x2:Math.ceil(c),y1:Math.ceil(d),y2:Math.ceil(e)})})}function qf(a,c){var d,e,f,h,i,j,k,l,m,n,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,Q,R,S,T,U,W,X,Y,Z,$=ae(),_=le(Nf.data.targets),ab=Lc(Nf.data.targets);if(a=a||{},E=Je(a,&quot;withY&quot;,!0),F=Je(a,&quot;withSubchart&quot;,!0),G=Je(a,&quot;withTransition&quot;,!0),J=Je(a,&quot;withTransform&quot;,!1),K=Je(a,&quot;withUpdateXDomain&quot;,!1),L=Je(a,&quot;withUpdateOrgXDomain&quot;,!1),N=Je(a,&quot;withUpdateTranslate&quot;,!1),M=Je(a,&quot;withLegend&quot;,!1),H=Je(a,&quot;withTransitionForExit&quot;,G),I=Je(a,&quot;withTransitionForAxis&quot;,G),T=G?cg:0,U=H?T:0,W=I?T:0,c=c||vf(W),N&amp;&amp;(wh?(hj.x.call(Jg),hj.subx.call(Mg)):(hj.y.call(Kg),hj.y2.call(Lg)),p(),V(),uf(),o(!1)),M&amp;&amp;qh&amp;&amp;Hf(Gc(Nf.data.targets),a,c),Wi&amp;&amp;0===ab.length&amp;&amp;Dg.domain([0,hj.x.selectAll(&quot;.tick&quot;).size()]),ab.length&amp;&amp;(L&amp;&amp;(Dg.domain(Mf.extent(dc(ab))),Hj=Dg.domain(),Wf&amp;&amp;zj.scale(Dg).updateScaleExtent(),Gg.domain(Dg.domain()),vj.scale(Gg)),K&amp;&amp;(Dg.domain(vj.empty()?Hj:vj.extent()),Wf&amp;&amp;zj.scale(Dg).updateScaleExtent()),Hh||!Gh&amp;&amp;!Fh||(X=Nc(Mc(ab),Fh),Jg.tickValues(X),Mg.tickValues(X))),Eg.domain(_b(ab,&quot;y&quot;)),Fg.domain(_b(ab,&quot;y2&quot;)),hj.x.style(&quot;opacity&quot;,_?0:1),hj.y.style(&quot;opacity&quot;,_?0:1),hj.y2.style(&quot;opacity&quot;,_?0:1),hj.subx.style(&quot;opacity&quot;,_?0:1),c.axisX.call(Jg),c.axisY.call(Kg),c.axisY2.call(Lg),c.axisSubX.call(Mg),Ib(G),K&amp;&amp;ab.length)if(Dh&amp;&amp;X){for(Y=1;Y&lt;X.length;Y++)if(X.length/Y&lt;Eh){Z=Y;break}Aj.selectAll(&quot;.&quot;+g.axisX+&quot; .tick text&quot;).each(function(a){var b=X.indexOf(a);b&gt;=0&amp;&amp;Mf.select(this).style(&quot;display&quot;,b%Z?&quot;none&quot;:&quot;block&quot;)})}else Aj.selectAll(&quot;.&quot;+g.axisX+&quot; .tick text&quot;).style(&quot;display&quot;,&quot;block&quot;);!wh&amp;&amp;Ih&amp;&amp;jb(hj.x,c.axisX,Ih),O=bf($),R=cf($,!0),S=cf($,!1),Hg.domain(Eg.domain()),Ig.domain(Fg.domain()),Fj.style(&quot;display&quot;,&quot;none&quot;),q(),Cj.select(&quot;line.&quot;+g.xgridFocus).style(&quot;visibility&quot;,&quot;hidden&quot;),fi&amp;&amp;(f=Zd(gi,Dg),B=Wi?Jg.tickOffset():0,e=wh?{x1:0,x2:gg,y1:function(a){return Dg(a)-B},y2:function(a){return Dg(a)-B}}:{x1:function(a){return Dg(a)+B},x2:function(a){return Dg(a)+B},y1:dg.top,y2:ig},d=Cj.select(&quot;.&quot;+g.xgrids).selectAll(&quot;.&quot;+g.xgrid).data(f),d.enter().append(&quot;line&quot;).attr(&quot;class&quot;,g.xgrid),d.attr(e).style(&quot;opacity&quot;,function(){return+Mf.select(this).attr(wh?&quot;y1&quot;:&quot;x1&quot;)===(wh?ig:0)?0:1}),d.exit().remove()),Fe(hi)&amp;&amp;(h=Cj.select(&quot;.&quot;+g.xgridLines).selectAll(&quot;.&quot;+g.xgridLine).data(hi),i=h.enter().append(&quot;g&quot;).attr(&quot;class&quot;,function(a){return g.xgridLine+(a.class?a.class:&quot;&quot;)}),i.append(&quot;line&quot;).style(&quot;opacity&quot;,0),i.append(&quot;text&quot;).attr(&quot;text-anchor&quot;,&quot;end&quot;).attr(&quot;transform&quot;,wh?&quot;&quot;:&quot;rotate(-90)&quot;).attr(&quot;dx&quot;,wh?0:-dg.top).attr(&quot;dy&quot;,-5).style(&quot;opacity&quot;,0),h.select(&quot;line&quot;).transition().duration(T).attr(&quot;x1&quot;,wh?0:Jd).attr(&quot;x2&quot;,wh?gg:Jd).attr(&quot;y1&quot;,wh?Jd:dg.top).attr(&quot;y2&quot;,wh?Jd:ig).style(&quot;opacity&quot;,1),h.select(&quot;text&quot;).transition().duration(T).attr(&quot;x&quot;,wh?gg:0).attr(&quot;y&quot;,Jd).text(function(a){return a.text}).style(&quot;opacity&quot;,1),h.exit().transition().duration(T).style(&quot;opacity&quot;,0).remove()),E&amp;&amp;ii&amp;&amp;(j=Cj.select(&quot;.&quot;+g.ygrids).selectAll(&quot;.&quot;+g.ygrid).data(Eg.ticks(ki)),j.enter().append(&quot;line&quot;).attr(&quot;class&quot;,g.ygrid),j.attr(&quot;x1&quot;,wh?Eg:0).attr(&quot;x2&quot;,wh?Eg:gg).attr(&quot;y1&quot;,wh?0:Eg).attr(&quot;y2&quot;,wh?ig:Eg),j.exit().remove(),pf(j,&quot;grid&quot;)),E&amp;&amp;Fe(ji)&amp;&amp;(k=Cj.select(&quot;.&quot;+g.ygridLines).selectAll(&quot;.&quot;+g.ygridLine).data(ji),l=k.enter().append(&quot;g&quot;).attr(&quot;class&quot;,function(a){return g.ygridLine+(a.class?a.class:&quot;&quot;)}),l.append(&quot;line&quot;).style(&quot;opacity&quot;,0),l.append(&quot;text&quot;).attr(&quot;text-anchor&quot;,&quot;end&quot;).attr(&quot;transform&quot;,wh?&quot;rotate(-90)&quot;:&quot;&quot;).attr(&quot;dx&quot;,wh?0:-dg.top).attr(&quot;dy&quot;,-5).style(&quot;opacity&quot;,0),k.select(&quot;line&quot;).transition().duration(T).attr(&quot;x1&quot;,wh?Kd:0).attr(&quot;x2&quot;,wh?Kd:gg).attr(&quot;y1&quot;,wh?0:Kd).attr(&quot;y2&quot;,wh?ig:Kd).style(&quot;opacity&quot;,1),k.select(&quot;text&quot;).transition().duration(T).attr(&quot;x&quot;,wh?0:gg).attr(&quot;y&quot;,Kd).text(function(a){return a.text}).style(&quot;opacity&quot;,1),k.exit().transition().duration(T).style(&quot;opacity&quot;,0).remove()),u=Cj.select(&quot;.&quot;+g.regions).selectAll(&quot;.&quot;+g.region).data(Hi),u.enter().append(&quot;g&quot;).attr(&quot;class&quot;,kd).append(&quot;rect&quot;).style(&quot;fill-opacity&quot;,0),u.selectAll(&quot;rect&quot;).transition().duration(T).attr(&quot;x&quot;,ic).attr(&quot;y&quot;,jc).attr(&quot;width&quot;,kc).attr(&quot;height&quot;,lc).style(&quot;fill-opacity&quot;,function(a){return b(a.opacity)?a.opacity:.1}),u.exit().transition().duration(T).style(&quot;opacity&quot;,0).remove(),s=Cj.selectAll(&quot;.&quot;+g.bars).selectAll(&quot;.&quot;+g.bar).data(ve),s.enter().append(&quot;path&quot;).attr(&quot;class&quot;,ed).style(&quot;stroke&quot;,&quot;none&quot;).style(&quot;fill&quot;,cj),s.style(&quot;opacity&quot;,wd).transition().duration(T).attr(&quot;d&quot;,O).style(&quot;fill&quot;,cj).style(&quot;opacity&quot;,1),s.exit().transition().duration(U).style(&quot;opacity&quot;,0).remove(),m=Cj.selectAll(&quot;.&quot;+g.lines).selectAll(&quot;.&quot;+g.line).data(te),m.enter().append(&quot;path&quot;).attr(&quot;class&quot;,ad).style(&quot;stroke&quot;,cj),m.style(&quot;opacity&quot;,wd).transition().duration(T).attr(&quot;d&quot;,wj).style(&quot;stroke&quot;,cj).style(&quot;opacity&quot;,1),m.exit().transition().duration(U).style(&quot;opacity&quot;,0).remove(),n=Cj.selectAll(&quot;.&quot;+g.areas).selectAll(&quot;.&quot;+g.area).data(te),n.enter().append(&quot;path&quot;).attr(&quot;class&quot;,id).style(&quot;fill&quot;,cj).style(&quot;opacity&quot;,function(){return Ij=+Mf.select(this).style(&quot;opacity&quot;),0}),n.style(&quot;opacity&quot;,0).transition().duration(T).attr(&quot;d&quot;,xj).style(&quot;fill&quot;,cj).style(&quot;opacity&quot;,Ij),n.exit().transition().duration(U).style(&quot;opacity&quot;,0).remove(),r=Cj.selectAll(&quot;.&quot;+g.circles).selectAll(&quot;.&quot;+g.circle).data(we),r.enter().append(&quot;circle&quot;).attr(&quot;class&quot;,cd).attr(&quot;r&quot;,Ue).style(&quot;fill&quot;,cj),r.style(&quot;opacity&quot;,wd).transition().duration(T).style(&quot;opacity&quot;,yd).style(&quot;fill&quot;,cj).attr(&quot;cx&quot;,wh?_d:$d).attr(&quot;cy&quot;,wh?$d:_d),r.exit().remove(),v=Cj.selectAll(&quot;.&quot;+g.texts).selectAll(&quot;.&quot;+g.text).data(xe),v.enter().append(&quot;text&quot;).attr(&quot;class&quot;,Yc).attr(&quot;text-anchor&quot;,function(a){return wh?a.value&lt;0?&quot;end&quot;:&quot;start&quot;:&quot;middle&quot;}).style(&quot;stroke&quot;,&quot;none&quot;).style(&quot;fill&quot;,cj).style(&quot;fill-opacity&quot;,0),v.text(function(a){return Hd(a.id)(a.value,a.id)}).style(&quot;fill-opacity&quot;,xd).transition().duration(T).attr(&quot;x&quot;,R).attr(&quot;y&quot;,S).style(&quot;fill&quot;,cj).style(&quot;fill-opacity&quot;,zd),v.exit().transition().duration(U).style(&quot;fill-opacity&quot;,0).remove(),t=Cj.selectAll(&quot;.&quot;+g.arcs).selectAll(&quot;.&quot;+g.arc).data(ue),t.enter().append(&quot;path&quot;).attr(&quot;class&quot;,gd).style(&quot;fill&quot;,function(a){return cj(a.data)}).style(&quot;cursor&quot;,function(a){return eh(a)?&quot;pointer&quot;:null}).style(&quot;opacity&quot;,0).each(function(a){this._current=a}).on(&quot;mouseover&quot;,function(a,b){var c,d,e;aj||(c=Jb(a),d=Pb(c),e=Xb(),Rb(c.data.id),Df(c.data.id,!0),e(d,b))}).on(&quot;mousemove&quot;,function(a){var b=Jb(a),c=Pb(b),d=[c];Vd(d,Mf.mouse(this))}).on(&quot;mouseout&quot;,function(a,b){var c,d,e;aj||(c=Jb(a),d=Pb(c),e=Yb(),Sb(c.data.id),Ef(),Wd(),e(d,b))}).on(&quot;click&quot;,function(a,b){var c=Jb(a),d=Pb(c),e=Wb();lf(this,a,b),e(d,b)}),t.attr(&quot;transform&quot;,J?&quot;scale(0)&quot;:&quot;&quot;).style(&quot;opacity&quot;,function(a){return a===this._current?0:1}).each(function(){aj=!0}).transition().duration(T).attrTween(&quot;d&quot;,function(a){var b,c=Jb(a);return c?(b=Mf.interpolate(this._current,c),this._current=b(0),function(a){return Mb(b(a),!0)}):function(){return&quot;M 0 0&quot;}}).attr(&quot;transform&quot;,J?&quot;scale(1)&quot;:&quot;&quot;).style(&quot;fill&quot;,function(a){return cj(a.data)}).style(&quot;opacity&quot;,1).call(Ie,function(){aj=!1}),t.exit().transition().duration(U).style(&quot;opacity&quot;,0).remove(),Cj.selectAll(&quot;.&quot;+g.chartArc).select(&quot;text&quot;).attr(&quot;transform&quot;,Nb).style(&quot;opacity&quot;,0).transition().duration(T).text(Qb).style(&quot;opacity&quot;,function(a){return Jc(a.data.id)&amp;&amp;se(a.data)?1:0}),Cj.select(&quot;.&quot;+g.chartArcsTitle).style(&quot;opacity&quot;,ke(Nf.data.targets)?1:0),nh&amp;&amp;(Mf.event&amp;&amp;&quot;zoom&quot;===Mf.event.type&amp;&amp;vj.extent(Dg.orgDomain()).update(),F&amp;&amp;(!wh&amp;&amp;Ih&amp;&amp;jb(hj.subx,c.axisSubX,Ih),vj.empty()||vj.extent(Dg.orgDomain()).update(),Q=bf($,!0),x=Dj.selectAll(&quot;.&quot;+g.bars).selectAll(&quot;.&quot;+g.bar).data(ve),x.enter().append(&quot;path&quot;).attr(&quot;class&quot;,ed).style(&quot;stroke&quot;,&quot;none&quot;).style(&quot;fill&quot;,cj),x.style(&quot;opacity&quot;,wd).transition().duration(T).attr(&quot;d&quot;,Q).style(&quot;opacity&quot;,1),x.exit().transition().duration(T).style(&quot;opacity&quot;,0).remove(),w=Dj.selectAll(&quot;.&quot;+g.lines).selectAll(&quot;.&quot;+g.line).data(te),w.enter().append(&quot;path&quot;).attr(&quot;class&quot;,ad).style(&quot;stroke&quot;,cj),w.style(&quot;opacity&quot;,wd).transition().duration(T).attr(&quot;d&quot;,yj).style(&quot;opacity&quot;,1),w.exit().transition().duration(T).style(&quot;opacity&quot;,0).remove())),Cj.selectAll(&quot;.&quot;+g.selectedCircles).filter(function(a){return oe(a)}).selectAll(&quot;circle&quot;).remove(),Cj.selectAll(&quot;.&quot;+g.selectedCircle).transition().duration(T).attr(&quot;cx&quot;,wh?_d:$d).attr(&quot;cy&quot;,wh?$d:_d),Zf&amp;&amp;(y=Cj.select(&quot;.&quot;+g.eventRects),Fe(Og)&amp;&amp;!sc(Og)?(y.classed(g.eventRectsMultiple)||y.classed(g.eventRectsMultiple,!0).classed(g.eventRectsSingle,!1).selectAll(&quot;.&quot;+g.eventRect).remove(),z=Cj.select(&quot;.&quot;+g.eventRects).selectAll(&quot;.&quot;+g.eventRect).data([0]),kf(z.enter()),z.attr(&quot;x&quot;,0).attr(&quot;y&quot;,0).attr(&quot;width&quot;,gg).attr(&quot;height&quot;,ig)):(y.classed(g.eventRectsSingle)||y.classed(g.eventRectsMultiple,!1).classed(g.eventRectsSingle,!0).selectAll(&quot;.&quot;+g.eventRect).remove(),Xi&amp;&amp;!Wi?(D=function(a,b){var c=Bc(b),d=Cc(b),e=Nf.data.xs[a.id][b];return(Dg(d?d:e+50)-Dg(c?c:e-50))/2},C=function(a,b){var c=Bc(b),d=Nf.data.xs[a.id][b];return(Dg(d)+Dg(c?c:d-50))/2}):(D=P(),C=function(a){return Dg(a.x)-D/2}),A=Ec(Nf.data.targets),Cj.select(&quot;.&quot;+g.eventRects).datum(A?A.values:[]),z=Cj.select(&quot;.&quot;+g.eventRects).selectAll(&quot;.&quot;+g.eventRect).data(function(a){return a}),jf(z.enter()),z.attr(&quot;class&quot;,ld).attr(&quot;x&quot;,wh?0:C).attr(&quot;y&quot;,wh?C:0).attr(&quot;width&quot;,wh?gg:D).attr(&quot;height&quot;,wh?D:ig),z.exit().remove())),Gc(Nf.data.targets).forEach(function(a){Jj[a]=!0})}function rf(){qf({withTransition:!1,withY:!1,withSubchart:!1,withUpdateXDomain:!0})}function sf(){if(0!==Lc(Nf.data.targets).length){if(&quot;mousemove&quot;===Mf.event.sourceEvent.type&amp;&amp;zj.altDomain)return Dg.domain(zj.altDomain),void zj.scale(Dg).updateScaleExtent();Wi&amp;&amp;Dg.orgDomain()[0]===Hj[0]&amp;&amp;Dg.domain([Hj[0]-1e-10,Dg.orgDomain()[1]]),qf({withTransition:!1,withY:!1,withSubchart:!1}),&quot;mousemove&quot;===Mf.event.sourceEvent.type&amp;&amp;($i=!0)}}function tf(){function a(){b.forEach(function(a){a()})}var b=[];return a.add=function(a){b.push(a)},a}function uf(){Aj.attr(&quot;width&quot;,kg).attr(&quot;height&quot;,lg),Aj.select(&quot;#&quot;+Pi).select(&quot;rect&quot;).attr(&quot;width&quot;,gg).attr(&quot;height&quot;,ig),Aj.select(&quot;#&quot;+Qi).select(&quot;rect&quot;).attr(&quot;x&quot;,F).attr(&quot;y&quot;,G).attr(&quot;width&quot;,L).attr(&quot;height&quot;,M),Aj.select(&quot;#&quot;+Ri).select(&quot;rect&quot;).attr(&quot;x&quot;,H).attr(&quot;y&quot;,I).attr(&quot;width&quot;,N).attr(&quot;height&quot;,O),Aj.select(&quot;.&quot;+g.zoomRect).attr(&quot;width&quot;,gg).attr(&quot;height&quot;,ig),Gj.style(&quot;max-height&quot;,lg+&quot;px&quot;)}function vf(a){return{axisX:a?hj.x.transition().duration(a):hj.x,axisY:a?hj.y.transition().duration(a):hj.y,axisY2:a?hj.y2.transition().duration(a):hj.y2,axisSubX:a?hj.subx.transition().duration(a):hj.subx}}function wf(a){var b;a=a||{},a.withTransition=Je(a,&quot;withTransition&quot;,!0),a.withTransform=Je(a,&quot;withTransform&quot;,!1),a.withLegend=Je(a,&quot;withLegend&quot;,!1),a.withUpdateXDomain=!0,a.withUpdateOrgXDomain=!0,a.withTransitionForExit=!1,a.withLegend&amp;&amp;qh||(b=vf(a.withTransitionForAxis?cg:0),p(),V(),uf(),o(a.withTransition,b)),qf(a,b)}function xf(a){var b,c,d,e,f,h,i,j,k,l,m,n;i=Cj.select(&quot;.&quot;+g.chartTexts).selectAll(&quot;.&quot;+g.chartText).data(a).attr(&quot;class&quot;,nd),j=i.enter().append(&quot;g&quot;).attr(&quot;class&quot;,nd).style(&quot;opacity&quot;,0).style(&quot;pointer-events&quot;,&quot;none&quot;),j.append(&quot;g&quot;).attr(&quot;class&quot;,Zc),e=Cj.select(&quot;.&quot;+g.chartBars).selectAll(&quot;.&quot;+g.chartBar).data(a).attr(&quot;class&quot;,pd),d=e.enter().append(&quot;g&quot;).attr(&quot;class&quot;,pd).style(&quot;opacity&quot;,0).style(&quot;pointer-events&quot;,&quot;none&quot;),d.append(&quot;g&quot;).attr(&quot;class&quot;,fd).style(&quot;cursor&quot;,function(a){return eh(a)?&quot;pointer&quot;:null}),c=Cj.select(&quot;.&quot;+g.chartLines).selectAll(&quot;.&quot;+g.chartLine).data(a).attr(&quot;class&quot;,od),b=c.enter().append(&quot;g&quot;).attr(&quot;class&quot;,od).style(&quot;opacity&quot;,0).style(&quot;pointer-events&quot;,&quot;none&quot;),b.append(&quot;g&quot;).attr(&quot;class&quot;,bd),b.append(&quot;g&quot;).attr(&quot;class&quot;,jd),b.append(&quot;g&quot;).attr(&quot;class&quot;,function(a){return Xc(g.selectedCircles,a.id)}),b.append(&quot;g&quot;).attr(&quot;class&quot;,dd).style(&quot;cursor&quot;,function(a){return eh(a)?&quot;pointer&quot;:null}),a.forEach(function(a){Cj.selectAll(&quot;.&quot;+g.selectedCircles+rd(a.id)).selectAll(&quot;.&quot;+g.selectedCircle).each(function(b,c){b.value=a.values[c].value})}),h=Cj.select(&quot;.&quot;+g.chartArcs).selectAll(&quot;.&quot;+g.chartArc).data(ug(a)).attr(&quot;class&quot;,qd),f=h.enter().append(&quot;g&quot;).attr(&quot;class&quot;,qd),f.append(&quot;g&quot;).attr(&quot;class&quot;,hd),f.append(&quot;text&quot;).attr(&quot;dy&quot;,&quot;.35em&quot;).style(&quot;opacity&quot;,0).style(&quot;text-anchor&quot;,&quot;middle&quot;).style(&quot;pointer-events&quot;,&quot;none&quot;),nh&amp;&amp;(n=Dj.select(&quot;.&quot;+g.chartBars).selectAll(&quot;.&quot;+g.chartBar).data(a).attr(&quot;class&quot;,pd),m=n.enter().append(&quot;g&quot;).style(&quot;opacity&quot;,0).attr(&quot;class&quot;,pd),m.append(&quot;g&quot;).attr(&quot;class&quot;,fd),l=Dj.select(&quot;.&quot;+g.chartLines).selectAll(&quot;.&quot;+g.chartLine).data(a).attr(&quot;class&quot;,od),k=l.enter().append(&quot;g&quot;).style(&quot;opacity&quot;,0).attr(&quot;class&quot;,od),k.append(&quot;g&quot;).attr(&quot;class&quot;,bd)),Aj.selectAll(&quot;.&quot;+g.target).filter(function(a){return Jc(a.id)}).transition().duration(cg).style(&quot;opacity&quot;,1)}function yf(a,b){b.filter&amp;&amp;(a=a.filter(b.filter)),(b.type||b.types)&amp;&amp;a.forEach(function(a){b.types?fe(a.id,b.types[a.id]):fe(a.id,b.type)}),Nf.data.targets.forEach(function(b){for(var c=0;c&lt;a.length;c++)if(b.id===a[c].id){b.values=a[c].values,a.splice(c,1);break}}),Nf.data.targets=Nf.data.targets.concat(a),xf(Nf.data.targets),qf({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),&quot;function&quot;==typeof b.done&amp;&amp;b.done()}function zf(a){if(&quot;data&quot;in a)yf(zc(a.data),a);else if(&quot;url&quot;in a)Mf.csv(a.url,function(b,c){yf(zc(c),a)});else if(&quot;rows&quot;in a)yf(zc(xc(a.rows)),a);else{if(!(&quot;columns&quot;in a))throw Error(&quot;url or rows or columns is required.&quot;);yf(zc(yc(a.columns)),a)}}function Af(a,b){return&quot;function&quot;!=typeof b&amp;&amp;(b=function(){}),a=a.filter(function(a){return Ic(Nf.data.targets,a)}),a&amp;&amp;0!==a.length?(Aj.selectAll(a.map(function(a){return sd(a)})).transition().style(&quot;opacity&quot;,0).remove().call(Ie,b),void a.forEach(function(a){Jj[a]=!1,Ej.selectAll(&quot;.&quot;+g.legendItem+rd(a)).remove(),Nf.data.targets=Nf.data.targets.filter(function(b){return b.id!==a})})):void b()}function Bf(a){return a.classed(g.legendItemHidden)?rj:1}function Cf(a){return a.classed(g.legendItemHidden)?rj:.3}function Df(a,b){Ej.selectAll(&quot;.&quot;+g.legendItem).transition().duration(100).style(&quot;opacity&quot;,function(c){var d=Mf.select(this);return a&amp;&amp;c!==a?b?Cf(d):Bf(d):b?Bf(d):Cf(d)})}function Ef(){Ej.selectAll(&quot;.&quot;+g.legendItem).transition().duration(100).style(&quot;opacity&quot;,function(){return Bf(Mf.select(this))})}function Ff(a){qh||(qh=!0,Ej.style(&quot;visibility&quot;,&quot;visible&quot;)),Rc(a),Ej.selectAll(vd(a)).style(&quot;visibility&quot;,&quot;visible&quot;).transition().style(&quot;opacity&quot;,function(){return Bf(Mf.select(this))})}function Gf(a){qh&amp;&amp;Ee(a)&amp;&amp;(qh=!1,Ej.style(&quot;visibility&quot;,&quot;hidden&quot;)),Qc(a),Ej.selectAll(vd(a)).style(&quot;opacity&quot;,0).style(&quot;visibility&quot;,&quot;hidden&quot;)}function Hf(a,b,c){function e(b,c,d){function e(a,b){b||(f=(l-z-k)/2,y&gt;f&amp;&amp;(f=(l-k)/2,z=0,F++)),E[a]=F,D[F]=f,A[a]=z,z+=k}var f,g,h=b.getBoundingClientRect(),i=10*Math.ceil((h.width+v)/10),j=10*Math.ceil((h.height+u)/10),k=nj?j:i,l=nj?U():T();return d&amp;&amp;(z=0,F=0,w=0,x=0),qh&amp;&amp;!Kc(c)?void(B[c]=C[c]=E[c]=A[c]=0):(B[c]=i,C[c]=j,(!w||i&gt;=w)&amp;&amp;(w=i),(!x||j&gt;=x)&amp;&amp;(x=j),g=nj?x:w,void(vh?(Object.keys(B).forEach(function(a){B[a]=w}),Object.keys(C).forEach(function(a){C[a]=x}),f=(l-g*a.length)/2,y&gt;f?(z=0,F=0,a.forEach(function(a){e(a)})):e(c,!0)):e(c)))}var f,h,i,j,k,l,m,n,q,r,s,t,u=4,v=26,w=0,x=0,y=10,z=0,A={},B={},C={},D=[0],E={},F=0,G=Ej.selectAll(&quot;.&quot;+g.legendItemFocused).size();b=b||{},n=Je(b,&quot;withTransition&quot;,!0),q=Je(b,&quot;withTransitionForTransform&quot;,!0),nj?(f=function(a){return w*E[a]},j=function(a){return D[E[a]]+A[a]}):(f=function(a){return D[E[a]]+A[a]},j=function(a){return x*E[a]}),h=function(a,b){return f(a,b)+14},k=function(a,b){return j(a,b)+9},i=function(a,b){return f(a,b)-4},l=function(a,b){return j(a,b)-7},m=Ej.selectAll(&quot;.&quot;+g.legendItem).data(a).enter().append(&quot;g&quot;).attr(&quot;class&quot;,function(a){return Xc(g.legendItem,a)}).style(&quot;visibility&quot;,function(a){return Kc(a)?&quot;visible&quot;:&quot;hidden&quot;}).style(&quot;cursor&quot;,&quot;pointer&quot;).on(&quot;click&quot;,function(a){&quot;function&quot;==typeof sh?sh(a):Nf.toggle(a)}).on(&quot;mouseover&quot;,function(a){Mf.select(this).classed(g.legendItemFocused,!0),aj||Nf.focus(a),&quot;function&quot;==typeof th&amp;&amp;th(a)}).on(&quot;mouseout&quot;,function(a){Mf.select(this).classed(g.legendItemFocused,!1),aj||Nf.revert(),&quot;function&quot;==typeof uh&amp;&amp;uh(a)}),m.append(&quot;text&quot;).text(function(a){return d(Rg[a])?Rg[a]:a}).each(function(a,b){e(this,a,0===b)}).style(&quot;pointer-events&quot;,&quot;none&quot;).attr(&quot;x&quot;,nj?h:-200).attr(&quot;y&quot;,nj?-200:k),m.append(&quot;rect&quot;).attr(&quot;class&quot;,g.legendItemEvent).style(&quot;fill-opacity&quot;,0).attr(&quot;x&quot;,nj?i:-200).attr(&quot;y&quot;,nj?-200:l),m.append(&quot;rect&quot;).attr(&quot;class&quot;,g.legendItemTile).style(&quot;pointer-events&quot;,&quot;none&quot;).style(&quot;fill&quot;,cj).attr(&quot;x&quot;,nj?h:-200).attr(&quot;y&quot;,nj?-200:j).attr(&quot;width&quot;,10).attr(&quot;height&quot;,10),r=Ej.selectAll(&quot;text&quot;).data(a).text(function(a){return d(Rg[a])?Rg[a]:a}).each(function(a,b){e(this,a,0===b)}),(n?r.transition():r).attr(&quot;x&quot;,h).attr(&quot;y&quot;,k),s=Ej.selectAll(&quot;rect.&quot;+g.legendItemEvent).data(a),(n?s.transition():s).attr(&quot;width&quot;,function(a){return B[a]}).attr(&quot;height&quot;,function(a){return C[a]}).attr(&quot;x&quot;,i).attr(&quot;y&quot;,l),t=Ej.selectAll(&quot;rect.&quot;+g.legendItemTile).data(a),(n?t.transition():t).style(&quot;fill&quot;,cj).attr(&quot;x&quot;,f).attr(&quot;y&quot;,j),Ej.selectAll(&quot;.&quot;+g.legendItem).classed(g.legendItemHidden,function(a){return!Jc(a)}).transition().style(&quot;opacity&quot;,function(a){var b=Mf.select(this);return Jc(a)?!G||b.classed(g.legendItemFocused)?Bf(b):Cf(b):rj}),R(w),S(x),Q(F),p(),V(),uf(),o(q,c)}function If(a){return Ic(Nf.data.targets,a.id)}function Jf(a){return&quot;data&quot;in a&amp;&amp;Ic(Nf.data.targets,a.data.id)}function Kf(a){var b=a&amp;&amp;a.value?a.value:null,c=a&amp;&amp;a[&quot;class&quot;]?a[&quot;class&quot;]:null;return b?function(a){return a.value!==b}:c?function(a){return a[&quot;class&quot;]!==c}:function(){return!0}}function Lf(a,b,c){var d=!le(Nf.data.targets);aj=!1,fe(a,b),wf(c||{withTransitionForAxis:d})}var Mf=a.d3?a.d3:a.require?a.require(&quot;d3&quot;):void 0,Nf={data:{},axis:{},legend:{}},Of={},Pf=i([&quot;bindto&quot;],&quot;#chart&quot;),Qf=i([&quot;size&quot;,&quot;width&quot;]),Rf=i([&quot;size&quot;,&quot;height&quot;]),Sf=i([&quot;padding&quot;,&quot;left&quot;]),Tf=i([&quot;padding&quot;,&quot;right&quot;]),Uf=i([&quot;padding&quot;,&quot;top&quot;]),Vf=i([&quot;padding&quot;,&quot;bottom&quot;]),Wf=i([&quot;zoom&quot;,&quot;enabled&quot;],!1),Xf=i([&quot;zoom&quot;,&quot;extent&quot;]),Yf=i([&quot;zoom&quot;,&quot;privileged&quot;],!1),Zf=i([&quot;interaction&quot;,&quot;enabled&quot;],!0),$f=i([&quot;onenter&quot;],function(){}),_f=i([&quot;onleave&quot;],function(){}),ag=i([&quot;onresize&quot;],function(){}),bg=i([&quot;onresized&quot;],function(){}),cg=i([&quot;transition&quot;,&quot;duration&quot;],350);h(&quot;data&quot;,&quot;data is required in config&quot;);var dg,eg,fg,gg,hg,ig,jg,kg,lg,mg,ng,og,pg,qg,rg,sg,tg,ug,vg,wg,xg,yg,zg,Ag,Bg,Cg,Dg,Eg,Fg,Gg,Hg,Ig,Jg,Kg,Lg,Mg,Ng=i([&quot;data&quot;,&quot;x&quot;]),Og=i([&quot;data&quot;,&quot;xs&quot;],{}),Pg=i([&quot;data&quot;,&quot;x_format&quot;]),Qg=i([&quot;data&quot;,&quot;id_converter&quot;],function(a){return a}),Rg=i([&quot;data&quot;,&quot;names&quot;],{}),Sg=i([&quot;data&quot;,&quot;classes&quot;],{}),Tg=i([&quot;data&quot;,&quot;groups&quot;],[]),Ug=i([&quot;data&quot;,&quot;axes&quot;],{}),Vg=i([&quot;data&quot;,&quot;type&quot;]),Wg=i([&quot;data&quot;,&quot;types&quot;],{}),Xg=i([&quot;data&quot;,&quot;labels&quot;],{}),Yg=i([&quot;data&quot;,&quot;order&quot;]),Zg=i([&quot;data&quot;,&quot;regions&quot;],{}),$g=i([&quot;data&quot;,&quot;color&quot;]),_g=i([&quot;data&quot;,&quot;colors&quot;],{}),ah=i([&quot;data&quot;,&quot;hide&quot;],!1),bh=i([&quot;data&quot;,&quot;filter&quot;]),ch=i([&quot;data&quot;,&quot;selection&quot;,&quot;enabled&quot;],!1),dh=i([&quot;data&quot;,&quot;selection&quot;,&quot;grouped&quot;],!1),eh=i([&quot;data&quot;,&quot;selection&quot;,&quot;isselectable&quot;],function(){return!0}),fh=i([&quot;data&quot;,&quot;selection&quot;,&quot;multiple&quot;],!0),gh=i([&quot;data&quot;,&quot;onclick&quot;],function(){}),hh=i([&quot;data&quot;,&quot;onenter&quot;],function(){}),ih=i([&quot;data&quot;,&quot;onleave&quot;],function(){}),jh=i([&quot;data&quot;,&quot;onselected&quot;],function(){}),kh=i([&quot;data&quot;,&quot;onunselected&quot;],function(){}),lh=i([&quot;data&quot;,&quot;ondragstart&quot;],function(){}),mh=i([&quot;data&quot;,&quot;ondragend&quot;],function(){}),nh=i([&quot;subchart&quot;,&quot;show&quot;],!1),oh=i([&quot;subchart&quot;,&quot;size&quot;,&quot;height&quot;],60),ph=i([&quot;color&quot;,&quot;pattern&quot;],[]),qh=i([&quot;legend&quot;,&quot;show&quot;],!0),rh=i([&quot;legend&quot;,&quot;position&quot;],&quot;bottom&quot;),sh=i([&quot;legend&quot;,&quot;item&quot;,&quot;onclick&quot;]),th=i([&quot;legend&quot;,&quot;item&quot;,&quot;onmouseover&quot;]),uh=i([&quot;legend&quot;,&quot;item&quot;,&quot;onmouseout&quot;]),vh=i([&quot;legend&quot;,&quot;equally&quot;],!1),wh=i([&quot;axis&quot;,&quot;rotated&quot;],!1),xh=i([&quot;axis&quot;,&quot;x&quot;,&quot;show&quot;],!0),yh=i([&quot;axis&quot;,&quot;x&quot;,&quot;type&quot;],&quot;indexed&quot;),zh=i([&quot;axis&quot;,&quot;x&quot;,&quot;localtime&quot;],!0),Ah=i([&quot;axis&quot;,&quot;x&quot;,&quot;categories&quot;],[]),Bh=i([&quot;axis&quot;,&quot;x&quot;,&quot;tick&quot;,&quot;centered&quot;],!1),Ch=i([&quot;axis&quot;,&quot;x&quot;,&quot;tick&quot;,&quot;format&quot;]),Dh=i([&quot;axis&quot;,&quot;x&quot;,&quot;tick&quot;,&quot;culling&quot;],{}),Eh=i([&quot;axis&quot;,&quot;x&quot;,&quot;tick&quot;,&quot;culling&quot;,&quot;max&quot;],10),Fh=i([&quot;axis&quot;,&quot;x&quot;,&quot;tick&quot;,&quot;count&quot;]),Gh=i([&quot;axis&quot;,&quot;x&quot;,&quot;tick&quot;,&quot;fit&quot;],!0),Hh=i([&quot;axis&quot;,&quot;x&quot;,&quot;tick&quot;,&quot;values&quot;],null),Ih=i([&quot;axis&quot;,&quot;x&quot;,&quot;tick&quot;,&quot;rotate&quot;]),Jh=i([&quot;axis&quot;,&quot;x&quot;,&quot;max&quot;],null),Kh=i([&quot;axis&quot;,&quot;x&quot;,&quot;min&quot;],null),Lh=i([&quot;axis&quot;,&quot;x&quot;,&quot;padding&quot;],{}),Mh=i([&quot;axis&quot;,&quot;x&quot;,&quot;height&quot;]),Nh=i([&quot;axis&quot;,&quot;x&quot;,&quot;default&quot;]),Oh=i([&quot;axis&quot;,&quot;x&quot;,&quot;label&quot;],{}),Ph=i([&quot;axis&quot;,&quot;y&quot;,&quot;show&quot;],!0),Qh=i([&quot;axis&quot;,&quot;y&quot;,&quot;max&quot;]),Rh=i([&quot;axis&quot;,&quot;y&quot;,&quot;min&quot;]),Sh=i([&quot;axis&quot;,&quot;y&quot;,&quot;center&quot;]),Th=i([&quot;axis&quot;,&quot;y&quot;,&quot;label&quot;],{}),Uh=i([&quot;axis&quot;,&quot;y&quot;,&quot;inner&quot;],!1),Vh=i([&quot;axis&quot;,&quot;y&quot;,&quot;tick&quot;,&quot;format&quot;]),Wh=i([&quot;axis&quot;,&quot;y&quot;,&quot;padding&quot;]),Xh=i([&quot;axis&quot;,&quot;y&quot;,&quot;ticks&quot;],10),Yh=i([&quot;axis&quot;,&quot;y2&quot;,&quot;show&quot;],!1),Zh=i([&quot;axis&quot;,&quot;y2&quot;,&quot;max&quot;]),$h=i([&quot;axis&quot;,&quot;y2&quot;,&quot;min&quot;]),_h=i([&quot;axis&quot;,&quot;y2&quot;,&quot;center&quot;]),ai=i([&quot;axis&quot;,&quot;y2&quot;,&quot;label&quot;],{}),bi=i([&quot;axis&quot;,&quot;y2&quot;,&quot;inner&quot;],!1),ci=i([&quot;axis&quot;,&quot;y2&quot;,&quot;tick&quot;,&quot;format&quot;]),di=i([&quot;axis&quot;,&quot;y2&quot;,&quot;padding&quot;]),ei=i([&quot;axis&quot;,&quot;y2&quot;,&quot;ticks&quot;],10),fi=i([&quot;grid&quot;,&quot;x&quot;,&quot;show&quot;],!1),gi=i([&quot;grid&quot;,&quot;x&quot;,&quot;type&quot;],&quot;tick&quot;),hi=i([&quot;grid&quot;,&quot;x&quot;,&quot;lines&quot;],[]),ii=i([&quot;grid&quot;,&quot;y&quot;,&quot;show&quot;],!1),ji=i([&quot;grid&quot;,&quot;y&quot;,&quot;lines&quot;],[]),ki=i([&quot;grid&quot;,&quot;y&quot;,&quot;ticks&quot;],10),li=i([&quot;point&quot;,&quot;show&quot;],!0),mi=i([&quot;point&quot;,&quot;r&quot;],2.5),ni=i([&quot;point&quot;,&quot;focus&quot;,&quot;line&quot;,&quot;enabled&quot;],!0),oi=i([&quot;point&quot;,&quot;focus&quot;,&quot;expand&quot;,&quot;enabled&quot;],!0),pi=i([&quot;point&quot;,&quot;focus&quot;,&quot;expand&quot;,&quot;r&quot;]),qi=i([&quot;point&quot;,&quot;focus&quot;,&quot;select&quot;,&quot;r&quot;]),ri=i([&quot;line&quot;,&quot;connect_null&quot;],!1),si=i([&quot;bar&quot;,&quot;width&quot;]),ti=i([&quot;bar&quot;,&quot;width&quot;,&quot;ratio&quot;],.6),ui=i([&quot;pie&quot;,&quot;label&quot;,&quot;show&quot;],!0),vi=i([&quot;pie&quot;,&quot;label&quot;,&quot;format&quot;]),wi=i([&quot;pie&quot;,&quot;expand&quot;],!0),xi=i([&quot;pie&quot;,&quot;onclick&quot;],function(){}),yi=i([&quot;pie&quot;,&quot;onmouseover&quot;],function(){}),zi=i([&quot;pie&quot;,&quot;onmouseout&quot;],function(){}),Ai=i([&quot;donut&quot;,&quot;label&quot;,&quot;show&quot;],!0),Bi=i([&quot;donut&quot;,&quot;label&quot;,&quot;format&quot;]),Ci=i([&quot;donut&quot;,&quot;expand&quot;],!0),Di=i([&quot;donut&quot;,&quot;title&quot;],&quot;&quot;),Ei=i([&quot;donut&quot;,&quot;onclick&quot;],function(){}),Fi=i([&quot;donut&quot;,&quot;onmouseover&quot;],function(){}),Gi=i([&quot;donut&quot;,&quot;onmouseout&quot;],function(){}),Hi=i([&quot;regions&quot;],[]),Ii=i([&quot;tooltip&quot;,&quot;show&quot;],!0),Ji=i([&quot;tooltip&quot;,&quot;format&quot;,&quot;title&quot;]),Ki=i([&quot;tooltip&quot;,&quot;format&quot;,&quot;value&quot;]),Li=i([&quot;tooltip&quot;,&quot;contents&quot;],function(a,b,c,d){var e,f,h,i,j,k=Ji?Ji:b,l=Ki?Ki:c;for(f=0;f&lt;a.length;f++)a[f]&amp;&amp;(a[f].value||0===a[f].value)&amp;&amp;(e||(h=k?k(a[f].x):a[f].x,e=&quot;&lt;table class='&quot;+g.tooltip+&quot;'&gt;&quot;+(h||0===h?&quot;&lt;tr&gt;&lt;th colspan='2'&gt;&quot;+h+&quot;&lt;/th&gt;&lt;/tr&gt;&quot;:&quot;&quot;)),j=a[f].name,i=l(a[f].value,a[f].ratio,a[f].id,a[f].index),e+=&quot;&lt;tr class='&quot;+g.tooltipName+&quot;-&quot;+a[f].id+&quot;'&gt;&quot;,e+=&quot;&lt;td class='name'&gt;&lt;span style='background-color:&quot;+d(a[f].id)+&quot;'&gt;&lt;/span&gt;&quot;+j+&quot;&lt;/td&gt;&quot;,e+=&quot;&lt;td class='value'&gt;&quot;+i+&quot;&lt;/td&gt;&quot;,e+=&quot;&lt;/tr&gt;&quot;);return e+&quot;&lt;/table&gt;&quot;}),Mi=i([&quot;tooltip&quot;,&quot;init&quot;,&quot;show&quot;],!1),Ni=i([&quot;tooltip&quot;,&quot;init&quot;,&quot;x&quot;],0),Oi=i([&quot;tooltip&quot;,&quot;init&quot;,&quot;position&quot;],{top:&quot;0px&quot;,left:&quot;50px&quot;}),Pi=(&quot;string&quot;==typeof Pf?Pf.replace(/[# .&gt;~+]/g,&quot;&quot;):g.chart+ +new Date)+&quot;-clip&quot;,Qi=Pi+&quot;-xaxis&quot;,Ri=Pi+&quot;-yaxis&quot;,Si=j(Pi),Ti=j(Qi),Ui=j(Ri),Vi=&quot;timeseries&quot;===yh,Wi=&quot;categorized&quot;===yh,Xi=!Vi&amp;&amp;(Ng||Fe(Og)),Yi=null,Zi=!1,$i=!1,_i=!1,aj=!1,bj=[&quot;#1f77b4&quot;,&quot;#ff7f0e&quot;,&quot;#2ca02c&quot;,&quot;#d62728&quot;,&quot;#9467bd&quot;,&quot;#8c564b&quot;,&quot;#e377c2&quot;,&quot;#7f7f7f&quot;,&quot;#bcbd22&quot;,&quot;#17becf&quot;],cj=ze(_g,Fe(ph)?ph:bj,$g),dj=zh?Mf.time.format:Mf.time.format.utc,ej=dj.multi([[&quot;.%L&quot;,function(a){return a.getMilliseconds()}],[&quot;:%S&quot;,function(a){return a.getSeconds()}],[&quot;%I:%M&quot;,function(a){return a.getMinutes()}],[&quot;%I %p&quot;,function(a){return a.getHours()}],[&quot;%-m/%-d&quot;,function(a){return a.getDay()&amp;&amp;1!==a.getDate()}],[&quot;%-m/%-d&quot;,function(a){return 1!==a.getDate()}],[&quot;%-m/%-d&quot;,function(a){return a.getMonth()}],[&quot;%Y/%-m/%-d&quot;,function(){return!0}]]),fj=[],gj=[],hj={},ij=wh?&quot;left&quot;:&quot;bottom&quot;,jj=wh?Uh?&quot;top&quot;:&quot;bottom&quot;:Uh?&quot;right&quot;:&quot;left&quot;,kj=wh?bi?&quot;bottom&quot;:&quot;top&quot;:bi?&quot;left&quot;:&quot;right&quot;,lj=wh?&quot;left&quot;:&quot;bottom&quot;,mj={main:function(){return&quot;translate(&quot;+k(dg.left)+&quot;,&quot;+k(dg.top)+&quot;)&quot;},context:function(){return&quot;translate(&quot;+k(eg.left)+&quot;,&quot;+k(eg.top)+&quot;)&quot;},legend:function(){return&quot;translate(&quot;+fg.left+&quot;,&quot;+fg.top+&quot;)&quot;
},x:function(){return&quot;translate(0,&quot;+(wh?0:ig)+&quot;)&quot;},y:function(){return&quot;translate(0,&quot;+(wh?ig:0)+&quot;)&quot;},y2:function(){return&quot;translate(&quot;+(wh?0:gg)+&quot;,&quot;+(wh?1:0)+&quot;)&quot;},subx:function(){return&quot;translate(0,&quot;+(wh?0:jg)+&quot;)&quot;},arc:function(){return&quot;translate(&quot;+pg/2+&quot;,&quot;+qg/2+&quot;)&quot;}},nj=&quot;right&quot;===rh,oj=0,pj=0,qj=0,rj=.15,sj=30,tj=wh&amp;&amp;!xh?0:30,uj=5;ug=Mf.layout.pie().value(function(a){return a.values.reduce(function(a,b){return a+b.value},0)});var vj,wj=function(){var a=Mf.svg.line().x(wh?function(a){return $(a.id)(a.value)}:Id).y(wh?Id:function(a){return $(a.id)(a.value)});return ri||(a=a.defined(function(a){return null!=a.value})),function(b){var c,d,e=ri?Te(b.values):b.values;return me(b)?(a.interpolate(ne(b)?&quot;cardinal&quot;:&quot;linear&quot;),Zg[b.id]?gf(e,Dg,$(b.id),Zg[b.id]):a(e)):(c=e[0]?Dg(e[0].x):0,d=e[0]?$(b.id)(e[0].value):0,wh?&quot;M &quot;+d+&quot; &quot;+c:&quot;M &quot;+c+&quot; &quot;+d)}}(),xj=function(){var a;return a=wh?Mf.svg.area().x0(function(a){return $(a.id)(0)}).x1(function(a){return $(a.id)(a.value)}).y(Id):Mf.svg.area().x(Id).y0(function(a){return $(a.id)(0)}).y1(function(a){return $(a.id)(a.value)}),function(b){var c,d,e=Te(b.values);return ge([b],&quot;area&quot;)||ge([b],&quot;area-spline&quot;)?(a.interpolate(ne(b)?&quot;cardinal&quot;:&quot;linear&quot;),a(e)):(c=e[0]?Dg(e[0].x):0,d=e[0]?$(b.id)(e[0].value):0,wh?&quot;M &quot;+d+&quot; &quot;+c:&quot;M &quot;+c+&quot; &quot;+d)}}(),yj=function(){var a=Mf.svg.line().x(wh?function(a){return _(a.id)(a.value)}:Ld).y(wh?Ld:function(a){return _(a.id)(a.value)});return function(b){var c=Te(b.values);return me(b)?a(c):&quot;M &quot;+Gg(c[0].x)+&quot; &quot;+_(b.id)(c[0].value)}}(),zj=function(){};vj=Mf.svg.brush().on(&quot;brush&quot;,rf),vj.update=function(){return Dj&amp;&amp;Dj.select(&quot;.&quot;+g.brush).call(this),this},vj.scale=function(a){return wh?this.y(a):this.x(a)},Wf&amp;&amp;(zj=Mf.behavior.zoom().on(&quot;zoomstart&quot;,function(){zj.altDomain=Mf.event.sourceEvent.altKey?Dg.orgDomain():null}).on(&quot;zoom&quot;,Wf?sf:null),zj.scale=function(a){return wh?this.y(a):this.x(a)},zj.orgScaleExtent=function(){var a=Xf?Xf:[1,10];return[a[0],Math.max(Dc()/a[1],a[1])]},zj.updateScaleExtent=function(){var a=ec(Dg.orgDomain())/ec(Hj),b=this.orgScaleExtent();return this.scaleExtent([b[0]*a,b[1]*a]),this});var Aj,Bj,Cj,Dj,Ej,Fj,Gj,Hj,Ij,Jj={};if(Nf.focus=function(a){function b(a){Lc(a).transition().duration(100).style(&quot;opacity&quot;,1)}var c=Aj.selectAll(sd(a)),d=c.filter(If),e=c.filter(Jf);Nf.revert(),Nf.defocus(),b(d.classed(g.focused,!0)),b(e),le(Nf.data.targets)&amp;&amp;Rb(a,!0),Df(a,!0)},Nf.defocus=function(a){function b(a){Lc(a).transition().duration(100).style(&quot;opacity&quot;,.3)}var c=Aj.selectAll(sd(a)),d=c.filter(If),e=c.filter(Jf);Nf.revert(),b(d.classed(g.focused,!1)),b(e),le(Nf.data.targets)&amp;&amp;Sb(a),Df(a,!1)},Nf.revert=function(a){function b(a){Lc(a).transition().duration(100).style(&quot;opacity&quot;,1)}var c=Aj.selectAll(sd(a)),d=c.filter(If),e=c.filter(Jf);b(d.classed(g.focused,!1)),b(e),le(Nf.data.targets)&amp;&amp;Sb(a),Ef()},Nf.show=function(a,b){a=Hc(a),b=b||{},Pc(a),Aj.selectAll(td(a)).transition().style(&quot;opacity&quot;,1),b.withLegend&amp;&amp;Ff(a),qf({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},Nf.hide=function(a,b){a=Hc(a),b=b||{},Oc(a),Aj.selectAll(td(a)).transition().style(&quot;opacity&quot;,0),b.withLegend&amp;&amp;Gf(a),qf({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},Nf.toggle=function(a){Jc(a)?Nf.hide(a):Nf.show(a)},Nf.unzoom=function(){vj.clear().update(),qf({withUpdateXDomain:!0})},Nf.load=function(a){return a.xs&amp;&amp;rc(a.xs),&quot;classes&quot;in a&amp;&amp;Object.keys(a.classes).forEach(function(b){Sg[b]=a.classes[b]}),&quot;categories&quot;in a&amp;&amp;Wi&amp;&amp;(Ah=a.categories,Jg.categories(Ah)),&quot;cacheIds&quot;in a&amp;&amp;fc(a.cacheIds)?void yf(hc(a.cacheIds),a.done):void(&quot;unload&quot;in a?Af(Hc(&quot;boolean&quot;==typeof a.unload&amp;&amp;a.unload?null:a.unload),function(){zf(a)}):zf(a))},Nf.unload=function(a,b){Af(Hc(a),function(){qf({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),&quot;function&quot;==typeof b&amp;&amp;b()})},Nf.selected=function(a){return Mf.merge(Cj.selectAll(&quot;.&quot;+g.shapes+rd(a)).selectAll(&quot;.&quot;+g.shape).filter(function(){return Mf.select(this).classed(g.SELECTED)}).map(function(a){return a.map(function(a){var b=a.__data__;return b.data?b.data:b})}))},Nf.select=function(a,b,c){ch&amp;&amp;Cj.selectAll(&quot;.&quot;+g.shapes).selectAll(&quot;.&quot;+g.shape).each(function(e,f){var h=Mf.select(this),i=e.data?e.data.id:e.id,j=Se(this),k=dh||!a||a.indexOf(i)&gt;=0,l=!b||b.indexOf(f)&gt;=0,m=h.classed(g.SELECTED);h.classed(g.line)||h.classed(g.area)||(k&amp;&amp;l?eh(e)&amp;&amp;!m&amp;&amp;j(!0,h.classed(g.SELECTED,!0),e,f):d(c)&amp;&amp;c&amp;&amp;m&amp;&amp;j(!1,h.classed(g.SELECTED,!1),e,f))})},Nf.unselect=function(a,b){ch&amp;&amp;Cj.selectAll(&quot;.&quot;+g.shapes).selectAll(&quot;.&quot;+g.shape).each(function(c,d){var e=Mf.select(this),f=c.data?c.data.id:c.id,h=Se(this),i=dh||!a||a.indexOf(f)&gt;=0,j=!b||b.indexOf(d)&gt;=0,k=e.classed(g.SELECTED);e.classed(g.line)||e.classed(g.area)||i&amp;&amp;j&amp;&amp;eh(c)&amp;&amp;k&amp;&amp;h(!1,e.classed(g.SELECTED,!1),c,d)})},Nf.toLine=function(a){Lf(a,&quot;line&quot;)},Nf.toSpline=function(a){Lf(a,&quot;spline&quot;)},Nf.toBar=function(a){Lf(a,&quot;bar&quot;)},Nf.toScatter=function(a){Lf(a,&quot;scatter&quot;)},Nf.toArea=function(a){Lf(a,&quot;area&quot;)},Nf.toAreaSpline=function(a){Lf(a,&quot;area-spline&quot;)},Nf.toPie=function(a){Lf(a,&quot;pie&quot;,{withTransform:!0})},Nf.toDonut=function(a){Lf(a,&quot;donut&quot;,{withTransform:!0})},Nf.groups=function(a){return c(a)?Tg:(Tg=a,qf(),Tg)},Nf.xgrids=function(a){return a?(hi=a,qf(),hi):hi},Nf.xgrids.add=function(a){return a?Nf.xgrids(hi.concat(a)):void 0},Nf.xgrids.remove=function(a){var b=Kf(a);return Nf.xgrids(hi.filter(b))},Nf.ygrids=function(a){return a?(ji=a,qf(),ji):ji},Nf.ygrids.add=function(a){return a?Nf.ygrids(ji.concat(a)):void 0},Nf.ygrids.remove=function(a){var b=Kf(a);return Nf.ygrids(ji.filter(b))},Nf.regions=function(a){return a?(Hi=a,qf(),Hi):Hi},Nf.regions.add=function(a){return a?(Hi=Hi.concat(a),qf(),Hi):Hi},Nf.regions.remove=function(a){var b,c,d;return a=a||{},b=Je(a,&quot;duration&quot;,cg),c=Je(a,&quot;classes&quot;,[g.region]),d=Cj.select(&quot;.&quot;+g.regions).selectAll(c.map(function(a){return&quot;.&quot;+a})),(b?d.transition().duration(b):d).style(&quot;opacity&quot;,0).remove(),Hi=Hi.filter(function(a){return c.indexOf(a.class)&lt;0})},Nf.data.get=function(a){var b=Nf.data.getAsTarget(a);return d(b)?b.values.map(function(a){return a.value}):void 0},Nf.data.getAsTarget=function(a){var b=Nf.data.targets.filter(function(b){return b.id===a});return b.length&gt;0?b[0]:void 0},Nf.data.names=function(a){return arguments.length?(Object.keys(a).forEach(function(b){Rg[b]=a[b]}),qf({withLegend:!0}),Rg):Rg},Nf.data.colors=function(a){return arguments.length?(Object.keys(a).forEach(function(b){_g[b]=a[b]}),qf({withLegend:!0}),_g):_g},Nf.x=function(a){return arguments.length&amp;&amp;(uc(Nf.data.targets,a),qf({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),Nf.data.xs},Nf.xs=function(a){return arguments.length&amp;&amp;(vc(Nf.data.targets,a),qf({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),Nf.data.xs},Nf.axis.labels=function(a){arguments.length&amp;&amp;(Object.keys(a).forEach(function(b){gb(b,a[b])}),Ib())},Nf.axis.max=function(a){arguments.length&amp;&amp;(&quot;object&quot;==typeof a?(b(a.x)&amp;&amp;(Jh=+a.x),b(a.y)&amp;&amp;(Qh=+a.y),b(a.y2)&amp;&amp;(Zh=+a.y2)):Qh=Zh=+a,qf({withUpdateOrgXDomain:!0,withUpdateXDomain:!0}))},Nf.axis.min=function(a){arguments.length&amp;&amp;(&quot;object&quot;==typeof a?(b(a.x)&amp;&amp;(Kh=+a.x),b(a.y)&amp;&amp;(Rh=+a.y),b(a.y2)&amp;&amp;($h=+a.y2)):Rh=$h=+a,qf({withUpdateOrgXDomain:!0,withUpdateXDomain:!0}))},Nf.axis.range=function(a){arguments.length&amp;&amp;(&quot;undefined&quot;!=typeof a.max&amp;&amp;Nf.axis.max(a.max),&quot;undefined&quot;!=typeof a.min&amp;&amp;Nf.axis.min(a.min))},Nf.legend.show=function(a){Ff(Hc(a)),qf({withLegend:!0})},Nf.legend.hide=function(a){Gf(Hc(a)),qf({withLegend:!0})},Nf.resize=function(a){Qf=a?a.width:null,Rf=a?a.height:null,wf({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})},Nf.destroy=function(){Nf.data.targets=void 0,Nf.data.xs={},Gj.html(&quot;&quot;),a.onresize=null},&quot;url&quot;in f.data)Mf.xhr(f.data.url,function(a,b){var c,d=Mf.csv.parseRows(b.response);1===d.length?(c=[{}],d[0].forEach(function(a){c[0][a]=null})):c=Mf.csv.parse(b.response),hf(c)});else if(&quot;rows&quot;in f.data)hf(xc(f.data.rows));else{if(!(&quot;columns&quot;in f.data))throw Error(&quot;url or rows or columns is required.&quot;);hf(yc(f.data.columns))}return Nf},&quot;function&quot;==typeof a.define&amp;&amp;a.define.amd?a.define(&quot;c3&quot;,[&quot;d3&quot;],f):a.c3=f}(window);
</pre>
</div>
<div title="closeTiddler Hijack Test" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405161524" modified="201405161632" tags="excludeTimeline systemConfig systemConfigDisable hijack" alias="" content-type="text/javascript" changecount="10">
<pre>// cache the old value of the function
var _cache = config.commands.closeTiddler;
// override the existing value
config.commands.closeTiddler; =
//function(title,newTitle,newBody,modifier,modified,tags,fields,clearChangeCount,created,creator)
{
// do something new
setTimeout(function(){story.refreshTiddler('TabOpen',null,true)},500);
// apply the old value
return _cache.apply(this, arguments);
};
</pre>
</div>
<div title="cmF" modifier="Christopher Wilson" created="201305280135" modified="201404121823" tags="excludeTimeline Folder" content-type="" changecount="3">
<pre>&lt;&lt;tiddlerList tags:&quot;ClassicalMechanics&quot;&gt;&gt;</pre>
</div>
<div title="code1.js" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405160644" tags="js excludeTimeline" content-type="text/x-tiddlywiki" changecount="7">
<pre>//{{{
displayMessage('you are executing code1.js');
//}}}</pre>
</div>
<div title="codemirror.css" modifier="Christopher Wilson" created="201404120227" modified="201404120234" tags="cmtw excludeTimeline excludeLists css" changecount="1" alias="" content-type="">
<pre>/*{{{*/
.CodeMirror {
  line-height: 1em;
  font-family: monospace;

  /* Necessary so the scrollbar can be absolutely positioned within the wrapper on Lion. */
  position: relative;
  /* This prevents unwanted scrollbars from showing up on the body and wrapper in IE. */
  overflow: hidden;
}

.CodeMirror-scroll {
  overflow: auto;
  height: 300px;
  /* This is needed to prevent an IE[67] bug where the scrolled content
     is visible outside of the scrolling box. */
  position: relative;
  outline: none;
}

/* Vertical scrollbar */
.CodeMirror-scrollbar {
  position: absolute;
  right: 0; top: 0;
  overflow-x: hidden;
  overflow-y: scroll;
  z-index: 5;
}
.CodeMirror-scrollbar-inner {
  /* This needs to have a nonzero width in order for the scrollbar to appear
     in Firefox and IE9. */
  width: 1px;
}
.CodeMirror-scrollbar.cm-sb-overlap {
  /* Ensure that the scrollbar appears in Lion, and that it overlaps the content
     rather than sitting to the right of it. */
  position: absolute;
  z-index: 1;
  float: none;
  right: 0;
  min-width: 12px;
}
.CodeMirror-scrollbar.cm-sb-nonoverlap {
  min-width: 12px;
}
.CodeMirror-scrollbar.cm-sb-ie7 {
  min-width: 18px;
}

.CodeMirror-gutter {
  position: absolute; left: 0; top: 0;
  z-index: 10;
  background-color: #f7f7f7;
  border-right: 1px solid #eee;
  min-width: 2em;
  height: 100%;
}
.CodeMirror-gutter-text {
  color: #aaa;
  text-align: right;
  padding: .4em .2em .4em .4em;
  white-space: pre !important;
  cursor: default;
}
.CodeMirror-lines {
  padding: .4em;
  white-space: pre;
  cursor: text;
}

.CodeMirror pre {
  -moz-border-radius: 0;
  -webkit-border-radius: 0;
  -o-border-radius: 0;
  border-radius: 0;
  border-width: 0; margin: 0; padding: 0; background: transparent;
  font-family: inherit;
  font-size: inherit;
  padding: 0; margin: 0;
  white-space: pre;
  word-wrap: normal;
  line-height: inherit;
  color: inherit;
  overflow: visible;
}

.CodeMirror-wrap pre {
  word-wrap: break-word;
  white-space: pre-wrap;
  word-break: normal;
}
.CodeMirror-wrap .CodeMirror-scroll {
  overflow-x: hidden;
}

.CodeMirror textarea {
  outline: none !important;
}

.CodeMirror pre.CodeMirror-cursor {
  z-index: 10;
  position: absolute;
  visibility: hidden;
  border-left: 1px solid black;
  border-right: none;
  width: 0;
}
.cm-keymap-fat-cursor pre.CodeMirror-cursor {
  width: auto;
  border: 0;
  background: transparent;
  background: rgba(0, 200, 0, .4);
  filter: progid:DXImageTransform.Microsoft.gradient(startColorstr=#6600c800, endColorstr=#4c00c800);
}
/* Kludge to turn off filter in ie9+, which also accepts rgba */
.cm-keymap-fat-cursor pre.CodeMirror-cursor:not(#nonsense_id) {
  filter: progid:DXImageTransform.Microsoft.gradient(enabled=false);
}
.CodeMirror pre.CodeMirror-cursor.CodeMirror-overwrite {}
.CodeMirror-focused pre.CodeMirror-cursor {
  visibility: visible;
}

div.CodeMirror-selected { background: #d9d9d9; }
.CodeMirror-focused div.CodeMirror-selected { background: #d7d4f0; }

.CodeMirror-searching {
  background: #ffa;
  background: rgba(255, 255, 0, .4);
}

/* Default theme */

.cm-s-default span.cm-keyword {color: #708;}
.cm-s-default span.cm-atom {color: #219;}
.cm-s-default span.cm-number {color: #164;}
.cm-s-default span.cm-def {color: #00f;}
.cm-s-default span.cm-variable {color: black;}
.cm-s-default span.cm-variable-2 {color: #05a;}
.cm-s-default span.cm-variable-3 {color: #085;}
.cm-s-default span.cm-property {color: black;}
.cm-s-default span.cm-operator {color: black;}
.cm-s-default span.cm-comment {color: #a50;}
.cm-s-default span.cm-string {color: #a11;}
.cm-s-default span.cm-string-2 {color: #f50;}
.cm-s-default span.cm-meta {color: #555;}
.cm-s-default span.cm-error {color: #f00;}
.cm-s-default span.cm-qualifier {color: #555;}
.cm-s-default span.cm-builtin {color: #30a;}
.cm-s-default span.cm-bracket {color: #997;}
.cm-s-default span.cm-tag {color: #170;}
.cm-s-default span.cm-attribute {color: #00c;}
.cm-s-default span.cm-header {color: blue;}
.cm-s-default span.cm-quote {color: #090;}
.cm-s-default span.cm-hr {color: #999;}
.cm-s-default span.cm-link {color: #00c;}
span.cm-negative {color: #d44;}
span.cm-positive {color: #292;}

span.cm-header, span.cm-strong {font-weight: bold;}
span.cm-em {font-style: italic;}
span.cm-emstrong {font-style: italic; font-weight: bold;}
span.cm-link {text-decoration: underline;}

span.cm-invalidchar {color: #f00;}

div.CodeMirror span.CodeMirror-matchingbracket {color: #0f0;}
div.CodeMirror span.CodeMirror-nonmatchingbracket {color: #f22;}

@media print {

  /* Hide the cursor when printing */
  .CodeMirror pre.CodeMirror-cursor {
    visibility: hidden;
  }

}
/*}}}*/</pre>
</div>
<div title="codemirror.js" modifier="Christopher Wilson" created="201404120217" modified="201404120234" tags="cmtw excludeTimeline systemConfig excludeLists" changecount="2">
<pre>/***
Copyright (C) 2011 by Marijn Haverbeke &lt;marijnh@gmail.com&gt;

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the &quot;Software&quot;), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
***/
/***
!!!! Version
Use: {{{CodeMirror.version}}} in your dev console to get the version info. 
***/
//{{{
window.CodeMirror=function(){&quot;use strict&quot;;function a(d,e){function lc(a){f.onDragEvent&amp;&amp;f.onDragEvent(pc,$(a))||bb(a)}function oc(a){return a&gt;=0&amp;&amp;Ib.size&gt;a}function qc(a){return U(Ib,a)}function rc(a,b){Zb=!0;for(var c=b-a.height,d=a;d;d=d.parent)d.height+=c}function sc(a,b){return a.styles||a.highlight(Hb,a.stateAfter=ie(V(a)),f.tabSize),a.getContent(f.tabSize,b,f.lineWrapping)}function tc(a){var b={line:0,ch:0};Lc(b,{line:Ib.size-1,ch:qc(Ib.size-1).text.length},Db(a),b,b),Ub=!0}function uc(a){var b=[];return Ib.iter(0,Ib.size,function(a){b.push(a.text)}),b.join(a||&quot;\n&quot;)}function vc(){Math.abs(E.scrollTop-Pb)&gt;1&amp;&amp;(Pb=lb.scrollTop=E.scrollTop,hd([]))}function wc(){f.fixedGutter&amp;&amp;ab.style.left!=lb.scrollLeft+&quot;px&quot;&amp;&amp;(ab.style.left=lb.scrollLeft+&quot;px&quot;),Math.abs(lb.scrollTop-Pb)&gt;1&amp;&amp;(Pb=lb.scrollTop,E.scrollTop!=Pb&amp;&amp;(E.scrollTop=Pb),hd([])),f.onScroll&amp;&amp;f.onScroll(pc)}function xc(a){function h(b){t&amp;&amp;(lb.draggable=!1),Qb=!1,k(),l(),10&gt;Math.abs(a.clientX-b.clientX)+Math.abs(a.clientY-b.clientY)&amp;&amp;(_(b),qd(c.line,c.ch,!0),bd())}function q(a){if(&quot;single&quot;==e)return nd(sd(c),a),void 0;if(m=sd(m),n=sd(n),&quot;double&quot;==e){var b=xd(a);tb(a,m)?nd(b.from,n):nd(m,b.to)}else&quot;triple&quot;==e&amp;&amp;(tb(a,m)?nd(n,sd({line:a.line,ch:0})):nd(m,sd({line:a.line+1,ch:0})))}function r(a){var b=be(a,!0);if(b&amp;&amp;!sb(b,i)){Kb||Jc(),i=b,q(b),Ub=!1;var c=gd();(b.line&gt;=c.to||b.line&lt;c.from)&amp;&amp;(j=setTimeout(oe(function(){r(a)}),150))}}function s(a){clearTimeout(j);var b=be(a);b&amp;&amp;q(b),_(a),bd(),Ub=!0,u(),k()}md(eb(a,&quot;shiftKey&quot;));for(var b=cb(a);b!=ob;b=b.parentNode)if(b.parentNode==kb&amp;&amp;b!=jb)return;for(var b=cb(a);b!=ob;b=b.parentNode)if(b.parentNode==Z)return f.onGutterClick&amp;&amp;f.onGutterClick(pc,Ab(Z.childNodes,b)+ac,a),_(a);var c=be(a);switch(db(a)){case 3:return o&amp;&amp;de(a),void 0;case 2:return c&amp;&amp;qd(c.line,c.ch,!0),setTimeout(bd,20),_(a),void 0}if(!c)return cb(a)==lb&amp;&amp;_(a),void 0;Kb||Jc();var d=+new Date,e=&quot;single&quot;;if(Ob&amp;&amp;Ob.time&gt;d-400&amp;&amp;sb(Ob.pos,c))e=&quot;triple&quot;,_(a),setTimeout(bd,20),yd(c.line);else if(Nb&amp;&amp;Nb.time&gt;d-400&amp;&amp;sb(Nb.pos,c)){e=&quot;double&quot;,Ob={time:d,pos:c},_(a);var g=xd(c);nd(g.from,g.to)}else Nb={time:d,pos:c};var j,i=c;if(f.dragDrop&amp;&amp;ib&amp;&amp;!f.readOnly&amp;&amp;!sb(Lb.from,Lb.to)&amp;&amp;!tb(c,Lb.from)&amp;&amp;!tb(Lb.to,c)&amp;&amp;&quot;single&quot;==e){t&amp;&amp;(lb.draggable=!0);var k=fb(document,&quot;mouseup&quot;,oe(h),!0),l=fb(lb,&quot;drop&quot;,oe(h),!0);return Qb=!0,lb.dragDrop&amp;&amp;lb.dragDrop(),void 0}_(a),&quot;single&quot;==e&amp;&amp;qd(c.line,c.ch,!0);var m=Lb.from,n=Lb.to,u=fb(document,&quot;mousemove&quot;,oe(function(a){clearTimeout(j),_(a),p||db(a)?r(a):s(a)}),!0),k=fb(document,&quot;mouseup&quot;,oe(s),!0)}function yc(a){for(var b=cb(a);b!=ob;b=b.parentNode)if(b.parentNode==Z)return _(a);_(a)}function zc(a){if(!f.onDragEvent||!f.onDragEvent(pc,$(a))){_(a);var b=be(a,!0),c=a.dataTransfer.files;if(b&amp;&amp;!f.readOnly)if(c&amp;&amp;c.length&amp;&amp;window.FileReader&amp;&amp;window.File)for(var d=c.length,e=Array(d),g=0,h=function(a,c){var f=new FileReader;f.onload=function(){e[c]=f.result,++g==d&amp;&amp;(b=sd(b),oe(function(){var a=Tc(e.join(&quot;&quot;),b,b);nd(b,a)})())},f.readAsText(a)},i=0;d&gt;i;++i)h(c[i],i);else{if(Qb&amp;&amp;!tb(b,Lb.from)&amp;&amp;!tb(Lb.to,b))return;try{var e=a.dataTransfer.getData(&quot;Text&quot;);e&amp;&amp;pe(function(){var a=Lb.from,c=Lb.to;nd(b,b),Qb&amp;&amp;Tc(&quot;&quot;,a,c),Uc(e),bd()})}catch(a){}}}}function Ac(a){var b=Xc();a.dataTransfer.setData(&quot;Text&quot;,b),a.dataTransfer.setDragImage&amp;&amp;a.dataTransfer.setDragImage(vb(&quot;img&quot;),0,0)}function Bc(a,b){if(&quot;string&quot;==typeof a&amp;&amp;(a=j[a],!a))return!1;var c=Mb;try{f.readOnly&amp;&amp;(Sb=!0),b&amp;&amp;(Mb=null),a(pc)}catch(d){if(d!=hb)throw d;return!1}finally{Mb=c,Sb=!1}return!0}function Dc(a){function h(){g=!0}var b=l(f.keyMap),c=b.auto;clearTimeout(Cc),c&amp;&amp;!n(a)&amp;&amp;(Cc=setTimeout(function(){l(f.keyMap)==b&amp;&amp;(f.keyMap=c.call?c.call(null,pc):c)},50));var d=Fb[eb(a,&quot;keyCode&quot;)],e=!1;if(null==d||a.altGraphKey)return!1;eb(a,&quot;altKey&quot;)&amp;&amp;(d=&quot;Alt-&quot;+d),eb(a,B?&quot;metaKey&quot;:&quot;ctrlKey&quot;)&amp;&amp;(d=&quot;Ctrl-&quot;+d),eb(a,B?&quot;ctrlKey&quot;:&quot;metaKey&quot;)&amp;&amp;(d=&quot;Cmd-&quot;+d);var g=!1;return e=eb(a,&quot;shiftKey&quot;)?m(&quot;Shift-&quot;+d,f.extraKeys,f.keyMap,function(a){return Bc(a,!0)},h)||m(d,f.extraKeys,f.keyMap,function(a){return&quot;string&quot;==typeof a&amp;&amp;/^go[A-Z]/.test(a)?Bc(a):void 0},h):m(d,f.extraKeys,f.keyMap,Bc,h),g&amp;&amp;(e=!1),e&amp;&amp;(_(a),ee(),r&amp;&amp;(a.oldKeyCode=a.keyCode,a.keyCode=0)),e}function Ec(a,b){var c=m(&quot;'&quot;+b+&quot;'&quot;,f.extraKeys,f.keyMap,function(a){return Bc(a,!0)});return c&amp;&amp;(_(a),ee()),c}function Gc(a){if(Kb||Jc(),p&amp;&amp;27==a.keyCode&amp;&amp;(a.returnValue=!1),hc&amp;&amp;_c()&amp;&amp;(hc=!1),!f.onKeyEvent||!f.onKeyEvent(pc,$(a))){var b=eb(a,&quot;keyCode&quot;);md(16==b||eb(a,&quot;shiftKey&quot;));var d=Dc(a);w&amp;&amp;(Fc=d?b:null,!d&amp;&amp;88==b&amp;&amp;eb(a,c?&quot;metaKey&quot;:&quot;ctrlKey&quot;)&amp;&amp;Uc(&quot;&quot;))}}function Hc(a){if(hc&amp;&amp;_c(),!f.onKeyEvent||!f.onKeyEvent(pc,$(a))){var b=eb(a,&quot;keyCode&quot;),c=eb(a,&quot;charCode&quot;);if(w&amp;&amp;b==Fc)return Fc=null,_(a),void 0;if(!(w&amp;&amp;(!a.which||10&gt;a.which)||y)||!Dc(a)){var d=String.fromCharCode(null==c?b:c);f.electricChars&amp;&amp;Hb.electricChars&amp;&amp;f.smartIndent&amp;&amp;!f.readOnly&amp;&amp;Hb.electricChars.indexOf(d)&gt;-1&amp;&amp;setTimeout(oe(function(){Ad(Lb.to.line,&quot;smart&quot;)}),75),Ec(a,d)||Zc()}}}function Ic(a){f.onKeyEvent&amp;&amp;f.onKeyEvent(pc,$(a))||16==eb(a,&quot;keyCode&quot;)&amp;&amp;(Mb=null)}function Jc(){&quot;nocursor&quot;!=f.readOnly&amp;&amp;(Kb||(f.onFocus&amp;&amp;f.onFocus(pc),Kb=!0,-1==lb.className.search(/\bCodeMirror-focused\b/)&amp;&amp;(lb.className+=&quot; CodeMirror-focused&quot;)),Yc(),ee())}function Kc(){Kb&amp;&amp;(f.onBlur&amp;&amp;f.onBlur(pc),Kb=!1,dc&amp;&amp;oe(function(){dc&amp;&amp;(dc(),dc=null)})(),lb.className=lb.className.replace(&quot; CodeMirror-focused&quot;,&quot;&quot;)),clearInterval(Gb),setTimeout(function(){Kb||(Mb=null)},150)}function Lc(a,b,c,d,e){if(!Sb){var g=[];if(Ib.iter(a.line,b.line+1,function(a){g.push(N(a.text,a.markedSpans))}),jc)for(jc.addChange(a.line,c.length,g);jc.done.length&gt;f.undoDepth;)jc.done.shift();var h=K(M(g[0]),M(qb(g)),a.ch,b.ch,c);Pc(a,b,h,d,e)}}function Mc(a,b){if(a.length){for(var c=a.pop(),d=[],e=c.length-1;e&gt;=0;e-=1){var f=c[e],g=[],h=f.start+f.added;Ib.iter(f.start,h,function(a){g.push(N(a.text,a.markedSpans))}),d.push({start:f.start,added:f.old.length,old:g});var i={line:f.start+f.old.length-1,ch:zb(L(qb(g)),L(qb(f.old)))};Pc({line:f.start,ch:0},{line:h-1,ch:qc(h-1).text.length},f.old,i,i)}Ub=!0,b.push(d)}}function Nc(){Mc(jc.done,jc.undone)}function Oc(){Mc(jc.undone,jc.done)}function Pc(a,b,c,d,e){function u(a){return Math.min(b.line,b.line+r)&gt;=a?a:a+r}if(!Sb){var g=!1,h=ec.text.length;f.lineWrapping||Ib.iter(a.line,b.line+1,function(a){return a.hidden||a.text.length!=h?void 0:(g=!0,!0)}),(a.line!=b.line||c.length&gt;1)&amp;&amp;(Zb=!0);var i=b.line-a.line,j=qc(a.line),k=qc(b.line),l=qb(c);if(0==a.ch&amp;&amp;0==b.ch&amp;&amp;&quot;&quot;==L(l)){for(var m=[],o=0,p=c.length-1;p&gt;o;++o)m.push(new R(L(c[o]),M(c[o])));k.update(k.text,M(l)),i&amp;&amp;Ib.remove(a.line,i,$b),m.length&amp;&amp;Ib.insert(a.line,m)}else if(j==k)if(1==c.length)j.update(j.text.slice(0,a.ch)+L(c[0])+j.text.slice(b.ch),M(c[0]));else{for(var m=[],o=1,p=c.length-1;p&gt;o;++o)m.push(new R(L(c[o]),M(c[o])));m.push(new R(L(l)+j.text.slice(b.ch),M(l))),j.update(j.text.slice(0,a.ch)+L(c[0]),M(c[0])),Ib.insert(a.line+1,m)}else if(1==c.length)j.update(j.text.slice(0,a.ch)+L(c[0])+k.text.slice(b.ch),M(c[0])),Ib.remove(a.line+1,i,$b);else{var m=[];j.update(j.text.slice(0,a.ch)+L(c[0]),M(c[0])),k.update(L(l)+k.text.slice(b.ch),M(l));for(var o=1,p=c.length-1;p&gt;o;++o)m.push(new R(L(c[o]),M(c[o])));i&gt;1&amp;&amp;Ib.remove(a.line+1,i-1,$b),Ib.insert(a.line+1,m)}if(f.lineWrapping){var q=Math.max(5,lb.clientWidth/$d()-3);Ib.iter(a.line,a.line+c.length,function(a){if(!a.hidden){var b=Math.ceil(a.text.length/q)||1;b!=a.height&amp;&amp;rc(a,b)}})}else Ib.iter(a.line,a.line+c.length,function(a){var b=a.text;!a.hidden&amp;&amp;b.length&gt;h&amp;&amp;(ec=a,h=b.length,gc=!0,g=!1)}),g&amp;&amp;(fc=!0);Jb=Math.min(Jb,a.line),ke(400);var r=c.length-i-1;if(Wb.push({from:a.line,to:b.line+1,diff:r}),f.onChange){for(var o=0;c.length&gt;o;++o)&quot;string&quot;!=typeof c[o]&amp;&amp;(c[o]=c[o].text);var s={from:a,to:b,text:c};if(Xb){for(var t=Xb;t.next;t=t.next);t.next=s}else Xb=s}od(sd(d),sd(e),u(Lb.from.line),u(Lb.to.line))}}function Qc(){var a=Ib.height*Xd()+2*_d();return.99*a&gt;lb.offsetHeight?a:!1}function Rc(a){var b=Qc();E.style.display=b?&quot;block&quot;:&quot;none&quot;,b?(A.style.height=kb.style.minHeight=b+&quot;px&quot;,E.style.height=lb.clientHeight+&quot;px&quot;,null!=a&amp;&amp;(E.scrollTop=lb.scrollTop=a,t&amp;&amp;setTimeout(function(){E.scrollTop==a&amp;&amp;(E.scrollTop=a+(a?-1:1),E.scrollTop=a)},0))):kb.style.minHeight=&quot;&quot;,jb.style.top=_b*Xd()+&quot;px&quot;}function Sc(){ec=qc(0),gc=!0;var a=ec.text.length;Ib.iter(1,Ib.size,function(b){var c=b.text;!b.hidden&amp;&amp;c.length&gt;a&amp;&amp;(a=c.length,ec=b)}),fc=!1}function Tc(a,b,c){function d(d){if(tb(d,b))return d;if(!tb(c,d))return e;var f=d.line+a.length-(c.line-b.line)-1,g=d.ch;return d.line==c.line&amp;&amp;(g+=qb(a).length-(c.ch-(c.line==b.line?b.ch:0))),{line:f,ch:g}}b=sd(b),c=c?sd(c):b,a=Db(a);var e;return Vc(a,b,c,function(a){return e=a,{from:d(Lb.from),to:d(Lb.to)}}),e}function Uc(a,b){Vc(Db(a),Lb.from,Lb.to,function(a){return&quot;end&quot;==b?{from:a,to:a}:&quot;start&quot;==b?{from:Lb.from,to:Lb.from}:{from:Lb.from,to:a}})}function Vc(a,b,c,d){var e=1==a.length?a[0].length+b.ch:qb(a).length,f=d({line:b.line+a.length-1,ch:e});Lc(b,c,a,f.from,f.to)}function Wc(a,b,c){var d=a.line,e=b.line;if(d==e)return qc(d).text.slice(a.ch,b.ch);var f=[qc(d).text.slice(a.ch)];return Ib.iter(d+1,e,function(a){f.push(a.text)}),f.push(qc(e).text.slice(0,b.ch)),f.join(c||&quot;\n&quot;)}function Xc(a){return Wc(Lb.from,Lb.to,a)}function Yc(){hc||yb.set(f.pollInterval,function(){_c(),Kb&amp;&amp;Yc()})}function Zc(){function b(){var c=_c();c||a?(hc=!1,Yc()):(a=!0,yb.set(60,b))}var a=!1;hc=!0,yb.set(20,b)}function _c(){if(!Kb||Eb(v)||f.readOnly)return!1;var a=v.value;if(a==$c)return!1;ne||le(),Mb=null;for(var b=0,c=Math.min($c.length,a.length);c&gt;b&amp;&amp;$c[b]==a[b];)++b;return $c.length&gt;b?Lb.from={line:Lb.from.line,ch:Lb.from.ch-($c.length-b)}:Rb&amp;&amp;sb(Lb.from,Lb.to)&amp;&amp;!Tb&amp;&amp;(Lb.to={line:Lb.to.line,ch:Math.min(qc(Lb.to.line).text.length,Lb.to.ch+(a.length-b))}),Uc(a.slice(b),&quot;end&quot;),a.length&gt;1e3?v.value=$c=&quot;&quot;:$c=a,ne||me(),Tb=!1,!0}function ad(a){sb(Lb.from,Lb.to)?a&amp;&amp;($c=v.value=&quot;&quot;):($c=&quot;&quot;,v.value=Xc(),Kb&amp;&amp;rb(v))}function bd(){&quot;nocursor&quot;==f.readOnly||!r&amp;&amp;document.activeElement==v||v.focus()}function cd(){var a=dd();if(ed(a.x,a.y,a.x,a.yBot),Kb){var b=kb.getBoundingClientRect(),c=null;if(0&gt;a.y+b.top?c=!0:a.y+b.top+Xd()&gt;(window.innerHeight||document.documentElement.clientHeight)&amp;&amp;(c=!1),null!=c){var d=&quot;none&quot;==J.style.display;d&amp;&amp;(J.style.display=&quot;&quot;,J.style.left=a.x+&quot;px&quot;,J.style.top=a.y-_b+&quot;px&quot;),J.scrollIntoView(c),d&amp;&amp;(J.style.display=&quot;none&quot;)}}}function dd(){var a=Rd(Lb.inverted?Lb.from:Lb.to),b=f.lineWrapping?Math.min(a.x,Q.offsetWidth):a.x;return{x:b,y:a.y,yBot:a.yBot}}function ed(a,b,c,d){var e=fd(a,b,c,d);null!=e.scrollLeft&amp;&amp;(lb.scrollLeft=e.scrollLeft),null!=e.scrollTop&amp;&amp;(E.scrollTop=lb.scrollTop=e.scrollTop)}function fd(a,b,c,d){var e=ae(),g=_d();b+=g,d+=g,a+=e,c+=e;var h=lb.clientHeight,i=E.scrollTop,j={},k=Qc()||1/0,l=g+10&gt;b,m=d+g&gt;k-10;i&gt;b?j.scrollTop=l?0:Math.max(0,b):d&gt;i+h&amp;&amp;(j.scrollTop=(m?k:d)-h);var n=lb.clientWidth,o=lb.scrollLeft,p=f.fixedGutter?ab.clientWidth:0,q=p+e+10&gt;a;return o+p&gt;a||q?(q&amp;&amp;(a=0),j.scrollLeft=Math.max(0,a-10-p)):c&gt;n+o-3&amp;&amp;(j.scrollLeft=c+10-n),j}function gd(a){var b=Xd(),c=(null!=a?a:E.scrollTop)-_d(),d=Math.max(0,Math.floor(c/b)),e=Math.ceil((c+lb.clientHeight)/b);return{from:W(Ib,d),to:W(Ib,e)}}function hd(a,b,c){function o(){var a=F.firstChild,b=!1;return Ib.iter(ac,bc,function(c){if(a){if(!c.hidden){var d=Math.round(a.offsetHeight/l)||1;c.height!=d&amp;&amp;(rc(c,d),Zb=b=!0)}a=a.nextSibling}}),b}if(!lb.clientWidth)return ac=bc=_b=0,void 0;var d=gd(c);if(a!==!0&amp;&amp;0==a.length&amp;&amp;d.from&gt;ac&amp;&amp;bc&gt;d.to)return Rc(c),void 0;var e=Math.max(d.from-100,0),g=Math.min(Ib.size,d.to+100);e&gt;ac&amp;&amp;20&gt;e-ac&amp;&amp;(e=ac),bc&gt;g&amp;&amp;20&gt;bc-g&amp;&amp;(g=Math.min(Ib.size,bc));for(var h=a===!0?[]:id([{from:ac,to:bc,domStart:0}],a),i=0,j=0;h.length&gt;j;++j){var k=h[j];e&gt;k.from&amp;&amp;(k.domStart+=e-k.from,k.from=e),k.to&gt;g&amp;&amp;(k.to=g),k.from&gt;=k.to?h.splice(j--,1):i+=k.to-k.from}if(i==g-e&amp;&amp;e==ac&amp;&amp;g==bc)return Rc(c),void 0;h.sort(function(a,b){return a.domStart-b.domStart});var l=Xd(),m=ab.style.display;F.style.display=&quot;none&quot;,jd(e,g,h),F.style.display=ab.style.display=&quot;&quot;;var n=e!=ac||g!=bc||cc!=lb.clientHeight+l;if(n&amp;&amp;(cc=lb.clientHeight+l),(e!=ac||g!=bc&amp;&amp;f.onViewportChange)&amp;&amp;setTimeout(function(){f.onViewportChange&amp;&amp;f.onViewportChange(pc,e,g)}),ac=e,bc=g,_b=X(Ib,e),ke(100),F.childNodes.length!=bc-ac)throw Error(&quot;BAD PATCH! &quot;+JSON.stringify(h)+&quot; size=&quot;+(bc-ac)+&quot; nodes=&quot;+F.childNodes.length);return f.lineWrapping&amp;&amp;o(),ab.style.display=m,(n||Zb)&amp;&amp;kd()&amp;&amp;f.lineWrapping&amp;&amp;o()&amp;&amp;kd(),Rc(c),ld(),!b&amp;&amp;f.onUpdate&amp;&amp;f.onUpdate(pc),!0}function id(a,b){for(var c=0,d=b.length||0;d&gt;c;++c){for(var e=b[c],f=[],g=e.diff||0,h=0,i=a.length;i&gt;h;++h){var j=a[h];e.to&lt;=j.from&amp;&amp;e.diff?f.push({from:j.from+g,to:j.to+g,domStart:j.domStart}):e.to&lt;=j.from||e.from&gt;=j.to?f.push(j):(e.from&gt;j.from&amp;&amp;f.push({from:j.from,to:e.from,domStart:j.domStart}),e.to&lt;j.to&amp;&amp;f.push({from:e.to+g,to:j.to+g,domStart:j.domStart+(e.to-j.from)}))}a=f}return a}function jd(a,b,c){function d(a){var b=a.nextSibling;return a.parentNode.removeChild(a),b}if(c.length){for(var e=0,f=F.firstChild,h=0;c.length&gt;h;++h){for(var i=c[h];i.domStart&gt;e;)f=d(f),e++;for(var j=0,k=i.to-i.from;k&gt;j;++j)f=f.nextSibling,e++}for(;f;)f=d(f)}else wb(F);var l=c.shift(),f=F.firstChild,j=a;Ib.iter(a,b,function(a){if(l&amp;&amp;l.to==j&amp;&amp;(l=c.shift()),!l||l.from&gt;j){if(a.hidden)var b=vb(&quot;pre&quot;);else{var b=sc(a);if(a.className&amp;&amp;(b.className=a.className),a.bgClassName){var d=vb(&quot;pre&quot;,&quot; &quot;,a.bgClassName,&quot;position: absolute; left: 0; right: 0; top: 0; bottom: 0; z-index: -2&quot;);b=vb(&quot;div&quot;,[d,b],null,&quot;position: relative&quot;)}}F.insertBefore(b,f)}else f=f.nextSibling;++j})}function kd(){if(f.gutter||f.lineNumbers){var a=jb.offsetHeight,b=lb.clientHeight;ab.style.height=(2&gt;a-b?b:a)+&quot;px&quot;;var e,c=document.createDocumentFragment(),d=ac;if(Ib.iter(ac,Math.max(bc,ac+1),function(a){if(a.hidden)c.appendChild(vb(&quot;pre&quot;));else{var b=a.gutterMarker,g=f.lineNumbers?f.lineNumberFormatter(d+f.firstLineNumber):null;b&amp;&amp;b.text?g=b.text.replace(&quot;%N%&quot;,null!=g?g:&quot;&quot;):null==g&amp;&amp;(g=&quot; &quot;);var h=c.appendChild(vb(&quot;pre&quot;,null,b&amp;&amp;b.style));h.innerHTML=g;for(var i=1;a.height&gt;i;++i)h.appendChild(vb(&quot;br&quot;)),h.appendChild(document.createTextNode(&quot; &quot;));b||(e=d)}++d}),ab.style.display=&quot;none&quot;,xb(Z,c),null!=e&amp;&amp;f.lineNumbers){for(var g=Z.childNodes[e-ac],h=(Ib.size+&quot;&quot;).length,i=nb(g.firstChild),j=&quot;&quot;;h&gt;i.length+j.length;)j+=&quot; &quot;;j&amp;&amp;g.insertBefore(document.createTextNode(j),g.firstChild)}ab.style.display=&quot;&quot;;var k=Math.abs((parseInt(Q.style.marginLeft)||0)-ab.offsetWidth)&gt;2;return Q.style.marginLeft=ab.offsetWidth+&quot;px&quot;,Zb=!1,k}}function ld(){var a=sb(Lb.from,Lb.to),b=Rd(Lb.from,!0),c=a?b:Rd(Lb.to,!0),d=Lb.inverted?b:c,e=Xd(),g=mb(ob),h=mb(F);if(x.style.top=Math.max(0,Math.min(lb.offsetHeight,d.y+h.top-g.top))+&quot;px&quot;,x.style.left=Math.max(0,Math.min(lb.offsetWidth,d.x+h.left-g.left))+&quot;px&quot;,a||f.showCursorWhenSelecting?(J.style.top=d.y+&quot;px&quot;,J.style.left=(f.lineWrapping?Math.min(d.x,Q.offsetWidth):d.x)+&quot;px&quot;,J.style.display=&quot;&quot;):J.style.display=&quot;none&quot;,a)I.style.display=&quot;none&quot;;else{var i=b.y==c.y,j=document.createDocumentFragment(),k=Q.clientWidth||Q.offsetWidth,l=Q.clientHeight||Q.offsetHeight,m=function(a,b,c,d){var e=s?&quot;width: &quot;+(c?k-c-a:k)+&quot;px&quot;:&quot;right: &quot;+(c-1)+&quot;px&quot;;j.appendChild(vb(&quot;div&quot;,null,&quot;CodeMirror-selected&quot;,&quot;position: absolute; left: &quot;+a+&quot;px; top: &quot;+b+&quot;px; &quot;+e+&quot;; height: &quot;+d+&quot;px&quot;))};if(Lb.from.ch&amp;&amp;b.y&gt;=0){var n=i?k-c.x:0;m(b.x,b.y,n,e)}var o=Math.max(0,b.y+(Lb.from.ch?e:0)),p=Math.min(c.y,l)-o;p&gt;.2*e&amp;&amp;m(0,o,0,p),i&amp;&amp;Lb.from.ch||!(l-.5*e&gt;c.y)||m(0,c.y,k-c.x,e),xb(I,j),I.style.display=&quot;&quot;}}function md(a){Mb=a?Mb||(Lb.inverted?Lb.to:Lb.from):null}function nd(a,b){var c=Mb&amp;&amp;sd(Mb);c&amp;&amp;(tb(c,a)?a=c:tb(b,c)&amp;&amp;(b=c)),od(a,b),Vb=!0}function od(a,b,c,d){if(ic=null,null==c&amp;&amp;(c=Lb.from.line,d=Lb.to.line),!sb(Lb.from,a)||!sb(Lb.to,b)){if(tb(b,a)){var e=b;b=a,a=e}if(a.line!=c){var g=pd(a,c,Lb.from.ch);g?a=g:Od(a.line,!1)}if(b.line!=d&amp;&amp;(b=pd(b,d,Lb.to.ch)),sb(a,b)?Lb.inverted=!1:sb(a,Lb.to)?Lb.inverted=!1:sb(b,Lb.from)&amp;&amp;(Lb.inverted=!0),f.autoClearEmptyLines&amp;&amp;sb(Lb.from,Lb.to)){var h=Lb.inverted?a:b;if(h.line!=Lb.from.line&amp;&amp;Lb.from.line&lt;Ib.size){var i=qc(Lb.from.line);/^\s+$/.test(i.text)&amp;&amp;setTimeout(oe(function(){if(i.parent&amp;&amp;/^\s+$/.test(i.text)){var a=V(i);Tc(&quot;&quot;,{line:a,ch:0},{line:a,ch:i.text.length})}},10))}}Lb.from=a,Lb.to=b,Yb=!0}}function pd(a,b,c){function d(b){for(var d=a.line+b,e=1==b?Ib.size:-1;d!=e;){var g=qc(d);if(!g.hidden){var h=a.ch;return(f||h&gt;c||h&gt;g.text.length)&amp;&amp;(h=g.text.length),{line:d,ch:h}}d+=b}}var e=qc(a.line),f=a.ch==e.text.length&amp;&amp;a.ch!=c;return e.hidden?a.line&gt;=b?d(1)||d(-1):d(-1)||d(1):a}function qd(a,b,c){var d=sd({line:a,ch:b||0});(c?nd:od)(d,d)}function rd(a){return Math.max(0,Math.min(a,Ib.size-1))}function sd(a){if(0&gt;a.line)return{line:0,ch:0};if(a.line&gt;=Ib.size)return{line:Ib.size-1,ch:qc(Ib.size-1).text.length};var b=a.ch,c=qc(a.line).text.length;return null==b||b&gt;c?{line:a.line,ch:c}:0&gt;b?{line:a.line,ch:0}:a}function td(a,b){function g(){for(var b=d+a,c=0&gt;a?-1:Ib.size;b!=c;b+=a){var e=qc(b);if(!e.hidden)return d=b,f=e,!0}}function h(b){if(e==(0&gt;a?0:f.text.length)){if(b||!g())return!1;e=0&gt;a?f.text.length:0}else e+=a;return!0}var c=Lb.inverted?Lb.from:Lb.to,d=c.line,e=c.ch,f=qc(d);if(&quot;char&quot;==b)h();else if(&quot;column&quot;==b)h(!0);else if(&quot;word&quot;==b)for(var i=!1;!(0&gt;a)||h();){if(Cb(f.text.charAt(e)))i=!0;else if(i){0&gt;a&amp;&amp;(a=1,h());break}if(a&gt;0&amp;&amp;!h())break}return{line:d,ch:e}}function ud(a,b){var c=0&gt;a?Lb.from:Lb.to;(Mb||sb(Lb.from,Lb.to))&amp;&amp;(c=td(a,b)),qd(c.line,c.ch,!0)}function vd(a,b){sb(Lb.from,Lb.to)?0&gt;a?Tc(&quot;&quot;,td(a,b),Lb.to):Tc(&quot;&quot;,Lb.from,td(a,b)):Tc(&quot;&quot;,Lb.from,Lb.to),Vb=!0}function wd(a,b){var d=Rd(Lb.inverted?Lb.from:Lb.to,!0);if(null!=ic&amp;&amp;(d.x=ic),&quot;page&quot;==b)var e=Math.min(lb.clientHeight,window.innerHeight||document.documentElement.clientHeight),f=Sd(d.x,d.y+e*a);else if(&quot;line&quot;==b)var g=Xd(),f=Sd(d.x,d.y+.5*g+a*g);&quot;page&quot;==b&amp;&amp;(E.scrollTop+=Rd(f,!0).y-d.y),qd(f.line,f.ch,!0),ic=d.x}function xd(a){var b=qc(a.line).text,c=a.ch,d=a.ch;if(b){a.after===!1||d==b.length?--c:++d;for(var e=b.charAt(c),f=Cb(e)?Cb:/\s/.test(e)?function(a){return/\s/.test(a)}:function(a){return!/\s/.test(a)&amp;&amp;Cb(a)};c&gt;0&amp;&amp;f(b.charAt(c-1));)--c;for(;b.length&gt;d&amp;&amp;f(b.charAt(d));)++d}return{from:{line:a.line,ch:c},to:{line:a.line,ch:d}}}function yd(a){nd({line:a,ch:0},sd({line:a+1,ch:0}))}function zd(a){if(sb(Lb.from,Lb.to))return Ad(Lb.from.line,a);for(var b=Lb.to.line-(Lb.to.ch?0:1),c=Lb.from.line;b&gt;=c;++c)Ad(c,a)}function Ad(a,b){if(b||(b=&quot;add&quot;),&quot;smart&quot;==b)if(Hb.indent)var c=ie(a);else b=&quot;prev&quot;;var h,d=qc(a),e=d.indentation(f.tabSize),g=d.text.match(/^\s*/)[0];&quot;smart&quot;==b&amp;&amp;(h=Hb.indent(c,d.text.slice(g.length),d.text),h==hb&amp;&amp;(b=&quot;prev&quot;)),&quot;prev&quot;==b?h=a?qc(a-1).indentation(f.tabSize):0:&quot;add&quot;==b?h=e+f.indentUnit:&quot;subtract&quot;==b&amp;&amp;(h=e-f.indentUnit),h=Math.max(0,h);var j=&quot;&quot;,k=0;if(f.indentWithTabs)for(var l=Math.floor(h/f.tabSize);l;--l)k+=f.tabSize,j+=&quot;	&quot;;h&gt;k&amp;&amp;(j+=pb(h-k)),j!=g&amp;&amp;Tc(j,{line:a,ch:0},{line:a,ch:g.length}),d.stateAfter=null}function Bd(){Hb=a.getMode(f,f.mode),Ib.iter(0,Ib.size,function(a){a.stateAfter=null}),Jb=0,ke(100)}function Cd(){var a=f.gutter||f.lineNumbers;ab.style.display=a?&quot;&quot;:&quot;none&quot;,a?Zb=!0:F.parentNode.style.marginLeft=0}function Dd(){if(f.lineWrapping){ob.className+=&quot; CodeMirror-wrap&quot;;var c=lb.clientWidth/$d()-3;Ib.iter(0,Ib.size,function(a){if(!a.hidden){var b=Math.ceil(a.text.length/c)||1;1!=b&amp;&amp;rc(a,b)}}),Q.style.minWidth=O.style.left=&quot;&quot;}else ob.className=ob.className.replace(&quot; CodeMirror-wrap&quot;,&quot;&quot;),Sc(),Ib.iter(0,Ib.size,function(a){1==a.height||a.hidden||rc(a,1)});Wb.push({from:0,to:Ib.size})}function Ed(){lb.className=lb.className.replace(/\s*cm-s-\S+/g,&quot;&quot;)+f.theme.replace(/(^|\s)\s*/g,&quot; cm-s-&quot;)}function Fd(){var a=k[f.keyMap].style;ob.className=ob.className.replace(/\s*cm-keymap-\S+/g,&quot;&quot;)+(a?&quot; cm-keymap-&quot;+a:&quot;&quot;)}function Gd(a,b){this.lines=[],this.type=a,b&amp;&amp;(this.style=b)}function Hd(a,b,c,d){a=sd(a),b=sd(b);var e=new Gd(&quot;range&quot;,c);if(d)for(var f in d)d.hasOwnProperty(f)&amp;&amp;(e[f]=d[f]);var g=a.line;return Ib.iter(g,b.line+1,function(c){var d={from:g==a.line?a.ch:null,to:g==b.line?b.ch:null,marker:e};c.markedSpans=(c.markedSpans||[]).concat([d]),e.lines.push(c),++g}),Wb.push({from:a.line,to:b.line+1}),e}function Id(a){a=sd(a);var b=new Gd(&quot;bookmark&quot;),c=qc(a.line);jc.addChange(a.line,1,[N(c.text,c.markedSpans)],!0);var d={from:a.ch,to:a.ch,marker:b};return c.markedSpans=(c.markedSpans||[]).concat([d]),b.lines.push(c),b}function Jd(a){a=sd(a);var b=[],c=qc(a.line).markedSpans;if(c)for(var d=0;c.length&gt;d;++d){var e=c[d];(null==e.from||e.from&lt;=a.ch)&amp;&amp;(null==e.to||e.to&gt;=a.ch)&amp;&amp;b.push(e.marker)}return b}function Kd(a,b,c){return&quot;number&quot;==typeof a&amp;&amp;(a=qc(rd(a))),a.gutterMarker={text:b,style:c},Zb=!0,a}function Ld(a){&quot;number&quot;==typeof a&amp;&amp;(a=qc(rd(a))),a.gutterMarker=null,Zb=!0}function Md(a,b){var c=a,d=a;return&quot;number&quot;==typeof a?d=qc(rd(a)):c=V(a),null==c?null:b(d,c)?(Wb.push({from:c,to:c+1}),d):null}function Nd(a,b,c){return Md(a,function(a){return a.className!=b||a.bgClassName!=c?(a.className=b,a.bgClassName=c,!0):void 0})}function Od(a,b){return Md(a,function(a,c){if(a.hidden!=b){a.hidden=b,f.lineWrapping||(b&amp;&amp;a.text.length==ec.text.length?fc=!0:!b&amp;&amp;a.text.length&gt;ec.text.length&amp;&amp;(ec=a,fc=!1)),rc(a,b?0:1);var d=Lb.from.line,e=Lb.to.line;if(b&amp;&amp;(d==c||e==c)){var g=d==c?pd({line:d,ch:0},d,0):Lb.from,h=e==c?pd({line:e,ch:0},e,0):Lb.to;if(!h)return;od(g,h)}return Zb=!0}})}function Pd(a){if(&quot;number&quot;==typeof a){if(!oc(a))return null;var b=a;if(a=qc(a),!a)return null}else{var b=V(a);if(null==b)return null}var c=a.gutterMarker;return{line:b,handle:a,text:a.text,markerText:c&amp;&amp;c.text,markerClass:c&amp;&amp;c.style,lineClass:a.className,bgClass:a.bgClassName}}function Qd(a,b){if(0==b)return{top:0,left:0};var c=sc(a,b);xb(P,c);var d=c.anchor,e=d.offsetTop,f=d.offsetLeft;if(p&amp;&amp;0==e&amp;&amp;0==f){var g=vb(&quot;span&quot;,&quot;x&quot;);d.parentNode.insertBefore(g,d.nextSibling),e=g.offsetTop}return{top:e,left:f}}function Rd(a,b){var c,d=Xd(),e=d*(X(Ib,a.line)-(b?_b:0));if(0==a.ch)c=0;else{var g=Qd(qc(a.line),a.ch);c=g.left,f.lineWrapping&amp;&amp;(e+=Math.max(0,g.top))}return{x:c,y:e,yBot:e+d}}function Sd(a,b){function m(a){var b=Qd(h,a);if(j){var d=Math.round(b.top/c);return l=d!=k,Math.max(0,b.left+(d-k)*lb.clientWidth)}return b.left}var c=Xd(),d=$d(),e=_b+Math.floor(b/c);if(0&gt;e)return{line:0,ch:0};var g=W(Ib,e);if(g&gt;=Ib.size)return{line:Ib.size-1,ch:qc(Ib.size-1).text.length};var h=qc(g),i=h.text,j=f.lineWrapping,k=j?e-X(Ib,g):0;if(0&gt;=a&amp;&amp;0==k)return{line:g,ch:0};for(var q,l=!1,n=0,o=0,p=i.length,r=Math.min(p,Math.ceil((a+.9*k*lb.clientWidth)/d));;){var s=m(r);if(!(a&gt;=s&amp;&amp;p&gt;r)){q=s,p=r;break}r=Math.min(p,Math.ceil(1.2*r))}if(a&gt;q)return{line:g,ch:p};for(r=Math.floor(.8*p),s=m(r),a&gt;s&amp;&amp;(n=r,o=s);;){if(1&gt;=p-n){var t=q-a&gt;a-o;return{line:g,ch:t?n:p,after:t}}var u=Math.ceil((n+p)/2),v=m(u);v&gt;a?(p=u,q=v,l&amp;&amp;(q+=1e3)):(n=u,o=v)}}function Td(a){var b=Rd(a,!0),c=mb(Q);return{x:c.left+b.x,y:c.top+b.y,yBot:c.top+b.yBot}}function Xd(){if(null==Wd){Wd=vb(&quot;pre&quot;);for(var a=0;49&gt;a;++a)Wd.appendChild(document.createTextNode(&quot;x&quot;)),Wd.appendChild(vb(&quot;br&quot;));Wd.appendChild(document.createTextNode(&quot;x&quot;))}var b=F.clientHeight;return b==Vd?Ud:(Vd=b,xb(P,Wd.cloneNode(!0)),Ud=P.firstChild.offsetHeight/50||1,wb(P),Ud)}function $d(){if(lb.clientWidth==Zd)return Yd;Zd=lb.clientWidth;var a=vb(&quot;span&quot;,&quot;x&quot;),b=vb(&quot;pre&quot;,[a]);return xb(P,b),Yd=a.offsetWidth||10}function _d(){return Q.offsetTop}function ae(){return Q.offsetLeft}function be(a,b){var d,e,c=mb(lb,!0);try{d=a.clientX,e=a.clientY}catch(a){return null}if(!b&amp;&amp;(d-c.left&gt;lb.clientWidth||e-c.top&gt;lb.clientHeight))return null;var f=mb(Q,!0);return Sd(d-f.left,e-f.top)}function de(a){function e(){if(x.style.position=&quot;relative&quot;,v.style.cssText=d,r&amp;&amp;(E.scrollTop=c),Yc(),null!=v.selectionStart){clearTimeout(ce);var a=v.value=&quot; &quot;+(sb(Lb.from,Lb.to)?&quot;&quot;:v.value),b=0;$c=&quot; &quot;,v.selectionStart=1,v.selectionEnd=a.length,ce=setTimeout(function e(){&quot; &quot;==$c&amp;&amp;0==v.selectionStart?oe(j.selectAll)(pc):10&gt;b++?ce=setTimeout(e,500):ad()},200)}}var b=be(a),c=E.scrollTop;if(b&amp;&amp;!w){(sb(Lb.from,Lb.to)||tb(b,Lb.from)||!tb(b,Lb.to))&amp;&amp;oe(qd)(b.line,b.ch);var d=v.style.cssText;if(x.style.position=&quot;absolute&quot;,v.style.cssText=&quot;position: fixed; width: 30px; height: 30px; top: &quot;+(a.clientY-5)+&quot;px; left: &quot;+(a.clientX-5)+&quot;px; z-index: 1000; background: white; &quot;+&quot;border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);&quot;,bd(),ad(!0),sb(Lb.from,Lb.to)&amp;&amp;(v.value=$c=&quot; &quot;),o){bb(a);var f=fb(window,&quot;mouseup&quot;,function(){f(),setTimeout(e,20)},!0)}else setTimeout(e,50)}}function ee(){clearInterval(Gb);var a=!0;J.style.visibility=&quot;&quot;,Gb=setInterval(function(){J.style.visibility=(a=!a)?&quot;&quot;:&quot;hidden&quot;},f.cursorBlinkRate)}function ge(a){function p(a,b,c){if(a.text)for(var f,d=a.styles,e=g?0:a.text.length-1,i=g?0:d.length-2,j=g?d.length:-2;i!=j;i+=2*h){var k=d[i];if(d[i+1]==m){for(var l=g?0:k.length-1,p=g?k.length:-1;l!=p;l+=h,e+=h)if(e&gt;=b&amp;&amp;c&gt;e&amp;&amp;o.test(f=k.charAt(l))){var q=fe[f];if(&quot;&gt;&quot;==q.charAt(1)==g)n.push(f);else{if(n.pop()!=q.charAt(0))return{pos:e,match:!1};if(!n.length)return{pos:e,match:!0}}}}else e+=h*k.length}}var b=Lb.inverted?Lb.from:Lb.to,c=qc(b.line),d=b.ch-1,e=d&gt;=0&amp;&amp;fe[c.text.charAt(d)]||fe[c.text.charAt(++d)];if(e){for(var g=(e.charAt(0),&quot;&gt;&quot;==e.charAt(1)),h=g?1:-1,i=c.styles,j=d+1,k=0,l=i.length;l&gt;k;k+=2)if(0&gt;=(j-=i[k].length)){var m=i[k+1];break}for(var n=[c.text.charAt(d)],o=/[(){}[\]]/,k=b.line,l=g?Math.min(k+100,Ib.size):Math.max(-1,k-100);k!=l;k+=h){var c=qc(k),q=k==b.line,r=p(c,q&amp;&amp;g?d+1:0,q&amp;&amp;!g?d:c.text.length);if(r)break}r||(r={pos:null,match:!1});var m=r.match?&quot;CodeMirror-matchingbracket&quot;:&quot;CodeMirror-nonmatchingbracket&quot;,s=Hd({line:b.line,ch:d},{line:b.line,ch:d+1},m),t=null!=r.pos&amp;&amp;Hd({line:k,ch:r.pos},{line:k,ch:r.pos+1},m),u=oe(function(){s.clear(),t&amp;&amp;t.clear()});a?setTimeout(u,800):dc=u}}function he(a){for(var b,c,d=a,e=a-40;d&gt;e;--d){if(0==d)return 0;var g=qc(d-1);if(g.stateAfter)return d;var h=g.indentation(f.tabSize);(null==c||b&gt;h)&amp;&amp;(c=d-1,b=h)}return c}function ie(a){var b=he(a),c=b&amp;&amp;qc(b-1).stateAfter;return c=c?C(Hb,c):D(Hb),Ib.iter(b,a,function(d){d.process(Hb,c,f.tabSize),d.stateAfter=b==a-1||0==b%5?C(Hb,c):null}),c}function je(){if(!(Jb&gt;=bc)){var a=+new Date+f.workTime,b=C(Hb,ie(Jb)),c=Jb;Ib.iter(Jb,bc,function(c){return Jb&gt;=ac?(c.highlight(Hb,b,f.tabSize),c.stateAfter=C(Hb,b)):(c.process(Hb,b,f.tabSize),c.stateAfter=0==Jb%5?C(Hb,b):null),++Jb,+new Date&gt;a?(ke(f.workDelay),!0):void 0}),bc&gt;c&amp;&amp;Jb&gt;=ac&amp;&amp;oe(function(){Wb.push({from:c,to:Jb})})()}}function ke(a){bc&gt;Jb&amp;&amp;Bb.set(a,je)}function le(){Ub=Vb=Xb=null,Wb=[],Yb=!1,$b=[]}function me(){if(fc&amp;&amp;Sc(),gc&amp;&amp;!f.lineWrapping){var a=O.offsetWidth,b=Qd(ec,ec.text.length).left;q||(O.style.left=b+&quot;px&quot;,Q.style.minWidth=b+a+&quot;px&quot;),gc=!1}var c,d;if(Yb){var e=dd();c=fd(e.x,e.y,e.x,e.yBot)}(Wb.length||c&amp;&amp;null!=c.scrollTop)&amp;&amp;(d=hd(Wb,!0,c&amp;&amp;c.scrollTop)),d||(Yb&amp;&amp;ld(),Zb&amp;&amp;kd()),c&amp;&amp;cd(),Yb&amp;&amp;ee(),Kb&amp;&amp;(Ub===!0||Ub!==!1&amp;&amp;Yb)&amp;&amp;ad(Vb),Yb&amp;&amp;f.matchBrackets&amp;&amp;setTimeout(oe(function(){dc&amp;&amp;(dc(),dc=null),sb(Lb.from,Lb.to)&amp;&amp;ge(!1)}),20);var g=Yb,h=$b;Xb&amp;&amp;f.onChange&amp;&amp;pc&amp;&amp;f.onChange(pc,Xb),g&amp;&amp;f.onCursorActivity&amp;&amp;f.onCursorActivity(pc);for(var i=0;h.length&gt;i;++i)h[i](pc);d&amp;&amp;f.onUpdate&amp;&amp;f.onUpdate(pc)}function oe(a){return function(){ne++||le();try{var b=a.apply(this,arguments)}finally{--ne||me()}return b}}function pe(a){jc.startCompound();try{return a()}finally{jc.endCompound()}}var f={},i=a.defaults;for(var u in i)i.hasOwnProperty(u)&amp;&amp;(f[u]=(e&amp;&amp;e.hasOwnProperty(u)?e:i)[u]);var v=vb(&quot;textarea&quot;,null,null,&quot;position: absolute; padding: 0; width: 1px; height: 1em&quot;);v.setAttribute(&quot;wrap&quot;,&quot;off&quot;),v.setAttribute(&quot;autocorrect&quot;,&quot;off&quot;),v.setAttribute(&quot;autocapitalize&quot;,&quot;off&quot;);var x=vb(&quot;div&quot;,[v],null,&quot;overflow: hidden; position: relative; width: 3px; height: 0px;&quot;),A=vb(&quot;div&quot;,null,&quot;CodeMirror-scrollbar-inner&quot;),E=vb(&quot;div&quot;,[A],&quot;CodeMirror-scrollbar&quot;),F=vb(&quot;div&quot;),I=vb(&quot;div&quot;,null,null,&quot;position: relative; z-index: -1&quot;),J=vb(&quot;pre&quot;,&quot; &quot;,&quot;CodeMirror-cursor&quot;),O=vb(&quot;pre&quot;,&quot; &quot;,&quot;CodeMirror-cursor&quot;,&quot;visibility: hidden&quot;),P=vb(&quot;div&quot;,null,null,&quot;position: absolute; width: 100%; height: 0px; overflow: hidden; visibility: hidden;&quot;),Q=vb(&quot;div&quot;,[P,J,O,I,F],null,&quot;position: relative; z-index: 0&quot;),Z=vb(&quot;div&quot;,null,&quot;CodeMirror-gutter-text&quot;),ab=vb(&quot;div&quot;,[Z],&quot;CodeMirror-gutter&quot;),jb=vb(&quot;div&quot;,[ab,vb(&quot;div&quot;,[Q],&quot;CodeMirror-lines&quot;)],null,&quot;position: relative&quot;),kb=vb(&quot;div&quot;,[jb],null,&quot;position: relative&quot;),lb=vb(&quot;div&quot;,[kb],&quot;CodeMirror-scroll&quot;);lb.setAttribute(&quot;tabIndex&quot;,&quot;-1&quot;);var ob=vb(&quot;div&quot;,[x,E,lb],&quot;CodeMirror&quot;+(f.lineWrapping?&quot; CodeMirror-wrap&quot;:&quot;&quot;));d.appendChild?d.appendChild(ob):d(ob),Ed(),Fd(),b&amp;&amp;(v.style.width=&quot;0px&quot;),t||(lb.draggable=!0),Q.style.outline=&quot;none&quot;,null!=f.tabindex&amp;&amp;(v.tabIndex=f.tabindex),f.autofocus&amp;&amp;bd(),f.gutter||f.lineNumbers||(ab.style.display=&quot;none&quot;),y&amp;&amp;(x.style.height=&quot;1px&quot;,x.style.position=&quot;absolute&quot;),z?(E.style.zIndex=-2,E.style.visibility=&quot;hidden&quot;):q&amp;&amp;(E.style.minWidth=&quot;18px&quot;);var Gb,Hb,Kb,yb=new gb,Bb=new gb,Ib=new T([new S([new R(&quot;&quot;)])]),Jb=0;Bd();var Mb,Nb,Ob,Qb,Ub,Vb,Wb,Xb,Yb,Zb,$b,dc,Lb={from:{line:0,ch:0},to:{line:0,ch:0},inverted:!1},Pb=0,Rb=!1,Sb=!1,Tb=!1,_b=0,ac=0,bc=0,cc=0,ec=qc(0),fc=!1,gc=!0,hc=!1,ic=null;oe(function(){tc(f.value||&quot;&quot;),Ub=!1})();var jc=new Y;fb(lb,&quot;mousedown&quot;,oe(xc)),fb(lb,&quot;dblclick&quot;,oe(yc)),fb(Q,&quot;selectstart&quot;,_),o||fb(lb,&quot;contextmenu&quot;,de),fb(lb,&quot;scroll&quot;,wc),fb(E,&quot;scroll&quot;,vc),fb(E,&quot;mousedown&quot;,function(){Kb&amp;&amp;setTimeout(bd,0)});var kc=fb(window,&quot;resize&quot;,function(){ob.parentNode?hd(!0):kc()},!0);fb(v,&quot;keyup&quot;,oe(Ic)),fb(v,&quot;input&quot;,Zc),fb(v,&quot;keydown&quot;,oe(Gc)),fb(v,&quot;keypress&quot;,oe(Hc)),fb(v,&quot;focus&quot;,Jc),fb(v,&quot;blur&quot;,Kc),f.dragDrop&amp;&amp;(fb(lb,&quot;dragstart&quot;,Ac),fb(lb,&quot;dragenter&quot;,lc),fb(lb,&quot;dragover&quot;,lc),fb(lb,&quot;drop&quot;,oe(zc))),fb(lb,&quot;paste&quot;,function(){bd(),Zc()}),fb(v,&quot;paste&quot;,function(){Tb=!0,Zc()}),fb(v,&quot;cut&quot;,oe(function(){f.readOnly||Uc(&quot;&quot;)})),y&amp;&amp;fb(kb,&quot;mouseup&quot;,function(){document.activeElement==v&amp;&amp;v.blur(),bd()});var mc;try{mc=document.activeElement==v}catch(nc){}mc||f.autofocus?setTimeout(Jc,20):Kc();var Cc,pc=ob.CodeMirror={getValue:uc,setValue:oe(tc),getSelection:Xc,replaceSelection:oe(Uc),focus:function(){window.focus(),bd(),Jc(),Zc()},setOption:function(a,b){var c=f[a];f[a]=b,&quot;mode&quot;==a||&quot;indentUnit&quot;==a?Bd():&quot;readOnly&quot;==a&amp;&amp;&quot;nocursor&quot;==b?(Kc(),v.blur()):&quot;readOnly&quot;!=a||b?&quot;theme&quot;==a?Ed():&quot;lineWrapping&quot;==a&amp;&amp;c!=b?oe(Dd)():&quot;tabSize&quot;==a?hd(!0):&quot;keyMap&quot;==a?Fd():&quot;tabindex&quot;==a?v.tabIndex=b:&quot;showCursorWhenSelecting&quot;==a&amp;&amp;ld():ad(!0),(&quot;lineNumbers&quot;==a||&quot;gutter&quot;==a||&quot;firstLineNumber&quot;==a||&quot;theme&quot;==a||&quot;lineNumberFormatter&quot;==a)&amp;&amp;(Cd(),hd(!0))},getOption:function(a){return f[a]},getMode:function(){return Hb},undo:oe(Nc),redo:oe(Oc),indentLine:oe(function(a,b){&quot;string&quot;!=typeof b&amp;&amp;(b=null==b?f.smartIndent?&quot;smart&quot;:&quot;prev&quot;:b?&quot;add&quot;:&quot;subtract&quot;),oc(a)&amp;&amp;Ad(a,b)}),indentSelection:oe(zd),historySize:function(){return{undo:jc.done.length,redo:jc.undone.length}},clearHistory:function(){jc=new Y},setHistory:function(a){jc=new Y,jc.done=a.done,jc.undone=a.undone},getHistory:function(){function a(a){for(var d,b=0,c=[];a.length&gt;b;++b){c.push(d=[]);for(var e=0,f=a[b];f.length&gt;e;++e){var g=[],h=f[e];d.push({start:h.start,added:h.added,old:g});for(var i=0;h.old.length&gt;i;++i)g.push(L(h.old[i]))}}return c}return{done:a(jc.done),undone:a(jc.undone)}},matchBrackets:oe(function(){ge(!0)}),getTokenAt:oe(function(a){return a=sd(a),qc(a.line).getTokenAt(Hb,ie(a.line),f.tabSize,a.ch)}),getStateAfter:function(a){return a=rd(null==a?Ib.size-1:a),ie(a+1)},cursorCoords:function(a,b){return null==a&amp;&amp;(a=Lb.inverted),this.charCoords(a?Lb.from:Lb.to,b)},charCoords:function(a,b){return a=sd(a),&quot;local&quot;==b?Rd(a,!1):&quot;div&quot;==b?Rd(a,!0):Td(a)},coordsChar:function(a){var b=mb(Q);return Sd(a.x-b.left,a.y-b.top)},defaultTextHeight:function(){return Xd()},markText:oe(Hd),setBookmark:Id,findMarksAt:Jd,setMarker:oe(Kd),clearMarker:oe(Ld),setLineClass:oe(Nd),hideLine:oe(function(a){return Od(a,!0)}),showLine:oe(function(a){return Od(a,!1)}),onDeleteLine:function(a,b){if(&quot;number&quot;==typeof a){if(!oc(a))return null;a=qc(a)}return(a.handlers||(a.handlers=[])).push(b),a},lineInfo:Pd,getViewport:function(){return{from:ac,to:bc}},addWidget:function(a,b,c,d,e){a=Rd(sd(a));var f=a.yBot,g=a.x;if(b.style.position=&quot;absolute&quot;,kb.appendChild(b),&quot;over&quot;==d)f=a.y;else if(&quot;near&quot;==d){var h=Math.max(lb.offsetHeight,Ib.height*Xd()),i=Math.max(kb.clientWidth,Q.clientWidth)-ae();a.yBot+b.offsetHeight&gt;h&amp;&amp;a.y&gt;b.offsetHeight&amp;&amp;(f=a.y-b.offsetHeight),g+b.offsetWidth&gt;i&amp;&amp;(g=i-b.offsetWidth)}b.style.top=f+_d()+&quot;px&quot;,b.style.left=b.style.right=&quot;&quot;,&quot;right&quot;==e?(g=kb.clientWidth-b.offsetWidth,b.style.right=&quot;0px&quot;):(&quot;left&quot;==e?g=0:&quot;middle&quot;==e&amp;&amp;(g=(kb.clientWidth-b.offsetWidth)/2),b.style.left=g+ae()+&quot;px&quot;),c&amp;&amp;ed(g,f,g+b.offsetWidth,f+b.offsetHeight)
},lineCount:function(){return Ib.size},clipPos:sd,getCursor:function(a){return(null==a||&quot;head&quot;==a)&amp;&amp;(a=Lb.inverted),&quot;anchor&quot;==a&amp;&amp;(a=!Lb.inverted),&quot;end&quot;==a&amp;&amp;(a=!1),ub(a?Lb.from:Lb.to)},somethingSelected:function(){return!sb(Lb.from,Lb.to)},setCursor:oe(function(a,b,c){null==b&amp;&amp;&quot;number&quot;==typeof a.line?qd(a.line,a.ch,c):qd(a,b,c)}),setSelection:oe(function(a,b,c){(c?nd:od)(sd(a),sd(b||a))}),getLine:function(a){return oc(a)?qc(a).text:void 0},getLineHandle:function(a){return oc(a)?qc(a):void 0},setLine:oe(function(a,b){oc(a)&amp;&amp;Tc(b,{line:a,ch:0},{line:a,ch:qc(a).text.length})}),removeLine:oe(function(a){oc(a)&amp;&amp;Tc(&quot;&quot;,{line:a,ch:0},sd({line:a+1,ch:0}))}),replaceRange:oe(Tc),getRange:function(a,b,c){return Wc(sd(a),sd(b),c)},triggerOnKeyDown:oe(Gc),execCommand:function(a){return j[a](pc)},moveH:oe(ud),deleteH:oe(vd),moveV:oe(wd),toggleOverwrite:function(){Rb?(Rb=!1,J.className=J.className.replace(&quot; CodeMirror-overwrite&quot;,&quot;&quot;)):(Rb=!0,J.className+=&quot; CodeMirror-overwrite&quot;)},posFromIndex:function(a){var c,b=0;return Ib.iter(0,Ib.size,function(d){var e=d.text.length+1;return e&gt;a?(c=a,!0):(a-=e,++b,void 0)}),sd({line:b,ch:c})},indexFromPos:function(a){if(0&gt;a.line||0&gt;a.ch)return 0;var b=a.ch;return Ib.iter(0,a.line,function(a){b+=a.text.length+1}),b},scrollTo:function(a,b){null!=a&amp;&amp;(lb.scrollLeft=a),null!=b&amp;&amp;(E.scrollTop=lb.scrollTop=b),hd([])},getScrollInfo:function(){return{x:lb.scrollLeft,y:E.scrollTop,height:E.scrollHeight,width:lb.scrollWidth}},scrollIntoView:function(a){var b=Rd(a?sd(a):Lb.inverted?Lb.from:Lb.to);ed(b.x,b.y,b.x,b.yBot)},setSize:function(a,b){function c(a){return a+=&quot;&quot;,/^\d+$/.test(a)?a+&quot;px&quot;:a}null!=a&amp;&amp;(ob.style.width=c(a)),null!=b&amp;&amp;(lb.style.height=c(b)),pc.refresh()},operation:function(a){return oe(a)()},compoundChange:function(a){return pe(a)},refresh:function(){hd(!0,null,Pb),E.scrollHeight&gt;Pb&amp;&amp;(E.scrollTop=Pb)},getInputField:function(){return v},getWrapperElement:function(){return ob},getScrollerElement:function(){return lb},getGutterElement:function(){return ab}},Fc=null,$c=&quot;&quot;;Gd.prototype.clear=oe(function(){for(var a,b,c=0;this.lines.length&gt;c;++c){var d=this.lines[c],e=G(d.markedSpans,this);null!=e.from&amp;&amp;(a=V(d)),null!=e.to&amp;&amp;(b=V(d)),d.markedSpans=H(d.markedSpans,e)}null!=a&amp;&amp;Wb.push({from:a,to:b+1}),this.lines.length=0,this.explicitlyCleared=!0}),Gd.prototype.find=function(){for(var a,b,c=0;this.lines.length&gt;c;++c){var d=this.lines[c],e=G(d.markedSpans,this);if(null!=e.from||null!=e.to){var f=V(d);null!=e.from&amp;&amp;(a={line:f,ch:e.from}),null!=e.to&amp;&amp;(b={line:f,ch:e.to})}}return&quot;bookmark&quot;==this.type?a:a&amp;&amp;{from:a,to:b}};var Ud,Vd,Wd,Yd,ce,Zd=0,fe={&quot;(&quot;:&quot;)&gt;&quot;,&quot;)&quot;:&quot;(&lt;&quot;,&quot;[&quot;:&quot;]&gt;&quot;,&quot;]&quot;:&quot;[&lt;&quot;,&quot;{&quot;:&quot;}&gt;&quot;,&quot;}&quot;:&quot;{&lt;&quot;},ne=0;for(var qe in g)g.propertyIsEnumerable(qe)&amp;&amp;!pc.propertyIsEnumerable(qe)&amp;&amp;(pc[qe]=g[qe]);for(var re=0;h.length&gt;re;++re)h[re](pc);return pc}function l(a){return&quot;string&quot;==typeof a?k[a]:a}function m(a,b,c,d,e){function f(b){b=l(b);var c=b[a];if(c===!1)return e&amp;&amp;e(),!0;if(null!=c&amp;&amp;d(c))return!0;if(b.nofallthrough)return e&amp;&amp;e(),!0;var g=b.fallthrough;if(null==g)return!1;if(&quot;[object Array]&quot;!=Object.prototype.toString.call(g))return f(g);for(var h=0,i=g.length;i&gt;h;++h)if(f(g[h]))return!0;return!1}return b&amp;&amp;f(b)?!0:f(c)}function n(a){var b=Fb[eb(a,&quot;keyCode&quot;)];return&quot;Ctrl&quot;==b||&quot;Alt&quot;==b||&quot;Shift&quot;==b||&quot;Mod&quot;==b}function C(a,b){if(b===!0)return b;if(a.copyState)return a.copyState(b);var c={};for(var d in b){var e=b[d];e instanceof Array&amp;&amp;(e=e.concat([])),c[d]=e}return c}function D(a,b,c){return a.startState?a.startState(b,c):!0}function E(a,b){this.pos=this.start=0,this.string=a,this.tabSize=b||8}function G(a,b){if(a)for(var c=0;a.length&gt;c;++c){var d=a[c];if(d.marker==b)return d}}function H(a,b){for(var c,d=0;a.length&gt;d;++d)a[d]!=b&amp;&amp;(c||(c=[])).push(a[d]);return c}function I(a,b,c){if(a)for(var e,d=0;a.length&gt;d;++d){var f=a[d],g=f.marker,h=null==f.from||(g.inclusiveLeft?b&gt;=f.from:b&gt;f.from);if(h||&quot;bookmark&quot;==g.type&amp;&amp;f.from==b&amp;&amp;f.from!=c){var i=null==f.to||(g.inclusiveRight?f.to&gt;=b:f.to&gt;b);(e||(e=[])).push({from:f.from,to:i?null:f.to,marker:g})}}return e}function J(a,b){if(a)for(var d,c=0;a.length&gt;c;++c){var e=a[c],f=e.marker,g=null==e.to||(f.inclusiveRight?e.to&gt;=b:e.to&gt;b);if(g||&quot;bookmark&quot;==f.type&amp;&amp;e.from==b){var h=null==e.from||(f.inclusiveLeft?b&gt;=e.from:b&gt;e.from);(d||(d=[])).push({from:h?null:e.from-b,to:null==e.to?null:e.to-b,marker:f})}}return d}function K(a,b,c,d,e){if(!a&amp;&amp;!b)return e;var f=I(a,c),g=J(b,d),h=1==e.length,i=qb(e).length+(h?c:0);if(f)for(var j=0;f.length&gt;j;++j){var k=f[j];if(null==k.to){var l=G(g,k.marker);l?h&amp;&amp;(k.to=null==l.to?null:l.to+i):k.to=c}}if(g)for(var j=0;g.length&gt;j;++j){var k=g[j];if(null!=k.to&amp;&amp;(k.to+=i),null==k.from){var l=G(f,k.marker);l||(k.from=i,h&amp;&amp;(f||(f=[])).push(k))}else k.from+=i,h&amp;&amp;(f||(f=[])).push(k)}var m=[N(e[0],f)];if(!h){var o,n=e.length-2;if(n&gt;0&amp;&amp;f)for(var j=0;f.length&gt;j;++j)null==f[j].to&amp;&amp;(o||(o=[])).push({from:null,to:null,marker:f[j].marker});for(var j=0;n&gt;j;++j)m.push(N(e[j+1],o));m.push(N(qb(e),g))}return m}function L(a){return&quot;string&quot;==typeof a?a:a.text}function M(a){if(&quot;string&quot;==typeof a)return null;for(var b=a.markedSpans,c=null,d=0;b.length&gt;d;++d)b[d].marker.explicitlyCleared?c||(c=b.slice(0,d)):c&amp;&amp;c.push(b[d]);return c?c.length?c:null:b}function N(a,b){return b?{text:a,markedSpans:b}:a}function O(a){var b=a.markedSpans;if(b){for(var c=0;b.length&gt;c;++c){var d=b[c].marker.lines,e=Ab(d,a);d.splice(e,1)}a.markedSpans=null}}function P(a,b){if(b){for(var c=0;b.length&gt;c;++c)b[c].marker.lines.push(a);a.markedSpans=b}}function R(a,b){this.text=a,this.height=1,P(this,b)}function S(a){this.lines=a,this.parent=null;for(var b=0,c=a.length,d=0;c&gt;b;++b)a[b].parent=this,d+=a[b].height;this.height=d}function T(a){this.children=a;for(var b=0,c=0,d=0,e=a.length;e&gt;d;++d){var f=a[d];b+=f.chunkSize(),c+=f.height,f.parent=this}this.size=b,this.height=c,this.parent=null}function U(a,b){for(;!a.lines;)for(var c=0;;++c){var d=a.children[c],e=d.chunkSize();if(e&gt;b){a=d;break}b-=e}return a.lines[b]}function V(a){if(null==a.parent)return null;for(var b=a.parent,c=Ab(b.lines,a),d=b.parent;d;b=d,d=d.parent)for(var e=0;d.children[e]!=b;++e)c+=d.children[e].chunkSize();return c}function W(a,b){var c=0;a:do{for(var d=0,e=a.children.length;e&gt;d;++d){var f=a.children[d],g=f.height;if(g&gt;b){a=f;continue a}b-=g,c+=f.chunkSize()}return c}while(!a.lines);for(var d=0,e=a.lines.length;e&gt;d;++d){var h=a.lines[d],i=h.height;if(i&gt;b)break;b-=i}return c+d}function X(a,b){var c=0;a:do{for(var d=0,e=a.children.length;e&gt;d;++d){var f=a.children[d],g=f.chunkSize();if(g&gt;b){a=f;continue a}b-=g,c+=f.height}return c}while(!a.lines);for(var d=0;b&gt;d;++d)c+=a.lines[d].height;return c}function Y(){this.time=0,this.done=[],this.undone=[],this.compound=0,this.closed=!1}function Z(){bb(this)}function $(a){return a.stop||(a.stop=Z),a}function _(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function ab(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function bb(a){_(a),ab(a)}function cb(a){return a.target||a.srcElement}function db(a){var b=a.which;return null==b&amp;&amp;(1&amp;a.button?b=1:2&amp;a.button?b=3:4&amp;a.button&amp;&amp;(b=2)),c&amp;&amp;a.ctrlKey&amp;&amp;1==b&amp;&amp;(b=3),b}function eb(a,b){var c=a.override&amp;&amp;a.override.hasOwnProperty(b);return c?a.override[b]:a[b]}function fb(a,b,c,d){if(&quot;function&quot;==typeof a.addEventListener){if(a.addEventListener(b,c,!1),d)return function(){a.removeEventListener(b,c,!1)}}else{var e=function(a){c(a||window.event)};if(a.attachEvent(&quot;on&quot;+b,e),d)return function(){a.detachEvent(&quot;on&quot;+b,e)}}}function gb(){this.id=null}function lb(a,b,c){null==b&amp;&amp;(b=a.search(/[^\s\u00a0]/),-1==b&amp;&amp;(b=a.length));for(var d=0,e=0;b&gt;d;++d)&quot;	&quot;==a.charAt(d)?e+=c-e%c:++e;return e}function mb(a,b){try{var c=a.getBoundingClientRect();c={top:c.top,left:c.left}}catch(d){c={top:0,left:0}}if(!b)if(null==window.pageYOffset){var e=document.documentElement||document.body.parentNode;null==e.scrollTop&amp;&amp;(e=document.body),c.top+=e.scrollTop,c.left+=e.scrollLeft}else c.top+=window.pageYOffset,c.left+=window.pageXOffset;return c}function nb(a){return a.textContent||a.innerText||a.nodeValue||&quot;&quot;}function pb(a){for(;a&gt;=ob.length;)ob.push(qb(ob)+&quot; &quot;);return ob[a]}function qb(a){return a[a.length-1]}function rb(a){b?(a.selectionStart=0,a.selectionEnd=a.value.length):a.select()}function sb(a,b){return a.line==b.line&amp;&amp;a.ch==b.ch}function tb(a,b){return a.line&lt;b.line||a.line==b.line&amp;&amp;a.ch&lt;b.ch}function ub(a){return{line:a.line,ch:a.ch}}function vb(a,b,c,d){var e=document.createElement(a);if(c&amp;&amp;(e.className=c),d&amp;&amp;(e.style.cssText=d),&quot;string&quot;==typeof b)yb(e,b);else if(b)for(var f=0;b.length&gt;f;++f)e.appendChild(b[f]);return e}function wb(a){return a.innerHTML=&quot;&quot;,a}function xb(a,b){wb(a).appendChild(b)}function yb(a,b){r?(a.innerHTML=&quot;&quot;,a.appendChild(document.createTextNode(b))):a.textContent=b}function zb(a,b){if(!b)return 0;if(!a)return b.length;for(var c=a.length,d=b.length;c&gt;=0&amp;&amp;d&gt;=0&amp;&amp;a.charAt(c)==b.charAt(d);--c,--d);return d+1}function Ab(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0,d=a.length;d&gt;c;++c)if(a[c]==b)return c;return-1}function Cb(a){return/\w/.test(a)||a&gt;&quot;&quot;&amp;&amp;(a.toUpperCase()!=a.toLowerCase()||Bb.test(a))}a.defaults={value:&quot;&quot;,mode:null,theme:&quot;default&quot;,indentUnit:2,indentWithTabs:!1,smartIndent:!0,tabSize:4,keyMap:&quot;default&quot;,extraKeys:null,electricChars:!0,autoClearEmptyLines:!1,onKeyEvent:null,onDragEvent:null,lineWrapping:!1,lineNumbers:!1,gutter:!1,fixedGutter:!1,firstLineNumber:1,showCursorWhenSelecting:!1,readOnly:!1,dragDrop:!0,onChange:null,onCursorActivity:null,onViewportChange:null,onGutterClick:null,onUpdate:null,onFocus:null,onBlur:null,onScroll:null,matchBrackets:!1,cursorBlinkRate:530,workTime:100,workDelay:200,pollInterval:100,undoDepth:40,tabindex:null,autofocus:null,lineNumberFormatter:function(a){return a}};var b=/AppleWebKit/.test(navigator.userAgent)&amp;&amp;/Mobile\/\w+/.test(navigator.userAgent),c=b||/Mac/.test(navigator.platform);/Win/.test(navigator.platform);var e=a.modes={},f=a.mimeModes={};a.defineMode=function(b,c){if(a.defaults.mode||&quot;null&quot;==b||(a.defaults.mode=b),arguments.length&gt;2){c.dependencies=[];for(var d=2;arguments.length&gt;d;++d)c.dependencies.push(arguments[d])}e[b]=c},a.defineMIME=function(a,b){f[a]=b},a.resolveMode=function(b){if(&quot;string&quot;==typeof b&amp;&amp;f.hasOwnProperty(b))b=f[b];else if(&quot;string&quot;==typeof b&amp;&amp;/^[\w\-]+\/[\w\-]+\+xml$/.test(b))return a.resolveMode(&quot;application/xml&quot;);return&quot;string&quot;==typeof b?{name:b}:b||{name:&quot;null&quot;}},a.getMode=function(b,c){var c=a.resolveMode(c),d=e[c.name];if(!d)return a.getMode(b,&quot;text/plain&quot;);var f=d(b,c);if(i.hasOwnProperty(c.name)){var g=i[c.name];for(var h in g)g.hasOwnProperty(h)&amp;&amp;(f.hasOwnProperty(h)&amp;&amp;(f[&quot;_&quot;+h]=f[h]),f[h]=g[h])}return f.name=c.name,f},a.listModes=function(){var a=[];for(var b in e)e.propertyIsEnumerable(b)&amp;&amp;a.push(b);return a},a.listMIMEs=function(){var a=[];for(var b in f)f.propertyIsEnumerable(b)&amp;&amp;a.push({mime:b,mode:f[b]});return a};var g=a.extensions={};a.defineExtension=function(a,b){g[a]=b};var h=[];a.defineInitHook=function(a){h.push(a)};var i=a.modeExtensions={};a.extendMode=function(a,b){var c=i.hasOwnProperty(a)?i[a]:i[a]={};for(var d in b)b.hasOwnProperty(d)&amp;&amp;(c[d]=b[d])};var j=a.commands={selectAll:function(a){a.setSelection({line:0,ch:0},{line:a.lineCount()-1})},killLine:function(a){var b=a.getCursor(!0),c=a.getCursor(!1),d=!sb(b,c);d||a.getLine(b.line).length!=b.ch?a.replaceRange(&quot;&quot;,b,d?c:{line:b.line}):a.replaceRange(&quot;&quot;,b,{line:b.line+1,ch:0})},deleteLine:function(a){var b=a.getCursor().line;a.replaceRange(&quot;&quot;,{line:b,ch:0},{line:b})},undo:function(a){a.undo()},redo:function(a){a.redo()},goDocStart:function(a){a.setCursor(0,0,!0)},goDocEnd:function(a){a.setSelection({line:a.lineCount()-1},null,!0)},goLineStart:function(a){a.setCursor(a.getCursor().line,0,!0)},goLineStartSmart:function(a){var b=a.getCursor(),c=a.getLine(b.line),d=Math.max(0,c.search(/\S/));a.setCursor(b.line,d&gt;=b.ch&amp;&amp;b.ch?0:d,!0)},goLineEnd:function(a){a.setSelection({line:a.getCursor().line},null,!0)},goLineUp:function(a){a.moveV(-1,&quot;line&quot;)},goLineDown:function(a){a.moveV(1,&quot;line&quot;)},goPageUp:function(a){a.moveV(-1,&quot;page&quot;)},goPageDown:function(a){a.moveV(1,&quot;page&quot;)},goCharLeft:function(a){a.moveH(-1,&quot;char&quot;)},goCharRight:function(a){a.moveH(1,&quot;char&quot;)},goColumnLeft:function(a){a.moveH(-1,&quot;column&quot;)},goColumnRight:function(a){a.moveH(1,&quot;column&quot;)},goWordLeft:function(a){a.moveH(-1,&quot;word&quot;)},goWordRight:function(a){a.moveH(1,&quot;word&quot;)},delCharLeft:function(a){a.deleteH(-1,&quot;char&quot;)},delCharRight:function(a){a.deleteH(1,&quot;char&quot;)},delWordLeft:function(a){a.deleteH(-1,&quot;word&quot;)},delWordRight:function(a){a.deleteH(1,&quot;word&quot;)},indentAuto:function(a){a.indentSelection(&quot;smart&quot;)},indentMore:function(a){a.indentSelection(&quot;add&quot;)},indentLess:function(a){a.indentSelection(&quot;subtract&quot;)},insertTab:function(a){a.replaceSelection(&quot;	&quot;,&quot;end&quot;)},defaultTab:function(a){a.somethingSelected()?a.indentSelection(&quot;add&quot;):a.replaceSelection(&quot;	&quot;,&quot;end&quot;)},transposeChars:function(a){var b=a.getCursor(),c=a.getLine(b.line);b.ch&gt;0&amp;&amp;b.ch&lt;c.length-1&amp;&amp;a.replaceRange(c.charAt(b.ch)+c.charAt(b.ch-1),{line:b.line,ch:b.ch-1},{line:b.line,ch:b.ch+1})},newlineAndIndent:function(a){a.replaceSelection(&quot;\n&quot;,&quot;end&quot;),a.indentLine(a.getCursor().line)},toggleOverwrite:function(a){a.toggleOverwrite()}},k=a.keyMap={};k.basic={Left:&quot;goCharLeft&quot;,Right:&quot;goCharRight&quot;,Up:&quot;goLineUp&quot;,Down:&quot;goLineDown&quot;,End:&quot;goLineEnd&quot;,Home:&quot;goLineStartSmart&quot;,PageUp:&quot;goPageUp&quot;,PageDown:&quot;goPageDown&quot;,Delete:&quot;delCharRight&quot;,Backspace:&quot;delCharLeft&quot;,Tab:&quot;defaultTab&quot;,&quot;Shift-Tab&quot;:&quot;indentAuto&quot;,Enter:&quot;newlineAndIndent&quot;,Insert:&quot;toggleOverwrite&quot;},k.pcDefault={&quot;Ctrl-A&quot;:&quot;selectAll&quot;,&quot;Ctrl-D&quot;:&quot;deleteLine&quot;,&quot;Ctrl-Z&quot;:&quot;undo&quot;,&quot;Shift-Ctrl-Z&quot;:&quot;redo&quot;,&quot;Ctrl-Y&quot;:&quot;redo&quot;,&quot;Ctrl-Home&quot;:&quot;goDocStart&quot;,&quot;Alt-Up&quot;:&quot;goDocStart&quot;,&quot;Ctrl-End&quot;:&quot;goDocEnd&quot;,&quot;Ctrl-Down&quot;:&quot;goDocEnd&quot;,&quot;Ctrl-Left&quot;:&quot;goWordLeft&quot;,&quot;Ctrl-Right&quot;:&quot;goWordRight&quot;,&quot;Alt-Left&quot;:&quot;goLineStart&quot;,&quot;Alt-Right&quot;:&quot;goLineEnd&quot;,&quot;Ctrl-Backspace&quot;:&quot;delWordLeft&quot;,&quot;Ctrl-Delete&quot;:&quot;delWordRight&quot;,&quot;Ctrl-S&quot;:&quot;save&quot;,&quot;Ctrl-F&quot;:&quot;find&quot;,&quot;Ctrl-G&quot;:&quot;findNext&quot;,&quot;Shift-Ctrl-G&quot;:&quot;findPrev&quot;,&quot;Shift-Ctrl-F&quot;:&quot;replace&quot;,&quot;Shift-Ctrl-R&quot;:&quot;replaceAll&quot;,&quot;Ctrl-[&quot;:&quot;indentLess&quot;,&quot;Ctrl-]&quot;:&quot;indentMore&quot;,fallthrough:&quot;basic&quot;},k.macDefault={&quot;Cmd-A&quot;:&quot;selectAll&quot;,&quot;Cmd-D&quot;:&quot;deleteLine&quot;,&quot;Cmd-Z&quot;:&quot;undo&quot;,&quot;Shift-Cmd-Z&quot;:&quot;redo&quot;,&quot;Cmd-Y&quot;:&quot;redo&quot;,&quot;Cmd-Up&quot;:&quot;goDocStart&quot;,&quot;Cmd-End&quot;:&quot;goDocEnd&quot;,&quot;Cmd-Down&quot;:&quot;goDocEnd&quot;,&quot;Alt-Left&quot;:&quot;goWordLeft&quot;,&quot;Alt-Right&quot;:&quot;goWordRight&quot;,&quot;Cmd-Left&quot;:&quot;goLineStart&quot;,&quot;Cmd-Right&quot;:&quot;goLineEnd&quot;,&quot;Alt-Backspace&quot;:&quot;delWordLeft&quot;,&quot;Ctrl-Alt-Backspace&quot;:&quot;delWordRight&quot;,&quot;Alt-Delete&quot;:&quot;delWordRight&quot;,&quot;Cmd-S&quot;:&quot;save&quot;,&quot;Cmd-F&quot;:&quot;find&quot;,&quot;Cmd-G&quot;:&quot;findNext&quot;,&quot;Shift-Cmd-G&quot;:&quot;findPrev&quot;,&quot;Cmd-Alt-F&quot;:&quot;replace&quot;,&quot;Shift-Cmd-Alt-F&quot;:&quot;replaceAll&quot;,&quot;Cmd-[&quot;:&quot;indentLess&quot;,&quot;Cmd-]&quot;:&quot;indentMore&quot;,fallthrough:[&quot;basic&quot;,&quot;emacsy&quot;]},k[&quot;default&quot;]=c?k.macDefault:k.pcDefault,k.emacsy={&quot;Ctrl-F&quot;:&quot;goCharRight&quot;,&quot;Ctrl-B&quot;:&quot;goCharLeft&quot;,&quot;Ctrl-P&quot;:&quot;goLineUp&quot;,&quot;Ctrl-N&quot;:&quot;goLineDown&quot;,&quot;Alt-F&quot;:&quot;goWordRight&quot;,&quot;Alt-B&quot;:&quot;goWordLeft&quot;,&quot;Ctrl-A&quot;:&quot;goLineStart&quot;,&quot;Ctrl-E&quot;:&quot;goLineEnd&quot;,&quot;Ctrl-V&quot;:&quot;goPageDown&quot;,&quot;Shift-Ctrl-V&quot;:&quot;goPageUp&quot;,&quot;Ctrl-D&quot;:&quot;delCharRight&quot;,&quot;Ctrl-H&quot;:&quot;delCharLeft&quot;,&quot;Alt-D&quot;:&quot;delWordRight&quot;,&quot;Alt-Backspace&quot;:&quot;delWordLeft&quot;,&quot;Ctrl-K&quot;:&quot;killLine&quot;,&quot;Ctrl-T&quot;:&quot;transposeChars&quot;},a.isModifierKey=n,a.fromTextArea=function(b,c){function f(){b.value=k.getValue()}if(c||(c={}),c.value=b.value,!c.tabindex&amp;&amp;b.tabindex&amp;&amp;(c.tabindex=b.tabindex),null==c.autofocus){var d=document.body;try{d=document.activeElement}catch(e){}c.autofocus=d==b||null!=b.getAttribute(&quot;autofocus&quot;)&amp;&amp;d==document.body}if(b.form){var g=fb(b.form,&quot;submit&quot;,f,!0),h=b.form,i=h.submit;b.form.submit=function j(){f(),h.submit=i,h.submit(),h.submit=j}}b.style.display=&quot;none&quot;;var k=a(function(a){b.parentNode.insertBefore(a,b.nextSibling)},c);return k.save=f,k.getTextArea=function(){return b},k.toTextArea=function(){f(),b.parentNode.removeChild(k.getWrapperElement()),b.style.display=&quot;&quot;,b.form&amp;&amp;(g(),&quot;function&quot;==typeof b.form.submit&amp;&amp;(b.form.submit=i))},k};var o=/gecko\/\d/i.test(navigator.userAgent),p=/MSIE \d/.test(navigator.userAgent),q=/MSIE [1-7]\b/.test(navigator.userAgent),r=/MSIE [1-8]\b/.test(navigator.userAgent),s=p&amp;&amp;5==document.documentMode,t=/WebKit\//.test(navigator.userAgent),u=t&amp;&amp;/Qt\/\d+\.\d+/.test(navigator.userAgent),v=/Chrome\//.test(navigator.userAgent),w=/Opera\//.test(navigator.userAgent),x=/Apple Computer/.test(navigator.vendor),y=/KHTML\//.test(navigator.userAgent),z=/Mac OS X 10\D([7-9]|\d\d)\D/.test(navigator.userAgent),A=w&amp;&amp;navigator.userAgent.match(/Version\/(\d*\.\d*)/);A&amp;&amp;(A=Number(A[1]));var B=c&amp;&amp;(u||w&amp;&amp;(null==A||12.11&gt;A));a.copyState=C,a.startState=D,a.innerMode=function(a,b){for(;a.innerMode;){var c=a.innerMode(b);b=c.state,a=c.mode}return c||{mode:a,state:b}},E.prototype={eol:function(){return this.pos&gt;=this.string.length},sol:function(){return 0==this.pos},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){return this.pos&lt;this.string.length?this.string.charAt(this.pos++):void 0},eat:function(a){var b=this.string.charAt(this.pos);if(&quot;string&quot;==typeof a)var c=b==a;else var c=b&amp;&amp;(a.test?a.test(b):a(b));return c?(++this.pos,b):void 0},eatWhile:function(a){for(var b=this.pos;this.eat(a););return this.pos&gt;b},eatSpace:function(){for(var a=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos&gt;a},skipToEnd:function(){this.pos=this.string.length},skipTo:function(a){var b=this.string.indexOf(a,this.pos);return b&gt;-1?(this.pos=b,!0):void 0},backUp:function(a){this.pos-=a},column:function(){return lb(this.string,this.start,this.tabSize)},indentation:function(){return lb(this.string,null,this.tabSize)},match:function(a,b,c){if(&quot;string&quot;!=typeof a){var e=this.string.slice(this.pos).match(a);return e&amp;&amp;e.index&gt;0?null:(e&amp;&amp;b!==!1&amp;&amp;(this.pos+=e[0].length),e)}var d=function(a){return c?a.toLowerCase():a};return d(this.string).indexOf(d(a),this.pos)==this.pos?(b!==!1&amp;&amp;(this.pos+=a.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)}},a.StringStream=E;var Q=&quot; &quot;;o||p&amp;&amp;!q?Q=&quot;&quot;:w&amp;&amp;(Q=&quot;&quot;),R.prototype={update:function(a,b){this.text=a,this.stateAfter=this.styles=null,O(this),P(this,b)},highlight:function(a,b,c){var d=new E(this.text,c),e=this.styles||(this.styles=[]),f=e.length=0;for(&quot;&quot;==this.text&amp;&amp;a.blankLine&amp;&amp;a.blankLine(b);!d.eol();){var g=a.token(d,b),h=d.current();if(d.start=d.pos,f&amp;&amp;e[f-1]==g?e[f-2]+=h:h&amp;&amp;(e[f++]=h,e[f++]=g),d.pos&gt;5e3){e[f++]=this.text.slice(d.pos),e[f++]=null;break}}},process:function(a,b,c){var d=new E(this.text,c);for(&quot;&quot;==this.text&amp;&amp;a.blankLine&amp;&amp;a.blankLine(b);!d.eol()&amp;&amp;5e3&gt;=d.pos;)a.token(d,b),d.start=d.pos},getTokenAt:function(a,b,c,d){for(var e=this.text,f=new E(e,c);d&gt;f.pos&amp;&amp;!f.eol();){f.start=f.pos;var g=a.token(f,b)}return{start:f.start,end:f.pos,string:f.current(),className:g||null,state:b}},indentation:function(a){return lb(this.text,null,a)},getContent:function(a,b,c){function h(b,c,g){if(c){if(d&amp;&amp;p&amp;&amp;&quot; &quot;==c.charAt(0)&amp;&amp;(c=&quot; &quot;+c.slice(1)),d=!1,f.test(c))for(var h=document.createDocumentFragment(),i=0;;){f.lastIndex=i;var j=f.exec(c),k=j?j.index-i:c.length-i;if(k&amp;&amp;(h.appendChild(document.createTextNode(c.slice(i,i+k))),e+=k),!j)break;if(i+=k+1,&quot;	&quot;==j[0]){var l=a-e%a;h.appendChild(vb(&quot;span&quot;,pb(l),&quot;cm-tab&quot;)),e+=l}else{var m=vb(&quot;span&quot;,&quot;&quot;,&quot;cm-invalidchar&quot;);m.title=&quot;\\u&quot;+j[0].charCodeAt(0).toString(16),h.appendChild(m),e+=1}}else{e+=c.length;var h=document.createTextNode(c)}g?b.appendChild(vb(&quot;span&quot;,[h],g)):b.appendChild(h)}}function r(a){return a?&quot;cm-&quot;+a.replace(/ +/g,&quot; cm-&quot;):null}var d=!0,e=0,f=/[\t\u0000-\u0019\u200b\u2028\u2029\uFEFF]/g,g=vb(&quot;pre&quot;),i=h;if(null!=b){var j=0,k=g.anchor=vb(&quot;span&quot;);i=function(a,d,e){var f=d.length;if(b&gt;=j&amp;&amp;j+f&gt;b){var g=b-j;if(g&amp;&amp;(h(a,d.slice(0,g),e),c)){var l=d.slice(g-1,g+1);kb.test(l)?a.appendChild(vb(&quot;wbr&quot;)):!q&amp;&amp;/\w\w/.test(l)&amp;&amp;a.appendChild(document.createTextNode(&quot;&quot;))}a.appendChild(k),h(k,w?d.slice(g,g+1):d.slice(g),e),w&amp;&amp;h(a,d.slice(g+1),e),b--,j+=f}else j+=f,h(a,d,e),j==b&amp;&amp;j==o?(yb(k,Q),a.appendChild(k)):j&gt;b+10&amp;&amp;/\s/.test(d)&amp;&amp;(i=function(){})}}var l=this.styles,m=this.text,n=this.markedSpans,o=m.length;if(m||null!=b)if(n&amp;&amp;n.length){n.sort(function(a,b){return a.from-b.from});for(var v,y=0,s=0,z=&quot;&quot;,B=n[0].from||0,C=[],D=0,E=function(){for(var a;n.length&gt;D&amp;&amp;((a=n[D]).from==y||null==a.from);)&quot;range&quot;==a.marker.type&amp;&amp;C.push(a),++D;B=n.length&gt;D?n[D].from:1/0;for(var b=0;C.length&gt;b;++b){var c=C[b].to;null==c&amp;&amp;(c=1/0),c==y?C.splice(b--,1):B=Math.min(c,B)}};o&gt;y;){B==y&amp;&amp;E();for(var G=Math.min(o,B);;){if(z){for(var H=y+z.length,I=v,J=0;C.length&gt;J;++J){var K=C[J];I=(I?I+&quot; &quot;:&quot;&quot;)+K.marker.style,K.marker.endStyle&amp;&amp;K.to===Math.min(H,G)&amp;&amp;(I+=&quot; &quot;+K.marker.endStyle),K.marker.startStyle&amp;&amp;K.from===y&amp;&amp;(I+=&quot; &quot;+K.marker.startStyle)}if(i(g,H&gt;G?z.slice(0,G-y):z,I),H&gt;=G){z=z.slice(G-y),y=G;break}y=H}z=l[s++],v=r(l[s++])}}}else for(var s=0,t=0;o&gt;t;s+=2){var u=l[s],v=l[s+1],x=u.length;t+x&gt;o&amp;&amp;(u=u.slice(0,o-t)),t+=x,i(g,u,r(v))}else i(g,&quot; &quot;);return g},cleanUp:function(){this.parent=null,O(this)}},S.prototype={chunkSize:function(){return this.lines.length},remove:function(a,b,c){for(var d=a,e=a+b;e&gt;d;++d){var f=this.lines[d];if(this.height-=f.height,f.cleanUp(),f.handlers)for(var g=0;f.handlers.length&gt;g;++g)c.push(f.handlers[g])}this.lines.splice(a,b)},collapse:function(a){a.splice.apply(a,[a.length,0].concat(this.lines))},insertHeight:function(a,b,c){this.height+=c,this.lines=this.lines.slice(0,a).concat(b).concat(this.lines.slice(a));for(var d=0,e=b.length;e&gt;d;++d)b[d].parent=this},iterN:function(a,b,c){for(var d=a+b;d&gt;a;++a)if(c(this.lines[a]))return!0}},T.prototype={chunkSize:function(){return this.size},remove:function(a,b,c){this.size-=b;for(var d=0;this.children.length&gt;d;++d){var e=this.children[d],f=e.chunkSize();if(f&gt;a){var g=Math.min(b,f-a),h=e.height;if(e.remove(a,g,c),this.height-=h-e.height,f==g&amp;&amp;(this.children.splice(d--,1),e.parent=null),0==(b-=g))break;a=0}else a-=f}if(25&gt;this.size-b){var i=[];this.collapse(i),this.children=[new S(i)],this.children[0].parent=this}},collapse:function(a){for(var b=0,c=this.children.length;c&gt;b;++b)this.children[b].collapse(a)},insert:function(a,b){for(var c=0,d=0,e=b.length;e&gt;d;++d)c+=b[d].height;this.insertHeight(a,b,c)},insertHeight:function(a,b,c){this.size+=b.length,this.height+=c;for(var d=0,e=this.children.length;e&gt;d;++d){var f=this.children[d],g=f.chunkSize();if(g&gt;=a){if(f.insertHeight(a,b,c),f.lines&amp;&amp;f.lines.length&gt;50){for(;f.lines.length&gt;50;){var h=f.lines.splice(f.lines.length-25,25),i=new S(h);f.height-=i.height,this.children.splice(d+1,0,i),i.parent=this}this.maybeSpill()}break}a-=g}},maybeSpill:function(){if(!(10&gt;=this.children.length)){var a=this;do{var b=a.children.splice(a.children.length-5,5),c=new T(b);if(a.parent){a.size-=c.size,a.height-=c.height;var e=Ab(a.parent.children,a);a.parent.children.splice(e+1,0,c)}else{var d=new T(a.children);d.parent=a,a.children=[d,c],a=d}c.parent=a.parent}while(a.children.length&gt;10);a.parent.maybeSpill()}},iter:function(a,b,c){this.iterN(a,b-a,c)},iterN:function(a,b,c){for(var d=0,e=this.children.length;e&gt;d;++d){var f=this.children[d],g=f.chunkSize();if(g&gt;a){var h=Math.min(b,g-a);if(f.iterN(a,h,c))return!0;if(0==(b-=h))break;a=0}else a-=g}}},Y.prototype={addChange:function(a,b,c){this.undone.length=0;var d=+new Date,e=qb(this.done),f=e&amp;&amp;qb(e),g=d-this.time;if(e&amp;&amp;!this.closed&amp;&amp;this.compound)e.push({start:a,added:b,old:c});else if(g&gt;400||!f||this.closed||f.start&gt;a+c.length||a&gt;f.start+f.added)this.done.push([{start:a,added:b,old:c}]),this.closed=!1;else{for(var h=Math.max(0,f.start-a),i=Math.max(0,a+c.length-(f.start+f.added)),j=h;j&gt;0;--j)f.old.unshift(c[j-1]);for(var j=i;j&gt;0;--j)f.old.push(c[c.length-j]);h&amp;&amp;(f.start=a),f.added+=b-(c.length-h-i)}this.time=d},startCompound:function(){this.compound++||(this.closed=!0)},endCompound:function(){--this.compound||(this.closed=!0)}},a.e_stop=bb,a.e_preventDefault=_,a.e_stopPropagation=ab,a.connect=fb,gb.prototype={set:function(a,b){clearTimeout(this.id),this.id=setTimeout(b,a)}};var hb=a.Pass={toString:function(){return&quot;CodeMirror.Pass&quot;}},ib=function(){if(r)return!1;var a=vb(&quot;div&quot;);return&quot;draggable&quot;in a||&quot;dragDrop&quot;in a}();(function(){var a=vb(&quot;textarea&quot;);return a.value=&quot;foo\nbar&quot;,a.value.indexOf(&quot;\r&quot;)&gt;-1?&quot;\r\n&quot;:&quot;\n&quot;})();var kb=/^$/;o?kb=/$'/:x?kb=/\-[^ \-?]|\?[^ !'\&quot;\),.\-\/:;\?\]\}]/:v&amp;&amp;(kb=/\-[^ \-\.?]|\?[^ \-\.?\]\}:;!'\&quot;\),\/]|[\.!\&quot;#&amp;%\)*+,:;=&gt;\]|\}~][\(\{\[&lt;]|\$'/);var ob=[&quot;&quot;],Bb=/[\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc]/,Db=3!=&quot;\n\nb&quot;.split(/\n/).length?function(a){for(var b=0,c=[],d=a.length;d&gt;=b;){var e=a.indexOf(&quot;\n&quot;,b);-1==e&amp;&amp;(e=a.length);var f=a.slice(b,&quot;\r&quot;==a.charAt(e-1)?e-1:e),g=f.indexOf(&quot;\r&quot;);-1!=g?(c.push(f.slice(0,g)),b+=g+1):(c.push(f),b=e+1)}return c}:function(a){return a.split(/\r\n?|\n/)};a.splitLines=Db;var Eb=window.getSelection?function(a){try{return a.selectionStart!=a.selectionEnd}catch(b){return!1}}:function(a){try{var b=a.ownerDocument.selection.createRange()}catch(c){}return b&amp;&amp;b.parentElement()==a?0!=b.compareEndPoints(&quot;StartToEnd&quot;,b):!1};a.defineMode(&quot;null&quot;,function(){return{token:function(a){a.skipToEnd()}}}),a.defineMIME(&quot;text/plain&quot;,&quot;null&quot;);var Fb={3:&quot;Enter&quot;,8:&quot;Backspace&quot;,9:&quot;Tab&quot;,13:&quot;Enter&quot;,16:&quot;Shift&quot;,17:&quot;Ctrl&quot;,18:&quot;Alt&quot;,19:&quot;Pause&quot;,20:&quot;CapsLock&quot;,27:&quot;Esc&quot;,32:&quot;Space&quot;,33:&quot;PageUp&quot;,34:&quot;PageDown&quot;,35:&quot;End&quot;,36:&quot;Home&quot;,37:&quot;Left&quot;,38:&quot;Up&quot;,39:&quot;Right&quot;,40:&quot;Down&quot;,44:&quot;PrintScrn&quot;,45:&quot;Insert&quot;,46:&quot;Delete&quot;,59:&quot;;&quot;,91:&quot;Mod&quot;,92:&quot;Mod&quot;,93:&quot;Mod&quot;,109:&quot;-&quot;,107:&quot;=&quot;,127:&quot;Delete&quot;,186:&quot;;&quot;,187:&quot;=&quot;,188:&quot;,&quot;,189:&quot;-&quot;,190:&quot;.&quot;,191:&quot;/&quot;,192:&quot;`&quot;,219:&quot;[&quot;,220:&quot;\\&quot;,221:&quot;]&quot;,222:&quot;'&quot;,63276:&quot;PageUp&quot;,63277:&quot;PageDown&quot;,63275:&quot;End&quot;,63273:&quot;Home&quot;,63234:&quot;Left&quot;,63232:&quot;Up&quot;,63235:&quot;Right&quot;,63233:&quot;Down&quot;,63302:&quot;Insert&quot;,63272:&quot;Delete&quot;};return a.keyNames=Fb,function(){for(var a=0;10&gt;a;a++)Fb[a+48]=a+&quot;&quot;;for(var a=65;90&gt;=a;a++)Fb[a]=String.fromCharCode(a);for(var a=1;12&gt;=a;a++)Fb[a+111]=Fb[a+63235]=&quot;F&quot;+a}(),a.version=&quot;2.38 +&quot;,a}();
//}}}</pre>
</div>
<div title="commandLine.js" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405140658" modified="201405150927" tags="excludeTimeline js" content-type="text/x-tiddlywiki" changecount="8">
<pre>/**
 * A small command line editor to demonstrate the math.js parser.
 * @param {Object} params    Configuration parameter. Available:
 *                           {HTMLElement} container DOM Element to contain
 *                                                   the editor
 *                           {Object} [math]         An instance of math.js
 *                           {String} [id]           Optional id for the editor,
 *                                                   used to persist data.
 *                                                   &quot;default&quot; by default.
 */
//{{{
function CommandLineEditor (params) {
  // get instance of math.js from params, or create one
  var math = params.math || mathjs();

  // object with utility methods
  var util = {};

  /**
   * Returns the version of Internet Explorer or a -1
   * (indicating the use of another browser).
   * Source: http://msdn.microsoft.com/en-us/library/ms537509(v=vs.85).aspx
   * @return {Number} Internet Explorer version, or -1 in case of an other browser
   */
  util.getInternetExplorerVersion = function getInternetExplorerVersion () {
    var rv = -1; // Return value assumes failure.
    if (navigator.appName == 'Microsoft Internet Explorer')
    {
      var ua = navigator.userAgent;
      var re  = new RegExp(&quot;MSIE ([0-9]{1,}[\.0-9]{0,})&quot;);
      if (re.exec(ua) != null) {
        rv = parseFloat( RegExp.$1 );
      }
    }
    return rv;
  };

  /**
   * Add and event listener
   * @param {Element}  element       An html element
   * @param {string}   action        The action, for example &quot;click&quot;,
   *                                 without the prefix &quot;on&quot;
   * @param {function}    listener   The callback function to be executed
   */
  util.addEventListener = function addEventListener(element, action, listener) {
    if (element.addEventListener) {
      element.addEventListener(action, listener, false);
    } else {
      element.attachEvent('on' + action, listener);  // IE browsers
    }
  };

  /**
   * Remove an event listener from an element
   * @param {Element}  element   An html dom element
   * @param {string}   action    The name of the event, for example &quot;mousedown&quot;
   * @param {function} listener  The listener function
   */
  util.removeEventListener = function removeEventListener (element, action, listener) {
    if (element.removeEventListener) {
      element.removeEventListener(action, listener, false);
    } else {
      element.detachEvent('on' + action, listener);  // IE browsers
    }
  };

  /**
   * Stop event propagation
   */
  util.stopPropagation = function stopPropagation (event) {
    if (event.stopPropagation) {
      event.stopPropagation();  // non-IE browsers
    }
    else {
      event.cancelBubble = true;  // IE browsers
    }
  };

  /**
   * Cancels the event if it is cancelable, without stopping further propagation of the event.
   */
  util.preventDefault = function preventDefault (event) {
    if (event.preventDefault) {
      event.preventDefault();  // non-IE browsers
    }
    else {
      event.returnValue = false;  // IE browsers
    }
  };

  /**
   * Clear all DOM childs from an element
   * @param {HTMLElement} element
   */
  util.clearDOM = function clearDOM (element) {
    while (element.firstChild) {
      element.removeChild(element.firstChild);
    }
  };

  // read the parameters
  var container = (params &amp;&amp; params.container) ? params.container : undefined;
  if (!container) {
    throw new Error('Required parameter &quot;container&quot; missing in configuration parameters');
  }
  var id = (params &amp;&amp; params.id) ? String(params.id) : 'default';

  // clear the container
  util.clearDOM(container);

  // validate if math.js is loaded.
  var error;
  if (typeof math === 'undefined' || !math.parser) {
    error = document.createElement('div');
    error.appendChild(document.createTextNode(
        'Cannot create parser, math.js not loaded.'));
    error.style.color = 'red';
    container.appendChild(error);
    return;
  }

  // validate browser
  // the editor does not work well on IE7
  // TODO: make the demo working on IE7
  var ieVersion = util.getInternetExplorerVersion();
  if (ieVersion == 6 || ieVersion == 7) {
    error = document.createElement('div');
    error.appendChild(document.createTextNode(
        'Sorry, this demo is not available on IE7 and older. The math.js ' +
            'library itself works fine on every version of IE though.'));
    error.style.color = 'red';
    container.appendChild(error);
    return;
  }

  // define parameters
  var dom = {},
      fullscreen = false,
      history = [],
      historyIndex = -1,
      parser = math.parser();

  function resize() {
    // position the full screen button in the top right
    var top = 8;
    var right = (dom.topPanel.clientWidth - dom.results.clientWidth) + 6;
    dom.fullscreen.style.top = top + 'px';
    dom.fullscreen.style.right = right + 'px';
  }

  function toggleFullscreen() {
    if (fullscreen) {
      exitFullscreen();
    }
    else {
      showFullscreen()
    }
  }

  function showFullscreen() {
    dom.frame.className = 'cle fullscreen';
    document.body.style.overflow = 'hidden'; // (works only if body.style.height is defined)
    fullscreen = true;
    resize();
    scrollDown();
    dom.input.focus();
  }

  function exitFullscreen() {
    dom.frame.className = 'cle';
    document.body.style.overflow = '';
    fullscreen = false;
    resize();
    scrollDown();
  }

  function scrollDown() {
    dom.results.scrollTop = dom.results.scrollHeight;
  }

  // Auto complete current input
  function autoComplete () {
    var name;
    var text = dom.input.value;
    var end = /[a-zA-Z_0-9]+$/.exec(text);
    if (end) {
      var keyword = end[0];
      var matches = [];

      // scope variables
      // TODO: not nice to read the (private) defs inside the scope
      for (var def in parser.scope.defs) {
        if (parser.scope.defs.hasOwnProperty(def)) {
          if (def.indexOf(keyword) == 0) {
            matches.push(def);
          }
        }
      }

      // commandline keywords
      if ('clear'.indexOf(keyword) == 0) {
        matches.push('clear');
      }

      // math functions and constants
      var ignore = ['expr', 'type'];
      for (var func in math) {
        if (math.hasOwnProperty(func)) {
          if (func.indexOf(keyword) == 0 &amp;&amp; ignore.indexOf(func) == -1) {
            matches.push(func);
          }
        }
      }

      // units
      var Unit = math.type.Unit;
      for (name in Unit.UNITS) {
        if (Unit.UNITS.hasOwnProperty(name)) {
          if (name.indexOf(keyword) == 0) {
            matches.push(name);
          }
        }
      }
      for (name in Unit.PREFIXES) {
        if (Unit.PREFIXES.hasOwnProperty(name)) {
          var prefixes = Unit.PREFIXES[name];
          for (var prefix in prefixes) {
            if (prefixes.hasOwnProperty(prefix)) {
              if (prefix.indexOf(keyword) == 0) {
                matches.push(prefix);
              }
              else if (keyword.indexOf(prefix) == 0) {
                var unitKeyword = keyword.substring(prefix.length);

                for (var n in Unit.UNITS) {
                  if (Unit.UNITS.hasOwnProperty(n)) {
                    if (n.indexOf(unitKeyword) == 0 &amp;&amp; Unit.isPlainUnit(prefix + n)) {
                      matches.push(prefix + n);
                    }
                  }
                }
              }
            }
          }
        }
      }

      // TODO: in case of multiple matches, show a drop-down box to select one
      var firstMatch = matches[0];
      if (firstMatch) {
        text = text.substring(0, text.length - keyword.length) + firstMatch;
        dom.input.value = text;
      }
    }
  }

  /**
   * KeyDown event handler to catch global key presses in the window
   * @param {Event} event
   */
/*  function onWindowKeyDown (event) {
    if (dom.frame.parentNode != container) {
      destroy();
    }

    event = event || window.event;
    var target = event.target || event.srcElement;
    var keynum = event.which || event.keyCode;
    if (keynum == 83) { // s
      if (target != dom.input) {
        dom.input.focus();
        util.preventDefault(event);
        util.stopPropagation(event);
      }
    }
    else if (keynum == 27) { // ESC
      if (fullscreen) {
        exitFullscreen();
        util.preventDefault(event);
        util.stopPropagation(event);
      }
    }
    else if (event.ctrlKey &amp;&amp; keynum == 122) { // Ctrl+F11
      toggleFullscreen();
      if (fullscreen) {
        dom.input.focus();
      }
      util.preventDefault(event);
      util.stopPropagation(event);
    }
  }
*/
  /**
   * Resize event handler
   */
  function onWindowResize () {
    if (dom.frame.parentNode != container) {
      destroy();
    }

    resize();
  }

  /**
   * KeyDown handler for the input field
   * @param event
   * @returns {boolean}
   */
  function onKeyDown (event) {
    event = event || window.event;

    var keynum = event.which || event.keyCode;
    switch (keynum) {
      case 9: // Tab
        autoComplete();
        util.preventDefault(event);
        util.stopPropagation(event);
        return false;
        break;

      case 13: // Enter
        evalInput();
        util.preventDefault(event);
        util.stopPropagation(event);
        return false;
        break;

      case 38: // Arrow up
        if (historyIndex &gt; 0) {
          historyIndex--;
          dom.input.value = history[historyIndex] || '';
          util.preventDefault(event);
          util.stopPropagation(event);
        }
        return false;
        break;

      case 40: // Arrow down
        if (historyIndex &lt; history.length) {
          historyIndex++;
          dom.input.value = history[historyIndex] || '';
          util.preventDefault(event);
          util.stopPropagation(event);
        }
        return false;
        break;

      default:
        historyIndex = history.length;
        break;
    }

    return true;
  }

  /**
   * Destroy the editor: cleanup HTML DOM and global event listeners
   */
  function create() {
    // create main frame for the editor
    dom.frame = document.createElement('div');
    dom.frame.className = 'cle';
    container.appendChild(dom.frame);

    // create two panels for the layout
    dom.topPanel = document.createElement('div');
    dom.topPanel.className = 'top-panel';
    dom.frame.appendChild(dom.topPanel);
    dom.bottomPanel = document.createElement('div');
    dom.bottomPanel.className = 'bottom-panel';
    dom.frame.appendChild(dom.bottomPanel);

    // create div to hold the results
    dom.results = document.createElement('div');
    dom.results.className = 'results';
    dom.topPanel.appendChild(dom.results);

    // create fullscreen button
    dom.fullscreen = document.createElement('button');
    dom.fullscreen.className = 'fullscreen';
    dom.fullscreen.title = 'Toggle full screen display (Ctrl+F11)';
    dom.fullscreen.onclick = toggleFullscreen;
    dom.topPanel.appendChild(dom.fullscreen);

    // panels for the input field and button
    dom.inputLeft = document.createElement('div');
    dom.inputLeft.className = 'input-left';
    dom.bottomPanel.appendChild(dom.inputLeft);
    dom.inputRight = document.createElement('div');
    dom.inputRight.className = 'input-right';
    dom.bottomPanel.appendChild(dom.inputRight);

    dom.input = document.createElement('input');
    dom.input.className = 'input';
    dom.input.title = 'Enter an expression';
    dom.input.onkeydown = onKeyDown;
    dom.inputLeft.appendChild(dom.input);

    // create an eval button
    dom.btnEval = document.createElement('button');
    dom.btnEval.appendChild(document.createTextNode('Evaluate'));
    dom.btnEval.className = 'eval';
    dom.btnEval.title = 'Evaluate the expression (Enter)';
    dom.btnEval.onclick = evalInput;
    dom.inputRight.appendChild(dom.btnEval);

    // create global event listeners
  //  util.addEventListener(window, 'keydown', onWindowKeyDown);
    util.addEventListener(window, 'resize', onWindowResize);
  }

  /**
   * Destroy the editor: cleanup HTML DOM and global event listeners
   */
  function destroy() {
    // destroy DOM
    if (dom.frame.parentNode) {
      dom.frame.parentNode.removeChild(dom.frame);
    }

    // destroy event listeners
  //  util.removeEventListener(window, 'keydown', onWindowKeyDown);
    util.removeEventListener(window, 'resize', onWindowResize);
  }

  /**
   * Trim a string
   * http://stackoverflow.com/a/498995/1262753
   * @param str
   * @return {*|void}
   */
  function trim(str) {
    return str.replace(/^\s+|\s+$/g, '');
  }

  /**
   * Load saved expressions or example expressions
   */
  function load() {
    var expressions;
    if (localStorage) {
      // load expressions from local storage
      var data = localStorage[id];
      if (data) {
        expressions = JSON.parse(data);
      }
    }
    if (!expressions || !(expressions instanceof Array)) {
      // load some example expressions
      expressions = [
        '1.2 / (2.3 + 0.7)',
        'a = 5.08 cm + 1 inch',
        'a to inch',
        'sin(45 deg) ^ 2',
        'f(x, y) = x ^ y',
        'f(2, 3)'
      ];
    }

    // evaluate all expressions
    expressions.forEach(function (expr) {
      eval(expr);
    });
  }

  /**
   * Save executed expressions
   */
  function save() {
    if (localStorage) {
      localStorage[id] = JSON.stringify(history);
    }
  }

  function clear() {
    history = [];
    historyIndex = -1;
    parser.clear();

    util.clearDOM(dom.results);
    dom.input.value = '';
    resize();
    // save(); // TODO: save expressions (first we need a method to restore the examples)
  }

  function eval (expr) {
    expr = trim(expr);

    if (expr == 'clear') {
      clear();
      return;
    }

    if (expr) {
      history.push(expr);
      historyIndex = history.length;

      var res;
      try {
        res = math.format(parser.eval(expr), {
          precision: 14
        });
      }
      catch (err) {
        res = err.toString();
      }

      var preExpr = document.createElement('pre');
      preExpr.className = 'expr';
      preExpr.appendChild(document.createTextNode(expr));
      dom.results.appendChild(preExpr);

      var preRes = document.createElement('pre');
      preRes.className = 'res';
      preRes.appendChild(document.createTextNode(res));
      dom.results.appendChild(preRes);

      scrollDown();
      dom.input.value = '';

      resize();
      // save();  // TODO: save expressions (first we need a method to restore the examples)
    }
  }

  function evalInput() {
    eval(dom.input.value);
  }

  create();
  load();
}
//}}}</pre>
</div>
<div title="css" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405150707" tags="Reference excludeTimeline" changecount="2" content-type="">
<pre></pre>
</div>
<div title="css.js" modifier="Christopher Wilson" created="201404120229" modified="201404120234" tags="cmtw excludeTimeline systemConfig excludeLists" changecount="2">
<pre>/***
|''Requires''|codemirror.js|
|''License''|[[codemirror.js]]|
***/

//{{{
CodeMirror.defineMode(&quot;css&quot;,function(e){function t(e){for(var t={},i=0;i&lt;e.length;++i)t[e[i]]=!0;return t}function i(e,t){return s=t,e}function r(e,t){var r=e.next();if(&quot;@&quot;==r)return e.eatWhile(/[\w\\\-]/),i(&quot;def&quot;,e.current());if(&quot;/&quot;==r&amp;&amp;e.eat(&quot;*&quot;))return t.tokenize=a,a(e,t);if(&quot;&lt;&quot;==r&amp;&amp;e.eat(&quot;!&quot;))return t.tokenize=o,o(e,t);if(&quot;=&quot;==r)i(null,&quot;compare&quot;);else{if((&quot;~&quot;==r||&quot;|&quot;==r)&amp;&amp;e.eat(&quot;=&quot;))return i(null,&quot;compare&quot;);if('&quot;'==r||&quot;'&quot;==r)return t.tokenize=n(r),t.tokenize(e,t);if(&quot;#&quot;==r)return e.eatWhile(/[\w\\\-]/),i(&quot;atom&quot;,&quot;hash&quot;);if(&quot;!&quot;==r)return e.match(/^\s*\w*/),i(&quot;keyword&quot;,&quot;important&quot;);if(/\d/.test(r))return e.eatWhile(/[\w.%]/),i(&quot;number&quot;,&quot;unit&quot;);if(&quot;-&quot;!==r)return/[,+&gt;*\/]/.test(r)?i(null,&quot;select-op&quot;):&quot;.&quot;==r&amp;&amp;e.match(/^-?[_a-z][_a-z0-9-]*/i)?i(&quot;qualifier&quot;,s):&quot;:&quot;==r?i(&quot;operator&quot;,r):/[;{}\[\]\(\)]/.test(r)?i(null,r):&quot;u&quot;==r&amp;&amp;e.match(&quot;rl(&quot;)?(e.backUp(1),t.tokenize=l,i(&quot;property&quot;,&quot;variable&quot;)):(e.eatWhile(/[\w\\\-]/),i(&quot;property&quot;,&quot;variable&quot;));if(/\d/.test(e.peek()))return e.eatWhile(/[\w.%]/),i(&quot;number&quot;,&quot;unit&quot;);if(e.match(/^[^-]+-/))return i(&quot;meta&quot;,s)}}function a(e,t){for(var a,o=!1;(a=e.next())!=null;){if(o&amp;&amp;&quot;/&quot;==a){t.tokenize=r;break}o=&quot;*&quot;==a}return i(&quot;comment&quot;,&quot;comment&quot;)}function o(e,t){for(var a,o=0;(a=e.next())!=null;){if(o&gt;=2&amp;&amp;&quot;&gt;&quot;==a){t.tokenize=r;break}o=&quot;-&quot;==a?o+1:0}return i(&quot;comment&quot;,&quot;comment&quot;)}function n(e,t){return function(a,o){for(var n,l=!1;(n=a.next())!=null&amp;&amp;(n!=e||l);)l=!l&amp;&amp;&quot;\\&quot;==n;return l||(t&amp;&amp;a.backUp(1),o.tokenize=r),i(&quot;string&quot;,&quot;string&quot;)}}function l(e,t){return e.next(),t.tokenize=e.match(/\s*[\&quot;\']/,!1)?r:n(&quot;)&quot;,!0),i(null,&quot;(&quot;)}var s,d=e.indentUnit,c=t([&quot;all&quot;,&quot;aural&quot;,&quot;braille&quot;,&quot;handheld&quot;,&quot;print&quot;,&quot;projection&quot;,&quot;screen&quot;,&quot;tty&quot;,&quot;tv&quot;,&quot;embossed&quot;]),u=t([&quot;width&quot;,&quot;min-width&quot;,&quot;max-width&quot;,&quot;height&quot;,&quot;min-height&quot;,&quot;max-height&quot;,&quot;device-width&quot;,&quot;min-device-width&quot;,&quot;max-device-width&quot;,&quot;device-height&quot;,&quot;min-device-height&quot;,&quot;max-device-height&quot;,&quot;aspect-ratio&quot;,&quot;min-aspect-ratio&quot;,&quot;max-aspect-ratio&quot;,&quot;device-aspect-ratio&quot;,&quot;min-device-aspect-ratio&quot;,&quot;max-device-aspect-ratio&quot;,&quot;color&quot;,&quot;min-color&quot;,&quot;max-color&quot;,&quot;color-index&quot;,&quot;min-color-index&quot;,&quot;max-color-index&quot;,&quot;monochrome&quot;,&quot;min-monochrome&quot;,&quot;max-monochrome&quot;,&quot;resolution&quot;,&quot;min-resolution&quot;,&quot;max-resolution&quot;,&quot;scan&quot;,&quot;grid&quot;]),p=t([&quot;align-content&quot;,&quot;align-items&quot;,&quot;align-self&quot;,&quot;alignment-adjust&quot;,&quot;alignment-baseline&quot;,&quot;anchor-point&quot;,&quot;animation&quot;,&quot;animation-delay&quot;,&quot;animation-direction&quot;,&quot;animation-duration&quot;,&quot;animation-iteration-count&quot;,&quot;animation-name&quot;,&quot;animation-play-state&quot;,&quot;animation-timing-function&quot;,&quot;appearance&quot;,&quot;azimuth&quot;,&quot;backface-visibility&quot;,&quot;background&quot;,&quot;background-attachment&quot;,&quot;background-clip&quot;,&quot;background-color&quot;,&quot;background-image&quot;,&quot;background-origin&quot;,&quot;background-position&quot;,&quot;background-repeat&quot;,&quot;background-size&quot;,&quot;baseline-shift&quot;,&quot;binding&quot;,&quot;bleed&quot;,&quot;bookmark-label&quot;,&quot;bookmark-level&quot;,&quot;bookmark-state&quot;,&quot;bookmark-target&quot;,&quot;border&quot;,&quot;border-bottom&quot;,&quot;border-bottom-color&quot;,&quot;border-bottom-left-radius&quot;,&quot;border-bottom-right-radius&quot;,&quot;border-bottom-style&quot;,&quot;border-bottom-width&quot;,&quot;border-collapse&quot;,&quot;border-color&quot;,&quot;border-image&quot;,&quot;border-image-outset&quot;,&quot;border-image-repeat&quot;,&quot;border-image-slice&quot;,&quot;border-image-source&quot;,&quot;border-image-width&quot;,&quot;border-left&quot;,&quot;border-left-color&quot;,&quot;border-left-style&quot;,&quot;border-left-width&quot;,&quot;border-radius&quot;,&quot;border-right&quot;,&quot;border-right-color&quot;,&quot;border-right-style&quot;,&quot;border-right-width&quot;,&quot;border-spacing&quot;,&quot;border-style&quot;,&quot;border-top&quot;,&quot;border-top-color&quot;,&quot;border-top-left-radius&quot;,&quot;border-top-right-radius&quot;,&quot;border-top-style&quot;,&quot;border-top-width&quot;,&quot;border-width&quot;,&quot;bottom&quot;,&quot;box-decoration-break&quot;,&quot;box-shadow&quot;,&quot;box-sizing&quot;,&quot;break-after&quot;,&quot;break-before&quot;,&quot;break-inside&quot;,&quot;caption-side&quot;,&quot;clear&quot;,&quot;clip&quot;,&quot;color&quot;,&quot;color-profile&quot;,&quot;column-count&quot;,&quot;column-fill&quot;,&quot;column-gap&quot;,&quot;column-rule&quot;,&quot;column-rule-color&quot;,&quot;column-rule-style&quot;,&quot;column-rule-width&quot;,&quot;column-span&quot;,&quot;column-width&quot;,&quot;columns&quot;,&quot;content&quot;,&quot;counter-increment&quot;,&quot;counter-reset&quot;,&quot;crop&quot;,&quot;cue&quot;,&quot;cue-after&quot;,&quot;cue-before&quot;,&quot;cursor&quot;,&quot;direction&quot;,&quot;display&quot;,&quot;dominant-baseline&quot;,&quot;drop-initial-after-adjust&quot;,&quot;drop-initial-after-align&quot;,&quot;drop-initial-before-adjust&quot;,&quot;drop-initial-before-align&quot;,&quot;drop-initial-size&quot;,&quot;drop-initial-value&quot;,&quot;elevation&quot;,&quot;empty-cells&quot;,&quot;fit&quot;,&quot;fit-position&quot;,&quot;flex&quot;,&quot;flex-basis&quot;,&quot;flex-direction&quot;,&quot;flex-flow&quot;,&quot;flex-grow&quot;,&quot;flex-shrink&quot;,&quot;flex-wrap&quot;,&quot;float&quot;,&quot;float-offset&quot;,&quot;font&quot;,&quot;font-feature-settings&quot;,&quot;font-family&quot;,&quot;font-kerning&quot;,&quot;font-language-override&quot;,&quot;font-size&quot;,&quot;font-size-adjust&quot;,&quot;font-stretch&quot;,&quot;font-style&quot;,&quot;font-synthesis&quot;,&quot;font-variant&quot;,&quot;font-variant-alternates&quot;,&quot;font-variant-caps&quot;,&quot;font-variant-east-asian&quot;,&quot;font-variant-ligatures&quot;,&quot;font-variant-numeric&quot;,&quot;font-variant-position&quot;,&quot;font-weight&quot;,&quot;grid-cell&quot;,&quot;grid-column&quot;,&quot;grid-column-align&quot;,&quot;grid-column-sizing&quot;,&quot;grid-column-span&quot;,&quot;grid-columns&quot;,&quot;grid-flow&quot;,&quot;grid-row&quot;,&quot;grid-row-align&quot;,&quot;grid-row-sizing&quot;,&quot;grid-row-span&quot;,&quot;grid-rows&quot;,&quot;grid-template&quot;,&quot;hanging-punctuation&quot;,&quot;height&quot;,&quot;hyphens&quot;,&quot;icon&quot;,&quot;image-orientation&quot;,&quot;image-rendering&quot;,&quot;image-resolution&quot;,&quot;inline-box-align&quot;,&quot;justify-content&quot;,&quot;left&quot;,&quot;letter-spacing&quot;,&quot;line-break&quot;,&quot;line-height&quot;,&quot;line-stacking&quot;,&quot;line-stacking-ruby&quot;,&quot;line-stacking-shift&quot;,&quot;line-stacking-strategy&quot;,&quot;list-style&quot;,&quot;list-style-image&quot;,&quot;list-style-position&quot;,&quot;list-style-type&quot;,&quot;margin&quot;,&quot;margin-bottom&quot;,&quot;margin-left&quot;,&quot;margin-right&quot;,&quot;margin-top&quot;,&quot;marker-offset&quot;,&quot;marks&quot;,&quot;marquee-direction&quot;,&quot;marquee-loop&quot;,&quot;marquee-play-count&quot;,&quot;marquee-speed&quot;,&quot;marquee-style&quot;,&quot;max-height&quot;,&quot;max-width&quot;,&quot;min-height&quot;,&quot;min-width&quot;,&quot;move-to&quot;,&quot;nav-down&quot;,&quot;nav-index&quot;,&quot;nav-left&quot;,&quot;nav-right&quot;,&quot;nav-up&quot;,&quot;opacity&quot;,&quot;order&quot;,&quot;orphans&quot;,&quot;outline&quot;,&quot;outline-color&quot;,&quot;outline-offset&quot;,&quot;outline-style&quot;,&quot;outline-width&quot;,&quot;overflow&quot;,&quot;overflow-style&quot;,&quot;overflow-wrap&quot;,&quot;overflow-x&quot;,&quot;overflow-y&quot;,&quot;padding&quot;,&quot;padding-bottom&quot;,&quot;padding-left&quot;,&quot;padding-right&quot;,&quot;padding-top&quot;,&quot;page&quot;,&quot;page-break-after&quot;,&quot;page-break-before&quot;,&quot;page-break-inside&quot;,&quot;page-policy&quot;,&quot;pause&quot;,&quot;pause-after&quot;,&quot;pause-before&quot;,&quot;perspective&quot;,&quot;perspective-origin&quot;,&quot;pitch&quot;,&quot;pitch-range&quot;,&quot;play-during&quot;,&quot;position&quot;,&quot;presentation-level&quot;,&quot;punctuation-trim&quot;,&quot;quotes&quot;,&quot;rendering-intent&quot;,&quot;resize&quot;,&quot;rest&quot;,&quot;rest-after&quot;,&quot;rest-before&quot;,&quot;richness&quot;,&quot;right&quot;,&quot;rotation&quot;,&quot;rotation-point&quot;,&quot;ruby-align&quot;,&quot;ruby-overhang&quot;,&quot;ruby-position&quot;,&quot;ruby-span&quot;,&quot;size&quot;,&quot;speak&quot;,&quot;speak-as&quot;,&quot;speak-header&quot;,&quot;speak-numeral&quot;,&quot;speak-punctuation&quot;,&quot;speech-rate&quot;,&quot;stress&quot;,&quot;string-set&quot;,&quot;tab-size&quot;,&quot;table-layout&quot;,&quot;target&quot;,&quot;target-name&quot;,&quot;target-new&quot;,&quot;target-position&quot;,&quot;text-align&quot;,&quot;text-align-last&quot;,&quot;text-decoration&quot;,&quot;text-decoration-color&quot;,&quot;text-decoration-line&quot;,&quot;text-decoration-skip&quot;,&quot;text-decoration-style&quot;,&quot;text-emphasis&quot;,&quot;text-emphasis-color&quot;,&quot;text-emphasis-position&quot;,&quot;text-emphasis-style&quot;,&quot;text-height&quot;,&quot;text-indent&quot;,&quot;text-justify&quot;,&quot;text-outline&quot;,&quot;text-shadow&quot;,&quot;text-space-collapse&quot;,&quot;text-transform&quot;,&quot;text-underline-position&quot;,&quot;text-wrap&quot;,&quot;top&quot;,&quot;transform&quot;,&quot;transform-origin&quot;,&quot;transform-style&quot;,&quot;transition&quot;,&quot;transition-delay&quot;,&quot;transition-duration&quot;,&quot;transition-property&quot;,&quot;transition-timing-function&quot;,&quot;unicode-bidi&quot;,&quot;vertical-align&quot;,&quot;visibility&quot;,&quot;voice-balance&quot;,&quot;voice-duration&quot;,&quot;voice-family&quot;,&quot;voice-pitch&quot;,&quot;voice-range&quot;,&quot;voice-rate&quot;,&quot;voice-stress&quot;,&quot;voice-volume&quot;,&quot;volume&quot;,&quot;white-space&quot;,&quot;widows&quot;,&quot;width&quot;,&quot;word-break&quot;,&quot;word-spacing&quot;,&quot;word-wrap&quot;,&quot;z-index&quot;]),m=t([&quot;black&quot;,&quot;silver&quot;,&quot;gray&quot;,&quot;white&quot;,&quot;maroon&quot;,&quot;red&quot;,&quot;purple&quot;,&quot;fuchsia&quot;,&quot;green&quot;,&quot;lime&quot;,&quot;olive&quot;,&quot;yellow&quot;,&quot;navy&quot;,&quot;blue&quot;,&quot;teal&quot;,&quot;aqua&quot;]),h=t([&quot;above&quot;,&quot;absolute&quot;,&quot;activeborder&quot;,&quot;activecaption&quot;,&quot;afar&quot;,&quot;after-white-space&quot;,&quot;ahead&quot;,&quot;alias&quot;,&quot;all&quot;,&quot;all-scroll&quot;,&quot;alternate&quot;,&quot;always&quot;,&quot;amharic&quot;,&quot;amharic-abegede&quot;,&quot;antialiased&quot;,&quot;appworkspace&quot;,&quot;arabic-indic&quot;,&quot;armenian&quot;,&quot;asterisks&quot;,&quot;auto&quot;,&quot;avoid&quot;,&quot;background&quot;,&quot;backwards&quot;,&quot;baseline&quot;,&quot;below&quot;,&quot;bidi-override&quot;,&quot;binary&quot;,&quot;bengali&quot;,&quot;blink&quot;,&quot;block&quot;,&quot;block-axis&quot;,&quot;bold&quot;,&quot;bolder&quot;,&quot;border&quot;,&quot;border-box&quot;,&quot;both&quot;,&quot;bottom&quot;,&quot;break-all&quot;,&quot;break-word&quot;,&quot;button&quot;,&quot;button-bevel&quot;,&quot;buttonface&quot;,&quot;buttonhighlight&quot;,&quot;buttonshadow&quot;,&quot;buttontext&quot;,&quot;cambodian&quot;,&quot;capitalize&quot;,&quot;caps-lock-indicator&quot;,&quot;caption&quot;,&quot;captiontext&quot;,&quot;caret&quot;,&quot;cell&quot;,&quot;center&quot;,&quot;checkbox&quot;,&quot;circle&quot;,&quot;cjk-earthly-branch&quot;,&quot;cjk-heavenly-stem&quot;,&quot;cjk-ideographic&quot;,&quot;clear&quot;,&quot;clip&quot;,&quot;close-quote&quot;,&quot;col-resize&quot;,&quot;collapse&quot;,&quot;compact&quot;,&quot;condensed&quot;,&quot;contain&quot;,&quot;content&quot;,&quot;content-box&quot;,&quot;context-menu&quot;,&quot;continuous&quot;,&quot;copy&quot;,&quot;cover&quot;,&quot;crop&quot;,&quot;cross&quot;,&quot;crosshair&quot;,&quot;currentcolor&quot;,&quot;cursive&quot;,&quot;dashed&quot;,&quot;decimal&quot;,&quot;decimal-leading-zero&quot;,&quot;default&quot;,&quot;default-button&quot;,&quot;destination-atop&quot;,&quot;destination-in&quot;,&quot;destination-out&quot;,&quot;destination-over&quot;,&quot;devanagari&quot;,&quot;disc&quot;,&quot;discard&quot;,&quot;document&quot;,&quot;dot-dash&quot;,&quot;dot-dot-dash&quot;,&quot;dotted&quot;,&quot;double&quot;,&quot;down&quot;,&quot;e-resize&quot;,&quot;ease&quot;,&quot;ease-in&quot;,&quot;ease-in-out&quot;,&quot;ease-out&quot;,&quot;element&quot;,&quot;ellipsis&quot;,&quot;embed&quot;,&quot;end&quot;,&quot;ethiopic&quot;,&quot;ethiopic-abegede&quot;,&quot;ethiopic-abegede-am-et&quot;,&quot;ethiopic-abegede-gez&quot;,&quot;ethiopic-abegede-ti-er&quot;,&quot;ethiopic-abegede-ti-et&quot;,&quot;ethiopic-halehame-aa-er&quot;,&quot;ethiopic-halehame-aa-et&quot;,&quot;ethiopic-halehame-am-et&quot;,&quot;ethiopic-halehame-gez&quot;,&quot;ethiopic-halehame-om-et&quot;,&quot;ethiopic-halehame-sid-et&quot;,&quot;ethiopic-halehame-so-et&quot;,&quot;ethiopic-halehame-ti-er&quot;,&quot;ethiopic-halehame-ti-et&quot;,&quot;ethiopic-halehame-tig&quot;,&quot;ew-resize&quot;,&quot;expanded&quot;,&quot;extra-condensed&quot;,&quot;extra-expanded&quot;,&quot;fantasy&quot;,&quot;fast&quot;,&quot;fill&quot;,&quot;fixed&quot;,&quot;flat&quot;,&quot;footnotes&quot;,&quot;forwards&quot;,&quot;from&quot;,&quot;geometricPrecision&quot;,&quot;georgian&quot;,&quot;graytext&quot;,&quot;groove&quot;,&quot;gujarati&quot;,&quot;gurmukhi&quot;,&quot;hand&quot;,&quot;hangul&quot;,&quot;hangul-consonant&quot;,&quot;hebrew&quot;,&quot;help&quot;,&quot;hidden&quot;,&quot;hide&quot;,&quot;higher&quot;,&quot;highlight&quot;,&quot;highlighttext&quot;,&quot;hiragana&quot;,&quot;hiragana-iroha&quot;,&quot;horizontal&quot;,&quot;hsl&quot;,&quot;hsla&quot;,&quot;icon&quot;,&quot;ignore&quot;,&quot;inactiveborder&quot;,&quot;inactivecaption&quot;,&quot;inactivecaptiontext&quot;,&quot;infinite&quot;,&quot;infobackground&quot;,&quot;infotext&quot;,&quot;inherit&quot;,&quot;initial&quot;,&quot;inline&quot;,&quot;inline-axis&quot;,&quot;inline-block&quot;,&quot;inline-table&quot;,&quot;inset&quot;,&quot;inside&quot;,&quot;intrinsic&quot;,&quot;invert&quot;,&quot;italic&quot;,&quot;justify&quot;,&quot;kannada&quot;,&quot;katakana&quot;,&quot;katakana-iroha&quot;,&quot;khmer&quot;,&quot;landscape&quot;,&quot;lao&quot;,&quot;large&quot;,&quot;larger&quot;,&quot;left&quot;,&quot;level&quot;,&quot;lighter&quot;,&quot;line-through&quot;,&quot;linear&quot;,&quot;lines&quot;,&quot;list-item&quot;,&quot;listbox&quot;,&quot;listitem&quot;,&quot;local&quot;,&quot;logical&quot;,&quot;loud&quot;,&quot;lower&quot;,&quot;lower-alpha&quot;,&quot;lower-armenian&quot;,&quot;lower-greek&quot;,&quot;lower-hexadecimal&quot;,&quot;lower-latin&quot;,&quot;lower-norwegian&quot;,&quot;lower-roman&quot;,&quot;lowercase&quot;,&quot;ltr&quot;,&quot;malayalam&quot;,&quot;match&quot;,&quot;media-controls-background&quot;,&quot;media-current-time-display&quot;,&quot;media-fullscreen-button&quot;,&quot;media-mute-button&quot;,&quot;media-play-button&quot;,&quot;media-return-to-realtime-button&quot;,&quot;media-rewind-button&quot;,&quot;media-seek-back-button&quot;,&quot;media-seek-forward-button&quot;,&quot;media-slider&quot;,&quot;media-sliderthumb&quot;,&quot;media-time-remaining-display&quot;,&quot;media-volume-slider&quot;,&quot;media-volume-slider-container&quot;,&quot;media-volume-sliderthumb&quot;,&quot;medium&quot;,&quot;menu&quot;,&quot;menulist&quot;,&quot;menulist-button&quot;,&quot;menulist-text&quot;,&quot;menulist-textfield&quot;,&quot;menutext&quot;,&quot;message-box&quot;,&quot;middle&quot;,&quot;min-intrinsic&quot;,&quot;mix&quot;,&quot;mongolian&quot;,&quot;monospace&quot;,&quot;move&quot;,&quot;multiple&quot;,&quot;myanmar&quot;,&quot;n-resize&quot;,&quot;narrower&quot;,&quot;navy&quot;,&quot;ne-resize&quot;,&quot;nesw-resize&quot;,&quot;no-close-quote&quot;,&quot;no-drop&quot;,&quot;no-open-quote&quot;,&quot;no-repeat&quot;,&quot;none&quot;,&quot;normal&quot;,&quot;not-allowed&quot;,&quot;nowrap&quot;,&quot;ns-resize&quot;,&quot;nw-resize&quot;,&quot;nwse-resize&quot;,&quot;oblique&quot;,&quot;octal&quot;,&quot;open-quote&quot;,&quot;optimizeLegibility&quot;,&quot;optimizeSpeed&quot;,&quot;oriya&quot;,&quot;oromo&quot;,&quot;outset&quot;,&quot;outside&quot;,&quot;overlay&quot;,&quot;overline&quot;,&quot;padding&quot;,&quot;padding-box&quot;,&quot;painted&quot;,&quot;paused&quot;,&quot;persian&quot;,&quot;plus-darker&quot;,&quot;plus-lighter&quot;,&quot;pointer&quot;,&quot;portrait&quot;,&quot;pre&quot;,&quot;pre-line&quot;,&quot;pre-wrap&quot;,&quot;preserve-3d&quot;,&quot;progress&quot;,&quot;push-button&quot;,&quot;radio&quot;,&quot;read-only&quot;,&quot;read-write&quot;,&quot;read-write-plaintext-only&quot;,&quot;relative&quot;,&quot;repeat&quot;,&quot;repeat-x&quot;,&quot;repeat-y&quot;,&quot;reset&quot;,&quot;reverse&quot;,&quot;rgb&quot;,&quot;rgba&quot;,&quot;ridge&quot;,&quot;right&quot;,&quot;round&quot;,&quot;row-resize&quot;,&quot;rtl&quot;,&quot;run-in&quot;,&quot;running&quot;,&quot;s-resize&quot;,&quot;sans-serif&quot;,&quot;scroll&quot;,&quot;scrollbar&quot;,&quot;se-resize&quot;,&quot;searchfield&quot;,&quot;searchfield-cancel-button&quot;,&quot;searchfield-decoration&quot;,&quot;searchfield-results-button&quot;,&quot;searchfield-results-decoration&quot;,&quot;semi-condensed&quot;,&quot;semi-expanded&quot;,&quot;separate&quot;,&quot;serif&quot;,&quot;show&quot;,&quot;sidama&quot;,&quot;single&quot;,&quot;skip-white-space&quot;,&quot;slide&quot;,&quot;slider-horizontal&quot;,&quot;slider-vertical&quot;,&quot;sliderthumb-horizontal&quot;,&quot;sliderthumb-vertical&quot;,&quot;slow&quot;,&quot;small&quot;,&quot;small-caps&quot;,&quot;small-caption&quot;,&quot;smaller&quot;,&quot;solid&quot;,&quot;somali&quot;,&quot;source-atop&quot;,&quot;source-in&quot;,&quot;source-out&quot;,&quot;source-over&quot;,&quot;space&quot;,&quot;square&quot;,&quot;square-button&quot;,&quot;start&quot;,&quot;static&quot;,&quot;status-bar&quot;,&quot;stretch&quot;,&quot;stroke&quot;,&quot;sub&quot;,&quot;subpixel-antialiased&quot;,&quot;super&quot;,&quot;sw-resize&quot;,&quot;table&quot;,&quot;table-caption&quot;,&quot;table-cell&quot;,&quot;table-column&quot;,&quot;table-column-group&quot;,&quot;table-footer-group&quot;,&quot;table-header-group&quot;,&quot;table-row&quot;,&quot;table-row-group&quot;,&quot;telugu&quot;,&quot;text&quot;,&quot;text-bottom&quot;,&quot;text-top&quot;,&quot;textarea&quot;,&quot;textfield&quot;,&quot;thai&quot;,&quot;thick&quot;,&quot;thin&quot;,&quot;threeddarkshadow&quot;,&quot;threedface&quot;,&quot;threedhighlight&quot;,&quot;threedlightshadow&quot;,&quot;threedshadow&quot;,&quot;tibetan&quot;,&quot;tigre&quot;,&quot;tigrinya-er&quot;,&quot;tigrinya-er-abegede&quot;,&quot;tigrinya-et&quot;,&quot;tigrinya-et-abegede&quot;,&quot;to&quot;,&quot;top&quot;,&quot;transparent&quot;,&quot;ultra-condensed&quot;,&quot;ultra-expanded&quot;,&quot;underline&quot;,&quot;up&quot;,&quot;upper-alpha&quot;,&quot;upper-armenian&quot;,&quot;upper-greek&quot;,&quot;upper-hexadecimal&quot;,&quot;upper-latin&quot;,&quot;upper-norwegian&quot;,&quot;upper-roman&quot;,&quot;uppercase&quot;,&quot;urdu&quot;,&quot;url&quot;,&quot;vertical&quot;,&quot;vertical-text&quot;,&quot;visible&quot;,&quot;visibleFill&quot;,&quot;visiblePainted&quot;,&quot;visibleStroke&quot;,&quot;visual&quot;,&quot;w-resize&quot;,&quot;wait&quot;,&quot;wave&quot;,&quot;white&quot;,&quot;wider&quot;,&quot;window&quot;,&quot;windowframe&quot;,&quot;windowtext&quot;,&quot;x-large&quot;,&quot;x-small&quot;,&quot;xor&quot;,&quot;xx-large&quot;,&quot;xx-small&quot;,&quot;yellow&quot;]);return{startState:function(e){return{tokenize:r,baseIndent:e||0,stack:[]}},token:function(e,t){if(t.tokenize==r&amp;&amp;e.eatSpace())return null;var i=t.tokenize(e,t),a=t.stack[t.stack.length-1];return&quot;property&quot;==i?&quot;propertyValue&quot;==a?i=h[e.current()]?&quot;string-2&quot;:m[e.current()]?&quot;keyword&quot;:&quot;variable-2&quot;:&quot;rule&quot;==a?p[e.current()]||(i+=&quot; error&quot;):a&amp;&amp;&quot;@media{&quot;!=a?&quot;@media&quot;==a?i=c[e.current()]?&quot;attribute&quot;:/^(only|not)$/i.test(e.current())?&quot;keyword&quot;:e.current().toLowerCase()==&quot;and&quot;?&quot;error&quot;:u[e.current()]?&quot;error&quot;:&quot;attribute error&quot;:&quot;@mediaType&quot;==a?i=c[e.current()]?&quot;attribute&quot;:e.current().toLowerCase()==&quot;and&quot;?&quot;operator&quot;:/^(only|not)$/i.test(e.current())?&quot;error&quot;:u[e.current()]?&quot;error&quot;:&quot;error&quot;:&quot;@mediaType(&quot;==a?p[e.current()]||(c[e.current()]?i=&quot;error&quot;:e.current().toLowerCase()==&quot;and&quot;?i=&quot;operator&quot;:/^(only|not)$/i.test(e.current())?i=&quot;error&quot;:i+=&quot; error&quot;):i=&quot;error&quot;:i=&quot;tag&quot;:&quot;atom&quot;==i?a&amp;&amp;&quot;@media{&quot;!=a?&quot;propertyValue&quot;==a?/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(e.current())||(i+=&quot; error&quot;):i=&quot;error&quot;:i=&quot;builtin&quot;:&quot;@media&quot;==a&amp;&amp;&quot;{&quot;==s&amp;&amp;(i=&quot;error&quot;),&quot;{&quot;==s?&quot;@media&quot;==a||&quot;@mediaType&quot;==a?(t.stack.pop(),t.stack[t.stack.length-1]=&quot;@media{&quot;):t.stack.push(&quot;rule&quot;):&quot;}&quot;==s?(t.stack.pop(),&quot;propertyValue&quot;==a&amp;&amp;t.stack.pop()):&quot;@media&quot;==s?t.stack.push(&quot;@media&quot;):&quot;@media&quot;==a&amp;&amp;/\b(keyword|attribute)\b/.test(i)?t.stack.push(&quot;@mediaType&quot;):&quot;@mediaType&quot;==a&amp;&amp;e.current()==&quot;,&quot;?t.stack.pop():&quot;@mediaType&quot;==a&amp;&amp;&quot;(&quot;==s?t.stack.push(&quot;@mediaType(&quot;):&quot;@mediaType(&quot;==a&amp;&amp;&quot;)&quot;==s?t.stack.pop():&quot;rule&quot;==a&amp;&amp;&quot;:&quot;==s?t.stack.push(&quot;propertyValue&quot;):&quot;propertyValue&quot;==a&amp;&amp;&quot;;&quot;==s&amp;&amp;t.stack.pop(),i},indent:function(e,t){var i=e.stack.length;return/^\}/.test(t)&amp;&amp;(i-=e.stack[e.stack.length-1]==&quot;propertyValue&quot;?2:1),e.baseIndent+i*d},electricChars:&quot;}&quot;}}),CodeMirror.defineMIME(&quot;text/css&quot;,&quot;css&quot;);
//}}}</pre>
</div>
<div title="d3: Background Color" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405122323" modified="201405130138" tags="d3 excludeTimeline" content-type="text/x-tiddlywiki" changecount="14">
<pre>&lt;script&gt;
d3.select(&quot;body&quot;).transition()
    .style(&quot;background-color&quot;, &quot;#ccc&quot;);
&lt;/script&gt;</pre>
</div>
<div title="d3: Examples" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405130136" modified="201405130218" tags="example excludeTimeline" changecount="10" content-type="text/x-tiddlywiki" alias="">
<pre>[[d3.js|http://d3js.org/]], by far the most powerful interactive plotting solution.  Would need to create my own professional template in using this library.

&lt;&lt;tiddler [[d3: xkcd]]&gt;&gt;
&lt;&lt;tiddler [[d3: Liebniz Curve]]&gt;&gt;
&lt;&lt;tiddler [[d3: stacked]]&gt;&gt;</pre>
</div>
<div title="d3: Liebniz Curve" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405122342" modified="201405132150" tags="d3 excludeTimeline" changecount="39" content-type="text/x-tiddlywiki">
<pre>&lt;html&gt;
    &lt;style&gt;
      #vis path { fill: none; }
      #vis path.spiral { stroke: steelblue; }
      #vis .axis path, .axis line { stroke: #000; shape-rendering: crispEdges; }
	  &lt;/style&gt;&lt;div id=&quot;vis&quot;&gt;&lt;/div&gt;
	  &lt;/html&gt;
&lt;script&gt;

var w = 500,
    h = 500,
    p = [0, 20, 20, 20],
    x = d3.scale.linear().domain([2.5, 4]).range([0, w]),
    y = d3.scale.linear().domain([-2, 2]).range([h, 0]),
    arc = [],
    n = 75,
    v = 0;

for (var i=0; i&lt;n; i++) {
  var d = 1 + i * 2,
      s = i % 2 == 0 ? 1 : -1,
      dv = s * 4 / d;
  v += dv;
  if (i) arc.push(&quot;A&quot;, dv = Math.abs(dv), dv, 0, 0, 0);
  else arc.push(&quot;M&quot;);
  arc.push(x(v), y(0));
}

var vis = d3.select(&quot;#vis&quot;).append(&quot;svg&quot;)
    .attr(&quot;width&quot;, w + p[1] + p[3])
    .attr(&quot;height&quot;, h + p[0] + p[2])
  .append(&quot;g&quot;)
    .attr(&quot;transform&quot;, &quot;translate(&quot; + p[3] + &quot;,&quot; + p[0] + &quot;)&quot;);

vis.append(&quot;g&quot;)
    .attr(&quot;class&quot;, &quot;x axis&quot;)
    .attr(&quot;transform&quot;, &quot;translate(0,&quot; + y(0) + &quot;)&quot;)
    .call(d3.svg.axis().scale(x).orient(&quot;bottom&quot;));

vis.append(&quot;path&quot;)
    .attr(&quot;class&quot;, &quot;spiral&quot;)
    .attr(&quot;d&quot;, arc.join(&quot; &quot;));
	
	    var height = 460; var width = 500;  /* set the graph size in px */

     /* Attributes that give shape to the div */
     var divShape = [ { obj: &quot;#vis&quot;, key: &quot;height&quot;, value: height },
                             { obj: &quot;#vis&quot;, key: &quot;width&quot;, value: width },
                             { obj: &quot;#vis&quot;, key: &quot;margin&quot;, value: &quot;auto&quot; },
                             { obj: &quot;#vis&quot;, key: &quot;display&quot;, value: &quot;block&quot; },   
							 { obj: &quot;#vis&quot;, key: &quot;overflow&quot;, value: &quot;hidden&quot; },
							  { obj: &quot;#vis&quot;, key: &quot;margin-bottom&quot;, value: &quot;-80px&quot; }        
                            ]; 
     divShape.forEach(function(d) {
         jQuery(d.obj).css( d.key, d.value ); /* push the attributes to the canvas */
      });
&lt;/script&gt;</pre>
</div>
<div title="d3: Spontaneous Magnetization" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405121524" modified="201405130140" tags="d3 excludeTimeline" changecount="5" content-type="">
<pre>&lt;html&gt;&lt;script&gt;
var data = [{&quot;y&quot;:[0.9992758,0.9992606,0.9992451,0.9992294,0.9992135,0.9991973,0.9991809,0.9991642,0.9991472,0.9991299,0.9991124,0.9990947,0.9990766,0.9990583,0.9990396,0.9990207,0.9990015,0.9989821,0.9989623,0.9989422,0.9989218,0.9989012,0.9988802,0.9988589,0.9988373,0.9988154,0.9987931,0.9987706,0.9987477,0.9987245,0.998701,0.9986771,0.9986529,0.9986283,0.9986034,0.9985782,0.9985526,0.9985266,0.9985003,0.9984737,0.9984466,0.9984193,0.9983915,0.9983633,0.9983348,0.9983059,0.9982766,0.998247,0.9982169,0.9981864,0.9981556,0.9981243,0.9980926,0.9980606,0.9980281,0.9979952,0.9979618,0.9979281,0.9978939,0.9978593,0.9978242,0.9977887,0.9977528,0.9977164,0.9976796,0.9976423,0.9976046,0.9975664,0.9975277,0.9974886,0.997449,0.9974089,0.9973683,0.9973272,0.9972857,0.9972437,0.9972011,0.9971581,0.9971145,0.9970705,0.9970259,0.9969808,0.9969352,0.9968891,0.9968424,0.9967952,0.9967474,0.9966992,0.9966503,0.9966009,0.996551,0.9965005,0.9964494,0.9963978,0.9963456,0.9962928,0.9962394,0.9961854,0.9961309,0.9960757,0.99602,0.9959636,0.9959067,0.9958491,0.9957909,0.9957321,0.9956726,0.9956125,0.9955518,0.9954904,0.9954284,0.9953657,0.9953024,0.9952384,0.9951738,0.9951084,0.9950424,0.9949757,0.9949084,0.9948403,0.9947715,0.994702,0.9946319,0.994561,0.9944894,0.994417,0.994344,0.9942702,0.9941956,0.9941204,0.9940443,0.9939676,0.99389,0.9938117,0.9937326,0.9936528,0.9935721,0.9934907,0.9934085,0.9933255,0.9932416,0.993157,0.9930715,0.9929852,0.9928981,0.9928102,0.9927214,0.9926318,0.9925413,0.99245,0.9923578,0.9922647,0.9921708,0.9920759,0.9919802,0.9918836,0.9917861,0.9916876,0.9915883,0.9914881,0.9913869,0.9912847,0.9911817,0.9910777,0.9909727,0.9908668,0.9907599,0.9906521,0.9905432,0.9904334,0.9903226,0.9902108,0.9900979,0.9899841,0.9898692,0.9897533,0.9896364,0.9895184,0.9893994,0.9892793,0.9891582,0.989036,0.9889127,0.9887883,0.9886628,0.9885362,0.9884085,0.9882797,0.9881498,0.9880187,0.9878865,0.9877531,0.9876186,0.9874829,0.987346,0.9872079,0.9870687,0.9869282,0.9867866,0.9866437,0.9864996,0.9863543,0.9862077,0.9860599,0.9859108,0.9857604,0.9856088,0.9854558,0.9853016,0.9851461,0.9849892,0.9848311,0.9846716,0.9845107,0.9843485,0.9841849,0.98402,0.9838537,0.9836859,0.9835168,0.9833463,0.9831743,0.9830009,0.9828261,0.9826498,0.982472,0.9822928,0.982112,0.9819298,0.9817461,0.9815608,0.981374,0.9811857,0.9809958,0.9808044,0.9806113,0.9804167,0.9802205,0.9800227,0.9798232,0.9796221,0.9794193,0.9792149,0.9790088,0.9788011,0.9785916,0.9783804,0.9781675,0.9779528,0.9777364,0.9775182,0.9772983,0.9770765,0.9768529,0.9766275,0.9764003,0.9761712,0.9759403,0.9757075,0.9754728,0.9752361,0.9749976,0.9747571,0.9745146,0.9742702,0.9740238,0.9737754,0.973525,0.9732725,0.973018,0.9727614,0.9725027,0.9722419,0.971979,0.971714,0.9714468,0.9711774,0.9709058,0.9706321,0.9703561,0.9700778,0.9697973,0.9695145,0.9692294,0.9689419,0.9686522,0.96836,0.9680655,0.9677686,0.9674692,0.9671674,0.9668631,0.9665563,0.966247,0.9659352,0.9656208,0.9653038,0.9649843,0.9646621,0.9643372,0.9640097,0.9636795,0.9633465,0.9630108,0.9626723,0.9623311,0.961987,0.96164,0.9612901,0.9609374,0.9605817,0.9602231,0.9598614,0.9594968,0.959129,0.9587582,0.9583843,0.9580073,0.9576271,0.9572437,0.956857,0.9564671,0.9560739,0.9556773,0.9552774,0.9548741,0.9544673,0.9540571,0.9536434,0.9532261,0.9528053,0.9523808,0.9519527,0.9515208,0.9510853,0.950646,0.9502028,0.9497558,0.9493049,0.94885,0.9483912,0.9479284,0.9474614,0.9469904,0.9465151,0.9460357,0.945552,0.945064,0.9445716,0.9440748,0.9435736,0.9430678,0.9425575,0.9420426,0.9415229,0.9409985,0.9404694,0.9399354,0.9393964,0.9388525,0.9383036,0.9377495,0.9371903,0.9366259,0.9360562,0.9354811,0.9349006,0.9343146,0.933723,0.9331257,0.9325227,0.9319139,0.9312993,0.9306786,0.930052,0.9294192,0.9287801,0.9281348,0.9274831,0.9268249,0.9261601,0.9254887,0.9248105,0.9241254,0.9234334,0.9227343,0.922028,0.9213144,0.9205934,0.9198649,0.9191287,0.9183848,0.917633,0.9168733,0.9161053,0.9153292,0.9145446,0.9137514,0.9129496,0.912139,0.9113194,0.9104906,0.9096526,0.9088051,0.9079479,0.907081,0.9062041,0.905317,0.9044196,0.9035117,0.902593,0.9016634,0.9007226,0.8997705,0.8988067,0.8978312,0.8968436,0.8958437,0.8948313,0.8938061,0.8927677,0.891716,0.8906507,0.8895715,0.888478,0.8873699,0.8862469,0.8851088,0.883955,0.8827853,0.8815993,0.8803966,0.8791767,0.8779393,0.876684,0.8754102,0.8741175,0.8728054,0.8714735,0.870121,0.8687476,0.8673526,0.8659355,0.8644955,0.8630321,0.8615445,0.8600321,0.858494,0.8569295,0.8553378,0.8537179,0.8520691,0.8503902,0.8486804,0.8469385,0.8451635,0.8433541,0.8415091,0.8396272,0.837707,0.8357471,0.8337458,0.8317014,0.8296123,0.8274766,0.8252922,0.823057,0.8207686,0.8184247,0.8160226,0.8135595,0.8110323,0.8084377,0.8057722,0.8030319,0.8002126,0.7973097,0.7943182,0.7912327,0.7880472,0.7847551,0.7813491,0.777821,0.7741618,0.7703615,0.7664087,0.7622906,0.7579925,0.753498,0.748788,0.7438402,0.738629,0.7331239,0.727289,0.7210807,0.7144463,0.7073205,0.6996214,0.6912439,0.6820501,0.671854,0.660395,0.6472917,0.6319509,0.6133708,0.5896369,0.5562479,0.4965872,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001],&quot;x&quot;:[1,1.0025,1.005,1.0075,1.01,1.0125,1.015,1.0175,1.02,1.0225,1.025,1.0275,1.03,1.0325,1.035,1.0375,1.04,1.0425,1.045,1.0475,1.05,1.0525,1.055,1.0575,1.06,1.0625,1.065,1.0675,1.07,1.0725,1.075,1.0775,1.08,1.0825,1.085,1.0875,1.09,1.0925,1.095,1.0975,1.1,1.1025,1.105,1.1075,1.11,1.1125,1.115,1.1175,1.12,1.1225,1.125,1.1275,1.13,1.1325,1.135,1.1375,1.14,1.1425,1.145,1.1475,1.15,1.1525,1.155,1.1575,1.16,1.1625,1.165,1.1675,1.17,1.1725,1.175,1.1775,1.18,1.1825,1.185,1.1875,1.19,1.1925,1.195,1.1975,1.2,1.2025,1.205,1.2075,1.21,1.2125,1.215,1.2175,1.22,1.2225,1.225,1.2275,1.23,1.2325,1.235,1.2375,1.24,1.2425,1.245,1.2475,1.25,1.2525,1.255,1.2575,1.26,1.2625,1.265,1.2675,1.27,1.2725,1.275,1.2775,1.28,1.2825,1.285,1.2875,1.29,1.2925,1.295,1.2975,1.3,1.3025,1.305,1.3075,1.31,1.3125,1.315,1.3175,1.32,1.3225,1.325,1.3275,1.33,1.3325,1.335,1.3375,1.34,1.3425,1.345,1.3475,1.35,1.3525,1.355,1.3575,1.36,1.3625,1.365,1.3675,1.37,1.3725,1.375,1.3775,1.38,1.3825,1.385,1.3875,1.39,1.3925,1.395,1.3975,1.4,1.4025,1.405,1.4075,1.41,1.4125,1.415,1.4175,1.42,1.4225,1.425,1.4275,1.43,1.4325,1.435,1.4375,1.44,1.4425,1.445,1.4475,1.45,1.4525,1.455,1.4575,1.46,1.4625,1.465,1.4675,1.47,1.4725,1.475,1.4775,1.48,1.4825,1.485,1.4875,1.49,1.4925,1.495,1.4975,1.5,1.5025,1.505,1.5075,1.51,1.5125,1.515,1.5175,1.52,1.5225,1.525,1.5275,1.53,1.5325,1.535,1.5375,1.54,1.5425,1.545,1.5475,1.55,1.5525,1.555,1.5575,1.56,1.5625,1.565,1.5675,1.57,1.5725,1.575,1.5775,1.58,1.5825,1.585,1.5875,1.59,1.5925,1.595,1.5975,1.6,1.6025,1.605,1.6075,1.61,1.6125,1.615,1.6175,1.62,1.6225,1.625,1.6275,1.63,1.6325,1.635,1.6375,1.64,1.6425,1.645,1.6475,1.65,1.6525,1.655,1.6575,1.66,1.6625,1.665,1.6675,1.67,1.6725,1.675,1.6775,1.68,1.6825,1.685,1.6875,1.69,1.6925,1.695,1.6975,1.7,1.7025,1.705,1.7075,1.71,1.7125,1.715,1.7175,1.72,1.7225,1.725,1.7275,1.73,1.7325,1.735,1.7375,1.74,1.7425,1.745,1.7475,1.75,1.7525,1.755,1.7575,1.76,1.7625,1.765,1.7675,1.77,1.7725,1.775,1.7775,1.78,1.7825,1.785,1.7875,1.79,1.7925,1.795,1.7975,1.8,1.8025,1.805,1.8075,1.81,1.8125,1.815,1.8175,1.82,1.8225,1.825,1.8275,1.83,1.8325,1.835,1.8375,1.84,1.8425,1.845,1.8475,1.85,1.8525,1.855,1.8575,1.86,1.8625,1.865,1.8675,1.87,1.8725,1.875,1.8775,1.88,1.8825,1.885,1.8875,1.89,1.8925,1.895,1.8975,1.9,1.9025,1.905,1.9075,1.91,1.9125,1.915,1.9175,1.92,1.9225,1.925,1.9275,1.93,1.9325,1.935,1.9375,1.94,1.9425,1.945,1.9475,1.95,1.9525,1.955,1.9575,1.96,1.9625,1.965,1.9675,1.97,1.9725,1.975,1.9775,1.98,1.9825,1.985,1.9875,1.99,1.9925,1.995,1.9975,2,2.0025,2.005,2.0075,2.01,2.0125,2.015,2.0175,2.02,2.0225,2.025,2.0275,2.03,2.0325,2.035,2.0375,2.04,2.0425,2.045,2.0475,2.05,2.0525,2.055,2.0575,2.06,2.0625,2.065,2.0675,2.07,2.0725,2.075,2.0775,2.08,2.0825,2.085,2.0875,2.09,2.0925,2.095,2.0975,2.1,2.1025,2.105,2.1075,2.11,2.1125,2.115,2.1175,2.12,2.1225,2.125,2.1275,2.13,2.1325,2.135,2.1375,2.14,2.1425,2.145,2.1475,2.15,2.1525,2.155,2.1575,2.16,2.1625,2.165,2.1675,2.17,2.1725,2.175,2.1775,2.18,2.1825,2.185,2.1875,2.19,2.1925,2.195,2.1975,2.2,2.2025,2.205,2.2075,2.21,2.2125,2.215,2.2175,2.22,2.2225,2.225,2.2275,2.23,2.2325,2.235,2.2375,2.24,2.2425,2.245,2.2475,2.25,2.2525,2.255,2.2575,2.26,2.2625,2.265,2.2675,2.27,2.2725,2.275,2.2775,2.28,2.2825,2.285,2.2875,2.29,2.2925,2.295,2.2975,2.3,2.3025,2.305,2.3075,2.31,2.3125,2.315,2.3175,2.32,2.3225,2.325,2.3275,2.33,2.3325,2.335,2.3375,2.34,2.3425,2.345,2.3475,2.35,2.3525,2.355,2.3575,2.36,2.3625,2.365,2.3675,2.37,2.3725,2.375,2.3775,2.38,2.3825,2.385,2.3875,2.39,2.3925,2.395,2.3975,2.4,2.4025,2.405,2.4075,2.41,2.4125,2.415,2.4175,2.42,2.4225,2.425,2.4275,2.43,2.4325,2.435,2.4375,2.44,2.4425,2.445,2.4475,2.45,2.4525,2.455,2.4575,2.46,2.4625,2.465,2.4675,2.47,2.4725,2.475,2.4775,2.48,2.4825,2.485,2.4875,2.49,2.4925,2.495,2.4975,2.5,2.5025,2.505,2.5075,2.51,2.5125,2.515,2.5175,2.52,2.5225,2.525,2.5275,2.53,2.5325,2.535,2.5375,2.54,2.5425,2.545,2.5475,2.55,2.5525,2.555,2.5575,2.56,2.5625,2.565,2.5675,2.57,2.5725,2.575,2.5775,2.58,2.5825,2.585,2.5875,2.59,2.5925,2.595,2.5975,2.6,2.6025,2.605,2.6075,2.61,2.6125,2.615,2.6175,2.62,2.6225,2.625,2.6275,2.63,2.6325,2.635,2.6375,2.64,2.6425,2.645,2.6475,2.65,2.6525,2.655,2.6575,2.66,2.6625,2.665,2.6675,2.67,2.6725,2.675,2.6775,2.68,2.6825,2.685,2.6875,2.69,2.6925,2.695,2.6975,2.7,2.7025,2.705,2.7075,2.71,2.7125,2.715,2.7175,2.72,2.7225,2.725,2.7275,2.73,2.7325,2.735,2.7375,2.74,2.7425,2.745,2.7475,2.75,2.7525,2.755,2.7575,2.76,2.7625,2.765,2.7675,2.77,2.7725,2.775,2.7775,2.78,2.7825,2.785,2.7875,2.79,2.7925,2.795,2.7975,2.8,2.8025,2.805,2.8075,2.81,2.8125,2.815,2.8175,2.82,2.8225,2.825,2.8275,2.83,2.8325,2.835,2.8375,2.84,2.8425,2.845,2.8475,2.85,2.8525,2.855,2.8575,2.86,2.8625,2.865,2.8675,2.87,2.8725,2.875,2.8775,2.88,2.8825,2.885,2.8875,2.89,2.8925,2.895,2.8975,2.9,2.9025,2.905,2.9075,2.91,2.9125,2.915,2.9175,2.92,2.9225,2.925,2.9275,2.93,2.9325,2.935,2.9375,2.94,2.9425,2.945,2.9475,2.95,2.9525,2.955,2.9575,2.96,2.9625,2.965,2.9675,2.97,2.9725,2.975,2.9775,2.98,2.9825,2.985,2.9875,2.99,2.9925,2.995,2.9975,3,3.0025,3.005,3.0075,3.01,3.0125,3.015,3.0175,3.02,3.0225,3.025,3.0275,3.03,3.0325,3.035,3.0375,3.04,3.0425,3.045,3.0475,3.05,3.0525,3.055,3.0575,3.06,3.0625,3.065,3.0675,3.07,3.0725,3.075,3.0775,3.08,3.0825,3.085,3.0875,3.09,3.0925,3.095,3.0975,3.1,3.1025,3.105,3.1075,3.11,3.1125,3.115,3.1175,3.12,3.1225,3.125,3.1275,3.13,3.1325,3.135,3.1375,3.14,3.1425,3.145,3.1475,3.15,3.1525,3.155,3.1575,3.16,3.1625,3.165,3.1675,3.17,3.1725,3.175,3.1775,3.18,3.1825,3.185,3.1875,3.19,3.1925,3.195,3.1975,3.2,3.2025,3.205,3.2075,3.21,3.2125,3.215,3.2175,3.22,3.2225,3.225,3.2275,3.23,3.2325,3.235,3.2375,3.24,3.2425,3.245,3.2475,3.25,3.2525,3.255,3.2575,3.26,3.2625,3.265,3.2675,3.27,3.2725,3.275,3.2775,3.28,3.2825,3.285,3.2875,3.29,3.2925,3.295,3.2975,3.3,3.3025,3.305,3.3075,3.31,3.3125,3.315,3.3175,3.32,3.3225,3.325,3.3275,3.33,3.3325,3.335,3.3375,3.34,3.3425,3.345,3.3475,3.35,3.3525,3.355,3.3575,3.36,3.3625,3.365,3.3675,3.37,3.3725,3.375,3.3775,3.38,3.3825,3.385,3.3875,3.39,3.3925,3.395,3.3975,3.4,3.4025,3.405,3.4075,3.41,3.4125,3.415,3.4175,3.42,3.4225,3.425,3.4275,3.43,3.4325,3.435,3.4375,3.44,3.4425,3.445,3.4475,3.45,3.4525,3.455,3.4575,3.46,3.4625,3.465,3.4675,3.47,3.4725,3.475,3.4775,3.48,3.4825,3.485,3.4875,3.49,3.4925,3.495,3.4975,3.5,3.5025,3.505,3.5075,3.51,3.5125,3.515,3.5175,3.52,3.5225,3.525,3.5275,3.53,3.5325,3.535,3.5375,3.54,3.5425,3.545,3.5475,3.55,3.5525,3.555,3.5575,3.56,3.5625,3.565,3.5675,3.57,3.5725,3.575,3.5775,3.58,3.5825,3.585,3.5875,3.59,3.5925,3.595,3.5975,3.6,3.6025,3.605,3.6075,3.61,3.6125,3.615,3.6175,3.62,3.6225,3.625,3.6275,3.63,3.6325,3.635,3.6375,3.64,3.6425,3.645,3.6475,3.65,3.6525,3.655,3.6575,3.66,3.6625,3.665,3.6675,3.67,3.6725,3.675,3.6775,3.68,3.6825,3.685,3.6875,3.69,3.6925,3.695,3.6975,3.7,3.7025,3.705,3.7075,3.71,3.7125,3.715,3.7175,3.72,3.7225,3.725,3.7275,3.73,3.7325,3.735,3.7375,3.74,3.7425,3.745,3.7475,3.75,3.7525,3.755,3.7575,3.76,3.7625,3.765,3.7675,3.77,3.7725,3.775,3.7775,3.78,3.7825,3.785,3.7875,3.79,3.7925,3.795,3.7975,3.8,3.8025,3.805,3.8075,3.81,3.8125,3.815,3.8175,3.82,3.8225,3.825,3.8275,3.83,3.8325,3.835,3.8375,3.84,3.8425,3.845,3.8475,3.85,3.8525,3.855,3.8575,3.86,3.8625,3.865,3.8675,3.87,3.8725,3.875,3.8775,3.88,3.8825,3.885,3.8875,3.89,3.8925,3.895,3.8975,3.9,3.9025,3.905,3.9075,3.91,3.9125,3.915,3.9175,3.92,3.9225,3.925,3.9275,3.93,3.9325,3.935,3.9375,3.94,3.9425,3.945,3.9475,3.95,3.9525,3.955,3.9575,3.96,3.9625,3.965,3.9675,3.97,3.9725,3.975,3.9775,3.98,3.9825,3.985,3.9875,3.99,3.9925,3.995,3.9975,4],&quot;uid&quot;:&quot;01b774&quot;,&quot;type&quot;:&quot;scatter&quot;,&quot;name&quot;:&quot;trace 0&quot;,&quot;line&quot;:{&quot;color&quot;:&quot;rgb(214, 39, 40)&quot;,&quot;dash&quot;:&quot;dashdot&quot;},&quot;marker&quot;:{&quot;line&quot;:{}},&quot;textfont&quot;:{},&quot;error_y&quot;:{},&quot;error_x&quot;:{},&quot;connectgaps&quot;:true},{&quot;y&quot;:[0.999275,0.999111,0.998921,0.998701,0.998446,0.998155,0.997826,0.997448,0.997024,0.996548,0.996024,0.995431,0.994771,0.994043,0.993243,0.99236,0.991387,0.990317,0.989151,0.98789,0.986505,0.98499,0.983348,0.981554,0.979613,0.977519,0.975232,0.972759,0.970099,0.967172,0.964016,0.960568,0.956867,0.952801,0.948399,0.943581,0.938317,0.932518,0.926215,0.919159,0.911254,0.902626,0.892771,0.881622,0.868721,0.853713,0.835459,0.813702,0.261858,0.197322,0.146137,0.028028,0.015608,0.013303,0.005825,0.010577,0.002995,0.001986,0.001343,0.001526,0.002109,0.000958,0.00068,0.000616,0.000525,0.000992,0.000834,0.000441,0.000598,0.000427,0.000451,0.000708,0.000157,0.000228,0.000244,0.000216,0.000221,0.000164,0.000248,0.00035,0.000193,0.000124,0.000107,0.000278,0.000119,0.000253,0.000109,0.000069,0.000085,0.000203,0.000051,0.000094,0.000169,0.000064,0.000294,0.000167,0.000074,0.000099,0.000181,0.000147,0.000073,0.000062,0.000109,0.000182,0.000159,0.000206,0.000062,0.000039,0.000068,0.000046,0.000051,0.000029,0.000085,0.000038,0.000072,0.000077,0.000109,0.000063,0.00008,0.000073,0.000075],&quot;x&quot;:[1,1.025,1.05,1.075,1.1,1.125,1.15,1.175,1.2,1.225,1.25,1.275,1.3,1.325,1.35,1.375,1.4,1.425,1.45,1.475,1.5,1.525,1.55,1.575,1.6,1.625,1.65,1.675,1.7,1.725,1.75,1.775,1.8,1.825,1.85,1.875,1.9,1.925,1.95,1.975,2,2.025,2.05,2.075,2.1,2.125,2.15,2.175,2.2,2.225,2.25,2.275,2.3,2.325,2.35,2.375,2.4,2.425,2.45,2.475,2.5,2.525,2.55,2.575,2.6,2.625,2.65,2.675,2.7,2.725,2.75,2.775,2.8,2.825,2.85,2.875,2.9,2.925,2.95,2.975,3,3.025,3.05,3.075,3.1,3.125,3.15,3.175,3.2,3.225,3.25,3.275,3.3,3.325,3.35,3.375,3.4,3.425,3.45,3.475,3.5,3.525,3.55,3.575,3.6,3.625,3.65,3.675,3.7,3.725,3.75,3.775,3.8,3.825,3.85,3.875,3.9,3.925,3.95,3.975,4],&quot;uid&quot;:&quot;ee715a&quot;,&quot;type&quot;:&quot;scatter&quot;,&quot;name&quot;:&quot;trace 1&quot;,&quot;line&quot;:{},&quot;marker&quot;:{&quot;line&quot;:{&quot;width&quot;:0},&quot;maxdisplayed&quot;:200,&quot;opacity&quot;:1,&quot;color&quot;:&quot;rgb(31, 119, 180)&quot;},&quot;textfont&quot;:{},&quot;error_y&quot;:{&quot;visible&quot;:false},&quot;error_x&quot;:{},&quot;connectgaps&quot;:true,&quot;mode&quot;:&quot;markers&quot;,&quot;fill&quot;:&quot;none&quot;,&quot;opacity&quot;:0.83}];
var layout = {&quot;title&quot;:&quot;Click to enter Plot title&quot;,&quot;xaxis&quot;:{&quot;range&quot;:[0.9756871661128013,3.012488927464219],&quot;type&quot;:&quot;linear&quot;,&quot;showline&quot;:false,&quot;mirror&quot;:false,&quot;linecolor&quot;:&quot;#444&quot;,&quot;linewidth&quot;:1,&quot;tick0&quot;:0,&quot;dtick&quot;:0.5,&quot;ticks&quot;:&quot;&quot;,&quot;ticklen&quot;:5,&quot;tickwidth&quot;:1,&quot;tickcolor&quot;:&quot;#444&quot;,&quot;nticks&quot;:0,&quot;showticklabels&quot;:true,&quot;tickangle&quot;:&quot;auto&quot;,&quot;exponentformat&quot;:&quot;B&quot;,&quot;showexponent&quot;:&quot;all&quot;,&quot;showgrid&quot;:true,&quot;gridcolor&quot;:&quot;#eee&quot;,&quot;gridwidth&quot;:1,&quot;autorange&quot;:false,&quot;rangemode&quot;:&quot;normal&quot;,&quot;autotick&quot;:true,&quot;zeroline&quot;:true,&quot;zerolinecolor&quot;:&quot;#444&quot;,&quot;zerolinewidth&quot;:1,&quot;titlefont&quot;:{&quot;family&quot;:&quot;&quot;,&quot;size&quot;:0,&quot;color&quot;:&quot;&quot;},&quot;tickfont&quot;:{&quot;family&quot;:&quot;&quot;,&quot;size&quot;:0,&quot;color&quot;:&quot;&quot;},&quot;overlaying&quot;:false,&quot;domain&quot;:[0,1],&quot;position&quot;:0,&quot;anchor&quot;:&quot;y&quot;,&quot;title&quot;:&quot;T&amp;nbsp;&quot;},&quot;yaxis&quot;:{&quot;range&quot;:[-0.06325424912526242,1.0523024145064466],&quot;type&quot;:&quot;linear&quot;,&quot;showline&quot;:false,&quot;mirror&quot;:false,&quot;linecolor&quot;:&quot;#444&quot;,&quot;linewidth&quot;:1,&quot;tick0&quot;:0,&quot;dtick&quot;:0.2,&quot;ticks&quot;:&quot;&quot;,&quot;ticklen&quot;:5,&quot;tickwidth&quot;:1,&quot;tickcolor&quot;:&quot;#444&quot;,&quot;nticks&quot;:0,&quot;showticklabels&quot;:true,&quot;tickangle&quot;:&quot;auto&quot;,&quot;exponentformat&quot;:&quot;B&quot;,&quot;showexponent&quot;:&quot;all&quot;,&quot;showgrid&quot;:true,&quot;gridcolor&quot;:&quot;#eee&quot;,&quot;gridwidth&quot;:1,&quot;autorange&quot;:false,&quot;rangemode&quot;:&quot;normal&quot;,&quot;autotick&quot;:true,&quot;zeroline&quot;:true,&quot;zerolinecolor&quot;:&quot;#444&quot;,&quot;zerolinewidth&quot;:1,&quot;titlefont&quot;:{&quot;family&quot;:&quot;&quot;,&quot;size&quot;:0,&quot;color&quot;:&quot;&quot;},&quot;tickfont&quot;:{&quot;family&quot;:&quot;&quot;,&quot;size&quot;:0,&quot;color&quot;:&quot;&quot;},&quot;overlaying&quot;:false,&quot;domain&quot;:[0,1],&quot;position&quot;:0,&quot;anchor&quot;:&quot;x&quot;,&quot;title&quot;:&quot;M&quot;},&quot;legend&quot;:{&quot;bgcolor&quot;:&quot;#fff&quot;,&quot;bordercolor&quot;:&quot;#444&quot;,&quot;borderwidth&quot;:0,&quot;font&quot;:{&quot;family&quot;:&quot;&quot;,&quot;size&quot;:0,&quot;color&quot;:&quot;&quot;},&quot;traceorder&quot;:&quot;normal&quot;,&quot;xanchor&quot;:&quot;left&quot;,&quot;yanchor&quot;:&quot;top&quot;,&quot;x&quot;:1.02,&quot;y&quot;:1},&quot;width&quot;:1024,&quot;height&quot;:663,&quot;autosize&quot;:true,&quot;margin&quot;:{&quot;l&quot;:80,&quot;r&quot;:80,&quot;t&quot;:100,&quot;b&quot;:80,&quot;pad&quot;:0,&quot;autoexpand&quot;:true},&quot;paper_bgcolor&quot;:&quot;#fff&quot;,&quot;plot_bgcolor&quot;:&quot;#fff&quot;,&quot;barmode&quot;:&quot;group&quot;,&quot;bargap&quot;:0.2,&quot;bargroupgap&quot;:0,&quot;boxmode&quot;:&quot;overlay&quot;,&quot;boxgap&quot;:0.3,&quot;boxgroupgap&quot;:0.3,&quot;font&quot;:{&quot;family&quot;:&quot;'Open sans', verdana, arial, sans-serif&quot;,&quot;size&quot;:12,&quot;color&quot;:&quot;#444&quot;},&quot;titlefont&quot;:{&quot;family&quot;:&quot;&quot;,&quot;size&quot;:0,&quot;color&quot;:&quot;&quot;},&quot;dragmode&quot;:&quot;zoom&quot;,&quot;hovermode&quot;:&quot;x&quot;,&quot;separators&quot;:&quot;.,&quot;,&quot;hidesources&quot;:false,&quot;smith&quot;:false,&quot;showlegend&quot;:true};
Plotly.plot(Tabs.get(), data, layout);
&lt;/script&gt;&lt;/html&gt;</pre>
</div>
<div title="d3: linePlot" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405130023" modified="201405130139" tags="d3 excludeTimeline" changecount="9" content-type="text/x-tiddlywiki">
<pre>&lt;html&gt;

&lt;style&gt;


.axis path,
.axis line {
  fill: none;
  stroke: #000;
  shape-rendering: crispEdges;
}

.x.axis path {
  display: none;
}

.line {
  fill: none;
  stroke: steelblue;
  stroke-width: 1.5px;
}

&lt;/style&gt;&lt;div id=&quot;lineplot&quot;&gt;&lt;/html&gt;


&lt;script&gt;

var margin = {top: 20, right: 10, bottom: 20, left: 10},
    width = 600- margin.left - margin.right,
    height = 400- margin.top - margin.bottom;

var parseDate = d3.time.format(&quot;%d-%b-%y&quot;).parse;

var x = d3.time.scale()
    .range([0, width]);

var y = d3.scale.linear()
    .range([height, 0]);

var xAxis = d3.svg.axis()
    .scale(x)
    .orient(&quot;bottom&quot;);

var yAxis = d3.svg.axis()
    .scale(y)
    .orient(&quot;left&quot;);

var line = d3.svg.line()
    .x(function(d) { return x(d.date); })
    .y(function(d) { return y(d.close); });

var svg = d3.select(&quot;lineplot&quot;).append(&quot;svg&quot;)
    .attr(&quot;width&quot;, width + margin.left + margin.right)
    .attr(&quot;height&quot;, height + margin.top + margin.bottom)
  .append(&quot;g&quot;)
    .attr(&quot;transform&quot;, &quot;translate(&quot; + margin.left + &quot;,&quot; + margin.top + &quot;)&quot;);

d3.tsv(&quot;data.tsv&quot;, function(error, data) {
  data.forEach(function(d) {
    d.date = parseDate(d.date);
    d.close = +d.close;
  });

  x.domain(d3.extent(data, function(d) { return d.date; }));
  y.domain(d3.extent(data, function(d) { return d.close; }));

  svg.append(&quot;g&quot;)
      .attr(&quot;class&quot;, &quot;x axis&quot;)
      .attr(&quot;transform&quot;, &quot;translate(0,&quot; + height + &quot;)&quot;)
      .call(xAxis);

  svg.append(&quot;g&quot;)
      .attr(&quot;class&quot;, &quot;y axis&quot;)
      .call(yAxis)
    .append(&quot;text&quot;)
      .attr(&quot;transform&quot;, &quot;rotate(-90)&quot;)
      .attr(&quot;y&quot;, 6)
      .attr(&quot;dy&quot;, &quot;.71em&quot;)
      .style(&quot;text-anchor&quot;, &quot;end&quot;)
      .text(&quot;Price ($)&quot;);

  svg.append(&quot;path&quot;)
      .datum(data)
      .attr(&quot;class&quot;, &quot;line&quot;)
      .attr(&quot;d&quot;, line);
});

&lt;/script&gt;
&lt;html&gt;&lt;/div&gt;&lt;/html&gt;</pre>
</div>
<div title="d3: stacked" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405122315" modified="201405132146" tags="d3 excludeTimeline" content-type="text/x-tiddlywiki" changecount="71">
<pre>&lt;html&gt;&lt;style&gt;
#stacked text {
  font: 10px sans-serif;
}

#stacked .axis path,
#stacked .axis line {
  fill: none;
  stroke: #000;
  shape-rendering: crispEdges;
}
&lt;/style&gt;
&lt;form&gt;
  &lt;label&gt;&lt;input type=&quot;radio&quot; name=&quot;mode&quot; value=&quot;grouped&quot;&gt; Grouped&lt;/label&gt;
  &lt;label&gt;&lt;input type=&quot;radio&quot; name=&quot;mode&quot; value=&quot;stacked&quot; checked&gt; Stacked&lt;/label&gt;
&lt;/form&gt;&lt;div id=&quot;stacked&quot;&gt;&lt;/div&gt;
&lt;/html&gt;
&lt;script&gt;
 
var n = 4, // number of layers
    m = 58, // number of samples per layer
    stack = d3.layout.stack(),
    layers = stack(d3.range(n).map(function() { return bumpLayer(m, .1); })),
    yGroupMax = d3.max(layers, function(layer) { return d3.max(layer, function(d) { return d.y; }); }),
    yStackMax = d3.max(layers, function(layer) { return d3.max(layer, function(d) { return d.y0 + d.y; }); });

var margin = {top: 0, right: 10, bottom: 30, left: 10},
    width = 1000-margin.left - margin.right,
    height = 400- margin.top - margin.bottom;

var x = d3.scale.ordinal()
    .domain(d3.range(m))
    .rangeRoundBands([0, width], .08);

var y = d3.scale.linear()
    .domain([0, yStackMax])
    .range([height, 0]);

var color = d3.scale.linear()
    .domain([0, n - 1])
    .range([&quot;#aad&quot;, &quot;#556&quot;]);

var xAxis = d3.svg.axis()
    .scale(x)
    .tickSize(0)
    .tickPadding(6)
    .orient(&quot;bottom&quot;);

var svg = d3.select(&quot;#stacked&quot;).append(&quot;svg&quot;)
    .attr(&quot;width&quot;, width + margin.left + margin.right)
    .attr(&quot;height&quot;, height + margin.top + margin.bottom)
  .append(&quot;g&quot;)
    .attr(&quot;transform&quot;, &quot;translate(&quot; + margin.left + &quot;,&quot; + margin.top + &quot;)&quot;);

var layer = svg.selectAll(&quot;.layer&quot;)
    .data(layers)
  .enter().append(&quot;g&quot;)
    .attr(&quot;class&quot;, &quot;layer&quot;)
    .style(&quot;fill&quot;, function(d, i) { return color(i); });

var rect = layer.selectAll(&quot;rect&quot;)
    .data(function(d) { return d; })
  .enter().append(&quot;rect&quot;)
    .attr(&quot;x&quot;, function(d) { return x(d.x); })
    .attr(&quot;y&quot;, height)
    .attr(&quot;width&quot;, x.rangeBand())
    .attr(&quot;height&quot;, 0);

rect.transition()
    .delay(function(d, i) { return i * 10; })
    .attr(&quot;y&quot;, function(d) { return y(d.y0 + d.y); })
    .attr(&quot;height&quot;, function(d) { return y(d.y0) - y(d.y0 + d.y); });

svg.append(&quot;g&quot;)
    .attr(&quot;class&quot;, &quot;x axis&quot;)
    .attr(&quot;transform&quot;, &quot;translate(0,&quot; + height + &quot;)&quot;)
    .call(xAxis);

d3.selectAll(&quot;input&quot;).on(&quot;change&quot;, change);

var timeout = setTimeout(function() {
  d3.select(&quot;input[value=\&quot;grouped\&quot;]&quot;).property(&quot;checked&quot;, true).each(change);
}, 2000);

function change() {
  clearTimeout(timeout);
  if (this.value === &quot;grouped&quot;) transitionGrouped();
  else transitionStacked();
}

function transitionGrouped() {
  y.domain([0, yGroupMax]);

  rect.transition()
      .duration(500)
      .delay(function(d, i) { return i * 10; })
      .attr(&quot;x&quot;, function(d, i, j) { return x(d.x) + x.rangeBand() / n * j; })
      .attr(&quot;width&quot;, x.rangeBand() / n)
    .transition()
      .attr(&quot;y&quot;, function(d) { return y(d.y); })
      .attr(&quot;height&quot;, function(d) { return height - y(d.y); });
}

function transitionStacked() {
  y.domain([0, yStackMax]);

  rect.transition()
      .duration(500)
      .delay(function(d, i) { return i * 10; })
      .attr(&quot;y&quot;, function(d) { return y(d.y0 + d.y); })
      .attr(&quot;height&quot;, function(d) { return y(d.y0) - y(d.y0 + d.y); })
    .transition()
      .attr(&quot;x&quot;, function(d) { return x(d.x); })
      .attr(&quot;width&quot;, x.rangeBand());
}

// Inspired by Lee Byron's test data generator.//
function bumpLayer(n, o) {

  function bump(a) {
    var x = 1 / (.1 + Math.random()),
        y = 2 * Math.random() - .5,
        z = 10 / (.1 + Math.random());
    for (var i = 0; i &lt; n; i++) {
      var w = (i / n - y) * z;
      a[i] += x * Math.exp(-w * w);
    }
  }

  var a = [], i;
  for (i = 0; i &lt; n; ++i) a[i] = o + o * Math.random();
  for (i = 0; i &lt; 5; ++i) bump(a);
  return a.map(function(d, i) { return {x: i, y: Math.max(0, d)}; });
}
 
    var height = 400; var width = 600;  /* set the graph size in px */

     /* Attributes that give shape to the div */
     var divShape = [ { obj: &quot;#stacked&quot;, key: &quot;height&quot;, value: height },
                             { obj: &quot;#stacked&quot;, key: &quot;width&quot;, value: width },
                             { obj: &quot;#stacked&quot;, key: &quot;margin&quot;, value: &quot;auto&quot; },
                             { obj: &quot;#stacked&quot;, key: &quot;display&quot;, value: &quot;block&quot; },   
							 { obj: &quot;#stacked&quot;, key: &quot;overflow&quot;, value: &quot;hidden&quot; },
							  { obj: &quot;#stacked&quot;, key: &quot;margin-bottom&quot;, value: &quot;-40px&quot; }        
                            ]; 
     divShape.forEach(function(d) {
         jQuery(d.obj).css( d.key, d.value ); /* push the attributes to the canvas */
      });
&lt;/script&gt;</pre>
</div>
<div title="d3: xkcd" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405130041" modified="201405150001" tags="d3 excludeTimeline" changecount="148" content-type="text/x-tiddlywiki">
<pre>&lt;html&gt;&lt;div id=&quot;xkcd&quot;&gt;&lt;/div&gt;
&lt;style&gt;

@font-face {
    font-family: &quot;xkcd&quot;;
    src: url('http://antiyawn.com/uploads/Humor-Sans-1.0.ttf');
}


#xkcd text.title {font-family: &quot;xkcd&quot;;
    font-size: 20px;
}

#xkcd text.label {font-family: &quot;xkcd&quot;;font-size: 16px;}

#xkcd path {
    fill: none;
    stroke-width: 2.5px;
    stroke-linecap: round;
    stroke-linejoin: round;
}

#xkcd path.axis {
    stroke: black;
}

#xkcd path.bgline {
    stroke: white;
    stroke-width: 6px;
}

&lt;/style&gt;
&lt;/html&gt;
&lt;script&gt;
	function xkcdplot() {



    // Default parameters.
    var width = 500,
        height = 300,
        margin = 40,
        arrowSize = 12,
        arrowAspect = 0.4,
        arrowOffset = 6,
        magnitude = 0.003,
        xlabel = &quot;Time of Day&quot;,
        ylabel = &quot;Awesomeness&quot;,
        title = &quot;The most important graph ever made&quot;,
        xlim,
        ylim;

    // Plot elements.
    var el,
        xscale = d3.scale.linear(),
        yscale = d3.scale.linear();

    // Plotting functions.
    var elements = [];

    // The XKCD object itself.
    var xkcd = function (nm) {
        el = d3.select(nm).append(&quot;svg&quot;)
                    .attr(&quot;width&quot;, width + 2 * margin)
                    .attr(&quot;height&quot;, height + 2 * margin)
                .append(&quot;g&quot;)
                    .attr(&quot;transform&quot;, &quot;translate(&quot; + margin + &quot;, &quot;
                                                    + margin + &quot;)&quot;);
        return xkcd;
    };

    // Getters and setters.
    xkcd.xlim = function () {
        if (!arguments.length) return xlim;
        xlim = arguments[0];
        return xkcd;
    };

    // Do the render.
    xkcd.draw = function () {
        // Set the axes limits.
        xscale.domain(xlim).range([0, width]);
        yscale.domain(ylim).range([height, 0]);

        // Compute the zero points where the axes will be drawn.
        var x0 = xscale(0),
            y0 = yscale(0);

        // Draw the axes.
        var axis = d3.svg.line().interpolate(xinterp);
        el.selectAll(&quot;.axis&quot;).remove();
        el.append(&quot;svg:path&quot;)
            .attr(&quot;class&quot;, &quot;x axis&quot;)
            .attr(&quot;d&quot;, axis([[0, y0], [width, y0]]));
        el.append(&quot;svg:path&quot;)
            .attr(&quot;class&quot;, &quot;y axis&quot;)
            .attr(&quot;d&quot;, axis([[x0, 0], [x0, height]]));

        // Laboriously draw some arrows at the ends of the axes.
        var aa = arrowAspect * arrowSize,
            o = arrowOffset,
            s = arrowSize;
        el.append(&quot;svg:path&quot;)
            .attr(&quot;class&quot;, &quot;x axis arrow&quot;)
            .attr(&quot;d&quot;, axis([[width - s + o, y0 + aa], [width + o, y0], [width - s + o, y0 - aa]]));
        el.append(&quot;svg:path&quot;)
            .attr(&quot;class&quot;, &quot;x axis arrow&quot;)
            .attr(&quot;d&quot;, axis([[s - o, y0 + aa], [-o, y0], [s - o, y0 - aa]]));
        el.append(&quot;svg:path&quot;)
            .attr(&quot;class&quot;, &quot;y axis arrow&quot;)
            .attr(&quot;d&quot;, axis([[x0 + aa, s - o], [x0, -o], [x0 - aa, s - o]]));
        el.append(&quot;svg:path&quot;)
            .attr(&quot;class&quot;, &quot;y axis arrow&quot;)
            .attr(&quot;d&quot;, axis([[x0 + aa, height - s + o], [x0, height + o], [x0 - aa, height - s + o]]));

        for (var i = 0, l = elements.length; i &lt; l; ++i) {
            var e = elements[i];
            e.func(e.data, e.x, e.y, e.opts);
        }

        // Add some axes labels.
        el.append(&quot;text&quot;).attr(&quot;class&quot;, &quot;x label&quot;)
                              .attr(&quot;text-anchor&quot;, &quot;end&quot;)
                              .attr(&quot;x&quot;, width - 2*s )
                              .attr(&quot;y&quot;, y0 + aa)
                              .attr(&quot;dy&quot;, &quot;.75em&quot;)
                              .text(xlabel);
        el.append(&quot;text&quot;).attr(&quot;class&quot;, &quot;y label&quot;)
                              .attr(&quot;text-anchor&quot;, &quot;end&quot;)
                              .attr(&quot;x&quot;, aa)
                              .attr(&quot;y&quot;, x0)
                              .attr(&quot;dy&quot;, &quot;-.75em&quot;)
                              .attr(&quot;transform&quot;, &quot;rotate(-90)&quot;)
                              .text(ylabel);

        // And a title.
        el.append(&quot;text&quot;).attr(&quot;class&quot;, &quot;title&quot;)
                              .attr(&quot;text-anchor&quot;, &quot;end&quot;)
                              .attr(&quot;x&quot;, &quot;23em&quot;)
                              .attr(&quot;y&quot;, &quot;-1em&quot;)
                              .text(title);

        return xkcd;
    };

    // Adding plot elements.
    xkcd.plot = function (data, opts) {
        var x = function (d) { return d.x; },
            y = function (d) { return d.y; },
            cx = function (d) { return xscale(x(d)); },
            cy = function (d) { return yscale(y(d)); },
            xl = d3.extent(data, x),
            yl = d3.extent(data, y);

        // Rescale the axes.
        xlim = xlim || xl;
        xlim[0] = Math.min(xlim[0], xl[0]);
        xlim[1] = Math.max(xlim[1], xl[1]);
        ylim = ylim || yl;
        ylim[0] = Math.min(ylim[0], yl[0]);
        ylim[1] = Math.max(ylim[1], yl[1]);

        // Add the plotting function.
        elements.push({
                        data: data,
                        func: lineplot,
                        x: cx,
                        y: cy,
                        opts: opts
                      });

        return xkcd;
    };

    // Plot styles.
    function lineplot(data, x, y, opts) {
        var line = d3.svg.line().x(x).y(y).interpolate(xinterp),
            bgline = d3.svg.line().x(x).y(y),
            strokeWidth = _get(opts, &quot;stroke-width&quot;, 3),
            color = _get(opts, &quot;stroke&quot;, &quot;steelblue&quot;);
        el.append(&quot;svg:path&quot;).attr(&quot;d&quot;, bgline(data))
                             .style(&quot;stroke&quot;, &quot;white&quot;)
                             .style(&quot;stroke-width&quot;, 2 * strokeWidth + &quot;px&quot;)
                             .style(&quot;fill&quot;, &quot;none&quot;)
                             .attr(&quot;class&quot;, &quot;bgline&quot;);
        el.append(&quot;svg:path&quot;).attr(&quot;d&quot;, line(data))
                             .style(&quot;stroke&quot;, color)
                             .style(&quot;stroke-width&quot;, strokeWidth + &quot;px&quot;)
                             .style(&quot;fill&quot;, &quot;none&quot;);
    };

    // XKCD-style line interpolation. Roughly based on:
    //    jakevdp.github.com/blog/2012/10/07/xkcd-style-plots-in-matplotlib
    function xinterp (points) {
        // Scale the data.
        var f = [xscale(xlim[1]) - xscale(xlim[0]),
                 yscale(ylim[1]) - yscale(ylim[0])],
            z = [xscale(xlim[0]),
                 yscale(ylim[0])],
            scaled = points.map(function (p) {
                return [(p[0] - z[0]) / f[0], (p[1] - z[1]) / f[1]];
            });

        // Compute the distance along the path using a map-reduce.
        var dists = scaled.map(function (d, i) {
            if (i == 0) return 0.0;
            var dx = d[0] - scaled[i - 1][0],
                dy = d[1] - scaled[i - 1][1];
            return Math.sqrt(dx * dx + dy * dy);
        }),
            dist = dists.reduce(function (curr, d) { return d + curr; }, 0.0);

        // Choose the number of interpolation points based on this distance.
        var N = Math.round(200 * dist);

        // Re-sample the line.
        var resampled = [];
        dists.map(function (d, i) {
            if (i == 0) return;
            var n = Math.max(3, Math.round(d / dist * N)),
                spline = d3.interpolate(scaled[i - 1][1], scaled[i][1]),
                delta = (scaled[i][0] - scaled[i - 1][0]) / (n - 1);
            for (var j = 0, x = scaled[i - 1][0]; j &lt; n; ++j, x += delta)
                resampled.push([x, spline(j / (n - 1))]);
        });

        // Compute the gradients.
        var gradients = resampled.map(function (a, i, d) {
            if (i == 0) return [d[1][0] - d[0][0], d[1][1] - d[0][1]];
            if (i == resampled.length - 1)
                return [d[i][0] - d[i - 1][0], d[i][1] - d[i - 1][1]];
            return [0.5 * (d[i + 1][0] - d[i - 1][0]),
                    0.5 * (d[i + 1][1] - d[i - 1][1])];
        });

        // Normalize the gradient vectors to be unit vectors.
        gradients = gradients.map(function (d) {
            var len = Math.sqrt(d[0] * d[0] + d[1] * d[1]);
            return [d[0] / len, d[1] / len];
        });

        // Generate some perturbations.
        var perturbations = smooth(resampled.map(d3.random.normal()), 3);

        // Add in the perturbations and re-scale the re-sampled curve.
        var result = resampled.map(function (d, i) {
            var p = perturbations[i],
                g = gradients[i];
            return [(d[0] + magnitude * g[1] * p) * f[0] + z[0],
                    (d[1] - magnitude * g[0] * p) * f[1] + z[1]];
        });

        return result.join(&quot;L&quot;);
    }

    // Smooth some data with a given window size.
    function smooth(d, w) {
        var result = [];
        for (var i = 0, l = d.length; i &lt; l; ++i) {
            var mn = Math.max(0, i - 5 * w),
                mx = Math.min(d.length - 1, i + 5 * w),
                s = 0.0;
            result[i] = 0.0;
            for (var j = mn; j &lt; mx; ++j) {
                var wd = Math.exp(-0.5 * (i - j) * (i - j) / w / w);
                result[i] += wd * d[j];
                s += wd;
            }
            result[i] /= s;
        }
        return result;
    }

    // Get a value from an object or return a default if that doesn't work.
    function _get(d, k, def) {
        if (typeof d === &quot;undefined&quot;) return def;
        if (typeof d[k] === &quot;undefined&quot;) return def;
        return d[k];
    }

    return xkcd;

}

        // Generate some data.
        function f1 (x) {
            return x*Math.sin(100/(Math.abs(x) + 1));
        }

      //  function f2 (x) {
      //      return 0.5 * Math.cos(x - 0.5) + 0.1;
      //  }
		//return Math.pow(1-Math.pow(Math.sinh(Math.log(1+Math.sqrt(2))*(4/(x))),-4),1/8);

		function sinh (x) { 
		return 0.5 * (Math.exp(x) - Math.exp(-x));
		}
		var math = mathjs();
		function f2 (x) {
		//return (1-(sinh(Math.log(1+Math.sqrt(2))*(8/x)))^(-4))^(1/8);
		//return Math.sin(x)+Math.sin(2*x)+Math.sin(3*x);
		return 1.5*Math.pow(1-Math.pow(math.sinh(Math.log(1+Math.sqrt(2))*(2/(Math.abs(x)))),-4),1/8);
		//return sinh(x);
		}
        var xmin = 0.01,
            xmax = 2,
            N = 1000,
            data = d3.range(xmin, xmax, (xmax - xmin) / N).map(function (d) {
                return {x: d, y: f1(d)};
            })
            data2 = d3.range(xmin, xmax, (xmax - xmin) / N).map(function (d) {
                return {x: d, y: f2(d)};
            });
			

        // Build the plot.
        var plot = xkcdplot();
        plot(&quot;#xkcd&quot;);

        // Add the lines.
        plot.plot(data);
        plot.plot(data2, {stroke: &quot;red&quot;});

        // Render the image.
	
        plot.xlim([0, 2]).draw();

    var height = 400; var width =600;  /* set the graph size in px */

     /* Attributes that give shape to the div */
     var divShape = [ { obj: &quot;#xkcd&quot;, key: &quot;height&quot;, value: height },
                             { obj: &quot;#xkcd&quot;, key: &quot;width&quot;, value: width },
                             { obj: &quot;#xkcd&quot;, key: &quot;margin&quot;, value: &quot;auto&quot; },
                             { obj: &quot;#xkcd&quot;, key: &quot;display&quot;, value: &quot;block&quot; },   
							 { obj: &quot;#xkcd&quot;, key: &quot;overflow&quot;, value: &quot;hidden&quot; },
							  { obj: &quot;#xkcd&quot;, key: &quot;margin-bottom&quot;, value: &quot;-100px&quot; } 
                            ]; 
     divShape.forEach(function(d) {
         jQuery(d.obj).css( d.key, d.value ); /* push the attributes to the canvas */
      });
&lt;/script&gt;</pre>
</div>
<div title="d3tw Examples" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405122240" modified="201405122253" tags="example excludeTimeline" changecount="20" content-type="text/x-tiddlywiki" alias="">
<pre>This is built on top of d3.js, but pretty limited in application, and looks like garbage.

&lt;&lt;tiddler [[d3tw: Line Plot]]&gt;&gt;
&lt;&lt;tiddler [[d3tw: Smart Graph]]&gt;&gt;
&lt;&lt;tiddler [[d3tw: Everything Plot]]&gt;&gt;</pre>
</div>
<div title="d3tw: Everything Plot" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405122045" modified="201405132126" tags="d3tw excludeTimeline" changecount="37" content-type="text/x-tiddlywiki">
<pre>&lt;html&gt;&lt;div id=&quot;chart1&quot;&gt;&lt;/div&gt;&lt;/html&gt;
&lt;script&gt;
    /* set width for div and svg */
    var height = 300; var width = 400;  /* set the graph size in px */

     /* Attributes that give shape to the div */
     var divShape = [ { obj: &quot;#chart1&quot;, key: &quot;height&quot;, value: height },
                             { obj: &quot;#chart1&quot;, key: &quot;width&quot;, value: width },
                             { obj: &quot;#chart1&quot;, key: &quot;margin&quot;, value: &quot;auto&quot; },
                             { obj: &quot;#chart1&quot;, key: &quot;display&quot;, value: &quot;block&quot; },   
							 { obj: &quot;#chart1&quot;, key: &quot;overflow&quot;, value: &quot;hidden&quot; } ,
							 { obj: &quot;#chart1&quot;, key: &quot;margin-bottom&quot;, value: &quot;-20px&quot; } 
                            ]; 
     divShape.forEach(function(d) {
         jQuery(d.obj).css( d.key, d.value ); /* push the attributes to the canvas */
      });
	

     /* sample taken from the documentation available at http://c3js.org */
     /* attache the chart container to .viewer, every graph should have its own id, thus chart1, chart2 etc */
 


var chart = c3.generate({
bindto: '#chart1',
    data: {
        columns: [
            ['data1', 30, 20, 50, 40, 60, 50],
            ['data2', 200, 130, 90, 240, 130, 220],
            ['data3', 300, 200, 160, 400, 250, 250],
            ['data4', 200, 130, 90, 240, 130, 220],
            ['data5', 130, 120, 150, 140, 160, 150],
            ['data6', 90, 70, 20, 50, 60, 120],
        ],
		svg: 'svga',
        type: 'bar',
        types: {
            data3: 'spline',
            data4: 'line',
            data6: 'area',
        },
        groups: [
            ['data1','data2']
        ]
    }
});
&lt;/script&gt;</pre>
</div>
<div title="d3tw: Line Plot" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405122014" modified="201405132128" tags="d3tw excludeTimeline" changecount="49" content-type="text/x-tiddlywiki">
<pre>&lt;html&gt;&lt;div id=&quot;chart3&quot;&gt;&lt;/div&gt;&lt;/html&gt;
&lt;script&gt;

    /* set width for div and svg */
   var height = 300; var width = 400;  /* set the graph size in px */

     /* Attributes that give shape to the div */
     var divShape = [ { obj: &quot;#chart3&quot;, key: &quot;height&quot;, value: height },
                             { obj: &quot;#chart3&quot;, key: &quot;width&quot;, value: width },
                             { obj: &quot;#chart3&quot;, key: &quot;margin&quot;, value: &quot;auto&quot; },
                             { obj: &quot;#chart3&quot;, key: &quot;display&quot;, value: &quot;block&quot; },   
							 { obj: &quot;#chart3&quot;, key: &quot;overflow&quot;, value: &quot;hidden&quot; }  ,
							 { obj: &quot;#chart3&quot;, key: &quot;margin-bottom&quot;, value: &quot;-20px&quot; }      
                            ]; 
     divShape.forEach(function(d) {
         jQuery(d.obj).css( d.key, d.value ); /* push the attributes to the canvas */
      });
var chart = c3.generate({
bindto: '#chart3',
    data: {
        x: 'x',
        columns: [
            ['x', 30, 50, 100, 230, 300, 310],
            ['data1', 30, 200, 100, 400, 150, 250],
            ['data2', 130, 300, 200, 300, 250, 450]
        ]
    }
});

setTimeout(function () {
    chart.load({
        columns: [
            ['data1', 100, 250, 150, 200, 100, 350]
        ]
    });
}, 1000);

setTimeout(function () {
    chart.load({
        columns: [
            ['data3', 80, 150, 100, 180, 80, 150]
        ]
    });
}, 1500);

setTimeout(function () {
    chart.unload('data2');
}, 2000);


&lt;/script&gt;       </pre>
</div>
<div title="d3tw: Magnetization" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405121524" modified="201405132125" tags="d3tw excludeTimeline" changecount="4" content-type="text/x-tiddlywiki">
<pre>&lt;html&gt;&lt;script&gt;
var data = [{&quot;y&quot;:[0.9992758,0.9992606,0.9992451,0.9992294,0.9992135,0.9991973,0.9991809,0.9991642,0.9991472,0.9991299,0.9991124,0.9990947,0.9990766,0.9990583,0.9990396,0.9990207,0.9990015,0.9989821,0.9989623,0.9989422,0.9989218,0.9989012,0.9988802,0.9988589,0.9988373,0.9988154,0.9987931,0.9987706,0.9987477,0.9987245,0.998701,0.9986771,0.9986529,0.9986283,0.9986034,0.9985782,0.9985526,0.9985266,0.9985003,0.9984737,0.9984466,0.9984193,0.9983915,0.9983633,0.9983348,0.9983059,0.9982766,0.998247,0.9982169,0.9981864,0.9981556,0.9981243,0.9980926,0.9980606,0.9980281,0.9979952,0.9979618,0.9979281,0.9978939,0.9978593,0.9978242,0.9977887,0.9977528,0.9977164,0.9976796,0.9976423,0.9976046,0.9975664,0.9975277,0.9974886,0.997449,0.9974089,0.9973683,0.9973272,0.9972857,0.9972437,0.9972011,0.9971581,0.9971145,0.9970705,0.9970259,0.9969808,0.9969352,0.9968891,0.9968424,0.9967952,0.9967474,0.9966992,0.9966503,0.9966009,0.996551,0.9965005,0.9964494,0.9963978,0.9963456,0.9962928,0.9962394,0.9961854,0.9961309,0.9960757,0.99602,0.9959636,0.9959067,0.9958491,0.9957909,0.9957321,0.9956726,0.9956125,0.9955518,0.9954904,0.9954284,0.9953657,0.9953024,0.9952384,0.9951738,0.9951084,0.9950424,0.9949757,0.9949084,0.9948403,0.9947715,0.994702,0.9946319,0.994561,0.9944894,0.994417,0.994344,0.9942702,0.9941956,0.9941204,0.9940443,0.9939676,0.99389,0.9938117,0.9937326,0.9936528,0.9935721,0.9934907,0.9934085,0.9933255,0.9932416,0.993157,0.9930715,0.9929852,0.9928981,0.9928102,0.9927214,0.9926318,0.9925413,0.99245,0.9923578,0.9922647,0.9921708,0.9920759,0.9919802,0.9918836,0.9917861,0.9916876,0.9915883,0.9914881,0.9913869,0.9912847,0.9911817,0.9910777,0.9909727,0.9908668,0.9907599,0.9906521,0.9905432,0.9904334,0.9903226,0.9902108,0.9900979,0.9899841,0.9898692,0.9897533,0.9896364,0.9895184,0.9893994,0.9892793,0.9891582,0.989036,0.9889127,0.9887883,0.9886628,0.9885362,0.9884085,0.9882797,0.9881498,0.9880187,0.9878865,0.9877531,0.9876186,0.9874829,0.987346,0.9872079,0.9870687,0.9869282,0.9867866,0.9866437,0.9864996,0.9863543,0.9862077,0.9860599,0.9859108,0.9857604,0.9856088,0.9854558,0.9853016,0.9851461,0.9849892,0.9848311,0.9846716,0.9845107,0.9843485,0.9841849,0.98402,0.9838537,0.9836859,0.9835168,0.9833463,0.9831743,0.9830009,0.9828261,0.9826498,0.982472,0.9822928,0.982112,0.9819298,0.9817461,0.9815608,0.981374,0.9811857,0.9809958,0.9808044,0.9806113,0.9804167,0.9802205,0.9800227,0.9798232,0.9796221,0.9794193,0.9792149,0.9790088,0.9788011,0.9785916,0.9783804,0.9781675,0.9779528,0.9777364,0.9775182,0.9772983,0.9770765,0.9768529,0.9766275,0.9764003,0.9761712,0.9759403,0.9757075,0.9754728,0.9752361,0.9749976,0.9747571,0.9745146,0.9742702,0.9740238,0.9737754,0.973525,0.9732725,0.973018,0.9727614,0.9725027,0.9722419,0.971979,0.971714,0.9714468,0.9711774,0.9709058,0.9706321,0.9703561,0.9700778,0.9697973,0.9695145,0.9692294,0.9689419,0.9686522,0.96836,0.9680655,0.9677686,0.9674692,0.9671674,0.9668631,0.9665563,0.966247,0.9659352,0.9656208,0.9653038,0.9649843,0.9646621,0.9643372,0.9640097,0.9636795,0.9633465,0.9630108,0.9626723,0.9623311,0.961987,0.96164,0.9612901,0.9609374,0.9605817,0.9602231,0.9598614,0.9594968,0.959129,0.9587582,0.9583843,0.9580073,0.9576271,0.9572437,0.956857,0.9564671,0.9560739,0.9556773,0.9552774,0.9548741,0.9544673,0.9540571,0.9536434,0.9532261,0.9528053,0.9523808,0.9519527,0.9515208,0.9510853,0.950646,0.9502028,0.9497558,0.9493049,0.94885,0.9483912,0.9479284,0.9474614,0.9469904,0.9465151,0.9460357,0.945552,0.945064,0.9445716,0.9440748,0.9435736,0.9430678,0.9425575,0.9420426,0.9415229,0.9409985,0.9404694,0.9399354,0.9393964,0.9388525,0.9383036,0.9377495,0.9371903,0.9366259,0.9360562,0.9354811,0.9349006,0.9343146,0.933723,0.9331257,0.9325227,0.9319139,0.9312993,0.9306786,0.930052,0.9294192,0.9287801,0.9281348,0.9274831,0.9268249,0.9261601,0.9254887,0.9248105,0.9241254,0.9234334,0.9227343,0.922028,0.9213144,0.9205934,0.9198649,0.9191287,0.9183848,0.917633,0.9168733,0.9161053,0.9153292,0.9145446,0.9137514,0.9129496,0.912139,0.9113194,0.9104906,0.9096526,0.9088051,0.9079479,0.907081,0.9062041,0.905317,0.9044196,0.9035117,0.902593,0.9016634,0.9007226,0.8997705,0.8988067,0.8978312,0.8968436,0.8958437,0.8948313,0.8938061,0.8927677,0.891716,0.8906507,0.8895715,0.888478,0.8873699,0.8862469,0.8851088,0.883955,0.8827853,0.8815993,0.8803966,0.8791767,0.8779393,0.876684,0.8754102,0.8741175,0.8728054,0.8714735,0.870121,0.8687476,0.8673526,0.8659355,0.8644955,0.8630321,0.8615445,0.8600321,0.858494,0.8569295,0.8553378,0.8537179,0.8520691,0.8503902,0.8486804,0.8469385,0.8451635,0.8433541,0.8415091,0.8396272,0.837707,0.8357471,0.8337458,0.8317014,0.8296123,0.8274766,0.8252922,0.823057,0.8207686,0.8184247,0.8160226,0.8135595,0.8110323,0.8084377,0.8057722,0.8030319,0.8002126,0.7973097,0.7943182,0.7912327,0.7880472,0.7847551,0.7813491,0.777821,0.7741618,0.7703615,0.7664087,0.7622906,0.7579925,0.753498,0.748788,0.7438402,0.738629,0.7331239,0.727289,0.7210807,0.7144463,0.7073205,0.6996214,0.6912439,0.6820501,0.671854,0.660395,0.6472917,0.6319509,0.6133708,0.5896369,0.5562479,0.4965872,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001],&quot;x&quot;:[1,1.0025,1.005,1.0075,1.01,1.0125,1.015,1.0175,1.02,1.0225,1.025,1.0275,1.03,1.0325,1.035,1.0375,1.04,1.0425,1.045,1.0475,1.05,1.0525,1.055,1.0575,1.06,1.0625,1.065,1.0675,1.07,1.0725,1.075,1.0775,1.08,1.0825,1.085,1.0875,1.09,1.0925,1.095,1.0975,1.1,1.1025,1.105,1.1075,1.11,1.1125,1.115,1.1175,1.12,1.1225,1.125,1.1275,1.13,1.1325,1.135,1.1375,1.14,1.1425,1.145,1.1475,1.15,1.1525,1.155,1.1575,1.16,1.1625,1.165,1.1675,1.17,1.1725,1.175,1.1775,1.18,1.1825,1.185,1.1875,1.19,1.1925,1.195,1.1975,1.2,1.2025,1.205,1.2075,1.21,1.2125,1.215,1.2175,1.22,1.2225,1.225,1.2275,1.23,1.2325,1.235,1.2375,1.24,1.2425,1.245,1.2475,1.25,1.2525,1.255,1.2575,1.26,1.2625,1.265,1.2675,1.27,1.2725,1.275,1.2775,1.28,1.2825,1.285,1.2875,1.29,1.2925,1.295,1.2975,1.3,1.3025,1.305,1.3075,1.31,1.3125,1.315,1.3175,1.32,1.3225,1.325,1.3275,1.33,1.3325,1.335,1.3375,1.34,1.3425,1.345,1.3475,1.35,1.3525,1.355,1.3575,1.36,1.3625,1.365,1.3675,1.37,1.3725,1.375,1.3775,1.38,1.3825,1.385,1.3875,1.39,1.3925,1.395,1.3975,1.4,1.4025,1.405,1.4075,1.41,1.4125,1.415,1.4175,1.42,1.4225,1.425,1.4275,1.43,1.4325,1.435,1.4375,1.44,1.4425,1.445,1.4475,1.45,1.4525,1.455,1.4575,1.46,1.4625,1.465,1.4675,1.47,1.4725,1.475,1.4775,1.48,1.4825,1.485,1.4875,1.49,1.4925,1.495,1.4975,1.5,1.5025,1.505,1.5075,1.51,1.5125,1.515,1.5175,1.52,1.5225,1.525,1.5275,1.53,1.5325,1.535,1.5375,1.54,1.5425,1.545,1.5475,1.55,1.5525,1.555,1.5575,1.56,1.5625,1.565,1.5675,1.57,1.5725,1.575,1.5775,1.58,1.5825,1.585,1.5875,1.59,1.5925,1.595,1.5975,1.6,1.6025,1.605,1.6075,1.61,1.6125,1.615,1.6175,1.62,1.6225,1.625,1.6275,1.63,1.6325,1.635,1.6375,1.64,1.6425,1.645,1.6475,1.65,1.6525,1.655,1.6575,1.66,1.6625,1.665,1.6675,1.67,1.6725,1.675,1.6775,1.68,1.6825,1.685,1.6875,1.69,1.6925,1.695,1.6975,1.7,1.7025,1.705,1.7075,1.71,1.7125,1.715,1.7175,1.72,1.7225,1.725,1.7275,1.73,1.7325,1.735,1.7375,1.74,1.7425,1.745,1.7475,1.75,1.7525,1.755,1.7575,1.76,1.7625,1.765,1.7675,1.77,1.7725,1.775,1.7775,1.78,1.7825,1.785,1.7875,1.79,1.7925,1.795,1.7975,1.8,1.8025,1.805,1.8075,1.81,1.8125,1.815,1.8175,1.82,1.8225,1.825,1.8275,1.83,1.8325,1.835,1.8375,1.84,1.8425,1.845,1.8475,1.85,1.8525,1.855,1.8575,1.86,1.8625,1.865,1.8675,1.87,1.8725,1.875,1.8775,1.88,1.8825,1.885,1.8875,1.89,1.8925,1.895,1.8975,1.9,1.9025,1.905,1.9075,1.91,1.9125,1.915,1.9175,1.92,1.9225,1.925,1.9275,1.93,1.9325,1.935,1.9375,1.94,1.9425,1.945,1.9475,1.95,1.9525,1.955,1.9575,1.96,1.9625,1.965,1.9675,1.97,1.9725,1.975,1.9775,1.98,1.9825,1.985,1.9875,1.99,1.9925,1.995,1.9975,2,2.0025,2.005,2.0075,2.01,2.0125,2.015,2.0175,2.02,2.0225,2.025,2.0275,2.03,2.0325,2.035,2.0375,2.04,2.0425,2.045,2.0475,2.05,2.0525,2.055,2.0575,2.06,2.0625,2.065,2.0675,2.07,2.0725,2.075,2.0775,2.08,2.0825,2.085,2.0875,2.09,2.0925,2.095,2.0975,2.1,2.1025,2.105,2.1075,2.11,2.1125,2.115,2.1175,2.12,2.1225,2.125,2.1275,2.13,2.1325,2.135,2.1375,2.14,2.1425,2.145,2.1475,2.15,2.1525,2.155,2.1575,2.16,2.1625,2.165,2.1675,2.17,2.1725,2.175,2.1775,2.18,2.1825,2.185,2.1875,2.19,2.1925,2.195,2.1975,2.2,2.2025,2.205,2.2075,2.21,2.2125,2.215,2.2175,2.22,2.2225,2.225,2.2275,2.23,2.2325,2.235,2.2375,2.24,2.2425,2.245,2.2475,2.25,2.2525,2.255,2.2575,2.26,2.2625,2.265,2.2675,2.27,2.2725,2.275,2.2775,2.28,2.2825,2.285,2.2875,2.29,2.2925,2.295,2.2975,2.3,2.3025,2.305,2.3075,2.31,2.3125,2.315,2.3175,2.32,2.3225,2.325,2.3275,2.33,2.3325,2.335,2.3375,2.34,2.3425,2.345,2.3475,2.35,2.3525,2.355,2.3575,2.36,2.3625,2.365,2.3675,2.37,2.3725,2.375,2.3775,2.38,2.3825,2.385,2.3875,2.39,2.3925,2.395,2.3975,2.4,2.4025,2.405,2.4075,2.41,2.4125,2.415,2.4175,2.42,2.4225,2.425,2.4275,2.43,2.4325,2.435,2.4375,2.44,2.4425,2.445,2.4475,2.45,2.4525,2.455,2.4575,2.46,2.4625,2.465,2.4675,2.47,2.4725,2.475,2.4775,2.48,2.4825,2.485,2.4875,2.49,2.4925,2.495,2.4975,2.5,2.5025,2.505,2.5075,2.51,2.5125,2.515,2.5175,2.52,2.5225,2.525,2.5275,2.53,2.5325,2.535,2.5375,2.54,2.5425,2.545,2.5475,2.55,2.5525,2.555,2.5575,2.56,2.5625,2.565,2.5675,2.57,2.5725,2.575,2.5775,2.58,2.5825,2.585,2.5875,2.59,2.5925,2.595,2.5975,2.6,2.6025,2.605,2.6075,2.61,2.6125,2.615,2.6175,2.62,2.6225,2.625,2.6275,2.63,2.6325,2.635,2.6375,2.64,2.6425,2.645,2.6475,2.65,2.6525,2.655,2.6575,2.66,2.6625,2.665,2.6675,2.67,2.6725,2.675,2.6775,2.68,2.6825,2.685,2.6875,2.69,2.6925,2.695,2.6975,2.7,2.7025,2.705,2.7075,2.71,2.7125,2.715,2.7175,2.72,2.7225,2.725,2.7275,2.73,2.7325,2.735,2.7375,2.74,2.7425,2.745,2.7475,2.75,2.7525,2.755,2.7575,2.76,2.7625,2.765,2.7675,2.77,2.7725,2.775,2.7775,2.78,2.7825,2.785,2.7875,2.79,2.7925,2.795,2.7975,2.8,2.8025,2.805,2.8075,2.81,2.8125,2.815,2.8175,2.82,2.8225,2.825,2.8275,2.83,2.8325,2.835,2.8375,2.84,2.8425,2.845,2.8475,2.85,2.8525,2.855,2.8575,2.86,2.8625,2.865,2.8675,2.87,2.8725,2.875,2.8775,2.88,2.8825,2.885,2.8875,2.89,2.8925,2.895,2.8975,2.9,2.9025,2.905,2.9075,2.91,2.9125,2.915,2.9175,2.92,2.9225,2.925,2.9275,2.93,2.9325,2.935,2.9375,2.94,2.9425,2.945,2.9475,2.95,2.9525,2.955,2.9575,2.96,2.9625,2.965,2.9675,2.97,2.9725,2.975,2.9775,2.98,2.9825,2.985,2.9875,2.99,2.9925,2.995,2.9975,3,3.0025,3.005,3.0075,3.01,3.0125,3.015,3.0175,3.02,3.0225,3.025,3.0275,3.03,3.0325,3.035,3.0375,3.04,3.0425,3.045,3.0475,3.05,3.0525,3.055,3.0575,3.06,3.0625,3.065,3.0675,3.07,3.0725,3.075,3.0775,3.08,3.0825,3.085,3.0875,3.09,3.0925,3.095,3.0975,3.1,3.1025,3.105,3.1075,3.11,3.1125,3.115,3.1175,3.12,3.1225,3.125,3.1275,3.13,3.1325,3.135,3.1375,3.14,3.1425,3.145,3.1475,3.15,3.1525,3.155,3.1575,3.16,3.1625,3.165,3.1675,3.17,3.1725,3.175,3.1775,3.18,3.1825,3.185,3.1875,3.19,3.1925,3.195,3.1975,3.2,3.2025,3.205,3.2075,3.21,3.2125,3.215,3.2175,3.22,3.2225,3.225,3.2275,3.23,3.2325,3.235,3.2375,3.24,3.2425,3.245,3.2475,3.25,3.2525,3.255,3.2575,3.26,3.2625,3.265,3.2675,3.27,3.2725,3.275,3.2775,3.28,3.2825,3.285,3.2875,3.29,3.2925,3.295,3.2975,3.3,3.3025,3.305,3.3075,3.31,3.3125,3.315,3.3175,3.32,3.3225,3.325,3.3275,3.33,3.3325,3.335,3.3375,3.34,3.3425,3.345,3.3475,3.35,3.3525,3.355,3.3575,3.36,3.3625,3.365,3.3675,3.37,3.3725,3.375,3.3775,3.38,3.3825,3.385,3.3875,3.39,3.3925,3.395,3.3975,3.4,3.4025,3.405,3.4075,3.41,3.4125,3.415,3.4175,3.42,3.4225,3.425,3.4275,3.43,3.4325,3.435,3.4375,3.44,3.4425,3.445,3.4475,3.45,3.4525,3.455,3.4575,3.46,3.4625,3.465,3.4675,3.47,3.4725,3.475,3.4775,3.48,3.4825,3.485,3.4875,3.49,3.4925,3.495,3.4975,3.5,3.5025,3.505,3.5075,3.51,3.5125,3.515,3.5175,3.52,3.5225,3.525,3.5275,3.53,3.5325,3.535,3.5375,3.54,3.5425,3.545,3.5475,3.55,3.5525,3.555,3.5575,3.56,3.5625,3.565,3.5675,3.57,3.5725,3.575,3.5775,3.58,3.5825,3.585,3.5875,3.59,3.5925,3.595,3.5975,3.6,3.6025,3.605,3.6075,3.61,3.6125,3.615,3.6175,3.62,3.6225,3.625,3.6275,3.63,3.6325,3.635,3.6375,3.64,3.6425,3.645,3.6475,3.65,3.6525,3.655,3.6575,3.66,3.6625,3.665,3.6675,3.67,3.6725,3.675,3.6775,3.68,3.6825,3.685,3.6875,3.69,3.6925,3.695,3.6975,3.7,3.7025,3.705,3.7075,3.71,3.7125,3.715,3.7175,3.72,3.7225,3.725,3.7275,3.73,3.7325,3.735,3.7375,3.74,3.7425,3.745,3.7475,3.75,3.7525,3.755,3.7575,3.76,3.7625,3.765,3.7675,3.77,3.7725,3.775,3.7775,3.78,3.7825,3.785,3.7875,3.79,3.7925,3.795,3.7975,3.8,3.8025,3.805,3.8075,3.81,3.8125,3.815,3.8175,3.82,3.8225,3.825,3.8275,3.83,3.8325,3.835,3.8375,3.84,3.8425,3.845,3.8475,3.85,3.8525,3.855,3.8575,3.86,3.8625,3.865,3.8675,3.87,3.8725,3.875,3.8775,3.88,3.8825,3.885,3.8875,3.89,3.8925,3.895,3.8975,3.9,3.9025,3.905,3.9075,3.91,3.9125,3.915,3.9175,3.92,3.9225,3.925,3.9275,3.93,3.9325,3.935,3.9375,3.94,3.9425,3.945,3.9475,3.95,3.9525,3.955,3.9575,3.96,3.9625,3.965,3.9675,3.97,3.9725,3.975,3.9775,3.98,3.9825,3.985,3.9875,3.99,3.9925,3.995,3.9975,4],&quot;uid&quot;:&quot;01b774&quot;,&quot;type&quot;:&quot;scatter&quot;,&quot;name&quot;:&quot;trace 0&quot;,&quot;line&quot;:{&quot;color&quot;:&quot;rgb(214, 39, 40)&quot;,&quot;dash&quot;:&quot;dashdot&quot;},&quot;marker&quot;:{&quot;line&quot;:{}},&quot;textfont&quot;:{},&quot;error_y&quot;:{},&quot;error_x&quot;:{},&quot;connectgaps&quot;:true},{&quot;y&quot;:[0.999275,0.999111,0.998921,0.998701,0.998446,0.998155,0.997826,0.997448,0.997024,0.996548,0.996024,0.995431,0.994771,0.994043,0.993243,0.99236,0.991387,0.990317,0.989151,0.98789,0.986505,0.98499,0.983348,0.981554,0.979613,0.977519,0.975232,0.972759,0.970099,0.967172,0.964016,0.960568,0.956867,0.952801,0.948399,0.943581,0.938317,0.932518,0.926215,0.919159,0.911254,0.902626,0.892771,0.881622,0.868721,0.853713,0.835459,0.813702,0.261858,0.197322,0.146137,0.028028,0.015608,0.013303,0.005825,0.010577,0.002995,0.001986,0.001343,0.001526,0.002109,0.000958,0.00068,0.000616,0.000525,0.000992,0.000834,0.000441,0.000598,0.000427,0.000451,0.000708,0.000157,0.000228,0.000244,0.000216,0.000221,0.000164,0.000248,0.00035,0.000193,0.000124,0.000107,0.000278,0.000119,0.000253,0.000109,0.000069,0.000085,0.000203,0.000051,0.000094,0.000169,0.000064,0.000294,0.000167,0.000074,0.000099,0.000181,0.000147,0.000073,0.000062,0.000109,0.000182,0.000159,0.000206,0.000062,0.000039,0.000068,0.000046,0.000051,0.000029,0.000085,0.000038,0.000072,0.000077,0.000109,0.000063,0.00008,0.000073,0.000075],&quot;x&quot;:[1,1.025,1.05,1.075,1.1,1.125,1.15,1.175,1.2,1.225,1.25,1.275,1.3,1.325,1.35,1.375,1.4,1.425,1.45,1.475,1.5,1.525,1.55,1.575,1.6,1.625,1.65,1.675,1.7,1.725,1.75,1.775,1.8,1.825,1.85,1.875,1.9,1.925,1.95,1.975,2,2.025,2.05,2.075,2.1,2.125,2.15,2.175,2.2,2.225,2.25,2.275,2.3,2.325,2.35,2.375,2.4,2.425,2.45,2.475,2.5,2.525,2.55,2.575,2.6,2.625,2.65,2.675,2.7,2.725,2.75,2.775,2.8,2.825,2.85,2.875,2.9,2.925,2.95,2.975,3,3.025,3.05,3.075,3.1,3.125,3.15,3.175,3.2,3.225,3.25,3.275,3.3,3.325,3.35,3.375,3.4,3.425,3.45,3.475,3.5,3.525,3.55,3.575,3.6,3.625,3.65,3.675,3.7,3.725,3.75,3.775,3.8,3.825,3.85,3.875,3.9,3.925,3.95,3.975,4],&quot;uid&quot;:&quot;ee715a&quot;,&quot;type&quot;:&quot;scatter&quot;,&quot;name&quot;:&quot;trace 1&quot;,&quot;line&quot;:{},&quot;marker&quot;:{&quot;line&quot;:{&quot;width&quot;:0},&quot;maxdisplayed&quot;:200,&quot;opacity&quot;:1,&quot;color&quot;:&quot;rgb(31, 119, 180)&quot;},&quot;textfont&quot;:{},&quot;error_y&quot;:{&quot;visible&quot;:false},&quot;error_x&quot;:{},&quot;connectgaps&quot;:true,&quot;mode&quot;:&quot;markers&quot;,&quot;fill&quot;:&quot;none&quot;,&quot;opacity&quot;:0.83}];
var layout = {&quot;title&quot;:&quot;Click to enter Plot title&quot;,&quot;xaxis&quot;:{&quot;range&quot;:[0.9756871661128013,3.012488927464219],&quot;type&quot;:&quot;linear&quot;,&quot;showline&quot;:false,&quot;mirror&quot;:false,&quot;linecolor&quot;:&quot;#444&quot;,&quot;linewidth&quot;:1,&quot;tick0&quot;:0,&quot;dtick&quot;:0.5,&quot;ticks&quot;:&quot;&quot;,&quot;ticklen&quot;:5,&quot;tickwidth&quot;:1,&quot;tickcolor&quot;:&quot;#444&quot;,&quot;nticks&quot;:0,&quot;showticklabels&quot;:true,&quot;tickangle&quot;:&quot;auto&quot;,&quot;exponentformat&quot;:&quot;B&quot;,&quot;showexponent&quot;:&quot;all&quot;,&quot;showgrid&quot;:true,&quot;gridcolor&quot;:&quot;#eee&quot;,&quot;gridwidth&quot;:1,&quot;autorange&quot;:false,&quot;rangemode&quot;:&quot;normal&quot;,&quot;autotick&quot;:true,&quot;zeroline&quot;:true,&quot;zerolinecolor&quot;:&quot;#444&quot;,&quot;zerolinewidth&quot;:1,&quot;titlefont&quot;:{&quot;family&quot;:&quot;&quot;,&quot;size&quot;:0,&quot;color&quot;:&quot;&quot;},&quot;tickfont&quot;:{&quot;family&quot;:&quot;&quot;,&quot;size&quot;:0,&quot;color&quot;:&quot;&quot;},&quot;overlaying&quot;:false,&quot;domain&quot;:[0,1],&quot;position&quot;:0,&quot;anchor&quot;:&quot;y&quot;,&quot;title&quot;:&quot;T&amp;nbsp;&quot;},&quot;yaxis&quot;:{&quot;range&quot;:[-0.06325424912526242,1.0523024145064466],&quot;type&quot;:&quot;linear&quot;,&quot;showline&quot;:false,&quot;mirror&quot;:false,&quot;linecolor&quot;:&quot;#444&quot;,&quot;linewidth&quot;:1,&quot;tick0&quot;:0,&quot;dtick&quot;:0.2,&quot;ticks&quot;:&quot;&quot;,&quot;ticklen&quot;:5,&quot;tickwidth&quot;:1,&quot;tickcolor&quot;:&quot;#444&quot;,&quot;nticks&quot;:0,&quot;showticklabels&quot;:true,&quot;tickangle&quot;:&quot;auto&quot;,&quot;exponentformat&quot;:&quot;B&quot;,&quot;showexponent&quot;:&quot;all&quot;,&quot;showgrid&quot;:true,&quot;gridcolor&quot;:&quot;#eee&quot;,&quot;gridwidth&quot;:1,&quot;autorange&quot;:false,&quot;rangemode&quot;:&quot;normal&quot;,&quot;autotick&quot;:true,&quot;zeroline&quot;:true,&quot;zerolinecolor&quot;:&quot;#444&quot;,&quot;zerolinewidth&quot;:1,&quot;titlefont&quot;:{&quot;family&quot;:&quot;&quot;,&quot;size&quot;:0,&quot;color&quot;:&quot;&quot;},&quot;tickfont&quot;:{&quot;family&quot;:&quot;&quot;,&quot;size&quot;:0,&quot;color&quot;:&quot;&quot;},&quot;overlaying&quot;:false,&quot;domain&quot;:[0,1],&quot;position&quot;:0,&quot;anchor&quot;:&quot;x&quot;,&quot;title&quot;:&quot;M&quot;},&quot;legend&quot;:{&quot;bgcolor&quot;:&quot;#fff&quot;,&quot;bordercolor&quot;:&quot;#444&quot;,&quot;borderwidth&quot;:0,&quot;font&quot;:{&quot;family&quot;:&quot;&quot;,&quot;size&quot;:0,&quot;color&quot;:&quot;&quot;},&quot;traceorder&quot;:&quot;normal&quot;,&quot;xanchor&quot;:&quot;left&quot;,&quot;yanchor&quot;:&quot;top&quot;,&quot;x&quot;:1.02,&quot;y&quot;:1},&quot;width&quot;:1024,&quot;height&quot;:663,&quot;autosize&quot;:true,&quot;margin&quot;:{&quot;l&quot;:80,&quot;r&quot;:80,&quot;t&quot;:100,&quot;b&quot;:80,&quot;pad&quot;:0,&quot;autoexpand&quot;:true},&quot;paper_bgcolor&quot;:&quot;#fff&quot;,&quot;plot_bgcolor&quot;:&quot;#fff&quot;,&quot;barmode&quot;:&quot;group&quot;,&quot;bargap&quot;:0.2,&quot;bargroupgap&quot;:0,&quot;boxmode&quot;:&quot;overlay&quot;,&quot;boxgap&quot;:0.3,&quot;boxgroupgap&quot;:0.3,&quot;font&quot;:{&quot;family&quot;:&quot;'Open sans', verdana, arial, sans-serif&quot;,&quot;size&quot;:12,&quot;color&quot;:&quot;#444&quot;},&quot;titlefont&quot;:{&quot;family&quot;:&quot;&quot;,&quot;size&quot;:0,&quot;color&quot;:&quot;&quot;},&quot;dragmode&quot;:&quot;zoom&quot;,&quot;hovermode&quot;:&quot;x&quot;,&quot;separators&quot;:&quot;.,&quot;,&quot;hidesources&quot;:false,&quot;smith&quot;:false,&quot;showlegend&quot;:true};
Plotly.plot(Tabs.get(), data, layout);
&lt;/script&gt;&lt;/html&gt;</pre>
</div>
<div title="d3tw: Smart Graph" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405121958" modified="201405132129" tags="d3tw excludeTimeline" content-type="" changecount="16">
<pre>&lt;html&gt;&lt;div id=&quot;chart4&quot;&gt;&lt;/div&gt;&lt;/html&gt;
&lt;script&gt;
    /* set width for div and svg */
    var height = 300; var width = 400;  /* set the graph size in px */

     /* Attributes that give shape to the div */
     var divShape = [ { obj: &quot;#chart4&quot;, key: &quot;height&quot;, value: height },
                             { obj: &quot;#chart4&quot;, key: &quot;width&quot;, value: width },
                             { obj: &quot;#chart4&quot;, key: &quot;margin&quot;, value: &quot;auto&quot; },
                             { obj: &quot;#chart4&quot;, key: &quot;display&quot;, value: &quot;block&quot; },   
							 { obj: &quot;#chart4&quot;, key: &quot;overflow&quot;, value: &quot;hidden&quot; }  ,
							 { obj: &quot;#chart4&quot;, key: &quot;margin-bottom&quot;, value: &quot;-20px&quot; }       
                            ]; 
     divShape.forEach(function(d) {
         jQuery(d.obj).css( d.key, d.value ); /* push the attributes to the canvas */
      });
var chart = c3.generate({
bindto: '#chart4',
   padding: { top: 10, right: 10, bottom: 5, left: 45 },
   grid: {    x: { show: false }, y: {show: true } },
   bar: { width: { ratio: 0.8 } },
        data: {
          x : 'x', 
          columns: [['x', 'Pears', 'Apples', 'Banana', 'Grapes', 'Oranges'], ['Spain', 30, 200, 200, 400, 150, 250] ],
          type: 'bar',
          labels: true,
         },
      axis: { x: { type: 'categorized' }, y: { label: 'Consumption in tons per year' } },
    transition: { duration: 800 }
    
      });


      setTimeout(function () { chart.load({ columns: [['Germany', 100, 50, 150, 200, 300, 100]] }); }, 1000);

      setTimeout(function () { chart.groups([['Spain', 'Germany']]) }, 2000);
    
      setTimeout(function () {
        chart.load({
          columns: [['France', 130, 100, 100, 200, 150, 50]]
        });
      }, 3000);

      setTimeout(function () {
        chart.groups([['Spain', 'Germany','France']])
      }, 4000);

     setTimeout(function () {
        chart.load({
          columns: [['Japan', 230, 200, 200, 300, 250, 250]]
        });
      }, 5000);

     setTimeout(function () {
        chart.groups([['Spain', 'Germany', 'France','Japan']])
      }, 6000);


 
&lt;/script&gt;        </pre>
</div>
<div title="dropzone.js" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405190303" tags="systemConfig js systemConfigDisable excludeTimeline" content-type="text/javascript" alias="" changecount="4">
<pre>;(function(){

/**
 * Require the module at `name`.
 *
 * @param {String} name
 * @return {Object} exports
 * @api public
 */

function require(name) {
  var module = require.modules[name];
  if (!module) throw new Error('failed to require &quot;' + name + '&quot;');

  if (!('exports' in module) &amp;&amp; typeof module.definition === 'function') {
    module.client = module.component = true;
    module.definition.call(this, module.exports = {}, module);
    delete module.definition;
  }

  return module.exports;
}

/**
 * Registered modules.
 */

require.modules = {};

/**
 * Register module at `name` with callback `definition`.
 *
 * @param {String} name
 * @param {Function} definition
 * @api private
 */

require.register = function (name, definition) {
  require.modules[name] = {
    definition: definition
  };
};

/**
 * Define a module's exports immediately with `exports`.
 *
 * @param {String} name
 * @param {Generic} exports
 * @api private
 */

require.define = function (name, exports) {
  require.modules[name] = {
    exports: exports
  };
};
require.register(&quot;component~emitter@1.1.2&quot;, function (exports, module) {

/**
 * Expose `Emitter`.
 */

module.exports = Emitter;

/**
 * Initialize a new `Emitter`.
 *
 * @api public
 */

function Emitter(obj) {
  if (obj) return mixin(obj);
};

/**
 * Mixin the emitter properties.
 *
 * @param {Object} obj
 * @return {Object}
 * @api private
 */

function mixin(obj) {
  for (var key in Emitter.prototype) {
    obj[key] = Emitter.prototype[key];
  }
  return obj;
}

/**
 * Listen on the given `event` with `fn`.
 *
 * @param {String} event
 * @param {Function} fn
 * @return {Emitter}
 * @api public
 */

Emitter.prototype.on =
Emitter.prototype.addEventListener = function(event, fn){
  this._callbacks = this._callbacks || {};
  (this._callbacks[event] = this._callbacks[event] || [])
    .push(fn);
  return this;
};

/**
 * Adds an `event` listener that will be invoked a single
 * time then automatically removed.
 *
 * @param {String} event
 * @param {Function} fn
 * @return {Emitter}
 * @api public
 */

Emitter.prototype.once = function(event, fn){
  var self = this;
  this._callbacks = this._callbacks || {};

  function on() {
    self.off(event, on);
    fn.apply(this, arguments);
  }

  on.fn = fn;
  this.on(event, on);
  return this;
};

/**
 * Remove the given callback for `event` or all
 * registered callbacks.
 *
 * @param {String} event
 * @param {Function} fn
 * @return {Emitter}
 * @api public
 */

Emitter.prototype.off =
Emitter.prototype.removeListener =
Emitter.prototype.removeAllListeners =
Emitter.prototype.removeEventListener = function(event, fn){
  this._callbacks = this._callbacks || {};

  // all
  if (0 == arguments.length) {
    this._callbacks = {};
    return this;
  }

  // specific event
  var callbacks = this._callbacks[event];
  if (!callbacks) return this;

  // remove all handlers
  if (1 == arguments.length) {
    delete this._callbacks[event];
    return this;
  }

  // remove specific handler
  var cb;
  for (var i = 0; i &lt; callbacks.length; i++) {
    cb = callbacks[i];
    if (cb === fn || cb.fn === fn) {
      callbacks.splice(i, 1);
      break;
    }
  }
  return this;
};

/**
 * Emit `event` with the given args.
 *
 * @param {String} event
 * @param {Mixed} ...
 * @return {Emitter}
 */

Emitter.prototype.emit = function(event){
  this._callbacks = this._callbacks || {};
  var args = [].slice.call(arguments, 1)
    , callbacks = this._callbacks[event];

  if (callbacks) {
    callbacks = callbacks.slice(0);
    for (var i = 0, len = callbacks.length; i &lt; len; ++i) {
      callbacks[i].apply(this, args);
    }
  }

  return this;
};

/**
 * Return array of callbacks for `event`.
 *
 * @param {String} event
 * @return {Array}
 * @api public
 */

Emitter.prototype.listeners = function(event){
  this._callbacks = this._callbacks || {};
  return this._callbacks[event] || [];
};

/**
 * Check if this emitter has `event` handlers.
 *
 * @param {String} event
 * @return {Boolean}
 * @api public
 */

Emitter.prototype.hasListeners = function(event){
  return !! this.listeners(event).length;
};

});

require.register(&quot;dropzone&quot;, function (exports, module) {


/**
 * Exposing dropzone
 */
module.exports = require(&quot;dropzone/lib/dropzone.js&quot;);

});

require.register(&quot;dropzone/lib/dropzone.js&quot;, function (exports, module) {

/*
 *
 * More info at [www.dropzonejs.com](http://www.dropzonejs.com)
 * 
 * Copyright (c) 2012, Matias Meno  
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the &quot;Software&quot;), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 */

(function() {
  var Dropzone, Em, camelize, contentLoaded, detectVerticalSquash, drawImageIOSFix, noop, without,
    __hasProp = {}.hasOwnProperty,
    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    __slice = [].slice;

  Em = typeof Emitter !== &quot;undefined&quot; &amp;&amp; Emitter !== null ? Emitter : require(&quot;component~emitter@1.1.2&quot;);

  noop = function() {};

  Dropzone = (function(_super) {
    var extend;

    __extends(Dropzone, _super);


    /*
    This is a list of all available events you can register on a dropzone object.
    
    You can register an event handler like this:
    
        dropzone.on(&quot;dragEnter&quot;, function() { });
     */

    Dropzone.prototype.events = [&quot;drop&quot;, &quot;dragstart&quot;, &quot;dragend&quot;, &quot;dragenter&quot;, &quot;dragover&quot;, &quot;dragleave&quot;, &quot;addedfile&quot;, &quot;removedfile&quot;, &quot;thumbnail&quot;, &quot;error&quot;, &quot;errormultiple&quot;, &quot;processing&quot;, &quot;processingmultiple&quot;, &quot;uploadprogress&quot;, &quot;totaluploadprogress&quot;, &quot;sending&quot;, &quot;sendingmultiple&quot;, &quot;success&quot;, &quot;successmultiple&quot;, &quot;canceled&quot;, &quot;canceledmultiple&quot;, &quot;complete&quot;, &quot;completemultiple&quot;, &quot;reset&quot;, &quot;maxfilesexceeded&quot;, &quot;maxfilesreached&quot;];

    Dropzone.prototype.defaultOptions = {
      url: null,
      method: &quot;post&quot;,
      withCredentials: false,
      parallelUploads: 2,
      uploadMultiple: false,
      maxFilesize: 256,
      paramName: &quot;file&quot;,
      createImageThumbnails: true,
      maxThumbnailFilesize: 10,
      thumbnailWidth: 100,
      thumbnailHeight: 100,
      maxFiles: null,
      params: {},
      clickable: true,
      ignoreHiddenFiles: true,
      acceptedFiles: null,
      acceptedMimeTypes: null,
      autoProcessQueue: true,
      autoQueue: true,
      addRemoveLinks: false,
      previewsContainer: null,
      dictDefaultMessage: &quot;Drop files here to upload&quot;,
      dictFallbackMessage: &quot;Your browser does not support drag'n'drop file uploads.&quot;,
      dictFallbackText: &quot;Please use the fallback form below to upload your files like in the olden days.&quot;,
      dictFileTooBig: &quot;File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.&quot;,
      dictInvalidFileType: &quot;You can't upload files of this type.&quot;,
      dictResponseError: &quot;Server responded with {{statusCode}} code.&quot;,
      dictCancelUpload: &quot;Cancel upload&quot;,
      dictCancelUploadConfirmation: &quot;Are you sure you want to cancel this upload?&quot;,
      dictRemoveFile: &quot;Remove file&quot;,
      dictRemoveFileConfirmation: null,
      dictMaxFilesExceeded: &quot;You can not upload any more files.&quot;,
      accept: function(file, done) {
        return done();
      },
      init: function() {
        return noop;
      },
      forceFallback: false,
      fallback: function() {
        var child, messageElement, span, _i, _len, _ref;
        this.element.className = &quot;&quot; + this.element.className + &quot; dz-browser-not-supported&quot;;
        _ref = this.element.getElementsByTagName(&quot;div&quot;);
        for (_i = 0, _len = _ref.length; _i &lt; _len; _i++) {
          child = _ref[_i];
          if (/(^| )dz-message($| )/.test(child.className)) {
            messageElement = child;
            child.className = &quot;dz-message&quot;;
            continue;
          }
        }
        if (!messageElement) {
          messageElement = Dropzone.createElement(&quot;&lt;div class=\&quot;dz-message\&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/div&gt;&quot;);
          this.element.appendChild(messageElement);
        }
        span = messageElement.getElementsByTagName(&quot;span&quot;)[0];
        if (span) {
          span.textContent = this.options.dictFallbackMessage;
        }
        return this.element.appendChild(this.getFallbackForm());
      },
      resize: function(file) {
        var info, srcRatio, trgRatio;
        info = {
          srcX: 0,
          srcY: 0,
          srcWidth: file.width,
          srcHeight: file.height
        };
        srcRatio = file.width / file.height;
        info.optWidth = this.options.thumbnailWidth;
        info.optHeight = this.options.thumbnailHeight;
        if (!((info.optWidth != null) &amp;&amp; (info.optHeigh != null))) {
          if ((info.optWidth == null) &amp;&amp; (info.optHeight == null)) {
            info.optWidth = info.srcWidth;
            info.optHeight = info.srcHeight;
          } else if (info.optWidth == null) {
            info.optWidth = srcRatio * info.optHeight;
          } else if (info.optHeight == null) {
            info.optHeight = (1 / srcRatio) * info.optWidth;
          }
        }
        trgRatio = info.optWidth / info.optHeight;
        if (file.height &lt; info.optHeight || file.width &lt; info.optWidth) {
          info.trgHeight = info.srcHeight;
          info.trgWidth = info.srcWidth;
        } else {
          if (srcRatio &gt; trgRatio) {
            info.srcHeight = file.height;
            info.srcWidth = info.srcHeight * trgRatio;
          } else {
            info.srcWidth = file.width;
            info.srcHeight = info.srcWidth / trgRatio;
          }
        }
        info.srcX = (file.width - info.srcWidth) / 2;
        info.srcY = (file.height - info.srcHeight) / 2;
        return info;
      },

      /*
      Those functions register themselves to the events on init and handle all
      the user interface specific stuff. Overwriting them won't break the upload
      but can break the way it's displayed.
      You can overwrite them if you don't like the default behavior. If you just
      want to add an additional event handler, register it on the dropzone object
      and don't overwrite those options.
       */
      drop: function(e) {
        return this.element.classList.remove(&quot;dz-drag-hover&quot;);
      },
      dragstart: noop,
      dragend: function(e) {
        return this.element.classList.remove(&quot;dz-drag-hover&quot;);
      },
      dragenter: function(e) {
        return this.element.classList.add(&quot;dz-drag-hover&quot;);
      },
      dragover: function(e) {
        return this.element.classList.add(&quot;dz-drag-hover&quot;);
      },
      dragleave: function(e) {
        return this.element.classList.remove(&quot;dz-drag-hover&quot;);
      },
      paste: noop,
      reset: function() {
        return this.element.classList.remove(&quot;dz-started&quot;);
      },
      addedfile: function(file) {
        var node, removeFileEvent, removeLink, _i, _j, _k, _len, _len1, _len2, _ref, _ref1, _ref2, _results;
        if (this.element === this.previewsContainer) {
          this.element.classList.add(&quot;dz-started&quot;);
        }
        if (this.previewsContainer) {
          file.previewElement = Dropzone.createElement(this.options.previewTemplate.trim());
          file.previewTemplate = file.previewElement;
          this.previewsContainer.appendChild(file.previewElement);
          _ref = file.previewElement.querySelectorAll(&quot;[data-dz-name]&quot;);
          for (_i = 0, _len = _ref.length; _i &lt; _len; _i++) {
            node = _ref[_i];
            node.textContent = file.name;
          }
          _ref1 = file.previewElement.querySelectorAll(&quot;[data-dz-size]&quot;);
          for (_j = 0, _len1 = _ref1.length; _j &lt; _len1; _j++) {
            node = _ref1[_j];
            node.innerHTML = this.filesize(file.size);
          }
          if (this.options.addRemoveLinks) {
            file._removeLink = Dropzone.createElement(&quot;&lt;a class=\&quot;dz-remove\&quot; href=\&quot;javascript:undefined;\&quot; data-dz-remove&gt;&quot; + this.options.dictRemoveFile + &quot;&lt;/a&gt;&quot;);
            file.previewElement.appendChild(file._removeLink);
          }
          removeFileEvent = (function(_this) {
            return function(e) {
              e.preventDefault();
              e.stopPropagation();
              if (file.status === Dropzone.UPLOADING) {
                return Dropzone.confirm(_this.options.dictCancelUploadConfirmation, function() {
                  return _this.removeFile(file);
                });
              } else {
                if (_this.options.dictRemoveFileConfirmation) {
                  return Dropzone.confirm(_this.options.dictRemoveFileConfirmation, function() {
                    return _this.removeFile(file);
                  });
                } else {
                  return _this.removeFile(file);
                }
              }
            };
          })(this);
          _ref2 = file.previewElement.querySelectorAll(&quot;[data-dz-remove]&quot;);
          _results = [];
          for (_k = 0, _len2 = _ref2.length; _k &lt; _len2; _k++) {
            removeLink = _ref2[_k];
            _results.push(removeLink.addEventListener(&quot;click&quot;, removeFileEvent));
          }
          return _results;
        }
      },
      removedfile: function(file) {
        var _ref;
        if (file.previewElement) {
          if ((_ref = file.previewElement) != null) {
            _ref.parentNode.removeChild(file.previewElement);
          }
        }
        return this._updateMaxFilesReachedClass();
      },
      thumbnail: function(file, dataUrl) {
        var thumbnailElement, _i, _len, _ref, _results;
        if (file.previewElement) {
          file.previewElement.classList.remove(&quot;dz-file-preview&quot;);
          file.previewElement.classList.add(&quot;dz-image-preview&quot;);
          _ref = file.previewElement.querySelectorAll(&quot;[data-dz-thumbnail]&quot;);
          _results = [];
          for (_i = 0, _len = _ref.length; _i &lt; _len; _i++) {
            thumbnailElement = _ref[_i];
            thumbnailElement.alt = file.name;
            _results.push(thumbnailElement.src = dataUrl);
          }
          return _results;
        }
      },
      error: function(file, message) {
        var node, _i, _len, _ref, _results;
        if (file.previewElement) {
          file.previewElement.classList.add(&quot;dz-error&quot;);
          if (typeof message !== &quot;String&quot; &amp;&amp; message.error) {
            message = message.error;
          }
          _ref = file.previewElement.querySelectorAll(&quot;[data-dz-errormessage]&quot;);
          _results = [];
          for (_i = 0, _len = _ref.length; _i &lt; _len; _i++) {
            node = _ref[_i];
            _results.push(node.textContent = message);
          }
          return _results;
        }
      },
      errormultiple: noop,
      processing: function(file) {
        if (file.previewElement) {
          file.previewElement.classList.add(&quot;dz-processing&quot;);
          if (file._removeLink) {
            return file._removeLink.textContent = this.options.dictCancelUpload;
          }
        }
      },
      processingmultiple: noop,
      uploadprogress: function(file, progress, bytesSent) {
        var node, _i, _len, _ref, _results;
        if (file.previewElement) {
          _ref = file.previewElement.querySelectorAll(&quot;[data-dz-uploadprogress]&quot;);
          _results = [];
          for (_i = 0, _len = _ref.length; _i &lt; _len; _i++) {
            node = _ref[_i];
            _results.push(node.style.width = &quot;&quot; + progress + &quot;%&quot;);
          }
          return _results;
        }
      },
      totaluploadprogress: noop,
      sending: noop,
      sendingmultiple: noop,
      success: function(file) {
        if (file.previewElement) {
          return file.previewElement.classList.add(&quot;dz-success&quot;);
        }
      },
      successmultiple: noop,
      canceled: function(file) {
        return this.emit(&quot;error&quot;, file, &quot;Upload canceled.&quot;);
      },
      canceledmultiple: noop,
      complete: function(file) {
        if (file._removeLink) {
          return file._removeLink.textContent = this.options.dictRemoveFile;
        }
      },
      completemultiple: noop,
      maxfilesexceeded: noop,
      maxfilesreached: noop,
      previewTemplate: &quot;&lt;div class=\&quot;dz-preview dz-file-preview\&quot;&gt;\n  &lt;div class=\&quot;dz-details\&quot;&gt;\n    &lt;div class=\&quot;dz-filename\&quot;&gt;&lt;span data-dz-name&gt;&lt;/span&gt;&lt;/div&gt;\n    &lt;div class=\&quot;dz-size\&quot; data-dz-size&gt;&lt;/div&gt;\n    &lt;img data-dz-thumbnail /&gt;\n  &lt;/div&gt;\n  &lt;div class=\&quot;dz-progress\&quot;&gt;&lt;span class=\&quot;dz-upload\&quot; data-dz-uploadprogress&gt;&lt;/span&gt;&lt;/div&gt;\n  &lt;div class=\&quot;dz-success-mark\&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/div&gt;\n  &lt;div class=\&quot;dz-error-mark\&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/div&gt;\n  &lt;div class=\&quot;dz-error-message\&quot;&gt;&lt;span data-dz-errormessage&gt;&lt;/span&gt;&lt;/div&gt;\n&lt;/div&gt;&quot;
    };

    extend = function() {
      var key, object, objects, target, val, _i, _len;
      target = arguments[0], objects = 2 &lt;= arguments.length ? __slice.call(arguments, 1) : [];
      for (_i = 0, _len = objects.length; _i &lt; _len; _i++) {
        object = objects[_i];
        for (key in object) {
          val = object[key];
          target[key] = val;
        }
      }
      return target;
    };

    function Dropzone(element, options) {
      var elementOptions, fallback, _ref;
      this.element = element;
      this.version = Dropzone.version;
      this.defaultOptions.previewTemplate = this.defaultOptions.previewTemplate.replace(/\n*/g, &quot;&quot;);
      this.clickableElements = [];
      this.listeners = [];
      this.files = [];
      if (typeof this.element === &quot;string&quot;) {
        this.element = document.querySelector(this.element);
      }
      if (!(this.element &amp;&amp; (this.element.nodeType != null))) {
        throw new Error(&quot;Invalid dropzone element.&quot;);
      }
      if (this.element.dropzone) {
        throw new Error(&quot;Dropzone already attached.&quot;);
      }
      Dropzone.instances.push(this);
      this.element.dropzone = this;
      elementOptions = (_ref = Dropzone.optionsForElement(this.element)) != null ? _ref : {};
      this.options = extend({}, this.defaultOptions, elementOptions, options != null ? options : {});
      if (this.options.forceFallback || !Dropzone.isBrowserSupported()) {
        return this.options.fallback.call(this);
      }
      if (this.options.url == null) {
        this.options.url = this.element.getAttribute(&quot;action&quot;);
      }
      if (!this.options.url) {
        throw new Error(&quot;No URL provided.&quot;);
      }
      if (this.options.acceptedFiles &amp;&amp; this.options.acceptedMimeTypes) {
        throw new Error(&quot;You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.&quot;);
      }
      if (this.options.acceptedMimeTypes) {
        this.options.acceptedFiles = this.options.acceptedMimeTypes;
        delete this.options.acceptedMimeTypes;
      }
      this.options.method = this.options.method.toUpperCase();
      if ((fallback = this.getExistingFallback()) &amp;&amp; fallback.parentNode) {
        fallback.parentNode.removeChild(fallback);
      }
      if (this.options.previewsContainer !== false) {
        if (this.options.previewsContainer) {
          this.previewsContainer = Dropzone.getElement(this.options.previewsContainer, &quot;previewsContainer&quot;);
        } else {
          this.previewsContainer = this.element;
        }
      }
      if (this.options.clickable) {
        if (this.options.clickable === true) {
          this.clickableElements = [this.element];
        } else {
          this.clickableElements = Dropzone.getElements(this.options.clickable, &quot;clickable&quot;);
        }
      }
      this.init();
    }

    Dropzone.prototype.getAcceptedFiles = function() {
      var file, _i, _len, _ref, _results;
      _ref = this.files;
      _results = [];
      for (_i = 0, _len = _ref.length; _i &lt; _len; _i++) {
        file = _ref[_i];
        if (file.accepted) {
          _results.push(file);
        }
      }
      return _results;
    };

    Dropzone.prototype.getRejectedFiles = function() {
      var file, _i, _len, _ref, _results;
      _ref = this.files;
      _results = [];
      for (_i = 0, _len = _ref.length; _i &lt; _len; _i++) {
        file = _ref[_i];
        if (!file.accepted) {
          _results.push(file);
        }
      }
      return _results;
    };

    Dropzone.prototype.getFilesWithStatus = function(status) {
      var file, _i, _len, _ref, _results;
      _ref = this.files;
      _results = [];
      for (_i = 0, _len = _ref.length; _i &lt; _len; _i++) {
        file = _ref[_i];
        if (file.status === status) {
          _results.push(file);
        }
      }
      return _results;
    };

    Dropzone.prototype.getQueuedFiles = function() {
      return this.getFilesWithStatus(Dropzone.QUEUED);
    };

    Dropzone.prototype.getUploadingFiles = function() {
      return this.getFilesWithStatus(Dropzone.UPLOADING);
    };

    Dropzone.prototype.getActiveFiles = function() {
      var file, _i, _len, _ref, _results;
      _ref = this.files;
      _results = [];
      for (_i = 0, _len = _ref.length; _i &lt; _len; _i++) {
        file = _ref[_i];
        if (file.status === Dropzone.UPLOADING || file.status === Dropzone.QUEUED) {
          _results.push(file);
        }
      }
      return _results;
    };

    Dropzone.prototype.init = function() {
      var eventName, noPropagation, setupHiddenFileInput, _i, _len, _ref, _ref1;
      if (this.element.tagName === &quot;form&quot;) {
        this.element.setAttribute(&quot;enctype&quot;, &quot;multipart/form-data&quot;);
      }
      if (this.element.classList.contains(&quot;dropzone&quot;) &amp;&amp; !this.element.querySelector(&quot;.dz-message&quot;)) {
        this.element.appendChild(Dropzone.createElement(&quot;&lt;div class=\&quot;dz-default dz-message\&quot;&gt;&lt;span&gt;&quot; + this.options.dictDefaultMessage + &quot;&lt;/span&gt;&lt;/div&gt;&quot;));
      }
      if (this.clickableElements.length) {
        setupHiddenFileInput = (function(_this) {
          return function() {
            if (_this.hiddenFileInput) {
              document.body.removeChild(_this.hiddenFileInput);
            }
            _this.hiddenFileInput = document.createElement(&quot;input&quot;);
            _this.hiddenFileInput.setAttribute(&quot;type&quot;, &quot;file&quot;);
            if ((_this.options.maxFiles == null) || _this.options.maxFiles &gt; 1) {
              _this.hiddenFileInput.setAttribute(&quot;multiple&quot;, &quot;multiple&quot;);
            }
            _this.hiddenFileInput.className = &quot;dz-hidden-input&quot;;
            if (_this.options.acceptedFiles != null) {
              _this.hiddenFileInput.setAttribute(&quot;accept&quot;, _this.options.acceptedFiles);
            }
            _this.hiddenFileInput.style.visibility = &quot;hidden&quot;;
            _this.hiddenFileInput.style.position = &quot;absolute&quot;;
            _this.hiddenFileInput.style.top = &quot;0&quot;;
            _this.hiddenFileInput.style.left = &quot;0&quot;;
            _this.hiddenFileInput.style.height = &quot;0&quot;;
            _this.hiddenFileInput.style.width = &quot;0&quot;;
            document.body.appendChild(_this.hiddenFileInput);
            return _this.hiddenFileInput.addEventListener(&quot;change&quot;, function() {
              var file, files, _i, _len;
              files = _this.hiddenFileInput.files;
              if (files.length) {
                for (_i = 0, _len = files.length; _i &lt; _len; _i++) {
                  file = files[_i];
                  _this.addFile(file);
                }
              }
              return setupHiddenFileInput();
            });
          };
        })(this);
        setupHiddenFileInput();
      }
      this.URL = (_ref = window.URL) != null ? _ref : window.webkitURL;
      _ref1 = this.events;
      for (_i = 0, _len = _ref1.length; _i &lt; _len; _i++) {
        eventName = _ref1[_i];
        this.on(eventName, this.options[eventName]);
      }
      this.on(&quot;uploadprogress&quot;, (function(_this) {
        return function() {
          return _this.updateTotalUploadProgress();
        };
      })(this));
      this.on(&quot;removedfile&quot;, (function(_this) {
        return function() {
          return _this.updateTotalUploadProgress();
        };
      })(this));
      this.on(&quot;canceled&quot;, (function(_this) {
        return function(file) {
          return _this.emit(&quot;complete&quot;, file);
        };
      })(this));
      this.on(&quot;complete&quot;, (function(_this) {
        return function(file) {
          if (_this.getUploadingFiles().length === 0 &amp;&amp; _this.getQueuedFiles().length === 0) {
            return setTimeout((function() {
              return _this.emit(&quot;queuecomplete&quot;);
            }), 0);
          }
        };
      })(this));
      noPropagation = function(e) {
        e.stopPropagation();
        if (e.preventDefault) {
          return e.preventDefault();
        } else {
          return e.returnValue = false;
        }
      };
      this.listeners = [
        {
          element: this.element,
          events: {
            &quot;dragstart&quot;: (function(_this) {
              return function(e) {
                return _this.emit(&quot;dragstart&quot;, e);
              };
            })(this),
            &quot;dragenter&quot;: (function(_this) {
              return function(e) {
                noPropagation(e);
                return _this.emit(&quot;dragenter&quot;, e);
              };
            })(this),
            &quot;dragover&quot;: (function(_this) {
              return function(e) {
                var efct;
                try {
                  efct = e.dataTransfer.effectAllowed;
                } catch (_error) {}
                e.dataTransfer.dropEffect = 'move' === efct || 'linkMove' === efct ? 'move' : 'copy';
                noPropagation(e);
                return _this.emit(&quot;dragover&quot;, e);
              };
            })(this),
            &quot;dragleave&quot;: (function(_this) {
              return function(e) {
                return _this.emit(&quot;dragleave&quot;, e);
              };
            })(this),
            &quot;drop&quot;: (function(_this) {
              return function(e) {
                noPropagation(e);
                return _this.drop(e);
              };
            })(this),
            &quot;dragend&quot;: (function(_this) {
              return function(e) {
                return _this.emit(&quot;dragend&quot;, e);
              };
            })(this)
          }
        }
      ];
      this.clickableElements.forEach((function(_this) {
        return function(clickableElement) {
          return _this.listeners.push({
            element: clickableElement,
            events: {
              &quot;click&quot;: function(evt) {
                if ((clickableElement !== _this.element) || (evt.target === _this.element || Dropzone.elementInside(evt.target, _this.element.querySelector(&quot;.dz-message&quot;)))) {
                  return _this.hiddenFileInput.click();
                }
              }
            }
          });
        };
      })(this));
      this.enable();
      return this.options.init.call(this);
    };

    Dropzone.prototype.destroy = function() {
      var _ref;
      this.disable();
      this.removeAllFiles(true);
      if ((_ref = this.hiddenFileInput) != null ? _ref.parentNode : void 0) {
        this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput);
        this.hiddenFileInput = null;
      }
      delete this.element.dropzone;
      return Dropzone.instances.splice(Dropzone.instances.indexOf(this), 1);
    };

    Dropzone.prototype.updateTotalUploadProgress = function() {
      var activeFiles, file, totalBytes, totalBytesSent, totalUploadProgress, _i, _len, _ref;
      totalBytesSent = 0;
      totalBytes = 0;
      activeFiles = this.getActiveFiles();
      if (activeFiles.length) {
        _ref = this.getActiveFiles();
        for (_i = 0, _len = _ref.length; _i &lt; _len; _i++) {
          file = _ref[_i];
          totalBytesSent += file.upload.bytesSent;
          totalBytes += file.upload.total;
        }
        totalUploadProgress = 100 * totalBytesSent / totalBytes;
      } else {
        totalUploadProgress = 100;
      }
      return this.emit(&quot;totaluploadprogress&quot;, totalUploadProgress, totalBytes, totalBytesSent);
    };

    Dropzone.prototype._getParamName = function(n) {
      if (typeof this.options.paramName === &quot;function&quot;) {
        return this.options.paramName(n);
      } else {
        return &quot;&quot; + this.options.paramName + (this.options.uploadMultiple ? &quot;[&quot; + n + &quot;]&quot; : &quot;&quot;);
      }
    };

    Dropzone.prototype.getFallbackForm = function() {
      var existingFallback, fields, fieldsString, form;
      if (existingFallback = this.getExistingFallback()) {
        return existingFallback;
      }
      fieldsString = &quot;&lt;div class=\&quot;dz-fallback\&quot;&gt;&quot;;
      if (this.options.dictFallbackText) {
        fieldsString += &quot;&lt;p&gt;&quot; + this.options.dictFallbackText + &quot;&lt;/p&gt;&quot;;
      }
      fieldsString += &quot;&lt;input type=\&quot;file\&quot; name=\&quot;&quot; + (this._getParamName(0)) + &quot;\&quot; &quot; + (this.options.uploadMultiple ? 'multiple=&quot;multiple&quot;' : void 0) + &quot; /&gt;&lt;input type=\&quot;submit\&quot; value=\&quot;Upload!\&quot;&gt;&lt;/div&gt;&quot;;
      fields = Dropzone.createElement(fieldsString);
      if (this.element.tagName !== &quot;FORM&quot;) {
        form = Dropzone.createElement(&quot;&lt;form action=\&quot;&quot; + this.options.url + &quot;\&quot; enctype=\&quot;multipart/form-data\&quot; method=\&quot;&quot; + this.options.method + &quot;\&quot;&gt;&lt;/form&gt;&quot;);
        form.appendChild(fields);
      } else {
        this.element.setAttribute(&quot;enctype&quot;, &quot;multipart/form-data&quot;);
        this.element.setAttribute(&quot;method&quot;, this.options.method);
      }
      return form != null ? form : fields;
    };

    Dropzone.prototype.getExistingFallback = function() {
      var fallback, getFallback, tagName, _i, _len, _ref;
      getFallback = function(elements) {
        var el, _i, _len;
        for (_i = 0, _len = elements.length; _i &lt; _len; _i++) {
          el = elements[_i];
          if (/(^| )fallback($| )/.test(el.className)) {
            return el;
          }
        }
      };
      _ref = [&quot;div&quot;, &quot;form&quot;];
      for (_i = 0, _len = _ref.length; _i &lt; _len; _i++) {
        tagName = _ref[_i];
        if (fallback = getFallback(this.element.getElementsByTagName(tagName))) {
          return fallback;
        }
      }
    };

    Dropzone.prototype.setupEventListeners = function() {
      var elementListeners, event, listener, _i, _len, _ref, _results;
      _ref = this.listeners;
      _results = [];
      for (_i = 0, _len = _ref.length; _i &lt; _len; _i++) {
        elementListeners = _ref[_i];
        _results.push((function() {
          var _ref1, _results1;
          _ref1 = elementListeners.events;
          _results1 = [];
          for (event in _ref1) {
            listener = _ref1[event];
            _results1.push(elementListeners.element.addEventListener(event, listener, false));
          }
          return _results1;
        })());
      }
      return _results;
    };

    Dropzone.prototype.removeEventListeners = function() {
      var elementListeners, event, listener, _i, _len, _ref, _results;
      _ref = this.listeners;
      _results = [];
      for (_i = 0, _len = _ref.length; _i &lt; _len; _i++) {
        elementListeners = _ref[_i];
        _results.push((function() {
          var _ref1, _results1;
          _ref1 = elementListeners.events;
          _results1 = [];
          for (event in _ref1) {
            listener = _ref1[event];
            _results1.push(elementListeners.element.removeEventListener(event, listener, false));
          }
          return _results1;
        })());
      }
      return _results;
    };

    Dropzone.prototype.disable = function() {
      var file, _i, _len, _ref, _results;
      this.clickableElements.forEach(function(element) {
        return element.classList.remove(&quot;dz-clickable&quot;);
      });
      this.removeEventListeners();
      _ref = this.files;
      _results = [];
      for (_i = 0, _len = _ref.length; _i &lt; _len; _i++) {
        file = _ref[_i];
        _results.push(this.cancelUpload(file));
      }
      return _results;
    };

    Dropzone.prototype.enable = function() {
      this.clickableElements.forEach(function(element) {
        return element.classList.add(&quot;dz-clickable&quot;);
      });
      return this.setupEventListeners();
    };

    Dropzone.prototype.filesize = function(size) {
      var string;
      if (size &gt;= 1024 * 1024 * 1024 * 1024 / 10) {
        size = size / (1024 * 1024 * 1024 * 1024 / 10);
        string = &quot;TiB&quot;;
      } else if (size &gt;= 1024 * 1024 * 1024 / 10) {
        size = size / (1024 * 1024 * 1024 / 10);
        string = &quot;GiB&quot;;
      } else if (size &gt;= 1024 * 1024 / 10) {
        size = size / (1024 * 1024 / 10);
        string = &quot;MiB&quot;;
      } else if (size &gt;= 1024 / 10) {
        size = size / (1024 / 10);
        string = &quot;KiB&quot;;
      } else {
        size = size * 10;
        string = &quot;b&quot;;
      }
      return &quot;&lt;strong&gt;&quot; + (Math.round(size) / 10) + &quot;&lt;/strong&gt; &quot; + string;
    };

    Dropzone.prototype._updateMaxFilesReachedClass = function() {
      if ((this.options.maxFiles != null) &amp;&amp; this.getAcceptedFiles().length &gt;= this.options.maxFiles) {
        if (this.getAcceptedFiles().length === this.options.maxFiles) {
          this.emit('maxfilesreached', this.files);
        }
        return this.element.classList.add(&quot;dz-max-files-reached&quot;);
      } else {
        return this.element.classList.remove(&quot;dz-max-files-reached&quot;);
      }
    };

    Dropzone.prototype.drop = function(e) {
      var files, items;
      if (!e.dataTransfer) {
        return;
      }
      this.emit(&quot;drop&quot;, e);
      files = e.dataTransfer.files;
      if (files.length) {
        items = e.dataTransfer.items;
        if (items &amp;&amp; items.length &amp;&amp; (items[0].webkitGetAsEntry != null)) {
          this._addFilesFromItems(items);
        } else {
          this.handleFiles(files);
        }
      }
    };

    Dropzone.prototype.paste = function(e) {
      var items, _ref;
      if ((e != null ? (_ref = e.clipboardData) != null ? _ref.items : void 0 : void 0) == null) {
        return;
      }
      this.emit(&quot;paste&quot;, e);
      items = e.clipboardData.items;
      if (items.length) {
        return this._addFilesFromItems(items);
      }
    };

    Dropzone.prototype.handleFiles = function(files) {
      var file, _i, _len, _results;
      _results = [];
      for (_i = 0, _len = files.length; _i &lt; _len; _i++) {
        file = files[_i];
        _results.push(this.addFile(file));
      }
      return _results;
    };

    Dropzone.prototype._addFilesFromItems = function(items) {
      var entry, item, _i, _len, _results;
      _results = [];
      for (_i = 0, _len = items.length; _i &lt; _len; _i++) {
        item = items[_i];
        if ((item.webkitGetAsEntry != null) &amp;&amp; (entry = item.webkitGetAsEntry())) {
          if (entry.isFile) {
            _results.push(this.addFile(item.getAsFile()));
          } else if (entry.isDirectory) {
            _results.push(this._addFilesFromDirectory(entry, entry.name));
          } else {
            _results.push(void 0);
          }
        } else if (item.getAsFile != null) {
          if ((item.kind == null) || item.kind === &quot;file&quot;) {
            _results.push(this.addFile(item.getAsFile()));
          } else {
            _results.push(void 0);
          }
        } else {
          _results.push(void 0);
        }
      }
      return _results;
    };

    Dropzone.prototype._addFilesFromDirectory = function(directory, path) {
      var dirReader, entriesReader;
      dirReader = directory.createReader();
      entriesReader = (function(_this) {
        return function(entries) {
          var entry, _i, _len;
          for (_i = 0, _len = entries.length; _i &lt; _len; _i++) {
            entry = entries[_i];
            if (entry.isFile) {
              entry.file(function(file) {
                if (_this.options.ignoreHiddenFiles &amp;&amp; file.name.substring(0, 1) === '.') {
                  return;
                }
                file.fullPath = &quot;&quot; + path + &quot;/&quot; + file.name;
                return _this.addFile(file);
              });
            } else if (entry.isDirectory) {
              _this._addFilesFromDirectory(entry, &quot;&quot; + path + &quot;/&quot; + entry.name);
            }
          }
        };
      })(this);
      return dirReader.readEntries(entriesReader, function(error) {
        return typeof console !== &quot;undefined&quot; &amp;&amp; console !== null ? typeof console.log === &quot;function&quot; ? console.log(error) : void 0 : void 0;
      });
    };

    Dropzone.prototype.accept = function(file, done) {
      if (file.size &gt; this.options.maxFilesize * 1024 * 1024) {
        return done(this.options.dictFileTooBig.replace(&quot;{{filesize}}&quot;, Math.round(file.size / 1024 / 10.24) / 100).replace(&quot;{{maxFilesize}}&quot;, this.options.maxFilesize));
      } else if (!Dropzone.isValidFile(file, this.options.acceptedFiles)) {
        return done(this.options.dictInvalidFileType);
      } else if ((this.options.maxFiles != null) &amp;&amp; this.getAcceptedFiles().length &gt;= this.options.maxFiles) {
        done(this.options.dictMaxFilesExceeded.replace(&quot;{{maxFiles}}&quot;, this.options.maxFiles));
        return this.emit(&quot;maxfilesexceeded&quot;, file);
      } else {
        return this.options.accept.call(this, file, done);
      }
    };

    Dropzone.prototype.addFile = function(file) {
      file.upload = {
        progress: 0,
        total: file.size,
        bytesSent: 0
      };
      this.files.push(file);
      file.status = Dropzone.ADDED;
      this.emit(&quot;addedfile&quot;, file);
      this._enqueueThumbnail(file);
      return this.accept(file, (function(_this) {
        return function(error) {
          if (error) {
            file.accepted = false;
            _this._errorProcessing([file], error);
          } else {
            file.accepted = true;
            if (_this.options.autoQueue) {
              _this.enqueueFile(file);
            }
          }
          return _this._updateMaxFilesReachedClass();
        };
      })(this));
    };

    Dropzone.prototype.enqueueFiles = function(files) {
      var file, _i, _len;
      for (_i = 0, _len = files.length; _i &lt; _len; _i++) {
        file = files[_i];
        this.enqueueFile(file);
      }
      return null;
    };

    Dropzone.prototype.enqueueFile = function(file) {
      if (file.status === Dropzone.ADDED &amp;&amp; file.accepted === true) {
        file.status = Dropzone.QUEUED;
        if (this.options.autoProcessQueue) {
          return setTimeout(((function(_this) {
            return function() {
              return _this.processQueue();
            };
          })(this)), 0);
        }
      } else {
        throw new Error(&quot;This file can't be queued because it has already been processed or was rejected.&quot;);
      }
    };

    Dropzone.prototype._thumbnailQueue = [];

    Dropzone.prototype._processingThumbnail = false;

    Dropzone.prototype._enqueueThumbnail = function(file) {
      if (this.options.createImageThumbnails &amp;&amp; file.type.match(/image.*/) &amp;&amp; file.size &lt;= this.options.maxThumbnailFilesize * 1024 * 1024) {
        this._thumbnailQueue.push(file);
        return setTimeout(((function(_this) {
          return function() {
            return _this._processThumbnailQueue();
          };
        })(this)), 0);
      }
    };

    Dropzone.prototype._processThumbnailQueue = function() {
      if (this._processingThumbnail || this._thumbnailQueue.length === 0) {
        return;
      }
      this._processingThumbnail = true;
      return this.createThumbnail(this._thumbnailQueue.shift(), (function(_this) {
        return function() {
          _this._processingThumbnail = false;
          return _this._processThumbnailQueue();
        };
      })(this));
    };

    Dropzone.prototype.removeFile = function(file) {
      if (file.status === Dropzone.UPLOADING) {
        this.cancelUpload(file);
      }
      this.files = without(this.files, file);
      this.emit(&quot;removedfile&quot;, file);
      if (this.files.length === 0) {
        return this.emit(&quot;reset&quot;);
      }
    };

    Dropzone.prototype.removeAllFiles = function(cancelIfNecessary) {
      var file, _i, _len, _ref;
      if (cancelIfNecessary == null) {
        cancelIfNecessary = false;
      }
      _ref = this.files.slice();
      for (_i = 0, _len = _ref.length; _i &lt; _len; _i++) {
        file = _ref[_i];
        if (file.status !== Dropzone.UPLOADING || cancelIfNecessary) {
          this.removeFile(file);
        }
      }
      return null;
    };

    Dropzone.prototype.createThumbnail = function(file, callback) {
      var fileReader;
      fileReader = new FileReader;
      fileReader.onload = (function(_this) {
        return function() {
          var img;
          img = document.createElement(&quot;img&quot;);
          img.onload = function() {
            var canvas, ctx, resizeInfo, thumbnail, _ref, _ref1, _ref2, _ref3;
            file.width = img.width;
            file.height = img.height;
            resizeInfo = _this.options.resize.call(_this, file);
            if (resizeInfo.trgWidth == null) {
              resizeInfo.trgWidth = resizeInfo.optWidth;
            }
            if (resizeInfo.trgHeight == null) {
              resizeInfo.trgHeight = resizeInfo.optHeight;
            }
            canvas = document.createElement(&quot;canvas&quot;);
            ctx = canvas.getContext(&quot;2d&quot;);
            canvas.width = resizeInfo.trgWidth;
            canvas.height = resizeInfo.trgHeight;
            drawImageIOSFix(ctx, img, (_ref = resizeInfo.srcX) != null ? _ref : 0, (_ref1 = resizeInfo.srcY) != null ? _ref1 : 0, resizeInfo.srcWidth, resizeInfo.srcHeight, (_ref2 = resizeInfo.trgX) != null ? _ref2 : 0, (_ref3 = resizeInfo.trgY) != null ? _ref3 : 0, resizeInfo.trgWidth, resizeInfo.trgHeight);
            thumbnail = canvas.toDataURL(&quot;image/png&quot;);
            _this.emit(&quot;thumbnail&quot;, file, thumbnail);
            if (callback != null) {
              return callback();
            }
          };
          return img.src = fileReader.result;
        };
      })(this);
      return fileReader.readAsDataURL(file);
    };

    Dropzone.prototype.processQueue = function() {
      var i, parallelUploads, processingLength, queuedFiles;
      parallelUploads = this.options.parallelUploads;
      processingLength = this.getUploadingFiles().length;
      i = processingLength;
      if (processingLength &gt;= parallelUploads) {
        return;
      }
      queuedFiles = this.getQueuedFiles();
      if (!(queuedFiles.length &gt; 0)) {
        return;
      }
      if (this.options.uploadMultiple) {
        return this.processFiles(queuedFiles.slice(0, parallelUploads - processingLength));
      } else {
        while (i &lt; parallelUploads) {
          if (!queuedFiles.length) {
            return;
          }
          this.processFile(queuedFiles.shift());
          i++;
        }
      }
    };

    Dropzone.prototype.processFile = function(file) {
      return this.processFiles([file]);
    };

    Dropzone.prototype.processFiles = function(files) {
      var file, _i, _len;
      for (_i = 0, _len = files.length; _i &lt; _len; _i++) {
        file = files[_i];
        file.processing = true;
        file.status = Dropzone.UPLOADING;
        this.emit(&quot;processing&quot;, file);
      }
      if (this.options.uploadMultiple) {
        this.emit(&quot;processingmultiple&quot;, files);
      }
      return this.uploadFiles(files);
    };

    Dropzone.prototype._getFilesWithXhr = function(xhr) {
      var file, files;
      return files = (function() {
        var _i, _len, _ref, _results;
        _ref = this.files;
        _results = [];
        for (_i = 0, _len = _ref.length; _i &lt; _len; _i++) {
          file = _ref[_i];
          if (file.xhr === xhr) {
            _results.push(file);
          }
        }
        return _results;
      }).call(this);
    };

    Dropzone.prototype.cancelUpload = function(file) {
      var groupedFile, groupedFiles, _i, _j, _len, _len1, _ref;
      if (file.status === Dropzone.UPLOADING) {
        groupedFiles = this._getFilesWithXhr(file.xhr);
        for (_i = 0, _len = groupedFiles.length; _i &lt; _len; _i++) {
          groupedFile = groupedFiles[_i];
          groupedFile.status = Dropzone.CANCELED;
        }
        file.xhr.abort();
        for (_j = 0, _len1 = groupedFiles.length; _j &lt; _len1; _j++) {
          groupedFile = groupedFiles[_j];
          this.emit(&quot;canceled&quot;, groupedFile);
        }
        if (this.options.uploadMultiple) {
          this.emit(&quot;canceledmultiple&quot;, groupedFiles);
        }
      } else if ((_ref = file.status) === Dropzone.ADDED || _ref === Dropzone.QUEUED) {
        file.status = Dropzone.CANCELED;
        this.emit(&quot;canceled&quot;, file);
        if (this.options.uploadMultiple) {
          this.emit(&quot;canceledmultiple&quot;, [file]);
        }
      }
      if (this.options.autoProcessQueue) {
        return this.processQueue();
      }
    };

    Dropzone.prototype.uploadFile = function(file) {
      return this.uploadFiles([file]);
    };

    Dropzone.prototype.uploadFiles = function(files) {
      var file, formData, handleError, headerName, headerValue, headers, i, input, inputName, inputType, key, option, progressObj, response, updateProgress, value, xhr, _i, _j, _k, _l, _len, _len1, _len2, _len3, _m, _ref, _ref1, _ref2, _ref3, _ref4, _ref5;
      xhr = new XMLHttpRequest();
      for (_i = 0, _len = files.length; _i &lt; _len; _i++) {
        file = files[_i];
        file.xhr = xhr;
      }
      xhr.open(this.options.method, this.options.url, true);
      xhr.withCredentials = !!this.options.withCredentials;
      response = null;
      handleError = (function(_this) {
        return function() {
          var _j, _len1, _results;
          _results = [];
          for (_j = 0, _len1 = files.length; _j &lt; _len1; _j++) {
            file = files[_j];
            _results.push(_this._errorProcessing(files, response || _this.options.dictResponseError.replace(&quot;{{statusCode}}&quot;, xhr.status), xhr));
          }
          return _results;
        };
      })(this);
      updateProgress = (function(_this) {
        return function(e) {
          var allFilesFinished, progress, _j, _k, _l, _len1, _len2, _len3, _results;
          if (e != null) {
            progress = 100 * e.loaded / e.total;
            for (_j = 0, _len1 = files.length; _j &lt; _len1; _j++) {
              file = files[_j];
              file.upload = {
                progress: progress,
                total: e.total,
                bytesSent: e.loaded
              };
            }
          } else {
            allFilesFinished = true;
            progress = 100;
            for (_k = 0, _len2 = files.length; _k &lt; _len2; _k++) {
              file = files[_k];
              if (!(file.upload.progress === 100 &amp;&amp; file.upload.bytesSent === file.upload.total)) {
                allFilesFinished = false;
              }
              file.upload.progress = progress;
              file.upload.bytesSent = file.upload.total;
            }
            if (allFilesFinished) {
              return;
            }
          }
          _results = [];
          for (_l = 0, _len3 = files.length; _l &lt; _len3; _l++) {
            file = files[_l];
            _results.push(_this.emit(&quot;uploadprogress&quot;, file, progress, file.upload.bytesSent));
          }
          return _results;
        };
      })(this);
      xhr.onload = (function(_this) {
        return function(e) {
          var _ref;
          if (files[0].status === Dropzone.CANCELED) {
            return;
          }
          if (xhr.readyState !== 4) {
            return;
          }
          response = xhr.responseText;
          if (xhr.getResponseHeader(&quot;content-type&quot;) &amp;&amp; ~xhr.getResponseHeader(&quot;content-type&quot;).indexOf(&quot;application/json&quot;)) {
            try {
              response = JSON.parse(response);
            } catch (_error) {
              e = _error;
              response = &quot;Invalid JSON response from server.&quot;;
            }
          }
          updateProgress();
          if (!((200 &lt;= (_ref = xhr.status) &amp;&amp; _ref &lt; 300))) {
            return handleError();
          } else {
            return _this._finished(files, response, e);
          }
        };
      })(this);
      xhr.onerror = (function(_this) {
        return function() {
          if (files[0].status === Dropzone.CANCELED) {
            return;
          }
          return handleError();
        };
      })(this);
      progressObj = (_ref = xhr.upload) != null ? _ref : xhr;
      progressObj.onprogress = updateProgress;
      headers = {
        &quot;Accept&quot;: &quot;application/json&quot;,
        &quot;Cache-Control&quot;: &quot;no-cache&quot;,
        &quot;X-Requested-With&quot;: &quot;XMLHttpRequest&quot;
      };
      if (this.options.headers) {
        extend(headers, this.options.headers);
      }
      for (headerName in headers) {
        headerValue = headers[headerName];
        xhr.setRequestHeader(headerName, headerValue);
      }
      formData = new FormData();
      if (this.options.params) {
        _ref1 = this.options.params;
        for (key in _ref1) {
          value = _ref1[key];
          formData.append(key, value);
        }
      }
      for (_j = 0, _len1 = files.length; _j &lt; _len1; _j++) {
        file = files[_j];
        this.emit(&quot;sending&quot;, file, xhr, formData);
      }
      if (this.options.uploadMultiple) {
        this.emit(&quot;sendingmultiple&quot;, files, xhr, formData);
      }
      if (this.element.tagName === &quot;FORM&quot;) {
        _ref2 = this.element.querySelectorAll(&quot;input, textarea, select, button&quot;);
        for (_k = 0, _len2 = _ref2.length; _k &lt; _len2; _k++) {
          input = _ref2[_k];
          inputName = input.getAttribute(&quot;name&quot;);
          inputType = input.getAttribute(&quot;type&quot;);
          if (input.tagName === &quot;SELECT&quot; &amp;&amp; input.hasAttribute(&quot;multiple&quot;)) {
            _ref3 = input.options;
            for (_l = 0, _len3 = _ref3.length; _l &lt; _len3; _l++) {
              option = _ref3[_l];
              if (option.selected) {
                formData.append(inputName, option.value);
              }
            }
          } else if (!inputType || ((_ref4 = inputType.toLowerCase()) !== &quot;checkbox&quot; &amp;&amp; _ref4 !== &quot;radio&quot;) || input.checked) {
            formData.append(inputName, input.value);
          }
        }
      }
      for (i = _m = 0, _ref5 = files.length - 1; 0 &lt;= _ref5 ? _m &lt;= _ref5 : _m &gt;= _ref5; i = 0 &lt;= _ref5 ? ++_m : --_m) {
        formData.append(this._getParamName(i), files[i], files[i].name);
      }
      return xhr.send(formData);
    };

    Dropzone.prototype._finished = function(files, responseText, e) {
      var file, _i, _len;
      for (_i = 0, _len = files.length; _i &lt; _len; _i++) {
        file = files[_i];
        file.status = Dropzone.SUCCESS;
        this.emit(&quot;success&quot;, file, responseText, e);
        this.emit(&quot;complete&quot;, file);
      }
      if (this.options.uploadMultiple) {
        this.emit(&quot;successmultiple&quot;, files, responseText, e);
        this.emit(&quot;completemultiple&quot;, files);
      }
      if (this.options.autoProcessQueue) {
        return this.processQueue();
      }
    };

    Dropzone.prototype._errorProcessing = function(files, message, xhr) {
      var file, _i, _len;
      for (_i = 0, _len = files.length; _i &lt; _len; _i++) {
        file = files[_i];
        file.status = Dropzone.ERROR;
        this.emit(&quot;error&quot;, file, message, xhr);
        this.emit(&quot;complete&quot;, file);
      }
      if (this.options.uploadMultiple) {
        this.emit(&quot;errormultiple&quot;, files, message, xhr);
        this.emit(&quot;completemultiple&quot;, files);
      }
      if (this.options.autoProcessQueue) {
        return this.processQueue();
      }
    };

    return Dropzone;

  })(Em);

  Dropzone.version = &quot;3.10.0&quot;;

  Dropzone.options = {};

  Dropzone.optionsForElement = function(element) {
    if (element.getAttribute(&quot;id&quot;)) {
      return Dropzone.options[camelize(element.getAttribute(&quot;id&quot;))];
    } else {
      return void 0;
    }
  };

  Dropzone.instances = [];

  Dropzone.forElement = function(element) {
    if (typeof element === &quot;string&quot;) {
      element = document.querySelector(element);
    }
    if ((element != null ? element.dropzone : void 0) == null) {
      throw new Error(&quot;No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.&quot;);
    }
    return element.dropzone;
  };

  Dropzone.autoDiscover = true;

  Dropzone.discover = function() {
    var checkElements, dropzone, dropzones, _i, _len, _results;
    if (document.querySelectorAll) {
      dropzones = document.querySelectorAll(&quot;.dropzone&quot;);
    } else {
      dropzones = [];
      checkElements = function(elements) {
        var el, _i, _len, _results;
        _results = [];
        for (_i = 0, _len = elements.length; _i &lt; _len; _i++) {
          el = elements[_i];
          if (/(^| )dropzone($| )/.test(el.className)) {
            _results.push(dropzones.push(el));
          } else {
            _results.push(void 0);
          }
        }
        return _results;
      };
      checkElements(document.getElementsByTagName(&quot;div&quot;));
      checkElements(document.getElementsByTagName(&quot;form&quot;));
    }
    _results = [];
    for (_i = 0, _len = dropzones.length; _i &lt; _len; _i++) {
      dropzone = dropzones[_i];
      if (Dropzone.optionsForElement(dropzone) !== false) {
        _results.push(new Dropzone(dropzone));
      } else {
        _results.push(void 0);
      }
    }
    return _results;
  };

  Dropzone.blacklistedBrowsers = [/opera.*Macintosh.*version\/12/i];

  Dropzone.isBrowserSupported = function() {
    var capableBrowser, regex, _i, _len, _ref;
    capableBrowser = true;
    if (window.File &amp;&amp; window.FileReader &amp;&amp; window.FileList &amp;&amp; window.Blob &amp;&amp; window.FormData &amp;&amp; document.querySelector) {
      if (!(&quot;classList&quot; in document.createElement(&quot;a&quot;))) {
        capableBrowser = false;
      } else {
        _ref = Dropzone.blacklistedBrowsers;
        for (_i = 0, _len = _ref.length; _i &lt; _len; _i++) {
          regex = _ref[_i];
          if (regex.test(navigator.userAgent)) {
            capableBrowser = false;
            continue;
          }
        }
      }
    } else {
      capableBrowser = false;
    }
    return capableBrowser;
  };

  without = function(list, rejectedItem) {
    var item, _i, _len, _results;
    _results = [];
    for (_i = 0, _len = list.length; _i &lt; _len; _i++) {
      item = list[_i];
      if (item !== rejectedItem) {
        _results.push(item);
      }
    }
    return _results;
  };

  camelize = function(str) {
    return str.replace(/[\-_](\w)/g, function(match) {
      return match.charAt(1).toUpperCase();
    });
  };

  Dropzone.createElement = function(string) {
    var div;
    div = document.createElement(&quot;div&quot;);
    div.innerHTML = string;
    return div.childNodes[0];
  };

  Dropzone.elementInside = function(element, container) {
    if (element === container) {
      return true;
    }
    while (element = element.parentNode) {
      if (element === container) {
        return true;
      }
    }
    return false;
  };

  Dropzone.getElement = function(el, name) {
    var element;
    if (typeof el === &quot;string&quot;) {
      element = document.querySelector(el);
    } else if (el.nodeType != null) {
      element = el;
    }
    if (element == null) {
      throw new Error(&quot;Invalid `&quot; + name + &quot;` option provided. Please provide a CSS selector or a plain HTML element.&quot;);
    }
    return element;
  };

  Dropzone.getElements = function(els, name) {
    var e, el, elements, _i, _j, _len, _len1, _ref;
    if (els instanceof Array) {
      elements = [];
      try {
        for (_i = 0, _len = els.length; _i &lt; _len; _i++) {
          el = els[_i];
          elements.push(this.getElement(el, name));
        }
      } catch (_error) {
        e = _error;
        elements = null;
      }
    } else if (typeof els === &quot;string&quot;) {
      elements = [];
      _ref = document.querySelectorAll(els);
      for (_j = 0, _len1 = _ref.length; _j &lt; _len1; _j++) {
        el = _ref[_j];
        elements.push(el);
      }
    } else if (els.nodeType != null) {
      elements = [els];
    }
    if (!((elements != null) &amp;&amp; elements.length)) {
      throw new Error(&quot;Invalid `&quot; + name + &quot;` option provided. Please provide a CSS selector, a plain HTML element or a list of those.&quot;);
    }
    return elements;
  };

  Dropzone.confirm = function(question, accepted, rejected) {
    if (window.confirm(question)) {
      return accepted();
    } else if (rejected != null) {
      return rejected();
    }
  };

  Dropzone.isValidFile = function(file, acceptedFiles) {
    var baseMimeType, mimeType, validType, _i, _len;
    if (!acceptedFiles) {
      return true;
    }
    acceptedFiles = acceptedFiles.split(&quot;,&quot;);
    mimeType = file.type;
    baseMimeType = mimeType.replace(/\/.*$/, &quot;&quot;);
    for (_i = 0, _len = acceptedFiles.length; _i &lt; _len; _i++) {
      validType = acceptedFiles[_i];
      validType = validType.trim();
      if (validType.charAt(0) === &quot;.&quot;) {
        if (file.name.toLowerCase().indexOf(validType.toLowerCase(), file.name.length - validType.length) !== -1) {
          return true;
        }
      } else if (/\/\*$/.test(validType)) {
        if (baseMimeType === validType.replace(/\/.*$/, &quot;&quot;)) {
          return true;
        }
      } else {
        if (mimeType === validType) {
          return true;
        }
      }
    }
    return false;
  };

  if (typeof jQuery !== &quot;undefined&quot; &amp;&amp; jQuery !== null) {
    jQuery.fn.dropzone = function(options) {
      return this.each(function() {
        return new Dropzone(this, options);
      });
    };
  }

  if (typeof module !== &quot;undefined&quot; &amp;&amp; module !== null) {
    module.exports = Dropzone;
  } else {
    window.Dropzone = Dropzone;
  }

  Dropzone.ADDED = &quot;added&quot;;

  Dropzone.QUEUED = &quot;queued&quot;;

  Dropzone.ACCEPTED = Dropzone.QUEUED;

  Dropzone.UPLOADING = &quot;uploading&quot;;

  Dropzone.PROCESSING = Dropzone.UPLOADING;

  Dropzone.CANCELED = &quot;canceled&quot;;

  Dropzone.ERROR = &quot;error&quot;;

  Dropzone.SUCCESS = &quot;success&quot;;


  /*
  
  Bugfix for iOS 6 and 7
  Source: http://stackoverflow.com/questions/11929099/html5-canvas-drawimage-ratio-bug-ios
  based on the work of https://github.com/stomita/ios-imagefile-megapixel
   */

  detectVerticalSquash = function(img) {
    var alpha, canvas, ctx, data, ey, ih, iw, py, ratio, sy;
    iw = img.naturalWidth;
    ih = img.naturalHeight;
    canvas = document.createElement(&quot;canvas&quot;);
    canvas.width = 1;
    canvas.height = ih;
    ctx = canvas.getContext(&quot;2d&quot;);
    ctx.drawImage(img, 0, 0);
    data = ctx.getImageData(0, 0, 1, ih).data;
    sy = 0;
    ey = ih;
    py = ih;
    while (py &gt; sy) {
      alpha = data[(py - 1) * 4 + 3];
      if (alpha === 0) {
        ey = py;
      } else {
        sy = py;
      }
      py = (ey + sy) &gt;&gt; 1;
    }
    ratio = py / ih;
    if (ratio === 0) {
      return 1;
    } else {
      return ratio;
    }
  };

  drawImageIOSFix = function(ctx, img, sx, sy, sw, sh, dx, dy, dw, dh) {
    var vertSquashRatio;
    vertSquashRatio = detectVerticalSquash(img);
    return ctx.drawImage(img, sx, sy, sw, sh, dx, dy, dw, dh / vertSquashRatio);
  };


  /*
   * contentloaded.js
   *
   * Author: Diego Perini (diego.perini at gmail.com)
   * Summary: cross-browser wrapper for DOMContentLoaded
   * Updated: 20101020
   * License: MIT
   * Version: 1.2
   *
   * URL:
   * http://javascript.nwbox.com/ContentLoaded/
   * http://javascript.nwbox.com/ContentLoaded/MIT-LICENSE
   */

  contentLoaded = function(win, fn) {
    var add, doc, done, init, poll, pre, rem, root, top;
    done = false;
    top = true;
    doc = win.document;
    root = doc.documentElement;
    add = (doc.addEventListener ? &quot;addEventListener&quot; : &quot;attachEvent&quot;);
    rem = (doc.addEventListener ? &quot;removeEventListener&quot; : &quot;detachEvent&quot;);
    pre = (doc.addEventListener ? &quot;&quot; : &quot;on&quot;);
    init = function(e) {
      if (e.type === &quot;readystatechange&quot; &amp;&amp; doc.readyState !== &quot;complete&quot;) {
        return;
      }
      (e.type === &quot;load&quot; ? win : doc)[rem](pre + e.type, init, false);
      if (!done &amp;&amp; (done = true)) {
        return fn.call(win, e.type || e);
      }
    };
    poll = function() {
      var e;
      try {
        root.doScroll(&quot;left&quot;);
      } catch (_error) {
        e = _error;
        setTimeout(poll, 50);
        return;
      }
      return init(&quot;poll&quot;);
    };
    if (doc.readyState !== &quot;complete&quot;) {
      if (doc.createEventObject &amp;&amp; root.doScroll) {
        try {
          top = !win.frameElement;
        } catch (_error) {}
        if (top) {
          poll();
        }
      }
      doc[add](pre + &quot;DOMContentLoaded&quot;, init, false);
      doc[add](pre + &quot;readystatechange&quot;, init, false);
      return win[add](pre + &quot;load&quot;, init, false);
    }
  };

  Dropzone._autoDiscoverFunction = function() {
    if (Dropzone.autoDiscover) {
      return Dropzone.discover();
    }
  };

  contentLoaded(window, Dropzone._autoDiscoverFunction);

}).call(this);

});

if (typeof exports == &quot;object&quot;) {
  module.exports = require(&quot;dropzone&quot;);
} else if (typeof define == &quot;function&quot; &amp;&amp; define.amd) {
  define([], function(){ return require(&quot;dropzone&quot;); });
} else {
  this[&quot;Dropzone&quot;] = require(&quot;dropzone&quot;);
}
})()</pre>
</div>
<div title="example" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405190928" tags="Reference excludeTimeline" content-type="text/x-tiddlywiki" alias="" changecount="2">
<pre></pre>
</div>
<div title="exporting.js" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405190849" tags="excludeTimeline js systemConfig HighCharts" changecount="4" alias="" content-type="text/javascript">
<pre>/*
 Highcharts JS v4.0.1 (2014-04-24)
 Exporting module

 (c) 2010-2014 Torstein Honsi

 License: www.highcharts.com/license
*/
(function(f){var A=f.Chart,t=f.addEvent,B=f.removeEvent,l=f.createElement,o=f.discardElement,v=f.css,k=f.merge,r=f.each,p=f.extend,D=Math.max,j=document,C=window,E=f.isTouchDevice,F=f.Renderer.prototype.symbols,s=f.getOptions(),y;p(s.lang,{printChart:&quot;Print chart&quot;,downloadPNG:&quot;Download PNG image&quot;,downloadJPEG:&quot;Download JPEG image&quot;,downloadPDF:&quot;Download PDF document&quot;,downloadSVG:&quot;Download SVG vector image&quot;,contextButtonTitle:&quot;Chart context menu&quot;});s.navigation={menuStyle:{border:&quot;1px solid #A0A0A0&quot;,
background:&quot;#FFFFFF&quot;,padding:&quot;5px 0&quot;},menuItemStyle:{padding:&quot;0 10px&quot;,background:&quot;none&quot;,color:&quot;#303030&quot;,fontSize:E?&quot;14px&quot;:&quot;11px&quot;},menuItemHoverStyle:{background:&quot;#4572A5&quot;,color:&quot;#FFFFFF&quot;},buttonOptions:{symbolFill:&quot;#E0E0E0&quot;,symbolSize:14,symbolStroke:&quot;#666&quot;,symbolStrokeWidth:3,symbolX:12.5,symbolY:10.5,align:&quot;right&quot;,buttonSpacing:3,height:22,theme:{fill:&quot;white&quot;,stroke:&quot;none&quot;},verticalAlign:&quot;top&quot;,width:24}};s.exporting={type:&quot;image/png&quot;,url:&quot;http://export.highcharts.com/&quot;,buttons:{contextButton:{menuClassName:&quot;highcharts-contextmenu&quot;,
symbol:&quot;menu&quot;,_titleKey:&quot;contextButtonTitle&quot;,menuItems:[{textKey:&quot;printChart&quot;,onclick:function(){this.print()}},{separator:!0},{textKey:&quot;downloadPNG&quot;,onclick:function(){this.exportChart()}},{textKey:&quot;downloadJPEG&quot;,onclick:function(){this.exportChart({type:&quot;image/jpeg&quot;})}},{textKey:&quot;downloadPDF&quot;,onclick:function(){this.exportChart({type:&quot;application/pdf&quot;})}},{textKey:&quot;downloadSVG&quot;,onclick:function(){this.exportChart({type:&quot;image/svg+xml&quot;})}}]}}};f.post=function(b,a,d){var c,b=l(&quot;form&quot;,k({method:&quot;post&quot;,
action:b,enctype:&quot;multipart/form-data&quot;},d),{display:&quot;none&quot;},j.body);for(c in a)l(&quot;input&quot;,{type:&quot;hidden&quot;,name:c,value:a[c]},null,b);b.submit();o(b)};p(A.prototype,{getSVG:function(b){var a=this,d,c,z,h,g=k(a.options,b);if(!j.createElementNS)j.createElementNS=function(a,b){return j.createElement(b)};b=l(&quot;div&quot;,null,{position:&quot;absolute&quot;,top:&quot;-9999em&quot;,width:a.chartWidth+&quot;px&quot;,height:a.chartHeight+&quot;px&quot;},j.body);c=a.renderTo.style.width;h=a.renderTo.style.height;c=g.exporting.sourceWidth||g.chart.width||
/px$/.test(c)&amp;&amp;parseInt(c,10)||600;h=g.exporting.sourceHeight||g.chart.height||/px$/.test(h)&amp;&amp;parseInt(h,10)||400;p(g.chart,{animation:!1,renderTo:b,forExport:!0,width:c,height:h});g.exporting.enabled=!1;g.series=[];r(a.series,function(a){z=k(a.options,{animation:!1,showCheckbox:!1,visible:a.visible});z.isInternal||g.series.push(z)});d=new f.Chart(g,a.callback);r([&quot;xAxis&quot;,&quot;yAxis&quot;],function(b){r(a[b],function(a,c){var g=d[b][c],f=a.getExtremes(),h=f.userMin,f=f.userMax;g&amp;&amp;(h!==void 0||f!==void 0)&amp;&amp;
g.setExtremes(h,f,!0,!1)})});c=d.container.innerHTML;g=null;d.destroy();o(b);c=c.replace(/zIndex=&quot;[^&quot;]+&quot;/g,&quot;&quot;).replace(/isShadow=&quot;[^&quot;]+&quot;/g,&quot;&quot;).replace(/symbolName=&quot;[^&quot;]+&quot;/g,&quot;&quot;).replace(/jQuery[0-9]+=&quot;[^&quot;]+&quot;/g,&quot;&quot;).replace(/url\([^#]+#/g,&quot;url(#&quot;).replace(/&lt;svg /,'&lt;svg xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; ').replace(/ href=/g,&quot; xlink:href=&quot;).replace(/\n/,&quot; &quot;).replace(/&lt;\/svg&gt;.*?$/,&quot;&lt;/svg&gt;&quot;).replace(/&amp;nbsp;/g,&quot;&amp;nbsp;&quot;).replace(/&amp;shy;/g,&quot;&quot;).replace(/&lt;IMG /g,&quot;&lt;image &quot;).replace(/height=([^&quot; ]+)/g,'height=&quot;$1&quot;').replace(/width=([^&quot; ]+)/g,
'width=&quot;$1&quot;').replace(/hc-svg-href=&quot;([^&quot;]+)&quot;&gt;/g,'xlink:href=&quot;$1&quot;/&gt;').replace(/id=([^&quot; &gt;]+)/g,'id=&quot;$1&quot;').replace(/class=([^&quot; &gt;]+)/g,'class=&quot;$1&quot;').replace(/ transform /g,&quot; &quot;).replace(/:(path|rect)/g,&quot;$1&quot;).replace(/style=&quot;([^&quot;]+)&quot;/g,function(a){return a.toLowerCase()});return c=c.replace(/(url\(#highcharts-[0-9]+)&amp;quot;/g,&quot;$1&quot;).replace(/&amp;quot;/g,&quot;'&quot;)},exportChart:function(b,a){var b=b||{},d=this.options.exporting,d=this.getSVG(k({chart:{borderRadius:0}},d.chartOptions,a,{exporting:{sourceWidth:b.sourceWidth||
d.sourceWidth,sourceHeight:b.sourceHeight||d.sourceHeight}})),b=k(this.options.exporting,b);f.post(b.url,{filename:b.filename||&quot;chart&quot;,type:b.type,width:b.width||0,scale:b.scale||2,svg:d},b.formAttributes)},print:function(){var b=this,a=b.container,d=[],c=a.parentNode,f=j.body,h=f.childNodes;if(!b.isPrinting)b.isPrinting=!0,r(h,function(a,b){if(a.nodeType===1)d[b]=a.style.display,a.style.display=&quot;none&quot;}),f.appendChild(a),C.focus(),C.print(),setTimeout(function(){c.appendChild(a);r(h,function(a,b){if(a.nodeType===
1)a.style.display=d[b]});b.isPrinting=!1},1E3)},contextMenu:function(b,a,d,c,f,h,g){var e=this,k=e.options.navigation,q=k.menuItemStyle,m=e.chartWidth,n=e.chartHeight,j=&quot;cache-&quot;+b,i=e[j],u=D(f,h),w,x,o,s=function(a){e.pointer.inClass(a.target,b)||x()};if(!i)e[j]=i=l(&quot;div&quot;,{className:b},{position:&quot;absolute&quot;,zIndex:1E3,padding:u+&quot;px&quot;},e.container),w=l(&quot;div&quot;,null,p({MozBoxShadow:&quot;3px 3px 10px #888&quot;,WebkitBoxShadow:&quot;3px 3px 10px #888&quot;,boxShadow:&quot;3px 3px 10px #888&quot;},k.menuStyle),i),x=function(){v(i,{display:&quot;none&quot;});
g&amp;&amp;g.setState(0);e.openMenu=!1},t(i,&quot;mouseleave&quot;,function(){o=setTimeout(x,500)}),t(i,&quot;mouseenter&quot;,function(){clearTimeout(o)}),t(document,&quot;mouseup&quot;,s),t(e,&quot;destroy&quot;,function(){B(document,&quot;mouseup&quot;,s)}),r(a,function(a){if(a){var b=a.separator?l(&quot;hr&quot;,null,null,w):l(&quot;div&quot;,{onmouseover:function(){v(this,k.menuItemHoverStyle)},onmouseout:function(){v(this,q)},onclick:function(){x();a.onclick.apply(e,arguments)},innerHTML:a.text||e.options.lang[a.textKey]},p({cursor:&quot;pointer&quot;},q),w);e.exportDivElements.push(b)}}),
e.exportDivElements.push(w,i),e.exportMenuWidth=i.offsetWidth,e.exportMenuHeight=i.offsetHeight;a={display:&quot;block&quot;};d+e.exportMenuWidth&gt;m?a.right=m-d-f-u+&quot;px&quot;:a.left=d-u+&quot;px&quot;;c+h+e.exportMenuHeight&gt;n&amp;&amp;g.alignOptions.verticalAlign!==&quot;top&quot;?a.bottom=n-c-u+&quot;px&quot;:a.top=c+h-u+&quot;px&quot;;v(i,a);e.openMenu=!0},addButton:function(b){var a=this,d=a.renderer,c=k(a.options.navigation.buttonOptions,b),j=c.onclick,h=c.menuItems,g,e,l={stroke:c.symbolStroke,fill:c.symbolFill},q=c.symbolSize||12;if(!a.btnCount)a.btnCount=
0;if(!a.exportDivElements)a.exportDivElements=[],a.exportSVGElements=[];if(c.enabled!==!1){var m=c.theme,n=m.states,o=n&amp;&amp;n.hover,n=n&amp;&amp;n.select,i;delete m.states;j?i=function(){j.apply(a,arguments)}:h&amp;&amp;(i=function(){a.contextMenu(e.menuClassName,h,e.translateX,e.translateY,e.width,e.height,e);e.setState(2)});c.text&amp;&amp;c.symbol?m.paddingLeft=f.pick(m.paddingLeft,25):c.text||p(m,{width:c.width,height:c.height,padding:0});e=d.button(c.text,0,0,i,m,o,n).attr({title:a.options.lang[c._titleKey],&quot;stroke-linecap&quot;:&quot;round&quot;});
e.menuClassName=b.menuClassName||&quot;highcharts-menu-&quot;+a.btnCount++;c.symbol&amp;&amp;(g=d.symbol(c.symbol,c.symbolX-q/2,c.symbolY-q/2,q,q).attr(p(l,{&quot;stroke-width&quot;:c.symbolStrokeWidth||1,zIndex:1})).add(e));e.add().align(p(c,{width:e.width,x:f.pick(c.x,y)}),!0,&quot;spacingBox&quot;);y+=(e.width+c.buttonSpacing)*(c.align===&quot;right&quot;?-1:1);a.exportSVGElements.push(e,g)}},destroyExport:function(b){var b=b.target,a,d;for(a=0;a&lt;b.exportSVGElements.length;a++)if(d=b.exportSVGElements[a])d.onclick=d.ontouchstart=null,b.exportSVGElements[a]=
d.destroy();for(a=0;a&lt;b.exportDivElements.length;a++)d=b.exportDivElements[a],B(d,&quot;mouseleave&quot;),b.exportDivElements[a]=d.onmouseout=d.onmouseover=d.ontouchstart=d.onclick=null,o(d)}});F.menu=function(b,a,d,c){return[&quot;M&quot;,b,a+2.5,&quot;L&quot;,b+d,a+2.5,&quot;M&quot;,b,a+c/2+0.5,&quot;L&quot;,b+d,a+c/2+0.5,&quot;M&quot;,b,a+c-1.5,&quot;L&quot;,b+d,a+c-1.5]};A.prototype.callbacks.push(function(b){var a,d=b.options.exporting,c=d.buttons;y=0;if(d.enabled!==!1){for(a in c)b.addButton(c[a]);t(b,&quot;destroy&quot;,b.destroyExport)}})})(Highcharts);
</pre>
</div>
<div title="flaticon.css" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405150718" tags="excludeTimeline css" changecount="59" content-type="text/css">
<pre>/*{{{*/
@font-face {
	font-family: &quot;Flaticon&quot;;
	src: url(&quot;icons/flat_icon/flaticon.eot&quot;);
	src: url(&quot;icons/flat_icon/flaticon.eot#iefix&quot;) format(&quot;embedded-opentype&quot;),
		url(&quot;icons/flat_icon/flaticon.woff&quot;) format(&quot;woff&quot;),
		url(&quot;icons/flat_icon/flaticon.ttf&quot;) format(&quot;truetype&quot;),
		url(&quot;icons/flat_icon/flaticon.svg&quot;) format(&quot;svg&quot;); 
	font-weight: normal;
	font-style: normal;
	
}
[class^=&quot;flaticon-&quot;]:before, [class*=&quot; flaticon-&quot;]:before,
[class^=&quot;flaticon-&quot;]:after, [class*=&quot; flaticon-&quot;]:after {   
	font-family: Flaticon;
        font-size: 18px;
font-style: normal;
margin-left: 2px;
	color:[[ColorPalette::PrimaryDark]];
	display:inline-block;
	position:relative;top:2px;
}


.flaticon-3dm:before {
	content: &quot;\e000&quot;;
}
.flaticon-3ds2:before {
	content: &quot;\e001&quot;;
}
.flaticon-3g22:before {
	content: &quot;\e002&quot;;
}
.flaticon-3gp2:before {
	content: &quot;\e003&quot;;
}
.flaticon-7z1:before {
	content: &quot;\e004&quot;;
}
.flaticon-aac:before {
	content: &quot;\e005&quot;;
}
.flaticon-aif:before {
	content: &quot;\e006&quot;;
}
.flaticon-ai:before {
	content: &quot;\e007&quot;;
}
.flaticon-apk:before {
	content: &quot;\e008&quot;;
}
.flaticon-app6:before {
	content: &quot;\e009&quot;;
}
.flaticon-asf1:before {
	content: &quot;\e00a&quot;;
}
.flaticon-asp:before {
	content: &quot;\e00b&quot;;
}
.flaticon-aspx:before {
	content: &quot;\e00c&quot;;
}
.flaticon-asx2:before {
	content: &quot;\e00d&quot;;
}
.flaticon-avi4:before {
	content: &quot;\e00e&quot;;
}
.flaticon-bak:before {
	content: &quot;\e00f&quot;;
}
.flaticon-bat8:before {
	content: &quot;\e010&quot;;
}
.flaticon-bin6:before {
	content: &quot;\e011&quot;;
}
.flaticon-bmp2:before {
	content: &quot;\e012&quot;;
}
.flaticon-cab:before {
	content: &quot;\e013&quot;;
}
.flaticon-cad1:before {
	content: &quot;\e014&quot;;
}
.flaticon-cdr2:before {
	content: &quot;\e015&quot;;
}
.flaticon-cer:before {
	content: &quot;\e016&quot;;
}
.flaticon-cfg2:before {
	content: &quot;\e017&quot;;
}
.flaticon-cfm2:before {
	content: &quot;\e018&quot;;
}
.flaticon-cgi2:before {
	content: &quot;\e019&quot;;
}
.flaticon-class3:before {
	content: &quot;\e01a&quot;;
}
.flaticon-com:before {
	content: &quot;\e01b&quot;;
}
.flaticon-cpl2:before {
	content: &quot;\e01c&quot;;
}
.flaticon-cpp1:before {
	content: &quot;\e01d&quot;;
}
.flaticon-crx:before {
	content: &quot;\e01e&quot;;
}
.flaticon-csr:before {
	content: &quot;\e01f&quot;;
}
.flaticon-css5:before {
	content: &quot;\e020&quot;;
}
.flaticon-csv2:before {
	content: &quot;\e021&quot;;
}
.flaticon-cue2:before {
	content: &quot;\e022&quot;;
}
.flaticon-cur1:before {
	content: &quot;\e023&quot;;
}
.flaticon-dat2:before {
	content: &quot;\e024&quot;;
}
.flaticon-db2:before {
	content: &quot;\e025&quot;;
}
.flaticon-dbf2:before {
	content: &quot;\e026&quot;;
}
.flaticon-dds2:before {
	content: &quot;\e027&quot;;
}
.flaticon-dem2:before {
	content: &quot;\e028&quot;;
}
.flaticon-dll2:before {
	content: &quot;\e029&quot;;
}
.flaticon-dmg3:before {
	content: &quot;\e02a&quot;;
}
.flaticon-dmp2:before {
	content: &quot;\e02b&quot;;
}
.flaticon-doc2:before {
	content: &quot;\e02c&quot;;
}
.flaticon-docx:before {
	content: &quot;\e02d&quot;;
}
.flaticon-drv1:before {
	content: &quot;\e02e&quot;;
}
.flaticon-dtd2:before {
	content: &quot;\e02f&quot;;
}
.flaticon-dwg2:before {
	content: &quot;\e030&quot;;
}
.flaticon-dxf1:before {
	content: &quot;\e031&quot;;
}
.flaticon-elf2:before {
	content: &quot;\e032&quot;;
}
.flaticon-eps2:before {
	content: &quot;\e033&quot;;
}
.flaticon-eps5:before {
	content: &quot;\e034&quot;;
}
.flaticon-exe3:before {
	content: &quot;\e035&quot;;
}
.flaticon-fla2:before {
	content: &quot;\e036&quot;;
}
.flaticon-flash10:before {
	content: &quot;\e037&quot;;
}
.flaticon-flv:before {
	content: &quot;\e038&quot;;
}
.flaticon-fnt:before {
	content: &quot;\e039&quot;;
}
.flaticon-fon1:before {
	content: &quot;\e03a&quot;;
}
.flaticon-gam2:before {
	content: &quot;\e03b&quot;;
}
.flaticon-gbr1:before {
	content: &quot;\e03c&quot;;
}
.flaticon-ged2:before {
	content: &quot;\e03d&quot;;
}
.flaticon-gif3:before {
	content: &quot;\e03e&quot;;
}
.flaticon-gpx1:before {
	content: &quot;\e03f&quot;;
}
.flaticon-gzip2:before {
	content: &quot;\e040&quot;;
}
.flaticon-gz:before {
	content: &quot;\e041&quot;;
}
.flaticon-hqz:before {
	content: &quot;\e042&quot;;
}
.flaticon-html9:before {
	content: &quot;\e043&quot;;
}
.flaticon-ibooks1:before {
	content: &quot;\e044&quot;;
}
.flaticon-icns:before {
	content: &quot;\e045&quot;;
}
.flaticon-ico2:before {
	content: &quot;\e046&quot;;
}
.flaticon-ics2:before {
	content: &quot;\e047&quot;;
}
.flaticon-iff:before {
	content: &quot;\e048&quot;;
}
.flaticon-indd2:before {
	content: &quot;\e049&quot;;
}
.flaticon-iso1:before {
	content: &quot;\e04a&quot;;
}
.flaticon-iso4:before {
	content: &quot;\e04b&quot;;
}
.flaticon-jar8:before {
	content: &quot;\e04c&quot;;
}
.flaticon-jpg3:before {
	content: &quot;\e04d&quot;;
}
.flaticon-js2:before {
	content: &quot;\e04e&quot;;
}
.flaticon-jsp2:before {
	content: &quot;\e04f&quot;;
}
.flaticon-key35:before {
	content: &quot;\e050&quot;;
}
.flaticon-kml1:before {
	content: &quot;\e051&quot;;
}
.flaticon-kmz:before {
	content: &quot;\e052&quot;;
}
.flaticon-lnk2:before {
	content: &quot;\e053&quot;;
}
.flaticon-log2:before {
	content: &quot;\e054&quot;;
}
.flaticon-lua:before {
	content: &quot;\e055&quot;;
}
.flaticon-m3u:before {
	content: &quot;\e056&quot;;
}
.flaticon-m4a1:before {
	content: &quot;\e057&quot;;
}
.flaticon-m4v2:before {
	content: &quot;\e058&quot;;
}
.flaticon-macho:before {
	content: &quot;\e059&quot;;
}
.flaticon-max2:before {
	content: &quot;\e05a&quot;;
}
.flaticon-mdb2:before {
	content: &quot;\e05b&quot;;
}
.flaticon-mdf2:before {
	content: &quot;\e05c&quot;;
}
.flaticon-mid:before {
	content: &quot;\e05d&quot;;
}
.flaticon-mim:before {
	content: &quot;\e05e&quot;;
}
.flaticon-mov2:before {
	content: &quot;\e05f&quot;;
}
.flaticon-mp36:before {
	content: &quot;\e060&quot;;
}
.flaticon-mp4:before {
	content: &quot;\e061&quot;;
}
.flaticon-mpa:before {
	content: &quot;\e062&quot;;
}
.flaticon-mpg3:before {
	content: &quot;\e063&quot;;
}
.flaticon-msg2:before {
	content: &quot;\e064&quot;;
}
.flaticon-msi2:before {
	content: &quot;\e065&quot;;
}
.flaticon-nes1:before {
	content: &quot;\e066&quot;;
}
.flaticon-object4:before {
	content: &quot;\e067&quot;;
}
.flaticon-odb2:before {
	content: &quot;\e068&quot;;
}
.flaticon-odc2:before {
	content: &quot;\e069&quot;;
}
.flaticon-odf2:before {
	content: &quot;\e06a&quot;;
}
.flaticon-odg:before {
	content: &quot;\e06b&quot;;
}
.flaticon-odi2:before {
	content: &quot;\e06c&quot;;
}
.flaticon-odp2:before {
	content: &quot;\e06d&quot;;
}
.flaticon-ods2:before {
	content: &quot;\e06e&quot;;
}
.flaticon-odt5:before {
	content: &quot;\e06f&quot;;
}
.flaticon-odt:before {
	content: &quot;\e070&quot;;
}
.flaticon-odx:before {
	content: &quot;\e071&quot;;
}
.flaticon-ogg:before {
	content: &quot;\e072&quot;;
}
.flaticon-otf1:before {
	content: &quot;\e073&quot;;
}
.flaticon-otf:before {
	content: &quot;\e074&quot;;
}
.flaticon-pages4:before {
	content: &quot;\e075&quot;;
}
.flaticon-pct2:before {
	content: &quot;\e076&quot;;
}
.flaticon-pdb2:before {
	content: &quot;\e077&quot;;
}
.flaticon-pdf19:before {
	content: &quot;\e078&quot;;
}
.flaticon-pif2:before {
	content: &quot;\e079&quot;;
}
.flaticon-pkg2:before {
	content: &quot;\e07a&quot;;
}
.flaticon-pl2:before {
	content: &quot;\e07b&quot;;
}
.flaticon-png3:before {
	content: &quot;\e07c&quot;;
}
.flaticon-pps2:before {
	content: &quot;\e07d&quot;;
}
.flaticon-ppt:before {
	content: &quot;\e07e&quot;;
}
.flaticon-pptx2:before {
	content: &quot;\e07f&quot;;
}
.flaticon-psd3:before {
	content: &quot;\e080&quot;;
}
.flaticon-ps:before {
	content: &quot;\e081&quot;;
}
.flaticon-pub2:before {
	content: &quot;\e082&quot;;
}
.flaticon-python3:before {
	content: &quot;\e083&quot;;
}
.flaticon-rar2:before {
	content: &quot;\e084&quot;;
}
.flaticon-ra:before {
	content: &quot;\e085&quot;;
}
.flaticon-raw2:before {
	content: &quot;\e086&quot;;
}
.flaticon-rm:before {
	content: &quot;\e087&quot;;
}
.flaticon-rom2:before {
	content: &quot;\e088&quot;;
}
.flaticon-rpm2:before {
	content: &quot;\e089&quot;;
}
.flaticon-rss29:before {
	content: &quot;\e08a&quot;;
}
.flaticon-rtf:before {
	content: &quot;\e08b&quot;;
}
.flaticon-sav:before {
	content: &quot;\e08c&quot;;
}
.flaticon-sdf:before {
	content: &quot;\e08d&quot;;
}
.flaticon-sitx2:before {
	content: &quot;\e08e&quot;;
}
.flaticon-sql3:before {
	content: &quot;\e08f&quot;;
}
.flaticon-sql5:before {
	content: &quot;\e090&quot;;
}
.flaticon-srt:before {
	content: &quot;\e091&quot;;
}
.flaticon-svg1:before {
	content: &quot;\e092&quot;;
}
.flaticon-swf1:before {
	content: &quot;\e093&quot;;
}
.flaticon-sys:before {
	content: &quot;\e094&quot;;
}
.flaticon-tar1:before {
	content: &quot;\e095&quot;;
}
.flaticon-tex:before {
	content: &quot;\e096&quot;;
}
.flaticon-tga2:before {
	content: &quot;\e097&quot;;
}
.flaticon-thm1:before {
	content: &quot;\e098&quot;;
}
.flaticon-tiff1:before {
	content: &quot;\e099&quot;;
}
.flaticon-tmp:before {
	content: &quot;\e09a&quot;;
}
.flaticon-torrent:before {
	content: &quot;\e09b&quot;;
}
.flaticon-ttf2:before {
	content: &quot;\e09c&quot;;
}
.flaticon-txt2:before {
	content: &quot;\e09d&quot;;
}
.flaticon-uue2:before {
	content: &quot;\e09e&quot;;
}
.flaticon-vb:before {
	content: &quot;\e09f&quot;;
}
.flaticon-vcd2:before {
	content: &quot;\e0a0&quot;;
}
.flaticon-vcf2:before {
	content: &quot;\e0a1&quot;;
}
.flaticon-vob:before {
	content: &quot;\e0a2&quot;;
}
.flaticon-wav2:before {
	content: &quot;\e0a3&quot;;
}
.flaticon-wma1:before {
	content: &quot;\e0a4&quot;;
}
.flaticon-wmv2:before {
	content: &quot;\e0a5&quot;;
}
.flaticon-wpd2:before {
	content: &quot;\e0a6&quot;;
}
.flaticon-wps:before {
	content: &quot;\e0a7&quot;;
}
.flaticon-wsf2:before {
	content: &quot;\e0a8&quot;;
}
.flaticon-xhtml:before {
	content: &quot;\e0a9&quot;;
}
.flaticon-xlr2:before {
	content: &quot;\e0aa&quot;;
}
.flaticon-xls1:before {
	content: &quot;\e0ab&quot;;
}
.flaticon-xlsx:before {
	content: &quot;\e0ac&quot;;
}
.flaticon-xml5:before {
	content: &quot;\e0ad&quot;;
}
.flaticon-yuv2:before {
	content: &quot;\e0ae&quot;;
}
.flaticon-zip6:before {
	content: &quot;\e0af&quot;;
}
/*}}}*/</pre>
</div>
<div title="formatters" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405152125" tags="systemConfig systemConfigDisable excludeTimeline" content-type="text/x-tiddlywiki" changecount="8">
<pre>//{{{
config.macros.AMBITFormatterChanges = {

	init: function() {
		for(var i=0;i&lt;formatter.formatters.length;i++)
		{
			if(formatter.formatters[i].name==&quot;heading&quot;) //(say)
			{
				formatter.formatters[i].handler = function(w) {
					var headingCount = w.matchLength + 2;
					if(headingCount &gt; 6) {
						headingCount = 6;
					}
					w.subWikifyTerm(createTiddlyElement(w.output,&quot;h&quot; + headingCount),this.termRegExp);
				};
			} else if(formatter.formatters[i].name==&quot;table&quot;) {
				formatter.formatters[i]._handler = formatter.formatters[i].handler;
				formatter.formatters[i].handler = function(w) {
					var _output = w.output;
					w.output = createTiddlyElement(w.output, &quot;div&quot;, null, &quot;tableContainer&quot;);
					this._handler.apply(this,arguments);
					w.output = _output;
				};
			}
		}
	}
};
//}}}

//{{{
config.formatters = [
{
	name: &quot;table&quot;,
	match: &quot;^\\|(?:[^\\n]*)\\|(?:[fhck]?)$&quot;,
	lookaheadRegExp: /^\|([^\n]*)\|([fhck]?)$/mg,
	rowTermRegExp: /(\|(?:[fhck]?)$\n?)/mg,
	cellRegExp: /(?:\|([^\n\|]*)\|)|(\|[fhck]?$\n?)/mg,
	cellTermRegExp: /((?:\x20*)\|)/mg,
	rowTypes: {&quot;c&quot;:&quot;caption&quot;, &quot;h&quot;:&quot;thead&quot;, &quot;&quot;:&quot;tbody&quot;, &quot;f&quot;:&quot;tfoot&quot;},
	handler: function(w)
	{
		var table = createTiddlyElement(w.output,&quot;table&quot;,null,&quot;twtable&quot;);
		var prevColumns = [];
		var currRowType = null;
		var rowContainer;
		var rowCount = 0;
		var onmouseover = function() {jQuery(this).addClass(&quot;hoverRow&quot;);};
		var onmouseout = function() {jQuery(this).removeClass(&quot;hoverRow&quot;);};
		w.nextMatch = w.matchStart;
		this.lookaheadRegExp.lastIndex = w.nextMatch;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		while(lookaheadMatch &amp;&amp; lookaheadMatch.index == w.nextMatch) {
			var nextRowType = lookaheadMatch[2];
			if(nextRowType == &quot;k&quot;) {
				table.className = lookaheadMatch[1];
				w.nextMatch += lookaheadMatch[0].length+1;
			} else {
				if(nextRowType != currRowType) {
					rowContainer = createTiddlyElement(table,this.rowTypes[nextRowType]);
					currRowType = nextRowType;
				}
				if(currRowType == &quot;c&quot;) {
					// Caption
					w.nextMatch++;
					if(rowContainer != table.firstChild)
						table.insertBefore(rowContainer,table.firstChild);
					rowContainer.setAttribute(&quot;align&quot;,rowCount == 0?&quot;top&quot;:&quot;bottom&quot;);
					w.subWikifyTerm(rowContainer,this.rowTermRegExp);
				} else {
					var theRow = createTiddlyElement(rowContainer,&quot;tr&quot;,null,rowCount%2?&quot;oddRow&quot;:&quot;evenRow&quot;);
					theRow.onmouseover = onmouseover;
					theRow.onmouseout = onmouseout;
					this.rowHandler(w,theRow,prevColumns);
					rowCount++;
				}
			}
			this.lookaheadRegExp.lastIndex = w.nextMatch;
			lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		}
	},
	rowHandler: function(w,e,prevColumns)
	{
		var col = 0;
		var colSpanCount = 1;
		var prevCell = null;
		this.cellRegExp.lastIndex = w.nextMatch;
		var cellMatch = this.cellRegExp.exec(w.source);
		while(cellMatch &amp;&amp; cellMatch.index == w.nextMatch) {
			if(cellMatch[1] == &quot;~&quot;) {
				// Rowspan
				var last = prevColumns[col];
				if(last) {
					last.rowSpanCount++;
					last.element.setAttribute(&quot;rowspan&quot;,last.rowSpanCount);
					last.element.setAttribute(&quot;rowSpan&quot;,last.rowSpanCount); // Needed for IE
					last.element.valign = &quot;center&quot;;
					if(colSpanCount &gt; 1) {
						last.element.setAttribute(&quot;colspan&quot;,colSpanCount);
						last.element.setAttribute(&quot;colSpan&quot;,colSpanCount); // Needed for IE
						colSpanCount = 1;
					}
				}
				w.nextMatch = this.cellRegExp.lastIndex-1;
			} else if(cellMatch[1] == &quot;&gt;&quot;) {
				// Colspan
				colSpanCount++;
				w.nextMatch = this.cellRegExp.lastIndex-1;
			} else if(cellMatch[2]) {
				// End of row
				if(prevCell &amp;&amp; colSpanCount &gt; 1) {
					prevCell.setAttribute(&quot;colspan&quot;,colSpanCount);
					prevCell.setAttribute(&quot;colSpan&quot;,colSpanCount); // Needed for IE
				}
				w.nextMatch = this.cellRegExp.lastIndex;
				break;
			} else {
				// Cell
				w.nextMatch++;
				var styles = config.formatterHelpers.inlineCssHelper(w);
				var spaceLeft = false;
				var chr = w.source.substr(w.nextMatch,1);
				while(chr == &quot; &quot;) {
					spaceLeft = true;
					w.nextMatch++;
					chr = w.source.substr(w.nextMatch,1);
				}
				var cell;
				if(chr == &quot;!&quot;) {
					cell = createTiddlyElement(e,&quot;th&quot;);
					w.nextMatch++;
				} else {
					cell = createTiddlyElement(e,&quot;td&quot;);
				}
				prevCell = cell;
				prevColumns[col] = {rowSpanCount:1,element:cell};
				if(colSpanCount &gt; 1) {
					cell.setAttribute(&quot;colspan&quot;,colSpanCount);
					cell.setAttribute(&quot;colSpan&quot;,colSpanCount); // Needed for IE
					colSpanCount = 1;
				}
				config.formatterHelpers.applyCssHelper(cell,styles);
				w.subWikifyTerm(cell,this.cellTermRegExp);
				if(w.matchText.substr(w.matchText.length-2,1) == &quot; &quot;) // spaceRight
					cell.align = spaceLeft ? &quot;center&quot; : &quot;left&quot;;
				else if(spaceLeft)
					cell.align = &quot;right&quot;;
				w.nextMatch--;
			}
			col++;
			this.cellRegExp.lastIndex = w.nextMatch;
			cellMatch = this.cellRegExp.exec(w.source);
		}
	}
},

{
	name: &quot;heading&quot;,
	match: &quot;^!{1,6}&quot;,
	termRegExp: /(\n)/mg,
	handler: function(w)
	{
		w.subWikifyTerm(createTiddlyElement(w.output,&quot;h&quot; + w.matchLength),this.termRegExp);
	}
},

{
	name: &quot;list&quot;,
	match: &quot;^(?:[\\*#;:]+)&quot;,
	lookaheadRegExp: /^(?:(?:(\*)|(#)|(;)|(:))+)/mg,
	termRegExp: /(\n)/mg,
	handler: function(w)
	{
		var stack = [w.output];
		var currLevel = 0, currType = null;
		var listLevel, listType, itemType, baseType;
		w.nextMatch = w.matchStart;
		this.lookaheadRegExp.lastIndex = w.nextMatch;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		while(lookaheadMatch &amp;&amp; lookaheadMatch.index == w.nextMatch) {
			if(lookaheadMatch[1]) {
				listType = &quot;ul&quot;;
				itemType = &quot;li&quot;;
			} else if(lookaheadMatch[2]) {
				listType = &quot;ol&quot;;
				itemType = &quot;li&quot;;
			} else if(lookaheadMatch[3]) {
				listType = &quot;dl&quot;;
				itemType = &quot;dt&quot;;
			} else if(lookaheadMatch[4]) {
				listType = &quot;dl&quot;;
				itemType = &quot;dd&quot;;
			}
			if(!baseType)
				baseType = listType;
			listLevel = lookaheadMatch[0].length;
			w.nextMatch += lookaheadMatch[0].length;
			var t;
			if(listLevel &gt; currLevel) {
				for(t=currLevel; t&lt;listLevel; t++) {
					var target = (currLevel == 0) ? stack[stack.length-1] : stack[stack.length-1].lastChild;
					stack.push(createTiddlyElement(target,listType));
				}
			} else if(listType!=baseType &amp;&amp; listLevel==1) {
				w.nextMatch -= lookaheadMatch[0].length;
				return;
			} else if(listLevel &lt; currLevel) {
				for(t=currLevel; t&gt;listLevel; t--)
					stack.pop();
			} else if(listLevel == currLevel &amp;&amp; listType != currType) {
				stack.pop();
				stack.push(createTiddlyElement(stack[stack.length-1].lastChild,listType));
			}
			currLevel = listLevel;
			currType = listType;
			var e = createTiddlyElement(stack[stack.length-1],itemType);
			w.subWikifyTerm(e,this.termRegExp);
			this.lookaheadRegExp.lastIndex = w.nextMatch;
			lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		}
	}
},

{
	name: &quot;quoteByBlock&quot;,
	match: &quot;^&lt;&lt;&lt;\\n&quot;,
	termRegExp: /(^&lt;&lt;&lt;(\n|$))/mg,
	element: &quot;blockquote&quot;,
	handler: config.formatterHelpers.createElementAndWikify
},

{
	name: &quot;quoteByLine&quot;,
	match: &quot;^&gt;+&quot;,
	lookaheadRegExp: /^&gt;+/mg,
	termRegExp: /(\n)/mg,
	element: &quot;blockquote&quot;,
	handler: function(w)
	{
		var stack = [w.output];
		var currLevel = 0;
		var newLevel = w.matchLength;
		var t,matched;
		do {
			if(newLevel &gt; currLevel) {
				for(t=currLevel; t&lt;newLevel; t++)
					stack.push(createTiddlyElement(stack[stack.length-1],this.element));
			} else if(newLevel &lt; currLevel) {
				for(t=currLevel; t&gt;newLevel; t--)
					stack.pop();
			}
			currLevel = newLevel;
			w.subWikifyTerm(stack[stack.length-1],this.termRegExp);
			createTiddlyElement(stack[stack.length-1],&quot;br&quot;);
			this.lookaheadRegExp.lastIndex = w.nextMatch;
			var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
			matched = lookaheadMatch &amp;&amp; lookaheadMatch.index == w.nextMatch;
			if(matched) {
				newLevel = lookaheadMatch[0].length;
				w.nextMatch += lookaheadMatch[0].length;
			}
		} while(matched);
	}
},

{
	name: &quot;rule&quot;,
	match: &quot;^----+$\\n?|&lt;hr ?/?&gt;\\n?&quot;,
	handler: function(w)
	{
		createTiddlyElement(w.output,&quot;hr&quot;);
	}
},

{
	name: &quot;monospacedByLine&quot;,
	match: &quot;^(?:/\\*\\{\\{\\{\\*/|\\{\\{\\{|//\\{\\{\\{|&lt;!--\\{\\{\\{--&gt;)\\n&quot;,
	element: &quot;pre&quot;,
	handler: function(w)
	{
		switch(w.matchText) {
		case &quot;/*{{{*/\n&quot;: // CSS
			this.lookaheadRegExp = /\/\*\{\{\{\*\/\n*((?:^[^\n]*\n)+?)(\n*^\f*\/\*\}\}\}\*\/$\n?)/mg;
			break;
		case &quot;{{{\n&quot;: // monospaced block
			this.lookaheadRegExp = /^\{\{\{\n((?:^[^\n]*\n)+?)(^\f*\}\}\}$\n?)/mg;
			break;
		case &quot;//{{{\n&quot;: // plugin
			this.lookaheadRegExp = /^\/\/\{\{\{\n\n*((?:^[^\n]*\n)+?)(\n*^\f*\/\/\}\}\}$\n?)/mg;
			break;
		case &quot;&lt;!--{{{--&gt;\n&quot;: //template
			this.lookaheadRegExp = /&lt;!--\{\{\{--&gt;\n*((?:^[^\n]*\n)+?)(\n*^\f*&lt;!--\}\}\}--&gt;$\n?)/mg;
			break;
		default:
			break;
		}
		config.formatterHelpers.enclosedTextHelper.call(this,w);
	}
},

{
	name: &quot;wikifyComment&quot;,
	match: &quot;^(?:/\\*\\*\\*|&lt;!---)\\n&quot;,
	handler: function(w)
	{
		var termRegExp = (w.matchText == &quot;/***\n&quot;) ? (/(^\*\*\*\/\n)/mg) : (/(^---&gt;\n)/mg);
		w.subWikifyTerm(w.output,termRegExp);
	}
},

{
	name: &quot;macro&quot;,
	match: &quot;&lt;&lt;&quot;,
	lookaheadRegExp: /&lt;&lt;([^&gt;\s]+)(?:\s*)((?:[^&gt;]|(?:&gt;(?!&gt;)))*)&gt;&gt;/mg,
	handler: function(w)
	{
		this.lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		if(lookaheadMatch &amp;&amp; lookaheadMatch.index == w.matchStart &amp;&amp; lookaheadMatch[1]) {
			w.nextMatch = this.lookaheadRegExp.lastIndex;
			invokeMacro(w.output,lookaheadMatch[1],lookaheadMatch[2],w,w.tiddler);
		}
	}
},

{
	name: &quot;prettyLink&quot;,
	match: &quot;\\[\\[&quot;,
	lookaheadRegExp: /\[\[(.*?)(?:\|(~)?(.*?))?\]\]/mg,
	handler: function(w)
	{
		this.lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		if(lookaheadMatch &amp;&amp; lookaheadMatch.index == w.matchStart) {
			var e;
			var text = lookaheadMatch[1];
			if(lookaheadMatch[3]) {
				// Pretty bracketted link
				var link = lookaheadMatch[3];
				e = (!lookaheadMatch[2] &amp;&amp; config.formatterHelpers.isExternalLink(link)) ?
						createExternalLink(w.output,link) : createTiddlyLink(w.output,link,false,null,w.isStatic,w.tiddler);
			} else {
				// Simple bracketted link
				e = createTiddlyLink(w.output,text,false,null,w.isStatic,w.tiddler);
			}
			createTiddlyText(e,text);
			w.nextMatch = this.lookaheadRegExp.lastIndex;
		}
	}
},

{
	name: &quot;wikiLink&quot;,
	match: config.textPrimitives.unWikiLink+&quot;?&quot;+config.textPrimitives.wikiLink,
	handler: function(w)
	{
		if(w.matchText.substr(0,1) == config.textPrimitives.unWikiLink) {
			w.outputText(w.output,w.matchStart+1,w.nextMatch);
			return;
		}
		if(w.matchStart &gt; 0) {
			var preRegExp = new RegExp(config.textPrimitives.anyLetterStrict,&quot;mg&quot;);
			preRegExp.lastIndex = w.matchStart-1;
			var preMatch = preRegExp.exec(w.source);
			if(preMatch.index == w.matchStart-1) {
				w.outputText(w.output,w.matchStart,w.nextMatch);
				return;
			}
		}
		if(w.autoLinkWikiWords || store.isShadowTiddler(w.matchText)) {
			var link = createTiddlyLink(w.output,w.matchText,false,null,w.isStatic,w.tiddler);
			w.outputText(link,w.matchStart,w.nextMatch);
		} else {
			w.outputText(w.output,w.matchStart,w.nextMatch);
		}
	}
},

{
	name: &quot;urlLink&quot;,
	match: config.textPrimitives.urlPattern,
	handler: function(w)
	{
		w.outputText(createExternalLink(w.output,w.matchText),w.matchStart,w.nextMatch);
	}
},

{
	name: &quot;image&quot;,
	match: &quot;\\[[&lt;&gt;]?[Ii][Mm][Gg]\\[&quot;,
	//# [&lt;] sequence below is to avoid lessThan-questionMark sequence so TiddlyWikis can be included in PHP files
	lookaheadRegExp: /\[([&lt;]?)(&gt;?)[Ii][Mm][Gg]\[(?:([^\|\]]+)\|)?([^\[\]\|]+)\](?:\[([^\]]*)\])?\]/mg,
	handler: function(w)
	{
		this.lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		if(lookaheadMatch &amp;&amp; lookaheadMatch.index == w.matchStart) {
			var e = w.output;
			if(lookaheadMatch[5]) {
				var link = lookaheadMatch[5];
				e = config.formatterHelpers.isExternalLink(link) ? createExternalLink(w.output,link) : createTiddlyLink(w.output,link,false,null,w.isStatic,w.tiddler);
				jQuery(e).addClass(&quot;imageLink&quot;);
			}
			var img = createTiddlyElement(e,&quot;img&quot;);
			if(lookaheadMatch[1])
				img.align = &quot;left&quot;;
			else if(lookaheadMatch[2])
				img.align = &quot;right&quot;;
			if(lookaheadMatch[3]) {
				img.title = lookaheadMatch[3];
				img.setAttribute(&quot;alt&quot;,lookaheadMatch[3]);
			}
			img.src = lookaheadMatch[4];
			w.nextMatch = this.lookaheadRegExp.lastIndex;
		}
	}
},

{
	name: &quot;html&quot;,
	match: &quot;&lt;[Hh][Tt][Mm][Ll]&gt;&quot;,
	lookaheadRegExp: /&lt;[Hh][Tt][Mm][Ll]&gt;((?:.|\n)*?)&lt;\/[Hh][Tt][Mm][Ll]&gt;/mg,
	handler: function(w)
	{
		this.lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		if(lookaheadMatch &amp;&amp; lookaheadMatch.index == w.matchStart) {
			createTiddlyElement(w.output,&quot;span&quot;).innerHTML = lookaheadMatch[1];
			w.nextMatch = this.lookaheadRegExp.lastIndex;
		}
	}
},

{
	name: &quot;commentByBlock&quot;,
	match: &quot;/%&quot;,
	lookaheadRegExp: /\/%((?:.|\n)*?)%\//mg,
	handler: function(w)
	{
		this.lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		if(lookaheadMatch &amp;&amp; lookaheadMatch.index == w.matchStart)
			w.nextMatch = this.lookaheadRegExp.lastIndex;
	}
},

{
	name: &quot;characterFormat&quot;,
	match: &quot;''|//|__|\\^\\^|~~|--(?!\\s|$)|\\{\\{\\{&quot;,
	handler: function(w)
	{
		switch(w.matchText) {
		case &quot;''&quot;:
			w.subWikifyTerm(w.output.appendChild(document.createElement(&quot;strong&quot;)),/('')/mg);
			break;
		case &quot;//&quot;:
			w.subWikifyTerm(createTiddlyElement(w.output,&quot;em&quot;),/(\/\/)/mg);
			break;
		case &quot;__&quot;:
			w.subWikifyTerm(createTiddlyElement(w.output,&quot;u&quot;),/(__)/mg);
			break;
		case &quot;^^&quot;:
			w.subWikifyTerm(createTiddlyElement(w.output,&quot;sup&quot;),/(\^\^)/mg);
			break;
		case &quot;~~&quot;:
			w.subWikifyTerm(createTiddlyElement(w.output,&quot;sub&quot;),/(~~)/mg);
			break;
		case &quot;--&quot;:
			w.subWikifyTerm(createTiddlyElement(w.output,&quot;strike&quot;),/(--)/mg);
			break;
		case &quot;{{{&quot;:
			var lookaheadRegExp = /\{\{\{((?:.|\n)*?)\}\}\}/mg;
			lookaheadRegExp.lastIndex = w.matchStart;
			var lookaheadMatch = lookaheadRegExp.exec(w.source);
			if(lookaheadMatch &amp;&amp; lookaheadMatch.index == w.matchStart) {
				createTiddlyElement(w.output,&quot;code&quot;,null,null,lookaheadMatch[1]);
				w.nextMatch = lookaheadRegExp.lastIndex;
			}
			break;
		}
	}
},

{
	name: &quot;customFormat&quot;,
	match: &quot;@@|\\{\\{&quot;,
	handler: function(w)
	{
		switch(w.matchText) {
		case &quot;@@&quot;:
			var e = createTiddlyElement(w.output,&quot;span&quot;);
			var styles = config.formatterHelpers.inlineCssHelper(w);
			if(styles.length == 0)
				e.className = &quot;marked&quot;;
			else
				config.formatterHelpers.applyCssHelper(e,styles);
			w.subWikifyTerm(e,/(@@)/mg);
			break;
		case &quot;{{&quot;:
			var lookaheadRegExp = /\{\{[\s]*([\w]+[\s\w]*)[\s]*\{(\n?)/mg;
			lookaheadRegExp.lastIndex = w.matchStart;
			var lookaheadMatch = lookaheadRegExp.exec(w.source);
			if(lookaheadMatch) {
				w.nextMatch = lookaheadRegExp.lastIndex;
				e = createTiddlyElement(w.output,lookaheadMatch[2] == &quot;\n&quot; ? &quot;div&quot; : &quot;span&quot;,null,lookaheadMatch[1]);
				w.subWikifyTerm(e,/(\}\}\})/mg);
			}
			break;
		}
	}
},

{
	name: &quot;mdash&quot;,
	match: &quot;--&quot;,
	handler: function(w)
	{
		createTiddlyElement(w.output,&quot;span&quot;).innerHTML = &quot;&amp;mdash;&quot;;
	}
},

{
	name: &quot;lineBreak&quot;,
	match: &quot;\\n|&lt;br ?/?&gt;&quot;,
	handler: function(w)
	{
		createTiddlyElement(w.output,&quot;br&quot;);
	}
},

{
	name: &quot;rawText&quot;,
	match: &quot;\&quot;{3}|&lt;nowiki&gt;&quot;,
	lookaheadRegExp: /(?:\&quot;{3}|&lt;nowiki&gt;)((?:.|\n)*?)(?:\&quot;{3}|&lt;\/nowiki&gt;)/mg,
	handler: function(w)
	{
		this.lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		if(lookaheadMatch &amp;&amp; lookaheadMatch.index == w.matchStart) {
			createTiddlyElement(w.output,&quot;span&quot;,null,null,lookaheadMatch[1]);
			w.nextMatch = this.lookaheadRegExp.lastIndex;
		}
	}
},

{
	name: &quot;htmlEntitiesEncoding&quot;,
	match: &quot;(?:(?:&amp;#?[a-zA-Z0-9]{2,8};|.)(?:&amp;#?(?:x0*(?:3[0-6][0-9a-fA-F]|1D[c-fC-F][0-9a-fA-F]|20[d-fD-F][0-9a-fA-F]|FE2[0-9a-fA-F])|0*(?:76[89]|7[7-9][0-9]|8[0-7][0-9]|761[6-9]|76[2-7][0-9]|84[0-3][0-9]|844[0-7]|6505[6-9]|6506[0-9]|6507[0-1]));)+|&amp;#?[a-zA-Z0-9]{2,8};)&quot;,
	handler: function(w)
	{
		createTiddlyElement(w.output,&quot;span&quot;).innerHTML = w.matchText;
	}
}

];
//}}}</pre>
</div>
<div title="grF" modifier="Christopher Wilson" created="201305280147" modified="201404121431" tags="excludeTimeline" content-type="" changecount="2">
<pre>&lt;&lt;tiddlerList tags:&quot;GeneralRelativity&quot;&gt;&gt;</pre>
</div>
<div title="homeView macro" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405160559" modified="201405160606" tags="systemConfig excludeTimeline" changecount="10" content-type="text/javascript">
<pre>(function($){ 

merge(config.macros,{ 
homeView: { 
    label: &quot;Home&quot;, 
    prompt: &quot;Show the default tiddlers&quot;, 
    title: &quot;Home&quot;, 
    handler: function(place,macroName,params) { 
        createTiddlyButton( 
            place,this.label,this.prompt,function(e) { 
                story.closeAllTiddlers(); 
                var start = store.getTiddlerText(&quot;DefaultTiddlers&quot;); 
                if(start) 
{ story.displayTiddlers(null,start.readBracketedList()); } 
            },null,null,&quot;H&quot; 
        ); 

    } 

}}); 

})(jQuery); 

//}}} 


openTiddlers = document.getElementsByClassName(&quot;tiddler&quot;);
for (var i = 0; i &lt; openTiddlers.length; i++) { 
    document.write(openTiddlers[i].getAttribute(&quot;tiddler&quot;));
	document.write('&lt;br&gt;');
}</pre>
</div>
<div title="htmlmixed.js" modifier="Christopher Wilson" created="201404120229" modified="201404120234" tags="cmtw excludeTimeline systemConfig excludeLists" changecount="2">
<pre>/***
|''Requires''|codemirror.js|
|''License''|[[codemirror.js]]|
***/

//{{{
CodeMirror.defineMode(&quot;htmlmixed&quot;,function(t){function e(t,e){var a=r.token(t,e.htmlState);return/(?:^|\s)tag(?:\s|$)/.test(a)&amp;&amp;t.current()==&quot;&gt;&quot;&amp;&amp;e.htmlState.context&amp;&amp;(/^script$/i.test(e.htmlState.context.tagName)?(e.token=n,e.localState=l.startState(r.indent(e.htmlState,&quot;&quot;))):/^style$/i.test(e.htmlState.context.tagName)&amp;&amp;(e.token=o,e.localState=c.startState(r.indent(e.htmlState,&quot;&quot;)))),a}function a(t,e,a){var n,o=t.current(),r=o.search(e);return r&gt;-1?t.backUp(o.length-r):(n=o.match(/&lt;\/?$/))&amp;&amp;(t.backUp(o.length),t.match(e,!1)||t.match(o[0])),a}function n(t,n){return t.match(/^&lt;\/\s*script\s*&gt;/i,!1)?(n.token=e,n.localState=null,e(t,n)):a(t,/&lt;\/\s*script\s*&gt;/,l.token(t,n.localState))}function o(t,n){return t.match(/^&lt;\/\s*style\s*&gt;/i,!1)?(n.token=e,n.localState=null,e(t,n)):a(t,/&lt;\/\s*style\s*&gt;/,c.token(t,n.localState))}var r=CodeMirror.getMode(t,{name:&quot;xml&quot;,htmlMode:!0}),l=CodeMirror.getMode(t,&quot;javascript&quot;),c=CodeMirror.getMode(t,&quot;css&quot;);return{startState:function(){var t=r.startState();return{token:e,localState:null,mode:&quot;html&quot;,htmlState:t}},copyState:function(t){if(t.localState)var e=CodeMirror.copyState(t.token==o?c:l,t.localState);return{token:t.token,localState:e,mode:t.mode,htmlState:CodeMirror.copyState(r,t.htmlState)}},token:function(t,e){return e.token(t,e)},indent:function(t,a){return t.token==e||/^\s*&lt;\//.test(a)?r.indent(t.htmlState,a):t.token==n?l.indent(t.localState,a):c.indent(t.localState,a)},electricChars:&quot;/{}:&quot;,innerMode:function(t){var a=t.token==e?r:t.token==n?l:c;return{state:t.localState||t.htmlState,mode:a}}}},&quot;xml&quot;,&quot;javascript&quot;,&quot;css&quot;),CodeMirror.defineMIME(&quot;text/html&quot;,&quot;htmlmixed&quot;);
//}}}</pre>
</div>
<div title="iScroll-v4.2.5.js" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405190228" tags="systemConfig js systemConfigDisable excludeTimeline" content-type="text/javascript" alias="" changecount="4">
<pre>/*!
 * iScroll v4.2.5 ~ Copyright (c) 2012 Matteo Spinelli, http://cubiq.org
 * Released under MIT license, http://cubiq.org/license
 */
(function(window, doc){
var m = Math,
	dummyStyle = doc.createElement('div').style,
	vendor = (function () {
		var vendors = 't,webkitT,MozT,msT,OT'.split(','),
			t,
			i = 0,
			l = vendors.length;

		for ( ; i &lt; l; i++ ) {
			t = vendors[i] + 'ransform';
			if ( t in dummyStyle ) {
				return vendors[i].substr(0, vendors[i].length - 1);
			}
		}

		return false;
	})(),
	cssVendor = vendor ? '-' + vendor.toLowerCase() + '-' : '',

	// Style properties
	transform = prefixStyle('transform'),
	transitionProperty = prefixStyle('transitionProperty'),
	transitionDuration = prefixStyle('transitionDuration'),
	transformOrigin = prefixStyle('transformOrigin'),
	transitionTimingFunction = prefixStyle('transitionTimingFunction'),
	transitionDelay = prefixStyle('transitionDelay'),

    // Browser capabilities
	isAndroid = (/android/gi).test(navigator.appVersion),
	isIDevice = (/iphone|ipad/gi).test(navigator.appVersion),
	isTouchPad = (/hp-tablet/gi).test(navigator.appVersion),

    has3d = prefixStyle('perspective') in dummyStyle,
    hasTouch = 'ontouchstart' in window &amp;&amp; !isTouchPad,
    hasTransform = vendor !== false,
    hasTransitionEnd = prefixStyle('transition') in dummyStyle,

	RESIZE_EV = 'onorientationchange' in window ? 'orientationchange' : 'resize',
	START_EV = hasTouch ? 'touchstart' : 'mousedown',
	MOVE_EV = hasTouch ? 'touchmove' : 'mousemove',
	END_EV = hasTouch ? 'touchend' : 'mouseup',
	CANCEL_EV = hasTouch ? 'touchcancel' : 'mouseup',
	TRNEND_EV = (function () {
		if ( vendor === false ) return false;

		var transitionEnd = {
				''			: 'transitionend',
				'webkit'	: 'webkitTransitionEnd',
				'Moz'		: 'transitionend',
				'O'			: 'otransitionend',
				'ms'		: 'MSTransitionEnd'
			};

		return transitionEnd[vendor];
	})(),

	nextFrame = (function() {
		return window.requestAnimationFrame ||
			window.webkitRequestAnimationFrame ||
			window.mozRequestAnimationFrame ||
			window.oRequestAnimationFrame ||
			window.msRequestAnimationFrame ||
			function(callback) { return setTimeout(callback, 1); };
	})(),
	cancelFrame = (function () {
		return window.cancelRequestAnimationFrame ||
			window.webkitCancelAnimationFrame ||
			window.webkitCancelRequestAnimationFrame ||
			window.mozCancelRequestAnimationFrame ||
			window.oCancelRequestAnimationFrame ||
			window.msCancelRequestAnimationFrame ||
			clearTimeout;
	})(),

	// Helpers
	translateZ = has3d ? ' translateZ(0)' : '',

	// Constructor
	iScroll = function (el, options) {
		var that = this,
			i;

		that.wrapper = typeof el == 'object' ? el : doc.getElementById(el);
		that.wrapper.style.overflow = 'hidden';
		that.scroller = that.wrapper.children[0];

		// Default options
		that.options = {
			hScroll: true,
			vScroll: true,
			x: 0,
			y: 0,
			bounce: true,
			bounceLock: false,
			momentum: true,
			lockDirection: true,
			useTransform: true,
			useTransition: false,
			topOffset: 0,
			checkDOMChanges: false,		// Experimental
			handleClick: true,

			// Scrollbar
			hScrollbar: true,
			vScrollbar: true,
			fixedScrollbar: isAndroid,
			hideScrollbar: isIDevice,
			fadeScrollbar: isIDevice &amp;&amp; has3d,
			scrollbarClass: '',

			// Zoom
			zoom: false,
			zoomMin: 1,
			zoomMax: 4,
			doubleTapZoom: 2,
			wheelAction: 'scroll',

			// Snap
			snap: false,
			snapThreshold: 1,

			// Events
			onRefresh: null,
			onBeforeScrollStart: function (e) { e.preventDefault(); },
			onScrollStart: null,
			onBeforeScrollMove: null,
			onScrollMove: null,
			onBeforeScrollEnd: null,
			onScrollEnd: null,
			onTouchEnd: null,
			onDestroy: null,
			onZoomStart: null,
			onZoom: null,
			onZoomEnd: null
		};

		// User defined options
		for (i in options) that.options[i] = options[i];
		
		// Set starting position
		that.x = that.options.x;
		that.y = that.options.y;

		// Normalize options
		that.options.useTransform = hasTransform &amp;&amp; that.options.useTransform;
		that.options.hScrollbar = that.options.hScroll &amp;&amp; that.options.hScrollbar;
		that.options.vScrollbar = that.options.vScroll &amp;&amp; that.options.vScrollbar;
		that.options.zoom = that.options.useTransform &amp;&amp; that.options.zoom;
		that.options.useTransition = hasTransitionEnd &amp;&amp; that.options.useTransition;

		// Helpers FIX ANDROID BUG!
		// translate3d and scale doesn't work together!
		// Ignoring 3d ONLY WHEN YOU SET that.options.zoom
		if ( that.options.zoom &amp;&amp; isAndroid ){
			translateZ = '';
		}
		
		// Set some default styles
		that.scroller.style[transitionProperty] = that.options.useTransform ? cssVendor + 'transform' : 'top left';
		that.scroller.style[transitionDuration] = '0';
		that.scroller.style[transformOrigin] = '0 0';
		if (that.options.useTransition) that.scroller.style[transitionTimingFunction] = 'cubic-bezier(0.33,0.66,0.66,1)';
		
		if (that.options.useTransform) that.scroller.style[transform] = 'translate(' + that.x + 'px,' + that.y + 'px)' + translateZ;
		else that.scroller.style.cssText += ';position:absolute;top:' + that.y + 'px;left:' + that.x + 'px';

		if (that.options.useTransition) that.options.fixedScrollbar = true;

		that.refresh();

		that._bind(RESIZE_EV, window);
		that._bind(START_EV);
		if (!hasTouch) {
			if (that.options.wheelAction != 'none') {
				that._bind('DOMMouseScroll');
				that._bind('mousewheel');
			}
		}

		if (that.options.checkDOMChanges) that.checkDOMTime = setInterval(function () {
			that._checkDOMChanges();
		}, 500);
	};

// Prototype
iScroll.prototype = {
	enabled: true,
	x: 0,
	y: 0,
	steps: [],
	scale: 1,
	currPageX: 0, currPageY: 0,
	pagesX: [], pagesY: [],
	aniTime: null,
	wheelZoomCount: 0,
	
	handleEvent: function (e) {
		var that = this;
		switch(e.type) {
			case START_EV:
				if (!hasTouch &amp;&amp; e.button !== 0) return;
				that._start(e);
				break;
			case MOVE_EV: that._move(e); break;
			case END_EV:
			case CANCEL_EV: that._end(e); break;
			case RESIZE_EV: that._resize(); break;
			case 'DOMMouseScroll': case 'mousewheel': that._wheel(e); break;
			case TRNEND_EV: that._transitionEnd(e); break;
		}
	},
	
	_checkDOMChanges: function () {
		if (this.moved || this.zoomed || this.animating ||
			(this.scrollerW == this.scroller.offsetWidth * this.scale &amp;&amp; this.scrollerH == this.scroller.offsetHeight * this.scale)) return;

		this.refresh();
	},
	
	_scrollbar: function (dir) {
		var that = this,
			bar;

		if (!that[dir + 'Scrollbar']) {
			if (that[dir + 'ScrollbarWrapper']) {
				if (hasTransform) that[dir + 'ScrollbarIndicator'].style[transform] = '';
				that[dir + 'ScrollbarWrapper'].parentNode.removeChild(that[dir + 'ScrollbarWrapper']);
				that[dir + 'ScrollbarWrapper'] = null;
				that[dir + 'ScrollbarIndicator'] = null;
			}

			return;
		}

		if (!that[dir + 'ScrollbarWrapper']) {
			// Create the scrollbar wrapper
			bar = doc.createElement('div');

			if (that.options.scrollbarClass) bar.className = that.options.scrollbarClass + dir.toUpperCase();
			else bar.style.cssText = 'position:absolute;z-index:100;' + (dir == 'h' ? 'height:7px;bottom:1px;left:2px;right:' + (that.vScrollbar ? '7' : '2') + 'px' : 'width:7px;bottom:' + (that.hScrollbar ? '7' : '2') + 'px;top:2px;right:1px');

			bar.style.cssText += ';pointer-events:none;' + cssVendor + 'transition-property:opacity;' + cssVendor + 'transition-duration:' + (that.options.fadeScrollbar ? '350ms' : '0') + ';overflow:hidden;opacity:' + (that.options.hideScrollbar ? '0' : '1');

			that.wrapper.appendChild(bar);
			that[dir + 'ScrollbarWrapper'] = bar;

			// Create the scrollbar indicator
			bar = doc.createElement('div');
			if (!that.options.scrollbarClass) {
				bar.style.cssText = 'position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);' + cssVendor + 'background-clip:padding-box;' + cssVendor + 'box-sizing:border-box;' + (dir == 'h' ? 'height:100%' : 'width:100%') + ';' + cssVendor + 'border-radius:3px;border-radius:3px';
			}
			bar.style.cssText += ';pointer-events:none;' + cssVendor + 'transition-property:' + cssVendor + 'transform;' + cssVendor + 'transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);' + cssVendor + 'transition-duration:0;' + cssVendor + 'transform: translate(0,0)' + translateZ;
			if (that.options.useTransition) bar.style.cssText += ';' + cssVendor + 'transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)';

			that[dir + 'ScrollbarWrapper'].appendChild(bar);
			that[dir + 'ScrollbarIndicator'] = bar;
		}

		if (dir == 'h') {
			that.hScrollbarSize = that.hScrollbarWrapper.clientWidth;
			that.hScrollbarIndicatorSize = m.max(m.round(that.hScrollbarSize * that.hScrollbarSize / that.scrollerW), 8);
			that.hScrollbarIndicator.style.width = that.hScrollbarIndicatorSize + 'px';
			that.hScrollbarMaxScroll = that.hScrollbarSize - that.hScrollbarIndicatorSize;
			that.hScrollbarProp = that.hScrollbarMaxScroll / that.maxScrollX;
		} else {
			that.vScrollbarSize = that.vScrollbarWrapper.clientHeight;
			that.vScrollbarIndicatorSize = m.max(m.round(that.vScrollbarSize * that.vScrollbarSize / that.scrollerH), 8);
			that.vScrollbarIndicator.style.height = that.vScrollbarIndicatorSize + 'px';
			that.vScrollbarMaxScroll = that.vScrollbarSize - that.vScrollbarIndicatorSize;
			that.vScrollbarProp = that.vScrollbarMaxScroll / that.maxScrollY;
		}

		// Reset position
		that._scrollbarPos(dir, true);
	},
	
	_resize: function () {
		var that = this;
		setTimeout(function () { that.refresh(); }, isAndroid ? 200 : 0);
	},
	
	_pos: function (x, y) {
		if (this.zoomed) return;

		x = this.hScroll ? x : 0;
		y = this.vScroll ? y : 0;

		if (this.options.useTransform) {
			this.scroller.style[transform] = 'translate(' + x + 'px,' + y + 'px) scale(' + this.scale + ')' + translateZ;
		} else {
			x = m.round(x);
			y = m.round(y);
			this.scroller.style.left = x + 'px';
			this.scroller.style.top = y + 'px';
		}

		this.x = x;
		this.y = y;

		this._scrollbarPos('h');
		this._scrollbarPos('v');
	},

	_scrollbarPos: function (dir, hidden) {
		var that = this,
			pos = dir == 'h' ? that.x : that.y,
			size;

		if (!that[dir + 'Scrollbar']) return;

		pos = that[dir + 'ScrollbarProp'] * pos;

		if (pos &lt; 0) {
			if (!that.options.fixedScrollbar) {
				size = that[dir + 'ScrollbarIndicatorSize'] + m.round(pos * 3);
				if (size &lt; 8) size = 8;
				that[dir + 'ScrollbarIndicator'].style[dir == 'h' ? 'width' : 'height'] = size + 'px';
			}
			pos = 0;
		} else if (pos &gt; that[dir + 'ScrollbarMaxScroll']) {
			if (!that.options.fixedScrollbar) {
				size = that[dir + 'ScrollbarIndicatorSize'] - m.round((pos - that[dir + 'ScrollbarMaxScroll']) * 3);
				if (size &lt; 8) size = 8;
				that[dir + 'ScrollbarIndicator'].style[dir == 'h' ? 'width' : 'height'] = size + 'px';
				pos = that[dir + 'ScrollbarMaxScroll'] + (that[dir + 'ScrollbarIndicatorSize'] - size);
			} else {
				pos = that[dir + 'ScrollbarMaxScroll'];
			}
		}

		that[dir + 'ScrollbarWrapper'].style[transitionDelay] = '0';
		that[dir + 'ScrollbarWrapper'].style.opacity = hidden &amp;&amp; that.options.hideScrollbar ? '0' : '1';
		that[dir + 'ScrollbarIndicator'].style[transform] = 'translate(' + (dir == 'h' ? pos + 'px,0)' : '0,' + pos + 'px)') + translateZ;
	},
	
	_start: function (e) {
		var that = this,
			point = hasTouch ? e.touches[0] : e,
			matrix, x, y,
			c1, c2;

		if (!that.enabled) return;

		if (that.options.onBeforeScrollStart) that.options.onBeforeScrollStart.call(that, e);

		if (that.options.useTransition || that.options.zoom) that._transitionTime(0);

		that.moved = false;
		that.animating = false;
		that.zoomed = false;
		that.distX = 0;
		that.distY = 0;
		that.absDistX = 0;
		that.absDistY = 0;
		that.dirX = 0;
		that.dirY = 0;

		// Gesture start
		if (that.options.zoom &amp;&amp; hasTouch &amp;&amp; e.touches.length &gt; 1) {
			c1 = m.abs(e.touches[0].pageX-e.touches[1].pageX);
			c2 = m.abs(e.touches[0].pageY-e.touches[1].pageY);
			that.touchesDistStart = m.sqrt(c1 * c1 + c2 * c2);

			that.originX = m.abs(e.touches[0].pageX + e.touches[1].pageX - that.wrapperOffsetLeft * 2) / 2 - that.x;
			that.originY = m.abs(e.touches[0].pageY + e.touches[1].pageY - that.wrapperOffsetTop * 2) / 2 - that.y;

			if (that.options.onZoomStart) that.options.onZoomStart.call(that, e);
		}

		if (that.options.momentum) {
			if (that.options.useTransform) {
				// Very lame general purpose alternative to CSSMatrix
				matrix = getComputedStyle(that.scroller, null)[transform].replace(/[^0-9\-.,]/g, '').split(',');
				x = +(matrix[12] || matrix[4]);
				y = +(matrix[13] || matrix[5]);
			} else {
				x = +getComputedStyle(that.scroller, null).left.replace(/[^0-9-]/g, '');
				y = +getComputedStyle(that.scroller, null).top.replace(/[^0-9-]/g, '');
			}
			
			if (x != that.x || y != that.y) {
				if (that.options.useTransition) that._unbind(TRNEND_EV);
				else cancelFrame(that.aniTime);
				that.steps = [];
				that._pos(x, y);
				if (that.options.onScrollEnd) that.options.onScrollEnd.call(that);
			}
		}

		that.absStartX = that.x;	// Needed by snap threshold
		that.absStartY = that.y;

		that.startX = that.x;
		that.startY = that.y;
		that.pointX = point.pageX;
		that.pointY = point.pageY;

		that.startTime = e.timeStamp || Date.now();

		if (that.options.onScrollStart) that.options.onScrollStart.call(that, e);

		that._bind(MOVE_EV, window);
		that._bind(END_EV, window);
		that._bind(CANCEL_EV, window);
	},
	
	_move: function (e) {
		var that = this,
			point = hasTouch ? e.touches[0] : e,
			deltaX = point.pageX - that.pointX,
			deltaY = point.pageY - that.pointY,
			newX = that.x + deltaX,
			newY = that.y + deltaY,
			c1, c2, scale,
			timestamp = e.timeStamp || Date.now();

		if (that.options.onBeforeScrollMove) that.options.onBeforeScrollMove.call(that, e);

		// Zoom
		if (that.options.zoom &amp;&amp; hasTouch &amp;&amp; e.touches.length &gt; 1) {
			c1 = m.abs(e.touches[0].pageX - e.touches[1].pageX);
			c2 = m.abs(e.touches[0].pageY - e.touches[1].pageY);
			that.touchesDist = m.sqrt(c1*c1+c2*c2);

			that.zoomed = true;

			scale = 1 / that.touchesDistStart * that.touchesDist * this.scale;

			if (scale &lt; that.options.zoomMin) scale = 0.5 * that.options.zoomMin * Math.pow(2.0, scale / that.options.zoomMin);
			else if (scale &gt; that.options.zoomMax) scale = 2.0 * that.options.zoomMax * Math.pow(0.5, that.options.zoomMax / scale);

			that.lastScale = scale / this.scale;

			newX = this.originX - this.originX * that.lastScale + this.x;
			newY = this.originY - this.originY * that.lastScale + this.y;

			this.scroller.style[transform] = 'translate(' + newX + 'px,' + newY + 'px) scale(' + scale + ')' + translateZ;

			if (that.options.onZoom) that.options.onZoom.call(that, e);
			return;
		}

		that.pointX = point.pageX;
		that.pointY = point.pageY;

		// Slow down if outside of the boundaries
		if (newX &gt; 0 || newX &lt; that.maxScrollX) {
			newX = that.options.bounce ? that.x + (deltaX / 2) : newX &gt;= 0 || that.maxScrollX &gt;= 0 ? 0 : that.maxScrollX;
		}
		if (newY &gt; that.minScrollY || newY &lt; that.maxScrollY) {
			newY = that.options.bounce ? that.y + (deltaY / 2) : newY &gt;= that.minScrollY || that.maxScrollY &gt;= 0 ? that.minScrollY : that.maxScrollY;
		}

		that.distX += deltaX;
		that.distY += deltaY;
		that.absDistX = m.abs(that.distX);
		that.absDistY = m.abs(that.distY);

		if (that.absDistX &lt; 6 &amp;&amp; that.absDistY &lt; 6) {
			return;
		}

		// Lock direction
		if (that.options.lockDirection) {
			if (that.absDistX &gt; that.absDistY + 5) {
				newY = that.y;
				deltaY = 0;
			} else if (that.absDistY &gt; that.absDistX + 5) {
				newX = that.x;
				deltaX = 0;
			}
		}

		that.moved = true;
		that._pos(newX, newY);
		that.dirX = deltaX &gt; 0 ? -1 : deltaX &lt; 0 ? 1 : 0;
		that.dirY = deltaY &gt; 0 ? -1 : deltaY &lt; 0 ? 1 : 0;

		if (timestamp - that.startTime &gt; 300) {
			that.startTime = timestamp;
			that.startX = that.x;
			that.startY = that.y;
		}
		
		if (that.options.onScrollMove) that.options.onScrollMove.call(that, e);
	},
	
	_end: function (e) {
		if (hasTouch &amp;&amp; e.touches.length !== 0) return;

		var that = this,
			point = hasTouch ? e.changedTouches[0] : e,
			target, ev,
			momentumX = { dist:0, time:0 },
			momentumY = { dist:0, time:0 },
			duration = (e.timeStamp || Date.now()) - that.startTime,
			newPosX = that.x,
			newPosY = that.y,
			distX, distY,
			newDuration,
			snap,
			scale;

		that._unbind(MOVE_EV, window);
		that._unbind(END_EV, window);
		that._unbind(CANCEL_EV, window);

		if (that.options.onBeforeScrollEnd) that.options.onBeforeScrollEnd.call(that, e);

		if (that.zoomed) {
			scale = that.scale * that.lastScale;
			scale = Math.max(that.options.zoomMin, scale);
			scale = Math.min(that.options.zoomMax, scale);
			that.lastScale = scale / that.scale;
			that.scale = scale;

			that.x = that.originX - that.originX * that.lastScale + that.x;
			that.y = that.originY - that.originY * that.lastScale + that.y;
			
			that.scroller.style[transitionDuration] = '200ms';
			that.scroller.style[transform] = 'translate(' + that.x + 'px,' + that.y + 'px) scale(' + that.scale + ')' + translateZ;
			
			that.zoomed = false;
			that.refresh();

			if (that.options.onZoomEnd) that.options.onZoomEnd.call(that, e);
			return;
		}

		if (!that.moved) {
			if (hasTouch) {
				if (that.doubleTapTimer &amp;&amp; that.options.zoom) {
					// Double tapped
					clearTimeout(that.doubleTapTimer);
					that.doubleTapTimer = null;
					if (that.options.onZoomStart) that.options.onZoomStart.call(that, e);
					that.zoom(that.pointX, that.pointY, that.scale == 1 ? that.options.doubleTapZoom : 1);
					if (that.options.onZoomEnd) {
						setTimeout(function() {
							that.options.onZoomEnd.call(that, e);
						}, 200); // 200 is default zoom duration
					}
				} else if (this.options.handleClick) {
					that.doubleTapTimer = setTimeout(function () {
						that.doubleTapTimer = null;

						// Find the last touched element
						target = point.target;
						while (target.nodeType != 1) target = target.parentNode;

						if (target.tagName != 'SELECT' &amp;&amp; target.tagName != 'INPUT' &amp;&amp; target.tagName != 'TEXTAREA') {
							ev = doc.createEvent('MouseEvents');
							ev.initMouseEvent('click', true, true, e.view, 1,
								point.screenX, point.screenY, point.clientX, point.clientY,
								e.ctrlKey, e.altKey, e.shiftKey, e.metaKey,
								0, null);
							ev._fake = true;
							target.dispatchEvent(ev);
						}
					}, that.options.zoom ? 250 : 0);
				}
			}

			that._resetPos(400);

			if (that.options.onTouchEnd) that.options.onTouchEnd.call(that, e);
			return;
		}

		if (duration &lt; 300 &amp;&amp; that.options.momentum) {
			momentumX = newPosX ? that._momentum(newPosX - that.startX, duration, -that.x, that.scrollerW - that.wrapperW + that.x, that.options.bounce ? that.wrapperW : 0) : momentumX;
			momentumY = newPosY ? that._momentum(newPosY - that.startY, duration, -that.y, (that.maxScrollY &lt; 0 ? that.scrollerH - that.wrapperH + that.y - that.minScrollY : 0), that.options.bounce ? that.wrapperH : 0) : momentumY;

			newPosX = that.x + momentumX.dist;
			newPosY = that.y + momentumY.dist;

			if ((that.x &gt; 0 &amp;&amp; newPosX &gt; 0) || (that.x &lt; that.maxScrollX &amp;&amp; newPosX &lt; that.maxScrollX)) momentumX = { dist:0, time:0 };
			if ((that.y &gt; that.minScrollY &amp;&amp; newPosY &gt; that.minScrollY) || (that.y &lt; that.maxScrollY &amp;&amp; newPosY &lt; that.maxScrollY)) momentumY = { dist:0, time:0 };
		}

		if (momentumX.dist || momentumY.dist) {
			newDuration = m.max(m.max(momentumX.time, momentumY.time), 10);

			// Do we need to snap?
			if (that.options.snap) {
				distX = newPosX - that.absStartX;
				distY = newPosY - that.absStartY;
				if (m.abs(distX) &lt; that.options.snapThreshold &amp;&amp; m.abs(distY) &lt; that.options.snapThreshold) { that.scrollTo(that.absStartX, that.absStartY, 200); }
				else {
					snap = that._snap(newPosX, newPosY);
					newPosX = snap.x;
					newPosY = snap.y;
					newDuration = m.max(snap.time, newDuration);
				}
			}

			that.scrollTo(m.round(newPosX), m.round(newPosY), newDuration);

			if (that.options.onTouchEnd) that.options.onTouchEnd.call(that, e);
			return;
		}

		// Do we need to snap?
		if (that.options.snap) {
			distX = newPosX - that.absStartX;
			distY = newPosY - that.absStartY;
			if (m.abs(distX) &lt; that.options.snapThreshold &amp;&amp; m.abs(distY) &lt; that.options.snapThreshold) that.scrollTo(that.absStartX, that.absStartY, 200);
			else {
				snap = that._snap(that.x, that.y);
				if (snap.x != that.x || snap.y != that.y) that.scrollTo(snap.x, snap.y, snap.time);
			}

			if (that.options.onTouchEnd) that.options.onTouchEnd.call(that, e);
			return;
		}

		that._resetPos(200);
		if (that.options.onTouchEnd) that.options.onTouchEnd.call(that, e);
	},
	
	_resetPos: function (time) {
		var that = this,
			resetX = that.x &gt;= 0 ? 0 : that.x &lt; that.maxScrollX ? that.maxScrollX : that.x,
			resetY = that.y &gt;= that.minScrollY || that.maxScrollY &gt; 0 ? that.minScrollY : that.y &lt; that.maxScrollY ? that.maxScrollY : that.y;

		if (resetX == that.x &amp;&amp; resetY == that.y) {
			if (that.moved) {
				that.moved = false;
				if (that.options.onScrollEnd) that.options.onScrollEnd.call(that);		// Execute custom code on scroll end
			}

			if (that.hScrollbar &amp;&amp; that.options.hideScrollbar) {
				if (vendor == 'webkit') that.hScrollbarWrapper.style[transitionDelay] = '300ms';
				that.hScrollbarWrapper.style.opacity = '0';
			}
			if (that.vScrollbar &amp;&amp; that.options.hideScrollbar) {
				if (vendor == 'webkit') that.vScrollbarWrapper.style[transitionDelay] = '300ms';
				that.vScrollbarWrapper.style.opacity = '0';
			}

			return;
		}

		that.scrollTo(resetX, resetY, time || 0);
	},

	_wheel: function (e) {
		var that = this,
			wheelDeltaX, wheelDeltaY,
			deltaX, deltaY,
			deltaScale;

		if ('wheelDeltaX' in e) {
			wheelDeltaX = e.wheelDeltaX / 12;
			wheelDeltaY = e.wheelDeltaY / 12;
		} else if('wheelDelta' in e) {
			wheelDeltaX = wheelDeltaY = e.wheelDelta / 12;
		} else if ('detail' in e) {
			wheelDeltaX = wheelDeltaY = -e.detail * 3;
		} else {
			return;
		}
		
		if (that.options.wheelAction == 'zoom') {
			deltaScale = that.scale * Math.pow(2, 1/3 * (wheelDeltaY ? wheelDeltaY / Math.abs(wheelDeltaY) : 0));
			if (deltaScale &lt; that.options.zoomMin) deltaScale = that.options.zoomMin;
			if (deltaScale &gt; that.options.zoomMax) deltaScale = that.options.zoomMax;
			
			if (deltaScale != that.scale) {
				if (!that.wheelZoomCount &amp;&amp; that.options.onZoomStart) that.options.onZoomStart.call(that, e);
				that.wheelZoomCount++;
				
				that.zoom(e.pageX, e.pageY, deltaScale, 400);
				
				setTimeout(function() {
					that.wheelZoomCount--;
					if (!that.wheelZoomCount &amp;&amp; that.options.onZoomEnd) that.options.onZoomEnd.call(that, e);
				}, 400);
			}
			
			return;
		}
		
		deltaX = that.x + wheelDeltaX;
		deltaY = that.y + wheelDeltaY;

		if (deltaX &gt; 0) deltaX = 0;
		else if (deltaX &lt; that.maxScrollX) deltaX = that.maxScrollX;

		if (deltaY &gt; that.minScrollY) deltaY = that.minScrollY;
		else if (deltaY &lt; that.maxScrollY) deltaY = that.maxScrollY;
    
		if (that.maxScrollY &lt; 0) {
			that.scrollTo(deltaX, deltaY, 0);
		}
	},
	
	_transitionEnd: function (e) {
		var that = this;

		if (e.target != that.scroller) return;

		that._unbind(TRNEND_EV);
		
		that._startAni();
	},


	/**
	*
	* Utilities
	*
	*/
	_startAni: function () {
		var that = this,
			startX = that.x, startY = that.y,
			startTime = Date.now(),
			step, easeOut,
			animate;

		if (that.animating) return;
		
		if (!that.steps.length) {
			that._resetPos(400);
			return;
		}
		
		step = that.steps.shift();
		
		if (step.x == startX &amp;&amp; step.y == startY) step.time = 0;

		that.animating = true;
		that.moved = true;
		
		if (that.options.useTransition) {
			that._transitionTime(step.time);
			that._pos(step.x, step.y);
			that.animating = false;
			if (step.time) that._bind(TRNEND_EV);
			else that._resetPos(0);
			return;
		}

		animate = function () {
			var now = Date.now(),
				newX, newY;

			if (now &gt;= startTime + step.time) {
				that._pos(step.x, step.y);
				that.animating = false;
				if (that.options.onAnimationEnd) that.options.onAnimationEnd.call(that);			// Execute custom code on animation end
				that._startAni();
				return;
			}

			now = (now - startTime) / step.time - 1;
			easeOut = m.sqrt(1 - now * now);
			newX = (step.x - startX) * easeOut + startX;
			newY = (step.y - startY) * easeOut + startY;
			that._pos(newX, newY);
			if (that.animating) that.aniTime = nextFrame(animate);
		};

		animate();
	},

	_transitionTime: function (time) {
		time += 'ms';
		this.scroller.style[transitionDuration] = time;
		if (this.hScrollbar) this.hScrollbarIndicator.style[transitionDuration] = time;
		if (this.vScrollbar) this.vScrollbarIndicator.style[transitionDuration] = time;
	},

	_momentum: function (dist, time, maxDistUpper, maxDistLower, size) {
		var deceleration = 0.0006,
			speed = m.abs(dist) / time,
			newDist = (speed * speed) / (2 * deceleration),
			newTime = 0, outsideDist = 0;

		// Proportinally reduce speed if we are outside of the boundaries
		if (dist &gt; 0 &amp;&amp; newDist &gt; maxDistUpper) {
			outsideDist = size / (6 / (newDist / speed * deceleration));
			maxDistUpper = maxDistUpper + outsideDist;
			speed = speed * maxDistUpper / newDist;
			newDist = maxDistUpper;
		} else if (dist &lt; 0 &amp;&amp; newDist &gt; maxDistLower) {
			outsideDist = size / (6 / (newDist / speed * deceleration));
			maxDistLower = maxDistLower + outsideDist;
			speed = speed * maxDistLower / newDist;
			newDist = maxDistLower;
		}

		newDist = newDist * (dist &lt; 0 ? -1 : 1);
		newTime = speed / deceleration;

		return { dist: newDist, time: m.round(newTime) };
	},

	_offset: function (el) {
		var left = -el.offsetLeft,
			top = -el.offsetTop;
			
		while (el = el.offsetParent) {
			left -= el.offsetLeft;
			top -= el.offsetTop;
		}
		
		if (el != this.wrapper) {
			left *= this.scale;
			top *= this.scale;
		}

		return { left: left, top: top };
	},

	_snap: function (x, y) {
		var that = this,
			i, l,
			page, time,
			sizeX, sizeY;

		// Check page X
		page = that.pagesX.length - 1;
		for (i=0, l=that.pagesX.length; i&lt;l; i++) {
			if (x &gt;= that.pagesX[i]) {
				page = i;
				break;
			}
		}
		if (page == that.currPageX &amp;&amp; page &gt; 0 &amp;&amp; that.dirX &lt; 0) page--;
		x = that.pagesX[page];
		sizeX = m.abs(x - that.pagesX[that.currPageX]);
		sizeX = sizeX ? m.abs(that.x - x) / sizeX * 500 : 0;
		that.currPageX = page;

		// Check page Y
		page = that.pagesY.length-1;
		for (i=0; i&lt;page; i++) {
			if (y &gt;= that.pagesY[i]) {
				page = i;
				break;
			}
		}
		if (page == that.currPageY &amp;&amp; page &gt; 0 &amp;&amp; that.dirY &lt; 0) page--;
		y = that.pagesY[page];
		sizeY = m.abs(y - that.pagesY[that.currPageY]);
		sizeY = sizeY ? m.abs(that.y - y) / sizeY * 500 : 0;
		that.currPageY = page;

		// Snap with constant speed (proportional duration)
		time = m.round(m.max(sizeX, sizeY)) || 200;

		return { x: x, y: y, time: time };
	},

	_bind: function (type, el, bubble) {
		(el || this.scroller).addEventListener(type, this, !!bubble);
	},

	_unbind: function (type, el, bubble) {
		(el || this.scroller).removeEventListener(type, this, !!bubble);
	},


	/**
	*
	* Public methods
	*
	*/
	destroy: function () {
		var that = this;

		that.scroller.style[transform] = '';

		// Remove the scrollbars
		that.hScrollbar = false;
		that.vScrollbar = false;
		that._scrollbar('h');
		that._scrollbar('v');

		// Remove the event listeners
		that._unbind(RESIZE_EV, window);
		that._unbind(START_EV);
		that._unbind(MOVE_EV, window);
		that._unbind(END_EV, window);
		that._unbind(CANCEL_EV, window);
		
		if (!that.options.hasTouch) {
			that._unbind('DOMMouseScroll');
			that._unbind('mousewheel');
		}
		
		if (that.options.useTransition) that._unbind(TRNEND_EV);
		
		if (that.options.checkDOMChanges) clearInterval(that.checkDOMTime);
		
		if (that.options.onDestroy) that.options.onDestroy.call(that);
	},

	refresh: function () {
		var that = this,
			offset,
			i, l,
			els,
			pos = 0,
			page = 0;

		if (that.scale &lt; that.options.zoomMin) that.scale = that.options.zoomMin;
		that.wrapperW = that.wrapper.clientWidth || 1;
		that.wrapperH = that.wrapper.clientHeight || 1;

		that.minScrollY = -that.options.topOffset || 0;
		that.scrollerW = m.round(that.scroller.offsetWidth * that.scale);
		that.scrollerH = m.round((that.scroller.offsetHeight + that.minScrollY) * that.scale);
		that.maxScrollX = that.wrapperW - that.scrollerW;
		that.maxScrollY = that.wrapperH - that.scrollerH + that.minScrollY;
		that.dirX = 0;
		that.dirY = 0;

		if (that.options.onRefresh) that.options.onRefresh.call(that);

		that.hScroll = that.options.hScroll &amp;&amp; that.maxScrollX &lt; 0;
		that.vScroll = that.options.vScroll &amp;&amp; (!that.options.bounceLock &amp;&amp; !that.hScroll || that.scrollerH &gt; that.wrapperH);

		that.hScrollbar = that.hScroll &amp;&amp; that.options.hScrollbar;
		that.vScrollbar = that.vScroll &amp;&amp; that.options.vScrollbar &amp;&amp; that.scrollerH &gt; that.wrapperH;

		offset = that._offset(that.wrapper);
		that.wrapperOffsetLeft = -offset.left;
		that.wrapperOffsetTop = -offset.top;

		// Prepare snap
		if (typeof that.options.snap == 'string') {
			that.pagesX = [];
			that.pagesY = [];
			els = that.scroller.querySelectorAll(that.options.snap);
			for (i=0, l=els.length; i&lt;l; i++) {
				pos = that._offset(els[i]);
				pos.left += that.wrapperOffsetLeft;
				pos.top += that.wrapperOffsetTop;
				that.pagesX[i] = pos.left &lt; that.maxScrollX ? that.maxScrollX : pos.left * that.scale;
				that.pagesY[i] = pos.top &lt; that.maxScrollY ? that.maxScrollY : pos.top * that.scale;
			}
		} else if (that.options.snap) {
			that.pagesX = [];
			while (pos &gt;= that.maxScrollX) {
				that.pagesX[page] = pos;
				pos = pos - that.wrapperW;
				page++;
			}
			if (that.maxScrollX%that.wrapperW) that.pagesX[that.pagesX.length] = that.maxScrollX - that.pagesX[that.pagesX.length-1] + that.pagesX[that.pagesX.length-1];

			pos = 0;
			page = 0;
			that.pagesY = [];
			while (pos &gt;= that.maxScrollY) {
				that.pagesY[page] = pos;
				pos = pos - that.wrapperH;
				page++;
			}
			if (that.maxScrollY%that.wrapperH) that.pagesY[that.pagesY.length] = that.maxScrollY - that.pagesY[that.pagesY.length-1] + that.pagesY[that.pagesY.length-1];
		}

		// Prepare the scrollbars
		that._scrollbar('h');
		that._scrollbar('v');

		if (!that.zoomed) {
			that.scroller.style[transitionDuration] = '0';
			that._resetPos(400);
		}
	},

	scrollTo: function (x, y, time, relative) {
		var that = this,
			step = x,
			i, l;

		that.stop();

		if (!step.length) step = [{ x: x, y: y, time: time, relative: relative }];
		
		for (i=0, l=step.length; i&lt;l; i++) {
			if (step[i].relative) { step[i].x = that.x - step[i].x; step[i].y = that.y - step[i].y; }
			that.steps.push({ x: step[i].x, y: step[i].y, time: step[i].time || 0 });
		}

		that._startAni();
	},

	scrollToElement: function (el, time) {
		var that = this, pos;
		el = el.nodeType ? el : that.scroller.querySelector(el);
		if (!el) return;

		pos = that._offset(el);
		pos.left += that.wrapperOffsetLeft;
		pos.top += that.wrapperOffsetTop;

		pos.left = pos.left &gt; 0 ? 0 : pos.left &lt; that.maxScrollX ? that.maxScrollX : pos.left;
		pos.top = pos.top &gt; that.minScrollY ? that.minScrollY : pos.top &lt; that.maxScrollY ? that.maxScrollY : pos.top;
		time = time === undefined ? m.max(m.abs(pos.left)*2, m.abs(pos.top)*2) : time;

		that.scrollTo(pos.left, pos.top, time);
	},

	scrollToPage: function (pageX, pageY, time) {
		var that = this, x, y;
		
		time = time === undefined ? 400 : time;

		if (that.options.onScrollStart) that.options.onScrollStart.call(that);

		if (that.options.snap) {
			pageX = pageX == 'next' ? that.currPageX+1 : pageX == 'prev' ? that.currPageX-1 : pageX;
			pageY = pageY == 'next' ? that.currPageY+1 : pageY == 'prev' ? that.currPageY-1 : pageY;

			pageX = pageX &lt; 0 ? 0 : pageX &gt; that.pagesX.length-1 ? that.pagesX.length-1 : pageX;
			pageY = pageY &lt; 0 ? 0 : pageY &gt; that.pagesY.length-1 ? that.pagesY.length-1 : pageY;

			that.currPageX = pageX;
			that.currPageY = pageY;
			x = that.pagesX[pageX];
			y = that.pagesY[pageY];
		} else {
			x = -that.wrapperW * pageX;
			y = -that.wrapperH * pageY;
			if (x &lt; that.maxScrollX) x = that.maxScrollX;
			if (y &lt; that.maxScrollY) y = that.maxScrollY;
		}

		that.scrollTo(x, y, time);
	},

	disable: function () {
		this.stop();
		this._resetPos(0);
		this.enabled = false;

		// If disabled after touchstart we make sure that there are no left over events
		this._unbind(MOVE_EV, window);
		this._unbind(END_EV, window);
		this._unbind(CANCEL_EV, window);
	},
	
	enable: function () {
		this.enabled = true;
	},
	
	stop: function () {
		if (this.options.useTransition) this._unbind(TRNEND_EV);
		else cancelFrame(this.aniTime);
		this.steps = [];
		this.moved = false;
		this.animating = false;
	},
	
	zoom: function (x, y, scale, time) {
		var that = this,
			relScale = scale / that.scale;

		if (!that.options.useTransform) return;

		that.zoomed = true;
		time = time === undefined ? 200 : time;
		x = x - that.wrapperOffsetLeft - that.x;
		y = y - that.wrapperOffsetTop - that.y;
		that.x = x - x * relScale + that.x;
		that.y = y - y * relScale + that.y;

		that.scale = scale;
		that.refresh();

		that.x = that.x &gt; 0 ? 0 : that.x &lt; that.maxScrollX ? that.maxScrollX : that.x;
		that.y = that.y &gt; that.minScrollY ? that.minScrollY : that.y &lt; that.maxScrollY ? that.maxScrollY : that.y;

		that.scroller.style[transitionDuration] = time + 'ms';
		that.scroller.style[transform] = 'translate(' + that.x + 'px,' + that.y + 'px) scale(' + scale + ')' + translateZ;
		that.zoomed = false;
	},
	
	isReady: function () {
		return !this.moved &amp;&amp; !this.zoomed &amp;&amp; !this.animating;
	}
};

function prefixStyle (style) {
	if ( vendor === '' ) return style;

	style = style.charAt(0).toUpperCase() + style.substr(1);
	return vendor + style;
}

dummyStyle = null;	// for the sake of it

if (typeof exports !== 'undefined') exports.iScroll = iScroll;
else window.iScroll = iScroll;

})(window, document);
</pre>
</div>
<div title="jQuery testing" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405132223" modified="201405142110" tags="excludeTimeline jQuery Reference" alias="" content-type="text/x-tiddlywiki" changecount="140">
<pre>&lt;html&gt;&lt;form action=&quot;/file-upload&quot; class=&quot;dropzone&quot;&gt;
  &lt;div class=&quot;fallback&quot;&gt;
    &lt;input name=&quot;file&quot; type=&quot;file&quot; multiple /&gt;
  &lt;/div&gt;
&lt;/form&gt;&lt;/html&gt;
&lt;script&gt;eval(store.getTiddlerText('jquery.ui.dialog.min.js'));
//eval(store.getTiddlerText('jQuery-v1.11.1.js'));

&lt;/script&gt;
&lt;script&gt;
eval(store.getTiddlerText('lettering.js'));

&lt;/script&gt;


&lt;html&gt;&lt;h1 class=&quot;fancy_title&quot;&gt;Some Title&lt;/h1&gt;
&lt;div id=&quot;demo&quot;&gt;Some text&lt;/div&gt;
&lt;button id=&quot;opener&quot;&gt;Open Dialog&lt;/button&gt;
&lt;div id=&quot;dialog&quot; title=&quot;The Harmonic Oscillator&quot;&gt;&lt;&lt;DOM move id&gt;&gt;&lt;p&gt;For the harmonic oscillator, the Lagrangian is given by $$\mathcal{L} = \frac{m}{2}(\dot{x}^2 - \omega^2x^2)$$
Using the ~Euler-Lagrange equations of motion, we may determine that 
$$x(t-ta) = A\cos[\omega(t-t_a)] + B\sin[\omega(t-ta)],\quad\mathrm{for }\;A,B \in \mathbb{R}\tag{1}$$
Using boundary conditions, we define \(x_a \equiv x(t_a - t_a) = x(0) \mathrm{,\;\,}\)   which implies, 
$$x_a = A$$
For $x_b \equiv x(t_b - t_a) = x(T);\; T \equiv t_b - t_a\mathrm{,\,\;}$ we have
$$x_b = x_a\cos(\omega T) + B\sin(\omega T)\quad \Rightarrow \quad B = \frac{x_b - x_a\cos(\omega T)}{\sin(\omega T)}$$
Now, we move forward and compute the classical action from the definition
$$S_{cl} = \int_{t_a}^{t_b}\frac{m}{2}(\dot{x}^2 - \omega^2x^2)\, dt $$
Instead of substituting in for \(x\) and \(\dot{x}\) in terms of the sine and cosine expressions within the integral, we may ease the calculation by first slightly massaging this equation.  By integrating the first term by parts, we obtain,
$$S_{cl} = \frac{m}{2}\left[ x\dot{x}\Bigr|_{t_a}^{t_b} - \int_{t_a}^{t_b} x\ddot{x}\,dt - \int_{t_a}^{t_b} \omega^2x^2\,dt\right] =  \frac{m}{2}\left[ x\dot{x}\Bigr|_{t_a}^{t_b} - \int_{t_a}^{t_b} x\left(\ddot{x} + \omega^2x\right) \, dt\right]$$
But this last term in parenthesis is precisely the equation of motion given by the [[Euler-Lagrange Equation]], and thus the term vanishes.  Therefore, we are only left with the first term of
$$S_{cl} =  \frac{m}{2} x\dot{x}\Bigr|_{t_a}^{t_b} =  \frac{m}{2}\left( x_b\dot{x_b} -  x_a\dot{x_a}\right)$$
Now, by differentiating Eq. (1) and by applying boundary conditions, we may write
$$\dot{x}_a = \frac{\omega}{\sin{\omega T}}\left[ x_b - x_a \cos(\omega T)\right] \qquad \textrm{and} \qquad \dot{x}_b =  \frac{\omega}{\sin{\omega T}}\left[ x_b\cos(\omega T) - x_a\right]$$
Then, after some algebraic manipulation, we arrive at the result of 
$$S_{cl} = \frac{m\omega}{2 \sin{\omega T}}\left[(x_a^2 + x_b^2)\cos{\omega T} - 2x_ax_b\right]$$&lt;/p&gt;&lt;/div&gt;

&lt;div id=&quot;draggable&quot; class=&quot;ui-widget-content&quot;&gt;&lt;p&gt;Drag me around&lt;/p&gt;&lt;/div&gt;


&lt;/html&gt;

&lt;script&gt;
// Load core script
eval(store.getTiddlerText('jquery.ui.core.min.js'));
// Load draggable script
eval(store.getTiddlerText('jquery.ui.draggable.min.js'));
// Make #draggable draggable
jQuery(&quot;#draggable&quot;).draggable();		
&lt;/script&gt;

&lt;script&gt;
// Load core script
eval(store.getTiddlerText('jquery.ui.core.min.js'));
// Load draggable script
eval(store.getTiddlerText('jquery.ui.draggable.min.js'));
eval(store.getTiddlerText('jquery.ui.resizable.min.js'));
eval(store.getTiddlerText('jquery.ui.dialog.min.js'));
eval(store.getTiddlerText('jquery.ui.button.min.js'));
/* 
 jQuery(function() {
    jQuery( &quot;#dialog&quot; ).dialog({
      autoOpen: false,
      show: {
        effect: &quot;blind&quot;,
        duration: 1000
      },
      hide: {
        effect: &quot;explode&quot;,
        duration: 1000
      }
    });
 */
 jQuery(function() {
    jQuery( &quot;#dialog&quot; ).dialog({
      autoOpen: false,
      show: {
      },
      hide: {
      }
    });

    jQuery( &quot;#opener&quot; ).click(function() {
      jQuery( &quot;#dialog&quot; ).dialog( &quot;open&quot; );
    });
  });

&lt;/script&gt;

&lt;script type=&quot;text/javascript&quot;&gt;
	// change css of an element
	jQuery( &quot;#demo&quot; )[0].style.color=&quot;#069&quot;
		
	
&lt;/script&gt;
 &lt;script&gt;
  
     jQuery(&quot;.fancy_title&quot;).lettering();
 
&lt;/script&gt;
&lt;html&gt;&lt;style&gt;
.fancy_title span.char1 {color:[[ColorPalette::PrimaryMid]] !important;}
.fancy_title span.char2 {color:[[ColorPalette::PrimaryDark]];}
.fancy_title span.char3 {color:[[ColorPalette::PrimaryMid]];}
.fancy_title span.char4 {color:[[ColorPalette::PrimaryDark]];}
.fancy_title span.char5 {color:[[ColorPalette::PrimaryMid]];}
.fancy_title span.char6 {color:[[ColorPalette::PrimaryDark]];}
.fancy_title span.char7 {color:[[ColorPalette::PrimaryMid]];}
.fancy_title span.char8 {color:[[ColorPalette::PrimaryDark]];}
.fancy_title span.char9 {color:[[ColorPalette::PrimaryMid]];}
.fancy_title span.char10 {color:[[ColorPalette::PrimaryDark]];}
&lt;/style&gt;&lt;/html&gt;</pre>
</div>
<div title="jQuery-v1.11.1.js" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405150929" modified="201405150931" tags="excludeTimeline js" content-type="text/javascript" changecount="7">
<pre>/*! jQuery v1.11.1 | (c) 2005, 2014 jQuery Foundation, Inc. | jquery.org/license */
//{{{
!function(a,b){&quot;object&quot;==typeof module&amp;&amp;&quot;object&quot;==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error(&quot;jQuery requires a window with a document&quot;);return b(a)}:b(a)}(&quot;undefined&quot;!=typeof window?window:this,function(a,b){var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l=&quot;1.11.1&quot;,m=function(a,b){return new m.fn.init(a,b)},n=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,o=/^-ms-/,p=/-([\da-z])/gi,q=function(a,b){return b.toUpperCase()};m.fn=m.prototype={jquery:l,constructor:m,selector:&quot;&quot;,length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0&gt;a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=m.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return m.each(this,a,b)},map:function(a){return this.pushStack(m.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0&gt;a?b:0);return this.pushStack(c&gt;=0&amp;&amp;b&gt;c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},m.extend=m.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for(&quot;boolean&quot;==typeof g&amp;&amp;(j=g,g=arguments[h]||{},h++),&quot;object&quot;==typeof g||m.isFunction(g)||(g={}),h===i&amp;&amp;(g=this,h--);i&gt;h;h++)if(null!=(e=arguments[h]))for(d in e)a=g[d],c=e[d],g!==c&amp;&amp;(j&amp;&amp;c&amp;&amp;(m.isPlainObject(c)||(b=m.isArray(c)))?(b?(b=!1,f=a&amp;&amp;m.isArray(a)?a:[]):f=a&amp;&amp;m.isPlainObject(a)?a:{},g[d]=m.extend(j,f,c)):void 0!==c&amp;&amp;(g[d]=c));return g},m.extend({expando:&quot;jQuery&quot;+(l+Math.random()).replace(/\D/g,&quot;&quot;),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return&quot;function&quot;===m.type(a)},isArray:Array.isArray||function(a){return&quot;array&quot;===m.type(a)},isWindow:function(a){return null!=a&amp;&amp;a==a.window},isNumeric:function(a){return!m.isArray(a)&amp;&amp;a-parseFloat(a)&gt;=0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},isPlainObject:function(a){var b;if(!a||&quot;object&quot;!==m.type(a)||a.nodeType||m.isWindow(a))return!1;try{if(a.constructor&amp;&amp;!j.call(a,&quot;constructor&quot;)&amp;&amp;!j.call(a.constructor.prototype,&quot;isPrototypeOf&quot;))return!1}catch(c){return!1}if(k.ownLast)for(b in a)return j.call(a,b);for(b in a);return void 0===b||j.call(a,b)},type:function(a){return null==a?a+&quot;&quot;:&quot;object&quot;==typeof a||&quot;function&quot;==typeof a?h[i.call(a)]||&quot;object&quot;:typeof a},globalEval:function(b){b&amp;&amp;m.trim(b)&amp;&amp;(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(o,&quot;ms-&quot;).replace(p,q)},nodeName:function(a,b){return a.nodeName&amp;&amp;a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=r(a);if(c){if(g){for(;f&gt;e;e++)if(d=b.apply(a[e],c),d===!1)break}else for(e in a)if(d=b.apply(a[e],c),d===!1)break}else if(g){for(;f&gt;e;e++)if(d=b.call(a[e],e,a[e]),d===!1)break}else for(e in a)if(d=b.call(a[e],e,a[e]),d===!1)break;return a},trim:function(a){return null==a?&quot;&quot;:(a+&quot;&quot;).replace(n,&quot;&quot;)},makeArray:function(a,b){var c=b||[];return null!=a&amp;&amp;(r(Object(a))?m.merge(c,&quot;string&quot;==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){var d;if(b){if(g)return g.call(b,a,c);for(d=b.length,c=c?0&gt;c?Math.max(0,d+c):c:0;d&gt;c;c++)if(c in b&amp;&amp;b[c]===a)return c}return-1},merge:function(a,b){var c=+b.length,d=0,e=a.length;while(c&gt;d)a[e++]=b[d++];if(c!==c)while(void 0!==b[d])a[e++]=b[d++];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g&gt;f;f++)d=!b(a[f],f),d!==h&amp;&amp;e.push(a[f]);return e},map:function(a,b,c){var d,f=0,g=a.length,h=r(a),i=[];if(h)for(;g&gt;f;f++)d=b(a[f],f,c),null!=d&amp;&amp;i.push(d);else for(f in a)d=b(a[f],f,c),null!=d&amp;&amp;i.push(d);return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return&quot;string&quot;==typeof b&amp;&amp;(f=a[b],b=a,a=f),m.isFunction(a)?(c=d.call(arguments,2),e=function(){return a.apply(b||this,c.concat(d.call(arguments)))},e.guid=a.guid=a.guid||m.guid++,e):void 0},now:function(){return+new Date},support:k}),m.each(&quot;Boolean Number String Function Array Date RegExp Object Error&quot;.split(&quot; &quot;),function(a,b){h[&quot;[object &quot;+b+&quot;]&quot;]=b.toLowerCase()});function r(a){var b=a.length,c=m.type(a);return&quot;function&quot;===c||m.isWindow(a)?!1:1===a.nodeType&amp;&amp;b?!0:&quot;array&quot;===c||0===b||&quot;number&quot;==typeof b&amp;&amp;b&gt;0&amp;&amp;b-1 in a}var s=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u=&quot;sizzle&quot;+-new Date,v=a.document,w=0,x=0,y=gb(),z=gb(),A=gb(),B=function(a,b){return a===b&amp;&amp;(l=!0),0},C=&quot;undefined&quot;,D=1&lt;&lt;31,E={}.hasOwnProperty,F=[],G=F.pop,H=F.push,I=F.push,J=F.slice,K=F.indexOf||function(a){for(var b=0,c=this.length;c&gt;b;b++)if(this[b]===a)return b;return-1},L=&quot;checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped&quot;,M=&quot;[\\x20\\t\\r\\n\\f]&quot;,N=&quot;(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+&quot;,O=N.replace(&quot;w&quot;,&quot;w#&quot;),P=&quot;\\[&quot;+M+&quot;*(&quot;+N+&quot;)(?:&quot;+M+&quot;*([*^$|!~]?=)&quot;+M+&quot;*(?:'((?:\\\\.|[^\\\\'])*)'|\&quot;((?:\\\\.|[^\\\\\&quot;])*)\&quot;|(&quot;+O+&quot;))|)&quot;+M+&quot;*\\]&quot;,Q=&quot;:(&quot;+N+&quot;)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\&quot;((?:\\\\.|[^\\\\\&quot;])*)\&quot;)|((?:\\\\.|[^\\\\()[\\]]|&quot;+P+&quot;)*)|.*)\\)|)&quot;,R=new RegExp(&quot;^&quot;+M+&quot;+|((?:^|[^\\\\])(?:\\\\.)*)&quot;+M+&quot;+$&quot;,&quot;g&quot;),S=new RegExp(&quot;^&quot;+M+&quot;*,&quot;+M+&quot;*&quot;),T=new RegExp(&quot;^&quot;+M+&quot;*([&gt;+~]|&quot;+M+&quot;)&quot;+M+&quot;*&quot;),U=new RegExp(&quot;=&quot;+M+&quot;*([^\\]'\&quot;]*?)&quot;+M+&quot;*\\]&quot;,&quot;g&quot;),V=new RegExp(Q),W=new RegExp(&quot;^&quot;+O+&quot;$&quot;),X={ID:new RegExp(&quot;^#(&quot;+N+&quot;)&quot;),CLASS:new RegExp(&quot;^\\.(&quot;+N+&quot;)&quot;),TAG:new RegExp(&quot;^(&quot;+N.replace(&quot;w&quot;,&quot;w*&quot;)+&quot;)&quot;),ATTR:new RegExp(&quot;^&quot;+P),PSEUDO:new RegExp(&quot;^&quot;+Q),CHILD:new RegExp(&quot;^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(&quot;+M+&quot;*(even|odd|(([+-]|)(\\d*)n|)&quot;+M+&quot;*(?:([+-]|)&quot;+M+&quot;*(\\d+)|))&quot;+M+&quot;*\\)|)&quot;,&quot;i&quot;),bool:new RegExp(&quot;^(?:&quot;+L+&quot;)$&quot;,&quot;i&quot;),needsContext:new RegExp(&quot;^&quot;+M+&quot;*[&gt;+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(&quot;+M+&quot;*((?:-\\d)?\\d*)&quot;+M+&quot;*\\)|)(?=[^-]|$)&quot;,&quot;i&quot;)},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,_=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ab=/[+~]/,bb=/'|\\/g,cb=new RegExp(&quot;\\\\([\\da-f]{1,6}&quot;+M+&quot;?|(&quot;+M+&quot;)|.)&quot;,&quot;ig&quot;),db=function(a,b,c){var d=&quot;0x&quot;+b-65536;return d!==d||c?b:0&gt;d?String.fromCharCode(d+65536):String.fromCharCode(d&gt;&gt;10|55296,1023&amp;d|56320)};try{I.apply(F=J.call(v.childNodes),v.childNodes),F[v.childNodes.length].nodeType}catch(eb){I={apply:F.length?function(a,b){H.apply(a,J.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function fb(a,b,d,e){var f,h,j,k,l,o,r,s,w,x;if((b?b.ownerDocument||b:v)!==n&amp;&amp;m(b),b=b||n,d=d||[],!a||&quot;string&quot;!=typeof a)return d;if(1!==(k=b.nodeType)&amp;&amp;9!==k)return[];if(p&amp;&amp;!e){if(f=_.exec(a))if(j=f[1]){if(9===k){if(h=b.getElementById(j),!h||!h.parentNode)return d;if(h.id===j)return d.push(h),d}else if(b.ownerDocument&amp;&amp;(h=b.ownerDocument.getElementById(j))&amp;&amp;t(b,h)&amp;&amp;h.id===j)return d.push(h),d}else{if(f[2])return I.apply(d,b.getElementsByTagName(a)),d;if((j=f[3])&amp;&amp;c.getElementsByClassName&amp;&amp;b.getElementsByClassName)return I.apply(d,b.getElementsByClassName(j)),d}if(c.qsa&amp;&amp;(!q||!q.test(a))){if(s=r=u,w=b,x=9===k&amp;&amp;a,1===k&amp;&amp;&quot;object&quot;!==b.nodeName.toLowerCase()){o=g(a),(r=b.getAttribute(&quot;id&quot;))?s=r.replace(bb,&quot;\\$&amp;&quot;):b.setAttribute(&quot;id&quot;,s),s=&quot;[id='&quot;+s+&quot;'] &quot;,l=o.length;while(l--)o[l]=s+qb(o[l]);w=ab.test(a)&amp;&amp;ob(b.parentNode)||b,x=o.join(&quot;,&quot;)}if(x)try{return I.apply(d,w.querySelectorAll(x)),d}catch(y){}finally{r||b.removeAttribute(&quot;id&quot;)}}}return i(a.replace(R,&quot;$1&quot;),b,d,e)}function gb(){var a=[];function b(c,e){return a.push(c+&quot; &quot;)&gt;d.cacheLength&amp;&amp;delete b[a.shift()],b[c+&quot; &quot;]=e}return b}function hb(a){return a[u]=!0,a}function ib(a){var b=n.createElement(&quot;div&quot;);try{return!!a(b)}catch(c){return!1}finally{b.parentNode&amp;&amp;b.parentNode.removeChild(b),b=null}}function jb(a,b){var c=a.split(&quot;|&quot;),e=a.length;while(e--)d.attrHandle[c[e]]=b}function kb(a,b){var c=b&amp;&amp;a,d=c&amp;&amp;1===a.nodeType&amp;&amp;1===b.nodeType&amp;&amp;(~b.sourceIndex||D)-(~a.sourceIndex||D);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function lb(a){return function(b){var c=b.nodeName.toLowerCase();return&quot;input&quot;===c&amp;&amp;b.type===a}}function mb(a){return function(b){var c=b.nodeName.toLowerCase();return(&quot;input&quot;===c||&quot;button&quot;===c)&amp;&amp;b.type===a}}function nb(a){return hb(function(b){return b=+b,hb(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&amp;&amp;(c[e]=!(d[e]=c[e]))})})}function ob(a){return a&amp;&amp;typeof a.getElementsByTagName!==C&amp;&amp;a}c=fb.support={},f=fb.isXML=function(a){var b=a&amp;&amp;(a.ownerDocument||a).documentElement;return b?&quot;HTML&quot;!==b.nodeName:!1},m=fb.setDocument=function(a){var b,e=a?a.ownerDocument||a:v,g=e.defaultView;return e!==n&amp;&amp;9===e.nodeType&amp;&amp;e.documentElement?(n=e,o=e.documentElement,p=!f(e),g&amp;&amp;g!==g.top&amp;&amp;(g.addEventListener?g.addEventListener(&quot;unload&quot;,function(){m()},!1):g.attachEvent&amp;&amp;g.attachEvent(&quot;onunload&quot;,function(){m()})),c.attributes=ib(function(a){return a.className=&quot;i&quot;,!a.getAttribute(&quot;className&quot;)}),c.getElementsByTagName=ib(function(a){return a.appendChild(e.createComment(&quot;&quot;)),!a.getElementsByTagName(&quot;*&quot;).length}),c.getElementsByClassName=$.test(e.getElementsByClassName)&amp;&amp;ib(function(a){return a.innerHTML=&quot;&lt;div class='a'&gt;&lt;/div&gt;&lt;div class='a i'&gt;&lt;/div&gt;&quot;,a.firstChild.className=&quot;i&quot;,2===a.getElementsByClassName(&quot;i&quot;).length}),c.getById=ib(function(a){return o.appendChild(a).id=u,!e.getElementsByName||!e.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if(typeof b.getElementById!==C&amp;&amp;p){var c=b.getElementById(a);return c&amp;&amp;c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(cb,db);return function(a){return a.getAttribute(&quot;id&quot;)===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(cb,db);return function(a){var c=typeof a.getAttributeNode!==C&amp;&amp;a.getAttributeNode(&quot;id&quot;);return c&amp;&amp;c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return typeof b.getElementsByTagName!==C?b.getElementsByTagName(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if(&quot;*&quot;===a){while(c=f[e++])1===c.nodeType&amp;&amp;d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&amp;&amp;function(a,b){return typeof b.getElementsByClassName!==C&amp;&amp;p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=$.test(e.querySelectorAll))&amp;&amp;(ib(function(a){a.innerHTML=&quot;&lt;select msallowclip=''&gt;&lt;option selected=''&gt;&lt;/option&gt;&lt;/select&gt;&quot;,a.querySelectorAll(&quot;[msallowclip^='']&quot;).length&amp;&amp;q.push(&quot;[*^$]=&quot;+M+&quot;*(?:''|\&quot;\&quot;)&quot;),a.querySelectorAll(&quot;[selected]&quot;).length||q.push(&quot;\\[&quot;+M+&quot;*(?:value|&quot;+L+&quot;)&quot;),a.querySelectorAll(&quot;:checked&quot;).length||q.push(&quot;:checked&quot;)}),ib(function(a){var b=e.createElement(&quot;input&quot;);b.setAttribute(&quot;type&quot;,&quot;hidden&quot;),a.appendChild(b).setAttribute(&quot;name&quot;,&quot;D&quot;),a.querySelectorAll(&quot;[name=d]&quot;).length&amp;&amp;q.push(&quot;name&quot;+M+&quot;*[*^$|!~]?=&quot;),a.querySelectorAll(&quot;:enabled&quot;).length||q.push(&quot;:enabled&quot;,&quot;:disabled&quot;),a.querySelectorAll(&quot;*,:x&quot;),q.push(&quot;,.*:&quot;)})),(c.matchesSelector=$.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&amp;&amp;ib(function(a){c.disconnectedMatch=s.call(a,&quot;div&quot;),s.call(a,&quot;[s!='']:x&quot;),r.push(&quot;!=&quot;,Q)}),q=q.length&amp;&amp;new RegExp(q.join(&quot;|&quot;)),r=r.length&amp;&amp;new RegExp(r.join(&quot;|&quot;)),b=$.test(o.compareDocumentPosition),t=b||$.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&amp;&amp;b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&amp;&amp;16&amp;a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&amp;d||!c.sortDetached&amp;&amp;b.compareDocumentPosition(a)===d?a===e||a.ownerDocument===v&amp;&amp;t(v,a)?-1:b===e||b.ownerDocument===v&amp;&amp;t(v,b)?1:k?K.call(k,a)-K.call(k,b):0:4&amp;d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,f=a.parentNode,g=b.parentNode,h=[a],i=[b];if(!f||!g)return a===e?-1:b===e?1:f?-1:g?1:k?K.call(k,a)-K.call(k,b):0;if(f===g)return kb(a,b);c=a;while(c=c.parentNode)h.unshift(c);c=b;while(c=c.parentNode)i.unshift(c);while(h[d]===i[d])d++;return d?kb(h[d],i[d]):h[d]===v?-1:i[d]===v?1:0},e):n},fb.matches=function(a,b){return fb(a,null,null,b)},fb.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&amp;&amp;m(a),b=b.replace(U,&quot;='$1']&quot;),!(!c.matchesSelector||!p||r&amp;&amp;r.test(b)||q&amp;&amp;q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&amp;&amp;11!==a.document.nodeType)return d}catch(e){}return fb(b,n,null,[a]).length&gt;0},fb.contains=function(a,b){return(a.ownerDocument||a)!==n&amp;&amp;m(a),t(a,b)},fb.attr=function(a,b){(a.ownerDocument||a)!==n&amp;&amp;m(a);var e=d.attrHandle[b.toLowerCase()],f=e&amp;&amp;E.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&amp;&amp;f.specified?f.value:null},fb.error=function(a){throw new Error(&quot;Syntax error, unrecognized expression: &quot;+a)},fb.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&amp;&amp;a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&amp;&amp;(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=fb.getText=function(a){var b,c=&quot;&quot;,d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if(&quot;string&quot;==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=fb.selectors={cacheLength:50,createPseudo:hb,match:X,attrHandle:{},find:{},relative:{&quot;&gt;&quot;:{dir:&quot;parentNode&quot;,first:!0},&quot; &quot;:{dir:&quot;parentNode&quot;},&quot;+&quot;:{dir:&quot;previousSibling&quot;,first:!0},&quot;~&quot;:{dir:&quot;previousSibling&quot;}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(cb,db),a[3]=(a[3]||a[4]||a[5]||&quot;&quot;).replace(cb,db),&quot;~=&quot;===a[2]&amp;&amp;(a[3]=&quot; &quot;+a[3]+&quot; &quot;),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),&quot;nth&quot;===a[1].slice(0,3)?(a[3]||fb.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*(&quot;even&quot;===a[3]||&quot;odd&quot;===a[3])),a[5]=+(a[7]+a[8]||&quot;odd&quot;===a[3])):a[3]&amp;&amp;fb.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&amp;&amp;a[2];return X.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||&quot;&quot;:c&amp;&amp;V.test(c)&amp;&amp;(b=g(c,!0))&amp;&amp;(b=c.indexOf(&quot;)&quot;,c.length-b)-c.length)&amp;&amp;(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(cb,db).toLowerCase();return&quot;*&quot;===a?function(){return!0}:function(a){return a.nodeName&amp;&amp;a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+&quot; &quot;];return b||(b=new RegExp(&quot;(^|&quot;+M+&quot;)&quot;+a+&quot;(&quot;+M+&quot;|$)&quot;))&amp;&amp;y(a,function(a){return b.test(&quot;string&quot;==typeof a.className&amp;&amp;a.className||typeof a.getAttribute!==C&amp;&amp;a.getAttribute(&quot;class&quot;)||&quot;&quot;)})},ATTR:function(a,b,c){return function(d){var e=fb.attr(d,a);return null==e?&quot;!=&quot;===b:b?(e+=&quot;&quot;,&quot;=&quot;===b?e===c:&quot;!=&quot;===b?e!==c:&quot;^=&quot;===b?c&amp;&amp;0===e.indexOf(c):&quot;*=&quot;===b?c&amp;&amp;e.indexOf(c)&gt;-1:&quot;$=&quot;===b?c&amp;&amp;e.slice(-c.length)===c:&quot;~=&quot;===b?(&quot; &quot;+e+&quot; &quot;).indexOf(c)&gt;-1:&quot;|=&quot;===b?e===c||e.slice(0,c.length+1)===c+&quot;-&quot;:!1):!0}},CHILD:function(a,b,c,d,e){var f=&quot;nth&quot;!==a.slice(0,3),g=&quot;last&quot;!==a.slice(-4),h=&quot;of-type&quot;===b;return 1===d&amp;&amp;0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?&quot;nextSibling&quot;:&quot;previousSibling&quot;,q=b.parentNode,r=h&amp;&amp;b.nodeName.toLowerCase(),s=!i&amp;&amp;!h;if(q){if(f){while(p){l=b;while(l=l[p])if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p=&quot;only&quot;===a&amp;&amp;!o&amp;&amp;&quot;nextSibling&quot;}return!0}if(o=[g?q.firstChild:q.lastChild],g&amp;&amp;s){k=q[u]||(q[u]={}),j=k[a]||[],n=j[0]===w&amp;&amp;j[1],m=j[0]===w&amp;&amp;j[2],l=n&amp;&amp;q.childNodes[n];while(l=++n&amp;&amp;l&amp;&amp;l[p]||(m=n=0)||o.pop())if(1===l.nodeType&amp;&amp;++m&amp;&amp;l===b){k[a]=[w,n,m];break}}else if(s&amp;&amp;(j=(b[u]||(b[u]={}))[a])&amp;&amp;j[0]===w)m=j[1];else while(l=++n&amp;&amp;l&amp;&amp;l[p]||(m=n=0)||o.pop())if((h?l.nodeName.toLowerCase()===r:1===l.nodeType)&amp;&amp;++m&amp;&amp;(s&amp;&amp;((l[u]||(l[u]={}))[a]=[w,m]),l===b))break;return m-=e,m===d||m%d===0&amp;&amp;m/d&gt;=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||fb.error(&quot;unsupported pseudo: &quot;+a);return e[u]?e(b):e.length&gt;1?(c=[a,a,&quot;&quot;,b],d.setFilters.hasOwnProperty(a.toLowerCase())?hb(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=K.call(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:hb(function(a){var b=[],c=[],d=h(a.replace(R,&quot;$1&quot;));return d[u]?hb(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&amp;&amp;(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:hb(function(a){return function(b){return fb(a,b).length&gt;0}}),contains:hb(function(a){return function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)&gt;-1}}),lang:hb(function(a){return W.test(a||&quot;&quot;)||fb.error(&quot;unsupported lang: &quot;+a),a=a.replace(cb,db).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute(&quot;xml:lang&quot;)||b.getAttribute(&quot;lang&quot;))return c=c.toLowerCase(),c===a||0===c.indexOf(a+&quot;-&quot;);while((b=b.parentNode)&amp;&amp;1===b.nodeType);return!1}}),target:function(b){var c=a.location&amp;&amp;a.location.hash;return c&amp;&amp;c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&amp;&amp;(!n.hasFocus||n.hasFocus())&amp;&amp;!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return&quot;input&quot;===b&amp;&amp;!!a.checked||&quot;option&quot;===b&amp;&amp;!!a.selected},selected:function(a){return a.parentNode&amp;&amp;a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType&lt;6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Z.test(a.nodeName)},input:function(a){return Y.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return&quot;input&quot;===b&amp;&amp;&quot;button&quot;===a.type||&quot;button&quot;===b},text:function(a){var b;return&quot;input&quot;===a.nodeName.toLowerCase()&amp;&amp;&quot;text&quot;===a.type&amp;&amp;(null==(b=a.getAttribute(&quot;type&quot;))||&quot;text&quot;===b.toLowerCase())},first:nb(function(){return[0]}),last:nb(function(a,b){return[b-1]}),eq:nb(function(a,b,c){return[0&gt;c?c+b:c]}),even:nb(function(a,b){for(var c=0;b&gt;c;c+=2)a.push(c);return a}),odd:nb(function(a,b){for(var c=1;b&gt;c;c+=2)a.push(c);return a}),lt:nb(function(a,b,c){for(var d=0&gt;c?c+b:c;--d&gt;=0;)a.push(d);return a}),gt:nb(function(a,b,c){for(var d=0&gt;c?c+b:c;++d&lt;b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=lb(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=mb(b);function pb(){}pb.prototype=d.filters=d.pseudos,d.setFilters=new pb,g=fb.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+&quot; &quot;];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){(!c||(e=S.exec(h)))&amp;&amp;(e&amp;&amp;(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=T.exec(h))&amp;&amp;(c=e.shift(),f.push({value:c,type:e[0].replace(R,&quot; &quot;)}),h=h.slice(c.length));for(g in d.filter)!(e=X[g].exec(h))||j[g]&amp;&amp;!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?fb.error(a):z(a,i).slice(0)};function qb(a){for(var b=0,c=a.length,d=&quot;&quot;;c&gt;b;b++)d+=a[b].value;return d}function rb(a,b,c){var d=b.dir,e=c&amp;&amp;&quot;parentNode&quot;===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&amp;&amp;a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(i=b[u]||(b[u]={}),(h=i[d])&amp;&amp;h[0]===w&amp;&amp;h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function sb(a){return a.length&gt;1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function tb(a,b,c){for(var d=0,e=b.length;e&gt;d;d++)fb(a,b[d],c);return c}function ub(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i&gt;h;h++)(f=a[h])&amp;&amp;(!c||c(f,d,e))&amp;&amp;(g.push(f),j&amp;&amp;b.push(h));return g}function vb(a,b,c,d,e,f){return d&amp;&amp;!d[u]&amp;&amp;(d=vb(d)),e&amp;&amp;!e[u]&amp;&amp;(e=vb(e,f)),hb(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||tb(b||&quot;*&quot;,h.nodeType?[h]:h,[]),q=!a||!f&amp;&amp;b?p:ub(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&amp;&amp;c(q,r,h,i),d){j=ub(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&amp;&amp;(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&amp;&amp;j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&amp;&amp;(j=e?K.call(f,l):m[k])&gt;-1&amp;&amp;(f[j]=!(g[j]=l))}}else r=ub(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):I.apply(g,r)})}function wb(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[&quot; &quot;],i=g?1:0,k=rb(function(a){return a===b},h,!0),l=rb(function(a){return K.call(b,a)&gt;-1},h,!0),m=[function(a,c,d){return!g&amp;&amp;(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d))}];f&gt;i;i++)if(c=d.relative[a[i].type])m=[rb(sb(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f&gt;e;e++)if(d.relative[a[e].type])break;return vb(i&gt;1&amp;&amp;sb(m),i&gt;1&amp;&amp;qb(a.slice(0,i-1).concat({value:&quot; &quot;===a[i-2].type?&quot;*&quot;:&quot;&quot;})).replace(R,&quot;$1&quot;),c,e&gt;i&amp;&amp;wb(a.slice(i,e)),f&gt;e&amp;&amp;wb(a=a.slice(e)),f&gt;e&amp;&amp;qb(a))}m.push(c)}return sb(m)}function xb(a,b){var c=b.length&gt;0,e=a.length&gt;0,f=function(f,g,h,i,k){var l,m,o,p=0,q=&quot;0&quot;,r=f&amp;&amp;[],s=[],t=j,u=f||e&amp;&amp;d.find.TAG(&quot;*&quot;,k),v=w+=null==t?1:Math.random()||.1,x=u.length;for(k&amp;&amp;(j=g!==n&amp;&amp;g);q!==x&amp;&amp;null!=(l=u[q]);q++){if(e&amp;&amp;l){m=0;while(o=a[m++])if(o(l,g,h)){i.push(l);break}k&amp;&amp;(w=v)}c&amp;&amp;((l=!o&amp;&amp;l)&amp;&amp;p--,f&amp;&amp;r.push(l))}if(p+=q,c&amp;&amp;q!==p){m=0;while(o=b[m++])o(r,s,g,h);if(f){if(p&gt;0)while(q--)r[q]||s[q]||(s[q]=G.call(i));s=ub(s)}I.apply(i,s),k&amp;&amp;!f&amp;&amp;s.length&gt;0&amp;&amp;p+b.length&gt;1&amp;&amp;fb.uniqueSort(i)}return k&amp;&amp;(w=v,j=t),r};return c?hb(f):f}return h=fb.compile=function(a,b){var c,d=[],e=[],f=A[a+&quot; &quot;];if(!f){b||(b=g(a)),c=b.length;while(c--)f=wb(b[c]),f[u]?d.push(f):e.push(f);f=A(a,xb(e,d)),f.selector=a}return f},i=fb.select=function(a,b,e,f){var i,j,k,l,m,n=&quot;function&quot;==typeof a&amp;&amp;a,o=!f&amp;&amp;g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length&gt;2&amp;&amp;&quot;ID&quot;===(k=j[0]).type&amp;&amp;c.getById&amp;&amp;9===b.nodeType&amp;&amp;p&amp;&amp;d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(cb,db),b)||[])[0],!b)return e;n&amp;&amp;(b=b.parentNode),a=a.slice(j.shift().value.length)}i=X.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&amp;&amp;(f=m(k.matches[0].replace(cb,db),ab.test(j[0].type)&amp;&amp;ob(b.parentNode)||b))){if(j.splice(i,1),a=f.length&amp;&amp;qb(j),!a)return I.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,ab.test(a)&amp;&amp;ob(b.parentNode)||b),e},c.sortStable=u.split(&quot;&quot;).sort(B).join(&quot;&quot;)===u,c.detectDuplicates=!!l,m(),c.sortDetached=ib(function(a){return 1&amp;a.compareDocumentPosition(n.createElement(&quot;div&quot;))}),ib(function(a){return a.innerHTML=&quot;&lt;a href='#'&gt;&lt;/a&gt;&quot;,&quot;#&quot;===a.firstChild.getAttribute(&quot;href&quot;)})||jb(&quot;type|href|height|width&quot;,function(a,b,c){return c?void 0:a.getAttribute(b,&quot;type&quot;===b.toLowerCase()?1:2)}),c.attributes&amp;&amp;ib(function(a){return a.innerHTML=&quot;&lt;input/&gt;&quot;,a.firstChild.setAttribute(&quot;value&quot;,&quot;&quot;),&quot;&quot;===a.firstChild.getAttribute(&quot;value&quot;)})||jb(&quot;value&quot;,function(a,b,c){return c||&quot;input&quot;!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ib(function(a){return null==a.getAttribute(&quot;disabled&quot;)})||jb(L,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&amp;&amp;d.specified?d.value:null}),fb}(a);m.find=s,m.expr=s.selectors,m.expr[&quot;:&quot;]=m.expr.pseudos,m.unique=s.uniqueSort,m.text=s.getText,m.isXMLDoc=s.isXML,m.contains=s.contains;var t=m.expr.match.needsContext,u=/^&lt;(\w+)\s*\/?&gt;(?:&lt;\/\1&gt;|)$/,v=/^.[^:#\[\.,]*$/;function w(a,b,c){if(m.isFunction(b))return m.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return m.grep(a,function(a){return a===b!==c});if(&quot;string&quot;==typeof b){if(v.test(b))return m.filter(b,a,c);b=m.filter(b,a)}return m.grep(a,function(a){return m.inArray(a,b)&gt;=0!==c})}m.filter=function(a,b,c){var d=b[0];return c&amp;&amp;(a=&quot;:not(&quot;+a+&quot;)&quot;),1===b.length&amp;&amp;1===d.nodeType?m.find.matchesSelector(d,a)?[d]:[]:m.find.matches(a,m.grep(b,function(a){return 1===a.nodeType}))},m.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if(&quot;string&quot;!=typeof a)return this.pushStack(m(a).filter(function(){for(b=0;e&gt;b;b++)if(m.contains(d[b],this))return!0}));for(b=0;e&gt;b;b++)m.find(a,d[b],c);return c=this.pushStack(e&gt;1?m.unique(c):c),c.selector=this.selector?this.selector+&quot; &quot;+a:a,c},filter:function(a){return this.pushStack(w(this,a||[],!1))},not:function(a){return this.pushStack(w(this,a||[],!0))},is:function(a){return!!w(this,&quot;string&quot;==typeof a&amp;&amp;t.test(a)?m(a):a||[],!1).length}});var x,y=a.document,z=/^(?:\s*(&lt;[\w\W]+&gt;)[^&gt;]*|#([\w-]*))$/,A=m.fn.init=function(a,b){var c,d;if(!a)return this;if(&quot;string&quot;==typeof a){if(c=&quot;&lt;&quot;===a.charAt(0)&amp;&amp;&quot;&gt;&quot;===a.charAt(a.length-1)&amp;&amp;a.length&gt;=3?[null,a,null]:z.exec(a),!c||!c[1]&amp;&amp;b)return!b||b.jquery?(b||x).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof m?b[0]:b,m.merge(this,m.parseHTML(c[1],b&amp;&amp;b.nodeType?b.ownerDocument||b:y,!0)),u.test(c[1])&amp;&amp;m.isPlainObject(b))for(c in b)m.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}if(d=y.getElementById(c[2]),d&amp;&amp;d.parentNode){if(d.id!==c[2])return x.find(a);this.length=1,this[0]=d}return this.context=y,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):m.isFunction(a)?&quot;undefined&quot;!=typeof x.ready?x.ready(a):a(m):(void 0!==a.selector&amp;&amp;(this.selector=a.selector,this.context=a.context),m.makeArray(a,this))};A.prototype=m.fn,x=m(y);var B=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};m.extend({dir:function(a,b,c){var d=[],e=a[b];while(e&amp;&amp;9!==e.nodeType&amp;&amp;(void 0===c||1!==e.nodeType||!m(e).is(c)))1===e.nodeType&amp;&amp;d.push(e),e=e[b];return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&amp;&amp;a!==b&amp;&amp;c.push(a);return c}}),m.fn.extend({has:function(a){var b,c=m(a,this),d=c.length;return this.filter(function(){for(b=0;d&gt;b;b++)if(m.contains(this,c[b]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=t.test(a)||&quot;string&quot;!=typeof a?m(a,b||this.context):0;e&gt;d;d++)for(c=this[d];c&amp;&amp;c!==b;c=c.parentNode)if(c.nodeType&lt;11&amp;&amp;(g?g.index(c)&gt;-1:1===c.nodeType&amp;&amp;m.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length&gt;1?m.unique(f):f)},index:function(a){return a?&quot;string&quot;==typeof a?m.inArray(this[0],m(a)):m.inArray(a.jquery?a[0]:a,this):this[0]&amp;&amp;this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(m.unique(m.merge(this.get(),m(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function D(a,b){do a=a[b];while(a&amp;&amp;1!==a.nodeType);return a}m.each({parent:function(a){var b=a.parentNode;return b&amp;&amp;11!==b.nodeType?b:null},parents:function(a){return m.dir(a,&quot;parentNode&quot;)},parentsUntil:function(a,b,c){return m.dir(a,&quot;parentNode&quot;,c)},next:function(a){return D(a,&quot;nextSibling&quot;)},prev:function(a){return D(a,&quot;previousSibling&quot;)},nextAll:function(a){return m.dir(a,&quot;nextSibling&quot;)},prevAll:function(a){return m.dir(a,&quot;previousSibling&quot;)},nextUntil:function(a,b,c){return m.dir(a,&quot;nextSibling&quot;,c)},prevUntil:function(a,b,c){return m.dir(a,&quot;previousSibling&quot;,c)},siblings:function(a){return m.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return m.sibling(a.firstChild)},contents:function(a){return m.nodeName(a,&quot;iframe&quot;)?a.contentDocument||a.contentWindow.document:m.merge([],a.childNodes)}},function(a,b){m.fn[a]=function(c,d){var e=m.map(this,b,c);return&quot;Until&quot;!==a.slice(-5)&amp;&amp;(d=c),d&amp;&amp;&quot;string&quot;==typeof d&amp;&amp;(e=m.filter(d,e)),this.length&gt;1&amp;&amp;(C[a]||(e=m.unique(e)),B.test(a)&amp;&amp;(e=e.reverse())),this.pushStack(e)}});var E=/\S+/g,F={};function G(a){var b=F[a]={};return m.each(a.match(E)||[],function(a,c){b[c]=!0}),b}m.Callbacks=function(a){a=&quot;string&quot;==typeof a?F[a]||G(a):m.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&amp;&amp;[],j=function(l){for(c=a.memory&amp;&amp;l,d=!0,f=g||0,g=0,e=h.length,b=!0;h&amp;&amp;e&gt;f;f++)if(h[f].apply(l[0],l[1])===!1&amp;&amp;a.stopOnFalse){c=!1;break}b=!1,h&amp;&amp;(i?i.length&amp;&amp;j(i.shift()):c?h=[]:k.disable())},k={add:function(){if(h){var d=h.length;!function f(b){m.each(b,function(b,c){var d=m.type(c);&quot;function&quot;===d?a.unique&amp;&amp;k.has(c)||h.push(c):c&amp;&amp;c.length&amp;&amp;&quot;string&quot;!==d&amp;&amp;f(c)})}(arguments),b?e=h.length:c&amp;&amp;(g=d,j(c))}return this},remove:function(){return h&amp;&amp;m.each(arguments,function(a,c){var d;while((d=m.inArray(c,h,d))&gt;-1)h.splice(d,1),b&amp;&amp;(e&gt;=d&amp;&amp;e--,f&gt;=d&amp;&amp;f--)}),this},has:function(a){return a?m.inArray(a,h)&gt;-1:!(!h||!h.length)},empty:function(){return h=[],e=0,this},disable:function(){return h=i=c=void 0,this},disabled:function(){return!h},lock:function(){return i=void 0,c||k.disable(),this},locked:function(){return!i},fireWith:function(a,c){return!h||d&amp;&amp;!i||(c=c||[],c=[a,c.slice?c.slice():c],b?i.push(c):j(c)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!d}};return k},m.extend({Deferred:function(a){var b=[[&quot;resolve&quot;,&quot;done&quot;,m.Callbacks(&quot;once memory&quot;),&quot;resolved&quot;],[&quot;reject&quot;,&quot;fail&quot;,m.Callbacks(&quot;once memory&quot;),&quot;rejected&quot;],[&quot;notify&quot;,&quot;progress&quot;,m.Callbacks(&quot;memory&quot;)]],c=&quot;pending&quot;,d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return m.Deferred(function(c){m.each(b,function(b,f){var g=m.isFunction(a[b])&amp;&amp;a[b];e[f[1]](function(){var a=g&amp;&amp;g.apply(this,arguments);a&amp;&amp;m.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+&quot;With&quot;](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?m.extend(a,d):d}},e={};return d.pipe=d.then,m.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&amp;&amp;g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+&quot;With&quot;](this===e?d:this,arguments),this},e[f[0]+&quot;With&quot;]=g.fireWith}),d.promise(e),a&amp;&amp;a.call(e,e),e},when:function(a){var b=0,c=d.call(arguments),e=c.length,f=1!==e||a&amp;&amp;m.isFunction(a.promise)?e:0,g=1===f?a:m.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length&gt;1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(e&gt;1)for(i=new Array(e),j=new Array(e),k=new Array(e);e&gt;b;b++)c[b]&amp;&amp;m.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f;return f||g.resolveWith(k,c),g.promise()}});var H;m.fn.ready=function(a){return m.ready.promise().done(a),this},m.extend({isReady:!1,readyWait:1,holdReady:function(a){a?m.readyWait++:m.ready(!0)},ready:function(a){if(a===!0?!--m.readyWait:!m.isReady){if(!y.body)return setTimeout(m.ready);m.isReady=!0,a!==!0&amp;&amp;--m.readyWait&gt;0||(H.resolveWith(y,[m]),m.fn.triggerHandler&amp;&amp;(m(y).triggerHandler(&quot;ready&quot;),m(y).off(&quot;ready&quot;)))}}});function I(){y.addEventListener?(y.removeEventListener(&quot;DOMContentLoaded&quot;,J,!1),a.removeEventListener(&quot;load&quot;,J,!1)):(y.detachEvent(&quot;onreadystatechange&quot;,J),a.detachEvent(&quot;onload&quot;,J))}function J(){(y.addEventListener||&quot;load&quot;===event.type||&quot;complete&quot;===y.readyState)&amp;&amp;(I(),m.ready())}m.ready.promise=function(b){if(!H)if(H=m.Deferred(),&quot;complete&quot;===y.readyState)setTimeout(m.ready);else if(y.addEventListener)y.addEventListener(&quot;DOMContentLoaded&quot;,J,!1),a.addEventListener(&quot;load&quot;,J,!1);else{y.attachEvent(&quot;onreadystatechange&quot;,J),a.attachEvent(&quot;onload&quot;,J);var c=!1;try{c=null==a.frameElement&amp;&amp;y.documentElement}catch(d){}c&amp;&amp;c.doScroll&amp;&amp;!function e(){if(!m.isReady){try{c.doScroll(&quot;left&quot;)}catch(a){return setTimeout(e,50)}I(),m.ready()}}()}return H.promise(b)};var K=&quot;undefined&quot;,L;for(L in m(k))break;k.ownLast=&quot;0&quot;!==L,k.inlineBlockNeedsLayout=!1,m(function(){var a,b,c,d;c=y.getElementsByTagName(&quot;body&quot;)[0],c&amp;&amp;c.style&amp;&amp;(b=y.createElement(&quot;div&quot;),d=y.createElement(&quot;div&quot;),d.style.cssText=&quot;position:absolute;border:0;width:0;height:0;top:0;left:-9999px&quot;,c.appendChild(d).appendChild(b),typeof b.style.zoom!==K&amp;&amp;(b.style.cssText=&quot;display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1&quot;,k.inlineBlockNeedsLayout=a=3===b.offsetWidth,a&amp;&amp;(c.style.zoom=1)),c.removeChild(d))}),function(){var a=y.createElement(&quot;div&quot;);if(null==k.deleteExpando){k.deleteExpando=!0;try{delete a.test}catch(b){k.deleteExpando=!1}}a=null}(),m.acceptData=function(a){var b=m.noData[(a.nodeName+&quot; &quot;).toLowerCase()],c=+a.nodeType||1;return 1!==c&amp;&amp;9!==c?!1:!b||b!==!0&amp;&amp;a.getAttribute(&quot;classid&quot;)===b};var M=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,N=/([A-Z])/g;function O(a,b,c){if(void 0===c&amp;&amp;1===a.nodeType){var d=&quot;data-&quot;+b.replace(N,&quot;-$1&quot;).toLowerCase();if(c=a.getAttribute(d),&quot;string&quot;==typeof c){try{c=&quot;true&quot;===c?!0:&quot;false&quot;===c?!1:&quot;null&quot;===c?null:+c+&quot;&quot;===c?+c:M.test(c)?m.parseJSON(c):c}catch(e){}m.data(a,b,c)}else c=void 0}return c}function P(a){var b;for(b in a)if((&quot;data&quot;!==b||!m.isEmptyObject(a[b]))&amp;&amp;&quot;toJSON&quot;!==b)return!1;return!0}function Q(a,b,d,e){if(m.acceptData(a)){var f,g,h=m.expando,i=a.nodeType,j=i?m.cache:a,k=i?a[h]:a[h]&amp;&amp;h;
if(k&amp;&amp;j[k]&amp;&amp;(e||j[k].data)||void 0!==d||&quot;string&quot;!=typeof b)return k||(k=i?a[h]=c.pop()||m.guid++:h),j[k]||(j[k]=i?{}:{toJSON:m.noop}),(&quot;object&quot;==typeof b||&quot;function&quot;==typeof b)&amp;&amp;(e?j[k]=m.extend(j[k],b):j[k].data=m.extend(j[k].data,b)),g=j[k],e||(g.data||(g.data={}),g=g.data),void 0!==d&amp;&amp;(g[m.camelCase(b)]=d),&quot;string&quot;==typeof b?(f=g[b],null==f&amp;&amp;(f=g[m.camelCase(b)])):f=g,f}}function R(a,b,c){if(m.acceptData(a)){var d,e,f=a.nodeType,g=f?m.cache:a,h=f?a[m.expando]:m.expando;if(g[h]){if(b&amp;&amp;(d=c?g[h]:g[h].data)){m.isArray(b)?b=b.concat(m.map(b,m.camelCase)):b in d?b=[b]:(b=m.camelCase(b),b=b in d?[b]:b.split(&quot; &quot;)),e=b.length;while(e--)delete d[b[e]];if(c?!P(d):!m.isEmptyObject(d))return}(c||(delete g[h].data,P(g[h])))&amp;&amp;(f?m.cleanData([a],!0):k.deleteExpando||g!=g.window?delete g[h]:g[h]=null)}}}m.extend({cache:{},noData:{&quot;applet &quot;:!0,&quot;embed &quot;:!0,&quot;object &quot;:&quot;clsid:D27CDB6E-AE6D-11cf-96B8-444553540000&quot;},hasData:function(a){return a=a.nodeType?m.cache[a[m.expando]]:a[m.expando],!!a&amp;&amp;!P(a)},data:function(a,b,c){return Q(a,b,c)},removeData:function(a,b){return R(a,b)},_data:function(a,b,c){return Q(a,b,c,!0)},_removeData:function(a,b){return R(a,b,!0)}}),m.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&amp;&amp;f.attributes;if(void 0===a){if(this.length&amp;&amp;(e=m.data(f),1===f.nodeType&amp;&amp;!m._data(f,&quot;parsedAttrs&quot;))){c=g.length;while(c--)g[c]&amp;&amp;(d=g[c].name,0===d.indexOf(&quot;data-&quot;)&amp;&amp;(d=m.camelCase(d.slice(5)),O(f,d,e[d])));m._data(f,&quot;parsedAttrs&quot;,!0)}return e}return&quot;object&quot;==typeof a?this.each(function(){m.data(this,a)}):arguments.length&gt;1?this.each(function(){m.data(this,a,b)}):f?O(f,a,m.data(f,a)):void 0},removeData:function(a){return this.each(function(){m.removeData(this,a)})}}),m.extend({queue:function(a,b,c){var d;return a?(b=(b||&quot;fx&quot;)+&quot;queue&quot;,d=m._data(a,b),c&amp;&amp;(!d||m.isArray(c)?d=m._data(a,b,m.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||&quot;fx&quot;;var c=m.queue(a,b),d=c.length,e=c.shift(),f=m._queueHooks(a,b),g=function(){m.dequeue(a,b)};&quot;inprogress&quot;===e&amp;&amp;(e=c.shift(),d--),e&amp;&amp;(&quot;fx&quot;===b&amp;&amp;c.unshift(&quot;inprogress&quot;),delete f.stop,e.call(a,g,f)),!d&amp;&amp;f&amp;&amp;f.empty.fire()},_queueHooks:function(a,b){var c=b+&quot;queueHooks&quot;;return m._data(a,c)||m._data(a,c,{empty:m.Callbacks(&quot;once memory&quot;).add(function(){m._removeData(a,b+&quot;queue&quot;),m._removeData(a,c)})})}}),m.fn.extend({queue:function(a,b){var c=2;return&quot;string&quot;!=typeof a&amp;&amp;(b=a,a=&quot;fx&quot;,c--),arguments.length&lt;c?m.queue(this[0],a):void 0===b?this:this.each(function(){var c=m.queue(this,a,b);m._queueHooks(this,a),&quot;fx&quot;===a&amp;&amp;&quot;inprogress&quot;!==c[0]&amp;&amp;m.dequeue(this,a)})},dequeue:function(a){return this.each(function(){m.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||&quot;fx&quot;,[])},promise:function(a,b){var c,d=1,e=m.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};&quot;string&quot;!=typeof a&amp;&amp;(b=a,a=void 0),a=a||&quot;fx&quot;;while(g--)c=m._data(f[g],a+&quot;queueHooks&quot;),c&amp;&amp;c.empty&amp;&amp;(d++,c.empty.add(h));return h(),e.promise(b)}});var S=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=[&quot;Top&quot;,&quot;Right&quot;,&quot;Bottom&quot;,&quot;Left&quot;],U=function(a,b){return a=b||a,&quot;none&quot;===m.css(a,&quot;display&quot;)||!m.contains(a.ownerDocument,a)},V=m.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if(&quot;object&quot;===m.type(c)){e=!0;for(h in c)m.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&amp;&amp;(e=!0,m.isFunction(d)||(g=!0),j&amp;&amp;(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(m(a),c)})),b))for(;i&gt;h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},W=/^(?:checkbox|radio)$/i;!function(){var a=y.createElement(&quot;input&quot;),b=y.createElement(&quot;div&quot;),c=y.createDocumentFragment();if(b.innerHTML=&quot;  &lt;link/&gt;&lt;table&gt;&lt;/table&gt;&lt;a href='/a'&gt;a&lt;/a&gt;&lt;input type='checkbox'/&gt;&quot;,k.leadingWhitespace=3===b.firstChild.nodeType,k.tbody=!b.getElementsByTagName(&quot;tbody&quot;).length,k.htmlSerialize=!!b.getElementsByTagName(&quot;link&quot;).length,k.html5Clone=&quot;&lt;:nav&gt;&lt;/:nav&gt;&quot;!==y.createElement(&quot;nav&quot;).cloneNode(!0).outerHTML,a.type=&quot;checkbox&quot;,a.checked=!0,c.appendChild(a),k.appendChecked=a.checked,b.innerHTML=&quot;&lt;textarea&gt;x&lt;/textarea&gt;&quot;,k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,c.appendChild(b),b.innerHTML=&quot;&lt;input type='radio' checked='checked' name='t'/&gt;&quot;,k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,k.noCloneEvent=!0,b.attachEvent&amp;&amp;(b.attachEvent(&quot;onclick&quot;,function(){k.noCloneEvent=!1}),b.cloneNode(!0).click()),null==k.deleteExpando){k.deleteExpando=!0;try{delete b.test}catch(d){k.deleteExpando=!1}}}(),function(){var b,c,d=y.createElement(&quot;div&quot;);for(b in{submit:!0,change:!0,focusin:!0})c=&quot;on&quot;+b,(k[b+&quot;Bubbles&quot;]=c in a)||(d.setAttribute(c,&quot;t&quot;),k[b+&quot;Bubbles&quot;]=d.attributes[c].expando===!1);d=null}();var X=/^(?:input|select|textarea)$/i,Y=/^key/,Z=/^(?:mouse|pointer|contextmenu)|click/,$=/^(?:focusinfocus|focusoutblur)$/,_=/^([^.]*)(?:\.(.+)|)$/;function ab(){return!0}function bb(){return!1}function cb(){try{return y.activeElement}catch(a){}}m.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o,p,q,r=m._data(a);if(r){c.handler&amp;&amp;(i=c,c=i.handler,e=i.selector),c.guid||(c.guid=m.guid++),(g=r.events)||(g=r.events={}),(k=r.handle)||(k=r.handle=function(a){return typeof m===K||a&amp;&amp;m.event.triggered===a.type?void 0:m.event.dispatch.apply(k.elem,arguments)},k.elem=a),b=(b||&quot;&quot;).match(E)||[&quot;&quot;],h=b.length;while(h--)f=_.exec(b[h])||[],o=q=f[1],p=(f[2]||&quot;&quot;).split(&quot;.&quot;).sort(),o&amp;&amp;(j=m.event.special[o]||{},o=(e?j.delegateType:j.bindType)||o,j=m.event.special[o]||{},l=m.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&amp;&amp;m.expr.match.needsContext.test(e),namespace:p.join(&quot;.&quot;)},i),(n=g[o])||(n=g[o]=[],n.delegateCount=0,j.setup&amp;&amp;j.setup.call(a,d,p,k)!==!1||(a.addEventListener?a.addEventListener(o,k,!1):a.attachEvent&amp;&amp;a.attachEvent(&quot;on&quot;+o,k))),j.add&amp;&amp;(j.add.call(a,l),l.handler.guid||(l.handler.guid=c.guid)),e?n.splice(n.delegateCount++,0,l):n.push(l),m.event.global[o]=!0);a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o,p,q,r=m.hasData(a)&amp;&amp;m._data(a);if(r&amp;&amp;(k=r.events)){b=(b||&quot;&quot;).match(E)||[&quot;&quot;],j=b.length;while(j--)if(h=_.exec(b[j])||[],o=q=h[1],p=(h[2]||&quot;&quot;).split(&quot;.&quot;).sort(),o){l=m.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,n=k[o]||[],h=h[2]&amp;&amp;new RegExp(&quot;(^|\\.)&quot;+p.join(&quot;\\.(?:.*\\.|)&quot;)+&quot;(\\.|$)&quot;),i=f=n.length;while(f--)g=n[f],!e&amp;&amp;q!==g.origType||c&amp;&amp;c.guid!==g.guid||h&amp;&amp;!h.test(g.namespace)||d&amp;&amp;d!==g.selector&amp;&amp;(&quot;**&quot;!==d||!g.selector)||(n.splice(f,1),g.selector&amp;&amp;n.delegateCount--,l.remove&amp;&amp;l.remove.call(a,g));i&amp;&amp;!n.length&amp;&amp;(l.teardown&amp;&amp;l.teardown.call(a,p,r.handle)!==!1||m.removeEvent(a,o,r.handle),delete k[o])}else for(o in k)m.event.remove(a,o+b[j],c,d,!0);m.isEmptyObject(k)&amp;&amp;(delete r.handle,m._removeData(a,&quot;events&quot;))}},trigger:function(b,c,d,e){var f,g,h,i,k,l,n,o=[d||y],p=j.call(b,&quot;type&quot;)?b.type:b,q=j.call(b,&quot;namespace&quot;)?b.namespace.split(&quot;.&quot;):[];if(h=l=d=d||y,3!==d.nodeType&amp;&amp;8!==d.nodeType&amp;&amp;!$.test(p+m.event.triggered)&amp;&amp;(p.indexOf(&quot;.&quot;)&gt;=0&amp;&amp;(q=p.split(&quot;.&quot;),p=q.shift(),q.sort()),g=p.indexOf(&quot;:&quot;)&lt;0&amp;&amp;&quot;on&quot;+p,b=b[m.expando]?b:new m.Event(p,&quot;object&quot;==typeof b&amp;&amp;b),b.isTrigger=e?2:3,b.namespace=q.join(&quot;.&quot;),b.namespace_re=b.namespace?new RegExp(&quot;(^|\\.)&quot;+q.join(&quot;\\.(?:.*\\.|)&quot;)+&quot;(\\.|$)&quot;):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:m.makeArray(c,[b]),k=m.event.special[p]||{},e||!k.trigger||k.trigger.apply(d,c)!==!1)){if(!e&amp;&amp;!k.noBubble&amp;&amp;!m.isWindow(d)){for(i=k.delegateType||p,$.test(i+p)||(h=h.parentNode);h;h=h.parentNode)o.push(h),l=h;l===(d.ownerDocument||y)&amp;&amp;o.push(l.defaultView||l.parentWindow||a)}n=0;while((h=o[n++])&amp;&amp;!b.isPropagationStopped())b.type=n&gt;1?i:k.bindType||p,f=(m._data(h,&quot;events&quot;)||{})[b.type]&amp;&amp;m._data(h,&quot;handle&quot;),f&amp;&amp;f.apply(h,c),f=g&amp;&amp;h[g],f&amp;&amp;f.apply&amp;&amp;m.acceptData(h)&amp;&amp;(b.result=f.apply(h,c),b.result===!1&amp;&amp;b.preventDefault());if(b.type=p,!e&amp;&amp;!b.isDefaultPrevented()&amp;&amp;(!k._default||k._default.apply(o.pop(),c)===!1)&amp;&amp;m.acceptData(d)&amp;&amp;g&amp;&amp;d[p]&amp;&amp;!m.isWindow(d)){l=d[g],l&amp;&amp;(d[g]=null),m.event.triggered=p;try{d[p]()}catch(r){}m.event.triggered=void 0,l&amp;&amp;(d[g]=l)}return b.result}},dispatch:function(a){a=m.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(m._data(this,&quot;events&quot;)||{})[a.type]||[],k=m.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=m.event.handlers.call(this,a,j),b=0;while((f=h[b++])&amp;&amp;!a.isPropagationStopped()){a.currentTarget=f.elem,g=0;while((e=f.handlers[g++])&amp;&amp;!a.isImmediatePropagationStopped())(!a.namespace_re||a.namespace_re.test(e.namespace))&amp;&amp;(a.handleObj=e,a.data=e.data,c=((m.event.special[e.origType]||{}).handle||e.handler).apply(f.elem,i),void 0!==c&amp;&amp;(a.result=c)===!1&amp;&amp;(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&amp;&amp;k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&amp;&amp;i.nodeType&amp;&amp;(!a.button||&quot;click&quot;!==a.type))for(;i!=this;i=i.parentNode||this)if(1===i.nodeType&amp;&amp;(i.disabled!==!0||&quot;click&quot;!==a.type)){for(e=[],f=0;h&gt;f;f++)d=b[f],c=d.selector+&quot; &quot;,void 0===e[c]&amp;&amp;(e[c]=d.needsContext?m(c,this).index(i)&gt;=0:m.find(c,this,null,[i]).length),e[c]&amp;&amp;e.push(d);e.length&amp;&amp;g.push({elem:i,handlers:e})}return h&lt;b.length&amp;&amp;g.push({elem:this,handlers:b.slice(h)}),g},fix:function(a){if(a[m.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];g||(this.fixHooks[e]=g=Z.test(e)?this.mouseHooks:Y.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new m.Event(f),b=d.length;while(b--)c=d[b],a[c]=f[c];return a.target||(a.target=f.srcElement||y),3===a.target.nodeType&amp;&amp;(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:&quot;altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which&quot;.split(&quot; &quot;),fixHooks:{},keyHooks:{props:&quot;char charCode key keyCode&quot;.split(&quot; &quot;),filter:function(a,b){return null==a.which&amp;&amp;(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:&quot;button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement&quot;.split(&quot; &quot;),filter:function(a,b){var c,d,e,f=b.button,g=b.fromElement;return null==a.pageX&amp;&amp;null!=b.clientX&amp;&amp;(d=a.target.ownerDocument||y,e=d.documentElement,c=d.body,a.pageX=b.clientX+(e&amp;&amp;e.scrollLeft||c&amp;&amp;c.scrollLeft||0)-(e&amp;&amp;e.clientLeft||c&amp;&amp;c.clientLeft||0),a.pageY=b.clientY+(e&amp;&amp;e.scrollTop||c&amp;&amp;c.scrollTop||0)-(e&amp;&amp;e.clientTop||c&amp;&amp;c.clientTop||0)),!a.relatedTarget&amp;&amp;g&amp;&amp;(a.relatedTarget=g===a.target?b.toElement:g),a.which||void 0===f||(a.which=1&amp;f?1:2&amp;f?3:4&amp;f?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==cb()&amp;&amp;this.focus)try{return this.focus(),!1}catch(a){}},delegateType:&quot;focusin&quot;},blur:{trigger:function(){return this===cb()&amp;&amp;this.blur?(this.blur(),!1):void 0},delegateType:&quot;focusout&quot;},click:{trigger:function(){return m.nodeName(this,&quot;input&quot;)&amp;&amp;&quot;checkbox&quot;===this.type&amp;&amp;this.click?(this.click(),!1):void 0},_default:function(a){return m.nodeName(a.target,&quot;a&quot;)}},beforeunload:{postDispatch:function(a){void 0!==a.result&amp;&amp;a.originalEvent&amp;&amp;(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=m.extend(new m.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?m.event.trigger(e,null,b):m.event.dispatch.call(b,e),e.isDefaultPrevented()&amp;&amp;c.preventDefault()}},m.removeEvent=y.removeEventListener?function(a,b,c){a.removeEventListener&amp;&amp;a.removeEventListener(b,c,!1)}:function(a,b,c){var d=&quot;on&quot;+b;a.detachEvent&amp;&amp;(typeof a[d]===K&amp;&amp;(a[d]=null),a.detachEvent(d,c))},m.Event=function(a,b){return this instanceof m.Event?(a&amp;&amp;a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&amp;&amp;a.returnValue===!1?ab:bb):this.type=a,b&amp;&amp;m.extend(this,b),this.timeStamp=a&amp;&amp;a.timeStamp||m.now(),void(this[m.expando]=!0)):new m.Event(a,b)},m.Event.prototype={isDefaultPrevented:bb,isPropagationStopped:bb,isImmediatePropagationStopped:bb,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=ab,a&amp;&amp;(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=ab,a&amp;&amp;(a.stopPropagation&amp;&amp;a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=ab,a&amp;&amp;a.stopImmediatePropagation&amp;&amp;a.stopImmediatePropagation(),this.stopPropagation()}},m.each({mouseenter:&quot;mouseover&quot;,mouseleave:&quot;mouseout&quot;,pointerenter:&quot;pointerover&quot;,pointerleave:&quot;pointerout&quot;},function(a,b){m.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&amp;&amp;!m.contains(d,e))&amp;&amp;(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),k.submitBubbles||(m.event.special.submit={setup:function(){return m.nodeName(this,&quot;form&quot;)?!1:void m.event.add(this,&quot;click._submit keypress._submit&quot;,function(a){var b=a.target,c=m.nodeName(b,&quot;input&quot;)||m.nodeName(b,&quot;button&quot;)?b.form:void 0;c&amp;&amp;!m._data(c,&quot;submitBubbles&quot;)&amp;&amp;(m.event.add(c,&quot;submit._submit&quot;,function(a){a._submit_bubble=!0}),m._data(c,&quot;submitBubbles&quot;,!0))})},postDispatch:function(a){a._submit_bubble&amp;&amp;(delete a._submit_bubble,this.parentNode&amp;&amp;!a.isTrigger&amp;&amp;m.event.simulate(&quot;submit&quot;,this.parentNode,a,!0))},teardown:function(){return m.nodeName(this,&quot;form&quot;)?!1:void m.event.remove(this,&quot;._submit&quot;)}}),k.changeBubbles||(m.event.special.change={setup:function(){return X.test(this.nodeName)?((&quot;checkbox&quot;===this.type||&quot;radio&quot;===this.type)&amp;&amp;(m.event.add(this,&quot;propertychange._change&quot;,function(a){&quot;checked&quot;===a.originalEvent.propertyName&amp;&amp;(this._just_changed=!0)}),m.event.add(this,&quot;click._change&quot;,function(a){this._just_changed&amp;&amp;!a.isTrigger&amp;&amp;(this._just_changed=!1),m.event.simulate(&quot;change&quot;,this,a,!0)})),!1):void m.event.add(this,&quot;beforeactivate._change&quot;,function(a){var b=a.target;X.test(b.nodeName)&amp;&amp;!m._data(b,&quot;changeBubbles&quot;)&amp;&amp;(m.event.add(b,&quot;change._change&quot;,function(a){!this.parentNode||a.isSimulated||a.isTrigger||m.event.simulate(&quot;change&quot;,this.parentNode,a,!0)}),m._data(b,&quot;changeBubbles&quot;,!0))})},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||&quot;radio&quot;!==b.type&amp;&amp;&quot;checkbox&quot;!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return m.event.remove(this,&quot;._change&quot;),!X.test(this.nodeName)}}),k.focusinBubbles||m.each({focus:&quot;focusin&quot;,blur:&quot;focusout&quot;},function(a,b){var c=function(a){m.event.simulate(b,a.target,m.event.fix(a),!0)};m.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=m._data(d,b);e||d.addEventListener(a,c,!0),m._data(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=m._data(d,b)-1;e?m._data(d,b,e):(d.removeEventListener(a,c,!0),m._removeData(d,b))}}}),m.fn.extend({on:function(a,b,c,d,e){var f,g;if(&quot;object&quot;==typeof a){&quot;string&quot;!=typeof b&amp;&amp;(c=c||b,b=void 0);for(f in a)this.on(f,b,c,a[f],e);return this}if(null==c&amp;&amp;null==d?(d=b,c=b=void 0):null==d&amp;&amp;(&quot;string&quot;==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=bb;else if(!d)return this;return 1===e&amp;&amp;(g=d,d=function(a){return m().off(a),g.apply(this,arguments)},d.guid=g.guid||(g.guid=m.guid++)),this.each(function(){m.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&amp;&amp;a.preventDefault&amp;&amp;a.handleObj)return d=a.handleObj,m(a.delegateTarget).off(d.namespace?d.origType+&quot;.&quot;+d.namespace:d.origType,d.selector,d.handler),this;if(&quot;object&quot;==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||&quot;function&quot;==typeof b)&amp;&amp;(c=b,b=void 0),c===!1&amp;&amp;(c=bb),this.each(function(){m.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){m.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?m.event.trigger(a,b,c,!0):void 0}});function db(a){var b=eb.split(&quot;|&quot;),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}var eb=&quot;abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video&quot;,fb=/ jQuery\d+=&quot;(?:null|\d+)&quot;/g,gb=new RegExp(&quot;&lt;(?:&quot;+eb+&quot;)[\\s/&gt;]&quot;,&quot;i&quot;),hb=/^\s+/,ib=/&lt;(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^&gt;]*)\/&gt;/gi,jb=/&lt;([\w:]+)/,kb=/&lt;tbody/i,lb=/&lt;|&amp;#?\w+;/,mb=/&lt;(?:script|style|link)/i,nb=/checked\s*(?:[^=]|=\s*.checked.)/i,ob=/^$|\/(?:java|ecma)script/i,pb=/^true\/(.*)/,qb=/^\s*&lt;!(?:\[CDATA\[|--)|(?:\]\]|--)&gt;\s*$/g,rb={option:[1,&quot;&lt;select multiple='multiple'&gt;&quot;,&quot;&lt;/select&gt;&quot;],legend:[1,&quot;&lt;fieldset&gt;&quot;,&quot;&lt;/fieldset&gt;&quot;],area:[1,&quot;&lt;map&gt;&quot;,&quot;&lt;/map&gt;&quot;],param:[1,&quot;&lt;object&gt;&quot;,&quot;&lt;/object&gt;&quot;],thead:[1,&quot;&lt;table&gt;&quot;,&quot;&lt;/table&gt;&quot;],tr:[2,&quot;&lt;table&gt;&lt;tbody&gt;&quot;,&quot;&lt;/tbody&gt;&lt;/table&gt;&quot;],col:[2,&quot;&lt;table&gt;&lt;tbody&gt;&lt;/tbody&gt;&lt;colgroup&gt;&quot;,&quot;&lt;/colgroup&gt;&lt;/table&gt;&quot;],td:[3,&quot;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&quot;,&quot;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&quot;],_default:k.htmlSerialize?[0,&quot;&quot;,&quot;&quot;]:[1,&quot;X&lt;div&gt;&quot;,&quot;&lt;/div&gt;&quot;]},sb=db(y),tb=sb.appendChild(y.createElement(&quot;div&quot;));rb.optgroup=rb.option,rb.tbody=rb.tfoot=rb.colgroup=rb.caption=rb.thead,rb.th=rb.td;function ub(a,b){var c,d,e=0,f=typeof a.getElementsByTagName!==K?a.getElementsByTagName(b||&quot;*&quot;):typeof a.querySelectorAll!==K?a.querySelectorAll(b||&quot;*&quot;):void 0;if(!f)for(f=[],c=a.childNodes||a;null!=(d=c[e]);e++)!b||m.nodeName(d,b)?f.push(d):m.merge(f,ub(d,b));return void 0===b||b&amp;&amp;m.nodeName(a,b)?m.merge([a],f):f}function vb(a){W.test(a.type)&amp;&amp;(a.defaultChecked=a.checked)}function wb(a,b){return m.nodeName(a,&quot;table&quot;)&amp;&amp;m.nodeName(11!==b.nodeType?b:b.firstChild,&quot;tr&quot;)?a.getElementsByTagName(&quot;tbody&quot;)[0]||a.appendChild(a.ownerDocument.createElement(&quot;tbody&quot;)):a}function xb(a){return a.type=(null!==m.find.attr(a,&quot;type&quot;))+&quot;/&quot;+a.type,a}function yb(a){var b=pb.exec(a.type);return b?a.type=b[1]:a.removeAttribute(&quot;type&quot;),a}function zb(a,b){for(var c,d=0;null!=(c=a[d]);d++)m._data(c,&quot;globalEval&quot;,!b||m._data(b[d],&quot;globalEval&quot;))}function Ab(a,b){if(1===b.nodeType&amp;&amp;m.hasData(a)){var c,d,e,f=m._data(a),g=m._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e&gt;d;d++)m.event.add(b,c,h[c][d])}g.data&amp;&amp;(g.data=m.extend({},g.data))}}function Bb(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!k.noCloneEvent&amp;&amp;b[m.expando]){e=m._data(b);for(d in e.events)m.removeEvent(b,d,e.handle);b.removeAttribute(m.expando)}&quot;script&quot;===c&amp;&amp;b.text!==a.text?(xb(b).text=a.text,yb(b)):&quot;object&quot;===c?(b.parentNode&amp;&amp;(b.outerHTML=a.outerHTML),k.html5Clone&amp;&amp;a.innerHTML&amp;&amp;!m.trim(b.innerHTML)&amp;&amp;(b.innerHTML=a.innerHTML)):&quot;input&quot;===c&amp;&amp;W.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&amp;&amp;(b.value=a.value)):&quot;option&quot;===c?b.defaultSelected=b.selected=a.defaultSelected:(&quot;input&quot;===c||&quot;textarea&quot;===c)&amp;&amp;(b.defaultValue=a.defaultValue)}}m.extend({clone:function(a,b,c){var d,e,f,g,h,i=m.contains(a.ownerDocument,a);if(k.html5Clone||m.isXMLDoc(a)||!gb.test(&quot;&lt;&quot;+a.nodeName+&quot;&gt;&quot;)?f=a.cloneNode(!0):(tb.innerHTML=a.outerHTML,tb.removeChild(f=tb.firstChild)),!(k.noCloneEvent&amp;&amp;k.noCloneChecked||1!==a.nodeType&amp;&amp;11!==a.nodeType||m.isXMLDoc(a)))for(d=ub(f),h=ub(a),g=0;null!=(e=h[g]);++g)d[g]&amp;&amp;Bb(e,d[g]);if(b)if(c)for(h=h||ub(a),d=d||ub(f),g=0;null!=(e=h[g]);g++)Ab(e,d[g]);else Ab(a,f);return d=ub(f,&quot;script&quot;),d.length&gt;0&amp;&amp;zb(d,!i&amp;&amp;ub(a,&quot;script&quot;)),d=h=e=null,f},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,l,n=a.length,o=db(b),p=[],q=0;n&gt;q;q++)if(f=a[q],f||0===f)if(&quot;object&quot;===m.type(f))m.merge(p,f.nodeType?[f]:f);else if(lb.test(f)){h=h||o.appendChild(b.createElement(&quot;div&quot;)),i=(jb.exec(f)||[&quot;&quot;,&quot;&quot;])[1].toLowerCase(),l=rb[i]||rb._default,h.innerHTML=l[1]+f.replace(ib,&quot;&lt;$1&gt;&lt;/$2&gt;&quot;)+l[2],e=l[0];while(e--)h=h.lastChild;if(!k.leadingWhitespace&amp;&amp;hb.test(f)&amp;&amp;p.push(b.createTextNode(hb.exec(f)[0])),!k.tbody){f=&quot;table&quot;!==i||kb.test(f)?&quot;&lt;table&gt;&quot;!==l[1]||kb.test(f)?0:h:h.firstChild,e=f&amp;&amp;f.childNodes.length;while(e--)m.nodeName(j=f.childNodes[e],&quot;tbody&quot;)&amp;&amp;!j.childNodes.length&amp;&amp;f.removeChild(j)}m.merge(p,h.childNodes),h.textContent=&quot;&quot;;while(h.firstChild)h.removeChild(h.firstChild);h=o.lastChild}else p.push(b.createTextNode(f));h&amp;&amp;o.removeChild(h),k.appendChecked||m.grep(ub(p,&quot;input&quot;),vb),q=0;while(f=p[q++])if((!d||-1===m.inArray(f,d))&amp;&amp;(g=m.contains(f.ownerDocument,f),h=ub(o.appendChild(f),&quot;script&quot;),g&amp;&amp;zb(h),c)){e=0;while(f=h[e++])ob.test(f.type||&quot;&quot;)&amp;&amp;c.push(f)}return h=null,o},cleanData:function(a,b){for(var d,e,f,g,h=0,i=m.expando,j=m.cache,l=k.deleteExpando,n=m.event.special;null!=(d=a[h]);h++)if((b||m.acceptData(d))&amp;&amp;(f=d[i],g=f&amp;&amp;j[f])){if(g.events)for(e in g.events)n[e]?m.event.remove(d,e):m.removeEvent(d,e,g.handle);j[f]&amp;&amp;(delete j[f],l?delete d[i]:typeof d.removeAttribute!==K?d.removeAttribute(i):d[i]=null,c.push(f))}}}),m.fn.extend({text:function(a){return V(this,function(a){return void 0===a?m.text(this):this.empty().append((this[0]&amp;&amp;this[0].ownerDocument||y).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=wb(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=wb(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&amp;&amp;this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&amp;&amp;this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?m.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||m.cleanData(ub(c)),c.parentNode&amp;&amp;(b&amp;&amp;m.contains(c.ownerDocument,c)&amp;&amp;zb(ub(c,&quot;script&quot;)),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){1===a.nodeType&amp;&amp;m.cleanData(ub(a,!1));while(a.firstChild)a.removeChild(a.firstChild);a.options&amp;&amp;m.nodeName(a,&quot;select&quot;)&amp;&amp;(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return m.clone(this,a,b)})},html:function(a){return V(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a)return 1===b.nodeType?b.innerHTML.replace(fb,&quot;&quot;):void 0;if(!(&quot;string&quot;!=typeof a||mb.test(a)||!k.htmlSerialize&amp;&amp;gb.test(a)||!k.leadingWhitespace&amp;&amp;hb.test(a)||rb[(jb.exec(a)||[&quot;&quot;,&quot;&quot;])[1].toLowerCase()])){a=a.replace(ib,&quot;&lt;$1&gt;&lt;/$2&gt;&quot;);try{for(;d&gt;c;c++)b=this[c]||{},1===b.nodeType&amp;&amp;(m.cleanData(ub(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&amp;&amp;this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,m.cleanData(ub(this)),a&amp;&amp;a.replaceChild(b,this)}),a&amp;&amp;(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,l=this.length,n=this,o=l-1,p=a[0],q=m.isFunction(p);if(q||l&gt;1&amp;&amp;&quot;string&quot;==typeof p&amp;&amp;!k.checkClone&amp;&amp;nb.test(p))return this.each(function(c){var d=n.eq(c);q&amp;&amp;(a[0]=p.call(this,c,d.html())),d.domManip(a,b)});if(l&amp;&amp;(i=m.buildFragment(a,this[0].ownerDocument,!1,this),c=i.firstChild,1===i.childNodes.length&amp;&amp;(i=c),c)){for(g=m.map(ub(i,&quot;script&quot;),xb),f=g.length;l&gt;j;j++)d=i,j!==o&amp;&amp;(d=m.clone(d,!0,!0),f&amp;&amp;m.merge(g,ub(d,&quot;script&quot;))),b.call(this[j],d,j);if(f)for(h=g[g.length-1].ownerDocument,m.map(g,yb),j=0;f&gt;j;j++)d=g[j],ob.test(d.type||&quot;&quot;)&amp;&amp;!m._data(d,&quot;globalEval&quot;)&amp;&amp;m.contains(h,d)&amp;&amp;(d.src?m._evalUrl&amp;&amp;m._evalUrl(d.src):m.globalEval((d.text||d.textContent||d.innerHTML||&quot;&quot;).replace(qb,&quot;&quot;)));i=c=null}return this}}),m.each({appendTo:&quot;append&quot;,prependTo:&quot;prepend&quot;,insertBefore:&quot;before&quot;,insertAfter:&quot;after&quot;,replaceAll:&quot;replaceWith&quot;},function(a,b){m.fn[a]=function(a){for(var c,d=0,e=[],g=m(a),h=g.length-1;h&gt;=d;d++)c=d===h?this:this.clone(!0),m(g[d])[b](c),f.apply(e,c.get());return this.pushStack(e)}});var Cb,Db={};function Eb(b,c){var d,e=m(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&amp;&amp;(d=a.getDefaultComputedStyle(e[0]))?d.display:m.css(e[0],&quot;display&quot;);return e.detach(),f}function Fb(a){var b=y,c=Db[a];return c||(c=Eb(a,b),&quot;none&quot;!==c&amp;&amp;c||(Cb=(Cb||m(&quot;&lt;iframe frameborder='0' width='0' height='0'/&gt;&quot;)).appendTo(b.documentElement),b=(Cb[0].contentWindow||Cb[0].contentDocument).document,b.write(),b.close(),c=Eb(a,b),Cb.detach()),Db[a]=c),c}!function(){var a;k.shrinkWrapBlocks=function(){if(null!=a)return a;a=!1;var b,c,d;return c=y.getElementsByTagName(&quot;body&quot;)[0],c&amp;&amp;c.style?(b=y.createElement(&quot;div&quot;),d=y.createElement(&quot;div&quot;),d.style.cssText=&quot;position:absolute;border:0;width:0;height:0;top:0;left:-9999px&quot;,c.appendChild(d).appendChild(b),typeof b.style.zoom!==K&amp;&amp;(b.style.cssText=&quot;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1&quot;,b.appendChild(y.createElement(&quot;div&quot;)).style.width=&quot;5px&quot;,a=3!==b.offsetWidth),c.removeChild(d),a):void 0}}();var Gb=/^margin/,Hb=new RegExp(&quot;^(&quot;+S+&quot;)(?!px)[a-z%]+$&quot;,&quot;i&quot;),Ib,Jb,Kb=/^(top|right|bottom|left)$/;a.getComputedStyle?(Ib=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)},Jb=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ib(a),g=c?c.getPropertyValue(b)||c[b]:void 0,c&amp;&amp;(&quot;&quot;!==g||m.contains(a.ownerDocument,a)||(g=m.style(a,b)),Hb.test(g)&amp;&amp;Gb.test(b)&amp;&amp;(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0===g?g:g+&quot;&quot;}):y.documentElement.currentStyle&amp;&amp;(Ib=function(a){return a.currentStyle},Jb=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ib(a),g=c?c[b]:void 0,null==g&amp;&amp;h&amp;&amp;h[b]&amp;&amp;(g=h[b]),Hb.test(g)&amp;&amp;!Kb.test(b)&amp;&amp;(d=h.left,e=a.runtimeStyle,f=e&amp;&amp;e.left,f&amp;&amp;(e.left=a.currentStyle.left),h.left=&quot;fontSize&quot;===b?&quot;1em&quot;:g,g=h.pixelLeft+&quot;px&quot;,h.left=d,f&amp;&amp;(e.left=f)),void 0===g?g:g+&quot;&quot;||&quot;auto&quot;});function Lb(a,b){return{get:function(){var c=a();if(null!=c)return c?void delete this.get:(this.get=b).apply(this,arguments)}}}!function(){var b,c,d,e,f,g,h;if(b=y.createElement(&quot;div&quot;),b.innerHTML=&quot;  &lt;link/&gt;&lt;table&gt;&lt;/table&gt;&lt;a href='/a'&gt;a&lt;/a&gt;&lt;input type='checkbox'/&gt;&quot;,d=b.getElementsByTagName(&quot;a&quot;)[0],c=d&amp;&amp;d.style){c.cssText=&quot;float:left;opacity:.5&quot;,k.opacity=&quot;0.5&quot;===c.opacity,k.cssFloat=!!c.cssFloat,b.style.backgroundClip=&quot;content-box&quot;,b.cloneNode(!0).style.backgroundClip=&quot;&quot;,k.clearCloneStyle=&quot;content-box&quot;===b.style.backgroundClip,k.boxSizing=&quot;&quot;===c.boxSizing||&quot;&quot;===c.MozBoxSizing||&quot;&quot;===c.WebkitBoxSizing,m.extend(k,{reliableHiddenOffsets:function(){return null==g&amp;&amp;i(),g},boxSizingReliable:function(){return null==f&amp;&amp;i(),f},pixelPosition:function(){return null==e&amp;&amp;i(),e},reliableMarginRight:function(){return null==h&amp;&amp;i(),h}});function i(){var b,c,d,i;c=y.getElementsByTagName(&quot;body&quot;)[0],c&amp;&amp;c.style&amp;&amp;(b=y.createElement(&quot;div&quot;),d=y.createElement(&quot;div&quot;),d.style.cssText=&quot;position:absolute;border:0;width:0;height:0;top:0;left:-9999px&quot;,c.appendChild(d).appendChild(b),b.style.cssText=&quot;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute&quot;,e=f=!1,h=!0,a.getComputedStyle&amp;&amp;(e=&quot;1%&quot;!==(a.getComputedStyle(b,null)||{}).top,f=&quot;4px&quot;===(a.getComputedStyle(b,null)||{width:&quot;4px&quot;}).width,i=b.appendChild(y.createElement(&quot;div&quot;)),i.style.cssText=b.style.cssText=&quot;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0&quot;,i.style.marginRight=i.style.width=&quot;0&quot;,b.style.width=&quot;1px&quot;,h=!parseFloat((a.getComputedStyle(i,null)||{}).marginRight)),b.innerHTML=&quot;&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;t&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&quot;,i=b.getElementsByTagName(&quot;td&quot;),i[0].style.cssText=&quot;margin:0;border:0;padding:0;display:none&quot;,g=0===i[0].offsetHeight,g&amp;&amp;(i[0].style.display=&quot;&quot;,i[1].style.display=&quot;none&quot;,g=0===i[0].offsetHeight),c.removeChild(d))}}}(),m.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var Mb=/alpha\([^)]*\)/i,Nb=/opacity\s*=\s*([^)]*)/,Ob=/^(none|table(?!-c[ea]).+)/,Pb=new RegExp(&quot;^(&quot;+S+&quot;)(.*)$&quot;,&quot;i&quot;),Qb=new RegExp(&quot;^([+-])=(&quot;+S+&quot;)&quot;,&quot;i&quot;),Rb={position:&quot;absolute&quot;,visibility:&quot;hidden&quot;,display:&quot;block&quot;},Sb={letterSpacing:&quot;0&quot;,fontWeight:&quot;400&quot;},Tb=[&quot;Webkit&quot;,&quot;O&quot;,&quot;Moz&quot;,&quot;ms&quot;];function Ub(a,b){if(b in a)return b;var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=Tb.length;while(e--)if(b=Tb[e]+c,b in a)return b;return d}function Vb(a,b){for(var c,d,e,f=[],g=0,h=a.length;h&gt;g;g++)d=a[g],d.style&amp;&amp;(f[g]=m._data(d,&quot;olddisplay&quot;),c=d.style.display,b?(f[g]||&quot;none&quot;!==c||(d.style.display=&quot;&quot;),&quot;&quot;===d.style.display&amp;&amp;U(d)&amp;&amp;(f[g]=m._data(d,&quot;olddisplay&quot;,Fb(d.nodeName)))):(e=U(d),(c&amp;&amp;&quot;none&quot;!==c||!e)&amp;&amp;m._data(d,&quot;olddisplay&quot;,e?c:m.css(d,&quot;display&quot;))));for(g=0;h&gt;g;g++)d=a[g],d.style&amp;&amp;(b&amp;&amp;&quot;none&quot;!==d.style.display&amp;&amp;&quot;&quot;!==d.style.display||(d.style.display=b?f[g]||&quot;&quot;:&quot;none&quot;));return a}function Wb(a,b,c){var d=Pb.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||&quot;px&quot;):b}function Xb(a,b,c,d,e){for(var f=c===(d?&quot;border&quot;:&quot;content&quot;)?4:&quot;width&quot;===b?1:0,g=0;4&gt;f;f+=2)&quot;margin&quot;===c&amp;&amp;(g+=m.css(a,c+T[f],!0,e)),d?(&quot;content&quot;===c&amp;&amp;(g-=m.css(a,&quot;padding&quot;+T[f],!0,e)),&quot;margin&quot;!==c&amp;&amp;(g-=m.css(a,&quot;border&quot;+T[f]+&quot;Width&quot;,!0,e))):(g+=m.css(a,&quot;padding&quot;+T[f],!0,e),&quot;padding&quot;!==c&amp;&amp;(g+=m.css(a,&quot;border&quot;+T[f]+&quot;Width&quot;,!0,e)));return g}function Yb(a,b,c){var d=!0,e=&quot;width&quot;===b?a.offsetWidth:a.offsetHeight,f=Ib(a),g=k.boxSizing&amp;&amp;&quot;border-box&quot;===m.css(a,&quot;boxSizing&quot;,!1,f);if(0&gt;=e||null==e){if(e=Jb(a,b,f),(0&gt;e||null==e)&amp;&amp;(e=a.style[b]),Hb.test(e))return e;d=g&amp;&amp;(k.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Xb(a,b,c||(g?&quot;border&quot;:&quot;content&quot;),d,f)+&quot;px&quot;}m.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Jb(a,&quot;opacity&quot;);return&quot;&quot;===c?&quot;1&quot;:c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{&quot;float&quot;:k.cssFloat?&quot;cssFloat&quot;:&quot;styleFloat&quot;},style:function(a,b,c,d){if(a&amp;&amp;3!==a.nodeType&amp;&amp;8!==a.nodeType&amp;&amp;a.style){var e,f,g,h=m.camelCase(b),i=a.style;if(b=m.cssProps[h]||(m.cssProps[h]=Ub(i,h)),g=m.cssHooks[b]||m.cssHooks[h],void 0===c)return g&amp;&amp;&quot;get&quot;in g&amp;&amp;void 0!==(e=g.get(a,!1,d))?e:i[b];if(f=typeof c,&quot;string&quot;===f&amp;&amp;(e=Qb.exec(c))&amp;&amp;(c=(e[1]+1)*e[2]+parseFloat(m.css(a,b)),f=&quot;number&quot;),null!=c&amp;&amp;c===c&amp;&amp;(&quot;number&quot;!==f||m.cssNumber[h]||(c+=&quot;px&quot;),k.clearCloneStyle||&quot;&quot;!==c||0!==b.indexOf(&quot;background&quot;)||(i[b]=&quot;inherit&quot;),!(g&amp;&amp;&quot;set&quot;in g&amp;&amp;void 0===(c=g.set(a,c,d)))))try{i[b]=c}catch(j){}}},css:function(a,b,c,d){var e,f,g,h=m.camelCase(b);return b=m.cssProps[h]||(m.cssProps[h]=Ub(a.style,h)),g=m.cssHooks[b]||m.cssHooks[h],g&amp;&amp;&quot;get&quot;in g&amp;&amp;(f=g.get(a,!0,c)),void 0===f&amp;&amp;(f=Jb(a,b,d)),&quot;normal&quot;===f&amp;&amp;b in Sb&amp;&amp;(f=Sb[b]),&quot;&quot;===c||c?(e=parseFloat(f),c===!0||m.isNumeric(e)?e||0:f):f}}),m.each([&quot;height&quot;,&quot;width&quot;],function(a,b){m.cssHooks[b]={get:function(a,c,d){return c?Ob.test(m.css(a,&quot;display&quot;))&amp;&amp;0===a.offsetWidth?m.swap(a,Rb,function(){return Yb(a,b,d)}):Yb(a,b,d):void 0},set:function(a,c,d){var e=d&amp;&amp;Ib(a);return Wb(a,c,d?Xb(a,b,d,k.boxSizing&amp;&amp;&quot;border-box&quot;===m.css(a,&quot;boxSizing&quot;,!1,e),e):0)}}}),k.opacity||(m.cssHooks.opacity={get:function(a,b){return Nb.test((b&amp;&amp;a.currentStyle?a.currentStyle.filter:a.style.filter)||&quot;&quot;)?.01*parseFloat(RegExp.$1)+&quot;&quot;:b?&quot;1&quot;:&quot;&quot;},set:function(a,b){var c=a.style,d=a.currentStyle,e=m.isNumeric(b)?&quot;alpha(opacity=&quot;+100*b+&quot;)&quot;:&quot;&quot;,f=d&amp;&amp;d.filter||c.filter||&quot;&quot;;c.zoom=1,(b&gt;=1||&quot;&quot;===b)&amp;&amp;&quot;&quot;===m.trim(f.replace(Mb,&quot;&quot;))&amp;&amp;c.removeAttribute&amp;&amp;(c.removeAttribute(&quot;filter&quot;),&quot;&quot;===b||d&amp;&amp;!d.filter)||(c.filter=Mb.test(f)?f.replace(Mb,e):f+&quot; &quot;+e)}}),m.cssHooks.marginRight=Lb(k.reliableMarginRight,function(a,b){return b?m.swap(a,{display:&quot;inline-block&quot;},Jb,[a,&quot;marginRight&quot;]):void 0}),m.each({margin:&quot;&quot;,padding:&quot;&quot;,border:&quot;Width&quot;},function(a,b){m.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f=&quot;string&quot;==typeof c?c.split(&quot; &quot;):[c];4&gt;d;d++)e[a+T[d]+b]=f[d]||f[d-2]||f[0];return e}},Gb.test(a)||(m.cssHooks[a+b].set=Wb)}),m.fn.extend({css:function(a,b){return V(this,function(a,b,c){var d,e,f={},g=0;if(m.isArray(b)){for(d=Ib(a),e=b.length;e&gt;g;g++)f[b[g]]=m.css(a,b[g],!1,d);return f}return void 0!==c?m.style(a,b,c):m.css(a,b)},a,b,arguments.length&gt;1)},show:function(){return Vb(this,!0)},hide:function(){return Vb(this)},toggle:function(a){return&quot;boolean&quot;==typeof a?a?this.show():this.hide():this.each(function(){U(this)?m(this).show():m(this).hide()})}});function Zb(a,b,c,d,e){return new Zb.prototype.init(a,b,c,d,e)}m.Tween=Zb,Zb.prototype={constructor:Zb,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||&quot;swing&quot;,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(m.cssNumber[c]?&quot;&quot;:&quot;px&quot;)
},cur:function(){var a=Zb.propHooks[this.prop];return a&amp;&amp;a.get?a.get(this):Zb.propHooks._default.get(this)},run:function(a){var b,c=Zb.propHooks[this.prop];return this.pos=b=this.options.duration?m.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&amp;&amp;this.options.step.call(this.elem,this.now,this),c&amp;&amp;c.set?c.set(this):Zb.propHooks._default.set(this),this}},Zb.prototype.init.prototype=Zb.prototype,Zb.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&amp;&amp;null!=a.elem.style[a.prop]?(b=m.css(a.elem,a.prop,&quot;&quot;),b&amp;&amp;&quot;auto&quot;!==b?b:0):a.elem[a.prop]},set:function(a){m.fx.step[a.prop]?m.fx.step[a.prop](a):a.elem.style&amp;&amp;(null!=a.elem.style[m.cssProps[a.prop]]||m.cssHooks[a.prop])?m.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Zb.propHooks.scrollTop=Zb.propHooks.scrollLeft={set:function(a){a.elem.nodeType&amp;&amp;a.elem.parentNode&amp;&amp;(a.elem[a.prop]=a.now)}},m.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},m.fx=Zb.prototype.init,m.fx.step={};var $b,_b,ac=/^(?:toggle|show|hide)$/,bc=new RegExp(&quot;^(?:([+-])=|)(&quot;+S+&quot;)([a-z%]*)$&quot;,&quot;i&quot;),cc=/queueHooks$/,dc=[ic],ec={&quot;*&quot;:[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=bc.exec(b),f=e&amp;&amp;e[3]||(m.cssNumber[a]?&quot;&quot;:&quot;px&quot;),g=(m.cssNumber[a]||&quot;px&quot;!==f&amp;&amp;+d)&amp;&amp;bc.exec(m.css(c.elem,a)),h=1,i=20;if(g&amp;&amp;g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||&quot;.5&quot;,g/=h,m.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&amp;&amp;1!==h&amp;&amp;--i)}return e&amp;&amp;(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};function fc(){return setTimeout(function(){$b=void 0}),$b=m.now()}function gc(a,b){var c,d={height:a},e=0;for(b=b?1:0;4&gt;e;e+=2-b)c=T[e],d[&quot;margin&quot;+c]=d[&quot;padding&quot;+c]=a;return b&amp;&amp;(d.opacity=d.width=a),d}function hc(a,b,c){for(var d,e=(ec[b]||[]).concat(ec[&quot;*&quot;]),f=0,g=e.length;g&gt;f;f++)if(d=e[f].call(c,b,a))return d}function ic(a,b,c){var d,e,f,g,h,i,j,l,n=this,o={},p=a.style,q=a.nodeType&amp;&amp;U(a),r=m._data(a,&quot;fxshow&quot;);c.queue||(h=m._queueHooks(a,&quot;fx&quot;),null==h.unqueued&amp;&amp;(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,n.always(function(){n.always(function(){h.unqueued--,m.queue(a,&quot;fx&quot;).length||h.empty.fire()})})),1===a.nodeType&amp;&amp;(&quot;height&quot;in b||&quot;width&quot;in b)&amp;&amp;(c.overflow=[p.overflow,p.overflowX,p.overflowY],j=m.css(a,&quot;display&quot;),l=&quot;none&quot;===j?m._data(a,&quot;olddisplay&quot;)||Fb(a.nodeName):j,&quot;inline&quot;===l&amp;&amp;&quot;none&quot;===m.css(a,&quot;float&quot;)&amp;&amp;(k.inlineBlockNeedsLayout&amp;&amp;&quot;inline&quot;!==Fb(a.nodeName)?p.zoom=1:p.display=&quot;inline-block&quot;)),c.overflow&amp;&amp;(p.overflow=&quot;hidden&quot;,k.shrinkWrapBlocks()||n.always(function(){p.overflow=c.overflow[0],p.overflowX=c.overflow[1],p.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],ac.exec(e)){if(delete b[d],f=f||&quot;toggle&quot;===e,e===(q?&quot;hide&quot;:&quot;show&quot;)){if(&quot;show&quot;!==e||!r||void 0===r[d])continue;q=!0}o[d]=r&amp;&amp;r[d]||m.style(a,d)}else j=void 0;if(m.isEmptyObject(o))&quot;inline&quot;===(&quot;none&quot;===j?Fb(a.nodeName):j)&amp;&amp;(p.display=j);else{r?&quot;hidden&quot;in r&amp;&amp;(q=r.hidden):r=m._data(a,&quot;fxshow&quot;,{}),f&amp;&amp;(r.hidden=!q),q?m(a).show():n.done(function(){m(a).hide()}),n.done(function(){var b;m._removeData(a,&quot;fxshow&quot;);for(b in o)m.style(a,b,o[b])});for(d in o)g=hc(q?r[d]:0,d,n),d in r||(r[d]=g.start,q&amp;&amp;(g.end=g.start,g.start=&quot;width&quot;===d||&quot;height&quot;===d?1:0))}}function jc(a,b){var c,d,e,f,g;for(c in a)if(d=m.camelCase(c),e=b[d],f=a[c],m.isArray(f)&amp;&amp;(e=f[1],f=a[c]=f[0]),c!==d&amp;&amp;(a[d]=f,delete a[c]),g=m.cssHooks[d],g&amp;&amp;&quot;expand&quot;in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function kc(a,b,c){var d,e,f=0,g=dc.length,h=m.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=$b||fc(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i&gt;g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1&gt;f&amp;&amp;i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:m.extend({},b),opts:m.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:$b||fc(),duration:c.duration,tweens:[],createTween:function(b,c){var d=m.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d&gt;c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(jc(k,j.opts.specialEasing);g&gt;f;f++)if(d=dc[f].call(j,a,k,j.opts))return d;return m.map(k,hc,j),m.isFunction(j.opts.start)&amp;&amp;j.opts.start.call(a,j),m.fx.timer(m.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}m.Animation=m.extend(kc,{tweener:function(a,b){m.isFunction(a)?(b=a,a=[&quot;*&quot;]):a=a.split(&quot; &quot;);for(var c,d=0,e=a.length;e&gt;d;d++)c=a[d],ec[c]=ec[c]||[],ec[c].unshift(b)},prefilter:function(a,b){b?dc.unshift(a):dc.push(a)}}),m.speed=function(a,b,c){var d=a&amp;&amp;&quot;object&quot;==typeof a?m.extend({},a):{complete:c||!c&amp;&amp;b||m.isFunction(a)&amp;&amp;a,duration:a,easing:c&amp;&amp;b||b&amp;&amp;!m.isFunction(b)&amp;&amp;b};return d.duration=m.fx.off?0:&quot;number&quot;==typeof d.duration?d.duration:d.duration in m.fx.speeds?m.fx.speeds[d.duration]:m.fx.speeds._default,(null==d.queue||d.queue===!0)&amp;&amp;(d.queue=&quot;fx&quot;),d.old=d.complete,d.complete=function(){m.isFunction(d.old)&amp;&amp;d.old.call(this),d.queue&amp;&amp;m.dequeue(this,d.queue)},d},m.fn.extend({fadeTo:function(a,b,c,d){return this.filter(U).css(&quot;opacity&quot;,0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=m.isEmptyObject(a),f=m.speed(b,c,d),g=function(){var b=kc(this,m.extend({},a),f);(e||m._data(this,&quot;finish&quot;))&amp;&amp;b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return&quot;string&quot;!=typeof a&amp;&amp;(c=b,b=a,a=void 0),b&amp;&amp;a!==!1&amp;&amp;this.queue(a||&quot;fx&quot;,[]),this.each(function(){var b=!0,e=null!=a&amp;&amp;a+&quot;queueHooks&quot;,f=m.timers,g=m._data(this);if(e)g[e]&amp;&amp;g[e].stop&amp;&amp;d(g[e]);else for(e in g)g[e]&amp;&amp;g[e].stop&amp;&amp;cc.test(e)&amp;&amp;d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&amp;&amp;f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&amp;&amp;m.dequeue(this,a)})},finish:function(a){return a!==!1&amp;&amp;(a=a||&quot;fx&quot;),this.each(function(){var b,c=m._data(this),d=c[a+&quot;queue&quot;],e=c[a+&quot;queueHooks&quot;],f=m.timers,g=d?d.length:0;for(c.finish=!0,m.queue(this,a,[]),e&amp;&amp;e.stop&amp;&amp;e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&amp;&amp;f[b].queue===a&amp;&amp;(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g&gt;b;b++)d[b]&amp;&amp;d[b].finish&amp;&amp;d[b].finish.call(this);delete c.finish})}}),m.each([&quot;toggle&quot;,&quot;show&quot;,&quot;hide&quot;],function(a,b){var c=m.fn[b];m.fn[b]=function(a,d,e){return null==a||&quot;boolean&quot;==typeof a?c.apply(this,arguments):this.animate(gc(b,!0),a,d,e)}}),m.each({slideDown:gc(&quot;show&quot;),slideUp:gc(&quot;hide&quot;),slideToggle:gc(&quot;toggle&quot;),fadeIn:{opacity:&quot;show&quot;},fadeOut:{opacity:&quot;hide&quot;},fadeToggle:{opacity:&quot;toggle&quot;}},function(a,b){m.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),m.timers=[],m.fx.tick=function(){var a,b=m.timers,c=0;for($b=m.now();c&lt;b.length;c++)a=b[c],a()||b[c]!==a||b.splice(c--,1);b.length||m.fx.stop(),$b=void 0},m.fx.timer=function(a){m.timers.push(a),a()?m.fx.start():m.timers.pop()},m.fx.interval=13,m.fx.start=function(){_b||(_b=setInterval(m.fx.tick,m.fx.interval))},m.fx.stop=function(){clearInterval(_b),_b=null},m.fx.speeds={slow:600,fast:200,_default:400},m.fn.delay=function(a,b){return a=m.fx?m.fx.speeds[a]||a:a,b=b||&quot;fx&quot;,this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a,b,c,d,e;b=y.createElement(&quot;div&quot;),b.setAttribute(&quot;className&quot;,&quot;t&quot;),b.innerHTML=&quot;  &lt;link/&gt;&lt;table&gt;&lt;/table&gt;&lt;a href='/a'&gt;a&lt;/a&gt;&lt;input type='checkbox'/&gt;&quot;,d=b.getElementsByTagName(&quot;a&quot;)[0],c=y.createElement(&quot;select&quot;),e=c.appendChild(y.createElement(&quot;option&quot;)),a=b.getElementsByTagName(&quot;input&quot;)[0],d.style.cssText=&quot;top:1px&quot;,k.getSetAttribute=&quot;t&quot;!==b.className,k.style=/top/.test(d.getAttribute(&quot;style&quot;)),k.hrefNormalized=&quot;/a&quot;===d.getAttribute(&quot;href&quot;),k.checkOn=!!a.value,k.optSelected=e.selected,k.enctype=!!y.createElement(&quot;form&quot;).enctype,c.disabled=!0,k.optDisabled=!e.disabled,a=y.createElement(&quot;input&quot;),a.setAttribute(&quot;value&quot;,&quot;&quot;),k.input=&quot;&quot;===a.getAttribute(&quot;value&quot;),a.value=&quot;t&quot;,a.setAttribute(&quot;type&quot;,&quot;radio&quot;),k.radioValue=&quot;t&quot;===a.value}();var lc=/\r/g;m.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=m.isFunction(a),this.each(function(c){var e;1===this.nodeType&amp;&amp;(e=d?a.call(this,c,m(this).val()):a,null==e?e=&quot;&quot;:&quot;number&quot;==typeof e?e+=&quot;&quot;:m.isArray(e)&amp;&amp;(e=m.map(e,function(a){return null==a?&quot;&quot;:a+&quot;&quot;})),b=m.valHooks[this.type]||m.valHooks[this.nodeName.toLowerCase()],b&amp;&amp;&quot;set&quot;in b&amp;&amp;void 0!==b.set(this,e,&quot;value&quot;)||(this.value=e))});if(e)return b=m.valHooks[e.type]||m.valHooks[e.nodeName.toLowerCase()],b&amp;&amp;&quot;get&quot;in b&amp;&amp;void 0!==(c=b.get(e,&quot;value&quot;))?c:(c=e.value,&quot;string&quot;==typeof c?c.replace(lc,&quot;&quot;):null==c?&quot;&quot;:c)}}}),m.extend({valHooks:{option:{get:function(a){var b=m.find.attr(a,&quot;value&quot;);return null!=b?b:m.trim(m.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f=&quot;select-one&quot;===a.type||0&gt;e,g=f?null:[],h=f?e+1:d.length,i=0&gt;e?h:f?e:0;h&gt;i;i++)if(c=d[i],!(!c.selected&amp;&amp;i!==e||(k.optDisabled?c.disabled:null!==c.getAttribute(&quot;disabled&quot;))||c.parentNode.disabled&amp;&amp;m.nodeName(c.parentNode,&quot;optgroup&quot;))){if(b=m(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=m.makeArray(b),g=e.length;while(g--)if(d=e[g],m.inArray(m.valHooks.option.get(d),f)&gt;=0)try{d.selected=c=!0}catch(h){d.scrollHeight}else d.selected=!1;return c||(a.selectedIndex=-1),e}}}}),m.each([&quot;radio&quot;,&quot;checkbox&quot;],function(){m.valHooks[this]={set:function(a,b){return m.isArray(b)?a.checked=m.inArray(m(a).val(),b)&gt;=0:void 0}},k.checkOn||(m.valHooks[this].get=function(a){return null===a.getAttribute(&quot;value&quot;)?&quot;on&quot;:a.value})});var mc,nc,oc=m.expr.attrHandle,pc=/^(?:checked|selected)$/i,qc=k.getSetAttribute,rc=k.input;m.fn.extend({attr:function(a,b){return V(this,m.attr,a,b,arguments.length&gt;1)},removeAttr:function(a){return this.each(function(){m.removeAttr(this,a)})}}),m.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&amp;&amp;3!==f&amp;&amp;8!==f&amp;&amp;2!==f)return typeof a.getAttribute===K?m.prop(a,b,c):(1===f&amp;&amp;m.isXMLDoc(a)||(b=b.toLowerCase(),d=m.attrHooks[b]||(m.expr.match.bool.test(b)?nc:mc)),void 0===c?d&amp;&amp;&quot;get&quot;in d&amp;&amp;null!==(e=d.get(a,b))?e:(e=m.find.attr(a,b),null==e?void 0:e):null!==c?d&amp;&amp;&quot;set&quot;in d&amp;&amp;void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+&quot;&quot;),c):void m.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&amp;&amp;b.match(E);if(f&amp;&amp;1===a.nodeType)while(c=f[e++])d=m.propFix[c]||c,m.expr.match.bool.test(c)?rc&amp;&amp;qc||!pc.test(c)?a[d]=!1:a[m.camelCase(&quot;default-&quot;+c)]=a[d]=!1:m.attr(a,c,&quot;&quot;),a.removeAttribute(qc?c:d)},attrHooks:{type:{set:function(a,b){if(!k.radioValue&amp;&amp;&quot;radio&quot;===b&amp;&amp;m.nodeName(a,&quot;input&quot;)){var c=a.value;return a.setAttribute(&quot;type&quot;,b),c&amp;&amp;(a.value=c),b}}}}}),nc={set:function(a,b,c){return b===!1?m.removeAttr(a,c):rc&amp;&amp;qc||!pc.test(c)?a.setAttribute(!qc&amp;&amp;m.propFix[c]||c,c):a[m.camelCase(&quot;default-&quot;+c)]=a[c]=!0,c}},m.each(m.expr.match.bool.source.match(/\w+/g),function(a,b){var c=oc[b]||m.find.attr;oc[b]=rc&amp;&amp;qc||!pc.test(b)?function(a,b,d){var e,f;return d||(f=oc[b],oc[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,oc[b]=f),e}:function(a,b,c){return c?void 0:a[m.camelCase(&quot;default-&quot;+b)]?b.toLowerCase():null}}),rc&amp;&amp;qc||(m.attrHooks.value={set:function(a,b,c){return m.nodeName(a,&quot;input&quot;)?void(a.defaultValue=b):mc&amp;&amp;mc.set(a,b,c)}}),qc||(mc={set:function(a,b,c){var d=a.getAttributeNode(c);return d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c)),d.value=b+=&quot;&quot;,&quot;value&quot;===c||b===a.getAttribute(c)?b:void 0}},oc.id=oc.name=oc.coords=function(a,b,c){var d;return c?void 0:(d=a.getAttributeNode(b))&amp;&amp;&quot;&quot;!==d.value?d.value:null},m.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);return c&amp;&amp;c.specified?c.value:void 0},set:mc.set},m.attrHooks.contenteditable={set:function(a,b,c){mc.set(a,&quot;&quot;===b?!1:b,c)}},m.each([&quot;width&quot;,&quot;height&quot;],function(a,b){m.attrHooks[b]={set:function(a,c){return&quot;&quot;===c?(a.setAttribute(b,&quot;auto&quot;),c):void 0}}})),k.style||(m.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+&quot;&quot;}});var sc=/^(?:input|select|textarea|button|object)$/i,tc=/^(?:a|area)$/i;m.fn.extend({prop:function(a,b){return V(this,m.prop,a,b,arguments.length&gt;1)},removeProp:function(a){return a=m.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(b){}})}}),m.extend({propFix:{&quot;for&quot;:&quot;htmlFor&quot;,&quot;class&quot;:&quot;className&quot;},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&amp;&amp;3!==g&amp;&amp;8!==g&amp;&amp;2!==g)return f=1!==g||!m.isXMLDoc(a),f&amp;&amp;(b=m.propFix[b]||b,e=m.propHooks[b]),void 0!==c?e&amp;&amp;&quot;set&quot;in e&amp;&amp;void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&amp;&amp;&quot;get&quot;in e&amp;&amp;null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=m.find.attr(a,&quot;tabindex&quot;);return b?parseInt(b,10):sc.test(a.nodeName)||tc.test(a.nodeName)&amp;&amp;a.href?0:-1}}}}),k.hrefNormalized||m.each([&quot;href&quot;,&quot;src&quot;],function(a,b){m.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),k.optSelected||(m.propHooks.selected={get:function(a){var b=a.parentNode;return b&amp;&amp;(b.selectedIndex,b.parentNode&amp;&amp;b.parentNode.selectedIndex),null}}),m.each([&quot;tabIndex&quot;,&quot;readOnly&quot;,&quot;maxLength&quot;,&quot;cellSpacing&quot;,&quot;cellPadding&quot;,&quot;rowSpan&quot;,&quot;colSpan&quot;,&quot;useMap&quot;,&quot;frameBorder&quot;,&quot;contentEditable&quot;],function(){m.propFix[this.toLowerCase()]=this}),k.enctype||(m.propFix.enctype=&quot;encoding&quot;);var uc=/[\t\r\n\f]/g;m.fn.extend({addClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j=&quot;string&quot;==typeof a&amp;&amp;a;if(m.isFunction(a))return this.each(function(b){m(this).addClass(a.call(this,b,this.className))});if(j)for(b=(a||&quot;&quot;).match(E)||[];i&gt;h;h++)if(c=this[h],d=1===c.nodeType&amp;&amp;(c.className?(&quot; &quot;+c.className+&quot; &quot;).replace(uc,&quot; &quot;):&quot; &quot;)){f=0;while(e=b[f++])d.indexOf(&quot; &quot;+e+&quot; &quot;)&lt;0&amp;&amp;(d+=e+&quot; &quot;);g=m.trim(d),c.className!==g&amp;&amp;(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j=0===arguments.length||&quot;string&quot;==typeof a&amp;&amp;a;if(m.isFunction(a))return this.each(function(b){m(this).removeClass(a.call(this,b,this.className))});if(j)for(b=(a||&quot;&quot;).match(E)||[];i&gt;h;h++)if(c=this[h],d=1===c.nodeType&amp;&amp;(c.className?(&quot; &quot;+c.className+&quot; &quot;).replace(uc,&quot; &quot;):&quot;&quot;)){f=0;while(e=b[f++])while(d.indexOf(&quot; &quot;+e+&quot; &quot;)&gt;=0)d=d.replace(&quot; &quot;+e+&quot; &quot;,&quot; &quot;);g=a?m.trim(d):&quot;&quot;,c.className!==g&amp;&amp;(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return&quot;boolean&quot;==typeof b&amp;&amp;&quot;string&quot;===c?b?this.addClass(a):this.removeClass(a):this.each(m.isFunction(a)?function(c){m(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if(&quot;string&quot;===c){var b,d=0,e=m(this),f=a.match(E)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else(c===K||&quot;boolean&quot;===c)&amp;&amp;(this.className&amp;&amp;m._data(this,&quot;__className__&quot;,this.className),this.className=this.className||a===!1?&quot;&quot;:m._data(this,&quot;__className__&quot;)||&quot;&quot;)})},hasClass:function(a){for(var b=&quot; &quot;+a+&quot; &quot;,c=0,d=this.length;d&gt;c;c++)if(1===this[c].nodeType&amp;&amp;(&quot; &quot;+this[c].className+&quot; &quot;).replace(uc,&quot; &quot;).indexOf(b)&gt;=0)return!0;return!1}}),m.each(&quot;blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu&quot;.split(&quot; &quot;),function(a,b){m.fn[b]=function(a,c){return arguments.length&gt;0?this.on(b,null,a,c):this.trigger(b)}}),m.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,&quot;**&quot;):this.off(b,a||&quot;**&quot;,c)}});var vc=m.now(),wc=/\?/,xc=/(,)|(\[|{)|(}|])|&quot;(?:[^&quot;\\\r\n]|\\[&quot;\\\/bfnrt]|\\u[\da-fA-F]{4})*&quot;\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;m.parseJSON=function(b){if(a.JSON&amp;&amp;a.JSON.parse)return a.JSON.parse(b+&quot;&quot;);var c,d=null,e=m.trim(b+&quot;&quot;);return e&amp;&amp;!m.trim(e.replace(xc,function(a,b,e,f){return c&amp;&amp;b&amp;&amp;(d=0),0===d?a:(c=e||b,d+=!f-!e,&quot;&quot;)}))?Function(&quot;return &quot;+e)():m.error(&quot;Invalid JSON: &quot;+b)},m.parseXML=function(b){var c,d;if(!b||&quot;string&quot;!=typeof b)return null;try{a.DOMParser?(d=new DOMParser,c=d.parseFromString(b,&quot;text/xml&quot;)):(c=new ActiveXObject(&quot;Microsoft.XMLDOM&quot;),c.async=&quot;false&quot;,c.loadXML(b))}catch(e){c=void 0}return c&amp;&amp;c.documentElement&amp;&amp;!c.getElementsByTagName(&quot;parsererror&quot;).length||m.error(&quot;Invalid XML: &quot;+b),c};var yc,zc,Ac=/#.*$/,Bc=/([?&amp;])_=[^&amp;]*/,Cc=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Dc=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ec=/^(?:GET|HEAD)$/,Fc=/^\/\//,Gc=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Hc={},Ic={},Jc=&quot;*/&quot;.concat(&quot;*&quot;);try{zc=location.href}catch(Kc){zc=y.createElement(&quot;a&quot;),zc.href=&quot;&quot;,zc=zc.href}yc=Gc.exec(zc.toLowerCase())||[];function Lc(a){return function(b,c){&quot;string&quot;!=typeof b&amp;&amp;(c=b,b=&quot;*&quot;);var d,e=0,f=b.toLowerCase().match(E)||[];if(m.isFunction(c))while(d=f[e++])&quot;+&quot;===d.charAt(0)?(d=d.slice(1)||&quot;*&quot;,(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function Mc(a,b,c,d){var e={},f=a===Ic;function g(h){var i;return e[h]=!0,m.each(a[h]||[],function(a,h){var j=h(b,c,d);return&quot;string&quot;!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e[&quot;*&quot;]&amp;&amp;g(&quot;*&quot;)}function Nc(a,b){var c,d,e=m.ajaxSettings.flatOptions||{};for(d in b)void 0!==b[d]&amp;&amp;((e[d]?a:c||(c={}))[d]=b[d]);return c&amp;&amp;m.extend(!0,a,c),a}function Oc(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while(&quot;*&quot;===i[0])i.shift(),void 0===e&amp;&amp;(e=a.mimeType||b.getResponseHeader(&quot;Content-Type&quot;));if(e)for(g in h)if(h[g]&amp;&amp;h[g].test(e)){i.unshift(g);break}if(i[0]in c)f=i[0];else{for(g in c){if(!i[0]||a.converters[g+&quot; &quot;+i[0]]){f=g;break}d||(d=g)}f=f||d}return f?(f!==i[0]&amp;&amp;i.unshift(f),c[f]):void 0}function Pc(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&amp;&amp;(c[a.responseFields[f]]=b),!i&amp;&amp;d&amp;&amp;a.dataFilter&amp;&amp;(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if(&quot;*&quot;===f)f=i;else if(&quot;*&quot;!==i&amp;&amp;i!==f){if(g=j[i+&quot; &quot;+f]||j[&quot;* &quot;+f],!g)for(e in j)if(h=e.split(&quot; &quot;),h[1]===f&amp;&amp;(g=j[i+&quot; &quot;+h[0]]||j[&quot;* &quot;+h[0]])){g===!0?g=j[e]:j[e]!==!0&amp;&amp;(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&amp;&amp;a[&quot;throws&quot;])b=g(b);else try{b=g(b)}catch(l){return{state:&quot;parsererror&quot;,error:g?l:&quot;No conversion from &quot;+i+&quot; to &quot;+f}}}return{state:&quot;success&quot;,data:b}}m.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:zc,type:&quot;GET&quot;,isLocal:Dc.test(yc[1]),global:!0,processData:!0,async:!0,contentType:&quot;application/x-www-form-urlencoded; charset=UTF-8&quot;,accepts:{&quot;*&quot;:Jc,text:&quot;text/plain&quot;,html:&quot;text/html&quot;,xml:&quot;application/xml, text/xml&quot;,json:&quot;application/json, text/javascript&quot;},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:&quot;responseXML&quot;,text:&quot;responseText&quot;,json:&quot;responseJSON&quot;},converters:{&quot;* text&quot;:String,&quot;text html&quot;:!0,&quot;text json&quot;:m.parseJSON,&quot;text xml&quot;:m.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?Nc(Nc(a,m.ajaxSettings),b):Nc(m.ajaxSettings,a)},ajaxPrefilter:Lc(Hc),ajaxTransport:Lc(Ic),ajax:function(a,b){&quot;object&quot;==typeof a&amp;&amp;(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=m.ajaxSetup({},b),l=k.context||k,n=k.context&amp;&amp;(l.nodeType||l.jquery)?m(l):m.event,o=m.Deferred(),p=m.Callbacks(&quot;once memory&quot;),q=k.statusCode||{},r={},s={},t=0,u=&quot;canceled&quot;,v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!j){j={};while(b=Cc.exec(f))j[b[1].toLowerCase()]=b[2]}b=j[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?f:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a)if(2&gt;t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return i&amp;&amp;i.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||zc)+&quot;&quot;).replace(Ac,&quot;&quot;).replace(Fc,yc[1]+&quot;//&quot;),k.type=b.method||b.type||k.method||k.type,k.dataTypes=m.trim(k.dataType||&quot;*&quot;).toLowerCase().match(E)||[&quot;&quot;],null==k.crossDomain&amp;&amp;(c=Gc.exec(k.url.toLowerCase()),k.crossDomain=!(!c||c[1]===yc[1]&amp;&amp;c[2]===yc[2]&amp;&amp;(c[3]||(&quot;http:&quot;===c[1]?&quot;80&quot;:&quot;443&quot;))===(yc[3]||(&quot;http:&quot;===yc[1]?&quot;80&quot;:&quot;443&quot;)))),k.data&amp;&amp;k.processData&amp;&amp;&quot;string&quot;!=typeof k.data&amp;&amp;(k.data=m.param(k.data,k.traditional)),Mc(Hc,k,b,v),2===t)return v;h=k.global,h&amp;&amp;0===m.active++&amp;&amp;m.event.trigger(&quot;ajaxStart&quot;),k.type=k.type.toUpperCase(),k.hasContent=!Ec.test(k.type),e=k.url,k.hasContent||(k.data&amp;&amp;(e=k.url+=(wc.test(e)?&quot;&amp;&quot;:&quot;?&quot;)+k.data,delete k.data),k.cache===!1&amp;&amp;(k.url=Bc.test(e)?e.replace(Bc,&quot;$1_=&quot;+vc++):e+(wc.test(e)?&quot;&amp;&quot;:&quot;?&quot;)+&quot;_=&quot;+vc++)),k.ifModified&amp;&amp;(m.lastModified[e]&amp;&amp;v.setRequestHeader(&quot;If-Modified-Since&quot;,m.lastModified[e]),m.etag[e]&amp;&amp;v.setRequestHeader(&quot;If-None-Match&quot;,m.etag[e])),(k.data&amp;&amp;k.hasContent&amp;&amp;k.contentType!==!1||b.contentType)&amp;&amp;v.setRequestHeader(&quot;Content-Type&quot;,k.contentType),v.setRequestHeader(&quot;Accept&quot;,k.dataTypes[0]&amp;&amp;k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+(&quot;*&quot;!==k.dataTypes[0]?&quot;, &quot;+Jc+&quot;; q=0.01&quot;:&quot;&quot;):k.accepts[&quot;*&quot;]);for(d in k.headers)v.setRequestHeader(d,k.headers[d]);if(k.beforeSend&amp;&amp;(k.beforeSend.call(l,v,k)===!1||2===t))return v.abort();u=&quot;abort&quot;;for(d in{success:1,error:1,complete:1})v[d](k[d]);if(i=Mc(Ic,k,b,v)){v.readyState=1,h&amp;&amp;n.trigger(&quot;ajaxSend&quot;,[v,k]),k.async&amp;&amp;k.timeout&gt;0&amp;&amp;(g=setTimeout(function(){v.abort(&quot;timeout&quot;)},k.timeout));try{t=1,i.send(r,x)}catch(w){if(!(2&gt;t))throw w;x(-1,w)}}else x(-1,&quot;No Transport&quot;);function x(a,b,c,d){var j,r,s,u,w,x=b;2!==t&amp;&amp;(t=2,g&amp;&amp;clearTimeout(g),i=void 0,f=d||&quot;&quot;,v.readyState=a&gt;0?4:0,j=a&gt;=200&amp;&amp;300&gt;a||304===a,c&amp;&amp;(u=Oc(k,v,c)),u=Pc(k,u,v,j),j?(k.ifModified&amp;&amp;(w=v.getResponseHeader(&quot;Last-Modified&quot;),w&amp;&amp;(m.lastModified[e]=w),w=v.getResponseHeader(&quot;etag&quot;),w&amp;&amp;(m.etag[e]=w)),204===a||&quot;HEAD&quot;===k.type?x=&quot;nocontent&quot;:304===a?x=&quot;notmodified&quot;:(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&amp;&amp;(x=&quot;error&quot;,0&gt;a&amp;&amp;(a=0))),v.status=a,v.statusText=(b||x)+&quot;&quot;,j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,h&amp;&amp;n.trigger(j?&quot;ajaxSuccess&quot;:&quot;ajaxError&quot;,[v,k,j?r:s]),p.fireWith(l,[v,x]),h&amp;&amp;(n.trigger(&quot;ajaxComplete&quot;,[v,k]),--m.active||m.event.trigger(&quot;ajaxStop&quot;)))}return v},getJSON:function(a,b,c){return m.get(a,b,c,&quot;json&quot;)},getScript:function(a,b){return m.get(a,void 0,b,&quot;script&quot;)}}),m.each([&quot;get&quot;,&quot;post&quot;],function(a,b){m[b]=function(a,c,d,e){return m.isFunction(c)&amp;&amp;(e=e||d,d=c,c=void 0),m.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),m.each([&quot;ajaxStart&quot;,&quot;ajaxStop&quot;,&quot;ajaxComplete&quot;,&quot;ajaxError&quot;,&quot;ajaxSuccess&quot;,&quot;ajaxSend&quot;],function(a,b){m.fn[b]=function(a){return this.on(b,a)}}),m._evalUrl=function(a){return m.ajax({url:a,type:&quot;GET&quot;,dataType:&quot;script&quot;,async:!1,global:!1,&quot;throws&quot;:!0})},m.fn.extend({wrapAll:function(a){if(m.isFunction(a))return this.each(function(b){m(this).wrapAll(a.call(this,b))});if(this[0]){var b=m(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&amp;&amp;b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&amp;&amp;1===a.firstChild.nodeType)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return this.each(m.isFunction(a)?function(b){m(this).wrapInner(a.call(this,b))}:function(){var b=m(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=m.isFunction(a);return this.each(function(c){m(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){m.nodeName(this,&quot;body&quot;)||m(this).replaceWith(this.childNodes)}).end()}}),m.expr.filters.hidden=function(a){return a.offsetWidth&lt;=0&amp;&amp;a.offsetHeight&lt;=0||!k.reliableHiddenOffsets()&amp;&amp;&quot;none&quot;===(a.style&amp;&amp;a.style.display||m.css(a,&quot;display&quot;))},m.expr.filters.visible=function(a){return!m.expr.filters.hidden(a)};var Qc=/%20/g,Rc=/\[\]$/,Sc=/\r?\n/g,Tc=/^(?:submit|button|image|reset|file)$/i,Uc=/^(?:input|select|textarea|keygen)/i;function Vc(a,b,c,d){var e;if(m.isArray(b))m.each(b,function(b,e){c||Rc.test(a)?d(a,e):Vc(a+&quot;[&quot;+(&quot;object&quot;==typeof e?b:&quot;&quot;)+&quot;]&quot;,e,c,d)});else if(c||&quot;object&quot;!==m.type(b))d(a,b);else for(e in b)Vc(a+&quot;[&quot;+e+&quot;]&quot;,b[e],c,d)}m.param=function(a,b){var c,d=[],e=function(a,b){b=m.isFunction(b)?b():null==b?&quot;&quot;:b,d[d.length]=encodeURIComponent(a)+&quot;=&quot;+encodeURIComponent(b)};if(void 0===b&amp;&amp;(b=m.ajaxSettings&amp;&amp;m.ajaxSettings.traditional),m.isArray(a)||a.jquery&amp;&amp;!m.isPlainObject(a))m.each(a,function(){e(this.name,this.value)});else for(c in a)Vc(c,a[c],b,e);return d.join(&quot;&amp;&quot;).replace(Qc,&quot;+&quot;)},m.fn.extend({serialize:function(){return m.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=m.prop(this,&quot;elements&quot;);return a?m.makeArray(a):this}).filter(function(){var a=this.type;return this.name&amp;&amp;!m(this).is(&quot;:disabled&quot;)&amp;&amp;Uc.test(this.nodeName)&amp;&amp;!Tc.test(a)&amp;&amp;(this.checked||!W.test(a))}).map(function(a,b){var c=m(this).val();return null==c?null:m.isArray(c)?m.map(c,function(a){return{name:b.name,value:a.replace(Sc,&quot;\r\n&quot;)}}):{name:b.name,value:c.replace(Sc,&quot;\r\n&quot;)}}).get()}}),m.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){return!this.isLocal&amp;&amp;/^(get|post|head|put|delete|options)$/i.test(this.type)&amp;&amp;Zc()||$c()}:Zc;var Wc=0,Xc={},Yc=m.ajaxSettings.xhr();a.ActiveXObject&amp;&amp;m(a).on(&quot;unload&quot;,function(){for(var a in Xc)Xc[a](void 0,!0)}),k.cors=!!Yc&amp;&amp;&quot;withCredentials&quot;in Yc,Yc=k.ajax=!!Yc,Yc&amp;&amp;m.ajaxTransport(function(a){if(!a.crossDomain||k.cors){var b;return{send:function(c,d){var e,f=a.xhr(),g=++Wc;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&amp;&amp;f.overrideMimeType&amp;&amp;f.overrideMimeType(a.mimeType),a.crossDomain||c[&quot;X-Requested-With&quot;]||(c[&quot;X-Requested-With&quot;]=&quot;XMLHttpRequest&quot;);for(e in c)void 0!==c[e]&amp;&amp;f.setRequestHeader(e,c[e]+&quot;&quot;);f.send(a.hasContent&amp;&amp;a.data||null),b=function(c,e){var h,i,j;if(b&amp;&amp;(e||4===f.readyState))if(delete Xc[g],b=void 0,f.onreadystatechange=m.noop,e)4!==f.readyState&amp;&amp;f.abort();else{j={},h=f.status,&quot;string&quot;==typeof f.responseText&amp;&amp;(j.text=f.responseText);try{i=f.statusText}catch(k){i=&quot;&quot;}h||!a.isLocal||a.crossDomain?1223===h&amp;&amp;(h=204):h=j.text?200:404}j&amp;&amp;d(h,i,j,f.getAllResponseHeaders())},a.async?4===f.readyState?setTimeout(b):f.onreadystatechange=Xc[g]=b:b()},abort:function(){b&amp;&amp;b(void 0,!0)}}}});function Zc(){try{return new a.XMLHttpRequest}catch(b){}}function $c(){try{return new a.ActiveXObject(&quot;Microsoft.XMLHTTP&quot;)}catch(b){}}m.ajaxSetup({accepts:{script:&quot;text/javascript, application/javascript, application/ecmascript, application/x-ecmascript&quot;},contents:{script:/(?:java|ecma)script/},converters:{&quot;text script&quot;:function(a){return m.globalEval(a),a}}}),m.ajaxPrefilter(&quot;script&quot;,function(a){void 0===a.cache&amp;&amp;(a.cache=!1),a.crossDomain&amp;&amp;(a.type=&quot;GET&quot;,a.global=!1)}),m.ajaxTransport(&quot;script&quot;,function(a){if(a.crossDomain){var b,c=y.head||m(&quot;head&quot;)[0]||y.documentElement;return{send:function(d,e){b=y.createElement(&quot;script&quot;),b.async=!0,a.scriptCharset&amp;&amp;(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||/loaded|complete/.test(b.readyState))&amp;&amp;(b.onload=b.onreadystatechange=null,b.parentNode&amp;&amp;b.parentNode.removeChild(b),b=null,c||e(200,&quot;success&quot;))},c.insertBefore(b,c.firstChild)},abort:function(){b&amp;&amp;b.onload(void 0,!0)}}}});var _c=[],ad=/(=)\?(?=&amp;|$)|\?\?/;m.ajaxSetup({jsonp:&quot;callback&quot;,jsonpCallback:function(){var a=_c.pop()||m.expando+&quot;_&quot;+vc++;return this[a]=!0,a}}),m.ajaxPrefilter(&quot;json jsonp&quot;,function(b,c,d){var e,f,g,h=b.jsonp!==!1&amp;&amp;(ad.test(b.url)?&quot;url&quot;:&quot;string&quot;==typeof b.data&amp;&amp;!(b.contentType||&quot;&quot;).indexOf(&quot;application/x-www-form-urlencoded&quot;)&amp;&amp;ad.test(b.data)&amp;&amp;&quot;data&quot;);return h||&quot;jsonp&quot;===b.dataTypes[0]?(e=b.jsonpCallback=m.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(ad,&quot;$1&quot;+e):b.jsonp!==!1&amp;&amp;(b.url+=(wc.test(b.url)?&quot;&amp;&quot;:&quot;?&quot;)+b.jsonp+&quot;=&quot;+e),b.converters[&quot;script json&quot;]=function(){return g||m.error(e+&quot; was not called&quot;),g[0]},b.dataTypes[0]=&quot;json&quot;,f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&amp;&amp;(b.jsonpCallback=c.jsonpCallback,_c.push(e)),g&amp;&amp;m.isFunction(f)&amp;&amp;f(g[0]),g=f=void 0}),&quot;script&quot;):void 0}),m.parseHTML=function(a,b,c){if(!a||&quot;string&quot;!=typeof a)return null;&quot;boolean&quot;==typeof b&amp;&amp;(c=b,b=!1),b=b||y;var d=u.exec(a),e=!c&amp;&amp;[];return d?[b.createElement(d[1])]:(d=m.buildFragment([a],b,e),e&amp;&amp;e.length&amp;&amp;m(e).remove(),m.merge([],d.childNodes))};var bd=m.fn.load;m.fn.load=function(a,b,c){if(&quot;string&quot;!=typeof a&amp;&amp;bd)return bd.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(&quot; &quot;);return h&gt;=0&amp;&amp;(d=m.trim(a.slice(h,a.length)),a=a.slice(0,h)),m.isFunction(b)?(c=b,b=void 0):b&amp;&amp;&quot;object&quot;==typeof b&amp;&amp;(f=&quot;POST&quot;),g.length&gt;0&amp;&amp;m.ajax({url:a,type:f,dataType:&quot;html&quot;,data:b}).done(function(a){e=arguments,g.html(d?m(&quot;&lt;div&gt;&quot;).append(m.parseHTML(a)).find(d):a)}).complete(c&amp;&amp;function(a,b){g.each(c,e||[a.responseText,b,a])}),this},m.expr.filters.animated=function(a){return m.grep(m.timers,function(b){return a===b.elem}).length};var cd=a.document.documentElement;function dd(a){return m.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}m.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=m.css(a,&quot;position&quot;),l=m(a),n={};&quot;static&quot;===k&amp;&amp;(a.style.position=&quot;relative&quot;),h=l.offset(),f=m.css(a,&quot;top&quot;),i=m.css(a,&quot;left&quot;),j=(&quot;absolute&quot;===k||&quot;fixed&quot;===k)&amp;&amp;m.inArray(&quot;auto&quot;,[f,i])&gt;-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),m.isFunction(b)&amp;&amp;(b=b.call(a,c,h)),null!=b.top&amp;&amp;(n.top=b.top-h.top+g),null!=b.left&amp;&amp;(n.left=b.left-h.left+e),&quot;using&quot;in b?b.using.call(a,n):l.css(n)}},m.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){m.offset.setOffset(this,a,b)});var b,c,d={top:0,left:0},e=this[0],f=e&amp;&amp;e.ownerDocument;if(f)return b=f.documentElement,m.contains(b,e)?(typeof e.getBoundingClientRect!==K&amp;&amp;(d=e.getBoundingClientRect()),c=dd(f),{top:d.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:d.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):d},position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return&quot;fixed&quot;===m.css(d,&quot;position&quot;)?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),m.nodeName(a[0],&quot;html&quot;)||(c=a.offset()),c.top+=m.css(a[0],&quot;borderTopWidth&quot;,!0),c.left+=m.css(a[0],&quot;borderLeftWidth&quot;,!0)),{top:b.top-c.top-m.css(d,&quot;marginTop&quot;,!0),left:b.left-c.left-m.css(d,&quot;marginLeft&quot;,!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||cd;while(a&amp;&amp;!m.nodeName(a,&quot;html&quot;)&amp;&amp;&quot;static&quot;===m.css(a,&quot;position&quot;))a=a.offsetParent;return a||cd})}}),m.each({scrollLeft:&quot;pageXOffset&quot;,scrollTop:&quot;pageYOffset&quot;},function(a,b){var c=/Y/.test(b);m.fn[a]=function(d){return V(this,function(a,d,e){var f=dd(a);return void 0===e?f?b in f?f[b]:f.document.documentElement[d]:a[d]:void(f?f.scrollTo(c?m(f).scrollLeft():e,c?e:m(f).scrollTop()):a[d]=e)},a,d,arguments.length,null)}}),m.each([&quot;top&quot;,&quot;left&quot;],function(a,b){m.cssHooks[b]=Lb(k.pixelPosition,function(a,c){return c?(c=Jb(a,b),Hb.test(c)?m(a).position()[b]+&quot;px&quot;:c):void 0})}),m.each({Height:&quot;height&quot;,Width:&quot;width&quot;},function(a,b){m.each({padding:&quot;inner&quot;+a,content:b,&quot;&quot;:&quot;outer&quot;+a},function(c,d){m.fn[d]=function(d,e){var f=arguments.length&amp;&amp;(c||&quot;boolean&quot;!=typeof d),g=c||(d===!0||e===!0?&quot;margin&quot;:&quot;border&quot;);return V(this,function(b,c,d){var e;return m.isWindow(b)?b.document.documentElement[&quot;client&quot;+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body[&quot;scroll&quot;+a],e[&quot;scroll&quot;+a],b.body[&quot;offset&quot;+a],e[&quot;offset&quot;+a],e[&quot;client&quot;+a])):void 0===d?m.css(b,c,g):m.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),m.fn.size=function(){return this.length},m.fn.andSelf=m.fn.addBack,&quot;function&quot;==typeof define&amp;&amp;define.amd&amp;&amp;define(&quot;jquery&quot;,[],function(){return m});var ed=a.jQuery,fd=a.$;return m.noConflict=function(b){return a.$===m&amp;&amp;(a.$=fd),b&amp;&amp;a.jQuery===m&amp;&amp;(a.jQuery=ed),m},typeof b===K&amp;&amp;(a.jQuery=a.$=m),m});
//}}}</pre>
</div>
<div title="jQueryListnavPlugin" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405110222" modified="201405140529" tags="systemConfig excludeTimeline systemConfigDisable" content-type="text/x-tiddlywiki" changecount="3">
<pre>/*
*
* jQuery listnav plugin
* Copyright (c) 2009 iHwy, Inc.
* Author: Jack Killpatrick
*
* Version 2.1 (08/09/2009)
* Requires jQuery 1.3.2, jquery 1.2.6 or jquery 1.2.x plus the jquery dimensions plugin
*
* Visit http://www.ihwy.com/labs/jquery-listnav-plugin.aspx for more information.
*
* Dual licensed under the MIT and GPL licenses:
*   http://www.opensource.org/licenses/mit-license.php
*   http://www.gnu.org/licenses/gpl.html
*
*/
//{{{
(function($) {
	$.fn.listnav = function(options) {
		var opts = $.extend({}, $.fn.listnav.defaults, options);
		var letters = ['_', 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z', '-'];
		var firstClick = false;
		opts.prefixes = $.map(opts.prefixes, function(n) { return n.toLowerCase(); });

		return this.each(function() {
			var $wrapper, list, $list, $letters, $letterCount, id;
			id = this.id;
			$wrapper = $('#' + id + '-nav'); // user must abide by the convention: &lt;ul id=&quot;myList&quot;&gt; for list and &lt;div id=&quot;myList-nav&quot;&gt; for nav wrapper
			$list = $(this);

			var counts = {}, allCount = 0, isAll = true, numCount = 0, prevLetter = '';

			function init() {
				$wrapper.append(createLettersHtml());

				$letters = $('.ln-letters', $wrapper).slice(0, 1); // will always be a single item
				if (opts.showCounts) $letterCount = $('.ln-letter-count', $wrapper).slice(0, 1); // will always be a single item

				addClasses();
				addNoMatchLI();
				if (opts.flagDisabled) addDisabledClass();
				bindHandlers();

				if (!opts.includeAll) $list.show(); // show the list in case the recommendation for includeAll=false was taken

				// remove nav items we don't need
				//
				if (!opts.includeAll) $('.all', $letters).remove();
				if (!opts.includeNums) $('._', $letters).remove();
				if (!opts.includeOther) $('.-', $letters).remove();

				$(':last', $letters).addClass('ln-last'); // allows for styling a case where last item needs right border set (because items before that only have top, left and bottom so that border between items isn't doubled)

				if ($.cookie &amp;&amp; (opts.cookieName != null)) {
					var cookieLetter = $.cookie(opts.cookieName);
					if (cookieLetter != null) opts.initLetter = cookieLetter;
				}

				// decide what to show first
				//
				if (opts.initLetter != '') {
					firstClick = true;
					$('.' + opts.initLetter.toLowerCase(), $letters).slice(0, 1).click(); // click the initLetter if there was one
				}
				else {
					if (opts.includeAll) $('.all', $letters).addClass('ln-selected'); // showing all: we don't need to click this: the whole list is already loaded
					else { // ALL link is hidden, click the first letter that will display LI's
						for (var i = ((opts.includeNums) ? 0 : 1); i &lt; letters.length; i++) {
							if (counts[letters[i]] &gt; 0) {
								firstClick = true;
								$('.' + letters[i], $letters).slice(0, 1).click();
								break;
							}
						}
					}
				}
			}

			// positions the letter count div above the letter links (so we only have to do it once: after this we just change it's left position via mouseover)
			//
			function setLetterCountTop() {
				$letterCount.css({ top: $('.a', $letters).slice(0, 1).offset({ margin: false, border: true }).top - $letterCount.outerHeight({ margin: true }) }); // note: don't set top based on '.all': it might not be visible
			}

			// adds a class to each LI that has text content inside of it (ie, inside an &lt;a&gt;, a &lt;div&gt;, nested DOM nodes, etc)
			//
			function addClasses() {
				var str, firstChar, firstWord, spl, $this, hasPrefixes = (opts.prefixes.length &gt; 0);
				$($list).children().each(function() {
					$this = $(this), firstChar = '', str = $.trim($this.text()).toLowerCase();
					if (str != '') {
						if (hasPrefixes) {
							spl = str.split(' ');
							if ((spl.length &gt; 1) &amp;&amp; ($.inArray(spl[0], opts.prefixes) &gt; -1)) {
								firstChar = spl[1].charAt(0);
								addLetterClass(firstChar, $this, true);
							}
						}
						firstChar = str.charAt(0);
						addLetterClass(firstChar, $this);
					}
				});
			}

			function addLetterClass(firstChar, $el, isPrefix) {
				if (/\W/.test(firstChar)) firstChar = '-'; // not A-Z, a-z or 0-9, so considered &quot;other&quot;
				if (!isNaN(firstChar)) firstChar = '_'; // use '_' if the first char is a number
				$el.addClass('ln-' + firstChar);

				if (counts[firstChar] == undefined) counts[firstChar] = 0;
				counts[firstChar]++;
				if (!isPrefix) allCount++;
			}

			function addDisabledClass() {
				for (var i = 0; i &lt; letters.length; i++) {
					if (counts[letters[i]] == undefined) $('.' + letters[i], $letters).addClass('ln-disabled');
				}
			}

			function addNoMatchLI() {
				$list.append('&lt;li class=&quot;ln-no-match&quot; style=&quot;display:none&quot;&gt;' + opts.noMatchText + '&lt;/li&gt;');
			}

			function getLetterCount(el) {
				if ($(el).hasClass('all')) return allCount;
				else {
					var count = counts[$(el).attr('class').split(' ')[0]];
					return (count != undefined) ? count : 0; // some letters may not have a count in the hash
				}
			}

			function bindHandlers() {

				// sets the top position of the count div in case something above it on the page has resized
				//
				if (opts.showCounts) {
					$wrapper.mouseover(function() {
						setLetterCountTop();
					});
				}

				// mouseover for each letter: shows the count above the letter
				//
				if (opts.showCounts) {
					$('a', $letters).mouseover(function() {
						var left = $(this).position().left;
						var width = ($(this).outerWidth({ margin: true }) - 1) + 'px'; // the -1 is to tweak the width a bit due to a seeming inaccuracy in jquery ui/dimensions outerWidth (same result in FF2 and IE6/7)
						var count = getLetterCount(this);
						$letterCount.css({ left: left, width: width }).text(count).show(); // set left position and width of letter count, set count text and show it
					});

					// mouseout for each letter: hide the count
					//
					$('a', $letters).mouseout(function() {
						$letterCount.hide();
					});
				}

				// click handler for letters: shows/hides relevant LI's
				//
				$('a', $letters).click(function() {
					$('a.ln-selected', $letters).removeClass('ln-selected');

					var letter = $(this).attr('class').split(' ')[0];

					if (letter == 'all') {
						$list.children().show();
						$list.children('.ln-no-match').hide();
						isAll = true;
					} else {
						if (isAll) {
							$list.children().hide();
							isAll = false;
						} else if (prevLetter != '') $list.children('.ln-' + prevLetter).hide();

						var count = getLetterCount(this);
						if (count &gt; 0) {
							$list.children('.ln-no-match').hide(); // in case it's showing
							$list.children('.ln-' + letter).show();
						}
						else $list.children('.ln-no-match').show();

						prevLetter = letter;
					}

					if ($.cookie &amp;&amp; (opts.cookieName != null)) $.cookie(opts.cookieName, letter);


					$(this).addClass('ln-selected');
					$(this).blur();
					if (!firstClick &amp;&amp; (opts.onClick != null)) opts.onClick(letter);
					else firstClick = false;
					return false;
				});
			}

			// creates the HTML for the letter links
			//	
			function createLettersHtml() {
				var html = [];
				for (var i = 1; i &lt; letters.length; i++) {
					if (html.length == 0) html.push('&lt;a class=&quot;all&quot; href=&quot;#&quot;&gt;ALL&lt;/a&gt;&lt;a class=&quot;_&quot; href=&quot;#&quot;&gt;0-9&lt;/a&gt;');
					html.push('&lt;a class=&quot;' + letters[i] + '&quot; href=&quot;#&quot;&gt;' + ((letters[i] == '-') ? '...' : letters[i].toUpperCase()) + '&lt;/a&gt;');
				}
				return '&lt;div class=&quot;ln-letters&quot;&gt;' + html.join('') + '&lt;/div&gt;' + ((opts.showCounts) ? '&lt;div class=&quot;ln-letter-count&quot; style=&quot;display:none; position:absolute; top:0; left:0; width:20px;&quot;&gt;0&lt;/div&gt;' : ''); // the styling for ln-letter-count is to give us a starting point for the element, which will be repositioned when made visible (ie, should not need to be styled by the user)
			}

			init();
		});
	};

	$.fn.listnav.defaults = {
		initLetter: '',
		includeAll: true,
		incudeOther: false,
		includeNums: true,
		flagDisabled: true,
		noMatchText: 'No matching entries',
		showCounts: true,
		cookieName: null,
		onClick: null,
		prefixes: []
	};
})(jQuery);
//}}}</pre>
</div>
<div title="jQueryMigrate-v1.2.1.js" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405162207" tags="systemConfig systemConfigDisable excludeTimeline js jquery" changecount="5" content-type="text/javascript">
<pre>/*!
 * jQuery Migrate - v1.2.1 - 2013-05-08
 * https://github.com/jquery/jquery-migrate
 * Copyright 2005, 2013 jQuery Foundation, Inc. and other contributors; Licensed MIT
 */
(function( jQuery, window, undefined ) {
// See http://bugs.jquery.com/ticket/13335
// &quot;use strict&quot;;


var warnedAbout = {};

// List of warnings already given; public read only
jQuery.migrateWarnings = [];

// Set to true to prevent console output; migrateWarnings still maintained
// jQuery.migrateMute = false;

// Show a message on the console so devs know we're active
if ( !jQuery.migrateMute &amp;&amp; window.console &amp;&amp; window.console.log ) {
	window.console.log(&quot;JQMIGRATE: Logging is active&quot;);
}

// Set to false to disable traces that appear with warnings
if ( jQuery.migrateTrace === undefined ) {
	jQuery.migrateTrace = true;
}

// Forget any warnings we've already given; public
jQuery.migrateReset = function() {
	warnedAbout = {};
	jQuery.migrateWarnings.length = 0;
};

function migrateWarn( msg) {
	var console = window.console;
	if ( !warnedAbout[ msg ] ) {
		warnedAbout[ msg ] = true;
		jQuery.migrateWarnings.push( msg );
		if ( console &amp;&amp; console.warn &amp;&amp; !jQuery.migrateMute ) {
			console.warn( &quot;JQMIGRATE: &quot; + msg );
			if ( jQuery.migrateTrace &amp;&amp; console.trace ) {
				console.trace();
			}
		}
	}
}

function migrateWarnProp( obj, prop, value, msg ) {
	if ( Object.defineProperty ) {
		// On ES5 browsers (non-oldIE), warn if the code tries to get prop;
		// allow property to be overwritten in case some other plugin wants it
		try {
			Object.defineProperty( obj, prop, {
				configurable: true,
				enumerable: true,
				get: function() {
					migrateWarn( msg );
					return value;
				},
				set: function( newValue ) {
					migrateWarn( msg );
					value = newValue;
				}
			});
			return;
		} catch( err ) {
			// IE8 is a dope about Object.defineProperty, can't warn there
		}
	}

	// Non-ES5 (or broken) browser; just set the property
	jQuery._definePropertyBroken = true;
	obj[ prop ] = value;
}

if ( document.compatMode === &quot;BackCompat&quot; ) {
	// jQuery has never supported or tested Quirks Mode
	migrateWarn( &quot;jQuery is not compatible with Quirks Mode&quot; );
}


var attrFn = jQuery( &quot;&lt;input/&gt;&quot;, { size: 1 } ).attr(&quot;size&quot;) &amp;&amp; jQuery.attrFn,
	oldAttr = jQuery.attr,
	valueAttrGet = jQuery.attrHooks.value &amp;&amp; jQuery.attrHooks.value.get ||
		function() { return null; },
	valueAttrSet = jQuery.attrHooks.value &amp;&amp; jQuery.attrHooks.value.set ||
		function() { return undefined; },
	rnoType = /^(?:input|button)$/i,
	rnoAttrNodeType = /^[238]$/,
	rboolean = /^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,
	ruseDefault = /^(?:checked|selected)$/i;

// jQuery.attrFn
migrateWarnProp( jQuery, &quot;attrFn&quot;, attrFn || {}, &quot;jQuery.attrFn is deprecated&quot; );

jQuery.attr = function( elem, name, value, pass ) {
	var lowerName = name.toLowerCase(),
		nType = elem &amp;&amp; elem.nodeType;

	if ( pass ) {
		// Since pass is used internally, we only warn for new jQuery
		// versions where there isn't a pass arg in the formal params
		if ( oldAttr.length &lt; 4 ) {
			migrateWarn(&quot;jQuery.fn.attr( props, pass ) is deprecated&quot;);
		}
		if ( elem &amp;&amp; !rnoAttrNodeType.test( nType ) &amp;&amp;
			(attrFn ? name in attrFn : jQuery.isFunction(jQuery.fn[name])) ) {
			return jQuery( elem )[ name ]( value );
		}
	}

	// Warn if user tries to set `type`, since it breaks on IE 6/7/8; by checking
	// for disconnected elements we don't warn on $( &quot;&lt;button&gt;&quot;, { type: &quot;button&quot; } ).
	if ( name === &quot;type&quot; &amp;&amp; value !== undefined &amp;&amp; rnoType.test( elem.nodeName ) &amp;&amp; elem.parentNode ) {
		migrateWarn(&quot;Can't change the 'type' of an input or button in IE 6/7/8&quot;);
	}

	// Restore boolHook for boolean property/attribute synchronization
	if ( !jQuery.attrHooks[ lowerName ] &amp;&amp; rboolean.test( lowerName ) ) {
		jQuery.attrHooks[ lowerName ] = {
			get: function( elem, name ) {
				// Align boolean attributes with corresponding properties
				// Fall back to attribute presence where some booleans are not supported
				var attrNode,
					property = jQuery.prop( elem, name );
				return property === true || typeof property !== &quot;boolean&quot; &amp;&amp;
					( attrNode = elem.getAttributeNode(name) ) &amp;&amp; attrNode.nodeValue !== false ?

					name.toLowerCase() :
					undefined;
			},
			set: function( elem, value, name ) {
				var propName;
				if ( value === false ) {
					// Remove boolean attributes when set to false
					jQuery.removeAttr( elem, name );
				} else {
					// value is true since we know at this point it's type boolean and not false
					// Set boolean attributes to the same name and set the DOM property
					propName = jQuery.propFix[ name ] || name;
					if ( propName in elem ) {
						// Only set the IDL specifically if it already exists on the element
						elem[ propName ] = true;
					}

					elem.setAttribute( name, name.toLowerCase() );
				}
				return name;
			}
		};

		// Warn only for attributes that can remain distinct from their properties post-1.9
		if ( ruseDefault.test( lowerName ) ) {
			migrateWarn( &quot;jQuery.fn.attr('&quot; + lowerName + &quot;') may use property instead of attribute&quot; );
		}
	}

	return oldAttr.call( jQuery, elem, name, value );
};

// attrHooks: value
jQuery.attrHooks.value = {
	get: function( elem, name ) {
		var nodeName = ( elem.nodeName || &quot;&quot; ).toLowerCase();
		if ( nodeName === &quot;button&quot; ) {
			return valueAttrGet.apply( this, arguments );
		}
		if ( nodeName !== &quot;input&quot; &amp;&amp; nodeName !== &quot;option&quot; ) {
			migrateWarn(&quot;jQuery.fn.attr('value') no longer gets properties&quot;);
		}
		return name in elem ?
			elem.value :
			null;
	},
	set: function( elem, value ) {
		var nodeName = ( elem.nodeName || &quot;&quot; ).toLowerCase();
		if ( nodeName === &quot;button&quot; ) {
			return valueAttrSet.apply( this, arguments );
		}
		if ( nodeName !== &quot;input&quot; &amp;&amp; nodeName !== &quot;option&quot; ) {
			migrateWarn(&quot;jQuery.fn.attr('value', val) no longer sets properties&quot;);
		}
		// Does not return so that setAttribute is also used
		elem.value = value;
	}
};


var matched, browser,
	oldInit = jQuery.fn.init,
	oldParseJSON = jQuery.parseJSON,
	// Note: XSS check is done below after string is trimmed
	rquickExpr = /^([^&lt;]*)(&lt;[\w\W]+&gt;)([^&gt;]*)$/;

// $(html) &quot;looks like html&quot; rule change
jQuery.fn.init = function( selector, context, rootjQuery ) {
	var match;

	if ( selector &amp;&amp; typeof selector === &quot;string&quot; &amp;&amp; !jQuery.isPlainObject( context ) &amp;&amp;
			(match = rquickExpr.exec( jQuery.trim( selector ) )) &amp;&amp; match[ 0 ] ) {
		// This is an HTML string according to the &quot;old&quot; rules; is it still?
		if ( selector.charAt( 0 ) !== &quot;&lt;&quot; ) {
			migrateWarn(&quot;$(html) HTML strings must start with '&lt;' character&quot;);
		}
		if ( match[ 3 ] ) {
			migrateWarn(&quot;$(html) HTML text after last tag is ignored&quot;);
		}
		// Consistently reject any HTML-like string starting with a hash (#9521)
		// Note that this may break jQuery 1.6.x code that otherwise would work.
		if ( match[ 0 ].charAt( 0 ) === &quot;#&quot; ) {
			migrateWarn(&quot;HTML string cannot start with a '#' character&quot;);
			jQuery.error(&quot;JQMIGRATE: Invalid selector string (XSS)&quot;);
		}
		// Now process using loose rules; let pre-1.8 play too
		if ( context &amp;&amp; context.context ) {
			// jQuery object as context; parseHTML expects a DOM object
			context = context.context;
		}
		if ( jQuery.parseHTML ) {
			return oldInit.call( this, jQuery.parseHTML( match[ 2 ], context, true ),
					context, rootjQuery );
		}
	}
	return oldInit.apply( this, arguments );
};
jQuery.fn.init.prototype = jQuery.fn;

// Let $.parseJSON(falsy_value) return null
jQuery.parseJSON = function( json ) {
	if ( !json &amp;&amp; json !== null ) {
		migrateWarn(&quot;jQuery.parseJSON requires a valid JSON string&quot;);
		return null;
	}
	return oldParseJSON.apply( this, arguments );
};

jQuery.uaMatch = function( ua ) {
	ua = ua.toLowerCase();

	var match = /(chrome)[ \/]([\w.]+)/.exec( ua ) ||
		/(webkit)[ \/]([\w.]+)/.exec( ua ) ||
		/(opera)(?:.*version|)[ \/]([\w.]+)/.exec( ua ) ||
		/(msie) ([\w.]+)/.exec( ua ) ||
		ua.indexOf(&quot;compatible&quot;) &lt; 0 &amp;&amp; /(mozilla)(?:.*? rv:([\w.]+)|)/.exec( ua ) ||
		[];

	return {
		browser: match[ 1 ] || &quot;&quot;,
		version: match[ 2 ] || &quot;0&quot;
	};
};

// Don't clobber any existing jQuery.browser in case it's different
if ( !jQuery.browser ) {
	matched = jQuery.uaMatch( navigator.userAgent );
	browser = {};

	if ( matched.browser ) {
		browser[ matched.browser ] = true;
		browser.version = matched.version;
	}

	// Chrome is Webkit, but Webkit is also Safari.
	if ( browser.chrome ) {
		browser.webkit = true;
	} else if ( browser.webkit ) {
		browser.safari = true;
	}

	jQuery.browser = browser;
}

// Warn if the code tries to get jQuery.browser
migrateWarnProp( jQuery, &quot;browser&quot;, jQuery.browser, &quot;jQuery.browser is deprecated&quot; );

jQuery.sub = function() {
	function jQuerySub( selector, context ) {
		return new jQuerySub.fn.init( selector, context );
	}
	jQuery.extend( true, jQuerySub, this );
	jQuerySub.superclass = this;
	jQuerySub.fn = jQuerySub.prototype = this();
	jQuerySub.fn.constructor = jQuerySub;
	jQuerySub.sub = this.sub;
	jQuerySub.fn.init = function init( selector, context ) {
		if ( context &amp;&amp; context instanceof jQuery &amp;&amp; !(context instanceof jQuerySub) ) {
			context = jQuerySub( context );
		}

		return jQuery.fn.init.call( this, selector, context, rootjQuerySub );
	};
	jQuerySub.fn.init.prototype = jQuerySub.fn;
	var rootjQuerySub = jQuerySub(document);
	migrateWarn( &quot;jQuery.sub() is deprecated&quot; );
	return jQuerySub;
};


// Ensure that $.ajax gets the new parseJSON defined in core.js
jQuery.ajaxSetup({
	converters: {
		&quot;text json&quot;: jQuery.parseJSON
	}
});


var oldFnData = jQuery.fn.data;

jQuery.fn.data = function( name ) {
	var ret, evt,
		elem = this[0];

	// Handles 1.7 which has this behavior and 1.8 which doesn't
	if ( elem &amp;&amp; name === &quot;events&quot; &amp;&amp; arguments.length === 1 ) {
		ret = jQuery.data( elem, name );
		evt = jQuery._data( elem, name );
		if ( ( ret === undefined || ret === evt ) &amp;&amp; evt !== undefined ) {
			migrateWarn(&quot;Use of jQuery.fn.data('events') is deprecated&quot;);
			return evt;
		}
	}
	return oldFnData.apply( this, arguments );
};


var rscriptType = /\/(java|ecma)script/i,
	oldSelf = jQuery.fn.andSelf || jQuery.fn.addBack;

jQuery.fn.andSelf = function() {
	migrateWarn(&quot;jQuery.fn.andSelf() replaced by jQuery.fn.addBack()&quot;);
	return oldSelf.apply( this, arguments );
};

// Since jQuery.clean is used internally on older versions, we only shim if it's missing
if ( !jQuery.clean ) {
	jQuery.clean = function( elems, context, fragment, scripts ) {
		// Set context per 1.8 logic
		context = context || document;
		context = !context.nodeType &amp;&amp; context[0] || context;
		context = context.ownerDocument || context;

		migrateWarn(&quot;jQuery.clean() is deprecated&quot;);

		var i, elem, handleScript, jsTags,
			ret = [];

		jQuery.merge( ret, jQuery.buildFragment( elems, context ).childNodes );

		// Complex logic lifted directly from jQuery 1.8
		if ( fragment ) {
			// Special handling of each script element
			handleScript = function( elem ) {
				// Check if we consider it executable
				if ( !elem.type || rscriptType.test( elem.type ) ) {
					// Detach the script and store it in the scripts array (if provided) or the fragment
					// Return truthy to indicate that it has been handled
					return scripts ?
						scripts.push( elem.parentNode ? elem.parentNode.removeChild( elem ) : elem ) :
						fragment.appendChild( elem );
				}
			};

			for ( i = 0; (elem = ret[i]) != null; i++ ) {
				// Check if we're done after handling an executable script
				if ( !( jQuery.nodeName( elem, &quot;script&quot; ) &amp;&amp; handleScript( elem ) ) ) {
					// Append to fragment and handle embedded scripts
					fragment.appendChild( elem );
					if ( typeof elem.getElementsByTagName !== &quot;undefined&quot; ) {
						// handleScript alters the DOM, so use jQuery.merge to ensure snapshot iteration
						jsTags = jQuery.grep( jQuery.merge( [], elem.getElementsByTagName(&quot;script&quot;) ), handleScript );

						// Splice the scripts into ret after their former ancestor and advance our index beyond them
						ret.splice.apply( ret, [i + 1, 0].concat( jsTags ) );
						i += jsTags.length;
					}
				}
			}
		}

		return ret;
	};
}

var eventAdd = jQuery.event.add,
	eventRemove = jQuery.event.remove,
	eventTrigger = jQuery.event.trigger,
	oldToggle = jQuery.fn.toggle,
	oldLive = jQuery.fn.live,
	oldDie = jQuery.fn.die,
	ajaxEvents = &quot;ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess&quot;,
	rajaxEvent = new RegExp( &quot;\\b(?:&quot; + ajaxEvents + &quot;)\\b&quot; ),
	rhoverHack = /(?:^|\s)hover(\.\S+|)\b/,
	hoverHack = function( events ) {
		if ( typeof( events ) !== &quot;string&quot; || jQuery.event.special.hover ) {
			return events;
		}
		if ( rhoverHack.test( events ) ) {
			migrateWarn(&quot;'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'&quot;);
		}
		return events &amp;&amp; events.replace( rhoverHack, &quot;mouseenter$1 mouseleave$1&quot; );
	};

// Event props removed in 1.9, put them back if needed; no practical way to warn them
if ( jQuery.event.props &amp;&amp; jQuery.event.props[ 0 ] !== &quot;attrChange&quot; ) {
	jQuery.event.props.unshift( &quot;attrChange&quot;, &quot;attrName&quot;, &quot;relatedNode&quot;, &quot;srcElement&quot; );
}

// Undocumented jQuery.event.handle was &quot;deprecated&quot; in jQuery 1.7
if ( jQuery.event.dispatch ) {
	migrateWarnProp( jQuery.event, &quot;handle&quot;, jQuery.event.dispatch, &quot;jQuery.event.handle is undocumented and deprecated&quot; );
}

// Support for 'hover' pseudo-event and ajax event warnings
jQuery.event.add = function( elem, types, handler, data, selector ){
	if ( elem !== document &amp;&amp; rajaxEvent.test( types ) ) {
		migrateWarn( &quot;AJAX events should be attached to document: &quot; + types );
	}
	eventAdd.call( this, elem, hoverHack( types || &quot;&quot; ), handler, data, selector );
};
jQuery.event.remove = function( elem, types, handler, selector, mappedTypes ){
	eventRemove.call( this, elem, hoverHack( types ) || &quot;&quot;, handler, selector, mappedTypes );
};

jQuery.fn.error = function() {
	var args = Array.prototype.slice.call( arguments, 0);
	migrateWarn(&quot;jQuery.fn.error() is deprecated&quot;);
	args.splice( 0, 0, &quot;error&quot; );
	if ( arguments.length ) {
		return this.bind.apply( this, args );
	}
	// error event should not bubble to window, although it does pre-1.7
	this.triggerHandler.apply( this, args );
	return this;
};

jQuery.fn.toggle = function( fn, fn2 ) {

	// Don't mess with animation or css toggles
	if ( !jQuery.isFunction( fn ) || !jQuery.isFunction( fn2 ) ) {
		return oldToggle.apply( this, arguments );
	}
	migrateWarn(&quot;jQuery.fn.toggle(handler, handler...) is deprecated&quot;);

	// Save reference to arguments for access in closure
	var args = arguments,
		guid = fn.guid || jQuery.guid++,
		i = 0,
		toggler = function( event ) {
			// Figure out which function to execute
			var lastToggle = ( jQuery._data( this, &quot;lastToggle&quot; + fn.guid ) || 0 ) % i;
			jQuery._data( this, &quot;lastToggle&quot; + fn.guid, lastToggle + 1 );

			// Make sure that clicks stop
			event.preventDefault();

			// and execute the function
			return args[ lastToggle ].apply( this, arguments ) || false;
		};

	// link all the functions, so any of them can unbind this click handler
	toggler.guid = guid;
	while ( i &lt; args.length ) {
		args[ i++ ].guid = guid;
	}

	return this.click( toggler );
};

jQuery.fn.live = function( types, data, fn ) {
	migrateWarn(&quot;jQuery.fn.live() is deprecated&quot;);
	if ( oldLive ) {
		return oldLive.apply( this, arguments );
	}
	jQuery( this.context ).on( types, this.selector, data, fn );
	return this;
};

jQuery.fn.die = function( types, fn ) {
	migrateWarn(&quot;jQuery.fn.die() is deprecated&quot;);
	if ( oldDie ) {
		return oldDie.apply( this, arguments );
	}
	jQuery( this.context ).off( types, this.selector || &quot;**&quot;, fn );
	return this;
};

// Turn global events into document-triggered events
jQuery.event.trigger = function( event, data, elem, onlyHandlers  ){
	if ( !elem &amp;&amp; !rajaxEvent.test( event ) ) {
		migrateWarn( &quot;Global events are undocumented and deprecated&quot; );
	}
	return eventTrigger.call( this,  event, data, elem || document, onlyHandlers  );
};
jQuery.each( ajaxEvents.split(&quot;|&quot;),
	function( _, name ) {
		jQuery.event.special[ name ] = {
			setup: function() {
				var elem = this;

				// The document needs no shimming; must be !== for oldIE
				if ( elem !== document ) {
					jQuery.event.add( document, name + &quot;.&quot; + jQuery.guid, function() {
						jQuery.event.trigger( name, null, elem, true );
					});
					jQuery._data( this, name, jQuery.guid++ );
				}
				return false;
			},
			teardown: function() {
				if ( this !== document ) {
					jQuery.event.remove( document, name + &quot;.&quot; + jQuery._data( this, name ) );
				}
				return false;
			}
		};
	}
);


})( jQuery, window );</pre>
</div>
<div title="javascript.js" modifier="Christopher Wilson" created="201404120230" modified="201404120233" tags="cmtw excludeTimeline systemConfig excludeLists" changecount="2">
<pre>/***
|''Requires''|codemirror.js|
|''License''|[[codemirror.js]]|
***/

//{{{
CodeMirror.defineMode(&quot;javascript&quot;,function(e,t){function r(e,t,r){return t.tokenize=r,r(e,t)}function n(e,t){for(var r,n=!1;(r=e.next())!=null;){if(r==t&amp;&amp;!n)return!1;n=!n&amp;&amp;&quot;\\&quot;==r}return n}function a(e,t,r){return U=e,_=r,t}function i(e,t){var i=e.next();if('&quot;'==i||&quot;'&quot;==i)return r(e,t,o(i));if(/[\[\]{}\(\),;\:\.]/.test(i))return a(i);if(&quot;0&quot;==i&amp;&amp;e.eat(/x/i))return e.eatWhile(/[\da-f]/i),a(&quot;number&quot;,&quot;number&quot;);if(/\d/.test(i)||&quot;-&quot;==i&amp;&amp;e.eat(/\d/))return e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),a(&quot;number&quot;,&quot;number&quot;);if(&quot;/&quot;==i)return e.eat(&quot;*&quot;)?r(e,t,c):e.eat(&quot;/&quot;)?(e.skipToEnd(),a(&quot;comment&quot;,&quot;comment&quot;)):t.lastType==&quot;operator&quot;||t.lastType==&quot;keyword c&quot;||/^[\[{}\(,;:]$/.test(t.lastType)?(n(e,&quot;/&quot;),e.eatWhile(/[gimy]/),a(&quot;regexp&quot;,&quot;string-2&quot;)):(e.eatWhile(G),a(&quot;operator&quot;,null,e.current()));if(&quot;#&quot;==i)return e.skipToEnd(),a(&quot;error&quot;,&quot;error&quot;);if(G.test(i))return e.eatWhile(G),a(&quot;operator&quot;,null,e.current());e.eatWhile(/[\w\$_]/);var l=e.current(),u=F.propertyIsEnumerable(l)&amp;&amp;F[l];return u&amp;&amp;t.lastType!=&quot;.&quot;?a(u.type,u.style,l):a(&quot;variable&quot;,&quot;variable&quot;,l)}function o(e){return function(t,r){return n(t,e)||(r.tokenize=i),a(&quot;string&quot;,&quot;string&quot;)}}function c(e,t){for(var r,n=!1;r=e.next();){if(&quot;/&quot;==r&amp;&amp;n){t.tokenize=i;break}n=&quot;*&quot;==r}return a(&quot;comment&quot;,&quot;comment&quot;)}function l(e,t,r,n,a,i){this.indented=e,this.column=t,this.type=r,this.prev=a,this.info=i,null!=n&amp;&amp;(this.align=n)}function u(e,t){for(var r=e.localVars;r;r=r.next)if(r.name==t)return!0}function s(e,t,r,n,a){var i=e.cc;for(J.state=e,J.stream=a,J.marked=null,J.cc=i,e.lexical.hasOwnProperty(&quot;align&quot;)||(e.lexical.align=!0);;){var o=i.length?i.pop():B?k:h;if(o(r,n)){for(;i.length&amp;&amp;i[i.length-1].lex;)i.pop()();return J.marked?J.marked:&quot;variable&quot;==r&amp;&amp;u(e,n)?&quot;variable-2&quot;:t}}}function f(){for(var e=arguments.length-1;e&gt;=0;e--)J.cc.push(arguments[e])}function p(){return f.apply(null,arguments),!0}function d(e){function t(t){for(var r=t;r;r=r.next)if(r.name==e)return!0;return!1}var r=J.state;if(r.context){if(J.marked=&quot;def&quot;,t(r.localVars))return;r.localVars={name:e,next:r.localVars}}else{if(t(r.globalVars))return;r.globalVars={name:e,next:r.globalVars}}}function v(){J.state.context={prev:J.state.context,vars:J.state.localVars},J.state.localVars=K}function m(){J.state.localVars=J.state.context.vars,J.state.context=J.state.context.prev}function y(e,t){var r=function(){var r=J.state;r.lexical=new l(r.indented,J.stream.column(),e,null,r.lexical,t)};return r.lex=!0,r}function x(){var e=J.state;e.lexical.prev&amp;&amp;(e.lexical.type==&quot;)&quot;&amp;&amp;(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function b(e){return function(t){return t==e?p():&quot;;&quot;==e?f():p(arguments.callee)}}function h(e){return&quot;var&quot;==e?p(y(&quot;vardef&quot;),z,b(&quot;;&quot;),x):&quot;keyword a&quot;==e?p(y(&quot;form&quot;),k,h,x):&quot;keyword b&quot;==e?p(y(&quot;form&quot;),h,x):&quot;{&quot;==e?p(y(&quot;}&quot;),E,x):&quot;;&quot;==e?p():&quot;function&quot;==e?p($):&quot;for&quot;==e?p(y(&quot;form&quot;),b(&quot;(&quot;),y(&quot;)&quot;),W,b(&quot;)&quot;),x,h,x):&quot;variable&quot;==e?p(y(&quot;stat&quot;),w):&quot;switch&quot;==e?p(y(&quot;form&quot;),k,y(&quot;}&quot;,&quot;switch&quot;),b(&quot;{&quot;),E,x,x):&quot;case&quot;==e?p(k,b(&quot;:&quot;)):&quot;default&quot;==e?p(b(&quot;:&quot;)):&quot;catch&quot;==e?p(y(&quot;form&quot;),v,b(&quot;(&quot;),A,b(&quot;)&quot;),h,x,m):f(y(&quot;stat&quot;),k,b(&quot;;&quot;),x)}function k(e){return H.hasOwnProperty(e)?p(M):&quot;function&quot;==e?p($):&quot;keyword c&quot;==e?p(g):&quot;(&quot;==e?p(y(&quot;)&quot;),g,b(&quot;)&quot;),x,M):&quot;operator&quot;==e?p(k):&quot;[&quot;==e?p(y(&quot;]&quot;),T(k,&quot;]&quot;),x,M):&quot;{&quot;==e?p(y(&quot;}&quot;),T(j,&quot;}&quot;),x,M):p()}function g(e){return e.match(/[;\}\)\],]/)?f():f(k)}function M(e,t){if(&quot;operator&quot;==e&amp;&amp;/\+\+|--/.test(t))return p(M);if(&quot;operator&quot;==e&amp;&amp;&quot;?&quot;==t)return p(k,b(&quot;:&quot;),k);if(&quot;;&quot;!=e)return&quot;(&quot;==e?p(y(&quot;)&quot;),T(k,&quot;)&quot;),x,M):&quot;.&quot;==e?p(V,M):&quot;[&quot;==e?p(y(&quot;]&quot;),k,b(&quot;]&quot;),x,M):void 0}function w(e){return&quot;:&quot;==e?p(x,h):f(M,b(&quot;;&quot;),x)}function V(e){return&quot;variable&quot;==e?(J.marked=&quot;property&quot;,p()):void 0}function j(e){return&quot;variable&quot;==e&amp;&amp;(J.marked=&quot;property&quot;),H.hasOwnProperty(e)?p(b(&quot;:&quot;),k):void 0}function T(e,t){function r(n){return&quot;,&quot;==n?p(e,r):n==t?p():p(b(t))}return function(n){return n==t?p():f(e,r)}}function E(e){return&quot;}&quot;==e?p():f(h,E)}function C(e){return&quot;:&quot;==e?p(I):f()}function I(e){return&quot;variable&quot;==e?(J.marked=&quot;variable-3&quot;,p()):f()}function z(e,t){return&quot;variable&quot;==e?(d(t),D?p(C,P):p(P)):f()}function P(e,t){return&quot;=&quot;==t?p(k,P):&quot;,&quot;==e?p(z):void 0}function W(e){return&quot;var&quot;==e?p(z,b(&quot;;&quot;),N):&quot;;&quot;==e?p(N):&quot;variable&quot;==e?p(O):p(N)}function O(e,t){return&quot;in&quot;==t?p(k):p(M,N)}function N(e,t){return&quot;;&quot;==e?p(S):&quot;in&quot;==t?p(k):p(k,b(&quot;;&quot;),S)}function S(e){&quot;)&quot;!=e&amp;&amp;p(k)}function $(e,t){return&quot;variable&quot;==e?(d(t),p($)):&quot;(&quot;==e?p(y(&quot;)&quot;),v,T(A,&quot;)&quot;),x,h,m):void 0}function A(e,t){return&quot;variable&quot;==e?(d(t),D?p(C):p()):void 0}var U,_,q=e.indentUnit,B=t.json,D=t.typescript,F=function(){function e(e){return{type:e,style:&quot;keyword&quot;}}var t=e(&quot;keyword a&quot;),r=e(&quot;keyword b&quot;),n=e(&quot;keyword c&quot;),a=e(&quot;operator&quot;),i={type:&quot;atom&quot;,style:&quot;atom&quot;},o={&quot;if&quot;:t,&quot;while&quot;:t,&quot;with&quot;:t,&quot;else&quot;:r,&quot;do&quot;:r,&quot;try&quot;:r,&quot;finally&quot;:r,&quot;return&quot;:n,&quot;break&quot;:n,&quot;continue&quot;:n,&quot;new&quot;:n,&quot;delete&quot;:n,&quot;throw&quot;:n,&quot;var&quot;:e(&quot;var&quot;),&quot;const&quot;:e(&quot;var&quot;),let:e(&quot;var&quot;),&quot;function&quot;:e(&quot;function&quot;),&quot;catch&quot;:e(&quot;catch&quot;),&quot;for&quot;:e(&quot;for&quot;),&quot;switch&quot;:e(&quot;switch&quot;),&quot;case&quot;:e(&quot;case&quot;),&quot;default&quot;:e(&quot;default&quot;),&quot;in&quot;:a,&quot;typeof&quot;:a,&quot;instanceof&quot;:a,&quot;true&quot;:i,&quot;false&quot;:i,&quot;null&quot;:i,undefined:i,NaN:i,Infinity:i};if(D){var c={type:&quot;variable&quot;,style:&quot;variable-3&quot;},l={&quot;interface&quot;:e(&quot;interface&quot;),&quot;class&quot;:e(&quot;class&quot;),&quot;extends&quot;:e(&quot;extends&quot;),constructor:e(&quot;constructor&quot;),&quot;public&quot;:e(&quot;public&quot;),&quot;private&quot;:e(&quot;private&quot;),&quot;protected&quot;:e(&quot;protected&quot;),&quot;static&quot;:e(&quot;static&quot;),&quot;super&quot;:e(&quot;super&quot;),string:c,number:c,bool:c,any:c};for(var u in l)o[u]=l[u]}return o}(),G=/[+\-*&amp;%=&lt;&gt;!?|]/,H={atom:!0,number:!0,variable:!0,string:!0,regexp:!0},J={state:null,column:null,marked:null,cc:null},K={name:&quot;this&quot;,next:{name:&quot;arguments&quot;}};return x.lex=!0,{startState:function(e){return{tokenize:i,lastType:null,cc:[],lexical:new l((e||0)-q,0,&quot;block&quot;,!1),localVars:t.localVars,globalVars:t.globalVars,context:t.localVars&amp;&amp;{vars:t.localVars},indented:0}},token:function(e,t){if(e.sol()&amp;&amp;(t.lexical.hasOwnProperty(&quot;align&quot;)||(t.lexical.align=!1),t.indented=e.indentation()),e.eatSpace())return null;var r=t.tokenize(e,t);return&quot;comment&quot;==U?r:(t.lastType=U,s(t,r,U,_,e))},indent:function(e,t){if(e.tokenize==c)return CodeMirror.Pass;if(e.tokenize!=i)return 0;var r=t&amp;&amp;t.charAt(0),n=e.lexical;n.type==&quot;stat&quot;&amp;&amp;&quot;}&quot;==r&amp;&amp;(n=n.prev);var a=n.type,o=r==a;return&quot;vardef&quot;==a?n.indented+(e.lastType==&quot;operator&quot;||e.lastType==&quot;,&quot;?4:0):&quot;form&quot;==a&amp;&amp;&quot;{&quot;==r?n.indented:&quot;form&quot;==a?n.indented+q:&quot;stat&quot;==a?n.indented+(e.lastType==&quot;operator&quot;||e.lastType==&quot;,&quot;?q:0):n.info!=&quot;switch&quot;||o?n.align?n.column+(o?0:1):n.indented+(o?0:q):n.indented+(/^(?:case|default)\b/.test(t)?q:2*q)},electricChars:&quot;:{}&quot;,jsonMode:B}}),CodeMirror.defineMIME(&quot;text/javascript&quot;,&quot;javascript&quot;),CodeMirror.defineMIME(&quot;text/ecmascript&quot;,&quot;javascript&quot;),CodeMirror.defineMIME(&quot;application/javascript&quot;,&quot;javascript&quot;),CodeMirror.defineMIME(&quot;application/ecmascript&quot;,&quot;javascript&quot;),CodeMirror.defineMIME(&quot;application/json&quot;,{name:&quot;javascript&quot;,json:!0}),CodeMirror.defineMIME(&quot;text/typescript&quot;,{name:&quot;javascript&quot;,typescript:!0}),CodeMirror.defineMIME(&quot;application/typescript&quot;,{name:&quot;javascript&quot;,typescript:!0});
//}}}</pre>
</div>
<div title="jquery-ui.css" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405151028" tags="excludeTimeline css" content-type="text/x-tiddlywiki" changecount="6">
<pre>/*! jQuery UI - v1.10.4 - 2014-05-15
* http://jqueryui.com
* Includes: jquery.ui.core.css, jquery.ui.resizable.css, jquery.ui.selectable.css, jquery.ui.accordion.css, jquery.ui.autocomplete.css, jquery.ui.button.css, jquery.ui.datepicker.css, jquery.ui.dialog.css, jquery.ui.menu.css, jquery.ui.progressbar.css, jquery.ui.slider.css, jquery.ui.spinner.css, jquery.ui.tabs.css, jquery.ui.tooltip.css, jquery.ui.theme.css
* To view and modify this theme, visit http://jqueryui.com/themeroller/?ffDefault=Trebuchet%20MS%2CTahoma%2CVerdana%2CArial%2Csans-serif&amp;fwDefault=bold&amp;fsDefault=1.1em&amp;cornerRadius=4px&amp;bgColorHeader=f6a828&amp;bgTextureHeader=gloss_wave&amp;bgImgOpacityHeader=35&amp;borderColorHeader=e78f08&amp;fcHeader=ffffff&amp;iconColorHeader=ffffff&amp;bgColorContent=eeeeee&amp;bgTextureContent=highlight_soft&amp;bgImgOpacityContent=100&amp;borderColorContent=dddddd&amp;fcContent=333333&amp;iconColorContent=222222&amp;bgColorDefault=f6f6f6&amp;bgTextureDefault=glass&amp;bgImgOpacityDefault=100&amp;borderColorDefault=cccccc&amp;fcDefault=1c94c4&amp;iconColorDefault=ef8c08&amp;bgColorHover=fdf5ce&amp;bgTextureHover=glass&amp;bgImgOpacityHover=100&amp;borderColorHover=fbcb09&amp;fcHover=c77405&amp;iconColorHover=ef8c08&amp;bgColorActive=ffffff&amp;bgTextureActive=glass&amp;bgImgOpacityActive=65&amp;borderColorActive=fbd850&amp;fcActive=eb8f00&amp;iconColorActive=ef8c08&amp;bgColorHighlight=ffe45c&amp;bgTextureHighlight=highlight_soft&amp;bgImgOpacityHighlight=75&amp;borderColorHighlight=fed22f&amp;fcHighlight=363636&amp;iconColorHighlight=228ef1&amp;bgColorError=b81900&amp;bgTextureError=diagonals_thick&amp;bgImgOpacityError=18&amp;borderColorError=cd0a0a&amp;fcError=ffffff&amp;iconColorError=ffd27a&amp;bgColorOverlay=666666&amp;bgTextureOverlay=diagonals_thick&amp;bgImgOpacityOverlay=20&amp;opacityOverlay=50&amp;bgColorShadow=000000&amp;bgTextureShadow=flat&amp;bgImgOpacityShadow=10&amp;opacityShadow=20&amp;thicknessShadow=5px&amp;offsetTopShadow=-5px&amp;offsetLeftShadow=-5px&amp;cornerRadiusShadow=5px
* Copyright 2014 jQuery Foundation and other contributors; Licensed MIT */
/*{{{*/
.ui-helper-hidden{display:none}.ui-helper-hidden-accessible{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.ui-helper-reset{margin:0;padding:0;border:0;outline:0;line-height:1.3;text-decoration:none;font-size:100%;list-style:none}.ui-helper-clearfix:before,.ui-helper-clearfix:after{content:&quot;&quot;;display:table;border-collapse:collapse}.ui-helper-clearfix:after{clear:both}.ui-helper-clearfix{min-height:0}.ui-helper-zfix{width:100%;height:100%;top:0;left:0;position:absolute;opacity:0;filter:Alpha(Opacity=0)}.ui-front{z-index:100}.ui-state-disabled{cursor:default!important}.ui-icon{display:block;text-indent:-99999px;overflow:hidden;background-repeat:no-repeat}.ui-widget-overlay{position:fixed;top:0;left:0;width:100%;height:100%}.ui-resizable{position:relative}.ui-resizable-handle{position:absolute;font-size:0.1px;display:block}.ui-resizable-disabled .ui-resizable-handle,.ui-resizable-autohide .ui-resizable-handle{display:none}.ui-resizable-n{cursor:n-resize;height:7px;width:100%;top:-5px;left:0}.ui-resizable-s{cursor:s-resize;height:7px;width:100%;bottom:-5px;left:0}.ui-resizable-e{cursor:e-resize;width:7px;right:-5px;top:0;height:100%}.ui-resizable-w{cursor:w-resize;width:7px;left:-5px;top:0;height:100%}.ui-resizable-se{cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.ui-resizable-sw{cursor:sw-resize;width:9px;height:9px;left:-5px;bottom:-5px}.ui-resizable-nw{cursor:nw-resize;width:9px;height:9px;left:-5px;top:-5px}.ui-resizable-ne{cursor:ne-resize;width:9px;height:9px;right:-5px;top:-5px}.ui-selectable-helper{position:absolute;z-index:100;border:1px dotted black}.ui-accordion .ui-accordion-header{display:block;cursor:pointer;position:relative;margin-top:2px;padding:.5em .5em .5em .7em;min-height:0}.ui-accordion .ui-accordion-icons{padding-left:2.2em}.ui-accordion .ui-accordion-noicons{padding-left:.7em}.ui-accordion .ui-accordion-icons .ui-accordion-icons{padding-left:2.2em}.ui-accordion .ui-accordion-header .ui-accordion-header-icon{position:absolute;left:.5em;top:50%;margin-top:-8px}.ui-accordion .ui-accordion-content{padding:1em 2.2em;border-top:0;overflow:auto}.ui-autocomplete{position:absolute;top:0;left:0;cursor:default}.ui-button{display:inline-block;position:relative;padding:0;line-height:normal;margin-right:.1em;cursor:pointer;vertical-align:middle;text-align:center;overflow:visible}.ui-button,.ui-button:link,.ui-button:visited,.ui-button:hover,.ui-button:active{text-decoration:none}.ui-button-icon-only{width:2.2em}button.ui-button-icon-only{width:2.4em}.ui-button-icons-only{width:3.4em}button.ui-button-icons-only{width:3.7em}.ui-button .ui-button-text{display:block;line-height:normal}.ui-button-text-only .ui-button-text{padding:.4em 1em}.ui-button-icon-only .ui-button-text,.ui-button-icons-only .ui-button-text{padding:.4em;text-indent:-9999999px}.ui-button-text-icon-primary .ui-button-text,.ui-button-text-icons .ui-button-text{padding:.4em 1em .4em 2.1em}.ui-button-text-icon-secondary .ui-button-text,.ui-button-text-icons .ui-button-text{padding:.4em 2.1em .4em 1em}.ui-button-text-icons .ui-button-text{padding-left:2.1em;padding-right:2.1em}input.ui-button{padding:.4em 1em}.ui-button-icon-only .ui-icon,.ui-button-text-icon-primary .ui-icon,.ui-button-text-icon-secondary .ui-icon,.ui-button-text-icons .ui-icon,.ui-button-icons-only .ui-icon{position:absolute;top:50%;margin-top:-8px}.ui-button-icon-only .ui-icon{left:50%;margin-left:-8px}.ui-button-text-icon-primary .ui-button-icon-primary,.ui-button-text-icons .ui-button-icon-primary,.ui-button-icons-only .ui-button-icon-primary{left:.5em}.ui-button-text-icon-secondary .ui-button-icon-secondary,.ui-button-text-icons .ui-button-icon-secondary,.ui-button-icons-only .ui-button-icon-secondary{right:.5em}.ui-buttonset{margin-right:7px}.ui-buttonset .ui-button{margin-left:0;margin-right:-.3em}input.ui-button::-moz-focus-inner,button.ui-button::-moz-focus-inner{border:0;padding:0}.ui-datepicker{width:17em;padding:.2em .2em 0;display:none}.ui-datepicker .ui-datepicker-header{position:relative;padding:.2em 0}.ui-datepicker .ui-datepicker-prev,.ui-datepicker .ui-datepicker-next{position:absolute;top:2px;width:1.8em;height:1.8em}.ui-datepicker .ui-datepicker-prev-hover,.ui-datepicker .ui-datepicker-next-hover{top:1px}.ui-datepicker .ui-datepicker-prev{left:2px}.ui-datepicker .ui-datepicker-next{right:2px}.ui-datepicker .ui-datepicker-prev-hover{left:1px}.ui-datepicker .ui-datepicker-next-hover{right:1px}.ui-datepicker .ui-datepicker-prev span,.ui-datepicker .ui-datepicker-next span{display:block;position:absolute;left:50%;margin-left:-8px;top:50%;margin-top:-8px}.ui-datepicker .ui-datepicker-title{margin:0 2.3em;line-height:1.8em;text-align:center}.ui-datepicker .ui-datepicker-title select{font-size:1em;margin:1px 0}.ui-datepicker select.ui-datepicker-month,.ui-datepicker select.ui-datepicker-year{width:49%}.ui-datepicker table{width:100%;font-size:.9em;border-collapse:collapse;margin:0 0 .4em}.ui-datepicker th{padding:.7em .3em;text-align:center;font-weight:bold;border:0}.ui-datepicker td{border:0;padding:1px}.ui-datepicker td span,.ui-datepicker td a{display:block;padding:.2em;text-align:right;text-decoration:none}.ui-datepicker .ui-datepicker-buttonpane{background-image:none;margin:.7em 0 0 0;padding:0 .2em;border-left:0;border-right:0;border-bottom:0}.ui-datepicker .ui-datepicker-buttonpane button{float:right;margin:.5em .2em .4em;cursor:pointer;padding:.2em .6em .3em .6em;width:auto;overflow:visible}.ui-datepicker .ui-datepicker-buttonpane button.ui-datepicker-current{float:left}.ui-datepicker.ui-datepicker-multi{width:auto}.ui-datepicker-multi .ui-datepicker-group{float:left}.ui-datepicker-multi .ui-datepicker-group table{width:95%;margin:0 auto .4em}.ui-datepicker-multi-2 .ui-datepicker-group{width:50%}.ui-datepicker-multi-3 .ui-datepicker-group{width:33.3%}.ui-datepicker-multi-4 .ui-datepicker-group{width:25%}.ui-datepicker-multi .ui-datepicker-group-last .ui-datepicker-header,.ui-datepicker-multi .ui-datepicker-group-middle .ui-datepicker-header{border-left-width:0}.ui-datepicker-multi .ui-datepicker-buttonpane{clear:left}.ui-datepicker-row-break{clear:both;width:100%;font-size:0}.ui-datepicker-rtl{direction:rtl}.ui-datepicker-rtl .ui-datepicker-prev{right:2px;left:auto}.ui-datepicker-rtl .ui-datepicker-next{left:2px;right:auto}.ui-datepicker-rtl .ui-datepicker-prev:hover{right:1px;left:auto}.ui-datepicker-rtl .ui-datepicker-next:hover{left:1px;right:auto}.ui-datepicker-rtl .ui-datepicker-buttonpane{clear:right}.ui-datepicker-rtl .ui-datepicker-buttonpane button{float:left}.ui-datepicker-rtl .ui-datepicker-buttonpane button.ui-datepicker-current,.ui-datepicker-rtl .ui-datepicker-group{float:right}.ui-datepicker-rtl .ui-datepicker-group-last .ui-datepicker-header,.ui-datepicker-rtl .ui-datepicker-group-middle .ui-datepicker-header{border-right-width:0;border-left-width:1px}.ui-dialog{overflow:hidden;position:absolute;top:0;left:0;padding:.2em;outline:0}.ui-dialog .ui-dialog-titlebar{padding:.4em 1em;position:relative}.ui-dialog .ui-dialog-title{float:left;margin:.1em 0;white-space:nowrap;width:90%;overflow:hidden;text-overflow:ellipsis}.ui-dialog .ui-dialog-titlebar-close{position:absolute;right:.3em;top:50%;width:20px;margin:-10px 0 0 0;padding:1px;height:20px}.ui-dialog .ui-dialog-content{position:relative;border:0;padding:.5em 1em;background:none;overflow:auto}.ui-dialog .ui-dialog-buttonpane{text-align:left;border-width:1px 0 0 0;background-image:none;margin-top:.5em;padding:.3em 1em .5em .4em}.ui-dialog .ui-dialog-buttonpane .ui-dialog-buttonset{float:right}.ui-dialog .ui-dialog-buttonpane button{margin:.5em .4em .5em 0;cursor:pointer}.ui-dialog .ui-resizable-se{width:12px;height:12px;right:-5px;bottom:-5px;background-position:16px 16px}.ui-draggable .ui-dialog-titlebar{cursor:move}.ui-menu{list-style:none;padding:2px;margin:0;display:block;outline:none}.ui-menu .ui-menu{margin-top:-3px;position:absolute}.ui-menu .ui-menu-item{margin:0;padding:0;width:100%;list-style-image:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)}.ui-menu .ui-menu-divider{margin:5px -2px 5px -2px;height:0;font-size:0;line-height:0;border-width:1px 0 0 0}.ui-menu .ui-menu-item a{text-decoration:none;display:block;padding:2px .4em;line-height:1.5;min-height:0;font-weight:normal}.ui-menu .ui-menu-item a.ui-state-focus,.ui-menu .ui-menu-item a.ui-state-active{font-weight:normal;margin:-1px}.ui-menu .ui-state-disabled{font-weight:normal;margin:.4em 0 .2em;line-height:1.5}.ui-menu .ui-state-disabled a{cursor:default}.ui-menu-icons{position:relative}.ui-menu-icons .ui-menu-item a{position:relative;padding-left:2em}.ui-menu .ui-icon{position:absolute;top:.2em;left:.2em}.ui-menu .ui-menu-icon{position:static;float:right}.ui-progressbar{height:2em;text-align:left;overflow:hidden}.ui-progressbar .ui-progressbar-value{margin:-1px;height:100%}.ui-progressbar .ui-progressbar-overlay{background:url(&quot;images/animated-overlay.gif&quot;);height:100%;filter:alpha(opacity=25);opacity:0.25}.ui-progressbar-indeterminate .ui-progressbar-value{background-image:none}.ui-slider{position:relative;text-align:left}.ui-slider .ui-slider-handle{position:absolute;z-index:2;width:1.2em;height:1.2em;cursor:default}.ui-slider .ui-slider-range{position:absolute;z-index:1;font-size:.7em;display:block;border:0;background-position:0 0}.ui-slider.ui-state-disabled .ui-slider-handle,.ui-slider.ui-state-disabled .ui-slider-range{filter:inherit}.ui-slider-horizontal{height:.8em}.ui-slider-horizontal .ui-slider-handle{top:-.3em;margin-left:-.6em}.ui-slider-horizontal .ui-slider-range{top:0;height:100%}.ui-slider-horizontal .ui-slider-range-min{left:0}.ui-slider-horizontal .ui-slider-range-max{right:0}.ui-slider-vertical{width:.8em;height:100px}.ui-slider-vertical .ui-slider-handle{left:-.3em;margin-left:0;margin-bottom:-.6em}.ui-slider-vertical .ui-slider-range{left:0;width:100%}.ui-slider-vertical .ui-slider-range-min{bottom:0}.ui-slider-vertical .ui-slider-range-max{top:0}.ui-spinner{position:relative;display:inline-block;overflow:hidden;padding:0;vertical-align:middle}.ui-spinner-input{border:none;background:none;color:inherit;padding:0;margin:.2em 0;vertical-align:middle;margin-left:.4em;margin-right:22px}.ui-spinner-button{width:16px;height:50%;font-size:.5em;padding:0;margin:0;text-align:center;position:absolute;cursor:default;display:block;overflow:hidden;right:0}.ui-spinner a.ui-spinner-button{border-top:none;border-bottom:none;border-right:none}.ui-spinner .ui-icon{position:absolute;margin-top:-8px;top:50%;left:0}.ui-spinner-up{top:0}.ui-spinner-down{bottom:0}.ui-spinner .ui-icon-triangle-1-s{background-position:-65px -16px}.ui-tabs{position:relative;padding:.2em}.ui-tabs .ui-tabs-nav{margin:0;padding:.2em .2em 0}.ui-tabs .ui-tabs-nav li{list-style:none;float:left;position:relative;top:0;margin:1px .2em 0 0;border-bottom-width:0;padding:0;white-space:nowrap}.ui-tabs .ui-tabs-nav .ui-tabs-anchor{float:left;padding:.5em 1em;text-decoration:none}.ui-tabs .ui-tabs-nav li.ui-tabs-active{margin-bottom:-1px;padding-bottom:1px}.ui-tabs .ui-tabs-nav li.ui-tabs-active .ui-tabs-anchor,.ui-tabs .ui-tabs-nav li.ui-state-disabled .ui-tabs-anchor,.ui-tabs .ui-tabs-nav li.ui-tabs-loading .ui-tabs-anchor{cursor:text}.ui-tabs-collapsible .ui-tabs-nav li.ui-tabs-active .ui-tabs-anchor{cursor:pointer}.ui-tabs .ui-tabs-panel{display:block;border-width:0;padding:1em 1.4em;background:none}.ui-tooltip{padding:8px;position:absolute;z-index:9999;max-width:300px;-webkit-box-shadow:0 0 5px #aaa;box-shadow:0 0 5px #aaa}body .ui-tooltip{border-width:2px}.ui-widget{font-family:Trebuchet MS,Tahoma,Verdana,Arial,sans-serif;font-size:1.1em}.ui-widget .ui-widget{font-size:1em}.ui-widget input,.ui-widget select,.ui-widget textarea,.ui-widget button{font-family:Trebuchet MS,Tahoma,Verdana,Arial,sans-serif;font-size:1em}.ui-widget-content{border:1px solid #ddd;background:#eee url(&quot;images/ui-bg_highlight-soft_100_eeeeee_1x100.png&quot;) 50% top repeat-x;color:#333}.ui-widget-content a{color:#333}.ui-widget-header{border:1px solid #e78f08;background:#f6a828 url(&quot;images/ui-bg_gloss-wave_35_f6a828_500x100.png&quot;) 50% 50% repeat-x;color:#fff;font-weight:bold}.ui-widget-header a{color:#fff}.ui-state-default,.ui-widget-content .ui-state-default,.ui-widget-header .ui-state-default{border:1px solid #ccc;background:#f6f6f6 url(&quot;images/ui-bg_glass_100_f6f6f6_1x400.png&quot;) 50% 50% repeat-x;font-weight:bold;color:#1c94c4}.ui-state-default a,.ui-state-default a:link,.ui-state-default a:visited{color:#1c94c4;text-decoration:none}.ui-state-hover,.ui-widget-content .ui-state-hover,.ui-widget-header .ui-state-hover,.ui-state-focus,.ui-widget-content .ui-state-focus,.ui-widget-header .ui-state-focus{border:1px solid #fbcb09;background:#fdf5ce url(&quot;images/ui-bg_glass_100_fdf5ce_1x400.png&quot;) 50% 50% repeat-x;font-weight:bold;color:#c77405}.ui-state-hover a,.ui-state-hover a:hover,.ui-state-hover a:link,.ui-state-hover a:visited,.ui-state-focus a,.ui-state-focus a:hover,.ui-state-focus a:link,.ui-state-focus a:visited{color:#c77405;text-decoration:none}.ui-state-active,.ui-widget-content .ui-state-active,.ui-widget-header .ui-state-active{border:1px solid #fbd850;background:#fff url(&quot;images/ui-bg_glass_65_ffffff_1x400.png&quot;) 50% 50% repeat-x;font-weight:bold;color:#eb8f00}.ui-state-active a,.ui-state-active a:link,.ui-state-active a:visited{color:#eb8f00;text-decoration:none}.ui-state-highlight,.ui-widget-content .ui-state-highlight,.ui-widget-header .ui-state-highlight{border:1px solid #fed22f;background:#ffe45c url(&quot;images/ui-bg_highlight-soft_75_ffe45c_1x100.png&quot;) 50% top repeat-x;color:#363636}.ui-state-highlight a,.ui-widget-content .ui-state-highlight a,.ui-widget-header .ui-state-highlight a{color:#363636}.ui-state-error,.ui-widget-content .ui-state-error,.ui-widget-header .ui-state-error{border:1px solid #cd0a0a;background:#b81900 url(&quot;images/ui-bg_diagonals-thick_18_b81900_40x40.png&quot;) 50% 50% repeat;color:#fff}.ui-state-error a,.ui-widget-content .ui-state-error a,.ui-widget-header .ui-state-error a{color:#fff}.ui-state-error-text,.ui-widget-content .ui-state-error-text,.ui-widget-header .ui-state-error-text{color:#fff}.ui-priority-primary,.ui-widget-content .ui-priority-primary,.ui-widget-header .ui-priority-primary{font-weight:bold}.ui-priority-secondary,.ui-widget-content .ui-priority-secondary,.ui-widget-header .ui-priority-secondary{opacity:.7;filter:Alpha(Opacity=70);font-weight:normal}.ui-state-disabled,.ui-widget-content .ui-state-disabled,.ui-widget-header .ui-state-disabled{opacity:.35;filter:Alpha(Opacity=35);background-image:none}.ui-state-disabled .ui-icon{filter:Alpha(Opacity=35)}.ui-icon{width:16px;height:16px}.ui-icon,.ui-widget-content .ui-icon{background-image:url(&quot;images/ui-icons_222222_256x240.png&quot;)}.ui-widget-header .ui-icon{background-image:url(&quot;images/ui-icons_ffffff_256x240.png&quot;)}.ui-state-default .ui-icon{background-image:url(&quot;images/ui-icons_ef8c08_256x240.png&quot;)}.ui-state-hover .ui-icon,.ui-state-focus .ui-icon{background-image:url(&quot;images/ui-icons_ef8c08_256x240.png&quot;)}.ui-state-active .ui-icon{background-image:url(&quot;images/ui-icons_ef8c08_256x240.png&quot;)}.ui-state-highlight .ui-icon{background-image:url(&quot;images/ui-icons_228ef1_256x240.png&quot;)}.ui-state-error .ui-icon,.ui-state-error-text .ui-icon{background-image:url(&quot;images/ui-icons_ffd27a_256x240.png&quot;)}.ui-icon-blank{background-position:16px 16px}.ui-icon-carat-1-n{background-position:0 0}.ui-icon-carat-1-ne{background-position:-16px 0}.ui-icon-carat-1-e{background-position:-32px 0}.ui-icon-carat-1-se{background-position:-48px 0}.ui-icon-carat-1-s{background-position:-64px 0}.ui-icon-carat-1-sw{background-position:-80px 0}.ui-icon-carat-1-w{background-position:-96px 0}.ui-icon-carat-1-nw{background-position:-112px 0}.ui-icon-carat-2-n-s{background-position:-128px 0}.ui-icon-carat-2-e-w{background-position:-144px 0}.ui-icon-triangle-1-n{background-position:0 -16px}.ui-icon-triangle-1-ne{background-position:-16px -16px}.ui-icon-triangle-1-e{background-position:-32px -16px}.ui-icon-triangle-1-se{background-position:-48px -16px}.ui-icon-triangle-1-s{background-position:-64px -16px}.ui-icon-triangle-1-sw{background-position:-80px -16px}.ui-icon-triangle-1-w{background-position:-96px -16px}.ui-icon-triangle-1-nw{background-position:-112px -16px}.ui-icon-triangle-2-n-s{background-position:-128px -16px}.ui-icon-triangle-2-e-w{background-position:-144px -16px}.ui-icon-arrow-1-n{background-position:0 -32px}.ui-icon-arrow-1-ne{background-position:-16px -32px}.ui-icon-arrow-1-e{background-position:-32px -32px}.ui-icon-arrow-1-se{background-position:-48px -32px}.ui-icon-arrow-1-s{background-position:-64px -32px}.ui-icon-arrow-1-sw{background-position:-80px -32px}.ui-icon-arrow-1-w{background-position:-96px -32px}.ui-icon-arrow-1-nw{background-position:-112px -32px}.ui-icon-arrow-2-n-s{background-position:-128px -32px}.ui-icon-arrow-2-ne-sw{background-position:-144px -32px}.ui-icon-arrow-2-e-w{background-position:-160px -32px}.ui-icon-arrow-2-se-nw{background-position:-176px -32px}.ui-icon-arrowstop-1-n{background-position:-192px -32px}.ui-icon-arrowstop-1-e{background-position:-208px -32px}.ui-icon-arrowstop-1-s{background-position:-224px -32px}.ui-icon-arrowstop-1-w{background-position:-240px -32px}.ui-icon-arrowthick-1-n{background-position:0 -48px}.ui-icon-arrowthick-1-ne{background-position:-16px -48px}.ui-icon-arrowthick-1-e{background-position:-32px -48px}.ui-icon-arrowthick-1-se{background-position:-48px -48px}.ui-icon-arrowthick-1-s{background-position:-64px -48px}.ui-icon-arrowthick-1-sw{background-position:-80px -48px}.ui-icon-arrowthick-1-w{background-position:-96px -48px}.ui-icon-arrowthick-1-nw{background-position:-112px -48px}.ui-icon-arrowthick-2-n-s{background-position:-128px -48px}.ui-icon-arrowthick-2-ne-sw{background-position:-144px -48px}.ui-icon-arrowthick-2-e-w{background-position:-160px -48px}.ui-icon-arrowthick-2-se-nw{background-position:-176px -48px}.ui-icon-arrowthickstop-1-n{background-position:-192px -48px}.ui-icon-arrowthickstop-1-e{background-position:-208px -48px}.ui-icon-arrowthickstop-1-s{background-position:-224px -48px}.ui-icon-arrowthickstop-1-w{background-position:-240px -48px}.ui-icon-arrowreturnthick-1-w{background-position:0 -64px}.ui-icon-arrowreturnthick-1-n{background-position:-16px -64px}.ui-icon-arrowreturnthick-1-e{background-position:-32px -64px}.ui-icon-arrowreturnthick-1-s{background-position:-48px -64px}.ui-icon-arrowreturn-1-w{background-position:-64px -64px}.ui-icon-arrowreturn-1-n{background-position:-80px -64px}.ui-icon-arrowreturn-1-e{background-position:-96px -64px}.ui-icon-arrowreturn-1-s{background-position:-112px -64px}.ui-icon-arrowrefresh-1-w{background-position:-128px -64px}.ui-icon-arrowrefresh-1-n{background-position:-144px -64px}.ui-icon-arrowrefresh-1-e{background-position:-160px -64px}.ui-icon-arrowrefresh-1-s{background-position:-176px -64px}.ui-icon-arrow-4{background-position:0 -80px}.ui-icon-arrow-4-diag{background-position:-16px -80px}.ui-icon-extlink{background-position:-32px -80px}.ui-icon-newwin{background-position:-48px -80px}.ui-icon-refresh{background-position:-64px -80px}.ui-icon-shuffle{background-position:-80px -80px}.ui-icon-transfer-e-w{background-position:-96px -80px}.ui-icon-transferthick-e-w{background-position:-112px -80px}.ui-icon-folder-collapsed{background-position:0 -96px}.ui-icon-folder-open{background-position:-16px -96px}.ui-icon-document{background-position:-32px -96px}.ui-icon-document-b{background-position:-48px -96px}.ui-icon-note{background-position:-64px -96px}.ui-icon-mail-closed{background-position:-80px -96px}.ui-icon-mail-open{background-position:-96px -96px}.ui-icon-suitcase{background-position:-112px -96px}.ui-icon-comment{background-position:-128px -96px}.ui-icon-person{background-position:-144px -96px}.ui-icon-print{background-position:-160px -96px}.ui-icon-trash{background-position:-176px -96px}.ui-icon-locked{background-position:-192px -96px}.ui-icon-unlocked{background-position:-208px -96px}.ui-icon-bookmark{background-position:-224px -96px}.ui-icon-tag{background-position:-240px -96px}.ui-icon-home{background-position:0 -112px}.ui-icon-flag{background-position:-16px -112px}.ui-icon-calendar{background-position:-32px -112px}.ui-icon-cart{background-position:-48px -112px}.ui-icon-pencil{background-position:-64px -112px}.ui-icon-clock{background-position:-80px -112px}.ui-icon-disk{background-position:-96px -112px}.ui-icon-calculator{background-position:-112px -112px}.ui-icon-zoomin{background-position:-128px -112px}.ui-icon-zoomout{background-position:-144px -112px}.ui-icon-search{background-position:-160px -112px}.ui-icon-wrench{background-position:-176px -112px}.ui-icon-gear{background-position:-192px -112px}.ui-icon-heart{background-position:-208px -112px}.ui-icon-star{background-position:-224px -112px}.ui-icon-link{background-position:-240px -112px}.ui-icon-cancel{background-position:0 -128px}.ui-icon-plus{background-position:-16px -128px}.ui-icon-plusthick{background-position:-32px -128px}.ui-icon-minus{background-position:-48px -128px}.ui-icon-minusthick{background-position:-64px -128px}.ui-icon-close{background-position:-80px -128px}.ui-icon-closethick{background-position:-96px -128px}.ui-icon-key{background-position:-112px -128px}.ui-icon-lightbulb{background-position:-128px -128px}.ui-icon-scissors{background-position:-144px -128px}.ui-icon-clipboard{background-position:-160px -128px}.ui-icon-copy{background-position:-176px -128px}.ui-icon-contact{background-position:-192px -128px}.ui-icon-image{background-position:-208px -128px}.ui-icon-video{background-position:-224px -128px}.ui-icon-script{background-position:-240px -128px}.ui-icon-alert{background-position:0 -144px}.ui-icon-info{background-position:-16px -144px}.ui-icon-notice{background-position:-32px -144px}.ui-icon-help{background-position:-48px -144px}.ui-icon-check{background-position:-64px -144px}.ui-icon-bullet{background-position:-80px -144px}.ui-icon-radio-on{background-position:-96px -144px}.ui-icon-radio-off{background-position:-112px -144px}.ui-icon-pin-w{background-position:-128px -144px}.ui-icon-pin-s{background-position:-144px -144px}.ui-icon-play{background-position:0 -160px}.ui-icon-pause{background-position:-16px -160px}.ui-icon-seek-next{background-position:-32px -160px}.ui-icon-seek-prev{background-position:-48px -160px}.ui-icon-seek-end{background-position:-64px -160px}.ui-icon-seek-start{background-position:-80px -160px}.ui-icon-seek-first{background-position:-80px -160px}.ui-icon-stop{background-position:-96px -160px}.ui-icon-eject{background-position:-112px -160px}.ui-icon-volume-off{background-position:-128px -160px}.ui-icon-volume-on{background-position:-144px -160px}.ui-icon-power{background-position:0 -176px}.ui-icon-signal-diag{background-position:-16px -176px}.ui-icon-signal{background-position:-32px -176px}.ui-icon-battery-0{background-position:-48px -176px}.ui-icon-battery-1{background-position:-64px -176px}.ui-icon-battery-2{background-position:-80px -176px}.ui-icon-battery-3{background-position:-96px -176px}.ui-icon-circle-plus{background-position:0 -192px}.ui-icon-circle-minus{background-position:-16px -192px}.ui-icon-circle-close{background-position:-32px -192px}.ui-icon-circle-triangle-e{background-position:-48px -192px}.ui-icon-circle-triangle-s{background-position:-64px -192px}.ui-icon-circle-triangle-w{background-position:-80px -192px}.ui-icon-circle-triangle-n{background-position:-96px -192px}.ui-icon-circle-arrow-e{background-position:-112px -192px}.ui-icon-circle-arrow-s{background-position:-128px -192px}.ui-icon-circle-arrow-w{background-position:-144px -192px}.ui-icon-circle-arrow-n{background-position:-160px -192px}.ui-icon-circle-zoomin{background-position:-176px -192px}.ui-icon-circle-zoomout{background-position:-192px -192px}.ui-icon-circle-check{background-position:-208px -192px}.ui-icon-circlesmall-plus{background-position:0 -208px}.ui-icon-circlesmall-minus{background-position:-16px -208px}.ui-icon-circlesmall-close{background-position:-32px -208px}.ui-icon-squaresmall-plus{background-position:-48px -208px}.ui-icon-squaresmall-minus{background-position:-64px -208px}.ui-icon-squaresmall-close{background-position:-80px -208px}.ui-icon-grip-dotted-vertical{background-position:0 -224px}.ui-icon-grip-dotted-horizontal{background-position:-16px -224px}.ui-icon-grip-solid-vertical{background-position:-32px -224px}.ui-icon-grip-solid-horizontal{background-position:-48px -224px}.ui-icon-gripsmall-diagonal-se{background-position:-64px -224px}.ui-icon-grip-diagonal-se{background-position:-80px -224px}.ui-corner-all,.ui-corner-top,.ui-corner-left,.ui-corner-tl{border-top-left-radius:4px}.ui-corner-all,.ui-corner-top,.ui-corner-right,.ui-corner-tr{border-top-right-radius:4px}.ui-corner-all,.ui-corner-bottom,.ui-corner-left,.ui-corner-bl{border-bottom-left-radius:4px}.ui-corner-all,.ui-corner-bottom,.ui-corner-right,.ui-corner-br{border-bottom-right-radius:4px}.ui-widget-overlay{background:#666 url(&quot;images/ui-bg_diagonals-thick_20_666666_40x40.png&quot;) 50% 50% repeat;opacity:.5;filter:Alpha(Opacity=50)}.ui-widget-shadow{margin:-5px 0 0 -5px;padding:5px;background:#000 url(&quot;images/ui-bg_flat_10_000000_40x100.png&quot;) 50% 50% repeat-x;opacity:.2;filter:Alpha(Opacity=20);border-radius:5px}
/*}}}*/</pre>
</div>
<div title="jquery-v1.10.2" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405162054" tags="systemConfig systemConfigDisable excludeTimeline jquery js" changecount="5" content-type="text/x-tiddlywiki">
<pre>/***
http://code.jquery.com/jquery.min.js
***/
//{{{
/*! jQuery v1.10.2 | (c) 2005, 2013 jQuery Foundation, Inc. | jquery.org/license
//@ sourceMappingURL=jquery.min.map
*/
(function(e,t){var n,r,i=typeof t,o=e.location,a=e.document,s=a.documentElement,l=e.jQuery,u=e.$,c={},p=[],f=&quot;1.10.2&quot;,d=p.concat,h=p.push,g=p.slice,m=p.indexOf,y=c.toString,v=c.hasOwnProperty,b=f.trim,x=function(e,t){return new x.fn.init(e,t,r)},w=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=/\S+/g,C=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,N=/^(?:\s*(&lt;[\w\W]+&gt;)[^&gt;]*|#([\w-]*))$/,k=/^&lt;(\w+)\s*\/?&gt;(?:&lt;\/\1&gt;|)$/,E=/^[\],:{}\s]*$/,S=/(?:^|:|,)(?:\s*\[)+/g,A=/\\(?:[&quot;\\\/bfnrt]|u[\da-fA-F]{4})/g,j=/&quot;[^&quot;\\\r\n]*&quot;|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,D=/^-ms-/,L=/-([\da-z])/gi,H=function(e,t){return t.toUpperCase()},q=function(e){(a.addEventListener||&quot;load&quot;===e.type||&quot;complete&quot;===a.readyState)&amp;&amp;(_(),x.ready())},_=function(){a.addEventListener?(a.removeEventListener(&quot;DOMContentLoaded&quot;,q,!1),e.removeEventListener(&quot;load&quot;,q,!1)):(a.detachEvent(&quot;onreadystatechange&quot;,q),e.detachEvent(&quot;onload&quot;,q))};x.fn=x.prototype={jquery:f,constructor:x,init:function(e,n,r){var i,o;if(!e)return this;if(&quot;string&quot;==typeof e){if(i=&quot;&lt;&quot;===e.charAt(0)&amp;&amp;&quot;&gt;&quot;===e.charAt(e.length-1)&amp;&amp;e.length&gt;=3?[null,e,null]:N.exec(e),!i||!i[1]&amp;&amp;n)return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e);if(i[1]){if(n=n instanceof x?n[0]:n,x.merge(this,x.parseHTML(i[1],n&amp;&amp;n.nodeType?n.ownerDocument||n:a,!0)),k.test(i[1])&amp;&amp;x.isPlainObject(n))for(i in n)x.isFunction(this[i])?this[i](n[i]):this.attr(i,n[i]);return this}if(o=a.getElementById(i[2]),o&amp;&amp;o.parentNode){if(o.id!==i[2])return r.find(e);this.length=1,this[0]=o}return this.context=a,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):x.isFunction(e)?r.ready(e):(e.selector!==t&amp;&amp;(this.selector=e.selector,this.context=e.context),x.makeArray(e,this))},selector:&quot;&quot;,length:0,toArray:function(){return g.call(this)},get:function(e){return null==e?this.toArray():0&gt;e?this[this.length+e]:this[e]},pushStack:function(e){var t=x.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return x.each(this,e,t)},ready:function(e){return x.ready.promise().done(e),this},slice:function(){return this.pushStack(g.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0&gt;e?t:0);return this.pushStack(n&gt;=0&amp;&amp;t&gt;n?[this[n]]:[])},map:function(e){return this.pushStack(x.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:h,sort:[].sort,splice:[].splice},x.fn.init.prototype=x.fn,x.extend=x.fn.extend=function(){var e,n,r,i,o,a,s=arguments[0]||{},l=1,u=arguments.length,c=!1;for(&quot;boolean&quot;==typeof s&amp;&amp;(c=s,s=arguments[1]||{},l=2),&quot;object&quot;==typeof s||x.isFunction(s)||(s={}),u===l&amp;&amp;(s=this,--l);u&gt;l;l++)if(null!=(o=arguments[l]))for(i in o)e=s[i],r=o[i],s!==r&amp;&amp;(c&amp;&amp;r&amp;&amp;(x.isPlainObject(r)||(n=x.isArray(r)))?(n?(n=!1,a=e&amp;&amp;x.isArray(e)?e:[]):a=e&amp;&amp;x.isPlainObject(e)?e:{},s[i]=x.extend(c,a,r)):r!==t&amp;&amp;(s[i]=r));return s},x.extend({expando:&quot;jQuery&quot;+(f+Math.random()).replace(/\D/g,&quot;&quot;),noConflict:function(t){return e.$===x&amp;&amp;(e.$=u),t&amp;&amp;e.jQuery===x&amp;&amp;(e.jQuery=l),x},isReady:!1,readyWait:1,holdReady:function(e){e?x.readyWait++:x.ready(!0)},ready:function(e){if(e===!0?!--x.readyWait:!x.isReady){if(!a.body)return setTimeout(x.ready);x.isReady=!0,e!==!0&amp;&amp;--x.readyWait&gt;0||(n.resolveWith(a,[x]),x.fn.trigger&amp;&amp;x(a).trigger(&quot;ready&quot;).off(&quot;ready&quot;))}},isFunction:function(e){return&quot;function&quot;===x.type(e)},isArray:Array.isArray||function(e){return&quot;array&quot;===x.type(e)},isWindow:function(e){return null!=e&amp;&amp;e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&amp;&amp;isFinite(e)},type:function(e){return null==e?e+&quot;&quot;:&quot;object&quot;==typeof e||&quot;function&quot;==typeof e?c[y.call(e)]||&quot;object&quot;:typeof e},isPlainObject:function(e){var n;if(!e||&quot;object&quot;!==x.type(e)||e.nodeType||x.isWindow(e))return!1;try{if(e.constructor&amp;&amp;!v.call(e,&quot;constructor&quot;)&amp;&amp;!v.call(e.constructor.prototype,&quot;isPrototypeOf&quot;))return!1}catch(r){return!1}if(x.support.ownLast)for(n in e)return v.call(e,n);for(n in e);return n===t||v.call(e,n)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw Error(e)},parseHTML:function(e,t,n){if(!e||&quot;string&quot;!=typeof e)return null;&quot;boolean&quot;==typeof t&amp;&amp;(n=t,t=!1),t=t||a;var r=k.exec(e),i=!n&amp;&amp;[];return r?[t.createElement(r[1])]:(r=x.buildFragment([e],t,i),i&amp;&amp;x(i).remove(),x.merge([],r.childNodes))},parseJSON:function(n){return e.JSON&amp;&amp;e.JSON.parse?e.JSON.parse(n):null===n?n:&quot;string&quot;==typeof n&amp;&amp;(n=x.trim(n),n&amp;&amp;E.test(n.replace(A,&quot;@&quot;).replace(j,&quot;]&quot;).replace(S,&quot;&quot;)))?Function(&quot;return &quot;+n)():(x.error(&quot;Invalid JSON: &quot;+n),t)},parseXML:function(n){var r,i;if(!n||&quot;string&quot;!=typeof n)return null;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,&quot;text/xml&quot;)):(r=new ActiveXObject(&quot;Microsoft.XMLDOM&quot;),r.async=&quot;false&quot;,r.loadXML(n))}catch(o){r=t}return r&amp;&amp;r.documentElement&amp;&amp;!r.getElementsByTagName(&quot;parsererror&quot;).length||x.error(&quot;Invalid XML: &quot;+n),r},noop:function(){},globalEval:function(t){t&amp;&amp;x.trim(t)&amp;&amp;(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(D,&quot;ms-&quot;).replace(L,H)},nodeName:function(e,t){return e.nodeName&amp;&amp;e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,i=0,o=e.length,a=M(e);if(n){if(a){for(;o&gt;i;i++)if(r=t.apply(e[i],n),r===!1)break}else for(i in e)if(r=t.apply(e[i],n),r===!1)break}else if(a){for(;o&gt;i;i++)if(r=t.call(e[i],i,e[i]),r===!1)break}else for(i in e)if(r=t.call(e[i],i,e[i]),r===!1)break;return e},trim:b&amp;&amp;!b.call(&quot;\ufeff\u00a0&quot;)?function(e){return null==e?&quot;&quot;:b.call(e)}:function(e){return null==e?&quot;&quot;:(e+&quot;&quot;).replace(C,&quot;&quot;)},makeArray:function(e,t){var n=t||[];return null!=e&amp;&amp;(M(Object(e))?x.merge(n,&quot;string&quot;==typeof e?[e]:e):h.call(n,e)),n},inArray:function(e,t,n){var r;if(t){if(m)return m.call(t,e,n);for(r=t.length,n=n?0&gt;n?Math.max(0,r+n):n:0;r&gt;n;n++)if(n in t&amp;&amp;t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,i=e.length,o=0;if(&quot;number&quot;==typeof r)for(;r&gt;o;o++)e[i++]=n[o];else while(n[o]!==t)e[i++]=n[o++];return e.length=i,e},grep:function(e,t,n){var r,i=[],o=0,a=e.length;for(n=!!n;a&gt;o;o++)r=!!t(e[o],o),n!==r&amp;&amp;i.push(e[o]);return i},map:function(e,t,n){var r,i=0,o=e.length,a=M(e),s=[];if(a)for(;o&gt;i;i++)r=t(e[i],i,n),null!=r&amp;&amp;(s[s.length]=r);else for(i in e)r=t(e[i],i,n),null!=r&amp;&amp;(s[s.length]=r);return d.apply([],s)},guid:1,proxy:function(e,n){var r,i,o;return&quot;string&quot;==typeof n&amp;&amp;(o=e[n],n=e,e=o),x.isFunction(e)?(r=g.call(arguments,2),i=function(){return e.apply(n||this,r.concat(g.call(arguments)))},i.guid=e.guid=e.guid||x.guid++,i):t},access:function(e,n,r,i,o,a,s){var l=0,u=e.length,c=null==r;if(&quot;object&quot;===x.type(r)){o=!0;for(l in r)x.access(e,n,l,r[l],!0,a,s)}else if(i!==t&amp;&amp;(o=!0,x.isFunction(i)||(s=!0),c&amp;&amp;(s?(n.call(e,i),n=null):(c=n,n=function(e,t,n){return c.call(x(e),n)})),n))for(;u&gt;l;l++)n(e[l],r,s?i:i.call(e[l],l,n(e[l],r)));return o?e:c?n.call(e):u?n(e[0],r):a},now:function(){return(new Date).getTime()},swap:function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i}}),x.ready.promise=function(t){if(!n)if(n=x.Deferred(),&quot;complete&quot;===a.readyState)setTimeout(x.ready);else if(a.addEventListener)a.addEventListener(&quot;DOMContentLoaded&quot;,q,!1),e.addEventListener(&quot;load&quot;,q,!1);else{a.attachEvent(&quot;onreadystatechange&quot;,q),e.attachEvent(&quot;onload&quot;,q);var r=!1;try{r=null==e.frameElement&amp;&amp;a.documentElement}catch(i){}r&amp;&amp;r.doScroll&amp;&amp;function o(){if(!x.isReady){try{r.doScroll(&quot;left&quot;)}catch(e){return setTimeout(o,50)}_(),x.ready()}}()}return n.promise(t)},x.each(&quot;Boolean Number String Function Array Date RegExp Object Error&quot;.split(&quot; &quot;),function(e,t){c[&quot;[object &quot;+t+&quot;]&quot;]=t.toLowerCase()});function M(e){var t=e.length,n=x.type(e);return x.isWindow(e)?!1:1===e.nodeType&amp;&amp;t?!0:&quot;array&quot;===n||&quot;function&quot;!==n&amp;&amp;(0===t||&quot;number&quot;==typeof t&amp;&amp;t&gt;0&amp;&amp;t-1 in e)}r=x(a),function(e,t){var n,r,i,o,a,s,l,u,c,p,f,d,h,g,m,y,v,b=&quot;sizzle&quot;+-new Date,w=e.document,T=0,C=0,N=st(),k=st(),E=st(),S=!1,A=function(e,t){return e===t?(S=!0,0):0},j=typeof t,D=1&lt;&lt;31,L={}.hasOwnProperty,H=[],q=H.pop,_=H.push,M=H.push,O=H.slice,F=H.indexOf||function(e){var t=0,n=this.length;for(;n&gt;t;t++)if(this[t]===e)return t;return-1},B=&quot;checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped&quot;,P=&quot;[\\x20\\t\\r\\n\\f]&quot;,R=&quot;(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+&quot;,W=R.replace(&quot;w&quot;,&quot;w#&quot;),$=&quot;\\[&quot;+P+&quot;*(&quot;+R+&quot;)&quot;+P+&quot;*(?:([*^$|!~]?=)&quot;+P+&quot;*(?:(['\&quot;])((?:\\\\.|[^\\\\])*?)\\3|(&quot;+W+&quot;)|)|)&quot;+P+&quot;*\\]&quot;,I=&quot;:(&quot;+R+&quot;)(?:\\(((['\&quot;])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|&quot;+$.replace(3,8)+&quot;)*)|.*)\\)|)&quot;,z=RegExp(&quot;^&quot;+P+&quot;+|((?:^|[^\\\\])(?:\\\\.)*)&quot;+P+&quot;+$&quot;,&quot;g&quot;),X=RegExp(&quot;^&quot;+P+&quot;*,&quot;+P+&quot;*&quot;),U=RegExp(&quot;^&quot;+P+&quot;*([&gt;+~]|&quot;+P+&quot;)&quot;+P+&quot;*&quot;),V=RegExp(P+&quot;*[+~]&quot;),Y=RegExp(&quot;=&quot;+P+&quot;*([^\\]'\&quot;]*)&quot;+P+&quot;*\\]&quot;,&quot;g&quot;),J=RegExp(I),G=RegExp(&quot;^&quot;+W+&quot;$&quot;),Q={ID:RegExp(&quot;^#(&quot;+R+&quot;)&quot;),CLASS:RegExp(&quot;^\\.(&quot;+R+&quot;)&quot;),TAG:RegExp(&quot;^(&quot;+R.replace(&quot;w&quot;,&quot;w*&quot;)+&quot;)&quot;),ATTR:RegExp(&quot;^&quot;+$),PSEUDO:RegExp(&quot;^&quot;+I),CHILD:RegExp(&quot;^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(&quot;+P+&quot;*(even|odd|(([+-]|)(\\d*)n|)&quot;+P+&quot;*(?:([+-]|)&quot;+P+&quot;*(\\d+)|))&quot;+P+&quot;*\\)|)&quot;,&quot;i&quot;),bool:RegExp(&quot;^(?:&quot;+B+&quot;)$&quot;,&quot;i&quot;),needsContext:RegExp(&quot;^&quot;+P+&quot;*[&gt;+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(&quot;+P+&quot;*((?:-\\d)?\\d*)&quot;+P+&quot;*\\)|)(?=[^-]|$)&quot;,&quot;i&quot;)},K=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,et=/^(?:input|select|textarea|button)$/i,tt=/^h\d$/i,nt=/'|\\/g,rt=RegExp(&quot;\\\\([\\da-f]{1,6}&quot;+P+&quot;?|(&quot;+P+&quot;)|.)&quot;,&quot;ig&quot;),it=function(e,t,n){var r=&quot;0x&quot;+t-65536;return r!==r||n?t:0&gt;r?String.fromCharCode(r+65536):String.fromCharCode(55296|r&gt;&gt;10,56320|1023&amp;r)};try{M.apply(H=O.call(w.childNodes),w.childNodes),H[w.childNodes.length].nodeType}catch(ot){M={apply:H.length?function(e,t){_.apply(e,O.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}function at(e,t,n,i){var o,a,s,l,u,c,d,m,y,x;if((t?t.ownerDocument||t:w)!==f&amp;&amp;p(t),t=t||f,n=n||[],!e||&quot;string&quot;!=typeof e)return n;if(1!==(l=t.nodeType)&amp;&amp;9!==l)return[];if(h&amp;&amp;!i){if(o=Z.exec(e))if(s=o[1]){if(9===l){if(a=t.getElementById(s),!a||!a.parentNode)return n;if(a.id===s)return n.push(a),n}else if(t.ownerDocument&amp;&amp;(a=t.ownerDocument.getElementById(s))&amp;&amp;v(t,a)&amp;&amp;a.id===s)return n.push(a),n}else{if(o[2])return M.apply(n,t.getElementsByTagName(e)),n;if((s=o[3])&amp;&amp;r.getElementsByClassName&amp;&amp;t.getElementsByClassName)return M.apply(n,t.getElementsByClassName(s)),n}if(r.qsa&amp;&amp;(!g||!g.test(e))){if(m=d=b,y=t,x=9===l&amp;&amp;e,1===l&amp;&amp;&quot;object&quot;!==t.nodeName.toLowerCase()){c=mt(e),(d=t.getAttribute(&quot;id&quot;))?m=d.replace(nt,&quot;\\$&amp;&quot;):t.setAttribute(&quot;id&quot;,m),m=&quot;[id='&quot;+m+&quot;'] &quot;,u=c.length;while(u--)c[u]=m+yt(c[u]);y=V.test(e)&amp;&amp;t.parentNode||t,x=c.join(&quot;,&quot;)}if(x)try{return M.apply(n,y.querySelectorAll(x)),n}catch(T){}finally{d||t.removeAttribute(&quot;id&quot;)}}}return kt(e.replace(z,&quot;$1&quot;),t,n,i)}function st(){var e=[];function t(n,r){return e.push(n+=&quot; &quot;)&gt;o.cacheLength&amp;&amp;delete t[e.shift()],t[n]=r}return t}function lt(e){return e[b]=!0,e}function ut(e){var t=f.createElement(&quot;div&quot;);try{return!!e(t)}catch(n){return!1}finally{t.parentNode&amp;&amp;t.parentNode.removeChild(t),t=null}}function ct(e,t){var n=e.split(&quot;|&quot;),r=e.length;while(r--)o.attrHandle[n[r]]=t}function pt(e,t){var n=t&amp;&amp;e,r=n&amp;&amp;1===e.nodeType&amp;&amp;1===t.nodeType&amp;&amp;(~t.sourceIndex||D)-(~e.sourceIndex||D);if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function ft(e){return function(t){var n=t.nodeName.toLowerCase();return&quot;input&quot;===n&amp;&amp;t.type===e}}function dt(e){return function(t){var n=t.nodeName.toLowerCase();return(&quot;input&quot;===n||&quot;button&quot;===n)&amp;&amp;t.type===e}}function ht(e){return lt(function(t){return t=+t,lt(function(n,r){var i,o=e([],n.length,t),a=o.length;while(a--)n[i=o[a]]&amp;&amp;(n[i]=!(r[i]=n[i]))})})}s=at.isXML=function(e){var t=e&amp;&amp;(e.ownerDocument||e).documentElement;return t?&quot;HTML&quot;!==t.nodeName:!1},r=at.support={},p=at.setDocument=function(e){var n=e?e.ownerDocument||e:w,i=n.defaultView;return n!==f&amp;&amp;9===n.nodeType&amp;&amp;n.documentElement?(f=n,d=n.documentElement,h=!s(n),i&amp;&amp;i.attachEvent&amp;&amp;i!==i.top&amp;&amp;i.attachEvent(&quot;onbeforeunload&quot;,function(){p()}),r.attributes=ut(function(e){return e.className=&quot;i&quot;,!e.getAttribute(&quot;className&quot;)}),r.getElementsByTagName=ut(function(e){return e.appendChild(n.createComment(&quot;&quot;)),!e.getElementsByTagName(&quot;*&quot;).length}),r.getElementsByClassName=ut(function(e){return e.innerHTML=&quot;&lt;div class='a'&gt;&lt;/div&gt;&lt;div class='a i'&gt;&lt;/div&gt;&quot;,e.firstChild.className=&quot;i&quot;,2===e.getElementsByClassName(&quot;i&quot;).length}),r.getById=ut(function(e){return d.appendChild(e).id=b,!n.getElementsByName||!n.getElementsByName(b).length}),r.getById?(o.find.ID=function(e,t){if(typeof t.getElementById!==j&amp;&amp;h){var n=t.getElementById(e);return n&amp;&amp;n.parentNode?[n]:[]}},o.filter.ID=function(e){var t=e.replace(rt,it);return function(e){return e.getAttribute(&quot;id&quot;)===t}}):(delete o.find.ID,o.filter.ID=function(e){var t=e.replace(rt,it);return function(e){var n=typeof e.getAttributeNode!==j&amp;&amp;e.getAttributeNode(&quot;id&quot;);return n&amp;&amp;n.value===t}}),o.find.TAG=r.getElementsByTagName?function(e,n){return typeof n.getElementsByTagName!==j?n.getElementsByTagName(e):t}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if(&quot;*&quot;===e){while(n=o[i++])1===n.nodeType&amp;&amp;r.push(n);return r}return o},o.find.CLASS=r.getElementsByClassName&amp;&amp;function(e,n){return typeof n.getElementsByClassName!==j&amp;&amp;h?n.getElementsByClassName(e):t},m=[],g=[],(r.qsa=K.test(n.querySelectorAll))&amp;&amp;(ut(function(e){e.innerHTML=&quot;&lt;select&gt;&lt;option selected=''&gt;&lt;/option&gt;&lt;/select&gt;&quot;,e.querySelectorAll(&quot;[selected]&quot;).length||g.push(&quot;\\[&quot;+P+&quot;*(?:value|&quot;+B+&quot;)&quot;),e.querySelectorAll(&quot;:checked&quot;).length||g.push(&quot;:checked&quot;)}),ut(function(e){var t=n.createElement(&quot;input&quot;);t.setAttribute(&quot;type&quot;,&quot;hidden&quot;),e.appendChild(t).setAttribute(&quot;t&quot;,&quot;&quot;),e.querySelectorAll(&quot;[t^='']&quot;).length&amp;&amp;g.push(&quot;[*^$]=&quot;+P+&quot;*(?:''|\&quot;\&quot;)&quot;),e.querySelectorAll(&quot;:enabled&quot;).length||g.push(&quot;:enabled&quot;,&quot;:disabled&quot;),e.querySelectorAll(&quot;*,:x&quot;),g.push(&quot;,.*:&quot;)})),(r.matchesSelector=K.test(y=d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&amp;&amp;ut(function(e){r.disconnectedMatch=y.call(e,&quot;div&quot;),y.call(e,&quot;[s!='']:x&quot;),m.push(&quot;!=&quot;,I)}),g=g.length&amp;&amp;RegExp(g.join(&quot;|&quot;)),m=m.length&amp;&amp;RegExp(m.join(&quot;|&quot;)),v=K.test(d.contains)||d.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&amp;&amp;t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&amp;&amp;16&amp;e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},A=d.compareDocumentPosition?function(e,t){if(e===t)return S=!0,0;var i=t.compareDocumentPosition&amp;&amp;e.compareDocumentPosition&amp;&amp;e.compareDocumentPosition(t);return i?1&amp;i||!r.sortDetached&amp;&amp;t.compareDocumentPosition(e)===i?e===n||v(w,e)?-1:t===n||v(w,t)?1:c?F.call(c,e)-F.call(c,t):0:4&amp;i?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var r,i=0,o=e.parentNode,a=t.parentNode,s=[e],l=[t];if(e===t)return S=!0,0;if(!o||!a)return e===n?-1:t===n?1:o?-1:a?1:c?F.call(c,e)-F.call(c,t):0;if(o===a)return pt(e,t);r=e;while(r=r.parentNode)s.unshift(r);r=t;while(r=r.parentNode)l.unshift(r);while(s[i]===l[i])i++;return i?pt(s[i],l[i]):s[i]===w?-1:l[i]===w?1:0},n):f},at.matches=function(e,t){return at(e,null,null,t)},at.matchesSelector=function(e,t){if((e.ownerDocument||e)!==f&amp;&amp;p(e),t=t.replace(Y,&quot;='$1']&quot;),!(!r.matchesSelector||!h||m&amp;&amp;m.test(t)||g&amp;&amp;g.test(t)))try{var n=y.call(e,t);if(n||r.disconnectedMatch||e.document&amp;&amp;11!==e.document.nodeType)return n}catch(i){}return at(t,f,null,[e]).length&gt;0},at.contains=function(e,t){return(e.ownerDocument||e)!==f&amp;&amp;p(e),v(e,t)},at.attr=function(e,n){(e.ownerDocument||e)!==f&amp;&amp;p(e);var i=o.attrHandle[n.toLowerCase()],a=i&amp;&amp;L.call(o.attrHandle,n.toLowerCase())?i(e,n,!h):t;return a===t?r.attributes||!h?e.getAttribute(n):(a=e.getAttributeNode(n))&amp;&amp;a.specified?a.value:null:a},at.error=function(e){throw Error(&quot;Syntax error, unrecognized expression: &quot;+e)},at.uniqueSort=function(e){var t,n=[],i=0,o=0;if(S=!r.detectDuplicates,c=!r.sortStable&amp;&amp;e.slice(0),e.sort(A),S){while(t=e[o++])t===e[o]&amp;&amp;(i=n.push(o));while(i--)e.splice(n[i],1)}return e},a=at.getText=function(e){var t,n=&quot;&quot;,r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if(&quot;string&quot;==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=a(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r];r++)n+=a(t);return n},o=at.selectors={cacheLength:50,createPseudo:lt,match:Q,attrHandle:{},find:{},relative:{&quot;&gt;&quot;:{dir:&quot;parentNode&quot;,first:!0},&quot; &quot;:{dir:&quot;parentNode&quot;},&quot;+&quot;:{dir:&quot;previousSibling&quot;,first:!0},&quot;~&quot;:{dir:&quot;previousSibling&quot;}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(rt,it),e[3]=(e[4]||e[5]||&quot;&quot;).replace(rt,it),&quot;~=&quot;===e[2]&amp;&amp;(e[3]=&quot; &quot;+e[3]+&quot; &quot;),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),&quot;nth&quot;===e[1].slice(0,3)?(e[3]||at.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(&quot;even&quot;===e[3]||&quot;odd&quot;===e[3])),e[5]=+(e[7]+e[8]||&quot;odd&quot;===e[3])):e[3]&amp;&amp;at.error(e[0]),e},PSEUDO:function(e){var n,r=!e[5]&amp;&amp;e[2];return Q.CHILD.test(e[0])?null:(e[3]&amp;&amp;e[4]!==t?e[2]=e[4]:r&amp;&amp;J.test(r)&amp;&amp;(n=mt(r,!0))&amp;&amp;(n=r.indexOf(&quot;)&quot;,r.length-n)-r.length)&amp;&amp;(e[0]=e[0].slice(0,n),e[2]=r.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(rt,it).toLowerCase();return&quot;*&quot;===e?function(){return!0}:function(e){return e.nodeName&amp;&amp;e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=N[e+&quot; &quot;];return t||(t=RegExp(&quot;(^|&quot;+P+&quot;)&quot;+e+&quot;(&quot;+P+&quot;|$)&quot;))&amp;&amp;N(e,function(e){return t.test(&quot;string&quot;==typeof e.className&amp;&amp;e.className||typeof e.getAttribute!==j&amp;&amp;e.getAttribute(&quot;class&quot;)||&quot;&quot;)})},ATTR:function(e,t,n){return function(r){var i=at.attr(r,e);return null==i?&quot;!=&quot;===t:t?(i+=&quot;&quot;,&quot;=&quot;===t?i===n:&quot;!=&quot;===t?i!==n:&quot;^=&quot;===t?n&amp;&amp;0===i.indexOf(n):&quot;*=&quot;===t?n&amp;&amp;i.indexOf(n)&gt;-1:&quot;$=&quot;===t?n&amp;&amp;i.slice(-n.length)===n:&quot;~=&quot;===t?(&quot; &quot;+i+&quot; &quot;).indexOf(n)&gt;-1:&quot;|=&quot;===t?i===n||i.slice(0,n.length+1)===n+&quot;-&quot;:!1):!0}},CHILD:function(e,t,n,r,i){var o=&quot;nth&quot;!==e.slice(0,3),a=&quot;last&quot;!==e.slice(-4),s=&quot;of-type&quot;===t;return 1===r&amp;&amp;0===i?function(e){return!!e.parentNode}:function(t,n,l){var u,c,p,f,d,h,g=o!==a?&quot;nextSibling&quot;:&quot;previousSibling&quot;,m=t.parentNode,y=s&amp;&amp;t.nodeName.toLowerCase(),v=!l&amp;&amp;!s;if(m){if(o){while(g){p=t;while(p=p[g])if(s?p.nodeName.toLowerCase()===y:1===p.nodeType)return!1;h=g=&quot;only&quot;===e&amp;&amp;!h&amp;&amp;&quot;nextSibling&quot;}return!0}if(h=[a?m.firstChild:m.lastChild],a&amp;&amp;v){c=m[b]||(m[b]={}),u=c[e]||[],d=u[0]===T&amp;&amp;u[1],f=u[0]===T&amp;&amp;u[2],p=d&amp;&amp;m.childNodes[d];while(p=++d&amp;&amp;p&amp;&amp;p[g]||(f=d=0)||h.pop())if(1===p.nodeType&amp;&amp;++f&amp;&amp;p===t){c[e]=[T,d,f];break}}else if(v&amp;&amp;(u=(t[b]||(t[b]={}))[e])&amp;&amp;u[0]===T)f=u[1];else while(p=++d&amp;&amp;p&amp;&amp;p[g]||(f=d=0)||h.pop())if((s?p.nodeName.toLowerCase()===y:1===p.nodeType)&amp;&amp;++f&amp;&amp;(v&amp;&amp;((p[b]||(p[b]={}))[e]=[T,f]),p===t))break;return f-=i,f===r||0===f%r&amp;&amp;f/r&gt;=0}}},PSEUDO:function(e,t){var n,r=o.pseudos[e]||o.setFilters[e.toLowerCase()]||at.error(&quot;unsupported pseudo: &quot;+e);return r[b]?r(t):r.length&gt;1?(n=[e,e,&quot;&quot;,t],o.setFilters.hasOwnProperty(e.toLowerCase())?lt(function(e,n){var i,o=r(e,t),a=o.length;while(a--)i=F.call(e,o[a]),e[i]=!(n[i]=o[a])}):function(e){return r(e,0,n)}):r}},pseudos:{not:lt(function(e){var t=[],n=[],r=l(e.replace(z,&quot;$1&quot;));return r[b]?lt(function(e,t,n,i){var o,a=r(e,null,i,[]),s=e.length;while(s--)(o=a[s])&amp;&amp;(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),!n.pop()}}),has:lt(function(e){return function(t){return at(e,t).length&gt;0}}),contains:lt(function(e){return function(t){return(t.textContent||t.innerText||a(t)).indexOf(e)&gt;-1}}),lang:lt(function(e){return G.test(e||&quot;&quot;)||at.error(&quot;unsupported lang: &quot;+e),e=e.replace(rt,it).toLowerCase(),function(t){var n;do if(n=h?t.lang:t.getAttribute(&quot;xml:lang&quot;)||t.getAttribute(&quot;lang&quot;))return n=n.toLowerCase(),n===e||0===n.indexOf(e+&quot;-&quot;);while((t=t.parentNode)&amp;&amp;1===t.nodeType);return!1}}),target:function(t){var n=e.location&amp;&amp;e.location.hash;return n&amp;&amp;n.slice(1)===t.id},root:function(e){return e===d},focus:function(e){return e===f.activeElement&amp;&amp;(!f.hasFocus||f.hasFocus())&amp;&amp;!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return&quot;input&quot;===t&amp;&amp;!!e.checked||&quot;option&quot;===t&amp;&amp;!!e.selected},selected:function(e){return e.parentNode&amp;&amp;e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName&gt;&quot;@&quot;||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!o.pseudos.empty(e)},header:function(e){return tt.test(e.nodeName)},input:function(e){return et.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return&quot;input&quot;===t&amp;&amp;&quot;button&quot;===e.type||&quot;button&quot;===t},text:function(e){var t;return&quot;input&quot;===e.nodeName.toLowerCase()&amp;&amp;&quot;text&quot;===e.type&amp;&amp;(null==(t=e.getAttribute(&quot;type&quot;))||t.toLowerCase()===e.type)},first:ht(function(){return[0]}),last:ht(function(e,t){return[t-1]}),eq:ht(function(e,t,n){return[0&gt;n?n+t:n]}),even:ht(function(e,t){var n=0;for(;t&gt;n;n+=2)e.push(n);return e}),odd:ht(function(e,t){var n=1;for(;t&gt;n;n+=2)e.push(n);return e}),lt:ht(function(e,t,n){var r=0&gt;n?n+t:n;for(;--r&gt;=0;)e.push(r);return e}),gt:ht(function(e,t,n){var r=0&gt;n?n+t:n;for(;t&gt;++r;)e.push(r);return e})}},o.pseudos.nth=o.pseudos.eq;for(n in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})o.pseudos[n]=ft(n);for(n in{submit:!0,reset:!0})o.pseudos[n]=dt(n);function gt(){}gt.prototype=o.filters=o.pseudos,o.setFilters=new gt;function mt(e,t){var n,r,i,a,s,l,u,c=k[e+&quot; &quot;];if(c)return t?0:c.slice(0);s=e,l=[],u=o.preFilter;while(s){(!n||(r=X.exec(s)))&amp;&amp;(r&amp;&amp;(s=s.slice(r[0].length)||s),l.push(i=[])),n=!1,(r=U.exec(s))&amp;&amp;(n=r.shift(),i.push({value:n,type:r[0].replace(z,&quot; &quot;)}),s=s.slice(n.length));for(a in o.filter)!(r=Q[a].exec(s))||u[a]&amp;&amp;!(r=u[a](r))||(n=r.shift(),i.push({value:n,type:a,matches:r}),s=s.slice(n.length));if(!n)break}return t?s.length:s?at.error(e):k(e,l).slice(0)}function yt(e){var t=0,n=e.length,r=&quot;&quot;;for(;n&gt;t;t++)r+=e[t].value;return r}function vt(e,t,n){var r=t.dir,o=n&amp;&amp;&quot;parentNode&quot;===r,a=C++;return t.first?function(t,n,i){while(t=t[r])if(1===t.nodeType||o)return e(t,n,i)}:function(t,n,s){var l,u,c,p=T+&quot; &quot;+a;if(s){while(t=t[r])if((1===t.nodeType||o)&amp;&amp;e(t,n,s))return!0}else while(t=t[r])if(1===t.nodeType||o)if(c=t[b]||(t[b]={}),(u=c[r])&amp;&amp;u[0]===p){if((l=u[1])===!0||l===i)return l===!0}else if(u=c[r]=[p],u[1]=e(t,n,s)||i,u[1]===!0)return!0}}function bt(e){return e.length&gt;1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function xt(e,t,n,r,i){var o,a=[],s=0,l=e.length,u=null!=t;for(;l&gt;s;s++)(o=e[s])&amp;&amp;(!n||n(o,r,i))&amp;&amp;(a.push(o),u&amp;&amp;t.push(s));return a}function wt(e,t,n,r,i,o){return r&amp;&amp;!r[b]&amp;&amp;(r=wt(r)),i&amp;&amp;!i[b]&amp;&amp;(i=wt(i,o)),lt(function(o,a,s,l){var u,c,p,f=[],d=[],h=a.length,g=o||Nt(t||&quot;*&quot;,s.nodeType?[s]:s,[]),m=!e||!o&amp;&amp;t?g:xt(g,f,e,s,l),y=n?i||(o?e:h||r)?[]:a:m;if(n&amp;&amp;n(m,y,s,l),r){u=xt(y,d),r(u,[],s,l),c=u.length;while(c--)(p=u[c])&amp;&amp;(y[d[c]]=!(m[d[c]]=p))}if(o){if(i||e){if(i){u=[],c=y.length;while(c--)(p=y[c])&amp;&amp;u.push(m[c]=p);i(null,y=[],u,l)}c=y.length;while(c--)(p=y[c])&amp;&amp;(u=i?F.call(o,p):f[c])&gt;-1&amp;&amp;(o[u]=!(a[u]=p))}}else y=xt(y===a?y.splice(h,y.length):y),i?i(null,a,y,l):M.apply(a,y)})}function Tt(e){var t,n,r,i=e.length,a=o.relative[e[0].type],s=a||o.relative[&quot; &quot;],l=a?1:0,c=vt(function(e){return e===t},s,!0),p=vt(function(e){return F.call(t,e)&gt;-1},s,!0),f=[function(e,n,r){return!a&amp;&amp;(r||n!==u)||((t=n).nodeType?c(e,n,r):p(e,n,r))}];for(;i&gt;l;l++)if(n=o.relative[e[l].type])f=[vt(bt(f),n)];else{if(n=o.filter[e[l].type].apply(null,e[l].matches),n[b]){for(r=++l;i&gt;r;r++)if(o.relative[e[r].type])break;return wt(l&gt;1&amp;&amp;bt(f),l&gt;1&amp;&amp;yt(e.slice(0,l-1).concat({value:&quot; &quot;===e[l-2].type?&quot;*&quot;:&quot;&quot;})).replace(z,&quot;$1&quot;),n,r&gt;l&amp;&amp;Tt(e.slice(l,r)),i&gt;r&amp;&amp;Tt(e=e.slice(r)),i&gt;r&amp;&amp;yt(e))}f.push(n)}return bt(f)}function Ct(e,t){var n=0,r=t.length&gt;0,a=e.length&gt;0,s=function(s,l,c,p,d){var h,g,m,y=[],v=0,b=&quot;0&quot;,x=s&amp;&amp;[],w=null!=d,C=u,N=s||a&amp;&amp;o.find.TAG(&quot;*&quot;,d&amp;&amp;l.parentNode||l),k=T+=null==C?1:Math.random()||.1;for(w&amp;&amp;(u=l!==f&amp;&amp;l,i=n);null!=(h=N[b]);b++){if(a&amp;&amp;h){g=0;while(m=e[g++])if(m(h,l,c)){p.push(h);break}w&amp;&amp;(T=k,i=++n)}r&amp;&amp;((h=!m&amp;&amp;h)&amp;&amp;v--,s&amp;&amp;x.push(h))}if(v+=b,r&amp;&amp;b!==v){g=0;while(m=t[g++])m(x,y,l,c);if(s){if(v&gt;0)while(b--)x[b]||y[b]||(y[b]=q.call(p));y=xt(y)}M.apply(p,y),w&amp;&amp;!s&amp;&amp;y.length&gt;0&amp;&amp;v+t.length&gt;1&amp;&amp;at.uniqueSort(p)}return w&amp;&amp;(T=k,u=C),x};return r?lt(s):s}l=at.compile=function(e,t){var n,r=[],i=[],o=E[e+&quot; &quot;];if(!o){t||(t=mt(e)),n=t.length;while(n--)o=Tt(t[n]),o[b]?r.push(o):i.push(o);o=E(e,Ct(i,r))}return o};function Nt(e,t,n){var r=0,i=t.length;for(;i&gt;r;r++)at(e,t[r],n);return n}function kt(e,t,n,i){var a,s,u,c,p,f=mt(e);if(!i&amp;&amp;1===f.length){if(s=f[0]=f[0].slice(0),s.length&gt;2&amp;&amp;&quot;ID&quot;===(u=s[0]).type&amp;&amp;r.getById&amp;&amp;9===t.nodeType&amp;&amp;h&amp;&amp;o.relative[s[1].type]){if(t=(o.find.ID(u.matches[0].replace(rt,it),t)||[])[0],!t)return n;e=e.slice(s.shift().value.length)}a=Q.needsContext.test(e)?0:s.length;while(a--){if(u=s[a],o.relative[c=u.type])break;if((p=o.find[c])&amp;&amp;(i=p(u.matches[0].replace(rt,it),V.test(s[0].type)&amp;&amp;t.parentNode||t))){if(s.splice(a,1),e=i.length&amp;&amp;yt(s),!e)return M.apply(n,i),n;break}}}return l(e,f)(i,t,!h,n,V.test(e)),n}r.sortStable=b.split(&quot;&quot;).sort(A).join(&quot;&quot;)===b,r.detectDuplicates=S,p(),r.sortDetached=ut(function(e){return 1&amp;e.compareDocumentPosition(f.createElement(&quot;div&quot;))}),ut(function(e){return e.innerHTML=&quot;&lt;a href='#'&gt;&lt;/a&gt;&quot;,&quot;#&quot;===e.firstChild.getAttribute(&quot;href&quot;)})||ct(&quot;type|href|height|width&quot;,function(e,n,r){return r?t:e.getAttribute(n,&quot;type&quot;===n.toLowerCase()?1:2)}),r.attributes&amp;&amp;ut(function(e){return e.innerHTML=&quot;&lt;input/&gt;&quot;,e.firstChild.setAttribute(&quot;value&quot;,&quot;&quot;),&quot;&quot;===e.firstChild.getAttribute(&quot;value&quot;)})||ct(&quot;value&quot;,function(e,n,r){return r||&quot;input&quot;!==e.nodeName.toLowerCase()?t:e.defaultValue}),ut(function(e){return null==e.getAttribute(&quot;disabled&quot;)})||ct(B,function(e,n,r){var i;return r?t:(i=e.getAttributeNode(n))&amp;&amp;i.specified?i.value:e[n]===!0?n.toLowerCase():null}),x.find=at,x.expr=at.selectors,x.expr[&quot;:&quot;]=x.expr.pseudos,x.unique=at.uniqueSort,x.text=at.getText,x.isXMLDoc=at.isXML,x.contains=at.contains}(e);var O={};function F(e){var t=O[e]={};return x.each(e.match(T)||[],function(e,n){t[n]=!0}),t}x.Callbacks=function(e){e=&quot;string&quot;==typeof e?O[e]||F(e):x.extend({},e);var n,r,i,o,a,s,l=[],u=!e.once&amp;&amp;[],c=function(t){for(r=e.memory&amp;&amp;t,i=!0,a=s||0,s=0,o=l.length,n=!0;l&amp;&amp;o&gt;a;a++)if(l[a].apply(t[0],t[1])===!1&amp;&amp;e.stopOnFalse){r=!1;break}n=!1,l&amp;&amp;(u?u.length&amp;&amp;c(u.shift()):r?l=[]:p.disable())},p={add:function(){if(l){var t=l.length;(function i(t){x.each(t,function(t,n){var r=x.type(n);&quot;function&quot;===r?e.unique&amp;&amp;p.has(n)||l.push(n):n&amp;&amp;n.length&amp;&amp;&quot;string&quot;!==r&amp;&amp;i(n)})})(arguments),n?o=l.length:r&amp;&amp;(s=t,c(r))}return this},remove:function(){return l&amp;&amp;x.each(arguments,function(e,t){var r;while((r=x.inArray(t,l,r))&gt;-1)l.splice(r,1),n&amp;&amp;(o&gt;=r&amp;&amp;o--,a&gt;=r&amp;&amp;a--)}),this},has:function(e){return e?x.inArray(e,l)&gt;-1:!(!l||!l.length)},empty:function(){return l=[],o=0,this},disable:function(){return l=u=r=t,this},disabled:function(){return!l},lock:function(){return u=t,r||p.disable(),this},locked:function(){return!u},fireWith:function(e,t){return!l||i&amp;&amp;!u||(t=t||[],t=[e,t.slice?t.slice():t],n?u.push(t):c(t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!i}};return p},x.extend({Deferred:function(e){var t=[[&quot;resolve&quot;,&quot;done&quot;,x.Callbacks(&quot;once memory&quot;),&quot;resolved&quot;],[&quot;reject&quot;,&quot;fail&quot;,x.Callbacks(&quot;once memory&quot;),&quot;rejected&quot;],[&quot;notify&quot;,&quot;progress&quot;,x.Callbacks(&quot;memory&quot;)]],n=&quot;pending&quot;,r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return x.Deferred(function(n){x.each(t,function(t,o){var a=o[0],s=x.isFunction(e[t])&amp;&amp;e[t];i[o[1]](function(){var e=s&amp;&amp;s.apply(this,arguments);e&amp;&amp;x.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a+&quot;With&quot;](this===r?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?x.extend(e,r):r}},i={};return r.pipe=r.then,x.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&amp;&amp;a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+&quot;With&quot;](this===i?r:this,arguments),this},i[o[0]+&quot;With&quot;]=a.fireWith}),r.promise(i),e&amp;&amp;e.call(i,i),i},when:function(e){var t=0,n=g.call(arguments),r=n.length,i=1!==r||e&amp;&amp;x.isFunction(e.promise)?r:0,o=1===i?e:x.Deferred(),a=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length&gt;1?g.call(arguments):r,n===s?o.notifyWith(t,n):--i||o.resolveWith(t,n)}},s,l,u;if(r&gt;1)for(s=Array(r),l=Array(r),u=Array(r);r&gt;t;t++)n[t]&amp;&amp;x.isFunction(n[t].promise)?n[t].promise().done(a(t,u,n)).fail(o.reject).progress(a(t,l,s)):--i;return i||o.resolveWith(u,n),o.promise()}}),x.support=function(t){var n,r,o,s,l,u,c,p,f,d=a.createElement(&quot;div&quot;);if(d.setAttribute(&quot;className&quot;,&quot;t&quot;),d.innerHTML=&quot;  &lt;link/&gt;&lt;table&gt;&lt;/table&gt;&lt;a href='/a'&gt;a&lt;/a&gt;&lt;input type='checkbox'/&gt;&quot;,n=d.getElementsByTagName(&quot;*&quot;)||[],r=d.getElementsByTagName(&quot;a&quot;)[0],!r||!r.style||!n.length)return t;s=a.createElement(&quot;select&quot;),u=s.appendChild(a.createElement(&quot;option&quot;)),o=d.getElementsByTagName(&quot;input&quot;)[0],r.style.cssText=&quot;top:1px;float:left;opacity:.5&quot;,t.getSetAttribute=&quot;t&quot;!==d.className,t.leadingWhitespace=3===d.firstChild.nodeType,t.tbody=!d.getElementsByTagName(&quot;tbody&quot;).length,t.htmlSerialize=!!d.getElementsByTagName(&quot;link&quot;).length,t.style=/top/.test(r.getAttribute(&quot;style&quot;)),t.hrefNormalized=&quot;/a&quot;===r.getAttribute(&quot;href&quot;),t.opacity=/^0.5/.test(r.style.opacity),t.cssFloat=!!r.style.cssFloat,t.checkOn=!!o.value,t.optSelected=u.selected,t.enctype=!!a.createElement(&quot;form&quot;).enctype,t.html5Clone=&quot;&lt;:nav&gt;&lt;/:nav&gt;&quot;!==a.createElement(&quot;nav&quot;).cloneNode(!0).outerHTML,t.inlineBlockNeedsLayout=!1,t.shrinkWrapBlocks=!1,t.pixelPosition=!1,t.deleteExpando=!0,t.noCloneEvent=!0,t.reliableMarginRight=!0,t.boxSizingReliable=!0,o.checked=!0,t.noCloneChecked=o.cloneNode(!0).checked,s.disabled=!0,t.optDisabled=!u.disabled;try{delete d.test}catch(h){t.deleteExpando=!1}o=a.createElement(&quot;input&quot;),o.setAttribute(&quot;value&quot;,&quot;&quot;),t.input=&quot;&quot;===o.getAttribute(&quot;value&quot;),o.value=&quot;t&quot;,o.setAttribute(&quot;type&quot;,&quot;radio&quot;),t.radioValue=&quot;t&quot;===o.value,o.setAttribute(&quot;checked&quot;,&quot;t&quot;),o.setAttribute(&quot;name&quot;,&quot;t&quot;),l=a.createDocumentFragment(),l.appendChild(o),t.appendChecked=o.checked,t.checkClone=l.cloneNode(!0).cloneNode(!0).lastChild.checked,d.attachEvent&amp;&amp;(d.attachEvent(&quot;onclick&quot;,function(){t.noCloneEvent=!1}),d.cloneNode(!0).click());for(f in{submit:!0,change:!0,focusin:!0})d.setAttribute(c=&quot;on&quot;+f,&quot;t&quot;),t[f+&quot;Bubbles&quot;]=c in e||d.attributes[c].expando===!1;d.style.backgroundClip=&quot;content-box&quot;,d.cloneNode(!0).style.backgroundClip=&quot;&quot;,t.clearCloneStyle=&quot;content-box&quot;===d.style.backgroundClip;for(f in x(t))break;return t.ownLast=&quot;0&quot;!==f,x(function(){var n,r,o,s=&quot;padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;&quot;,l=a.getElementsByTagName(&quot;body&quot;)[0];l&amp;&amp;(n=a.createElement(&quot;div&quot;),n.style.cssText=&quot;border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px&quot;,l.appendChild(n).appendChild(d),d.innerHTML=&quot;&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;t&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&quot;,o=d.getElementsByTagName(&quot;td&quot;),o[0].style.cssText=&quot;padding:0;margin:0;border:0;display:none&quot;,p=0===o[0].offsetHeight,o[0].style.display=&quot;&quot;,o[1].style.display=&quot;none&quot;,t.reliableHiddenOffsets=p&amp;&amp;0===o[0].offsetHeight,d.innerHTML=&quot;&quot;,d.style.cssText=&quot;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;&quot;,x.swap(l,null!=l.style.zoom?{zoom:1}:{},function(){t.boxSizing=4===d.offsetWidth}),e.getComputedStyle&amp;&amp;(t.pixelPosition=&quot;1%&quot;!==(e.getComputedStyle(d,null)||{}).top,t.boxSizingReliable=&quot;4px&quot;===(e.getComputedStyle(d,null)||{width:&quot;4px&quot;}).width,r=d.appendChild(a.createElement(&quot;div&quot;)),r.style.cssText=d.style.cssText=s,r.style.marginRight=r.style.width=&quot;0&quot;,d.style.width=&quot;1px&quot;,t.reliableMarginRight=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),typeof d.style.zoom!==i&amp;&amp;(d.innerHTML=&quot;&quot;,d.style.cssText=s+&quot;width:1px;padding:1px;display:inline;zoom:1&quot;,t.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display=&quot;block&quot;,d.innerHTML=&quot;&lt;div&gt;&lt;/div&gt;&quot;,d.firstChild.style.width=&quot;5px&quot;,t.shrinkWrapBlocks=3!==d.offsetWidth,t.inlineBlockNeedsLayout&amp;&amp;(l.style.zoom=1)),l.removeChild(n),n=d=o=r=null)}),n=s=l=u=r=o=null,t
}({});var B=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,P=/([A-Z])/g;function R(e,n,r,i){if(x.acceptData(e)){var o,a,s=x.expando,l=e.nodeType,u=l?x.cache:e,c=l?e[s]:e[s]&amp;&amp;s;if(c&amp;&amp;u[c]&amp;&amp;(i||u[c].data)||r!==t||&quot;string&quot;!=typeof n)return c||(c=l?e[s]=p.pop()||x.guid++:s),u[c]||(u[c]=l?{}:{toJSON:x.noop}),(&quot;object&quot;==typeof n||&quot;function&quot;==typeof n)&amp;&amp;(i?u[c]=x.extend(u[c],n):u[c].data=x.extend(u[c].data,n)),a=u[c],i||(a.data||(a.data={}),a=a.data),r!==t&amp;&amp;(a[x.camelCase(n)]=r),&quot;string&quot;==typeof n?(o=a[n],null==o&amp;&amp;(o=a[x.camelCase(n)])):o=a,o}}function W(e,t,n){if(x.acceptData(e)){var r,i,o=e.nodeType,a=o?x.cache:e,s=o?e[x.expando]:x.expando;if(a[s]){if(t&amp;&amp;(r=n?a[s]:a[s].data)){x.isArray(t)?t=t.concat(x.map(t,x.camelCase)):t in r?t=[t]:(t=x.camelCase(t),t=t in r?[t]:t.split(&quot; &quot;)),i=t.length;while(i--)delete r[t[i]];if(n?!I(r):!x.isEmptyObject(r))return}(n||(delete a[s].data,I(a[s])))&amp;&amp;(o?x.cleanData([e],!0):x.support.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}x.extend({cache:{},noData:{applet:!0,embed:!0,object:&quot;clsid:D27CDB6E-AE6D-11cf-96B8-444553540000&quot;},hasData:function(e){return e=e.nodeType?x.cache[e[x.expando]]:e[x.expando],!!e&amp;&amp;!I(e)},data:function(e,t,n){return R(e,t,n)},removeData:function(e,t){return W(e,t)},_data:function(e,t,n){return R(e,t,n,!0)},_removeData:function(e,t){return W(e,t,!0)},acceptData:function(e){if(e.nodeType&amp;&amp;1!==e.nodeType&amp;&amp;9!==e.nodeType)return!1;var t=e.nodeName&amp;&amp;x.noData[e.nodeName.toLowerCase()];return!t||t!==!0&amp;&amp;e.getAttribute(&quot;classid&quot;)===t}}),x.fn.extend({data:function(e,n){var r,i,o=null,a=0,s=this[0];if(e===t){if(this.length&amp;&amp;(o=x.data(s),1===s.nodeType&amp;&amp;!x._data(s,&quot;parsedAttrs&quot;))){for(r=s.attributes;r.length&gt;a;a++)i=r[a].name,0===i.indexOf(&quot;data-&quot;)&amp;&amp;(i=x.camelCase(i.slice(5)),$(s,i,o[i]));x._data(s,&quot;parsedAttrs&quot;,!0)}return o}return&quot;object&quot;==typeof e?this.each(function(){x.data(this,e)}):arguments.length&gt;1?this.each(function(){x.data(this,e,n)}):s?$(s,e,x.data(s,e)):null},removeData:function(e){return this.each(function(){x.removeData(this,e)})}});function $(e,n,r){if(r===t&amp;&amp;1===e.nodeType){var i=&quot;data-&quot;+n.replace(P,&quot;-$1&quot;).toLowerCase();if(r=e.getAttribute(i),&quot;string&quot;==typeof r){try{r=&quot;true&quot;===r?!0:&quot;false&quot;===r?!1:&quot;null&quot;===r?null:+r+&quot;&quot;===r?+r:B.test(r)?x.parseJSON(r):r}catch(o){}x.data(e,n,r)}else r=t}return r}function I(e){var t;for(t in e)if((&quot;data&quot;!==t||!x.isEmptyObject(e[t]))&amp;&amp;&quot;toJSON&quot;!==t)return!1;return!0}x.extend({queue:function(e,n,r){var i;return e?(n=(n||&quot;fx&quot;)+&quot;queue&quot;,i=x._data(e,n),r&amp;&amp;(!i||x.isArray(r)?i=x._data(e,n,x.makeArray(r)):i.push(r)),i||[]):t},dequeue:function(e,t){t=t||&quot;fx&quot;;var n=x.queue(e,t),r=n.length,i=n.shift(),o=x._queueHooks(e,t),a=function(){x.dequeue(e,t)};&quot;inprogress&quot;===i&amp;&amp;(i=n.shift(),r--),i&amp;&amp;(&quot;fx&quot;===t&amp;&amp;n.unshift(&quot;inprogress&quot;),delete o.stop,i.call(e,a,o)),!r&amp;&amp;o&amp;&amp;o.empty.fire()},_queueHooks:function(e,t){var n=t+&quot;queueHooks&quot;;return x._data(e,n)||x._data(e,n,{empty:x.Callbacks(&quot;once memory&quot;).add(function(){x._removeData(e,t+&quot;queue&quot;),x._removeData(e,n)})})}}),x.fn.extend({queue:function(e,n){var r=2;return&quot;string&quot;!=typeof e&amp;&amp;(n=e,e=&quot;fx&quot;,r--),r&gt;arguments.length?x.queue(this[0],e):n===t?this:this.each(function(){var t=x.queue(this,e,n);x._queueHooks(this,e),&quot;fx&quot;===e&amp;&amp;&quot;inprogress&quot;!==t[0]&amp;&amp;x.dequeue(this,e)})},dequeue:function(e){return this.each(function(){x.dequeue(this,e)})},delay:function(e,t){return e=x.fx?x.fx.speeds[e]||e:e,t=t||&quot;fx&quot;,this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||&quot;fx&quot;,[])},promise:function(e,n){var r,i=1,o=x.Deferred(),a=this,s=this.length,l=function(){--i||o.resolveWith(a,[a])};&quot;string&quot;!=typeof e&amp;&amp;(n=e,e=t),e=e||&quot;fx&quot;;while(s--)r=x._data(a[s],e+&quot;queueHooks&quot;),r&amp;&amp;r.empty&amp;&amp;(i++,r.empty.add(l));return l(),o.promise(n)}});var z,X,U=/[\t\r\n\f]/g,V=/\r/g,Y=/^(?:input|select|textarea|button|object)$/i,J=/^(?:a|area)$/i,G=/^(?:checked|selected)$/i,Q=x.support.getSetAttribute,K=x.support.input;x.fn.extend({attr:function(e,t){return x.access(this,x.attr,e,t,arguments.length&gt;1)},removeAttr:function(e){return this.each(function(){x.removeAttr(this,e)})},prop:function(e,t){return x.access(this,x.prop,e,t,arguments.length&gt;1)},removeProp:function(e){return e=x.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,o,a=0,s=this.length,l=&quot;string&quot;==typeof e&amp;&amp;e;if(x.isFunction(e))return this.each(function(t){x(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||&quot;&quot;).match(T)||[];s&gt;a;a++)if(n=this[a],r=1===n.nodeType&amp;&amp;(n.className?(&quot; &quot;+n.className+&quot; &quot;).replace(U,&quot; &quot;):&quot; &quot;)){o=0;while(i=t[o++])0&gt;r.indexOf(&quot; &quot;+i+&quot; &quot;)&amp;&amp;(r+=i+&quot; &quot;);n.className=x.trim(r)}return this},removeClass:function(e){var t,n,r,i,o,a=0,s=this.length,l=0===arguments.length||&quot;string&quot;==typeof e&amp;&amp;e;if(x.isFunction(e))return this.each(function(t){x(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||&quot;&quot;).match(T)||[];s&gt;a;a++)if(n=this[a],r=1===n.nodeType&amp;&amp;(n.className?(&quot; &quot;+n.className+&quot; &quot;).replace(U,&quot; &quot;):&quot;&quot;)){o=0;while(i=t[o++])while(r.indexOf(&quot; &quot;+i+&quot; &quot;)&gt;=0)r=r.replace(&quot; &quot;+i+&quot; &quot;,&quot; &quot;);n.className=e?x.trim(r):&quot;&quot;}return this},toggleClass:function(e,t){var n=typeof e;return&quot;boolean&quot;==typeof t&amp;&amp;&quot;string&quot;===n?t?this.addClass(e):this.removeClass(e):x.isFunction(e)?this.each(function(n){x(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if(&quot;string&quot;===n){var t,r=0,o=x(this),a=e.match(T)||[];while(t=a[r++])o.hasClass(t)?o.removeClass(t):o.addClass(t)}else(n===i||&quot;boolean&quot;===n)&amp;&amp;(this.className&amp;&amp;x._data(this,&quot;__className__&quot;,this.className),this.className=this.className||e===!1?&quot;&quot;:x._data(this,&quot;__className__&quot;)||&quot;&quot;)})},hasClass:function(e){var t=&quot; &quot;+e+&quot; &quot;,n=0,r=this.length;for(;r&gt;n;n++)if(1===this[n].nodeType&amp;&amp;(&quot; &quot;+this[n].className+&quot; &quot;).replace(U,&quot; &quot;).indexOf(t)&gt;=0)return!0;return!1},val:function(e){var n,r,i,o=this[0];{if(arguments.length)return i=x.isFunction(e),this.each(function(n){var o;1===this.nodeType&amp;&amp;(o=i?e.call(this,n,x(this).val()):e,null==o?o=&quot;&quot;:&quot;number&quot;==typeof o?o+=&quot;&quot;:x.isArray(o)&amp;&amp;(o=x.map(o,function(e){return null==e?&quot;&quot;:e+&quot;&quot;})),r=x.valHooks[this.type]||x.valHooks[this.nodeName.toLowerCase()],r&amp;&amp;&quot;set&quot;in r&amp;&amp;r.set(this,o,&quot;value&quot;)!==t||(this.value=o))});if(o)return r=x.valHooks[o.type]||x.valHooks[o.nodeName.toLowerCase()],r&amp;&amp;&quot;get&quot;in r&amp;&amp;(n=r.get(o,&quot;value&quot;))!==t?n:(n=o.value,&quot;string&quot;==typeof n?n.replace(V,&quot;&quot;):null==n?&quot;&quot;:n)}}}),x.extend({valHooks:{option:{get:function(e){var t=x.find.attr(e,&quot;value&quot;);return null!=t?t:e.text}},select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,o=&quot;select-one&quot;===e.type||0&gt;i,a=o?null:[],s=o?i+1:r.length,l=0&gt;i?s:o?i:0;for(;s&gt;l;l++)if(n=r[l],!(!n.selected&amp;&amp;l!==i||(x.support.optDisabled?n.disabled:null!==n.getAttribute(&quot;disabled&quot;))||n.parentNode.disabled&amp;&amp;x.nodeName(n.parentNode,&quot;optgroup&quot;))){if(t=x(n).val(),o)return t;a.push(t)}return a},set:function(e,t){var n,r,i=e.options,o=x.makeArray(t),a=i.length;while(a--)r=i[a],(r.selected=x.inArray(x(r).val(),o)&gt;=0)&amp;&amp;(n=!0);return n||(e.selectedIndex=-1),o}}},attr:function(e,n,r){var o,a,s=e.nodeType;if(e&amp;&amp;3!==s&amp;&amp;8!==s&amp;&amp;2!==s)return typeof e.getAttribute===i?x.prop(e,n,r):(1===s&amp;&amp;x.isXMLDoc(e)||(n=n.toLowerCase(),o=x.attrHooks[n]||(x.expr.match.bool.test(n)?X:z)),r===t?o&amp;&amp;&quot;get&quot;in o&amp;&amp;null!==(a=o.get(e,n))?a:(a=x.find.attr(e,n),null==a?t:a):null!==r?o&amp;&amp;&quot;set&quot;in o&amp;&amp;(a=o.set(e,r,n))!==t?a:(e.setAttribute(n,r+&quot;&quot;),r):(x.removeAttr(e,n),t))},removeAttr:function(e,t){var n,r,i=0,o=t&amp;&amp;t.match(T);if(o&amp;&amp;1===e.nodeType)while(n=o[i++])r=x.propFix[n]||n,x.expr.match.bool.test(n)?K&amp;&amp;Q||!G.test(n)?e[r]=!1:e[x.camelCase(&quot;default-&quot;+n)]=e[r]=!1:x.attr(e,n,&quot;&quot;),e.removeAttribute(Q?n:r)},attrHooks:{type:{set:function(e,t){if(!x.support.radioValue&amp;&amp;&quot;radio&quot;===t&amp;&amp;x.nodeName(e,&quot;input&quot;)){var n=e.value;return e.setAttribute(&quot;type&quot;,t),n&amp;&amp;(e.value=n),t}}}},propFix:{&quot;for&quot;:&quot;htmlFor&quot;,&quot;class&quot;:&quot;className&quot;},prop:function(e,n,r){var i,o,a,s=e.nodeType;if(e&amp;&amp;3!==s&amp;&amp;8!==s&amp;&amp;2!==s)return a=1!==s||!x.isXMLDoc(e),a&amp;&amp;(n=x.propFix[n]||n,o=x.propHooks[n]),r!==t?o&amp;&amp;&quot;set&quot;in o&amp;&amp;(i=o.set(e,r,n))!==t?i:e[n]=r:o&amp;&amp;&quot;get&quot;in o&amp;&amp;null!==(i=o.get(e,n))?i:e[n]},propHooks:{tabIndex:{get:function(e){var t=x.find.attr(e,&quot;tabindex&quot;);return t?parseInt(t,10):Y.test(e.nodeName)||J.test(e.nodeName)&amp;&amp;e.href?0:-1}}}}),X={set:function(e,t,n){return t===!1?x.removeAttr(e,n):K&amp;&amp;Q||!G.test(n)?e.setAttribute(!Q&amp;&amp;x.propFix[n]||n,n):e[x.camelCase(&quot;default-&quot;+n)]=e[n]=!0,n}},x.each(x.expr.match.bool.source.match(/\w+/g),function(e,n){var r=x.expr.attrHandle[n]||x.find.attr;x.expr.attrHandle[n]=K&amp;&amp;Q||!G.test(n)?function(e,n,i){var o=x.expr.attrHandle[n],a=i?t:(x.expr.attrHandle[n]=t)!=r(e,n,i)?n.toLowerCase():null;return x.expr.attrHandle[n]=o,a}:function(e,n,r){return r?t:e[x.camelCase(&quot;default-&quot;+n)]?n.toLowerCase():null}}),K&amp;&amp;Q||(x.attrHooks.value={set:function(e,n,r){return x.nodeName(e,&quot;input&quot;)?(e.defaultValue=n,t):z&amp;&amp;z.set(e,n,r)}}),Q||(z={set:function(e,n,r){var i=e.getAttributeNode(r);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(r)),i.value=n+=&quot;&quot;,&quot;value&quot;===r||n===e.getAttribute(r)?n:t}},x.expr.attrHandle.id=x.expr.attrHandle.name=x.expr.attrHandle.coords=function(e,n,r){var i;return r?t:(i=e.getAttributeNode(n))&amp;&amp;&quot;&quot;!==i.value?i.value:null},x.valHooks.button={get:function(e,n){var r=e.getAttributeNode(n);return r&amp;&amp;r.specified?r.value:t},set:z.set},x.attrHooks.contenteditable={set:function(e,t,n){z.set(e,&quot;&quot;===t?!1:t,n)}},x.each([&quot;width&quot;,&quot;height&quot;],function(e,n){x.attrHooks[n]={set:function(e,r){return&quot;&quot;===r?(e.setAttribute(n,&quot;auto&quot;),r):t}}})),x.support.hrefNormalized||x.each([&quot;href&quot;,&quot;src&quot;],function(e,t){x.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),x.support.style||(x.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+&quot;&quot;}}),x.support.optSelected||(x.propHooks.selected={get:function(e){var t=e.parentNode;return t&amp;&amp;(t.selectedIndex,t.parentNode&amp;&amp;t.parentNode.selectedIndex),null}}),x.each([&quot;tabIndex&quot;,&quot;readOnly&quot;,&quot;maxLength&quot;,&quot;cellSpacing&quot;,&quot;cellPadding&quot;,&quot;rowSpan&quot;,&quot;colSpan&quot;,&quot;useMap&quot;,&quot;frameBorder&quot;,&quot;contentEditable&quot;],function(){x.propFix[this.toLowerCase()]=this}),x.support.enctype||(x.propFix.enctype=&quot;encoding&quot;),x.each([&quot;radio&quot;,&quot;checkbox&quot;],function(){x.valHooks[this]={set:function(e,n){return x.isArray(n)?e.checked=x.inArray(x(e).val(),n)&gt;=0:t}},x.support.checkOn||(x.valHooks[this].get=function(e){return null===e.getAttribute(&quot;value&quot;)?&quot;on&quot;:e.value})});var Z=/^(?:input|select|textarea)$/i,et=/^key/,tt=/^(?:mouse|contextmenu)|click/,nt=/^(?:focusinfocus|focusoutblur)$/,rt=/^([^.]*)(?:\.(.+)|)$/;function it(){return!0}function ot(){return!1}function at(){try{return a.activeElement}catch(e){}}x.event={global:{},add:function(e,n,r,o,a){var s,l,u,c,p,f,d,h,g,m,y,v=x._data(e);if(v){r.handler&amp;&amp;(c=r,r=c.handler,a=c.selector),r.guid||(r.guid=x.guid++),(l=v.events)||(l=v.events={}),(f=v.handle)||(f=v.handle=function(e){return typeof x===i||e&amp;&amp;x.event.triggered===e.type?t:x.event.dispatch.apply(f.elem,arguments)},f.elem=e),n=(n||&quot;&quot;).match(T)||[&quot;&quot;],u=n.length;while(u--)s=rt.exec(n[u])||[],g=y=s[1],m=(s[2]||&quot;&quot;).split(&quot;.&quot;).sort(),g&amp;&amp;(p=x.event.special[g]||{},g=(a?p.delegateType:p.bindType)||g,p=x.event.special[g]||{},d=x.extend({type:g,origType:y,data:o,handler:r,guid:r.guid,selector:a,needsContext:a&amp;&amp;x.expr.match.needsContext.test(a),namespace:m.join(&quot;.&quot;)},c),(h=l[g])||(h=l[g]=[],h.delegateCount=0,p.setup&amp;&amp;p.setup.call(e,o,m,f)!==!1||(e.addEventListener?e.addEventListener(g,f,!1):e.attachEvent&amp;&amp;e.attachEvent(&quot;on&quot;+g,f))),p.add&amp;&amp;(p.add.call(e,d),d.handler.guid||(d.handler.guid=r.guid)),a?h.splice(h.delegateCount++,0,d):h.push(d),x.event.global[g]=!0);e=null}},remove:function(e,t,n,r,i){var o,a,s,l,u,c,p,f,d,h,g,m=x.hasData(e)&amp;&amp;x._data(e);if(m&amp;&amp;(c=m.events)){t=(t||&quot;&quot;).match(T)||[&quot;&quot;],u=t.length;while(u--)if(s=rt.exec(t[u])||[],d=g=s[1],h=(s[2]||&quot;&quot;).split(&quot;.&quot;).sort(),d){p=x.event.special[d]||{},d=(r?p.delegateType:p.bindType)||d,f=c[d]||[],s=s[2]&amp;&amp;RegExp(&quot;(^|\\.)&quot;+h.join(&quot;\\.(?:.*\\.|)&quot;)+&quot;(\\.|$)&quot;),l=o=f.length;while(o--)a=f[o],!i&amp;&amp;g!==a.origType||n&amp;&amp;n.guid!==a.guid||s&amp;&amp;!s.test(a.namespace)||r&amp;&amp;r!==a.selector&amp;&amp;(&quot;**&quot;!==r||!a.selector)||(f.splice(o,1),a.selector&amp;&amp;f.delegateCount--,p.remove&amp;&amp;p.remove.call(e,a));l&amp;&amp;!f.length&amp;&amp;(p.teardown&amp;&amp;p.teardown.call(e,h,m.handle)!==!1||x.removeEvent(e,d,m.handle),delete c[d])}else for(d in c)x.event.remove(e,d+t[u],n,r,!0);x.isEmptyObject(c)&amp;&amp;(delete m.handle,x._removeData(e,&quot;events&quot;))}},trigger:function(n,r,i,o){var s,l,u,c,p,f,d,h=[i||a],g=v.call(n,&quot;type&quot;)?n.type:n,m=v.call(n,&quot;namespace&quot;)?n.namespace.split(&quot;.&quot;):[];if(u=f=i=i||a,3!==i.nodeType&amp;&amp;8!==i.nodeType&amp;&amp;!nt.test(g+x.event.triggered)&amp;&amp;(g.indexOf(&quot;.&quot;)&gt;=0&amp;&amp;(m=g.split(&quot;.&quot;),g=m.shift(),m.sort()),l=0&gt;g.indexOf(&quot;:&quot;)&amp;&amp;&quot;on&quot;+g,n=n[x.expando]?n:new x.Event(g,&quot;object&quot;==typeof n&amp;&amp;n),n.isTrigger=o?2:3,n.namespace=m.join(&quot;.&quot;),n.namespace_re=n.namespace?RegExp(&quot;(^|\\.)&quot;+m.join(&quot;\\.(?:.*\\.|)&quot;)+&quot;(\\.|$)&quot;):null,n.result=t,n.target||(n.target=i),r=null==r?[n]:x.makeArray(r,[n]),p=x.event.special[g]||{},o||!p.trigger||p.trigger.apply(i,r)!==!1)){if(!o&amp;&amp;!p.noBubble&amp;&amp;!x.isWindow(i)){for(c=p.delegateType||g,nt.test(c+g)||(u=u.parentNode);u;u=u.parentNode)h.push(u),f=u;f===(i.ownerDocument||a)&amp;&amp;h.push(f.defaultView||f.parentWindow||e)}d=0;while((u=h[d++])&amp;&amp;!n.isPropagationStopped())n.type=d&gt;1?c:p.bindType||g,s=(x._data(u,&quot;events&quot;)||{})[n.type]&amp;&amp;x._data(u,&quot;handle&quot;),s&amp;&amp;s.apply(u,r),s=l&amp;&amp;u[l],s&amp;&amp;x.acceptData(u)&amp;&amp;s.apply&amp;&amp;s.apply(u,r)===!1&amp;&amp;n.preventDefault();if(n.type=g,!o&amp;&amp;!n.isDefaultPrevented()&amp;&amp;(!p._default||p._default.apply(h.pop(),r)===!1)&amp;&amp;x.acceptData(i)&amp;&amp;l&amp;&amp;i[g]&amp;&amp;!x.isWindow(i)){f=i[l],f&amp;&amp;(i[l]=null),x.event.triggered=g;try{i[g]()}catch(y){}x.event.triggered=t,f&amp;&amp;(i[l]=f)}return n.result}},dispatch:function(e){e=x.event.fix(e);var n,r,i,o,a,s=[],l=g.call(arguments),u=(x._data(this,&quot;events&quot;)||{})[e.type]||[],c=x.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){s=x.event.handlers.call(this,e,u),n=0;while((o=s[n++])&amp;&amp;!e.isPropagationStopped()){e.currentTarget=o.elem,a=0;while((i=o.handlers[a++])&amp;&amp;!e.isImmediatePropagationStopped())(!e.namespace_re||e.namespace_re.test(i.namespace))&amp;&amp;(e.handleObj=i,e.data=i.data,r=((x.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,l),r!==t&amp;&amp;(e.result=r)===!1&amp;&amp;(e.preventDefault(),e.stopPropagation()))}return c.postDispatch&amp;&amp;c.postDispatch.call(this,e),e.result}},handlers:function(e,n){var r,i,o,a,s=[],l=n.delegateCount,u=e.target;if(l&amp;&amp;u.nodeType&amp;&amp;(!e.button||&quot;click&quot;!==e.type))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&amp;&amp;(u.disabled!==!0||&quot;click&quot;!==e.type)){for(o=[],a=0;l&gt;a;a++)i=n[a],r=i.selector+&quot; &quot;,o[r]===t&amp;&amp;(o[r]=i.needsContext?x(r,this).index(u)&gt;=0:x.find(r,this,null,[u]).length),o[r]&amp;&amp;o.push(i);o.length&amp;&amp;s.push({elem:u,handlers:o})}return n.length&gt;l&amp;&amp;s.push({elem:this,handlers:n.slice(l)}),s},fix:function(e){if(e[x.expando])return e;var t,n,r,i=e.type,o=e,s=this.fixHooks[i];s||(this.fixHooks[i]=s=tt.test(i)?this.mouseHooks:et.test(i)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,e=new x.Event(o),t=r.length;while(t--)n=r[t],e[n]=o[n];return e.target||(e.target=o.srcElement||a),3===e.target.nodeType&amp;&amp;(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,o):e},props:&quot;altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which&quot;.split(&quot; &quot;),fixHooks:{},keyHooks:{props:&quot;char charCode key keyCode&quot;.split(&quot; &quot;),filter:function(e,t){return null==e.which&amp;&amp;(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:&quot;button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement&quot;.split(&quot; &quot;),filter:function(e,n){var r,i,o,s=n.button,l=n.fromElement;return null==e.pageX&amp;&amp;null!=n.clientX&amp;&amp;(i=e.target.ownerDocument||a,o=i.documentElement,r=i.body,e.pageX=n.clientX+(o&amp;&amp;o.scrollLeft||r&amp;&amp;r.scrollLeft||0)-(o&amp;&amp;o.clientLeft||r&amp;&amp;r.clientLeft||0),e.pageY=n.clientY+(o&amp;&amp;o.scrollTop||r&amp;&amp;r.scrollTop||0)-(o&amp;&amp;o.clientTop||r&amp;&amp;r.clientTop||0)),!e.relatedTarget&amp;&amp;l&amp;&amp;(e.relatedTarget=l===e.target?n.toElement:l),e.which||s===t||(e.which=1&amp;s?1:2&amp;s?3:4&amp;s?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==at()&amp;&amp;this.focus)try{return this.focus(),!1}catch(e){}},delegateType:&quot;focusin&quot;},blur:{trigger:function(){return this===at()&amp;&amp;this.blur?(this.blur(),!1):t},delegateType:&quot;focusout&quot;},click:{trigger:function(){return x.nodeName(this,&quot;input&quot;)&amp;&amp;&quot;checkbox&quot;===this.type&amp;&amp;this.click?(this.click(),!1):t},_default:function(e){return x.nodeName(e.target,&quot;a&quot;)}},beforeunload:{postDispatch:function(e){e.result!==t&amp;&amp;(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=x.extend(new x.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?x.event.trigger(i,null,t):x.event.dispatch.call(t,i),i.isDefaultPrevented()&amp;&amp;n.preventDefault()}},x.removeEvent=a.removeEventListener?function(e,t,n){e.removeEventListener&amp;&amp;e.removeEventListener(t,n,!1)}:function(e,t,n){var r=&quot;on&quot;+t;e.detachEvent&amp;&amp;(typeof e[r]===i&amp;&amp;(e[r]=null),e.detachEvent(r,n))},x.Event=function(e,n){return this instanceof x.Event?(e&amp;&amp;e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&amp;&amp;e.getPreventDefault()?it:ot):this.type=e,n&amp;&amp;x.extend(this,n),this.timeStamp=e&amp;&amp;e.timeStamp||x.now(),this[x.expando]=!0,t):new x.Event(e,n)},x.Event.prototype={isDefaultPrevented:ot,isPropagationStopped:ot,isImmediatePropagationStopped:ot,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=it,e&amp;&amp;(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=it,e&amp;&amp;(e.stopPropagation&amp;&amp;e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=it,this.stopPropagation()}},x.each({mouseenter:&quot;mouseover&quot;,mouseleave:&quot;mouseout&quot;},function(e,t){x.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&amp;&amp;!x.contains(r,i))&amp;&amp;(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),x.support.submitBubbles||(x.event.special.submit={setup:function(){return x.nodeName(this,&quot;form&quot;)?!1:(x.event.add(this,&quot;click._submit keypress._submit&quot;,function(e){var n=e.target,r=x.nodeName(n,&quot;input&quot;)||x.nodeName(n,&quot;button&quot;)?n.form:t;r&amp;&amp;!x._data(r,&quot;submitBubbles&quot;)&amp;&amp;(x.event.add(r,&quot;submit._submit&quot;,function(e){e._submit_bubble=!0}),x._data(r,&quot;submitBubbles&quot;,!0))}),t)},postDispatch:function(e){e._submit_bubble&amp;&amp;(delete e._submit_bubble,this.parentNode&amp;&amp;!e.isTrigger&amp;&amp;x.event.simulate(&quot;submit&quot;,this.parentNode,e,!0))},teardown:function(){return x.nodeName(this,&quot;form&quot;)?!1:(x.event.remove(this,&quot;._submit&quot;),t)}}),x.support.changeBubbles||(x.event.special.change={setup:function(){return Z.test(this.nodeName)?((&quot;checkbox&quot;===this.type||&quot;radio&quot;===this.type)&amp;&amp;(x.event.add(this,&quot;propertychange._change&quot;,function(e){&quot;checked&quot;===e.originalEvent.propertyName&amp;&amp;(this._just_changed=!0)}),x.event.add(this,&quot;click._change&quot;,function(e){this._just_changed&amp;&amp;!e.isTrigger&amp;&amp;(this._just_changed=!1),x.event.simulate(&quot;change&quot;,this,e,!0)})),!1):(x.event.add(this,&quot;beforeactivate._change&quot;,function(e){var t=e.target;Z.test(t.nodeName)&amp;&amp;!x._data(t,&quot;changeBubbles&quot;)&amp;&amp;(x.event.add(t,&quot;change._change&quot;,function(e){!this.parentNode||e.isSimulated||e.isTrigger||x.event.simulate(&quot;change&quot;,this.parentNode,e,!0)}),x._data(t,&quot;changeBubbles&quot;,!0))}),t)},handle:function(e){var n=e.target;return this!==n||e.isSimulated||e.isTrigger||&quot;radio&quot;!==n.type&amp;&amp;&quot;checkbox&quot;!==n.type?e.handleObj.handler.apply(this,arguments):t},teardown:function(){return x.event.remove(this,&quot;._change&quot;),!Z.test(this.nodeName)}}),x.support.focusinBubbles||x.each({focus:&quot;focusin&quot;,blur:&quot;focusout&quot;},function(e,t){var n=0,r=function(e){x.event.simulate(t,e.target,x.event.fix(e),!0)};x.event.special[t]={setup:function(){0===n++&amp;&amp;a.addEventListener(e,r,!0)},teardown:function(){0===--n&amp;&amp;a.removeEventListener(e,r,!0)}}}),x.fn.extend({on:function(e,n,r,i,o){var a,s;if(&quot;object&quot;==typeof e){&quot;string&quot;!=typeof n&amp;&amp;(r=r||n,n=t);for(a in e)this.on(a,n,r,e[a],o);return this}if(null==r&amp;&amp;null==i?(i=n,r=n=t):null==i&amp;&amp;(&quot;string&quot;==typeof n?(i=r,r=t):(i=r,r=n,n=t)),i===!1)i=ot;else if(!i)return this;return 1===o&amp;&amp;(s=i,i=function(e){return x().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=x.guid++)),this.each(function(){x.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,o;if(e&amp;&amp;e.preventDefault&amp;&amp;e.handleObj)return i=e.handleObj,x(e.delegateTarget).off(i.namespace?i.origType+&quot;.&quot;+i.namespace:i.origType,i.selector,i.handler),this;if(&quot;object&quot;==typeof e){for(o in e)this.off(o,n,e[o]);return this}return(n===!1||&quot;function&quot;==typeof n)&amp;&amp;(r=n,n=t),r===!1&amp;&amp;(r=ot),this.each(function(){x.event.remove(this,e,r,n)})},trigger:function(e,t){return this.each(function(){x.event.trigger(e,t,this)})},triggerHandler:function(e,n){var r=this[0];return r?x.event.trigger(e,n,r,!0):t}});var st=/^.[^:#\[\.,]*$/,lt=/^(?:parents|prev(?:Until|All))/,ut=x.expr.match.needsContext,ct={children:!0,contents:!0,next:!0,prev:!0};x.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if(&quot;string&quot;!=typeof e)return this.pushStack(x(e).filter(function(){for(t=0;i&gt;t;t++)if(x.contains(r[t],this))return!0}));for(t=0;i&gt;t;t++)x.find(e,r[t],n);return n=this.pushStack(i&gt;1?x.unique(n):n),n.selector=this.selector?this.selector+&quot; &quot;+e:e,n},has:function(e){var t,n=x(e,this),r=n.length;return this.filter(function(){for(t=0;r&gt;t;t++)if(x.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(ft(this,e||[],!0))},filter:function(e){return this.pushStack(ft(this,e||[],!1))},is:function(e){return!!ft(this,&quot;string&quot;==typeof e&amp;&amp;ut.test(e)?x(e):e||[],!1).length},closest:function(e,t){var n,r=0,i=this.length,o=[],a=ut.test(e)||&quot;string&quot;!=typeof e?x(e,t||this.context):0;for(;i&gt;r;r++)for(n=this[r];n&amp;&amp;n!==t;n=n.parentNode)if(11&gt;n.nodeType&amp;&amp;(a?a.index(n)&gt;-1:1===n.nodeType&amp;&amp;x.find.matchesSelector(n,e))){n=o.push(n);break}return this.pushStack(o.length&gt;1?x.unique(o):o)},index:function(e){return e?&quot;string&quot;==typeof e?x.inArray(this[0],x(e)):x.inArray(e.jquery?e[0]:e,this):this[0]&amp;&amp;this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n=&quot;string&quot;==typeof e?x(e,t):x.makeArray(e&amp;&amp;e.nodeType?[e]:e),r=x.merge(this.get(),n);return this.pushStack(x.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}});function pt(e,t){do e=e[t];while(e&amp;&amp;1!==e.nodeType);return e}x.each({parent:function(e){var t=e.parentNode;return t&amp;&amp;11!==t.nodeType?t:null},parents:function(e){return x.dir(e,&quot;parentNode&quot;)},parentsUntil:function(e,t,n){return x.dir(e,&quot;parentNode&quot;,n)},next:function(e){return pt(e,&quot;nextSibling&quot;)},prev:function(e){return pt(e,&quot;previousSibling&quot;)},nextAll:function(e){return x.dir(e,&quot;nextSibling&quot;)},prevAll:function(e){return x.dir(e,&quot;previousSibling&quot;)},nextUntil:function(e,t,n){return x.dir(e,&quot;nextSibling&quot;,n)},prevUntil:function(e,t,n){return x.dir(e,&quot;previousSibling&quot;,n)},siblings:function(e){return x.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return x.sibling(e.firstChild)},contents:function(e){return x.nodeName(e,&quot;iframe&quot;)?e.contentDocument||e.contentWindow.document:x.merge([],e.childNodes)}},function(e,t){x.fn[e]=function(n,r){var i=x.map(this,t,n);return&quot;Until&quot;!==e.slice(-5)&amp;&amp;(r=n),r&amp;&amp;&quot;string&quot;==typeof r&amp;&amp;(i=x.filter(r,i)),this.length&gt;1&amp;&amp;(ct[e]||(i=x.unique(i)),lt.test(e)&amp;&amp;(i=i.reverse())),this.pushStack(i)}}),x.extend({filter:function(e,t,n){var r=t[0];return n&amp;&amp;(e=&quot;:not(&quot;+e+&quot;)&quot;),1===t.length&amp;&amp;1===r.nodeType?x.find.matchesSelector(r,e)?[r]:[]:x.find.matches(e,x.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,n,r){var i=[],o=e[n];while(o&amp;&amp;9!==o.nodeType&amp;&amp;(r===t||1!==o.nodeType||!x(o).is(r)))1===o.nodeType&amp;&amp;i.push(o),o=o[n];return i},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)1===e.nodeType&amp;&amp;e!==t&amp;&amp;n.push(e);return n}});function ft(e,t,n){if(x.isFunction(t))return x.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return x.grep(e,function(e){return e===t!==n});if(&quot;string&quot;==typeof t){if(st.test(t))return x.filter(t,e,n);t=x.filter(t,e)}return x.grep(e,function(e){return x.inArray(e,t)&gt;=0!==n})}function dt(e){var t=ht.split(&quot;|&quot;),n=e.createDocumentFragment();if(n.createElement)while(t.length)n.createElement(t.pop());return n}var ht=&quot;abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video&quot;,gt=/ jQuery\d+=&quot;(?:null|\d+)&quot;/g,mt=RegExp(&quot;&lt;(?:&quot;+ht+&quot;)[\\s/&gt;]&quot;,&quot;i&quot;),yt=/^\s+/,vt=/&lt;(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^&gt;]*)\/&gt;/gi,bt=/&lt;([\w:]+)/,xt=/&lt;tbody/i,wt=/&lt;|&amp;#?\w+;/,Tt=/&lt;(?:script|style|link)/i,Ct=/^(?:checkbox|radio)$/i,Nt=/checked\s*(?:[^=]|=\s*.checked.)/i,kt=/^$|\/(?:java|ecma)script/i,Et=/^true\/(.*)/,St=/^\s*&lt;!(?:\[CDATA\[|--)|(?:\]\]|--)&gt;\s*$/g,At={option:[1,&quot;&lt;select multiple='multiple'&gt;&quot;,&quot;&lt;/select&gt;&quot;],legend:[1,&quot;&lt;fieldset&gt;&quot;,&quot;&lt;/fieldset&gt;&quot;],area:[1,&quot;&lt;map&gt;&quot;,&quot;&lt;/map&gt;&quot;],param:[1,&quot;&lt;object&gt;&quot;,&quot;&lt;/object&gt;&quot;],thead:[1,&quot;&lt;table&gt;&quot;,&quot;&lt;/table&gt;&quot;],tr:[2,&quot;&lt;table&gt;&lt;tbody&gt;&quot;,&quot;&lt;/tbody&gt;&lt;/table&gt;&quot;],col:[2,&quot;&lt;table&gt;&lt;tbody&gt;&lt;/tbody&gt;&lt;colgroup&gt;&quot;,&quot;&lt;/colgroup&gt;&lt;/table&gt;&quot;],td:[3,&quot;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&quot;,&quot;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&quot;],_default:x.support.htmlSerialize?[0,&quot;&quot;,&quot;&quot;]:[1,&quot;X&lt;div&gt;&quot;,&quot;&lt;/div&gt;&quot;]},jt=dt(a),Dt=jt.appendChild(a.createElement(&quot;div&quot;));At.optgroup=At.option,At.tbody=At.tfoot=At.colgroup=At.caption=At.thead,At.th=At.td,x.fn.extend({text:function(e){return x.access(this,function(e){return e===t?x.text(this):this.empty().append((this[0]&amp;&amp;this[0].ownerDocument||a).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Lt(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Lt(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&amp;&amp;this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&amp;&amp;this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){var n,r=e?x.filter(e,this):this,i=0;for(;null!=(n=r[i]);i++)t||1!==n.nodeType||x.cleanData(Ft(n)),n.parentNode&amp;&amp;(t&amp;&amp;x.contains(n.ownerDocument,n)&amp;&amp;_t(Ft(n,&quot;script&quot;)),n.parentNode.removeChild(n));return this},empty:function(){var e,t=0;for(;null!=(e=this[t]);t++){1===e.nodeType&amp;&amp;x.cleanData(Ft(e,!1));while(e.firstChild)e.removeChild(e.firstChild);e.options&amp;&amp;x.nodeName(e,&quot;select&quot;)&amp;&amp;(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return x.clone(this,e,t)})},html:function(e){return x.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(gt,&quot;&quot;):t;if(!(&quot;string&quot;!=typeof e||Tt.test(e)||!x.support.htmlSerialize&amp;&amp;mt.test(e)||!x.support.leadingWhitespace&amp;&amp;yt.test(e)||At[(bt.exec(e)||[&quot;&quot;,&quot;&quot;])[1].toLowerCase()])){e=e.replace(vt,&quot;&lt;$1&gt;&lt;/$2&gt;&quot;);try{for(;i&gt;r;r++)n=this[r]||{},1===n.nodeType&amp;&amp;(x.cleanData(Ft(n,!1)),n.innerHTML=e);n=0}catch(o){}}n&amp;&amp;this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=x.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;return this.domManip(arguments,function(n){var r=e[t++],i=e[t++];i&amp;&amp;(r&amp;&amp;r.parentNode!==i&amp;&amp;(r=this.nextSibling),x(this).remove(),i.insertBefore(n,r))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){e=d.apply([],e);var r,i,o,a,s,l,u=0,c=this.length,p=this,f=c-1,h=e[0],g=x.isFunction(h);if(g||!(1&gt;=c||&quot;string&quot;!=typeof h||x.support.checkClone)&amp;&amp;Nt.test(h))return this.each(function(r){var i=p.eq(r);g&amp;&amp;(e[0]=h.call(this,r,i.html())),i.domManip(e,t,n)});if(c&amp;&amp;(l=x.buildFragment(e,this[0].ownerDocument,!1,!n&amp;&amp;this),r=l.firstChild,1===l.childNodes.length&amp;&amp;(l=r),r)){for(a=x.map(Ft(l,&quot;script&quot;),Ht),o=a.length;c&gt;u;u++)i=l,u!==f&amp;&amp;(i=x.clone(i,!0,!0),o&amp;&amp;x.merge(a,Ft(i,&quot;script&quot;))),t.call(this[u],i,u);if(o)for(s=a[a.length-1].ownerDocument,x.map(a,qt),u=0;o&gt;u;u++)i=a[u],kt.test(i.type||&quot;&quot;)&amp;&amp;!x._data(i,&quot;globalEval&quot;)&amp;&amp;x.contains(s,i)&amp;&amp;(i.src?x._evalUrl(i.src):x.globalEval((i.text||i.textContent||i.innerHTML||&quot;&quot;).replace(St,&quot;&quot;)));l=r=null}return this}});function Lt(e,t){return x.nodeName(e,&quot;table&quot;)&amp;&amp;x.nodeName(1===t.nodeType?t:t.firstChild,&quot;tr&quot;)?e.getElementsByTagName(&quot;tbody&quot;)[0]||e.appendChild(e.ownerDocument.createElement(&quot;tbody&quot;)):e}function Ht(e){return e.type=(null!==x.find.attr(e,&quot;type&quot;))+&quot;/&quot;+e.type,e}function qt(e){var t=Et.exec(e.type);return t?e.type=t[1]:e.removeAttribute(&quot;type&quot;),e}function _t(e,t){var n,r=0;for(;null!=(n=e[r]);r++)x._data(n,&quot;globalEval&quot;,!t||x._data(t[r],&quot;globalEval&quot;))}function Mt(e,t){if(1===t.nodeType&amp;&amp;x.hasData(e)){var n,r,i,o=x._data(e),a=x._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(r=0,i=s[n].length;i&gt;r;r++)x.event.add(t,n,s[n][r])}a.data&amp;&amp;(a.data=x.extend({},a.data))}}function Ot(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!x.support.noCloneEvent&amp;&amp;t[x.expando]){i=x._data(t);for(r in i.events)x.removeEvent(t,r,i.handle);t.removeAttribute(x.expando)}&quot;script&quot;===n&amp;&amp;t.text!==e.text?(Ht(t).text=e.text,qt(t)):&quot;object&quot;===n?(t.parentNode&amp;&amp;(t.outerHTML=e.outerHTML),x.support.html5Clone&amp;&amp;e.innerHTML&amp;&amp;!x.trim(t.innerHTML)&amp;&amp;(t.innerHTML=e.innerHTML)):&quot;input&quot;===n&amp;&amp;Ct.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&amp;&amp;(t.value=e.value)):&quot;option&quot;===n?t.defaultSelected=t.selected=e.defaultSelected:(&quot;input&quot;===n||&quot;textarea&quot;===n)&amp;&amp;(t.defaultValue=e.defaultValue)}}x.each({appendTo:&quot;append&quot;,prependTo:&quot;prepend&quot;,insertBefore:&quot;before&quot;,insertAfter:&quot;after&quot;,replaceAll:&quot;replaceWith&quot;},function(e,t){x.fn[e]=function(e){var n,r=0,i=[],o=x(e),a=o.length-1;for(;a&gt;=r;r++)n=r===a?this:this.clone(!0),x(o[r])[t](n),h.apply(i,n.get());return this.pushStack(i)}});function Ft(e,n){var r,o,a=0,s=typeof e.getElementsByTagName!==i?e.getElementsByTagName(n||&quot;*&quot;):typeof e.querySelectorAll!==i?e.querySelectorAll(n||&quot;*&quot;):t;if(!s)for(s=[],r=e.childNodes||e;null!=(o=r[a]);a++)!n||x.nodeName(o,n)?s.push(o):x.merge(s,Ft(o,n));return n===t||n&amp;&amp;x.nodeName(e,n)?x.merge([e],s):s}function Bt(e){Ct.test(e.type)&amp;&amp;(e.defaultChecked=e.checked)}x.extend({clone:function(e,t,n){var r,i,o,a,s,l=x.contains(e.ownerDocument,e);if(x.support.html5Clone||x.isXMLDoc(e)||!mt.test(&quot;&lt;&quot;+e.nodeName+&quot;&gt;&quot;)?o=e.cloneNode(!0):(Dt.innerHTML=e.outerHTML,Dt.removeChild(o=Dt.firstChild)),!(x.support.noCloneEvent&amp;&amp;x.support.noCloneChecked||1!==e.nodeType&amp;&amp;11!==e.nodeType||x.isXMLDoc(e)))for(r=Ft(o),s=Ft(e),a=0;null!=(i=s[a]);++a)r[a]&amp;&amp;Ot(i,r[a]);if(t)if(n)for(s=s||Ft(e),r=r||Ft(o),a=0;null!=(i=s[a]);a++)Mt(i,r[a]);else Mt(e,o);return r=Ft(o,&quot;script&quot;),r.length&gt;0&amp;&amp;_t(r,!l&amp;&amp;Ft(e,&quot;script&quot;)),r=s=i=null,o},buildFragment:function(e,t,n,r){var i,o,a,s,l,u,c,p=e.length,f=dt(t),d=[],h=0;for(;p&gt;h;h++)if(o=e[h],o||0===o)if(&quot;object&quot;===x.type(o))x.merge(d,o.nodeType?[o]:o);else if(wt.test(o)){s=s||f.appendChild(t.createElement(&quot;div&quot;)),l=(bt.exec(o)||[&quot;&quot;,&quot;&quot;])[1].toLowerCase(),c=At[l]||At._default,s.innerHTML=c[1]+o.replace(vt,&quot;&lt;$1&gt;&lt;/$2&gt;&quot;)+c[2],i=c[0];while(i--)s=s.lastChild;if(!x.support.leadingWhitespace&amp;&amp;yt.test(o)&amp;&amp;d.push(t.createTextNode(yt.exec(o)[0])),!x.support.tbody){o=&quot;table&quot;!==l||xt.test(o)?&quot;&lt;table&gt;&quot;!==c[1]||xt.test(o)?0:s:s.firstChild,i=o&amp;&amp;o.childNodes.length;while(i--)x.nodeName(u=o.childNodes[i],&quot;tbody&quot;)&amp;&amp;!u.childNodes.length&amp;&amp;o.removeChild(u)}x.merge(d,s.childNodes),s.textContent=&quot;&quot;;while(s.firstChild)s.removeChild(s.firstChild);s=f.lastChild}else d.push(t.createTextNode(o));s&amp;&amp;f.removeChild(s),x.support.appendChecked||x.grep(Ft(d,&quot;input&quot;),Bt),h=0;while(o=d[h++])if((!r||-1===x.inArray(o,r))&amp;&amp;(a=x.contains(o.ownerDocument,o),s=Ft(f.appendChild(o),&quot;script&quot;),a&amp;&amp;_t(s),n)){i=0;while(o=s[i++])kt.test(o.type||&quot;&quot;)&amp;&amp;n.push(o)}return s=null,f},cleanData:function(e,t){var n,r,o,a,s=0,l=x.expando,u=x.cache,c=x.support.deleteExpando,f=x.event.special;for(;null!=(n=e[s]);s++)if((t||x.acceptData(n))&amp;&amp;(o=n[l],a=o&amp;&amp;u[o])){if(a.events)for(r in a.events)f[r]?x.event.remove(n,r):x.removeEvent(n,r,a.handle);
u[o]&amp;&amp;(delete u[o],c?delete n[l]:typeof n.removeAttribute!==i?n.removeAttribute(l):n[l]=null,p.push(o))}},_evalUrl:function(e){return x.ajax({url:e,type:&quot;GET&quot;,dataType:&quot;script&quot;,async:!1,global:!1,&quot;throws&quot;:!0})}}),x.fn.extend({wrapAll:function(e){if(x.isFunction(e))return this.each(function(t){x(this).wrapAll(e.call(this,t))});if(this[0]){var t=x(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&amp;&amp;t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&amp;&amp;1===e.firstChild.nodeType)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return x.isFunction(e)?this.each(function(t){x(this).wrapInner(e.call(this,t))}):this.each(function(){var t=x(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=x.isFunction(e);return this.each(function(n){x(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){x.nodeName(this,&quot;body&quot;)||x(this).replaceWith(this.childNodes)}).end()}});var Pt,Rt,Wt,$t=/alpha\([^)]*\)/i,It=/opacity\s*=\s*([^)]*)/,zt=/^(top|right|bottom|left)$/,Xt=/^(none|table(?!-c[ea]).+)/,Ut=/^margin/,Vt=RegExp(&quot;^(&quot;+w+&quot;)(.*)$&quot;,&quot;i&quot;),Yt=RegExp(&quot;^(&quot;+w+&quot;)(?!px)[a-z%]+$&quot;,&quot;i&quot;),Jt=RegExp(&quot;^([+-])=(&quot;+w+&quot;)&quot;,&quot;i&quot;),Gt={BODY:&quot;block&quot;},Qt={position:&quot;absolute&quot;,visibility:&quot;hidden&quot;,display:&quot;block&quot;},Kt={letterSpacing:0,fontWeight:400},Zt=[&quot;Top&quot;,&quot;Right&quot;,&quot;Bottom&quot;,&quot;Left&quot;],en=[&quot;Webkit&quot;,&quot;O&quot;,&quot;Moz&quot;,&quot;ms&quot;];function tn(e,t){if(t in e)return t;var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=en.length;while(i--)if(t=en[i]+n,t in e)return t;return r}function nn(e,t){return e=t||e,&quot;none&quot;===x.css(e,&quot;display&quot;)||!x.contains(e.ownerDocument,e)}function rn(e,t){var n,r,i,o=[],a=0,s=e.length;for(;s&gt;a;a++)r=e[a],r.style&amp;&amp;(o[a]=x._data(r,&quot;olddisplay&quot;),n=r.style.display,t?(o[a]||&quot;none&quot;!==n||(r.style.display=&quot;&quot;),&quot;&quot;===r.style.display&amp;&amp;nn(r)&amp;&amp;(o[a]=x._data(r,&quot;olddisplay&quot;,ln(r.nodeName)))):o[a]||(i=nn(r),(n&amp;&amp;&quot;none&quot;!==n||!i)&amp;&amp;x._data(r,&quot;olddisplay&quot;,i?n:x.css(r,&quot;display&quot;))));for(a=0;s&gt;a;a++)r=e[a],r.style&amp;&amp;(t&amp;&amp;&quot;none&quot;!==r.style.display&amp;&amp;&quot;&quot;!==r.style.display||(r.style.display=t?o[a]||&quot;&quot;:&quot;none&quot;));return e}x.fn.extend({css:function(e,n){return x.access(this,function(e,n,r){var i,o,a={},s=0;if(x.isArray(n)){for(o=Rt(e),i=n.length;i&gt;s;s++)a[n[s]]=x.css(e,n[s],!1,o);return a}return r!==t?x.style(e,n,r):x.css(e,n)},e,n,arguments.length&gt;1)},show:function(){return rn(this,!0)},hide:function(){return rn(this)},toggle:function(e){return&quot;boolean&quot;==typeof e?e?this.show():this.hide():this.each(function(){nn(this)?x(this).show():x(this).hide()})}}),x.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Wt(e,&quot;opacity&quot;);return&quot;&quot;===n?&quot;1&quot;:n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{&quot;float&quot;:x.support.cssFloat?&quot;cssFloat&quot;:&quot;styleFloat&quot;},style:function(e,n,r,i){if(e&amp;&amp;3!==e.nodeType&amp;&amp;8!==e.nodeType&amp;&amp;e.style){var o,a,s,l=x.camelCase(n),u=e.style;if(n=x.cssProps[l]||(x.cssProps[l]=tn(u,l)),s=x.cssHooks[n]||x.cssHooks[l],r===t)return s&amp;&amp;&quot;get&quot;in s&amp;&amp;(o=s.get(e,!1,i))!==t?o:u[n];if(a=typeof r,&quot;string&quot;===a&amp;&amp;(o=Jt.exec(r))&amp;&amp;(r=(o[1]+1)*o[2]+parseFloat(x.css(e,n)),a=&quot;number&quot;),!(null==r||&quot;number&quot;===a&amp;&amp;isNaN(r)||(&quot;number&quot;!==a||x.cssNumber[l]||(r+=&quot;px&quot;),x.support.clearCloneStyle||&quot;&quot;!==r||0!==n.indexOf(&quot;background&quot;)||(u[n]=&quot;inherit&quot;),s&amp;&amp;&quot;set&quot;in s&amp;&amp;(r=s.set(e,r,i))===t)))try{u[n]=r}catch(c){}}},css:function(e,n,r,i){var o,a,s,l=x.camelCase(n);return n=x.cssProps[l]||(x.cssProps[l]=tn(e.style,l)),s=x.cssHooks[n]||x.cssHooks[l],s&amp;&amp;&quot;get&quot;in s&amp;&amp;(a=s.get(e,!0,r)),a===t&amp;&amp;(a=Wt(e,n,i)),&quot;normal&quot;===a&amp;&amp;n in Kt&amp;&amp;(a=Kt[n]),&quot;&quot;===r||r?(o=parseFloat(a),r===!0||x.isNumeric(o)?o||0:a):a}}),e.getComputedStyle?(Rt=function(t){return e.getComputedStyle(t,null)},Wt=function(e,n,r){var i,o,a,s=r||Rt(e),l=s?s.getPropertyValue(n)||s[n]:t,u=e.style;return s&amp;&amp;(&quot;&quot;!==l||x.contains(e.ownerDocument,e)||(l=x.style(e,n)),Yt.test(l)&amp;&amp;Ut.test(n)&amp;&amp;(i=u.width,o=u.minWidth,a=u.maxWidth,u.minWidth=u.maxWidth=u.width=l,l=s.width,u.width=i,u.minWidth=o,u.maxWidth=a)),l}):a.documentElement.currentStyle&amp;&amp;(Rt=function(e){return e.currentStyle},Wt=function(e,n,r){var i,o,a,s=r||Rt(e),l=s?s[n]:t,u=e.style;return null==l&amp;&amp;u&amp;&amp;u[n]&amp;&amp;(l=u[n]),Yt.test(l)&amp;&amp;!zt.test(n)&amp;&amp;(i=u.left,o=e.runtimeStyle,a=o&amp;&amp;o.left,a&amp;&amp;(o.left=e.currentStyle.left),u.left=&quot;fontSize&quot;===n?&quot;1em&quot;:l,l=u.pixelLeft+&quot;px&quot;,u.left=i,a&amp;&amp;(o.left=a)),&quot;&quot;===l?&quot;auto&quot;:l});function on(e,t,n){var r=Vt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||&quot;px&quot;):t}function an(e,t,n,r,i){var o=n===(r?&quot;border&quot;:&quot;content&quot;)?4:&quot;width&quot;===t?1:0,a=0;for(;4&gt;o;o+=2)&quot;margin&quot;===n&amp;&amp;(a+=x.css(e,n+Zt[o],!0,i)),r?(&quot;content&quot;===n&amp;&amp;(a-=x.css(e,&quot;padding&quot;+Zt[o],!0,i)),&quot;margin&quot;!==n&amp;&amp;(a-=x.css(e,&quot;border&quot;+Zt[o]+&quot;Width&quot;,!0,i))):(a+=x.css(e,&quot;padding&quot;+Zt[o],!0,i),&quot;padding&quot;!==n&amp;&amp;(a+=x.css(e,&quot;border&quot;+Zt[o]+&quot;Width&quot;,!0,i)));return a}function sn(e,t,n){var r=!0,i=&quot;width&quot;===t?e.offsetWidth:e.offsetHeight,o=Rt(e),a=x.support.boxSizing&amp;&amp;&quot;border-box&quot;===x.css(e,&quot;boxSizing&quot;,!1,o);if(0&gt;=i||null==i){if(i=Wt(e,t,o),(0&gt;i||null==i)&amp;&amp;(i=e.style[t]),Yt.test(i))return i;r=a&amp;&amp;(x.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+an(e,t,n||(a?&quot;border&quot;:&quot;content&quot;),r,o)+&quot;px&quot;}function ln(e){var t=a,n=Gt[e];return n||(n=un(e,t),&quot;none&quot;!==n&amp;&amp;n||(Pt=(Pt||x(&quot;&lt;iframe frameborder='0' width='0' height='0'/&gt;&quot;).css(&quot;cssText&quot;,&quot;display:block !important&quot;)).appendTo(t.documentElement),t=(Pt[0].contentWindow||Pt[0].contentDocument).document,t.write(&quot;&lt;!doctype html&gt;&lt;html&gt;&lt;body&gt;&quot;),t.close(),n=un(e,t),Pt.detach()),Gt[e]=n),n}function un(e,t){var n=x(t.createElement(e)).appendTo(t.body),r=x.css(n[0],&quot;display&quot;);return n.remove(),r}x.each([&quot;height&quot;,&quot;width&quot;],function(e,n){x.cssHooks[n]={get:function(e,r,i){return r?0===e.offsetWidth&amp;&amp;Xt.test(x.css(e,&quot;display&quot;))?x.swap(e,Qt,function(){return sn(e,n,i)}):sn(e,n,i):t},set:function(e,t,r){var i=r&amp;&amp;Rt(e);return on(e,t,r?an(e,n,r,x.support.boxSizing&amp;&amp;&quot;border-box&quot;===x.css(e,&quot;boxSizing&quot;,!1,i),i):0)}}}),x.support.opacity||(x.cssHooks.opacity={get:function(e,t){return It.test((t&amp;&amp;e.currentStyle?e.currentStyle.filter:e.style.filter)||&quot;&quot;)?.01*parseFloat(RegExp.$1)+&quot;&quot;:t?&quot;1&quot;:&quot;&quot;},set:function(e,t){var n=e.style,r=e.currentStyle,i=x.isNumeric(t)?&quot;alpha(opacity=&quot;+100*t+&quot;)&quot;:&quot;&quot;,o=r&amp;&amp;r.filter||n.filter||&quot;&quot;;n.zoom=1,(t&gt;=1||&quot;&quot;===t)&amp;&amp;&quot;&quot;===x.trim(o.replace($t,&quot;&quot;))&amp;&amp;n.removeAttribute&amp;&amp;(n.removeAttribute(&quot;filter&quot;),&quot;&quot;===t||r&amp;&amp;!r.filter)||(n.filter=$t.test(o)?o.replace($t,i):o+&quot; &quot;+i)}}),x(function(){x.support.reliableMarginRight||(x.cssHooks.marginRight={get:function(e,n){return n?x.swap(e,{display:&quot;inline-block&quot;},Wt,[e,&quot;marginRight&quot;]):t}}),!x.support.pixelPosition&amp;&amp;x.fn.position&amp;&amp;x.each([&quot;top&quot;,&quot;left&quot;],function(e,n){x.cssHooks[n]={get:function(e,r){return r?(r=Wt(e,n),Yt.test(r)?x(e).position()[n]+&quot;px&quot;:r):t}}})}),x.expr&amp;&amp;x.expr.filters&amp;&amp;(x.expr.filters.hidden=function(e){return 0&gt;=e.offsetWidth&amp;&amp;0&gt;=e.offsetHeight||!x.support.reliableHiddenOffsets&amp;&amp;&quot;none&quot;===(e.style&amp;&amp;e.style.display||x.css(e,&quot;display&quot;))},x.expr.filters.visible=function(e){return!x.expr.filters.hidden(e)}),x.each({margin:&quot;&quot;,padding:&quot;&quot;,border:&quot;Width&quot;},function(e,t){x.cssHooks[e+t]={expand:function(n){var r=0,i={},o=&quot;string&quot;==typeof n?n.split(&quot; &quot;):[n];for(;4&gt;r;r++)i[e+Zt[r]+t]=o[r]||o[r-2]||o[0];return i}},Ut.test(e)||(x.cssHooks[e+t].set=on)});var cn=/%20/g,pn=/\[\]$/,fn=/\r?\n/g,dn=/^(?:submit|button|image|reset|file)$/i,hn=/^(?:input|select|textarea|keygen)/i;x.fn.extend({serialize:function(){return x.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=x.prop(this,&quot;elements&quot;);return e?x.makeArray(e):this}).filter(function(){var e=this.type;return this.name&amp;&amp;!x(this).is(&quot;:disabled&quot;)&amp;&amp;hn.test(this.nodeName)&amp;&amp;!dn.test(e)&amp;&amp;(this.checked||!Ct.test(e))}).map(function(e,t){var n=x(this).val();return null==n?null:x.isArray(n)?x.map(n,function(e){return{name:t.name,value:e.replace(fn,&quot;\r\n&quot;)}}):{name:t.name,value:n.replace(fn,&quot;\r\n&quot;)}}).get()}}),x.param=function(e,n){var r,i=[],o=function(e,t){t=x.isFunction(t)?t():null==t?&quot;&quot;:t,i[i.length]=encodeURIComponent(e)+&quot;=&quot;+encodeURIComponent(t)};if(n===t&amp;&amp;(n=x.ajaxSettings&amp;&amp;x.ajaxSettings.traditional),x.isArray(e)||e.jquery&amp;&amp;!x.isPlainObject(e))x.each(e,function(){o(this.name,this.value)});else for(r in e)gn(r,e[r],n,o);return i.join(&quot;&amp;&quot;).replace(cn,&quot;+&quot;)};function gn(e,t,n,r){var i;if(x.isArray(t))x.each(t,function(t,i){n||pn.test(e)?r(e,i):gn(e+&quot;[&quot;+(&quot;object&quot;==typeof i?t:&quot;&quot;)+&quot;]&quot;,i,n,r)});else if(n||&quot;object&quot;!==x.type(t))r(e,t);else for(i in t)gn(e+&quot;[&quot;+i+&quot;]&quot;,t[i],n,r)}x.each(&quot;blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu&quot;.split(&quot; &quot;),function(e,t){x.fn[t]=function(e,n){return arguments.length&gt;0?this.on(t,null,e,n):this.trigger(t)}}),x.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,&quot;**&quot;):this.off(t,e||&quot;**&quot;,n)}});var mn,yn,vn=x.now(),bn=/\?/,xn=/#.*$/,wn=/([?&amp;])_=[^&amp;]*/,Tn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Cn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Nn=/^(?:GET|HEAD)$/,kn=/^\/\//,En=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Sn=x.fn.load,An={},jn={},Dn=&quot;*/&quot;.concat(&quot;*&quot;);try{yn=o.href}catch(Ln){yn=a.createElement(&quot;a&quot;),yn.href=&quot;&quot;,yn=yn.href}mn=En.exec(yn.toLowerCase())||[];function Hn(e){return function(t,n){&quot;string&quot;!=typeof t&amp;&amp;(n=t,t=&quot;*&quot;);var r,i=0,o=t.toLowerCase().match(T)||[];if(x.isFunction(n))while(r=o[i++])&quot;+&quot;===r[0]?(r=r.slice(1)||&quot;*&quot;,(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function qn(e,n,r,i){var o={},a=e===jn;function s(l){var u;return o[l]=!0,x.each(e[l]||[],function(e,l){var c=l(n,r,i);return&quot;string&quot;!=typeof c||a||o[c]?a?!(u=c):t:(n.dataTypes.unshift(c),s(c),!1)}),u}return s(n.dataTypes[0])||!o[&quot;*&quot;]&amp;&amp;s(&quot;*&quot;)}function _n(e,n){var r,i,o=x.ajaxSettings.flatOptions||{};for(i in n)n[i]!==t&amp;&amp;((o[i]?e:r||(r={}))[i]=n[i]);return r&amp;&amp;x.extend(!0,e,r),e}x.fn.load=function(e,n,r){if(&quot;string&quot;!=typeof e&amp;&amp;Sn)return Sn.apply(this,arguments);var i,o,a,s=this,l=e.indexOf(&quot; &quot;);return l&gt;=0&amp;&amp;(i=e.slice(l,e.length),e=e.slice(0,l)),x.isFunction(n)?(r=n,n=t):n&amp;&amp;&quot;object&quot;==typeof n&amp;&amp;(a=&quot;POST&quot;),s.length&gt;0&amp;&amp;x.ajax({url:e,type:a,dataType:&quot;html&quot;,data:n}).done(function(e){o=arguments,s.html(i?x(&quot;&lt;div&gt;&quot;).append(x.parseHTML(e)).find(i):e)}).complete(r&amp;&amp;function(e,t){s.each(r,o||[e.responseText,t,e])}),this},x.each([&quot;ajaxStart&quot;,&quot;ajaxStop&quot;,&quot;ajaxComplete&quot;,&quot;ajaxError&quot;,&quot;ajaxSuccess&quot;,&quot;ajaxSend&quot;],function(e,t){x.fn[t]=function(e){return this.on(t,e)}}),x.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:yn,type:&quot;GET&quot;,isLocal:Cn.test(mn[1]),global:!0,processData:!0,async:!0,contentType:&quot;application/x-www-form-urlencoded; charset=UTF-8&quot;,accepts:{&quot;*&quot;:Dn,text:&quot;text/plain&quot;,html:&quot;text/html&quot;,xml:&quot;application/xml, text/xml&quot;,json:&quot;application/json, text/javascript&quot;},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:&quot;responseXML&quot;,text:&quot;responseText&quot;,json:&quot;responseJSON&quot;},converters:{&quot;* text&quot;:String,&quot;text html&quot;:!0,&quot;text json&quot;:x.parseJSON,&quot;text xml&quot;:x.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?_n(_n(e,x.ajaxSettings),t):_n(x.ajaxSettings,e)},ajaxPrefilter:Hn(An),ajaxTransport:Hn(jn),ajax:function(e,n){&quot;object&quot;==typeof e&amp;&amp;(n=e,e=t),n=n||{};var r,i,o,a,s,l,u,c,p=x.ajaxSetup({},n),f=p.context||p,d=p.context&amp;&amp;(f.nodeType||f.jquery)?x(f):x.event,h=x.Deferred(),g=x.Callbacks(&quot;once memory&quot;),m=p.statusCode||{},y={},v={},b=0,w=&quot;canceled&quot;,C={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!c){c={};while(t=Tn.exec(a))c[t[1].toLowerCase()]=t[2]}t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=v[n]=v[n]||e,y[e]=t),this},overrideMimeType:function(e){return b||(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(2&gt;b)for(t in e)m[t]=[m[t],e[t]];else C.always(e[C.status]);return this},abort:function(e){var t=e||w;return u&amp;&amp;u.abort(t),k(0,t),this}};if(h.promise(C).complete=g.add,C.success=C.done,C.error=C.fail,p.url=((e||p.url||yn)+&quot;&quot;).replace(xn,&quot;&quot;).replace(kn,mn[1]+&quot;//&quot;),p.type=n.method||n.type||p.method||p.type,p.dataTypes=x.trim(p.dataType||&quot;*&quot;).toLowerCase().match(T)||[&quot;&quot;],null==p.crossDomain&amp;&amp;(r=En.exec(p.url.toLowerCase()),p.crossDomain=!(!r||r[1]===mn[1]&amp;&amp;r[2]===mn[2]&amp;&amp;(r[3]||(&quot;http:&quot;===r[1]?&quot;80&quot;:&quot;443&quot;))===(mn[3]||(&quot;http:&quot;===mn[1]?&quot;80&quot;:&quot;443&quot;)))),p.data&amp;&amp;p.processData&amp;&amp;&quot;string&quot;!=typeof p.data&amp;&amp;(p.data=x.param(p.data,p.traditional)),qn(An,p,n,C),2===b)return C;l=p.global,l&amp;&amp;0===x.active++&amp;&amp;x.event.trigger(&quot;ajaxStart&quot;),p.type=p.type.toUpperCase(),p.hasContent=!Nn.test(p.type),o=p.url,p.hasContent||(p.data&amp;&amp;(o=p.url+=(bn.test(o)?&quot;&amp;&quot;:&quot;?&quot;)+p.data,delete p.data),p.cache===!1&amp;&amp;(p.url=wn.test(o)?o.replace(wn,&quot;$1_=&quot;+vn++):o+(bn.test(o)?&quot;&amp;&quot;:&quot;?&quot;)+&quot;_=&quot;+vn++)),p.ifModified&amp;&amp;(x.lastModified[o]&amp;&amp;C.setRequestHeader(&quot;If-Modified-Since&quot;,x.lastModified[o]),x.etag[o]&amp;&amp;C.setRequestHeader(&quot;If-None-Match&quot;,x.etag[o])),(p.data&amp;&amp;p.hasContent&amp;&amp;p.contentType!==!1||n.contentType)&amp;&amp;C.setRequestHeader(&quot;Content-Type&quot;,p.contentType),C.setRequestHeader(&quot;Accept&quot;,p.dataTypes[0]&amp;&amp;p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+(&quot;*&quot;!==p.dataTypes[0]?&quot;, &quot;+Dn+&quot;; q=0.01&quot;:&quot;&quot;):p.accepts[&quot;*&quot;]);for(i in p.headers)C.setRequestHeader(i,p.headers[i]);if(p.beforeSend&amp;&amp;(p.beforeSend.call(f,C,p)===!1||2===b))return C.abort();w=&quot;abort&quot;;for(i in{success:1,error:1,complete:1})C[i](p[i]);if(u=qn(jn,p,n,C)){C.readyState=1,l&amp;&amp;d.trigger(&quot;ajaxSend&quot;,[C,p]),p.async&amp;&amp;p.timeout&gt;0&amp;&amp;(s=setTimeout(function(){C.abort(&quot;timeout&quot;)},p.timeout));try{b=1,u.send(y,k)}catch(N){if(!(2&gt;b))throw N;k(-1,N)}}else k(-1,&quot;No Transport&quot;);function k(e,n,r,i){var c,y,v,w,T,N=n;2!==b&amp;&amp;(b=2,s&amp;&amp;clearTimeout(s),u=t,a=i||&quot;&quot;,C.readyState=e&gt;0?4:0,c=e&gt;=200&amp;&amp;300&gt;e||304===e,r&amp;&amp;(w=Mn(p,C,r)),w=On(p,w,C,c),c?(p.ifModified&amp;&amp;(T=C.getResponseHeader(&quot;Last-Modified&quot;),T&amp;&amp;(x.lastModified[o]=T),T=C.getResponseHeader(&quot;etag&quot;),T&amp;&amp;(x.etag[o]=T)),204===e||&quot;HEAD&quot;===p.type?N=&quot;nocontent&quot;:304===e?N=&quot;notmodified&quot;:(N=w.state,y=w.data,v=w.error,c=!v)):(v=N,(e||!N)&amp;&amp;(N=&quot;error&quot;,0&gt;e&amp;&amp;(e=0))),C.status=e,C.statusText=(n||N)+&quot;&quot;,c?h.resolveWith(f,[y,N,C]):h.rejectWith(f,[C,N,v]),C.statusCode(m),m=t,l&amp;&amp;d.trigger(c?&quot;ajaxSuccess&quot;:&quot;ajaxError&quot;,[C,p,c?y:v]),g.fireWith(f,[C,N]),l&amp;&amp;(d.trigger(&quot;ajaxComplete&quot;,[C,p]),--x.active||x.event.trigger(&quot;ajaxStop&quot;)))}return C},getJSON:function(e,t,n){return x.get(e,t,n,&quot;json&quot;)},getScript:function(e,n){return x.get(e,t,n,&quot;script&quot;)}}),x.each([&quot;get&quot;,&quot;post&quot;],function(e,n){x[n]=function(e,r,i,o){return x.isFunction(r)&amp;&amp;(o=o||i,i=r,r=t),x.ajax({url:e,type:n,dataType:o,data:r,success:i})}});function Mn(e,n,r){var i,o,a,s,l=e.contents,u=e.dataTypes;while(&quot;*&quot;===u[0])u.shift(),o===t&amp;&amp;(o=e.mimeType||n.getResponseHeader(&quot;Content-Type&quot;));if(o)for(s in l)if(l[s]&amp;&amp;l[s].test(o)){u.unshift(s);break}if(u[0]in r)a=u[0];else{for(s in r){if(!u[0]||e.converters[s+&quot; &quot;+u[0]]){a=s;break}i||(i=s)}a=a||i}return a?(a!==u[0]&amp;&amp;u.unshift(a),r[a]):t}function On(e,t,n,r){var i,o,a,s,l,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];o=c.shift();while(o)if(e.responseFields[o]&amp;&amp;(n[e.responseFields[o]]=t),!l&amp;&amp;r&amp;&amp;e.dataFilter&amp;&amp;(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if(&quot;*&quot;===o)o=l;else if(&quot;*&quot;!==l&amp;&amp;l!==o){if(a=u[l+&quot; &quot;+o]||u[&quot;* &quot;+o],!a)for(i in u)if(s=i.split(&quot; &quot;),s[1]===o&amp;&amp;(a=u[l+&quot; &quot;+s[0]]||u[&quot;* &quot;+s[0]])){a===!0?a=u[i]:u[i]!==!0&amp;&amp;(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&amp;&amp;e[&quot;throws&quot;])t=a(t);else try{t=a(t)}catch(p){return{state:&quot;parsererror&quot;,error:a?p:&quot;No conversion from &quot;+l+&quot; to &quot;+o}}}return{state:&quot;success&quot;,data:t}}x.ajaxSetup({accepts:{script:&quot;text/javascript, application/javascript, application/ecmascript, application/x-ecmascript&quot;},contents:{script:/(?:java|ecma)script/},converters:{&quot;text script&quot;:function(e){return x.globalEval(e),e}}}),x.ajaxPrefilter(&quot;script&quot;,function(e){e.cache===t&amp;&amp;(e.cache=!1),e.crossDomain&amp;&amp;(e.type=&quot;GET&quot;,e.global=!1)}),x.ajaxTransport(&quot;script&quot;,function(e){if(e.crossDomain){var n,r=a.head||x(&quot;head&quot;)[0]||a.documentElement;return{send:function(t,i){n=a.createElement(&quot;script&quot;),n.async=!0,e.scriptCharset&amp;&amp;(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&amp;&amp;(n.onload=n.onreadystatechange=null,n.parentNode&amp;&amp;n.parentNode.removeChild(n),n=null,t||i(200,&quot;success&quot;))},r.insertBefore(n,r.firstChild)},abort:function(){n&amp;&amp;n.onload(t,!0)}}}});var Fn=[],Bn=/(=)\?(?=&amp;|$)|\?\?/;x.ajaxSetup({jsonp:&quot;callback&quot;,jsonpCallback:function(){var e=Fn.pop()||x.expando+&quot;_&quot;+vn++;return this[e]=!0,e}}),x.ajaxPrefilter(&quot;json jsonp&quot;,function(n,r,i){var o,a,s,l=n.jsonp!==!1&amp;&amp;(Bn.test(n.url)?&quot;url&quot;:&quot;string&quot;==typeof n.data&amp;&amp;!(n.contentType||&quot;&quot;).indexOf(&quot;application/x-www-form-urlencoded&quot;)&amp;&amp;Bn.test(n.data)&amp;&amp;&quot;data&quot;);return l||&quot;jsonp&quot;===n.dataTypes[0]?(o=n.jsonpCallback=x.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,l?n[l]=n[l].replace(Bn,&quot;$1&quot;+o):n.jsonp!==!1&amp;&amp;(n.url+=(bn.test(n.url)?&quot;&amp;&quot;:&quot;?&quot;)+n.jsonp+&quot;=&quot;+o),n.converters[&quot;script json&quot;]=function(){return s||x.error(o+&quot; was not called&quot;),s[0]},n.dataTypes[0]=&quot;json&quot;,a=e[o],e[o]=function(){s=arguments},i.always(function(){e[o]=a,n[o]&amp;&amp;(n.jsonpCallback=r.jsonpCallback,Fn.push(o)),s&amp;&amp;x.isFunction(a)&amp;&amp;a(s[0]),s=a=t}),&quot;script&quot;):t});var Pn,Rn,Wn=0,$n=e.ActiveXObject&amp;&amp;function(){var e;for(e in Pn)Pn[e](t,!0)};function In(){try{return new e.XMLHttpRequest}catch(t){}}function zn(){try{return new e.ActiveXObject(&quot;Microsoft.XMLHTTP&quot;)}catch(t){}}x.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&amp;&amp;In()||zn()}:In,Rn=x.ajaxSettings.xhr(),x.support.cors=!!Rn&amp;&amp;&quot;withCredentials&quot;in Rn,Rn=x.support.ajax=!!Rn,Rn&amp;&amp;x.ajaxTransport(function(n){if(!n.crossDomain||x.support.cors){var r;return{send:function(i,o){var a,s,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(s in n.xhrFields)l[s]=n.xhrFields[s];n.mimeType&amp;&amp;l.overrideMimeType&amp;&amp;l.overrideMimeType(n.mimeType),n.crossDomain||i[&quot;X-Requested-With&quot;]||(i[&quot;X-Requested-With&quot;]=&quot;XMLHttpRequest&quot;);try{for(s in i)l.setRequestHeader(s,i[s])}catch(u){}l.send(n.hasContent&amp;&amp;n.data||null),r=function(e,i){var s,u,c,p;try{if(r&amp;&amp;(i||4===l.readyState))if(r=t,a&amp;&amp;(l.onreadystatechange=x.noop,$n&amp;&amp;delete Pn[a]),i)4!==l.readyState&amp;&amp;l.abort();else{p={},s=l.status,u=l.getAllResponseHeaders(),&quot;string&quot;==typeof l.responseText&amp;&amp;(p.text=l.responseText);try{c=l.statusText}catch(f){c=&quot;&quot;}s||!n.isLocal||n.crossDomain?1223===s&amp;&amp;(s=204):s=p.text?200:404}}catch(d){i||o(-1,d)}p&amp;&amp;o(s,c,p,u)},n.async?4===l.readyState?setTimeout(r):(a=++Wn,$n&amp;&amp;(Pn||(Pn={},x(e).unload($n)),Pn[a]=r),l.onreadystatechange=r):r()},abort:function(){r&amp;&amp;r(t,!0)}}}});var Xn,Un,Vn=/^(?:toggle|show|hide)$/,Yn=RegExp(&quot;^(?:([+-])=|)(&quot;+w+&quot;)([a-z%]*)$&quot;,&quot;i&quot;),Jn=/queueHooks$/,Gn=[nr],Qn={&quot;*&quot;:[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=Yn.exec(t),o=i&amp;&amp;i[3]||(x.cssNumber[e]?&quot;&quot;:&quot;px&quot;),a=(x.cssNumber[e]||&quot;px&quot;!==o&amp;&amp;+r)&amp;&amp;Yn.exec(x.css(n.elem,e)),s=1,l=20;if(a&amp;&amp;a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do s=s||&quot;.5&quot;,a/=s,x.style(n.elem,e,a+o);while(s!==(s=n.cur()/r)&amp;&amp;1!==s&amp;&amp;--l)}return i&amp;&amp;(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};function Kn(){return setTimeout(function(){Xn=t}),Xn=x.now()}function Zn(e,t,n){var r,i=(Qn[t]||[]).concat(Qn[&quot;*&quot;]),o=0,a=i.length;for(;a&gt;o;o++)if(r=i[o].call(n,t,e))return r}function er(e,t,n){var r,i,o=0,a=Gn.length,s=x.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;var t=Xn||Kn(),n=Math.max(0,u.startTime+u.duration-t),r=n/u.duration||0,o=1-r,a=0,l=u.tweens.length;for(;l&gt;a;a++)u.tweens[a].run(o);return s.notifyWith(e,[u,o,n]),1&gt;o&amp;&amp;l?n:(s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:x.extend({},t),opts:x.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Xn||Kn(),duration:n.duration,tweens:[],createTween:function(t,n){var r=x.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){var n=0,r=t?u.tweens.length:0;if(i)return this;for(i=!0;r&gt;n;n++)u.tweens[n].run(1);return t?s.resolveWith(e,[u,t]):s.rejectWith(e,[u,t]),this}}),c=u.props;for(tr(c,u.opts.specialEasing);a&gt;o;o++)if(r=Gn[o].call(u,e,c,u.opts))return r;return x.map(c,Zn,u),x.isFunction(u.opts.start)&amp;&amp;u.opts.start.call(e,u),x.fx.timer(x.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function tr(e,t){var n,r,i,o,a;for(n in e)if(r=x.camelCase(n),i=t[r],o=e[n],x.isArray(o)&amp;&amp;(i=o[1],o=e[n]=o[0]),n!==r&amp;&amp;(e[r]=o,delete e[n]),a=x.cssHooks[r],a&amp;&amp;&quot;expand&quot;in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}x.Animation=x.extend(er,{tweener:function(e,t){x.isFunction(e)?(t=e,e=[&quot;*&quot;]):e=e.split(&quot; &quot;);var n,r=0,i=e.length;for(;i&gt;r;r++)n=e[r],Qn[n]=Qn[n]||[],Qn[n].unshift(t)},prefilter:function(e,t){t?Gn.unshift(e):Gn.push(e)}});function nr(e,t,n){var r,i,o,a,s,l,u=this,c={},p=e.style,f=e.nodeType&amp;&amp;nn(e),d=x._data(e,&quot;fxshow&quot;);n.queue||(s=x._queueHooks(e,&quot;fx&quot;),null==s.unqueued&amp;&amp;(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,u.always(function(){u.always(function(){s.unqueued--,x.queue(e,&quot;fx&quot;).length||s.empty.fire()})})),1===e.nodeType&amp;&amp;(&quot;height&quot;in t||&quot;width&quot;in t)&amp;&amp;(n.overflow=[p.overflow,p.overflowX,p.overflowY],&quot;inline&quot;===x.css(e,&quot;display&quot;)&amp;&amp;&quot;none&quot;===x.css(e,&quot;float&quot;)&amp;&amp;(x.support.inlineBlockNeedsLayout&amp;&amp;&quot;inline&quot;!==ln(e.nodeName)?p.zoom=1:p.display=&quot;inline-block&quot;)),n.overflow&amp;&amp;(p.overflow=&quot;hidden&quot;,x.support.shrinkWrapBlocks||u.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],Vn.exec(i)){if(delete t[r],o=o||&quot;toggle&quot;===i,i===(f?&quot;hide&quot;:&quot;show&quot;))continue;c[r]=d&amp;&amp;d[r]||x.style(e,r)}if(!x.isEmptyObject(c)){d?&quot;hidden&quot;in d&amp;&amp;(f=d.hidden):d=x._data(e,&quot;fxshow&quot;,{}),o&amp;&amp;(d.hidden=!f),f?x(e).show():u.done(function(){x(e).hide()}),u.done(function(){var t;x._removeData(e,&quot;fxshow&quot;);for(t in c)x.style(e,t,c[t])});for(r in c)a=Zn(f?d[r]:0,r,u),r in d||(d[r]=a.start,f&amp;&amp;(a.end=a.start,a.start=&quot;width&quot;===r||&quot;height&quot;===r?1:0))}}function rr(e,t,n,r,i){return new rr.prototype.init(e,t,n,r,i)}x.Tween=rr,rr.prototype={constructor:rr,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||&quot;swing&quot;,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(x.cssNumber[n]?&quot;&quot;:&quot;px&quot;)},cur:function(){var e=rr.propHooks[this.prop];return e&amp;&amp;e.get?e.get(this):rr.propHooks._default.get(this)},run:function(e){var t,n=rr.propHooks[this.prop];return this.pos=t=this.options.duration?x.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&amp;&amp;this.options.step.call(this.elem,this.now,this),n&amp;&amp;n.set?n.set(this):rr.propHooks._default.set(this),this}},rr.prototype.init.prototype=rr.prototype,rr.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&amp;&amp;null!=e.elem.style[e.prop]?(t=x.css(e.elem,e.prop,&quot;&quot;),t&amp;&amp;&quot;auto&quot;!==t?t:0):e.elem[e.prop]},set:function(e){x.fx.step[e.prop]?x.fx.step[e.prop](e):e.elem.style&amp;&amp;(null!=e.elem.style[x.cssProps[e.prop]]||x.cssHooks[e.prop])?x.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},rr.propHooks.scrollTop=rr.propHooks.scrollLeft={set:function(e){e.elem.nodeType&amp;&amp;e.elem.parentNode&amp;&amp;(e.elem[e.prop]=e.now)}},x.each([&quot;toggle&quot;,&quot;show&quot;,&quot;hide&quot;],function(e,t){var n=x.fn[t];x.fn[t]=function(e,r,i){return null==e||&quot;boolean&quot;==typeof e?n.apply(this,arguments):this.animate(ir(t,!0),e,r,i)}}),x.fn.extend({fadeTo:function(e,t,n,r){return this.filter(nn).css(&quot;opacity&quot;,0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=x.isEmptyObject(e),o=x.speed(t,n,r),a=function(){var t=er(this,x.extend({},e),o);(i||x._data(this,&quot;finish&quot;))&amp;&amp;t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return&quot;string&quot;!=typeof e&amp;&amp;(r=n,n=e,e=t),n&amp;&amp;e!==!1&amp;&amp;this.queue(e||&quot;fx&quot;,[]),this.each(function(){var t=!0,n=null!=e&amp;&amp;e+&quot;queueHooks&quot;,o=x.timers,a=x._data(this);if(n)a[n]&amp;&amp;a[n].stop&amp;&amp;i(a[n]);else for(n in a)a[n]&amp;&amp;a[n].stop&amp;&amp;Jn.test(n)&amp;&amp;i(a[n]);for(n=o.length;n--;)o[n].elem!==this||null!=e&amp;&amp;o[n].queue!==e||(o[n].anim.stop(r),t=!1,o.splice(n,1));(t||!r)&amp;&amp;x.dequeue(this,e)})},finish:function(e){return e!==!1&amp;&amp;(e=e||&quot;fx&quot;),this.each(function(){var t,n=x._data(this),r=n[e+&quot;queue&quot;],i=n[e+&quot;queueHooks&quot;],o=x.timers,a=r?r.length:0;for(n.finish=!0,x.queue(this,e,[]),i&amp;&amp;i.stop&amp;&amp;i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&amp;&amp;o[t].queue===e&amp;&amp;(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a&gt;t;t++)r[t]&amp;&amp;r[t].finish&amp;&amp;r[t].finish.call(this);delete n.finish})}});function ir(e,t){var n,r={height:e},i=0;for(t=t?1:0;4&gt;i;i+=2-t)n=Zt[i],r[&quot;margin&quot;+n]=r[&quot;padding&quot;+n]=e;return t&amp;&amp;(r.opacity=r.width=e),r}x.each({slideDown:ir(&quot;show&quot;),slideUp:ir(&quot;hide&quot;),slideToggle:ir(&quot;toggle&quot;),fadeIn:{opacity:&quot;show&quot;},fadeOut:{opacity:&quot;hide&quot;},fadeToggle:{opacity:&quot;toggle&quot;}},function(e,t){x.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),x.speed=function(e,t,n){var r=e&amp;&amp;&quot;object&quot;==typeof e?x.extend({},e):{complete:n||!n&amp;&amp;t||x.isFunction(e)&amp;&amp;e,duration:e,easing:n&amp;&amp;t||t&amp;&amp;!x.isFunction(t)&amp;&amp;t};return r.duration=x.fx.off?0:&quot;number&quot;==typeof r.duration?r.duration:r.duration in x.fx.speeds?x.fx.speeds[r.duration]:x.fx.speeds._default,(null==r.queue||r.queue===!0)&amp;&amp;(r.queue=&quot;fx&quot;),r.old=r.complete,r.complete=function(){x.isFunction(r.old)&amp;&amp;r.old.call(this),r.queue&amp;&amp;x.dequeue(this,r.queue)},r},x.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},x.timers=[],x.fx=rr.prototype.init,x.fx.tick=function(){var e,n=x.timers,r=0;for(Xn=x.now();n.length&gt;r;r++)e=n[r],e()||n[r]!==e||n.splice(r--,1);n.length||x.fx.stop(),Xn=t},x.fx.timer=function(e){e()&amp;&amp;x.timers.push(e)&amp;&amp;x.fx.start()},x.fx.interval=13,x.fx.start=function(){Un||(Un=setInterval(x.fx.tick,x.fx.interval))},x.fx.stop=function(){clearInterval(Un),Un=null},x.fx.speeds={slow:600,fast:200,_default:400},x.fx.step={},x.expr&amp;&amp;x.expr.filters&amp;&amp;(x.expr.filters.animated=function(e){return x.grep(x.timers,function(t){return e===t.elem}).length}),x.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){x.offset.setOffset(this,e,t)});var n,r,o={top:0,left:0},a=this[0],s=a&amp;&amp;a.ownerDocument;if(s)return n=s.documentElement,x.contains(n,a)?(typeof a.getBoundingClientRect!==i&amp;&amp;(o=a.getBoundingClientRect()),r=or(s),{top:o.top+(r.pageYOffset||n.scrollTop)-(n.clientTop||0),left:o.left+(r.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):o},x.offset={setOffset:function(e,t,n){var r=x.css(e,&quot;position&quot;);&quot;static&quot;===r&amp;&amp;(e.style.position=&quot;relative&quot;);var i=x(e),o=i.offset(),a=x.css(e,&quot;top&quot;),s=x.css(e,&quot;left&quot;),l=(&quot;absolute&quot;===r||&quot;fixed&quot;===r)&amp;&amp;x.inArray(&quot;auto&quot;,[a,s])&gt;-1,u={},c={},p,f;l?(c=i.position(),p=c.top,f=c.left):(p=parseFloat(a)||0,f=parseFloat(s)||0),x.isFunction(t)&amp;&amp;(t=t.call(e,n,o)),null!=t.top&amp;&amp;(u.top=t.top-o.top+p),null!=t.left&amp;&amp;(u.left=t.left-o.left+f),&quot;using&quot;in t?t.using.call(e,u):i.css(u)}},x.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return&quot;fixed&quot;===x.css(r,&quot;position&quot;)?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),x.nodeName(e[0],&quot;html&quot;)||(n=e.offset()),n.top+=x.css(e[0],&quot;borderTopWidth&quot;,!0),n.left+=x.css(e[0],&quot;borderLeftWidth&quot;,!0)),{top:t.top-n.top-x.css(r,&quot;marginTop&quot;,!0),left:t.left-n.left-x.css(r,&quot;marginLeft&quot;,!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||s;while(e&amp;&amp;!x.nodeName(e,&quot;html&quot;)&amp;&amp;&quot;static&quot;===x.css(e,&quot;position&quot;))e=e.offsetParent;return e||s})}}),x.each({scrollLeft:&quot;pageXOffset&quot;,scrollTop:&quot;pageYOffset&quot;},function(e,n){var r=/Y/.test(n);x.fn[e]=function(i){return x.access(this,function(e,i,o){var a=or(e);return o===t?a?n in a?a[n]:a.document.documentElement[i]:e[i]:(a?a.scrollTo(r?x(a).scrollLeft():o,r?o:x(a).scrollTop()):e[i]=o,t)},e,i,arguments.length,null)}});function or(e){return x.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}x.each({Height:&quot;height&quot;,Width:&quot;width&quot;},function(e,n){x.each({padding:&quot;inner&quot;+e,content:n,&quot;&quot;:&quot;outer&quot;+e},function(r,i){x.fn[i]=function(i,o){var a=arguments.length&amp;&amp;(r||&quot;boolean&quot;!=typeof i),s=r||(i===!0||o===!0?&quot;margin&quot;:&quot;border&quot;);return x.access(this,function(n,r,i){var o;return x.isWindow(n)?n.document.documentElement[&quot;client&quot;+e]:9===n.nodeType?(o=n.documentElement,Math.max(n.body[&quot;scroll&quot;+e],o[&quot;scroll&quot;+e],n.body[&quot;offset&quot;+e],o[&quot;offset&quot;+e],o[&quot;client&quot;+e])):i===t?x.css(n,r,s):x.style(n,r,i,s)},n,a?i:t,a,null)}})}),x.fn.size=function(){return this.length},x.fn.andSelf=x.fn.addBack,&quot;object&quot;==typeof module&amp;&amp;module&amp;&amp;&quot;object&quot;==typeof module.exports?module.exports=x:(e.jQuery=e.$=x,&quot;function&quot;==typeof define&amp;&amp;define.amd&amp;&amp;define(&quot;jquery&quot;,[],function(){return x}))})(window);
//}}}</pre>
</div>
<div title="jquery-v1.8.3.js" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405162149" modified="201405171248" tags="systemConfig systemConfigDisable excludeTimeline js jquery" changecount="15" content-type="text/javascript">
<pre>//&lt;![CDATA[
(function(e,t){function _(e){var t=M[e]={};return v.each(e.split(y),function(e,n){t[n]=!0}),t}function H(e,n,r){if(r===t&amp;&amp;e.nodeType===1){var i=&quot;data-&quot;+n.replace(P,&quot;-$1&quot;).toLowerCase();r=e.getAttribute(i);if(typeof r==&quot;string&quot;){try{r=r===&quot;true&quot;?!0:r===&quot;false&quot;?!1:r===&quot;null&quot;?null:+r+&quot;&quot;===r?+r:D.test(r)?v.parseJSON(r):r}catch(s){}v.data(e,n,r)}else r=t}return r}function B(e){var t;for(t in e){if(t===&quot;data&quot;&amp;&amp;v.isEmptyObject(e[t]))continue;if(t!==&quot;toJSON&quot;)return!1}return!0}function et(){return!1}function tt(){return!0}function ut(e){return!e||!e.parentNode||e.parentNode.nodeType===11}function at(e,t){do e=e[t];while(e&amp;&amp;e.nodeType!==1);return e}function ft(e,t,n){t=t||0;if(v.isFunction(t))return v.grep(e,function(e,r){var i=!!t.call(e,r,e);return i===n});if(t.nodeType)return v.grep(e,function(e,r){return e===t===n});if(typeof t==&quot;string&quot;){var r=v.grep(e,function(e){return e.nodeType===1});if(it.test(t))return v.filter(t,r,!n);t=v.filter(t,r)}return v.grep(e,function(e,r){return v.inArray(e,t)&gt;=0===n})}function lt(e){var t=ct.split(&quot;|&quot;),n=e.createDocumentFragment();if(n.createElement)while(t.length)n.createElement(t.pop());return n}function Lt(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function At(e,t){if(t.nodeType!==1||!v.hasData(e))return;var n,r,i,s=v._data(e),o=v._data(t,s),u=s.events;if(u){delete o.handle,o.events={};for(n in u)for(r=0,i=u[n].length;r&lt;i;r++)v.event.add(t,n,u[n][r])}o.data&amp;&amp;(o.data=v.extend({},o.data))}function Ot(e,t){var n;if(t.nodeType!==1)return;t.clearAttributes&amp;&amp;t.clearAttributes(),t.mergeAttributes&amp;&amp;t.mergeAttributes(e),n=t.nodeName.toLowerCase(),n===&quot;object&quot;?(t.parentNode&amp;&amp;(t.outerHTML=e.outerHTML),v.support.html5Clone&amp;&amp;e.innerHTML&amp;&amp;!v.trim(t.innerHTML)&amp;&amp;(t.innerHTML=e.innerHTML)):n===&quot;input&quot;&amp;&amp;Et.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&amp;&amp;(t.value=e.value)):n===&quot;option&quot;?t.selected=e.defaultSelected:n===&quot;input&quot;||n===&quot;textarea&quot;?t.defaultValue=e.defaultValue:n===&quot;script&quot;&amp;&amp;t.text!==e.text&amp;&amp;(t.text=e.text),t.removeAttribute(v.expando)}function Mt(e){return typeof e.getElementsByTagName!=&quot;undefined&quot;?e.getElementsByTagName(&quot;*&quot;):typeof e.querySelectorAll!=&quot;undefined&quot;?e.querySelectorAll(&quot;*&quot;):[]}function _t(e){Et.test(e.type)&amp;&amp;(e.defaultChecked=e.checked)}function Qt(e,t){if(t in e)return t;var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=Jt.length;while(i--){t=Jt[i]+n;if(t in e)return t}return r}function Gt(e,t){return e=t||e,v.css(e,&quot;display&quot;)===&quot;none&quot;||!v.contains(e.ownerDocument,e)}function Yt(e,t){var n,r,i=[],s=0,o=e.length;for(;s&lt;o;s++){n=e[s];if(!n.style)continue;i[s]=v._data(n,&quot;olddisplay&quot;),t?(!i[s]&amp;&amp;n.style.display===&quot;none&quot;&amp;&amp;(n.style.display=&quot;&quot;),n.style.display===&quot;&quot;&amp;&amp;Gt(n)&amp;&amp;(i[s]=v._data(n,&quot;olddisplay&quot;,nn(n.nodeName)))):(r=Dt(n,&quot;display&quot;),!i[s]&amp;&amp;r!==&quot;none&quot;&amp;&amp;v._data(n,&quot;olddisplay&quot;,r))}for(s=0;s&lt;o;s++){n=e[s];if(!n.style)continue;if(!t||n.style.display===&quot;none&quot;||n.style.display===&quot;&quot;)n.style.display=t?i[s]||&quot;&quot;:&quot;none&quot;}return e}function Zt(e,t,n){var r=Rt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||&quot;px&quot;):t}function en(e,t,n,r){var i=n===(r?&quot;border&quot;:&quot;content&quot;)?4:t===&quot;width&quot;?1:0,s=0;for(;i&lt;4;i+=2)n===&quot;margin&quot;&amp;&amp;(s+=v.css(e,n+$t[i],!0)),r?(n===&quot;content&quot;&amp;&amp;(s-=parseFloat(Dt(e,&quot;padding&quot;+$t[i]))||0),n!==&quot;margin&quot;&amp;&amp;(s-=parseFloat(Dt(e,&quot;border&quot;+$t[i]+&quot;Width&quot;))||0)):(s+=parseFloat(Dt(e,&quot;padding&quot;+$t[i]))||0,n!==&quot;padding&quot;&amp;&amp;(s+=parseFloat(Dt(e,&quot;border&quot;+$t[i]+&quot;Width&quot;))||0));return s}function tn(e,t,n){var r=t===&quot;width&quot;?e.offsetWidth:e.offsetHeight,i=!0,s=v.support.boxSizing&amp;&amp;v.css(e,&quot;boxSizing&quot;)===&quot;border-box&quot;;if(r&lt;=0||r==null){r=Dt(e,t);if(r&lt;0||r==null)r=e.style[t];if(Ut.test(r))return r;i=s&amp;&amp;(v.support.boxSizingReliable||r===e.style[t]),r=parseFloat(r)||0}return r+en(e,t,n||(s?&quot;border&quot;:&quot;content&quot;),i)+&quot;px&quot;}function nn(e){if(Wt[e])return Wt[e];var t=v(&quot;&lt;&quot;+e+&quot;&gt;&quot;).appendTo(i.body),n=t.css(&quot;display&quot;);t.remove();if(n===&quot;none&quot;||n===&quot;&quot;){Pt=i.body.appendChild(Pt||v.extend(i.createElement(&quot;iframe&quot;),{frameBorder:0,width:0,height:0}));if(!Ht||!Pt.createElement)Ht=(Pt.contentWindow||Pt.contentDocument).document,Ht.write(&quot;&lt;!doctype html&gt;&lt;html&gt;&lt;body&gt;&quot;),Ht.close();t=Ht.body.appendChild(Ht.createElement(e)),n=Dt(t,&quot;display&quot;),i.body.removeChild(Pt)}return Wt[e]=n,n}function fn(e,t,n,r){var i;if(v.isArray(t))v.each(t,function(t,i){n||sn.test(e)?r(e,i):fn(e+&quot;[&quot;+(typeof i==&quot;object&quot;?t:&quot;&quot;)+&quot;]&quot;,i,n,r)});else if(!n&amp;&amp;v.type(t)===&quot;object&quot;)for(i in t)fn(e+&quot;[&quot;+i+&quot;]&quot;,t[i],n,r);else r(e,t)}function Cn(e){return function(t,n){typeof t!=&quot;string&quot;&amp;&amp;(n=t,t=&quot;*&quot;);var r,i,s,o=t.toLowerCase().split(y),u=0,a=o.length;if(v.isFunction(n))for(;u&lt;a;u++)r=o[u],s=/^\+/.test(r),s&amp;&amp;(r=r.substr(1)||&quot;*&quot;),i=e[r]=e[r]||[],i[s?&quot;unshift&quot;:&quot;push&quot;](n)}}function kn(e,n,r,i,s,o){s=s||n.dataTypes[0],o=o||{},o[s]=!0;var u,a=e[s],f=0,l=a?a.length:0,c=e===Sn;for(;f&lt;l&amp;&amp;(c||!u);f++)u=a[f](n,r,i),typeof u==&quot;string&quot;&amp;&amp;(!c||o[u]?u=t:(n.dataTypes.unshift(u),u=kn(e,n,r,i,u,o)));return(c||!u)&amp;&amp;!o[&quot;*&quot;]&amp;&amp;(u=kn(e,n,r,i,&quot;*&quot;,o)),u}function Ln(e,n){var r,i,s=v.ajaxSettings.flatOptions||{};for(r in n)n[r]!==t&amp;&amp;((s[r]?e:i||(i={}))[r]=n[r]);i&amp;&amp;v.extend(!0,e,i)}function An(e,n,r){var i,s,o,u,a=e.contents,f=e.dataTypes,l=e.responseFields;for(s in l)s in r&amp;&amp;(n[l[s]]=r[s]);while(f[0]===&quot;*&quot;)f.shift(),i===t&amp;&amp;(i=e.mimeType||n.getResponseHeader(&quot;content-type&quot;));if(i)for(s in a)if(a[s]&amp;&amp;a[s].test(i)){f.unshift(s);break}if(f[0]in r)o=f[0];else{for(s in r){if(!f[0]||e.converters[s+&quot; &quot;+f[0]]){o=s;break}u||(u=s)}o=o||u}if(o)return o!==f[0]&amp;&amp;f.unshift(o),r[o]}function On(e,t){var n,r,i,s,o=e.dataTypes.slice(),u=o[0],a={},f=0;e.dataFilter&amp;&amp;(t=e.dataFilter(t,e.dataType));if(o[1])for(n in e.converters)a[n.toLowerCase()]=e.converters[n];for(;i=o[++f];)if(i!==&quot;*&quot;){if(u!==&quot;*&quot;&amp;&amp;u!==i){n=a[u+&quot; &quot;+i]||a[&quot;* &quot;+i];if(!n)for(r in a){s=r.split(&quot; &quot;);if(s[1]===i){n=a[u+&quot; &quot;+s[0]]||a[&quot;* &quot;+s[0]];if(n){n===!0?n=a[r]:a[r]!==!0&amp;&amp;(i=s[0],o.splice(f--,0,i));break}}}if(n!==!0)if(n&amp;&amp;e[&quot;throws&quot;])t=n(t);else try{t=n(t)}catch(l){return{state:&quot;parsererror&quot;,error:n?l:&quot;No conversion from &quot;+u+&quot; to &quot;+i}}}u=i}return{state:&quot;success&quot;,data:t}}function Fn(){try{return new e.XMLHttpRequest}catch(t){}}function In(){try{return new e.ActiveXObject(&quot;Microsoft.XMLHTTP&quot;)}catch(t){}}function $n(){return setTimeout(function(){qn=t},0),qn=v.now()}function Jn(e,t){v.each(t,function(t,n){var r=(Vn[t]||[]).concat(Vn[&quot;*&quot;]),i=0,s=r.length;for(;i&lt;s;i++)if(r[i].call(e,t,n))return})}function Kn(e,t,n){var r,i=0,s=0,o=Xn.length,u=v.Deferred().always(function(){delete a.elem}),a=function(){var t=qn||$n(),n=Math.max(0,f.startTime+f.duration-t),r=n/f.duration||0,i=1-r,s=0,o=f.tweens.length;for(;s&lt;o;s++)f.tweens[s].run(i);return u.notifyWith(e,[f,i,n]),i&lt;1&amp;&amp;o?n:(u.resolveWith(e,[f]),!1)},f=u.promise({elem:e,props:v.extend({},t),opts:v.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:qn||$n(),duration:n.duration,tweens:[],createTween:function(t,n,r){var i=v.Tween(e,f.opts,t,n,f.opts.specialEasing[t]||f.opts.easing);return f.tweens.push(i),i},stop:function(t){var n=0,r=t?f.tweens.length:0;for(;n&lt;r;n++)f.tweens[n].run(1);return t?u.resolveWith(e,[f,t]):u.rejectWith(e,[f,t]),this}}),l=f.props;Qn(l,f.opts.specialEasing);for(;i&lt;o;i++){r=Xn[i].call(f,e,l,f.opts);if(r)return r}return Jn(f,l),v.isFunction(f.opts.start)&amp;&amp;f.opts.start.call(e,f),v.fx.timer(v.extend(a,{anim:f,queue:f.opts.queue,elem:e})),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always)}function Qn(e,t){var n,r,i,s,o;for(n in e){r=v.camelCase(n),i=t[r],s=e[n],v.isArray(s)&amp;&amp;(i=s[1],s=e[n]=s[0]),n!==r&amp;&amp;(e[r]=s,delete e[n]),o=v.cssHooks[r];if(o&amp;&amp;&quot;expand&quot;in o){s=o.expand(s),delete e[r];for(n in s)n in e||(e[n]=s[n],t[n]=i)}else t[r]=i}}function Gn(e,t,n){var r,i,s,o,u,a,f,l,c,h=this,p=e.style,d={},m=[],g=e.nodeType&amp;&amp;Gt(e);n.queue||(l=v._queueHooks(e,&quot;fx&quot;),l.unqueued==null&amp;&amp;(l.unqueued=0,c=l.empty.fire,l.empty.fire=function(){l.unqueued||c()}),l.unqueued++,h.always(function(){h.always(function(){l.unqueued--,v.queue(e,&quot;fx&quot;).length||l.empty.fire()})})),e.nodeType===1&amp;&amp;(&quot;height&quot;in t||&quot;width&quot;in t)&amp;&amp;(n.overflow=[p.overflow,p.overflowX,p.overflowY],v.css(e,&quot;display&quot;)===&quot;inline&quot;&amp;&amp;v.css(e,&quot;float&quot;)===&quot;none&quot;&amp;&amp;(!v.support.inlineBlockNeedsLayout||nn(e.nodeName)===&quot;inline&quot;?p.display=&quot;inline-block&quot;:p.zoom=1)),n.overflow&amp;&amp;(p.overflow=&quot;hidden&quot;,v.support.shrinkWrapBlocks||h.done(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t){s=t[r];if(Un.exec(s)){delete t[r],a=a||s===&quot;toggle&quot;;if(s===(g?&quot;hide&quot;:&quot;show&quot;))continue;m.push(r)}}o=m.length;if(o){u=v._data(e,&quot;fxshow&quot;)||v._data(e,&quot;fxshow&quot;,{}),&quot;hidden&quot;in u&amp;&amp;(g=u.hidden),a&amp;&amp;(u.hidden=!g),g?v(e).show():h.done(function(){v(e).hide()}),h.done(function(){var t;v.removeData(e,&quot;fxshow&quot;,!0);for(t in d)v.style(e,t,d[t])});for(r=0;r&lt;o;r++)i=m[r],f=h.createTween(i,g?u[i]:0),d[i]=u[i]||v.style(e,i),i in u||(u[i]=f.start,g&amp;&amp;(f.end=f.start,f.start=i===&quot;width&quot;||i===&quot;height&quot;?1:0))}}function Yn(e,t,n,r,i){return new Yn.prototype.init(e,t,n,r,i)}function Zn(e,t){var n,r={height:e},i=0;t=t?1:0;for(;i&lt;4;i+=2-t)n=$t[i],r[&quot;margin&quot;+n]=r[&quot;padding&quot;+n]=e;return t&amp;&amp;(r.opacity=r.width=e),r}function tr(e){return v.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:!1}var n,r,i=e.document,s=e.location,o=e.navigator,u=e.jQuery,a=e.$,f=Array.prototype.push,l=Array.prototype.slice,c=Array.prototype.indexOf,h=Object.prototype.toString,p=Object.prototype.hasOwnProperty,d=String.prototype.trim,v=function(e,t){return new v.fn.init(e,t,n)},m=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,g=/\S/,y=/\s+/,b=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,w=/^(?:[^#&lt;]*(&lt;[\w\W]+&gt;)[^&gt;]*$|#([\w\-]*)$)/,E=/^&lt;(\w+)\s*\/?&gt;(?:&lt;\/\1&gt;|)$/,S=/^[\],:{}\s]*$/,x=/(?:^|:|,)(?:\s*\[)+/g,T=/\\(?:[&quot;\\\/bfnrt]|u[\da-fA-F]{4})/g,N=/&quot;[^&quot;\\\r\n]*&quot;|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,C=/^-ms-/,k=/-([\da-z])/gi,L=function(e,t){return(t+&quot;&quot;).toUpperCase()},A=function(){i.addEventListener?(i.removeEventListener(&quot;DOMContentLoaded&quot;,A,!1),v.ready()):i.readyState===&quot;complete&quot;&amp;&amp;(i.detachEvent(&quot;onreadystatechange&quot;,A),v.ready())},O={};v.fn=v.prototype={constructor:v,init:function(e,n,r){var s,o,u,a;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if(typeof e==&quot;string&quot;){e.charAt(0)===&quot;&lt;&quot;&amp;&amp;e.charAt(e.length-1)===&quot;&gt;&quot;&amp;&amp;e.length&gt;=3?s=[null,e,null]:s=w.exec(e);if(s&amp;&amp;(s[1]||!n)){if(s[1])return n=n instanceof v?n[0]:n,a=n&amp;&amp;n.nodeType?n.ownerDocument||n:i,e=v.parseHTML(s[1],a,!0),E.test(s[1])&amp;&amp;v.isPlainObject(n)&amp;&amp;this.attr.call(e,n,!0),v.merge(this,e);o=i.getElementById(s[2]);if(o&amp;&amp;o.parentNode){if(o.id!==s[2])return r.find(e);this.length=1,this[0]=o}return this.context=i,this.selector=e,this}return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e)}return v.isFunction(e)?r.ready(e):(e.selector!==t&amp;&amp;(this.selector=e.selector,this.context=e.context),v.makeArray(e,this))},selector:&quot;&quot;,jquery:&quot;1.8.3&quot;,length:0,size:function(){return this.length},toArray:function(){return l.call(this)},get:function(e){return e==null?this.toArray():e&lt;0?this[this.length+e]:this[e]},pushStack:function(e,t,n){var r=v.merge(this.constructor(),e);return r.prevObject=this,r.context=this.context,t===&quot;find&quot;?r.selector=this.selector+(this.selector?&quot; &quot;:&quot;&quot;)+n:t&amp;&amp;(r.selector=this.selector+&quot;.&quot;+t+&quot;(&quot;+n+&quot;)&quot;),r},each:function(e,t){return v.each(this,e,t)},ready:function(e){return v.ready.promise().done(e),this},eq:function(e){return e=+e,e===-1?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(l.apply(this,arguments),&quot;slice&quot;,l.call(arguments).join(&quot;,&quot;))},map:function(e){return this.pushStack(v.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:[].sort,splice:[].splice},v.fn.init.prototype=v.fn,v.extend=v.fn.extend=function(){var e,n,r,i,s,o,u=arguments[0]||{},a=1,f=arguments.length,l=!1;typeof u==&quot;boolean&quot;&amp;&amp;(l=u,u=arguments[1]||{},a=2),typeof u!=&quot;object&quot;&amp;&amp;!v.isFunction(u)&amp;&amp;(u={}),f===a&amp;&amp;(u=this,--a);for(;a&lt;f;a++)if((e=arguments[a])!=null)for(n in e){r=u[n],i=e[n];if(u===i)continue;l&amp;&amp;i&amp;&amp;(v.isPlainObject(i)||(s=v.isArray(i)))?(s?(s=!1,o=r&amp;&amp;v.isArray(r)?r:[]):o=r&amp;&amp;v.isPlainObject(r)?r:{},u[n]=v.extend(l,o,i)):i!==t&amp;&amp;(u[n]=i)}return u},v.extend({noConflict:function(t){return e.$===v&amp;&amp;(e.$=a),t&amp;&amp;e.jQuery===v&amp;&amp;(e.jQuery=u),v},isReady:!1,readyWait:1,holdReady:function(e){e?v.readyWait++:v.ready(!0)},ready:function(e){if(e===!0?--v.readyWait:v.isReady)return;if(!i.body)return setTimeout(v.ready,1);v.isReady=!0;if(e!==!0&amp;&amp;--v.readyWait&gt;0)return;r.resolveWith(i,[v]),v.fn.trigger&amp;&amp;v(i).trigger(&quot;ready&quot;).off(&quot;ready&quot;)},isFunction:function(e){return v.type(e)===&quot;function&quot;},isArray:Array.isArray||function(e){return v.type(e)===&quot;array&quot;},isWindow:function(e){return e!=null&amp;&amp;e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&amp;&amp;isFinite(e)},type:function(e){return e==null?String(e):O[h.call(e)]||&quot;object&quot;},isPlainObject:function(e){if(!e||v.type(e)!==&quot;object&quot;||e.nodeType||v.isWindow(e))return!1;try{if(e.constructor&amp;&amp;!p.call(e,&quot;constructor&quot;)&amp;&amp;!p.call(e.constructor.prototype,&quot;isPrototypeOf&quot;))return!1}catch(n){return!1}var r;for(r in e);return r===t||p.call(e,r)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){var r;return!e||typeof e!=&quot;string&quot;?null:(typeof t==&quot;boolean&quot;&amp;&amp;(n=t,t=0),t=t||i,(r=E.exec(e))?[t.createElement(r[1])]:(r=v.buildFragment([e],t,n?null:[]),v.merge([],(r.cacheable?v.clone(r.fragment):r.fragment).childNodes)))},parseJSON:function(t){if(!t||typeof t!=&quot;string&quot;)return null;t=v.trim(t);if(e.JSON&amp;&amp;e.JSON.parse)return e.JSON.parse(t);if(S.test(t.replace(T,&quot;@&quot;).replace(N,&quot;]&quot;).replace(x,&quot;&quot;)))return(new Function(&quot;return &quot;+t))();v.error(&quot;Invalid JSON: &quot;+t)},parseXML:function(n){var r,i;if(!n||typeof n!=&quot;string&quot;)return null;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,&quot;text/xml&quot;)):(r=new ActiveXObject(&quot;Microsoft.XMLDOM&quot;),r.async=&quot;false&quot;,r.loadXML(n))}catch(s){r=t}return(!r||!r.documentElement||r.getElementsByTagName(&quot;parsererror&quot;).length)&amp;&amp;v.error(&quot;Invalid XML: &quot;+n),r},noop:function(){},globalEval:function(t){t&amp;&amp;g.test(t)&amp;&amp;(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(C,&quot;ms-&quot;).replace(k,L)},nodeName:function(e,t){return e.nodeName&amp;&amp;e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,n,r){var i,s=0,o=e.length,u=o===t||v.isFunction(e);if(r){if(u){for(i in e)if(n.apply(e[i],r)===!1)break}else for(;s&lt;o;)if(n.apply(e[s++],r)===!1)break}else if(u){for(i in e)if(n.call(e[i],i,e[i])===!1)break}else for(;s&lt;o;)if(n.call(e[s],s,e[s++])===!1)break;return e},trim:d&amp;&amp;!d.call(&quot;\ufeff\u00a0&quot;)?function(e){return e==null?&quot;&quot;:d.call(e)}:function(e){return e==null?&quot;&quot;:(e+&quot;&quot;).replace(b,&quot;&quot;)},makeArray:function(e,t){var n,r=t||[];return e!=null&amp;&amp;(n=v.type(e),e.length==null||n===&quot;string&quot;||n===&quot;function&quot;||n===&quot;regexp&quot;||v.isWindow(e)?f.call(r,e):v.merge(r,e)),r},inArray:function(e,t,n){var r;if(t){if(c)return c.call(t,e,n);r=t.length,n=n?n&lt;0?Math.max(0,r+n):n:0;for(;n&lt;r;n++)if(n in t&amp;&amp;t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,i=e.length,s=0;if(typeof r==&quot;number&quot;)for(;s&lt;r;s++)e[i++]=n[s];else while(n[s]!==t)e[i++]=n[s++];return e.length=i,e},grep:function(e,t,n){var r,i=[],s=0,o=e.length;n=!!n;for(;s&lt;o;s++)r=!!t(e[s],s),n!==r&amp;&amp;i.push(e[s]);return i},map:function(e,n,r){var i,s,o=[],u=0,a=e.length,f=e instanceof v||a!==t&amp;&amp;typeof a==&quot;number&quot;&amp;&amp;(a&gt;0&amp;&amp;e[0]&amp;&amp;e[a-1]||a===0||v.isArray(e));if(f)for(;u&lt;a;u++)i=n(e[u],u,r),i!=null&amp;&amp;(o[o.length]=i);else for(s in e)i=n(e[s],s,r),i!=null&amp;&amp;(o[o.length]=i);return o.concat.apply([],o)},guid:1,proxy:function(e,n){var r,i,s;return typeof n==&quot;string&quot;&amp;&amp;(r=e[n],n=e,e=r),v.isFunction(e)?(i=l.call(arguments,2),s=function(){return e.apply(n,i.concat(l.call(arguments)))},s.guid=e.guid=e.guid||v.guid++,s):t},access:function(e,n,r,i,s,o,u){var a,f=r==null,l=0,c=e.length;if(r&amp;&amp;typeof r==&quot;object&quot;){for(l in r)v.access(e,n,l,r[l],1,o,i);s=1}else if(i!==t){a=u===t&amp;&amp;v.isFunction(i),f&amp;&amp;(a?(a=n,n=function(e,t,n){return a.call(v(e),n)}):(n.call(e,i),n=null));if(n)for(;l&lt;c;l++)n(e[l],r,a?i.call(e[l],l,n(e[l],r)):i,u);s=1}return s?e:f?n.call(e):c?n(e[0],r):o},now:function(){return(new Date).getTime()}}),v.ready.promise=function(t){if(!r){r=v.Deferred();if(i.readyState===&quot;complete&quot;)setTimeout(v.ready,1);else if(i.addEventListener)i.addEventListener(&quot;DOMContentLoaded&quot;,A,!1),e.addEventListener(&quot;load&quot;,v.ready,!1);else{i.attachEvent(&quot;onreadystatechange&quot;,A),e.attachEvent(&quot;onload&quot;,v.ready);var n=!1;try{n=e.frameElement==null&amp;&amp;i.documentElement}catch(s){}n&amp;&amp;n.doScroll&amp;&amp;function o(){if(!v.isReady){try{n.doScroll(&quot;left&quot;)}catch(e){return setTimeout(o,50)}v.ready()}}()}}return r.promise(t)},v.each(&quot;Boolean Number String Function Array Date RegExp Object&quot;.split(&quot; &quot;),function(e,t){O[&quot;[object &quot;+t+&quot;]&quot;]=t.toLowerCase()}),n=v(i);var M={};v.Callbacks=function(e){e=typeof e==&quot;string&quot;?M[e]||_(e):v.extend({},e);var n,r,i,s,o,u,a=[],f=!e.once&amp;&amp;[],l=function(t){n=e.memory&amp;&amp;t,r=!0,u=s||0,s=0,o=a.length,i=!0;for(;a&amp;&amp;u&lt;o;u++)if(a[u].apply(t[0],t[1])===!1&amp;&amp;e.stopOnFalse){n=!1;break}i=!1,a&amp;&amp;(f?f.length&amp;&amp;l(f.shift()):n?a=[]:c.disable())},c={add:function(){if(a){var t=a.length;(function r(t){v.each(t,function(t,n){var i=v.type(n);i===&quot;function&quot;?(!e.unique||!c.has(n))&amp;&amp;a.push(n):n&amp;&amp;n.length&amp;&amp;i!==&quot;string&quot;&amp;&amp;r(n)})})(arguments),i?o=a.length:n&amp;&amp;(s=t,l(n))}return this},remove:function(){return a&amp;&amp;v.each(arguments,function(e,t){var n;while((n=v.inArray(t,a,n))&gt;-1)a.splice(n,1),i&amp;&amp;(n&lt;=o&amp;&amp;o--,n&lt;=u&amp;&amp;u--)}),this},has:function(e){return v.inArray(e,a)&gt;-1},empty:function(){return a=[],this},disable:function(){return a=f=n=t,this},disabled:function(){return!a},lock:function(){return f=t,n||c.disable(),this},locked:function(){return!f},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],a&amp;&amp;(!r||f)&amp;&amp;(i?f.push(t):l(t)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},v.extend({Deferred:function(e){var t=[[&quot;resolve&quot;,&quot;done&quot;,v.Callbacks(&quot;once memory&quot;),&quot;resolved&quot;],[&quot;reject&quot;,&quot;fail&quot;,v.Callbacks(&quot;once memory&quot;),&quot;rejected&quot;],[&quot;notify&quot;,&quot;progress&quot;,v.Callbacks(&quot;memory&quot;)]],n=&quot;pending&quot;,r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return v.Deferred(function(n){v.each(t,function(t,r){var s=r[0],o=e[t];i[r[1]](v.isFunction(o)?function(){var e=o.apply(this,arguments);e&amp;&amp;v.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s+&quot;With&quot;](this===i?n:this,[e])}:n[s])}),e=null}).promise()},promise:function(e){return e!=null?v.extend(e,r):r}},i={};return r.pipe=r.then,v.each(t,function(e,s){var o=s[2],u=s[3];r[s[1]]=o.add,u&amp;&amp;o.add(function(){n=u},t[e^1][2].disable,t[2][2].lock),i[s[0]]=o.fire,i[s[0]+&quot;With&quot;]=o.fireWith}),r.promise(i),e&amp;&amp;e.call(i,i),i},when:function(e){var t=0,n=l.call(arguments),r=n.length,i=r!==1||e&amp;&amp;v.isFunction(e.promise)?r:0,s=i===1?e:v.Deferred(),o=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length&gt;1?l.call(arguments):r,n===u?s.notifyWith(t,n):--i||s.resolveWith(t,n)}},u,a,f;if(r&gt;1){u=new Array(r),a=new Array(r),f=new Array(r);for(;t&lt;r;t++)n[t]&amp;&amp;v.isFunction(n[t].promise)?n[t].promise().done(o(t,f,n)).fail(s.reject).progress(o(t,a,u)):--i}return i||s.resolveWith(f,n),s.promise()}}),v.support=function(){var t,n,r,s,o,u,a,f,l,c,h,p=i.createElement(&quot;div&quot;);p.setAttribute(&quot;className&quot;,&quot;t&quot;),p.innerHTML=&quot;  &lt;link/&gt;&lt;table&gt;&lt;/table&gt;&lt;a href='/a'&gt;a&lt;/a&gt;&lt;input type='checkbox'/&gt;&quot;,n=p.getElementsByTagName(&quot;*&quot;),r=p.getElementsByTagName(&quot;a&quot;)[0];if(!n||!r||!n.length)return{};s=i.createElement(&quot;select&quot;),o=s.appendChild(i.createElement(&quot;option&quot;)),u=p.getElementsByTagName(&quot;input&quot;)[0],r.style.cssText=&quot;top:1px;float:left;opacity:.5&quot;,t={leadingWhitespace:p.firstChild.nodeType===3,tbody:!p.getElementsByTagName(&quot;tbody&quot;).length,htmlSerialize:!!p.getElementsByTagName(&quot;link&quot;).length,style:/top/.test(r.getAttribute(&quot;style&quot;)),hrefNormalized:r.getAttribute(&quot;href&quot;)===&quot;/a&quot;,opacity:/^0.5/.test(r.style.opacity),cssFloat:!!r.style.cssFloat,checkOn:u.value===&quot;on&quot;,optSelected:o.selected,getSetAttribute:p.className!==&quot;t&quot;,enctype:!!i.createElement(&quot;form&quot;).enctype,html5Clone:i.createElement(&quot;nav&quot;).cloneNode(!0).outerHTML!==&quot;&lt;:nav&gt;&lt;/:nav&gt;&quot;,boxModel:i.compatMode===&quot;CSS1Compat&quot;,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},u.checked=!0,t.noCloneChecked=u.cloneNode(!0).checked,s.disabled=!0,t.optDisabled=!o.disabled;try{delete p.test}catch(d){t.deleteExpando=!1}!p.addEventListener&amp;&amp;p.attachEvent&amp;&amp;p.fireEvent&amp;&amp;(p.attachEvent(&quot;onclick&quot;,h=function(){t.noCloneEvent=!1}),p.cloneNode(!0).fireEvent(&quot;onclick&quot;),p.detachEvent(&quot;onclick&quot;,h)),u=i.createElement(&quot;input&quot;),u.value=&quot;t&quot;,u.setAttribute(&quot;type&quot;,&quot;radio&quot;),t.radioValue=u.value===&quot;t&quot;,u.setAttribute(&quot;checked&quot;,&quot;checked&quot;),u.setAttribute(&quot;name&quot;,&quot;t&quot;),p.appendChild(u),a=i.createDocumentFragment(),a.appendChild(p.lastChild),t.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,t.appendChecked=u.checked,a.removeChild(u),a.appendChild(p);if(p.attachEvent)for(l in{submit:!0,change:!0,focusin:!0})f=&quot;on&quot;+l,c=f in p,c||(p.setAttribute(f,&quot;return;&quot;),c=typeof p[f]==&quot;function&quot;),t[l+&quot;Bubbles&quot;]=c;return v(function(){var n,r,s,o,u=&quot;padding:0;margin:0;border:0;display:block;overflow:hidden;&quot;,a=i.getElementsByTagName(&quot;body&quot;)[0];if(!a)return;n=i.createElement(&quot;div&quot;),n.style.cssText=&quot;visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px&quot;,a.insertBefore(n,a.firstChild),r=i.createElement(&quot;div&quot;),n.appendChild(r),r.innerHTML=&quot;&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;t&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&quot;,s=r.getElementsByTagName(&quot;td&quot;),s[0].style.cssText=&quot;padding:0;margin:0;border:0;display:none&quot;,c=s[0].offsetHeight===0,s[0].style.display=&quot;&quot;,s[1].style.display=&quot;none&quot;,t.reliableHiddenOffsets=c&amp;&amp;s[0].offsetHeight===0,r.innerHTML=&quot;&quot;,r.style.cssText=&quot;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;&quot;,t.boxSizing=r.offsetWidth===4,t.doesNotIncludeMarginInBodyOffset=a.offsetTop!==1,e.getComputedStyle&amp;&amp;(t.pixelPosition=(e.getComputedStyle(r,null)||{}).top!==&quot;1%&quot;,t.boxSizingReliable=(e.getComputedStyle(r,null)||{width:&quot;4px&quot;}).width===&quot;4px&quot;,o=i.createElement(&quot;div&quot;),o.style.cssText=r.style.cssText=u,o.style.marginRight=o.style.width=&quot;0&quot;,r.style.width=&quot;1px&quot;,r.appendChild(o),t.reliableMarginRight=!parseFloat((e.getComputedStyle(o,null)||{}).marginRight)),typeof r.style.zoom!=&quot;undefined&quot;&amp;&amp;(r.innerHTML=&quot;&quot;,r.style.cssText=u+&quot;width:1px;padding:1px;display:inline;zoom:1&quot;,t.inlineBlockNeedsLayout=r.offsetWidth===3,r.style.display=&quot;block&quot;,r.style.overflow=&quot;visible&quot;,r.innerHTML=&quot;&lt;div&gt;&lt;/div&gt;&quot;,r.firstChild.style.width=&quot;5px&quot;,t.shrinkWrapBlocks=r.offsetWidth!==3,n.style.zoom=1),a.removeChild(n),n=r=s=o=null}),a.removeChild(p),n=r=s=o=u=a=p=null,t}();var D=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,P=/([A-Z])/g;v.extend({cache:{},deletedIds:[],uuid:0,expando:&quot;jQuery&quot;+(v.fn.jquery+Math.random()).replace(/\D/g,&quot;&quot;),noData:{embed:!0,object:&quot;clsid:D27CDB6E-AE6D-11cf-96B8-444553540000&quot;,applet:!0},hasData:function(e){return e=e.nodeType?v.cache[e[v.expando]]:e[v.expando],!!e&amp;&amp;!B(e)},data:function(e,n,r,i){if(!v.acceptData(e))return;var s,o,u=v.expando,a=typeof n==&quot;string&quot;,f=e.nodeType,l=f?v.cache:e,c=f?e[u]:e[u]&amp;&amp;u;if((!c||!l[c]||!i&amp;&amp;!l[c].data)&amp;&amp;a&amp;&amp;r===t)return;c||(f?e[u]=c=v.deletedIds.pop()||v.guid++:c=u),l[c]||(l[c]={},f||(l[c].toJSON=v.noop));if(typeof n==&quot;object&quot;||typeof n==&quot;function&quot;)i?l[c]=v.extend(l[c],n):l[c].data=v.extend(l[c].data,n);return s=l[c],i||(s.data||(s.data={}),s=s.data),r!==t&amp;&amp;(s[v.camelCase(n)]=r),a?(o=s[n],o==null&amp;&amp;(o=s[v.camelCase(n)])):o=s,o},removeData:function(e,t,n){if(!v.acceptData(e))return;var r,i,s,o=e.nodeType,u=o?v.cache:e,a=o?e[v.expando]:v.expando;if(!u[a])return;if(t){r=n?u[a]:u[a].data;if(r){v.isArray(t)||(t in r?t=[t]:(t=v.camelCase(t),t in r?t=[t]:t=t.split(&quot; &quot;)));for(i=0,s=t.length;i&lt;s;i++)delete r[t[i]];if(!(n?B:v.isEmptyObject)(r))return}}if(!n){delete u[a].data;if(!B(u[a]))return}o?v.cleanData([e],!0):v.support.deleteExpando||u!=u.window?delete u[a]:u[a]=null},_data:function(e,t,n){return v.data(e,t,n,!0)},acceptData:function(e){var t=e.nodeName&amp;&amp;v.noData[e.nodeName.toLowerCase()];return!t||t!==!0&amp;&amp;e.getAttribute(&quot;classid&quot;)===t}}),v.fn.extend({data:function(e,n){var r,i,s,o,u,a=this[0],f=0,l=null;if(e===t){if(this.length){l=v.data(a);if(a.nodeType===1&amp;&amp;!v._data(a,&quot;parsedAttrs&quot;)){s=a.attributes;for(u=s.length;f&lt;u;f++)o=s[f].name,o.indexOf(&quot;data-&quot;)||(o=v.camelCase(o.substring(5)),H(a,o,l[o]));v._data(a,&quot;parsedAttrs&quot;,!0)}}return l}return typeof e==&quot;object&quot;?this.each(function(){v.data(this,e)}):(r=e.split(&quot;.&quot;,2),r[1]=r[1]?&quot;.&quot;+r[1]:&quot;&quot;,i=r[1]+&quot;!&quot;,v.access(this,function(n){if(n===t)return l=this.triggerHandler(&quot;getData&quot;+i,[r[0]]),l===t&amp;&amp;a&amp;&amp;(l=v.data(a,e),l=H(a,e,l)),l===t&amp;&amp;r[1]?this.data(r[0]):l;r[1]=n,this.each(function(){var t=v(this);t.triggerHandler(&quot;setData&quot;+i,r),v.data(this,e,n),t.triggerHandler(&quot;changeData&quot;+i,r)})},null,n,arguments.length&gt;1,null,!1))},removeData:function(e){return this.each(function(){v.removeData(this,e)})}}),v.extend({queue:function(e,t,n){var r;if(e)return t=(t||&quot;fx&quot;)+&quot;queue&quot;,r=v._data(e,t),n&amp;&amp;(!r||v.isArray(n)?r=v._data(e,t,v.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||&quot;fx&quot;;var n=v.queue(e,t),r=n.length,i=n.shift(),s=v._queueHooks(e,t),o=function(){v.dequeue(e,t)};i===&quot;inprogress&quot;&amp;&amp;(i=n.shift(),r--),i&amp;&amp;(t===&quot;fx&quot;&amp;&amp;n.unshift(&quot;inprogress&quot;),delete s.stop,i.call(e,o,s)),!r&amp;&amp;s&amp;&amp;s.empty.fire()},_queueHooks:function(e,t){var n=t+&quot;queueHooks&quot;;return v._data(e,n)||v._data(e,n,{empty:v.Callbacks(&quot;once memory&quot;).add(function(){v.removeData(e,t+&quot;queue&quot;,!0),v.removeData(e,n,!0)})})}}),v.fn.extend({queue:function(e,n){var r=2;return typeof e!=&quot;string&quot;&amp;&amp;(n=e,e=&quot;fx&quot;,r--),arguments.length&lt;r?v.queue(this[0],e):n===t?this:this.each(function(){var t=v.queue(this,e,n);v._queueHooks(this,e),e===&quot;fx&quot;&amp;&amp;t[0]!==&quot;inprogress&quot;&amp;&amp;v.dequeue(this,e)})},dequeue:function(e){return this.each(function(){v.dequeue(this,e)})},delay:function(e,t){return e=v.fx?v.fx.speeds[e]||e:e,t=t||&quot;fx&quot;,this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||&quot;fx&quot;,[])},promise:function(e,n){var r,i=1,s=v.Deferred(),o=this,u=this.length,a=function(){--i||s.resolveWith(o,[o])};typeof e!=&quot;string&quot;&amp;&amp;(n=e,e=t),e=e||&quot;fx&quot;;while(u--)r=v._data(o[u],e+&quot;queueHooks&quot;),r&amp;&amp;r.empty&amp;&amp;(i++,r.empty.add(a));return a(),s.promise(n)}});var j,F,I,q=/[\t\r\n]/g,R=/\r/g,U=/^(?:button|input)$/i,z=/^(?:button|input|object|select|textarea)$/i,W=/^a(?:rea|)$/i,X=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,V=v.support.getSetAttribute;v.fn.extend({attr:function(e,t){return v.access(this,v.attr,e,t,arguments.length&gt;1)},removeAttr:function(e){return this.each(function(){v.removeAttr(this,e)})},prop:function(e,t){return v.access(this,v.prop,e,t,arguments.length&gt;1)},removeProp:function(e){return e=v.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,s,o,u;if(v.isFunction(e))return this.each(function(t){v(this).addClass(e.call(this,t,this.className))});if(e&amp;&amp;typeof e==&quot;string&quot;){t=e.split(y);for(n=0,r=this.length;n&lt;r;n++){i=this[n];if(i.nodeType===1)if(!i.className&amp;&amp;t.length===1)i.className=e;else{s=&quot; &quot;+i.className+&quot; &quot;;for(o=0,u=t.length;o&lt;u;o++)s.indexOf(&quot; &quot;+t[o]+&quot; &quot;)&lt;0&amp;&amp;(s+=t[o]+&quot; &quot;);i.className=v.trim(s)}}}return this},removeClass:function(e){var n,r,i,s,o,u,a;if(v.isFunction(e))return this.each(function(t){v(this).removeClass(e.call(this,t,this.className))});if(e&amp;&amp;typeof e==&quot;string&quot;||e===t){n=(e||&quot;&quot;).split(y);for(u=0,a=this.length;u&lt;a;u++){i=this[u];if(i.nodeType===1&amp;&amp;i.className){r=(&quot; &quot;+i.className+&quot; &quot;).replace(q,&quot; &quot;);for(s=0,o=n.length;s&lt;o;s++)while(r.indexOf(&quot; &quot;+n[s]+&quot; &quot;)&gt;=0)r=r.replace(&quot; &quot;+n[s]+&quot; &quot;,&quot; &quot;);i.className=e?v.trim(r):&quot;&quot;}}}return this},toggleClass:function(e,t){var n=typeof e,r=typeof t==&quot;boolean&quot;;return v.isFunction(e)?this.each(function(n){v(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if(n===&quot;string&quot;){var i,s=0,o=v(this),u=t,a=e.split(y);while(i=a[s++])u=r?u:!o.hasClass(i),o[u?&quot;addClass&quot;:&quot;removeClass&quot;](i)}else if(n===&quot;undefined&quot;||n===&quot;boolean&quot;)this.className&amp;&amp;v._data(this,&quot;__className__&quot;,this.className),this.className=this.className||e===!1?&quot;&quot;:v._data(this,&quot;__className__&quot;)||&quot;&quot;})},hasClass:function(e){var t=&quot; &quot;+e+&quot; &quot;,n=0,r=this.length;for(;n&lt;r;n++)if(this[n].nodeType===1&amp;&amp;(&quot; &quot;+this[n].className+&quot; &quot;).replace(q,&quot; &quot;).indexOf(t)&gt;=0)return!0;return!1},val:function(e){var n,r,i,s=this[0];if(!arguments.length){if(s)return n=v.valHooks[s.type]||v.valHooks[s.nodeName.toLowerCase()],n&amp;&amp;&quot;get&quot;in n&amp;&amp;(r=n.get(s,&quot;value&quot;))!==t?r:(r=s.value,typeof r==&quot;string&quot;?r.replace(R,&quot;&quot;):r==null?&quot;&quot;:r);return}return i=v.isFunction(e),this.each(function(r){var s,o=v(this);if(this.nodeType!==1)return;i?s=e.call(this,r,o.val()):s=e,s==null?s=&quot;&quot;:typeof s==&quot;number&quot;?s+=&quot;&quot;:v.isArray(s)&amp;&amp;(s=v.map(s,function(e){return e==null?&quot;&quot;:e+&quot;&quot;})),n=v.valHooks[this.type]||v.valHooks[this.nodeName.toLowerCase()];if(!n||!(&quot;set&quot;in n)||n.set(this,s,&quot;value&quot;)===t)this.value=s})}}),v.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,s=e.type===&quot;select-one&quot;||i&lt;0,o=s?null:[],u=s?i+1:r.length,a=i&lt;0?u:s?i:0;for(;a&lt;u;a++){n=r[a];if((n.selected||a===i)&amp;&amp;(v.support.optDisabled?!n.disabled:n.getAttribute(&quot;disabled&quot;)===null)&amp;&amp;(!n.parentNode.disabled||!v.nodeName(n.parentNode,&quot;optgroup&quot;))){t=v(n).val();if(s)return t;o.push(t)}}return o},set:function(e,t){var n=v.makeArray(t);return v(e).find(&quot;option&quot;).each(function(){this.selected=v.inArray(v(this).val(),n)&gt;=0}),n.length||(e.selectedIndex=-1),n}}},attrFn:{},attr:function(e,n,r,i){var s,o,u,a=e.nodeType;if(!e||a===3||a===8||a===2)return;if(i&amp;&amp;v.isFunction(v.fn[n]))return v(e)[n](r);if(typeof e.getAttribute==&quot;undefined&quot;)return v.prop(e,n,r);u=a!==1||!v.isXMLDoc(e),u&amp;&amp;(n=n.toLowerCase(),o=v.attrHooks[n]||(X.test(n)?F:j));if(r!==t){if(r===null){v.removeAttr(e,n);return}return o&amp;&amp;&quot;set&quot;in o&amp;&amp;u&amp;&amp;(s=o.set(e,r,n))!==t?s:(e.setAttribute(n,r+&quot;&quot;),r)}return o&amp;&amp;&quot;get&quot;in o&amp;&amp;u&amp;&amp;(s=o.get(e,n))!==null?s:(s=e.getAttribute(n),s===null?t:s)},removeAttr:function(e,t){var n,r,i,s,o=0;if(t&amp;&amp;e.nodeType===1){r=t.split(y);for(;o&lt;r.length;o++)i=r[o],i&amp;&amp;(n=v.propFix[i]||i,s=X.test(i),s||v.attr(e,i,&quot;&quot;),e.removeAttribute(V?i:n),s&amp;&amp;n in e&amp;&amp;(e[n]=!1))}},attrHooks:{type:{set:function(e,t){if(U.test(e.nodeName)&amp;&amp;e.parentNode)v.error(&quot;type property can't be changed&quot;);else if(!v.support.radioValue&amp;&amp;t===&quot;radio&quot;&amp;&amp;v.nodeName(e,&quot;input&quot;)){var n=e.value;return e.setAttribute(&quot;type&quot;,t),n&amp;&amp;(e.value=n),t}}},value:{get:function(e,t){return j&amp;&amp;v.nodeName(e,&quot;button&quot;)?j.get(e,t):t in e?e.value:null},set:function(e,t,n){if(j&amp;&amp;v.nodeName(e,&quot;button&quot;))return j.set(e,t,n);e.value=t}}},propFix:{tabindex:&quot;tabIndex&quot;,readonly:&quot;readOnly&quot;,&quot;for&quot;:&quot;htmlFor&quot;,&quot;class&quot;:&quot;className&quot;,maxlength:&quot;maxLength&quot;,cellspacing:&quot;cellSpacing&quot;,cellpadding:&quot;cellPadding&quot;,rowspan:&quot;rowSpan&quot;,colspan:&quot;colSpan&quot;,usemap:&quot;useMap&quot;,frameborder:&quot;frameBorder&quot;,contenteditable:&quot;contentEditable&quot;},prop:function(e,n,r){var i,s,o,u=e.nodeType;if(!e||u===3||u===8||u===2)return;return o=u!==1||!v.isXMLDoc(e),o&amp;&amp;(n=v.propFix[n]||n,s=v.propHooks[n]),r!==t?s&amp;&amp;&quot;set&quot;in s&amp;&amp;(i=s.set(e,r,n))!==t?i:e[n]=r:s&amp;&amp;&quot;get&quot;in s&amp;&amp;(i=s.get(e,n))!==null?i:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode(&quot;tabindex&quot;);return n&amp;&amp;n.specified?parseInt(n.value,10):z.test(e.nodeName)||W.test(e.nodeName)&amp;&amp;e.href?0:t}}}}),F={get:function(e,n){var r,i=v.prop(e,n);return i===!0||typeof i!=&quot;boolean&quot;&amp;&amp;(r=e.getAttributeNode(n))&amp;&amp;r.nodeValue!==!1?n.toLowerCase():t},set:function(e,t,n){var r;return t===!1?v.removeAttr(e,n):(r=v.propFix[n]||n,r in e&amp;&amp;(e[r]=!0),e.setAttribute(n,n.toLowerCase())),n}},V||(I={name:!0,id:!0,coords:!0},j=v.valHooks.button={get:function(e,n){var r;return r=e.getAttributeNode(n),r&amp;&amp;(I[n]?r.value!==&quot;&quot;:r.specified)?r.value:t},set:function(e,t,n){var r=e.getAttributeNode(n);return r||(r=i.createAttribute(n),e.setAttributeNode(r)),r.value=t+&quot;&quot;}},v.each([&quot;width&quot;,&quot;height&quot;],function(e,t){v.attrHooks[t]=v.extend(v.attrHooks[t],{set:function(e,n){if(n===&quot;&quot;)return e.setAttribute(t,&quot;auto&quot;),n}})}),v.attrHooks.contenteditable={get:j.get,set:function(e,t,n){t===&quot;&quot;&amp;&amp;(t=&quot;false&quot;),j.set(e,t,n)}}),v.support.hrefNormalized||v.each([&quot;href&quot;,&quot;src&quot;,&quot;width&quot;,&quot;height&quot;],function(e,n){v.attrHooks[n]=v.extend(v.attrHooks[n],{get:function(e){var r=e.getAttribute(n,2);return r===null?t:r}})}),v.support.style||(v.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||t},set:function(e,t){return e.style.cssText=t+&quot;&quot;}}),v.support.optSelected||(v.propHooks.selected=v.extend(v.propHooks.selected,{get:function(e){var t=e.parentNode;return t&amp;&amp;(t.selectedIndex,t.parentNode&amp;&amp;t.parentNode.selectedIndex),null}})),v.support.enctype||(v.propFix.enctype=&quot;encoding&quot;),v.support.checkOn||v.each([&quot;radio&quot;,&quot;checkbox&quot;],function(){v.valHooks[this]={get:function(e){return e.getAttribute(&quot;value&quot;)===null?&quot;on&quot;:e.value}}}),v.each([&quot;radio&quot;,&quot;checkbox&quot;],function(){v.valHooks[this]=v.extend(v.valHooks[this],{set:function(e,t){if(v.isArray(t))return e.checked=v.inArray(v(e).val(),t)&gt;=0}})});var $=/^(?:textarea|input|select)$/i,J=/^([^\.]*|)(?:\.(.+)|)$/,K=/(?:^|\s)hover(\.\S+|)\b/,Q=/^key/,G=/^(?:mouse|contextmenu)|click/,Y=/^(?:focusinfocus|focusoutblur)$/,Z=function(e){return v.event.special.hover?e:e.replace(K,&quot;mouseenter$1 mouseleave$1&quot;)};v.event={add:function(e,n,r,i,s){var o,u,a,f,l,c,h,p,d,m,g;if(e.nodeType===3||e.nodeType===8||!n||!r||!(o=v._data(e)))return;r.handler&amp;&amp;(d=r,r=d.handler,s=d.selector),r.guid||(r.guid=v.guid++),a=o.events,a||(o.events=a={}),u=o.handle,u||(o.handle=u=function(e){return typeof v==&quot;undefined&quot;||!!e&amp;&amp;v.event.triggered===e.type?t:v.event.dispatch.apply(u.elem,arguments)},u.elem=e),n=v.trim(Z(n)).split(&quot; &quot;);for(f=0;f&lt;n.length;f++){l=J.exec(n[f])||[],c=l[1],h=(l[2]||&quot;&quot;).split(&quot;.&quot;).sort(),g=v.event.special[c]||{},c=(s?g.delegateType:g.bindType)||c,g=v.event.special[c]||{},p=v.extend({type:c,origType:l[1],data:i,handler:r,guid:r.guid,selector:s,needsContext:s&amp;&amp;v.expr.match.needsContext.test(s),namespace:h.join(&quot;.&quot;)},d),m=a[c];if(!m){m=a[c]=[],m.delegateCount=0;if(!g.setup||g.setup.call(e,i,h,u)===!1)e.addEventListener?e.addEventListener(c,u,!1):e.attachEvent&amp;&amp;e.attachEvent(&quot;on&quot;+c,u)}g.add&amp;&amp;(g.add.call(e,p),p.handler.guid||(p.handler.guid=r.guid)),s?m.splice(m.delegateCount++,0,p):m.push(p),v.event.global[c]=!0}e=null},global:{},remove:function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,m,g=v.hasData(e)&amp;&amp;v._data(e);if(!g||!(h=g.events))return;t=v.trim(Z(t||&quot;&quot;)).split(&quot; &quot;);for(s=0;s&lt;t.length;s++){o=J.exec(t[s])||[],u=a=o[1],f=o[2];if(!u){for(u in h)v.event.remove(e,u+t[s],n,r,!0);continue}p=v.event.special[u]||{},u=(r?p.delegateType:p.bindType)||u,d=h[u]||[],l=d.length,f=f?new RegExp(&quot;(^|\\.)&quot;+f.split(&quot;.&quot;).sort().join(&quot;\\.(?:.*\\.|)&quot;)+&quot;(\\.|$)&quot;):null;for(c=0;c&lt;d.length;c++)m=d[c],(i||a===m.origType)&amp;&amp;(!n||n.guid===m.guid)&amp;&amp;(!f||f.test(m.namespace))&amp;&amp;(!r||r===m.selector||r===&quot;**&quot;&amp;&amp;m.selector)&amp;&amp;(d.splice(c--,1),m.selector&amp;&amp;d.delegateCount--,p.remove&amp;&amp;p.remove.call(e,m));d.length===0&amp;&amp;l!==d.length&amp;&amp;((!p.teardown||p.teardown.call(e,f,g.handle)===!1)&amp;&amp;v.removeEvent(e,u,g.handle),delete h[u])}v.isEmptyObject(h)&amp;&amp;(delete g.handle,v.removeData(e,&quot;events&quot;,!0))},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(n,r,s,o){if(!s||s.nodeType!==3&amp;&amp;s.nodeType!==8){var u,a,f,l,c,h,p,d,m,g,y=n.type||n,b=[];if(Y.test(y+v.event.triggered))return;y.indexOf(&quot;!&quot;)&gt;=0&amp;&amp;(y=y.slice(0,-1),a=!0),y.indexOf(&quot;.&quot;)&gt;=0&amp;&amp;(b=y.split(&quot;.&quot;),y=b.shift(),b.sort());if((!s||v.event.customEvent[y])&amp;&amp;!v.event.global[y])return;n=typeof n==&quot;object&quot;?n[v.expando]?n:new v.Event(y,n):new v.Event(y),n.type=y,n.isTrigger=!0,n.exclusive=a,n.namespace=b.join(&quot;.&quot;),n.namespace_re=n.namespace?new RegExp(&quot;(^|\\.)&quot;+b.join(&quot;\\.(?:.*\\.|)&quot;)+&quot;(\\.|$)&quot;):null,h=y.indexOf(&quot;:&quot;)&lt;0?&quot;on&quot;+y:&quot;&quot;;if(!s){u=v.cache;for(f in u)u[f].events&amp;&amp;u[f].events[y]&amp;&amp;v.event.trigger(n,r,u[f].handle.elem,!0);return}n.result=t,n.target||(n.target=s),r=r!=null?v.makeArray(r):[],r.unshift(n),p=v.event.special[y]||{};if(p.trigger&amp;&amp;p.trigger.apply(s,r)===!1)return;m=[[s,p.bindType||y]];if(!o&amp;&amp;!p.noBubble&amp;&amp;!v.isWindow(s)){g=p.delegateType||y,l=Y.test(g+y)?s:s.parentNode;for(c=s;l;l=l.parentNode)m.push([l,g]),c=l;c===(s.ownerDocument||i)&amp;&amp;m.push([c.defaultView||c.parentWindow||e,g])}for(f=0;f&lt;m.length&amp;&amp;!n.isPropagationStopped();f++)l=m[f][0],n.type=m[f][1],d=(v._data(l,&quot;events&quot;)||{})[n.type]&amp;&amp;v._data(l,&quot;handle&quot;),d&amp;&amp;d.apply(l,r),d=h&amp;&amp;l[h],d&amp;&amp;v.acceptData(l)&amp;&amp;d.apply&amp;&amp;d.apply(l,r)===!1&amp;&amp;n.preventDefault();return n.type=y,!o&amp;&amp;!n.isDefaultPrevented()&amp;&amp;(!p._default||p._default.apply(s.ownerDocument,r)===!1)&amp;&amp;(y!==&quot;click&quot;||!v.nodeName(s,&quot;a&quot;))&amp;&amp;v.acceptData(s)&amp;&amp;h&amp;&amp;s[y]&amp;&amp;(y!==&quot;focus&quot;&amp;&amp;y!==&quot;blur&quot;||n.target.offsetWidth!==0)&amp;&amp;!v.isWindow(s)&amp;&amp;(c=s[h],c&amp;&amp;(s[h]=null),v.event.triggered=y,s[y](),v.event.triggered=t,c&amp;&amp;(s[h]=c)),n.result}return},dispatch:function(n){n=v.event.fix(n||e.event);var r,i,s,o,u,a,f,c,h,p,d=(v._data(this,&quot;events&quot;)||{})[n.type]||[],m=d.delegateCount,g=l.call(arguments),y=!n.exclusive&amp;&amp;!n.namespace,b=v.event.special[n.type]||{},w=[];g[0]=n,n.delegateTarget=this;if(b.preDispatch&amp;&amp;b.preDispatch.call(this,n)===!1)return;if(m&amp;&amp;(!n.button||n.type!==&quot;click&quot;))for(s=n.target;s!=this;s=s.parentNode||this)if(s.disabled!==!0||n.type!==&quot;click&quot;){u={},f=[];for(r=0;r&lt;m;r++)c=d[r],h=c.selector,u[h]===t&amp;&amp;(u[h]=c.needsContext?v(h,this).index(s)&gt;=0:v.find(h,this,null,[s]).length),u[h]&amp;&amp;f.push(c);f.length&amp;&amp;w.push({elem:s,matches:f})}d.length&gt;m&amp;&amp;w.push({elem:this,matches:d.slice(m)});for(r=0;r&lt;w.length&amp;&amp;!n.isPropagationStopped();r++){a=w[r],n.currentTarget=a.elem;for(i=0;i&lt;a.matches.length&amp;&amp;!n.isImmediatePropagationStopped();i++){c=a.matches[i];if(y||!n.namespace&amp;&amp;!c.namespace||n.namespace_re&amp;&amp;n.namespace_re.test(c.namespace))n.data=c.data,n.handleObj=c,o=((v.event.special[c.origType]||{}).handle||c.handler).apply(a.elem,g),o!==t&amp;&amp;(n.result=o,o===!1&amp;&amp;(n.preventDefault(),n.stopPropagation()))}}return b.postDispatch&amp;&amp;b.postDispatch.call(this,n),n.result},props:&quot;attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which&quot;.split(&quot; &quot;),fixHooks:{},keyHooks:{props:&quot;char charCode key keyCode&quot;.split(&quot; &quot;),filter:function(e,t){return e.which==null&amp;&amp;(e.which=t.charCode!=null?t.charCode:t.keyCode),e}},mouseHooks:{props:&quot;button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement&quot;.split(&quot; &quot;),filter:function(e,n){var r,s,o,u=n.button,a=n.fromElement;return e.pageX==null&amp;&amp;n.clientX!=null&amp;&amp;(r=e.target.ownerDocument||i,s=r.documentElement,o=r.body,e.pageX=n.clientX+(s&amp;&amp;s.scrollLeft||o&amp;&amp;o.scrollLeft||0)-(s&amp;&amp;s.clientLeft||o&amp;&amp;o.clientLeft||0),e.pageY=n.clientY+(s&amp;&amp;s.scrollTop||o&amp;&amp;o.scrollTop||0)-(s&amp;&amp;s.clientTop||o&amp;&amp;o.clientTop||0)),!e.relatedTarget&amp;&amp;a&amp;&amp;(e.relatedTarget=a===e.target?n.toElement:a),!e.which&amp;&amp;u!==t&amp;&amp;(e.which=u&amp;1?1:u&amp;2?3:u&amp;4?2:0),e}},fix:function(e){if(e[v.expando])return e;var t,n,r=e,s=v.event.fixHooks[e.type]||{},o=s.props?this.props.concat(s.props):this.props;e=v.Event(r);for(t=o.length;t;)n=o[--t],e[n]=r[n];return e.target||(e.target=r.srcElement||i),e.target.nodeType===3&amp;&amp;(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,r):e},special:{load:{noBubble:!0},focus:{delegateType:&quot;focusin&quot;},blur:{delegateType:&quot;focusout&quot;},beforeunload:{setup:function(e,t,n){v.isWindow(this)&amp;&amp;(this.onbeforeunload=n)},teardown:function(e,t){this.onbeforeunload===t&amp;&amp;(this.onbeforeunload=null)}}},simulate:function(e,t,n,r){var i=v.extend(new v.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?v.event.trigger(i,null,t):v.event.dispatch.call(t,i),i.isDefaultPrevented()&amp;&amp;n.preventDefault()}},v.event.handle=v.event.dispatch,v.removeEvent=i.removeEventListener?function(e,t,n){e.removeEventListener&amp;&amp;e.removeEventListener(t,n,!1)}:function(e,t,n){var r=&quot;on&quot;+t;e.detachEvent&amp;&amp;(typeof e[r]==&quot;undefined&quot;&amp;&amp;(e[r]=null),e.detachEvent(r,n))},v.Event=function(e,t){if(!(this instanceof v.Event))return new v.Event(e,t);e&amp;&amp;e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&amp;&amp;e.getPreventDefault()?tt:et):this.type=e,t&amp;&amp;v.extend(this,t),this.timeStamp=e&amp;&amp;e.timeStamp||v.now(),this[v.expando]=!0},v.Event.prototype={preventDefault:function(){this.isDefaultPrevented=tt;var e=this.originalEvent;if(!e)return;e.preventDefault?e.preventDefault():e.returnValue=!1},stopPropagation:function(){this.isPropagationStopped=tt;var e=this.originalEvent;if(!e)return;e.stopPropagation&amp;&amp;e.stopPropagation(),e.cancelBubble=!0},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=tt,this.stopPropagation()},isDefaultPrevented:et,isPropagationStopped:et,isImmediatePropagationStopped:et},v.each({mouseenter:&quot;mouseover&quot;,mouseleave:&quot;mouseout&quot;},function(e,t){v.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,s=e.handleObj,o=s.selector;if(!i||i!==r&amp;&amp;!v.contains(r,i))e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t;return n}}}),v.support.submitBubbles||(v.event.special.submit={setup:function(){if(v.nodeName(this,&quot;form&quot;))return!1;v.event.add(this,&quot;click._submit keypress._submit&quot;,function(e){var n=e.target,r=v.nodeName(n,&quot;input&quot;)||v.nodeName(n,&quot;button&quot;)?n.form:t;r&amp;&amp;!v._data(r,&quot;_submit_attached&quot;)&amp;&amp;(v.event.add(r,&quot;submit._submit&quot;,function(e){e._submit_bubble=!0}),v._data(r,&quot;_submit_attached&quot;,!0))})},postDispatch:function(e){e._submit_bubble&amp;&amp;(delete e._submit_bubble,this.parentNode&amp;&amp;!e.isTrigger&amp;&amp;v.event.simulate(&quot;submit&quot;,this.parentNode,e,!0))},teardown:function(){if(v.nodeName(this,&quot;form&quot;))return!1;v.event.remove(this,&quot;._submit&quot;)}}),v.support.changeBubbles||(v.event.special.change={setup:function(){if($.test(this.nodeName)){if(this.type===&quot;checkbox&quot;||this.type===&quot;radio&quot;)v.event.add(this,&quot;propertychange._change&quot;,function(e){e.originalEvent.propertyName===&quot;checked&quot;&amp;&amp;(this._just_changed=!0)}),v.event.add(this,&quot;click._change&quot;,function(e){this._just_changed&amp;&amp;!e.isTrigger&amp;&amp;(this._just_changed=!1),v.event.simulate(&quot;change&quot;,this,e,!0)});return!1}v.event.add(this,&quot;beforeactivate._change&quot;,function(e){var t=e.target;$.test(t.nodeName)&amp;&amp;!v._data(t,&quot;_change_attached&quot;)&amp;&amp;(v.event.add(t,&quot;change._change&quot;,function(e){this.parentNode&amp;&amp;!e.isSimulated&amp;&amp;!e.isTrigger&amp;&amp;v.event.simulate(&quot;change&quot;,this.parentNode,e,!0)}),v._data(t,&quot;_change_attached&quot;,!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||t.type!==&quot;radio&quot;&amp;&amp;t.type!==&quot;checkbox&quot;)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return v.event.remove(this,&quot;._change&quot;),!$.test(this.nodeName)}}),v.support.focusinBubbles||v.each({focus:&quot;focusin&quot;,blur:&quot;focusout&quot;},function(e,t){var n=0,r=function(e){v.event.simulate(t,e.target,v.event.fix(e),!0)};v.event.special[t]={setup:function(){n++===0&amp;&amp;i.addEventListener(e,r,!0)},teardown:function(){--n===0&amp;&amp;i.removeEventListener(e,r,!0)}}}),v.fn.extend({on:function(e,n,r,i,s){var o,u;if(typeof e==&quot;object&quot;){typeof n!=&quot;string&quot;&amp;&amp;(r=r||n,n=t);for(u in e)this.on(u,n,r,e[u],s);return this}r==null&amp;&amp;i==null?(i=n,r=n=t):i==null&amp;&amp;(typeof n==&quot;string&quot;?(i=r,r=t):(i=r,r=n,n=t));if(i===!1)i=et;else if(!i)return this;return s===1&amp;&amp;(o=i,i=function(e){return v().off(e),o.apply(this,arguments)},i.guid=o.guid||(o.guid=v.guid++)),this.each(function(){v.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,s;if(e&amp;&amp;e.preventDefault&amp;&amp;e.handleObj)return i=e.handleObj,v(e.delegateTarget).off(i.namespace?i.origType+&quot;.&quot;+i.namespace:i.origType,i.selector,i.handler),this;if(typeof e==&quot;object&quot;){for(s in e)this.off(s,n,e[s]);return this}if(n===!1||typeof n==&quot;function&quot;)r=n,n=t;return r===!1&amp;&amp;(r=et),this.each(function(){v.event.remove(this,e,r,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,n){return v(this.context).on(e,this.selector,t,n),this},die:function(e,t){return v(this.context).off(e,this.selector||&quot;**&quot;,t),this},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return arguments.length===1?this.off(e,&quot;**&quot;):this.off(t,e||&quot;**&quot;,n)},trigger:function(e,t){return this.each(function(){v.event.trigger(e,t,this)})},triggerHandler:function(e,t){if(this[0])return v.event.trigger(e,t,this[0],!0)},toggle:function(e){var t=arguments,n=e.guid||v.guid++,r=0,i=function(n){var i=(v._data(this,&quot;lastToggle&quot;+e.guid)||0)%r;return v._data(this,&quot;lastToggle&quot;+e.guid,i+1),n.preventDefault(),t[i].apply(this,arguments)||!1};i.guid=n;while(r&lt;t.length)t[r++].guid=n;return this.click(i)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),v.each(&quot;blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu&quot;.split(&quot; &quot;),function(e,t){v.fn[t]=function(e,n){return n==null&amp;&amp;(n=e,e=null),arguments.length&gt;0?this.on(t,null,e,n):this.trigger(t)},Q.test(t)&amp;&amp;(v.event.fixHooks[t]=v.event.keyHooks),G.test(t)&amp;&amp;(v.event.fixHooks[t]=v.event.mouseHooks)}),function(e,t){function nt(e,t,n,r){n=n||[],t=t||g;var i,s,a,f,l=t.nodeType;if(!e||typeof e!=&quot;string&quot;)return n;if(l!==1&amp;&amp;l!==9)return[];a=o(t);if(!a&amp;&amp;!r)if(i=R.exec(e))if(f=i[1]){if(l===9){s=t.getElementById(f);if(!s||!s.parentNode)return n;if(s.id===f)return n.push(s),n}else if(t.ownerDocument&amp;&amp;(s=t.ownerDocument.getElementById(f))&amp;&amp;u(t,s)&amp;&amp;s.id===f)return n.push(s),n}else{if(i[2])return S.apply(n,x.call(t.getElementsByTagName(e),0)),n;if((f=i[3])&amp;&amp;Z&amp;&amp;t.getElementsByClassName)return S.apply(n,x.call(t.getElementsByClassName(f),0)),n}return vt(e.replace(j,&quot;$1&quot;),t,n,r,a)}function rt(e){return function(t){var n=t.nodeName.toLowerCase();return n===&quot;input&quot;&amp;&amp;t.type===e}}function it(e){return function(t){var n=t.nodeName.toLowerCase();return(n===&quot;input&quot;||n===&quot;button&quot;)&amp;&amp;t.type===e}}function st(e){return N(function(t){return t=+t,N(function(n,r){var i,s=e([],n.length,t),o=s.length;while(o--)n[i=s[o]]&amp;&amp;(n[i]=!(r[i]=n[i]))})})}function ot(e,t,n){if(e===t)return n;var r=e.nextSibling;while(r){if(r===t)return-1;r=r.nextSibling}return 1}function ut(e,t){var n,r,s,o,u,a,f,l=L[d][e+&quot; &quot;];if(l)return t?0:l.slice(0);u=e,a=[],f=i.preFilter;while(u){if(!n||(r=F.exec(u)))r&amp;&amp;(u=u.slice(r[0].length)||u),a.push(s=[]);n=!1;if(r=I.exec(u))s.push(n=new m(r.shift())),u=u.slice(n.length),n.type=r[0].replace(j,&quot; &quot;);for(o in i.filter)(r=J[o].exec(u))&amp;&amp;(!f[o]||(r=f[o](r)))&amp;&amp;(s.push(n=new m(r.shift())),u=u.slice(n.length),n.type=o,n.matches=r);if(!n)break}return t?u.length:u?nt.error(e):L(e,a).slice(0)}function at(e,t,r){var i=t.dir,s=r&amp;&amp;t.dir===&quot;parentNode&quot;,o=w++;return t.first?function(t,n,r){while(t=t[i])if(s||t.nodeType===1)return e(t,n,r)}:function(t,r,u){if(!u){var a,f=b+&quot; &quot;+o+&quot; &quot;,l=f+n;while(t=t[i])if(s||t.nodeType===1){if((a=t[d])===l)return t.sizset;if(typeof a==&quot;string&quot;&amp;&amp;a.indexOf(f)===0){if(t.sizset)return t}else{t[d]=l;if(e(t,r,u))return t.sizset=!0,t;t.sizset=!1}}}else while(t=t[i])if(s||t.nodeType===1)if(e(t,r,u))return t}}function ft(e){return e.length&gt;1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function lt(e,t,n,r,i){var s,o=[],u=0,a=e.length,f=t!=null;for(;u&lt;a;u++)if(s=e[u])if(!n||n(s,r,i))o.push(s),f&amp;&amp;t.push(u);return o}function ct(e,t,n,r,i,s){return r&amp;&amp;!r[d]&amp;&amp;(r=ct(r)),i&amp;&amp;!i[d]&amp;&amp;(i=ct(i,s)),N(function(s,o,u,a){var f,l,c,h=[],p=[],d=o.length,v=s||dt(t||&quot;*&quot;,u.nodeType?[u]:u,[]),m=e&amp;&amp;(s||!t)?lt(v,h,e,u,a):v,g=n?i||(s?e:d||r)?[]:o:m;n&amp;&amp;n(m,g,u,a);if(r){f=lt(g,p),r(f,[],u,a),l=f.length;while(l--)if(c=f[l])g[p[l]]=!(m[p[l]]=c)}if(s){if(i||e){if(i){f=[],l=g.length;while(l--)(c=g[l])&amp;&amp;f.push(m[l]=c);i(null,g=[],f,a)}l=g.length;while(l--)(c=g[l])&amp;&amp;(f=i?T.call(s,c):h[l])&gt;-1&amp;&amp;(s[f]=!(o[f]=c))}}else g=lt(g===o?g.splice(d,g.length):g),i?i(null,o,g,a):S.apply(o,g)})}function ht(e){var t,n,r,s=e.length,o=i.relative[e[0].type],u=o||i.relative[&quot; &quot;],a=o?1:0,f=at(function(e){return e===t},u,!0),l=at(function(e){return T.call(t,e)&gt;-1},u,!0),h=[function(e,n,r){return!o&amp;&amp;(r||n!==c)||((t=n).nodeType?f(e,n,r):l(e,n,r))}];for(;a&lt;s;a++)if(n=i.relative[e[a].type])h=[at(ft(h),n)];else{n=i.filter[e[a].type].apply(null,e[a].matches);if(n[d]){r=++a;for(;r&lt;s;r++)if(i.relative[e[r].type])break;return ct(a&gt;1&amp;&amp;ft(h),a&gt;1&amp;&amp;e.slice(0,a-1).join(&quot;&quot;).replace(j,&quot;$1&quot;),n,a&lt;r&amp;&amp;ht(e.slice(a,r)),r&lt;s&amp;&amp;ht(e=e.slice(r)),r&lt;s&amp;&amp;e.join(&quot;&quot;))}h.push(n)}return ft(h)}function pt(e,t){var r=t.length&gt;0,s=e.length&gt;0,o=function(u,a,f,l,h){var p,d,v,m=[],y=0,w=&quot;0&quot;,x=u&amp;&amp;[],T=h!=null,N=c,C=u||s&amp;&amp;i.find.TAG(&quot;*&quot;,h&amp;&amp;a.parentNode||a),k=b+=N==null?1:Math.E;T&amp;&amp;(c=a!==g&amp;&amp;a,n=o.el);for(;(p=C[w])!=null;w++){if(s&amp;&amp;p){for(d=0;v=e[d];d++)if(v(p,a,f)){l.push(p);break}T&amp;&amp;(b=k,n=++o.el)}r&amp;&amp;((p=!v&amp;&amp;p)&amp;&amp;y--,u&amp;&amp;x.push(p))}y+=w;if(r&amp;&amp;w!==y){for(d=0;v=t[d];d++)v(x,m,a,f);if(u){if(y&gt;0)while(w--)!x[w]&amp;&amp;!m[w]&amp;&amp;(m[w]=E.call(l));m=lt(m)}S.apply(l,m),T&amp;&amp;!u&amp;&amp;m.length&gt;0&amp;&amp;y+t.length&gt;1&amp;&amp;nt.uniqueSort(l)}return T&amp;&amp;(b=k,c=N),x};return o.el=0,r?N(o):o}function dt(e,t,n){var r=0,i=t.length;for(;r&lt;i;r++)nt(e,t[r],n);return n}function vt(e,t,n,r,s){var o,u,f,l,c,h=ut(e),p=h.length;if(!r&amp;&amp;h.length===1){u=h[0]=h[0].slice(0);if(u.length&gt;2&amp;&amp;(f=u[0]).type===&quot;ID&quot;&amp;&amp;t.nodeType===9&amp;&amp;!s&amp;&amp;i.relative[u[1].type]){t=i.find.ID(f.matches[0].replace($,&quot;&quot;),t,s)[0];if(!t)return n;e=e.slice(u.shift().length)}for(o=J.POS.test(e)?-1:u.length-1;o&gt;=0;o--){f=u[o];if(i.relative[l=f.type])break;if(c=i.find[l])if(r=c(f.matches[0].replace($,&quot;&quot;),z.test(u[0].type)&amp;&amp;t.parentNode||t,s)){u.splice(o,1),e=r.length&amp;&amp;u.join(&quot;&quot;);if(!e)return S.apply(n,x.call(r,0)),n;break}}}return a(e,h)(r,t,s,n,z.test(e)),n}function mt(){}var n,r,i,s,o,u,a,f,l,c,h=!0,p=&quot;undefined&quot;,d=(&quot;sizcache&quot;+Math.random()).replace(&quot;.&quot;,&quot;&quot;),m=String,g=e.document,y=g.documentElement,b=0,w=0,E=[].pop,S=[].push,x=[].slice,T=[].indexOf||function(e){var t=0,n=this.length;for(;t&lt;n;t++)if(this[t]===e)return t;return-1},N=function(e,t){return e[d]=t==null||t,e},C=function(){var e={},t=[];return N(function(n,r){return t.push(n)&gt;i.cacheLength&amp;&amp;delete e[t.shift()],e[n+&quot; &quot;]=r},e)},k=C(),L=C(),A=C(),O=&quot;[\\x20\\t\\r\\n\\f]&quot;,M=&quot;(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+&quot;,_=M.replace(&quot;w&quot;,&quot;w#&quot;),D=&quot;([*^$|!~]?=)&quot;,P=&quot;\\[&quot;+O+&quot;*(&quot;+M+&quot;)&quot;+O+&quot;*(?:&quot;+D+O+&quot;*(?:(['\&quot;])((?:\\\\.|[^\\\\])*?)\\3|(&quot;+_+&quot;)|)|)&quot;+O+&quot;*\\]&quot;,H=&quot;:(&quot;+M+&quot;)(?:\\((?:(['\&quot;])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:&quot;+P+&quot;)|[^:]|\\\\.)*|.*))\\)|)&quot;,B=&quot;:(even|odd|eq|gt|lt|nth|first|last)(?:\\(&quot;+O+&quot;*((?:-\\d)?\\d*)&quot;+O+&quot;*\\)|)(?=[^-]|$)&quot;,j=new RegExp(&quot;^&quot;+O+&quot;+|((?:^|[^\\\\])(?:\\\\.)*)&quot;+O+&quot;+$&quot;,&quot;g&quot;),F=new RegExp(&quot;^&quot;+O+&quot;*,&quot;+O+&quot;*&quot;),I=new RegExp(&quot;^&quot;+O+&quot;*([\\x20\\t\\r\\n\\f&gt;+~])&quot;+O+&quot;*&quot;),q=new RegExp(H),R=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,U=/^:not/,z=/[\x20\t\r\n\f]*[+~]/,W=/:not\($/,X=/h\d/i,V=/input|select|textarea|button/i,$=/\\(?!\\)/g,J={ID:new RegExp(&quot;^#(&quot;+M+&quot;)&quot;),CLASS:new RegExp(&quot;^\\.(&quot;+M+&quot;)&quot;),NAME:new RegExp(&quot;^\\[name=['\&quot;]?(&quot;+M+&quot;)['\&quot;]?\\]&quot;),TAG:new RegExp(&quot;^(&quot;+M.replace(&quot;w&quot;,&quot;w*&quot;)+&quot;)&quot;),ATTR:new RegExp(&quot;^&quot;+P),PSEUDO:new RegExp(&quot;^&quot;+H),POS:new RegExp(B,&quot;i&quot;),CHILD:new RegExp(&quot;^:(only|nth|first|last)-child(?:\\(&quot;+O+&quot;*(even|odd|(([+-]|)(\\d*)n|)&quot;+O+&quot;*(?:([+-]|)&quot;+O+&quot;*(\\d+)|))&quot;+O+&quot;*\\)|)&quot;,&quot;i&quot;),needsContext:new RegExp(&quot;^&quot;+O+&quot;*[&gt;+~]|&quot;+B,&quot;i&quot;)},K=function(e){var t=g.createElement(&quot;div&quot;);try{return e(t)}catch(n){return!1}finally{t=null}},Q=K(function(e){return e.appendChild(g.createComment(&quot;&quot;)),!e.getElementsByTagName(&quot;*&quot;).length}),G=K(function(e){return e.innerHTML=&quot;&lt;a href='#'&gt;&lt;/a&gt;&quot;,e.firstChild&amp;&amp;typeof e.firstChild.getAttribute!==p&amp;&amp;e.firstChild.getAttribute(&quot;href&quot;)===&quot;#&quot;}),Y=K(function(e){e.innerHTML=&quot;&lt;select&gt;&lt;/select&gt;&quot;;var t=typeof e.lastChild.getAttribute(&quot;multiple&quot;);return t!==&quot;boolean&quot;&amp;&amp;t!==&quot;string&quot;}),Z=K(function(e){return e.innerHTML=&quot;&lt;div class='hidden e'&gt;&lt;/div&gt;&lt;div class='hidden'&gt;&lt;/div&gt;&quot;,!e.getElementsByClassName||!e.getElementsByClassName(&quot;e&quot;).length?!1:(e.lastChild.className=&quot;e&quot;,e.getElementsByClassName(&quot;e&quot;).length===2)}),et=K(function(e){e.id=d+0,e.innerHTML=&quot;&lt;a name='&quot;+d+&quot;'&gt;&lt;/a&gt;&lt;div name='&quot;+d+&quot;'&gt;&lt;/div&gt;&quot;,y.insertBefore(e,y.firstChild);var t=g.getElementsByName&amp;&amp;g.getElementsByName(d).length===2+g.getElementsByName(d+0).length;return r=!g.getElementById(d),y.removeChild(e),t});try{x.call(y.childNodes,0)[0].nodeType}catch(tt){x=function(e){var t,n=[];for(;t=this[e];e++)n.push(t);return n}}nt.matches=function(e,t){return nt(e,null,null,t)},nt.matchesSelector=function(e,t){return nt(t,null,null,[e]).length&gt;0},s=nt.getText=function(e){var t,n=&quot;&quot;,r=0,i=e.nodeType;if(i){if(i===1||i===9||i===11){if(typeof e.textContent==&quot;string&quot;)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=s(e)}else if(i===3||i===4)return e.nodeValue}else for(;t=e[r];r++)n+=s(t);return n},o=nt.isXML=function(e){var t=e&amp;&amp;(e.ownerDocument||e).documentElement;return t?t.nodeName!==&quot;HTML&quot;:!1},u=nt.contains=y.contains?function(e,t){var n=e.nodeType===9?e.documentElement:e,r=t&amp;&amp;t.parentNode;return e===r||!!(r&amp;&amp;r.nodeType===1&amp;&amp;n.contains&amp;&amp;n.contains(r))}:y.compareDocumentPosition?function(e,t){return t&amp;&amp;!!(e.compareDocumentPosition(t)&amp;16)}:function(e,t){while(t=t.parentNode)if(t===e)return!0;return!1},nt.attr=function(e,t){var n,r=o(e);return r||(t=t.toLowerCase()),(n=i.attrHandle[t])?n(e):r||Y?e.getAttribute(t):(n=e.getAttributeNode(t),n?typeof e[t]==&quot;boolean&quot;?e[t]?t:null:n.specified?n.value:null:null)},i=nt.selectors={cacheLength:50,createPseudo:N,match:J,attrHandle:G?{}:{href:function(e){return e.getAttribute(&quot;href&quot;,2)},type:function(e){return e.getAttribute(&quot;type&quot;)}},find:{ID:r?function(e,t,n){if(typeof t.getElementById!==p&amp;&amp;!n){var r=t.getElementById(e);return r&amp;&amp;r.parentNode?[r]:[]}}:function(e,n,r){if(typeof n.getElementById!==p&amp;&amp;!r){var i=n.getElementById(e);return i?i.id===e||typeof i.getAttributeNode!==p&amp;&amp;i.getAttributeNode(&quot;id&quot;).value===e?[i]:t:[]}},TAG:Q?function(e,t){if(typeof t.getElementsByTagName!==p)return t.getElementsByTagName(e)}:function(e,t){var n=t.getElementsByTagName(e);if(e===&quot;*&quot;){var r,i=[],s=0;for(;r=n[s];s++)r.nodeType===1&amp;&amp;i.push(r);return i}return n},NAME:et&amp;&amp;function(e,t){if(typeof t.getElementsByName!==p)return t.getElementsByName(name)},CLASS:Z&amp;&amp;function(e,t,n){if(typeof t.getElementsByClassName!==p&amp;&amp;!n)return t.getElementsByClassName(e)}},relative:{&quot;&gt;&quot;:{dir:&quot;parentNode&quot;,first:!0},&quot; &quot;:{dir:&quot;parentNode&quot;},&quot;+&quot;:{dir:&quot;previousSibling&quot;,first:!0},&quot;~&quot;:{dir:&quot;previousSibling&quot;}},preFilter:{ATTR:function(e){return e[1]=e[1].replace($,&quot;&quot;),e[3]=(e[4]||e[5]||&quot;&quot;).replace($,&quot;&quot;),e[2]===&quot;~=&quot;&amp;&amp;(e[3]=&quot; &quot;+e[3]+&quot; &quot;),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1]===&quot;nth&quot;?(e[2]||nt.error(e[0]),e[3]=+(e[3]?e[4]+(e[5]||1):2*(e[2]===&quot;even&quot;||e[2]===&quot;odd&quot;)),e[4]=+(e[6]+e[7]||e[2]===&quot;odd&quot;)):e[2]&amp;&amp;nt.error(e[0]),e},PSEUDO:function(e){var t,n;if(J.CHILD.test(e[0]))return null;if(e[3])e[2]=e[3];else if(t=e[4])q.test(t)&amp;&amp;(n=ut(t,!0))&amp;&amp;(n=t.indexOf(&quot;)&quot;,t.length-n)-t.length)&amp;&amp;(t=t.slice(0,n),e[0]=e[0].slice(0,n)),e[2]=t;return e.slice(0,3)}},filter:{ID:r?function(e){return e=e.replace($,&quot;&quot;),function(t){return t.getAttribute(&quot;id&quot;)===e}}:function(e){return e=e.replace($,&quot;&quot;),function(t){var n=typeof t.getAttributeNode!==p&amp;&amp;t.getAttributeNode(&quot;id&quot;);return n&amp;&amp;n.value===e}},TAG:function(e){return e===&quot;*&quot;?function(){return!0}:(e=e.replace($,&quot;&quot;).toLowerCase(),function(t){return t.nodeName&amp;&amp;t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=k[d][e+&quot; &quot;];return t||(t=new RegExp(&quot;(^|&quot;+O+&quot;)&quot;+e+&quot;(&quot;+O+&quot;|$)&quot;))&amp;&amp;k(e,function(e){return t.test(e.className||typeof e.getAttribute!==p&amp;&amp;e.getAttribute(&quot;class&quot;)||&quot;&quot;)})},ATTR:function(e,t,n){return function(r,i){var s=nt.attr(r,e);return s==null?t===&quot;!=&quot;:t?(s+=&quot;&quot;,t===&quot;=&quot;?s===n:t===&quot;!=&quot;?s!==n:t===&quot;^=&quot;?n&amp;&amp;s.indexOf(n)===0:t===&quot;*=&quot;?n&amp;&amp;s.indexOf(n)&gt;-1:t===&quot;$=&quot;?n&amp;&amp;s.substr(s.length-n.length)===n:t===&quot;~=&quot;?(&quot; &quot;+s+&quot; &quot;).indexOf(n)&gt;-1:t===&quot;|=&quot;?s===n||s.substr(0,n.length+1)===n+&quot;-&quot;:!1):!0}},CHILD:function(e,t,n,r){return e===&quot;nth&quot;?function(e){var t,i,s=e.parentNode;if(n===1&amp;&amp;r===0)return!0;if(s){i=0;for(t=s.firstChild;t;t=t.nextSibling)if(t.nodeType===1){i++;if(e===t)break}}return i-=r,i===n||i%n===0&amp;&amp;i/n&gt;=0}:function(t){var n=t;switch(e){case&quot;only&quot;:case&quot;first&quot;:while(n=n.previousSibling)if(n.nodeType===1)return!1;if(e===&quot;first&quot;)return!0;n=t;case&quot;last&quot;:while(n=n.nextSibling)if(n.nodeType===1)return!1;return!0}}},PSEUDO:function(e,t){var n,r=i.pseudos[e]||i.setFilters[e.toLowerCase()]||nt.error(&quot;unsupported pseudo: &quot;+e);return r[d]?r(t):r.length&gt;1?(n=[e,e,&quot;&quot;,t],i.setFilters.hasOwnProperty(e.toLowerCase())?N(function(e,n){var i,s=r(e,t),o=s.length;while(o--)i=T.call(e,s[o]),e[i]=!(n[i]=s[o])}):function(e){return r(e,0,n)}):r}},pseudos:{not:N(function(e){var t=[],n=[],r=a(e.replace(j,&quot;$1&quot;));return r[d]?N(function(e,t,n,i){var s,o=r(e,null,i,[]),u=e.length;while(u--)if(s=o[u])e[u]=!(t[u]=s)}):function(e,i,s){return t[0]=e,r(t,null,s,n),!n.pop()}}),has:N(function(e){return function(t){return nt(e,t).length&gt;0}}),contains:N(function(e){return function(t){return(t.textContent||t.innerText||s(t)).indexOf(e)&gt;-1}}),enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return t===&quot;input&quot;&amp;&amp;!!e.checked||t===&quot;option&quot;&amp;&amp;!!e.selected},selected:function(e){return e.parentNode&amp;&amp;e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!i.pseudos.empty(e)},empty:function(e){var t;e=e.firstChild;while(e){if(e.nodeName&gt;&quot;@&quot;||(t=e.nodeType)===3||t===4)return!1;e=e.nextSibling}return!0},header:function(e){return X.test(e.nodeName)},text:function(e){var t,n;return e.nodeName.toLowerCase()===&quot;input&quot;&amp;&amp;(t=e.type)===&quot;text&quot;&amp;&amp;((n=e.getAttribute(&quot;type&quot;))==null||n.toLowerCase()===t)},radio:rt(&quot;radio&quot;),checkbox:rt(&quot;checkbox&quot;),file:rt(&quot;file&quot;),password:rt(&quot;password&quot;),image:rt(&quot;image&quot;),submit:it(&quot;submit&quot;),reset:it(&quot;reset&quot;),button:function(e){var t=e.nodeName.toLowerCase();return t===&quot;input&quot;&amp;&amp;e.type===&quot;button&quot;||t===&quot;button&quot;},input:function(e){return V.test(e.nodeName)},focus:function(e){var t=e.ownerDocument;return e===t.activeElement&amp;&amp;(!t.hasFocus||t.hasFocus())&amp;&amp;!!(e.type||e.href||~e.tabIndex)},active:function(e){return e===e.ownerDocument.activeElement},first:st(function(){return[0]}),last:st(function(e,t){return[t-1]}),eq:st(function(e,t,n){return[n&lt;0?n+t:n]}),even:st(function(e,t){for(var n=0;n&lt;t;n+=2)e.push(n);return e}),odd:st(function(e,t){for(var n=1;n&lt;t;n+=2)e.push(n);return e}),lt:st(function(e,t,n){for(var r=n&lt;0?n+t:n;--r&gt;=0;)e.push(r);return e}),gt:st(function(e,t,n){for(var r=n&lt;0?n+t:n;++r&lt;t;)e.push(r);return e})}},f=y.compareDocumentPosition?function(e,t){return e===t?(l=!0,0):(!e.compareDocumentPosition||!t.compareDocumentPosition?e.compareDocumentPosition:e.compareDocumentPosition(t)&amp;4)?-1:1}:function(e,t){if(e===t)return l=!0,0;if(e.sourceIndex&amp;&amp;t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,r,i=[],s=[],o=e.parentNode,u=t.parentNode,a=o;if(o===u)return ot(e,t);if(!o)return-1;if(!u)return 1;while(a)i.unshift(a),a=a.parentNode;a=u;while(a)s.unshift(a),a=a.parentNode;n=i.length,r=s.length;for(var f=0;f&lt;n&amp;&amp;f&lt;r;f++)if(i[f]!==s[f])return ot(i[f],s[f]);return f===n?ot(e,s[f],-1):ot(i[f],t,1)},[0,0].sort(f),h=!l,nt.uniqueSort=function(e){var t,n=[],r=1,i=0;l=h,e.sort(f);if(l){for(;t=e[r];r++)t===e[r-1]&amp;&amp;(i=n.push(r));while(i--)e.splice(n[i],1)}return e},nt.error=function(e){throw new Error(&quot;Syntax error, unrecognized expression: &quot;+e)},a=nt.compile=function(e,t){var n,r=[],i=[],s=A[d][e+&quot; &quot;];if(!s){t||(t=ut(e)),n=t.length;while(n--)s=ht(t[n]),s[d]?r.push(s):i.push(s);s=A(e,pt(i,r))}return s},g.querySelectorAll&amp;&amp;function(){var e,t=vt,n=/'|\\/g,r=/\=[\x20\t\r\n\f]*([^'&quot;\]]*)[\x20\t\r\n\f]*\]/g,i=[&quot;:focus&quot;],s=[&quot;:active&quot;],u=y.matchesSelector||y.mozMatchesSelector||y.webkitMatchesSelector||y.oMatchesSelector||y.msMatchesSelector;K(function(e){e.innerHTML=&quot;&lt;select&gt;&lt;option selected=''&gt;&lt;/option&gt;&lt;/select&gt;&quot;,e.querySelectorAll(&quot;[selected]&quot;).length||i.push(&quot;\\[&quot;+O+&quot;*(?:checked|disabled|ismap|multiple|readonly|selected|value)&quot;),e.querySelectorAll(&quot;:checked&quot;).length||i.push(&quot;:checked&quot;)}),K(function(e){e.innerHTML=&quot;&lt;p test=''&gt;&lt;/p&gt;&quot;,e.querySelectorAll(&quot;[test^='']&quot;).length&amp;&amp;i.push(&quot;[*^$]=&quot;+O+&quot;*(?:\&quot;\&quot;|'')&quot;),e.innerHTML=&quot;&lt;input type='hidden'/&gt;&quot;,e.querySelectorAll(&quot;:enabled&quot;).length||i.push(&quot;:enabled&quot;,&quot;:disabled&quot;)}),i=new RegExp(i.join(&quot;|&quot;)),vt=function(e,r,s,o,u){if(!o&amp;&amp;!u&amp;&amp;!i.test(e)){var a,f,l=!0,c=d,h=r,p=r.nodeType===9&amp;&amp;e;if(r.nodeType===1&amp;&amp;r.nodeName.toLowerCase()!==&quot;object&quot;){a=ut(e),(l=r.getAttribute(&quot;id&quot;))?c=l.replace(n,&quot;\\$&amp;&quot;):r.setAttribute(&quot;id&quot;,c),c=&quot;[id='&quot;+c+&quot;'] &quot;,f=a.length;while(f--)a[f]=c+a[f].join(&quot;&quot;);h=z.test(e)&amp;&amp;r.parentNode||r,p=a.join(&quot;,&quot;)}if(p)try{return S.apply(s,x.call(h.querySelectorAll(p),0)),s}catch(v){}finally{l||r.removeAttribute(&quot;id&quot;)}}return t(e,r,s,o,u)},u&amp;&amp;(K(function(t){e=u.call(t,&quot;div&quot;);try{u.call(t,&quot;[test!='']:sizzle&quot;),s.push(&quot;!=&quot;,H)}catch(n){}}),s=new RegExp(s.join(&quot;|&quot;)),nt.matchesSelector=function(t,n){n=n.replace(r,&quot;='$1']&quot;);if(!o(t)&amp;&amp;!s.test(n)&amp;&amp;!i.test(n))try{var a=u.call(t,n);if(a||e||t.document&amp;&amp;t.document.nodeType!==11)return a}catch(f){}return nt(n,null,null,[t]).length&gt;0})}(),i.pseudos.nth=i.pseudos.eq,i.filters=mt.prototype=i.pseudos,i.setFilters=new mt,nt.attr=v.attr,v.find=nt,v.expr=nt.selectors,v.expr[&quot;:&quot;]=v.expr.pseudos,v.unique=nt.uniqueSort,v.text=nt.getText,v.isXMLDoc=nt.isXML,v.contains=nt.contains}(e);var nt=/Until$/,rt=/^(?:parents|prev(?:Until|All))/,it=/^.[^:#\[\.,]*$/,st=v.expr.match.needsContext,ot={children:!0,contents:!0,next:!0,prev:!0};v.fn.extend({find:function(e){var t,n,r,i,s,o,u=this;if(typeof e!=&quot;string&quot;)return v(e).filter(function(){for(t=0,n=u.length;t&lt;n;t++)if(v.contains(u[t],this))return!0});o=this.pushStack(&quot;&quot;,&quot;find&quot;,e);for(t=0,n=this.length;t&lt;n;t++){r=o.length,v.find(e,this[t],o);if(t&gt;0)for(i=r;i&lt;o.length;i++)for(s=0;s&lt;r;s++)if(o[s]===o[i]){o.splice(i--,1);break}}return o},has:function(e){var t,n=v(e,this),r=n.length;return this.filter(function(){for(t=0;t&lt;r;t++)if(v.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(ft(this,e,!1),&quot;not&quot;,e)},filter:function(e){return this.pushStack(ft(this,e,!0),&quot;filter&quot;,e)},is:function(e){return!!e&amp;&amp;(typeof e==&quot;string&quot;?st.test(e)?v(e,this.context).index(this[0])&gt;=0:v.filter(e,this).length&gt;0:this.filter(e).length&gt;0)},closest:function(e,t){var n,r=0,i=this.length,s=[],o=st.test(e)||typeof e!=&quot;string&quot;?v(e,t||this.context):0;for(;r&lt;i;r++){n=this[r];while(n&amp;&amp;n.ownerDocument&amp;&amp;n!==t&amp;&amp;n.nodeType!==11){if(o?o.index(n)&gt;-1:v.find.matchesSelector(n,e)){s.push(n);break}n=n.parentNode}}return s=s.length&gt;1?v.unique(s):s,this.pushStack(s,&quot;closest&quot;,e)},index:function(e){return e?typeof e==&quot;string&quot;?v.inArray(this[0],v(e)):v.inArray(e.jquery?e[0]:e,this):this[0]&amp;&amp;this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var n=typeof e==&quot;string&quot;?v(e,t):v.makeArray(e&amp;&amp;e.nodeType?[e]:e),r=v.merge(this.get(),n);return this.pushStack(ut(n[0])||ut(r[0])?r:v.unique(r))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}}),v.fn.andSelf=v.fn.addBack,v.each({parent:function(e){var t=e.parentNode;return t&amp;&amp;t.nodeType!==11?t:null},parents:function(e){return v.dir(e,&quot;parentNode&quot;)},parentsUntil:function(e,t,n){return v.dir(e,&quot;parentNode&quot;,n)},next:function(e){return at(e,&quot;nextSibling&quot;)},prev:function(e){return at(e,&quot;previousSibling&quot;)},nextAll:function(e){return v.dir(e,&quot;nextSibling&quot;)},prevAll:function(e){return v.dir(e,&quot;previousSibling&quot;)},nextUntil:function(e,t,n){return v.dir(e,&quot;nextSibling&quot;,n)},prevUntil:function(e,t,n){return v.dir(e,&quot;previousSibling&quot;,n)},siblings:function(e){return v.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return v.sibling(e.firstChild)},contents:function(e){return v.nodeName(e,&quot;iframe&quot;)?e.contentDocument||e.contentWindow.document:v.merge([],e.childNodes)}},function(e,t){v.fn[e]=function(n,r){var i=v.map(this,t,n);return nt.test(e)||(r=n),r&amp;&amp;typeof r==&quot;string&quot;&amp;&amp;(i=v.filter(r,i)),i=this.length&gt;1&amp;&amp;!ot[e]?v.unique(i):i,this.length&gt;1&amp;&amp;rt.test(e)&amp;&amp;(i=i.reverse()),this.pushStack(i,e,l.call(arguments).join(&quot;,&quot;))}}),v.extend({filter:function(e,t,n){return n&amp;&amp;(e=&quot;:not(&quot;+e+&quot;)&quot;),t.length===1?v.find.matchesSelector(t[0],e)?[t[0]]:[]:v.find.matches(e,t)},dir:function(e,n,r){var i=[],s=e[n];while(s&amp;&amp;s.nodeType!==9&amp;&amp;(r===t||s.nodeType!==1||!v(s).is(r)))s.nodeType===1&amp;&amp;i.push(s),s=s[n];return i},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)e.nodeType===1&amp;&amp;e!==t&amp;&amp;n.push(e);return n}});var ct=&quot;abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video&quot;,ht=/ jQuery\d+=&quot;(?:null|\d+)&quot;/g,pt=/^\s+/,dt=/&lt;(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^&gt;]*)\/&gt;/gi,vt=/&lt;([\w:]+)/,mt=/&lt;tbody/i,gt=/&lt;|&amp;#?\w+;/,yt=/&lt;(?:script|style|link)/i,bt=/&lt;(?:script|object|embed|option|style)/i,wt=new RegExp(&quot;&lt;(?:&quot;+ct+&quot;)[\\s/&gt;]&quot;,&quot;i&quot;),Et=/^(?:checkbox|radio)$/,St=/checked\s*(?:[^=]|=\s*.checked.)/i,xt=/\/(java|ecma)script/i,Tt=/^\s*&lt;!(?:\[CDATA\[|\-\-)|[\]\-]{2}&gt;\s*$/g,Nt={option:[1,&quot;&lt;select multiple='multiple'&gt;&quot;,&quot;&lt;/select&gt;&quot;],legend:[1,&quot;&lt;fieldset&gt;&quot;,&quot;&lt;/fieldset&gt;&quot;],thead:[1,&quot;&lt;table&gt;&quot;,&quot;&lt;/table&gt;&quot;],tr:[2,&quot;&lt;table&gt;&lt;tbody&gt;&quot;,&quot;&lt;/tbody&gt;&lt;/table&gt;&quot;],td:[3,&quot;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&quot;,&quot;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&quot;],col:[2,&quot;&lt;table&gt;&lt;tbody&gt;&lt;/tbody&gt;&lt;colgroup&gt;&quot;,&quot;&lt;/colgroup&gt;&lt;/table&gt;&quot;],area:[1,&quot;&lt;map&gt;&quot;,&quot;&lt;/map&gt;&quot;],_default:[0,&quot;&quot;,&quot;&quot;]},Ct=lt(i),kt=Ct.appendChild(i.createElement(&quot;div&quot;));Nt.optgroup=Nt.option,Nt.tbody=Nt.tfoot=Nt.colgroup=Nt.caption=Nt.thead,Nt.th=Nt.td,v.support.htmlSerialize||(Nt._default=[1,&quot;X&lt;div&gt;&quot;,&quot;&lt;/div&gt;&quot;]),v.fn.extend({text:function(e){return v.access(this,function(e){return e===t?v.text(this):this.empty().append((this[0]&amp;&amp;this[0].ownerDocument||i).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(v.isFunction(e))return this.each(function(t){v(this).wrapAll(e.call(this,t))});if(this[0]){var t=v(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&amp;&amp;t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&amp;&amp;e.firstChild.nodeType===1)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return v.isFunction(e)?this.each(function(t){v(this).wrapInner(e.call(this,t))}):this.each(function(){var t=v(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=v.isFunction(e);return this.each(function(n){v(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){v.nodeName(this,&quot;body&quot;)||v(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(this.nodeType===1||this.nodeType===11)&amp;&amp;this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(this.nodeType===1||this.nodeType===11)&amp;&amp;this.insertBefore(e,this.firstChild)})},before:function(){if(!ut(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=v.clean(arguments);return this.pushStack(v.merge(e,this),&quot;before&quot;,this.selector)}},after:function(){if(!ut(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=v.clean(arguments);return this.pushStack(v.merge(this,e),&quot;after&quot;,this.selector)}},remove:function(e,t){var n,r=0;for(;(n=this[r])!=null;r++)if(!e||v.filter(e,[n]).length)!t&amp;&amp;n.nodeType===1&amp;&amp;(v.cleanData(n.getElementsByTagName(&quot;*&quot;)),v.cleanData([n])),n.parentNode&amp;&amp;n.parentNode.removeChild(n);return this},empty:function(){var e,t=0;for(;(e=this[t])!=null;t++){e.nodeType===1&amp;&amp;v.cleanData(e.getElementsByTagName(&quot;*&quot;));while(e.firstChild)e.removeChild(e.firstChild)}return this},clone:function(e,t){return e=e==null?!1:e,t=t==null?e:t,this.map(function(){return v.clone(this,e,t)})},html:function(e){return v.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return n.nodeType===1?n.innerHTML.replace(ht,&quot;&quot;):t;if(typeof e==&quot;string&quot;&amp;&amp;!yt.test(e)&amp;&amp;(v.support.htmlSerialize||!wt.test(e))&amp;&amp;(v.support.leadingWhitespace||!pt.test(e))&amp;&amp;!Nt[(vt.exec(e)||[&quot;&quot;,&quot;&quot;])[1].toLowerCase()]){e=e.replace(dt,&quot;&lt;$1&gt;&lt;/$2&gt;&quot;);try{for(;r&lt;i;r++)n=this[r]||{},n.nodeType===1&amp;&amp;(v.cleanData(n.getElementsByTagName(&quot;*&quot;)),n.innerHTML=e);n=0}catch(s){}}n&amp;&amp;this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){return ut(this[0])?this.length?this.pushStack(v(v.isFunction(e)?e():e),&quot;replaceWith&quot;,e):this:v.isFunction(e)?this.each(function(t){var n=v(this),r=n.html();n.replaceWith(e.call(this,t,r))}):(typeof e!=&quot;string&quot;&amp;&amp;(e=v(e).detach()),this.each(function(){var t=this.nextSibling,n=this.parentNode;v(this).remove(),t?v(t).before(e):v(n).append(e)}))},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,r){e=[].concat.apply([],e);var i,s,o,u,a=0,f=e[0],l=[],c=this.length;if(!v.support.checkClone&amp;&amp;c&gt;1&amp;&amp;typeof f==&quot;string&quot;&amp;&amp;St.test(f))return this.each(function(){v(this).domManip(e,n,r)});if(v.isFunction(f))return this.each(function(i){var s=v(this);e[0]=f.call(this,i,n?s.html():t),s.domManip(e,n,r)});if(this[0]){i=v.buildFragment(e,this,l),o=i.fragment,s=o.firstChild,o.childNodes.length===1&amp;&amp;(o=s);if(s){n=n&amp;&amp;v.nodeName(s,&quot;tr&quot;);for(u=i.cacheable||c-1;a&lt;c;a++)r.call(n&amp;&amp;v.nodeName(this[a],&quot;table&quot;)?Lt(this[a],&quot;tbody&quot;):this[a],a===u?o:v.clone(o,!0,!0))}o=s=null,l.length&amp;&amp;v.each(l,function(e,t){t.src?v.ajax?v.ajax({url:t.src,type:&quot;GET&quot;,dataType:&quot;script&quot;,async:!1,global:!1,&quot;throws&quot;:!0}):v.error(&quot;no ajax&quot;):v.globalEval((t.text||t.textContent||t.innerHTML||&quot;&quot;).replace(Tt,&quot;&quot;)),t.parentNode&amp;&amp;t.parentNode.removeChild(t)})}return this}}),v.buildFragment=function(e,n,r){var s,o,u,a=e[0];return n=n||i,n=!n.nodeType&amp;&amp;n[0]||n,n=n.ownerDocument||n,e.length===1&amp;&amp;typeof a==&quot;string&quot;&amp;&amp;a.length&lt;512&amp;&amp;n===i&amp;&amp;a.charAt(0)===&quot;&lt;&quot;&amp;&amp;!bt.test(a)&amp;&amp;(v.support.checkClone||!St.test(a))&amp;&amp;(v.support.html5Clone||!wt.test(a))&amp;&amp;(o=!0,s=v.fragments[a],u=s!==t),s||(s=n.createDocumentFragment(),v.clean(e,n,s,r),o&amp;&amp;(v.fragments[a]=u&amp;&amp;s)),{fragment:s,cacheable:o}},v.fragments={},v.each({appendTo:&quot;append&quot;,prependTo:&quot;prepend&quot;,insertBefore:&quot;before&quot;,insertAfter:&quot;after&quot;,replaceAll:&quot;replaceWith&quot;},function(e,t){v.fn[e]=function(n){var r,i=0,s=[],o=v(n),u=o.length,a=this.length===1&amp;&amp;this[0].parentNode;if((a==null||a&amp;&amp;a.nodeType===11&amp;&amp;a.childNodes.length===1)&amp;&amp;u===1)return o[t](this[0]),this;for(;i&lt;u;i++)r=(i&gt;0?this.clone(!0):this).get(),v(o[i])[t](r),s=s.concat(r);return this.pushStack(s,e,o.selector)}}),v.extend({clone:function(e,t,n){var r,i,s,o;v.support.html5Clone||v.isXMLDoc(e)||!wt.test(&quot;&lt;&quot;+e.nodeName+&quot;&gt;&quot;)?o=e.cloneNode(!0):(kt.innerHTML=e.outerHTML,kt.removeChild(o=kt.firstChild));if((!v.support.noCloneEvent||!v.support.noCloneChecked)&amp;&amp;(e.nodeType===1||e.nodeType===11)&amp;&amp;!v.isXMLDoc(e)){Ot(e,o),r=Mt(e),i=Mt(o);for(s=0;r[s];++s)i[s]&amp;&amp;Ot(r[s],i[s])}if(t){At(e,o);if(n){r=Mt(e),i=Mt(o);for(s=0;r[s];++s)At(r[s],i[s])}}return r=i=null,o},clean:function(e,t,n,r){var s,o,u,a,f,l,c,h,p,d,m,g,y=t===i&amp;&amp;Ct,b=[];if(!t||typeof t.createDocumentFragment==&quot;undefined&quot;)t=i;for(s=0;(u=e[s])!=null;s++){typeof u==&quot;number&quot;&amp;&amp;(u+=&quot;&quot;);if(!u)continue;if(typeof u==&quot;string&quot;)if(!gt.test(u))u=t.createTextNode(u);else{y=y||lt(t),c=t.createElement(&quot;div&quot;),y.appendChild(c),u=u.replace(dt,&quot;&lt;$1&gt;&lt;/$2&gt;&quot;),a=(vt.exec(u)||[&quot;&quot;,&quot;&quot;])[1].toLowerCase(),f=Nt[a]||Nt._default,l=f[0],c.innerHTML=f[1]+u+f[2];while(l--)c=c.lastChild;if(!v.support.tbody){h=mt.test(u),p=a===&quot;table&quot;&amp;&amp;!h?c.firstChild&amp;&amp;c.firstChild.childNodes:f[1]===&quot;&lt;table&gt;&quot;&amp;&amp;!h?c.childNodes:[];for(o=p.length-1;o&gt;=0;--o)v.nodeName(p[o],&quot;tbody&quot;)&amp;&amp;!p[o].childNodes.length&amp;&amp;p[o].parentNode.removeChild(p[o])}!v.support.leadingWhitespace&amp;&amp;pt.test(u)&amp;&amp;c.insertBefore(t.createTextNode(pt.exec(u)[0]),c.firstChild),u=c.childNodes,c.parentNode.removeChild(c)}u.nodeType?b.push(u):v.merge(b,u)}c&amp;&amp;(u=c=y=null);if(!v.support.appendChecked)for(s=0;(u=b[s])!=null;s++)v.nodeName(u,&quot;input&quot;)?_t(u):typeof u.getElementsByTagName!=&quot;undefined&quot;&amp;&amp;v.grep(u.getElementsByTagName(&quot;input&quot;),_t);if(n){m=function(e){if(!e.type||xt.test(e.type))return r?r.push(e.parentNode?e.parentNode.removeChild(e):e):n.appendChild(e)};for(s=0;(u=b[s])!=null;s++)if(!v.nodeName(u,&quot;script&quot;)||!m(u))n.appendChild(u),typeof u.getElementsByTagName!=&quot;undefined&quot;&amp;&amp;(g=v.grep(v.merge([],u.getElementsByTagName(&quot;script&quot;)),m),b.splice.apply(b,[s+1,0].concat(g)),s+=g.length)}return b},cleanData:function(e,t){var n,r,i,s,o=0,u=v.expando,a=v.cache,f=v.support.deleteExpando,l=v.event.special;for(;(i=e[o])!=null;o++)if(t||v.acceptData(i)){r=i[u],n=r&amp;&amp;a[r];if(n){if(n.events)for(s in n.events)l[s]?v.event.remove(i,s):v.removeEvent(i,s,n.handle);a[r]&amp;&amp;(delete a[r],f?delete i[u]:i.removeAttribute?i.removeAttribute(u):i[u]=null,v.deletedIds.push(r))}}}}),function(){var e,t;v.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf(&quot;compatible&quot;)&lt;0&amp;&amp;/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||&quot;&quot;,version:t[2]||&quot;0&quot;}},e=v.uaMatch(o.userAgent),t={},e.browser&amp;&amp;(t[e.browser]=!0,t.version=e.version),t.chrome?t.webkit=!0:t.webkit&amp;&amp;(t.safari=!0),v.browser=t,v.sub=function(){function e(t,n){return new e.fn.init(t,n)}v.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(r,i){return i&amp;&amp;i instanceof v&amp;&amp;!(i instanceof e)&amp;&amp;(i=e(i)),v.fn.init.call(this,r,i,t)},e.fn.init.prototype=e.fn;var t=e(i);return e}}();var Dt,Pt,Ht,Bt=/alpha\([^)]*\)/i,jt=/opacity=([^)]*)/,Ft=/^(top|right|bottom|left)$/,It=/^(none|table(?!-c[ea]).+)/,qt=/^margin/,Rt=new RegExp(&quot;^(&quot;+m+&quot;)(.*)$&quot;,&quot;i&quot;),Ut=new RegExp(&quot;^(&quot;+m+&quot;)(?!px)[a-z%]+$&quot;,&quot;i&quot;),zt=new RegExp(&quot;^([-+])=(&quot;+m+&quot;)&quot;,&quot;i&quot;),Wt={BODY:&quot;block&quot;},Xt={position:&quot;absolute&quot;,visibility:&quot;hidden&quot;,display:&quot;block&quot;},Vt={letterSpacing:0,fontWeight:400},$t=[&quot;Top&quot;,&quot;Right&quot;,&quot;Bottom&quot;,&quot;Left&quot;],Jt=[&quot;Webkit&quot;,&quot;O&quot;,&quot;Moz&quot;,&quot;ms&quot;],Kt=v.fn.toggle;v.fn.extend({css:function(e,n){return v.access(this,function(e,n,r){return r!==t?v.style(e,n,r):v.css(e,n)},e,n,arguments.length&gt;1)},show:function(){return Yt(this,!0)},hide:function(){return Yt(this)},toggle:function(e,t){var n=typeof e==&quot;boolean&quot;;return v.isFunction(e)&amp;&amp;v.isFunction(t)?Kt.apply(this,arguments):this.each(function(){(n?e:Gt(this))?v(this).show():v(this).hide()})}}),v.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Dt(e,&quot;opacity&quot;);return n===&quot;&quot;?&quot;1&quot;:n}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{&quot;float&quot;:v.support.cssFloat?&quot;cssFloat&quot;:&quot;styleFloat&quot;},style:function(e,n,r,i){if(!e||e.nodeType===3||e.nodeType===8||!e.style)return;var s,o,u,a=v.camelCase(n),f=e.style;n=v.cssProps[a]||(v.cssProps[a]=Qt(f,a)),u=v.cssHooks[n]||v.cssHooks[a];if(r===t)return u&amp;&amp;&quot;get&quot;in u&amp;&amp;(s=u.get(e,!1,i))!==t?s:f[n];o=typeof r,o===&quot;string&quot;&amp;&amp;(s=zt.exec(r))&amp;&amp;(r=(s[1]+1)*s[2]+parseFloat(v.css(e,n)),o=&quot;number&quot;);if(r==null||o===&quot;number&quot;&amp;&amp;isNaN(r))return;o===&quot;number&quot;&amp;&amp;!v.cssNumber[a]&amp;&amp;(r+=&quot;px&quot;);if(!u||!(&quot;set&quot;in u)||(r=u.set(e,r,i))!==t)try{f[n]=r}catch(l){}},css:function(e,n,r,i){var s,o,u,a=v.camelCase(n);return n=v.cssProps[a]||(v.cssProps[a]=Qt(e.style,a)),u=v.cssHooks[n]||v.cssHooks[a],u&amp;&amp;&quot;get&quot;in u&amp;&amp;(s=u.get(e,!0,i)),s===t&amp;&amp;(s=Dt(e,n)),s===&quot;normal&quot;&amp;&amp;n in Vt&amp;&amp;(s=Vt[n]),r||i!==t?(o=parseFloat(s),r||v.isNumeric(o)?o||0:s):s},swap:function(e,t,n){var r,i,s={};for(i in t)s[i]=e.style[i],e.style[i]=t[i];r=n.call(e);for(i in t)e.style[i]=s[i];return r}}),e.getComputedStyle?Dt=function(t,n){var r,i,s,o,u=e.getComputedStyle(t,null),a=t.style;return u&amp;&amp;(r=u.getPropertyValue(n)||u[n],r===&quot;&quot;&amp;&amp;!v.contains(t.ownerDocument,t)&amp;&amp;(r=v.style(t,n)),Ut.test(r)&amp;&amp;qt.test(n)&amp;&amp;(i=a.width,s=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=r,r=u.width,a.width=i,a.minWidth=s,a.maxWidth=o)),r}:i.documentElement.currentStyle&amp;&amp;(Dt=function(e,t){var n,r,i=e.currentStyle&amp;&amp;e.currentStyle[t],s=e.style;return i==null&amp;&amp;s&amp;&amp;s[t]&amp;&amp;(i=s[t]),Ut.test(i)&amp;&amp;!Ft.test(t)&amp;&amp;(n=s.left,r=e.runtimeStyle&amp;&amp;e.runtimeStyle.left,r&amp;&amp;(e.runtimeStyle.left=e.currentStyle.left),s.left=t===&quot;fontSize&quot;?&quot;1em&quot;:i,i=s.pixelLeft+&quot;px&quot;,s.left=n,r&amp;&amp;(e.runtimeStyle.left=r)),i===&quot;&quot;?&quot;auto&quot;:i}),v.each([&quot;height&quot;,&quot;width&quot;],function(e,t){v.cssHooks[t]={get:function(e,n,r){if(n)return e.offsetWidth===0&amp;&amp;It.test(Dt(e,&quot;display&quot;))?v.swap(e,Xt,function(){return tn(e,t,r)}):tn(e,t,r)},set:function(e,n,r){return Zt(e,n,r?en(e,t,r,v.support.boxSizing&amp;&amp;v.css(e,&quot;boxSizing&quot;)===&quot;border-box&quot;):0)}}}),v.support.opacity||(v.cssHooks.opacity={get:function(e,t){return jt.test((t&amp;&amp;e.currentStyle?e.currentStyle.filter:e.style.filter)||&quot;&quot;)?.01*parseFloat(RegExp.$1)+&quot;&quot;:t?&quot;1&quot;:&quot;&quot;},set:function(e,t){var n=e.style,r=e.currentStyle,i=v.isNumeric(t)?&quot;alpha(opacity=&quot;+t*100+&quot;)&quot;:&quot;&quot;,s=r&amp;&amp;r.filter||n.filter||&quot;&quot;;n.zoom=1;if(t&gt;=1&amp;&amp;v.trim(s.replace(Bt,&quot;&quot;))===&quot;&quot;&amp;&amp;n.removeAttribute){n.removeAttribute(&quot;filter&quot;);if(r&amp;&amp;!r.filter)return}n.filter=Bt.test(s)?s.replace(Bt,i):s+&quot; &quot;+i}}),v(function(){v.support.reliableMarginRight||(v.cssHooks.marginRight={get:function(e,t){return v.swap(e,{display:&quot;inline-block&quot;},function(){if(t)return Dt(e,&quot;marginRight&quot;)})}}),!v.support.pixelPosition&amp;&amp;v.fn.position&amp;&amp;v.each([&quot;top&quot;,&quot;left&quot;],function(e,t){v.cssHooks[t]={get:function(e,n){if(n){var r=Dt(e,t);return Ut.test(r)?v(e).position()[t]+&quot;px&quot;:r}}}})}),v.expr&amp;&amp;v.expr.filters&amp;&amp;(v.expr.filters.hidden=function(e){return e.offsetWidth===0&amp;&amp;e.offsetHeight===0||!v.support.reliableHiddenOffsets&amp;&amp;(e.style&amp;&amp;e.style.display||Dt(e,&quot;display&quot;))===&quot;none&quot;},v.expr.filters.visible=function(e){return!v.expr.filters.hidden(e)}),v.each({margin:&quot;&quot;,padding:&quot;&quot;,border:&quot;Width&quot;},function(e,t){v.cssHooks[e+t]={expand:function(n){var r,i=typeof n==&quot;string&quot;?n.split(&quot; &quot;):[n],s={};for(r=0;r&lt;4;r++)s[e+$t[r]+t]=i[r]||i[r-2]||i[0];return s}},qt.test(e)||(v.cssHooks[e+t].set=Zt)});var rn=/%20/g,sn=/\[\]$/,on=/\r?\n/g,un=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,an=/^(?:select|textarea)/i;v.fn.extend({serialize:function(){return v.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?v.makeArray(this.elements):this}).filter(function(){return this.name&amp;&amp;!this.disabled&amp;&amp;(this.checked||an.test(this.nodeName)||un.test(this.type))}).map(function(e,t){var n=v(this).val();return n==null?null:v.isArray(n)?v.map(n,function(e,n){return{name:t.name,value:e.replace(on,&quot;\r\n&quot;)}}):{name:t.name,value:n.replace(on,&quot;\r\n&quot;)}}).get()}}),v.param=function(e,n){var r,i=[],s=function(e,t){t=v.isFunction(t)?t():t==null?&quot;&quot;:t,i[i.length]=encodeURIComponent(e)+&quot;=&quot;+encodeURIComponent(t)};n===t&amp;&amp;(n=v.ajaxSettings&amp;&amp;v.ajaxSettings.traditional);if(v.isArray(e)||e.jquery&amp;&amp;!v.isPlainObject(e))v.each(e,function(){s(this.name,this.value)});else for(r in e)fn(r,e[r],n,s);return i.join(&quot;&amp;&quot;).replace(rn,&quot;+&quot;)};var ln,cn,hn=/#.*$/,pn=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,dn=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,vn=/^(?:GET|HEAD)$/,mn=/^\/\//,gn=/\?/,yn=/&lt;script\b[^&lt;]*(?:(?!&lt;\/script&gt;)&lt;[^&lt;]*)*&lt;\/script&gt;/gi,bn=/([?&amp;])_=[^&amp;]*/,wn=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,En=v.fn.load,Sn={},xn={},Tn=[&quot;*/&quot;]+[&quot;*&quot;];try{cn=s.href}catch(Nn){cn=i.createElement(&quot;a&quot;),cn.href=&quot;&quot;,cn=cn.href}ln=wn.exec(cn.toLowerCase())||[],v.fn.load=function(e,n,r){if(typeof e!=&quot;string&quot;&amp;&amp;En)return En.apply(this,arguments);if(!this.length)return this;var i,s,o,u=this,a=e.indexOf(&quot; &quot;);return a&gt;=0&amp;&amp;(i=e.slice(a,e.length),e=e.slice(0,a)),v.isFunction(n)?(r=n,n=t):n&amp;&amp;typeof n==&quot;object&quot;&amp;&amp;(s=&quot;POST&quot;),v.ajax({url:e,type:s,dataType:&quot;html&quot;,data:n,complete:function(e,t){r&amp;&amp;u.each(r,o||[e.responseText,t,e])}}).done(function(e){o=arguments,u.html(i?v(&quot;&lt;div&gt;&quot;).append(e.replace(yn,&quot;&quot;)).find(i):e)}),this},v.each(&quot;ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend&quot;.split(&quot; &quot;),function(e,t){v.fn[t]=function(e){return this.on(t,e)}}),v.each([&quot;get&quot;,&quot;post&quot;],function(e,n){v[n]=function(e,r,i,s){return v.isFunction(r)&amp;&amp;(s=s||i,i=r,r=t),v.ajax({type:n,url:e,data:r,success:i,dataType:s})}}),v.extend({getScript:function(e,n){return v.get(e,t,n,&quot;script&quot;)},getJSON:function(e,t,n){return v.get(e,t,n,&quot;json&quot;)},ajaxSetup:function(e,t){return t?Ln(e,v.ajaxSettings):(t=e,e=v.ajaxSettings),Ln(e,t),e},ajaxSettings:{url:cn,isLocal:dn.test(ln[1]),global:!0,type:&quot;GET&quot;,contentType:&quot;application/x-www-form-urlencoded; charset=UTF-8&quot;,processData:!0,async:!0,accepts:{xml:&quot;application/xml, text/xml&quot;,html:&quot;text/html&quot;,text:&quot;text/plain&quot;,json:&quot;application/json, text/javascript&quot;,&quot;*&quot;:Tn},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:&quot;responseXML&quot;,text:&quot;responseText&quot;},converters:{&quot;* text&quot;:e.String,&quot;text html&quot;:!0,&quot;text json&quot;:v.parseJSON,&quot;text xml&quot;:v.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:Cn(Sn),ajaxTransport:Cn(xn),ajax:function(e,n){function T(e,n,s,a){var l,y,b,w,S,T=n;if(E===2)return;E=2,u&amp;&amp;clearTimeout(u),o=t,i=a||&quot;&quot;,x.readyState=e&gt;0?4:0,s&amp;&amp;(w=An(c,x,s));if(e&gt;=200&amp;&amp;e&lt;300||e===304)c.ifModified&amp;&amp;(S=x.getResponseHeader(&quot;Last-Modified&quot;),S&amp;&amp;(v.lastModified[r]=S),S=x.getResponseHeader(&quot;Etag&quot;),S&amp;&amp;(v.etag[r]=S)),e===304?(T=&quot;notmodified&quot;,l=!0):(l=On(c,w),T=l.state,y=l.data,b=l.error,l=!b);else{b=T;if(!T||e)T=&quot;error&quot;,e&lt;0&amp;&amp;(e=0)}x.status=e,x.statusText=(n||T)+&quot;&quot;,l?d.resolveWith(h,[y,T,x]):d.rejectWith(h,[x,T,b]),x.statusCode(g),g=t,f&amp;&amp;p.trigger(&quot;ajax&quot;+(l?&quot;Success&quot;:&quot;Error&quot;),[x,c,l?y:b]),m.fireWith(h,[x,T]),f&amp;&amp;(p.trigger(&quot;ajaxComplete&quot;,[x,c]),--v.active||v.event.trigger(&quot;ajaxStop&quot;))}typeof e==&quot;object&quot;&amp;&amp;(n=e,e=t),n=n||{};var r,i,s,o,u,a,f,l,c=v.ajaxSetup({},n),h=c.context||c,p=h!==c&amp;&amp;(h.nodeType||h instanceof v)?v(h):v.event,d=v.Deferred(),m=v.Callbacks(&quot;once memory&quot;),g=c.statusCode||{},b={},w={},E=0,S=&quot;canceled&quot;,x={readyState:0,setRequestHeader:function(e,t){if(!E){var n=e.toLowerCase();e=w[n]=w[n]||e,b[e]=t}return this},getAllResponseHeaders:function(){return E===2?i:null},getResponseHeader:function(e){var n;if(E===2){if(!s){s={};while(n=pn.exec(i))s[n[1].toLowerCase()]=n[2]}n=s[e.toLowerCase()]}return n===t?null:n},overrideMimeType:function(e){return E||(c.mimeType=e),this},abort:function(e){return e=e||S,o&amp;&amp;o.abort(e),T(0,e),this}};d.promise(x),x.success=x.done,x.error=x.fail,x.complete=m.add,x.statusCode=function(e){if(e){var t;if(E&lt;2)for(t in e)g[t]=[g[t],e[t]];else t=e[x.status],x.always(t)}return this},c.url=((e||c.url)+&quot;&quot;).replace(hn,&quot;&quot;).replace(mn,ln[1]+&quot;//&quot;),c.dataTypes=v.trim(c.dataType||&quot;*&quot;).toLowerCase().split(y),c.crossDomain==null&amp;&amp;(a=wn.exec(c.url.toLowerCase()),c.crossDomain=!(!a||a[1]===ln[1]&amp;&amp;a[2]===ln[2]&amp;&amp;(a[3]||(a[1]===&quot;http:&quot;?80:443))==(ln[3]||(ln[1]===&quot;http:&quot;?80:443)))),c.data&amp;&amp;c.processData&amp;&amp;typeof c.data!=&quot;string&quot;&amp;&amp;(c.data=v.param(c.data,c.traditional)),kn(Sn,c,n,x);if(E===2)return x;f=c.global,c.type=c.type.toUpperCase(),c.hasContent=!vn.test(c.type),f&amp;&amp;v.active++===0&amp;&amp;v.event.trigger(&quot;ajaxStart&quot;);if(!c.hasContent){c.data&amp;&amp;(c.url+=(gn.test(c.url)?&quot;&amp;&quot;:&quot;?&quot;)+c.data,delete c.data),r=c.url;if(c.cache===!1){var N=v.now(),C=c.url.replace(bn,&quot;$1_=&quot;+N);c.url=C+(C===c.url?(gn.test(c.url)?&quot;&amp;&quot;:&quot;?&quot;)+&quot;_=&quot;+N:&quot;&quot;)}}(c.data&amp;&amp;c.hasContent&amp;&amp;c.contentType!==!1||n.contentType)&amp;&amp;x.setRequestHeader(&quot;Content-Type&quot;,c.contentType),c.ifModified&amp;&amp;(r=r||c.url,v.lastModified[r]&amp;&amp;x.setRequestHeader(&quot;If-Modified-Since&quot;,v.lastModified[r]),v.etag[r]&amp;&amp;x.setRequestHeader(&quot;If-None-Match&quot;,v.etag[r])),x.setRequestHeader(&quot;Accept&quot;,c.dataTypes[0]&amp;&amp;c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+(c.dataTypes[0]!==&quot;*&quot;?&quot;, &quot;+Tn+&quot;; q=0.01&quot;:&quot;&quot;):c.accepts[&quot;*&quot;]);for(l in c.headers)x.setRequestHeader(l,c.headers[l]);if(!c.beforeSend||c.beforeSend.call(h,x,c)!==!1&amp;&amp;E!==2){S=&quot;abort&quot;;for(l in{success:1,error:1,complete:1})x[l](c[l]);o=kn(xn,c,n,x);if(!o)T(-1,&quot;No Transport&quot;);else{x.readyState=1,f&amp;&amp;p.trigger(&quot;ajaxSend&quot;,[x,c]),c.async&amp;&amp;c.timeout&gt;0&amp;&amp;(u=setTimeout(function(){x.abort(&quot;timeout&quot;)},c.timeout));try{E=1,o.send(b,T)}catch(k){if(!(E&lt;2))throw k;T(-1,k)}}return x}return x.abort()},active:0,lastModified:{},etag:{}});var Mn=[],_n=/\?/,Dn=/(=)\?(?=&amp;|$)|\?\?/,Pn=v.now();v.ajaxSetup({jsonp:&quot;callback&quot;,jsonpCallback:function(){var e=Mn.pop()||v.expando+&quot;_&quot;+Pn++;return this[e]=!0,e}}),v.ajaxPrefilter(&quot;json jsonp&quot;,function(n,r,i){var s,o,u,a=n.data,f=n.url,l=n.jsonp!==!1,c=l&amp;&amp;Dn.test(f),h=l&amp;&amp;!c&amp;&amp;typeof a==&quot;string&quot;&amp;&amp;!(n.contentType||&quot;&quot;).indexOf(&quot;application/x-www-form-urlencoded&quot;)&amp;&amp;Dn.test(a);if(n.dataTypes[0]===&quot;jsonp&quot;||c||h)return s=n.jsonpCallback=v.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,o=e[s],c?n.url=f.replace(Dn,&quot;$1&quot;+s):h?n.data=a.replace(Dn,&quot;$1&quot;+s):l&amp;&amp;(n.url+=(_n.test(f)?&quot;&amp;&quot;:&quot;?&quot;)+n.jsonp+&quot;=&quot;+s),n.converters[&quot;script json&quot;]=function(){return u||v.error(s+&quot; was not called&quot;),u[0]},n.dataTypes[0]=&quot;json&quot;,e[s]=function(){u=arguments},i.always(function(){e[s]=o,n[s]&amp;&amp;(n.jsonpCallback=r.jsonpCallback,Mn.push(s)),u&amp;&amp;v.isFunction(o)&amp;&amp;o(u[0]),u=o=t}),&quot;script&quot;}),v.ajaxSetup({accepts:{script:&quot;text/javascript, application/javascript, application/ecmascript, application/x-ecmascript&quot;},contents:{script:/javascript|ecmascript/},converters:{&quot;text script&quot;:function(e){return v.globalEval(e),e}}}),v.ajaxPrefilter(&quot;script&quot;,function(e){e.cache===t&amp;&amp;(e.cache=!1),e.crossDomain&amp;&amp;(e.type=&quot;GET&quot;,e.global=!1)}),v.ajaxTransport(&quot;script&quot;,function(e){if(e.crossDomain){var n,r=i.head||i.getElementsByTagName(&quot;head&quot;)[0]||i.documentElement;return{send:function(s,o){n=i.createElement(&quot;script&quot;),n.async=&quot;async&quot;,e.scriptCharset&amp;&amp;(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,i){if(i||!n.readyState||/loaded|complete/.test(n.readyState))n.onload=n.onreadystatechange=null,r&amp;&amp;n.parentNode&amp;&amp;r.removeChild(n),n=t,i||o(200,&quot;success&quot;)},r.insertBefore(n,r.firstChild)},abort:function(){n&amp;&amp;n.onload(0,1)}}}});var Hn,Bn=e.ActiveXObject?function(){for(var e in Hn)Hn[e](0,1)}:!1,jn=0;v.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&amp;&amp;Fn()||In()}:Fn,function(e){v.extend(v.support,{ajax:!!e,cors:!!e&amp;&amp;&quot;withCredentials&quot;in e})}(v.ajaxSettings.xhr()),v.support.ajax&amp;&amp;v.ajaxTransport(function(n){if(!n.crossDomain||v.support.cors){var r;return{send:function(i,s){var o,u,a=n.xhr();n.username?a.open(n.type,n.url,n.async,n.username,n.password):a.open(n.type,n.url,n.async);if(n.xhrFields)for(u in n.xhrFields)a[u]=n.xhrFields[u];n.mimeType&amp;&amp;a.overrideMimeType&amp;&amp;a.overrideMimeType(n.mimeType),!n.crossDomain&amp;&amp;!i[&quot;X-Requested-With&quot;]&amp;&amp;(i[&quot;X-Requested-With&quot;]=&quot;XMLHttpRequest&quot;);try{for(u in i)a.setRequestHeader(u,i[u])}catch(f){}a.send(n.hasContent&amp;&amp;n.data||null),r=function(e,i){var u,f,l,c,h;try{if(r&amp;&amp;(i||a.readyState===4)){r=t,o&amp;&amp;(a.onreadystatechange=v.noop,Bn&amp;&amp;delete Hn[o]);if(i)a.readyState!==4&amp;&amp;a.abort();else{u=a.status,l=a.getAllResponseHeaders(),c={},h=a.responseXML,h&amp;&amp;h.documentElement&amp;&amp;(c.xml=h);try{c.text=a.responseText}catch(p){}try{f=a.statusText}catch(p){f=&quot;&quot;}!u&amp;&amp;n.isLocal&amp;&amp;!n.crossDomain?u=c.text?200:404:u===1223&amp;&amp;(u=204)}}}catch(d){i||s(-1,d)}c&amp;&amp;s(u,f,c,l)},n.async?a.readyState===4?setTimeout(r,0):(o=++jn,Bn&amp;&amp;(Hn||(Hn={},v(e).unload(Bn)),Hn[o]=r),a.onreadystatechange=r):r()},abort:function(){r&amp;&amp;r(0,1)}}}});var qn,Rn,Un=/^(?:toggle|show|hide)$/,zn=new RegExp(&quot;^(?:([-+])=|)(&quot;+m+&quot;)([a-z%]*)$&quot;,&quot;i&quot;),Wn=/queueHooks$/,Xn=[Gn],Vn={&quot;*&quot;:[function(e,t){var n,r,i=this.createTween(e,t),s=zn.exec(t),o=i.cur(),u=+o||0,a=1,f=20;if(s){n=+s[2],r=s[3]||(v.cssNumber[e]?&quot;&quot;:&quot;px&quot;);if(r!==&quot;px&quot;&amp;&amp;u){u=v.css(i.elem,e,!0)||n||1;do a=a||&quot;.5&quot;,u/=a,v.style(i.elem,e,u+r);while(a!==(a=i.cur()/o)&amp;&amp;a!==1&amp;&amp;--f)}i.unit=r,i.start=u,i.end=s[1]?u+(s[1]+1)*n:n}return i}]};v.Animation=v.extend(Kn,{tweener:function(e,t){v.isFunction(e)?(t=e,e=[&quot;*&quot;]):e=e.split(&quot; &quot;);var n,r=0,i=e.length;for(;r&lt;i;r++)n=e[r],Vn[n]=Vn[n]||[],Vn[n].unshift(t)},prefilter:function(e,t){t?Xn.unshift(e):Xn.push(e)}}),v.Tween=Yn,Yn.prototype={constructor:Yn,init:function(e,t,n,r,i,s){this.elem=e,this.prop=n,this.easing=i||&quot;swing&quot;,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=s||(v.cssNumber[n]?&quot;&quot;:&quot;px&quot;)},cur:function(){var e=Yn.propHooks[this.prop];return e&amp;&amp;e.get?e.get(this):Yn.propHooks._default.get(this)},run:function(e){var t,n=Yn.propHooks[this.prop];return this.options.duration?this.pos=t=v.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&amp;&amp;this.options.step.call(this.elem,this.now,this),n&amp;&amp;n.set?n.set(this):Yn.propHooks._default.set(this),this}},Yn.prototype.init.prototype=Yn.prototype,Yn.propHooks={_default:{get:function(e){var t;return e.elem[e.prop]==null||!!e.elem.style&amp;&amp;e.elem.style[e.prop]!=null?(t=v.css(e.elem,e.prop,!1,&quot;&quot;),!t||t===&quot;auto&quot;?0:t):e.elem[e.prop]},set:function(e){v.fx.step[e.prop]?v.fx.step[e.prop](e):e.elem.style&amp;&amp;(e.elem.style[v.cssProps[e.prop]]!=null||v.cssHooks[e.prop])?v.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},Yn.propHooks.scrollTop=Yn.propHooks.scrollLeft={set:function(e){e.elem.nodeType&amp;&amp;e.elem.parentNode&amp;&amp;(e.elem[e.prop]=e.now)}},v.each([&quot;toggle&quot;,&quot;show&quot;,&quot;hide&quot;],function(e,t){var n=v.fn[t];v.fn[t]=function(r,i,s){return r==null||typeof r==&quot;boolean&quot;||!e&amp;&amp;v.isFunction(r)&amp;&amp;v.isFunction(i)?n.apply(this,arguments):this.animate(Zn(t,!0),r,i,s)}}),v.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Gt).css(&quot;opacity&quot;,0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=v.isEmptyObject(e),s=v.speed(t,n,r),o=function(){var t=Kn(this,v.extend({},e),s);i&amp;&amp;t.stop(!0)};return i||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return typeof e!=&quot;string&quot;&amp;&amp;(r=n,n=e,e=t),n&amp;&amp;e!==!1&amp;&amp;this.queue(e||&quot;fx&quot;,[]),this.each(function(){var t=!0,n=e!=null&amp;&amp;e+&quot;queueHooks&quot;,s=v.timers,o=v._data(this);if(n)o[n]&amp;&amp;o[n].stop&amp;&amp;i(o[n]);else for(n in o)o[n]&amp;&amp;o[n].stop&amp;&amp;Wn.test(n)&amp;&amp;i(o[n]);for(n=s.length;n--;)s[n].elem===this&amp;&amp;(e==null||s[n].queue===e)&amp;&amp;(s[n].anim.stop(r),t=!1,s.splice(n,1));(t||!r)&amp;&amp;v.dequeue(this,e)})}}),v.each({slideDown:Zn(&quot;show&quot;),slideUp:Zn(&quot;hide&quot;),slideToggle:Zn(&quot;toggle&quot;),fadeIn:{opacity:&quot;show&quot;},fadeOut:{opacity:&quot;hide&quot;},fadeToggle:{opacity:&quot;toggle&quot;}},function(e,t){v.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),v.speed=function(e,t,n){var r=e&amp;&amp;typeof e==&quot;object&quot;?v.extend({},e):{complete:n||!n&amp;&amp;t||v.isFunction(e)&amp;&amp;e,duration:e,easing:n&amp;&amp;t||t&amp;&amp;!v.isFunction(t)&amp;&amp;t};r.duration=v.fx.off?0:typeof r.duration==&quot;number&quot;?r.duration:r.duration in v.fx.speeds?v.fx.speeds[r.duration]:v.fx.speeds._default;if(r.queue==null||r.queue===!0)r.queue=&quot;fx&quot;;return r.old=r.complete,r.complete=function(){v.isFunction(r.old)&amp;&amp;r.old.call(this),r.queue&amp;&amp;v.dequeue(this,r.queue)},r},v.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},v.timers=[],v.fx=Yn.prototype.init,v.fx.tick=function(){var e,n=v.timers,r=0;qn=v.now();for(;r&lt;n.length;r++)e=n[r],!e()&amp;&amp;n[r]===e&amp;&amp;n.splice(r--,1);n.length||v.fx.stop(),qn=t},v.fx.timer=function(e){e()&amp;&amp;v.timers.push(e)&amp;&amp;!Rn&amp;&amp;(Rn=setInterval(v.fx.tick,v.fx.interval))},v.fx.interval=13,v.fx.stop=function(){clearInterval(Rn),Rn=null},v.fx.speeds={slow:600,fast:200,_default:400},v.fx.step={},v.expr&amp;&amp;v.expr.filters&amp;&amp;(v.expr.filters.animated=function(e){return v.grep(v.timers,function(t){return e===t.elem}).length});var er=/^(?:body|html)$/i;v.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){v.offset.setOffset(this,e,t)});var n,r,i,s,o,u,a,f={top:0,left:0},l=this[0],c=l&amp;&amp;l.ownerDocument;if(!c)return;return(r=c.body)===l?v.offset.bodyOffset(l):(n=c.documentElement,v.contains(n,l)?(typeof l.getBoundingClientRect!=&quot;undefined&quot;&amp;&amp;(f=l.getBoundingClientRect()),i=tr(c),s=n.clientTop||r.clientTop||0,o=n.clientLeft||r.clientLeft||0,u=i.pageYOffset||n.scrollTop,a=i.pageXOffset||n.scrollLeft,{top:f.top+u-s,left:f.left+a-o}):f)},v.offset={bodyOffset:function(e){var t=e.offsetTop,n=e.offsetLeft;return v.support.doesNotIncludeMarginInBodyOffset&amp;&amp;(t+=parseFloat(v.css(e,&quot;marginTop&quot;))||0,n+=parseFloat(v.css(e,&quot;marginLeft&quot;))||0),{top:t,left:n}},setOffset:function(e,t,n){var r=v.css(e,&quot;position&quot;);r===&quot;static&quot;&amp;&amp;(e.style.position=&quot;relative&quot;);var i=v(e),s=i.offset(),o=v.css(e,&quot;top&quot;),u=v.css(e,&quot;left&quot;),a=(r===&quot;absolute&quot;||r===&quot;fixed&quot;)&amp;&amp;v.inArray(&quot;auto&quot;,[o,u])&gt;-1,f={},l={},c,h;a?(l=i.position(),c=l.top,h=l.left):(c=parseFloat(o)||0,h=parseFloat(u)||0),v.isFunction(t)&amp;&amp;(t=t.call(e,n,s)),t.top!=null&amp;&amp;(f.top=t.top-s.top+c),t.left!=null&amp;&amp;(f.left=t.left-s.left+h),&quot;using&quot;in t?t.using.call(e,f):i.css(f)}},v.fn.extend({position:function(){if(!this[0])return;var e=this[0],t=this.offsetParent(),n=this.offset(),r=er.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(v.css(e,&quot;marginTop&quot;))||0,n.left-=parseFloat(v.css(e,&quot;marginLeft&quot;))||0,r.top+=parseFloat(v.css(t[0],&quot;borderTopWidth&quot;))||0,r.left+=parseFloat(v.css(t[0],&quot;borderLeftWidth&quot;))||0,{top:n.top-r.top,left:n.left-r.left}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||i.body;while(e&amp;&amp;!er.test(e.nodeName)&amp;&amp;v.css(e,&quot;position&quot;)===&quot;static&quot;)e=e.offsetParent;return e||i.body})}}),v.each({scrollLeft:&quot;pageXOffset&quot;,scrollTop:&quot;pageYOffset&quot;},function(e,n){var r=/Y/.test(n);v.fn[e]=function(i){return v.access(this,function(e,i,s){var o=tr(e);if(s===t)return o?n in o?o[n]:o.document.documentElement[i]:e[i];o?o.scrollTo(r?v(o).scrollLeft():s,r?s:v(o).scrollTop()):e[i]=s},e,i,arguments.length,null)}}),v.each({Height:&quot;height&quot;,Width:&quot;width&quot;},function(e,n){v.each({padding:&quot;inner&quot;+e,content:n,&quot;&quot;:&quot;outer&quot;+e},function(r,i){v.fn[i]=function(i,s){var o=arguments.length&amp;&amp;(r||typeof i!=&quot;boolean&quot;),u=r||(i===!0||s===!0?&quot;margin&quot;:&quot;border&quot;);return v.access(this,function(n,r,i){var s;return v.isWindow(n)?n.document.documentElement[&quot;client&quot;+e]:n.nodeType===9?(s=n.documentElement,Math.max(n.body[&quot;scroll&quot;+e],s[&quot;scroll&quot;+e],n.body[&quot;offset&quot;+e],s[&quot;offset&quot;+e],s[&quot;client&quot;+e])):i===t?v.css(n,r,i,u):v.style(n,r,i,u)},n,o?i:t,o,null)}})}),e.jQuery=e.$=v,typeof define==&quot;function&quot;&amp;&amp;define.amd&amp;&amp;define.amd.jQuery&amp;&amp;define(&quot;jquery&quot;,[],function(){return v})})(window);
//]]&gt;</pre>
</div>
<div title="jquery.json-v2.4.0.js" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405170915" tags="systemConfig jquery js excludeTimeline" content-type="text/javascript" changecount="3">
<pre>/*! jQuery JSON plugin 2.4.0 | code.google.com/p/jquery-json */
(function($){'use strict';var escape=/[&quot;\\\x00-\x1f\x7f-\x9f]/g,meta={'\b':'\\b','\t':'\\t','\n':'\\n','\f':'\\f','\r':'\\r','&quot;':'\\&quot;','\\':'\\\\'},hasOwn=Object.prototype.hasOwnProperty;$.toJSON=typeof JSON==='object'&amp;&amp;JSON.stringify?JSON.stringify:function(o){if(o===null){return'null';}
var pairs,k,name,val,type=$.type(o);if(type==='undefined'){return undefined;}
if(type==='number'||type==='boolean'){return String(o);}
if(type==='string'){return $.quoteString(o);}
if(typeof o.toJSON==='function'){return $.toJSON(o.toJSON());}
if(type==='date'){var month=o.getUTCMonth()+1,day=o.getUTCDate(),year=o.getUTCFullYear(),hours=o.getUTCHours(),minutes=o.getUTCMinutes(),seconds=o.getUTCSeconds(),milli=o.getUTCMilliseconds();if(month&lt;10){month='0'+month;}
if(day&lt;10){day='0'+day;}
if(hours&lt;10){hours='0'+hours;}
if(minutes&lt;10){minutes='0'+minutes;}
if(seconds&lt;10){seconds='0'+seconds;}
if(milli&lt;100){milli='0'+milli;}
if(milli&lt;10){milli='0'+milli;}
return'&quot;'+year+'-'+month+'-'+day+'T'+
hours+':'+minutes+':'+seconds+'.'+milli+'Z&quot;';}
pairs=[];if($.isArray(o)){for(k=0;k&lt;o.length;k++){pairs.push($.toJSON(o[k])||'null');}
return'['+pairs.join(',')+']';}
if(typeof o==='object'){for(k in o){if(hasOwn.call(o,k)){type=typeof k;if(type==='number'){name='&quot;'+k+'&quot;';}else if(type==='string'){name=$.quoteString(k);}else{continue;}
type=typeof o[k];if(type!=='function'&amp;&amp;type!=='undefined'){val=$.toJSON(o[k]);pairs.push(name+':'+val);}}}
return'{'+pairs.join(',')+'}';}};$.evalJSON=typeof JSON==='object'&amp;&amp;JSON.parse?JSON.parse:function(str){return eval('('+str+')');};$.secureEvalJSON=typeof JSON==='object'&amp;&amp;JSON.parse?JSON.parse:function(str){var filtered=str.replace(/\\[&quot;\\\/bfnrtu]/g,'@').replace(/&quot;[^&quot;\\\n\r]*&quot;|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,']').replace(/(?:^|:|,)(?:\s*\[)+/g,'');if(/^[\],:{}\s]*$/.test(filtered)){return eval('('+str+')');}
throw new SyntaxError('Error parsing JSON, source is not valid.');};$.quoteString=function(str){if(str.match(escape)){return'&quot;'+str.replace(escape,function(a){var c=meta[a];if(typeof c==='string'){return c;}
c=a.charCodeAt();return'\\u00'+Math.floor(c/16).toString(16)+(c%16).toString(16);})+'&quot;';}
return'&quot;'+str+'&quot;';};}(jQuery));</pre>
</div>
<div title="jquery.mousewheel.js" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405180529" tags="systemConfig js excludeTimeline" content-type="text/javascript" alias="" changecount="4">
<pre>/*! Copyright (c) 2013 Brandon Aaron (http://brandon.aaron.sh)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Version: 3.1.9
 *
 * Requires: jQuery 1.2.2+
 */

(function (factory) {
    if ( typeof define === 'function' &amp;&amp; define.amd ) {
        // AMD. Register as an anonymous module.
        define(['jquery'], factory);
    } else if (typeof exports === 'object') {
        // Node/CommonJS style for Browserify
        module.exports = factory;
    } else {
        // Browser globals
        factory(jQuery);
    }
}(function ($) {

    var toFix  = ['wheel', 'mousewheel', 'DOMMouseScroll', 'MozMousePixelScroll'],
        toBind = ( 'onwheel' in document || document.documentMode &gt;= 9 ) ?
                    ['wheel'] : ['mousewheel', 'DomMouseScroll', 'MozMousePixelScroll'],
        slice  = Array.prototype.slice,
        nullLowestDeltaTimeout, lowestDelta;

    if ( $.event.fixHooks ) {
        for ( var i = toFix.length; i; ) {
            $.event.fixHooks[ toFix[--i] ] = $.event.mouseHooks;
        }
    }

    var special = $.event.special.mousewheel = {
        version: '3.1.9',

        setup: function() {
            if ( this.addEventListener ) {
                for ( var i = toBind.length; i; ) {
                    this.addEventListener( toBind[--i], handler, false );
                }
            } else {
                this.onmousewheel = handler;
            }
            // Store the line height and page height for this particular element
            $.data(this, 'mousewheel-line-height', special.getLineHeight(this));
            $.data(this, 'mousewheel-page-height', special.getPageHeight(this));
        },

        teardown: function() {
            if ( this.removeEventListener ) {
                for ( var i = toBind.length; i; ) {
                    this.removeEventListener( toBind[--i], handler, false );
                }
            } else {
                this.onmousewheel = null;
            }
        },

        getLineHeight: function(elem) {
            return parseInt($(elem)['offsetParent' in $.fn ? 'offsetParent' : 'parent']().css('fontSize'), 10);
        },

        getPageHeight: function(elem) {
            return $(elem).height();
        },

        settings: {
            adjustOldDeltas: true
        }
    };

    $.fn.extend({
        mousewheel: function(fn) {
            return fn ? this.bind('mousewheel', fn) : this.trigger('mousewheel');
        },

        unmousewheel: function(fn) {
            return this.unbind('mousewheel', fn);
        }
    });


    function handler(event) {
        var orgEvent   = event || window.event,
            args       = slice.call(arguments, 1),
            delta      = 0,
            deltaX     = 0,
            deltaY     = 0,
            absDelta   = 0;
        event = $.event.fix(orgEvent);
        event.type = 'mousewheel';

        // Old school scrollwheel delta
        if ( 'detail'      in orgEvent ) { deltaY = orgEvent.detail * -1;      }
        if ( 'wheelDelta'  in orgEvent ) { deltaY = orgEvent.wheelDelta;       }
        if ( 'wheelDeltaY' in orgEvent ) { deltaY = orgEvent.wheelDeltaY;      }
        if ( 'wheelDeltaX' in orgEvent ) { deltaX = orgEvent.wheelDeltaX * -1; }

        // Firefox &lt; 17 horizontal scrolling related to DOMMouseScroll event
        if ( 'axis' in orgEvent &amp;&amp; orgEvent.axis === orgEvent.HORIZONTAL_AXIS ) {
            deltaX = deltaY * -1;
            deltaY = 0;
        }

        // Set delta to be deltaY or deltaX if deltaY is 0 for backwards compatabilitiy
        delta = deltaY === 0 ? deltaX : deltaY;

        // New school wheel delta (wheel event)
        if ( 'deltaY' in orgEvent ) {
            deltaY = orgEvent.deltaY * -1;
            delta  = deltaY;
        }
        if ( 'deltaX' in orgEvent ) {
            deltaX = orgEvent.deltaX;
            if ( deltaY === 0 ) { delta  = deltaX * -1; }
        }

        // No change actually happened, no reason to go any further
        if ( deltaY === 0 &amp;&amp; deltaX === 0 ) { return; }

        // Need to convert lines and pages to pixels if we aren't already in pixels
        // There are three delta modes:
        //   * deltaMode 0 is by pixels, nothing to do
        //   * deltaMode 1 is by lines
        //   * deltaMode 2 is by pages
        if ( orgEvent.deltaMode === 1 ) {
            var lineHeight = $.data(this, 'mousewheel-line-height');
            delta  *= lineHeight;
            deltaY *= lineHeight;
            deltaX *= lineHeight;
        } else if ( orgEvent.deltaMode === 2 ) {
            var pageHeight = $.data(this, 'mousewheel-page-height');
            delta  *= pageHeight;
            deltaY *= pageHeight;
            deltaX *= pageHeight;
        }

        // Store lowest absolute delta to normalize the delta values
        absDelta = Math.max( Math.abs(deltaY), Math.abs(deltaX) );

        if ( !lowestDelta || absDelta &lt; lowestDelta ) {
            lowestDelta = absDelta;

            // Adjust older deltas if necessary
            if ( shouldAdjustOldDeltas(orgEvent, absDelta) ) {
                lowestDelta /= 40;
            }
        }

        // Adjust older deltas if necessary
        if ( shouldAdjustOldDeltas(orgEvent, absDelta) ) {
            // Divide all the things by 40!
            delta  /= 40;
            deltaX /= 40;
            deltaY /= 40;
        }

        // Get a whole, normalized value for the deltas
        delta  = Math[ delta  &gt;= 1 ? 'floor' : 'ceil' ](delta  / lowestDelta);
        deltaX = Math[ deltaX &gt;= 1 ? 'floor' : 'ceil' ](deltaX / lowestDelta);
        deltaY = Math[ deltaY &gt;= 1 ? 'floor' : 'ceil' ](deltaY / lowestDelta);

        // Add information to the event object
        event.deltaX = deltaX;
        event.deltaY = deltaY;
        event.deltaFactor = lowestDelta;
        // Go ahead and set deltaMode to 0 since we converted to pixels
        // Although this is a little odd since we overwrite the deltaX/Y
        // properties with normalized deltas.
        event.deltaMode = 0;

        // Add event and delta to the front of the arguments
        args.unshift(event, delta, deltaX, deltaY);

        // Clearout lowestDelta after sometime to better
        // handle multiple device types that give different
        // a different lowestDelta
        // Ex: trackpad = 3 and mouse wheel = 120
        if (nullLowestDeltaTimeout) { clearTimeout(nullLowestDeltaTimeout); }
        nullLowestDeltaTimeout = setTimeout(nullLowestDelta, 200);

        return ($.event.dispatch || $.event.handle).apply(this, args);
    }

    function nullLowestDelta() {
        lowestDelta = null;
    }

    function shouldAdjustOldDeltas(orgEvent, absDelta) {
        // If this is an older event and the delta is divisable by 120,
        // then we are assuming that the browser is treating this as an
        // older mouse wheel event and that we should divide the deltas
        // by 40 to try and get a more usable deltaFactor.
        // Side note, this actually impacts the reported scroll distance
        // in older browsers and can cause scrolling to be slower than native.
        // Turn this off by setting $.event.special.mousewheel.settings.adjustOldDeltas to false.
        return special.settings.adjustOldDeltas &amp;&amp; orgEvent.type === 'mousewheel' &amp;&amp; absDelta % 120 === 0;
    }

}));
</pre>
</div>
<div title="jquery.ui.button.min.js" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405151018" tags="js excludeTimeline" content-type="text/javascript" changecount="2">
<pre>/*! jQuery UI - v1.10.4 - 2014-05-12
* http://jqueryui.com
* Copyright 2014 jQuery Foundation and other contributors; Licensed MIT */

(function(t){var e,i=&quot;ui-button ui-widget ui-state-default ui-corner-all&quot;,s=&quot;ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only&quot;,n=function(){var e=t(this);setTimeout(function(){e.find(&quot;:ui-button&quot;).button(&quot;refresh&quot;)},1)},o=function(e){var i=e.name,s=e.form,n=t([]);return i&amp;&amp;(i=i.replace(/'/g,&quot;\\'&quot;),n=s?t(s).find(&quot;[name='&quot;+i+&quot;']&quot;):t(&quot;[name='&quot;+i+&quot;']&quot;,e.ownerDocument).filter(function(){return!this.form})),n};t.widget(&quot;ui.button&quot;,{version:&quot;1.10.4&quot;,defaultElement:&quot;&lt;button&gt;&quot;,options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest(&quot;form&quot;).unbind(&quot;reset&quot;+this.eventNamespace).bind(&quot;reset&quot;+this.eventNamespace,n),&quot;boolean&quot;!=typeof this.options.disabled?this.options.disabled=!!this.element.prop(&quot;disabled&quot;):this.element.prop(&quot;disabled&quot;,this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr(&quot;title&quot;);var s=this,r=this.options,a=&quot;checkbox&quot;===this.type||&quot;radio&quot;===this.type,h=a?&quot;&quot;:&quot;ui-state-active&quot;;null===r.label&amp;&amp;(r.label=&quot;input&quot;===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(i).attr(&quot;role&quot;,&quot;button&quot;).bind(&quot;mouseenter&quot;+this.eventNamespace,function(){r.disabled||this===e&amp;&amp;t(this).addClass(&quot;ui-state-active&quot;)}).bind(&quot;mouseleave&quot;+this.eventNamespace,function(){r.disabled||t(this).removeClass(h)}).bind(&quot;click&quot;+this.eventNamespace,function(t){r.disabled&amp;&amp;(t.preventDefault(),t.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass(&quot;ui-state-focus&quot;)},blur:function(){this.buttonElement.removeClass(&quot;ui-state-focus&quot;)}}),a&amp;&amp;this.element.bind(&quot;change&quot;+this.eventNamespace,function(){s.refresh()}),&quot;checkbox&quot;===this.type?this.buttonElement.bind(&quot;click&quot;+this.eventNamespace,function(){return r.disabled?!1:undefined}):&quot;radio&quot;===this.type?this.buttonElement.bind(&quot;click&quot;+this.eventNamespace,function(){if(r.disabled)return!1;t(this).addClass(&quot;ui-state-active&quot;),s.buttonElement.attr(&quot;aria-pressed&quot;,&quot;true&quot;);var e=s.element[0];o(e).not(e).map(function(){return t(this).button(&quot;widget&quot;)[0]}).removeClass(&quot;ui-state-active&quot;).attr(&quot;aria-pressed&quot;,&quot;false&quot;)}):(this.buttonElement.bind(&quot;mousedown&quot;+this.eventNamespace,function(){return r.disabled?!1:(t(this).addClass(&quot;ui-state-active&quot;),e=this,s.document.one(&quot;mouseup&quot;,function(){e=null}),undefined)}).bind(&quot;mouseup&quot;+this.eventNamespace,function(){return r.disabled?!1:(t(this).removeClass(&quot;ui-state-active&quot;),undefined)}).bind(&quot;keydown&quot;+this.eventNamespace,function(e){return r.disabled?!1:((e.keyCode===t.ui.keyCode.SPACE||e.keyCode===t.ui.keyCode.ENTER)&amp;&amp;t(this).addClass(&quot;ui-state-active&quot;),undefined)}).bind(&quot;keyup&quot;+this.eventNamespace+&quot; blur&quot;+this.eventNamespace,function(){t(this).removeClass(&quot;ui-state-active&quot;)}),this.buttonElement.is(&quot;a&quot;)&amp;&amp;this.buttonElement.keyup(function(e){e.keyCode===t.ui.keyCode.SPACE&amp;&amp;t(this).click()})),this._setOption(&quot;disabled&quot;,r.disabled),this._resetButton()},_determineButtonType:function(){var t,e,i;this.type=this.element.is(&quot;[type=checkbox]&quot;)?&quot;checkbox&quot;:this.element.is(&quot;[type=radio]&quot;)?&quot;radio&quot;:this.element.is(&quot;input&quot;)?&quot;input&quot;:&quot;button&quot;,&quot;checkbox&quot;===this.type||&quot;radio&quot;===this.type?(t=this.element.parents().last(),e=&quot;label[for='&quot;+this.element.attr(&quot;id&quot;)+&quot;']&quot;,this.buttonElement=t.find(e),this.buttonElement.length||(t=t.length?t.siblings():this.element.siblings(),this.buttonElement=t.filter(e),this.buttonElement.length||(this.buttonElement=t.find(e))),this.element.addClass(&quot;ui-helper-hidden-accessible&quot;),i=this.element.is(&quot;:checked&quot;),i&amp;&amp;this.buttonElement.addClass(&quot;ui-state-active&quot;),this.buttonElement.prop(&quot;aria-pressed&quot;,i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass(&quot;ui-helper-hidden-accessible&quot;),this.buttonElement.removeClass(i+&quot; ui-state-active &quot;+s).removeAttr(&quot;role&quot;).removeAttr(&quot;aria-pressed&quot;).html(this.buttonElement.find(&quot;.ui-button-text&quot;).html()),this.hasTitle||this.buttonElement.removeAttr(&quot;title&quot;)},_setOption:function(t,e){return this._super(t,e),&quot;disabled&quot;===t?(this.element.prop(&quot;disabled&quot;,!!e),e&amp;&amp;this.buttonElement.removeClass(&quot;ui-state-focus&quot;),undefined):(this._resetButton(),undefined)},refresh:function(){var e=this.element.is(&quot;input, button&quot;)?this.element.is(&quot;:disabled&quot;):this.element.hasClass(&quot;ui-button-disabled&quot;);e!==this.options.disabled&amp;&amp;this._setOption(&quot;disabled&quot;,e),&quot;radio&quot;===this.type?o(this.element[0]).each(function(){t(this).is(&quot;:checked&quot;)?t(this).button(&quot;widget&quot;).addClass(&quot;ui-state-active&quot;).attr(&quot;aria-pressed&quot;,&quot;true&quot;):t(this).button(&quot;widget&quot;).removeClass(&quot;ui-state-active&quot;).attr(&quot;aria-pressed&quot;,&quot;false&quot;)}):&quot;checkbox&quot;===this.type&amp;&amp;(this.element.is(&quot;:checked&quot;)?this.buttonElement.addClass(&quot;ui-state-active&quot;).attr(&quot;aria-pressed&quot;,&quot;true&quot;):this.buttonElement.removeClass(&quot;ui-state-active&quot;).attr(&quot;aria-pressed&quot;,&quot;false&quot;))},_resetButton:function(){if(&quot;input&quot;===this.type)return this.options.label&amp;&amp;this.element.val(this.options.label),undefined;var e=this.buttonElement.removeClass(s),i=t(&quot;&lt;span&gt;&lt;/span&gt;&quot;,this.document[0]).addClass(&quot;ui-button-text&quot;).html(this.options.label).appendTo(e.empty()).text(),n=this.options.icons,o=n.primary&amp;&amp;n.secondary,r=[];n.primary||n.secondary?(this.options.text&amp;&amp;r.push(&quot;ui-button-text-icon&quot;+(o?&quot;s&quot;:n.primary?&quot;-primary&quot;:&quot;-secondary&quot;)),n.primary&amp;&amp;e.prepend(&quot;&lt;span class='ui-button-icon-primary ui-icon &quot;+n.primary+&quot;'&gt;&lt;/span&gt;&quot;),n.secondary&amp;&amp;e.append(&quot;&lt;span class='ui-button-icon-secondary ui-icon &quot;+n.secondary+&quot;'&gt;&lt;/span&gt;&quot;),this.options.text||(r.push(o?&quot;ui-button-icons-only&quot;:&quot;ui-button-icon-only&quot;),this.hasTitle||e.attr(&quot;title&quot;,t.trim(i)))):r.push(&quot;ui-button-text-only&quot;),e.addClass(r.join(&quot; &quot;))}}),t.widget(&quot;ui.buttonset&quot;,{version:&quot;1.10.4&quot;,options:{items:&quot;button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)&quot;},_create:function(){this.element.addClass(&quot;ui-buttonset&quot;)},_init:function(){this.refresh()},_setOption:function(t,e){&quot;disabled&quot;===t&amp;&amp;this.buttons.button(&quot;option&quot;,t,e),this._super(t,e)},refresh:function(){var e=&quot;rtl&quot;===this.element.css(&quot;direction&quot;);this.buttons=this.element.find(this.options.items).filter(&quot;:ui-button&quot;).button(&quot;refresh&quot;).end().not(&quot;:ui-button&quot;).button().end().map(function(){return t(this).button(&quot;widget&quot;)[0]}).removeClass(&quot;ui-corner-all ui-corner-left ui-corner-right&quot;).filter(&quot;:first&quot;).addClass(e?&quot;ui-corner-right&quot;:&quot;ui-corner-left&quot;).end().filter(&quot;:last&quot;).addClass(e?&quot;ui-corner-left&quot;:&quot;ui-corner-right&quot;).end().end()},_destroy:function(){this.element.removeClass(&quot;ui-buttonset&quot;),this.buttons.map(function(){return t(this).button(&quot;widget&quot;)[0]}).removeClass(&quot;ui-corner-left ui-corner-right&quot;).end().button(&quot;destroy&quot;)}})})(jQuery);</pre>
</div>
<div title="jquery.ui.core.min.js" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405150955" tags="js excludeTimeline" content-type="text/javascript" changecount="3">
<pre>/*! jQuery UI - v1.10.4 - 2014-05-14
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.position.js
* Copyright 2014 jQuery Foundation and other contributors; Licensed MIT */

(function(t,e){function n(e,n){var r,s,o,a=e.nodeName.toLowerCase();return&quot;area&quot;===a?(r=e.parentNode,s=r.name,e.href&amp;&amp;s&amp;&amp;&quot;map&quot;===r.nodeName.toLowerCase()?(o=t(&quot;img[usemap=#&quot;+s+&quot;]&quot;)[0],!!o&amp;&amp;i(o)):!1):(/input|select|textarea|button|object/.test(a)?!e.disabled:&quot;a&quot;===a?e.href||n:n)&amp;&amp;i(e)}function i(e){return t.expr.filters.visible(e)&amp;&amp;!t(e).parents().addBack().filter(function(){return&quot;hidden&quot;===t.css(this,&quot;visibility&quot;)}).length}var r=0,s=/^ui-id-\d+$/;t.ui=t.ui||{},t.extend(t.ui,{version:&quot;1.10.4&quot;,keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({focus:function(e){return function(n,i){return&quot;number&quot;==typeof n?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),i&amp;&amp;i.call(e)},n)}):e.apply(this,arguments)}}(t.fn.focus),scrollParent:function(){var e;return e=t.ui.ie&amp;&amp;/(static|relative)/.test(this.css(&quot;position&quot;))||/absolute/.test(this.css(&quot;position&quot;))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(t.css(this,&quot;position&quot;))&amp;&amp;/(auto|scroll)/.test(t.css(this,&quot;overflow&quot;)+t.css(this,&quot;overflow-y&quot;)+t.css(this,&quot;overflow-x&quot;))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(t.css(this,&quot;overflow&quot;)+t.css(this,&quot;overflow-y&quot;)+t.css(this,&quot;overflow-x&quot;))}).eq(0),/fixed/.test(this.css(&quot;position&quot;))||!e.length?t(document):e},zIndex:function(n){if(n!==e)return this.css(&quot;zIndex&quot;,n);if(this.length)for(var i,r,s=t(this[0]);s.length&amp;&amp;s[0]!==document;){if(i=s.css(&quot;position&quot;),(&quot;absolute&quot;===i||&quot;relative&quot;===i||&quot;fixed&quot;===i)&amp;&amp;(r=parseInt(s.css(&quot;zIndex&quot;),10),!isNaN(r)&amp;&amp;0!==r))return r;s=s.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id=&quot;ui-id-&quot;+ ++r)})},removeUniqueId:function(){return this.each(function(){s.test(this.id)&amp;&amp;t(this).removeAttr(&quot;id&quot;)})}}),t.extend(t.expr[&quot;:&quot;],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(n){return!!t.data(n,e)}}):function(e,n,i){return!!t.data(e,i[3])},focusable:function(e){return n(e,!isNaN(t.attr(e,&quot;tabindex&quot;)))},tabbable:function(e){var i=t.attr(e,&quot;tabindex&quot;),r=isNaN(i);return(r||i&gt;=0)&amp;&amp;n(e,!r)}}),t(&quot;&lt;a&gt;&quot;).outerWidth(1).jquery||t.each([&quot;Width&quot;,&quot;Height&quot;],function(n,i){function r(e,n,i,r){return t.each(s,function(){n-=parseFloat(t.css(e,&quot;padding&quot;+this))||0,i&amp;&amp;(n-=parseFloat(t.css(e,&quot;border&quot;+this+&quot;Width&quot;))||0),r&amp;&amp;(n-=parseFloat(t.css(e,&quot;margin&quot;+this))||0)}),n}var s=&quot;Width&quot;===i?[&quot;Left&quot;,&quot;Right&quot;]:[&quot;Top&quot;,&quot;Bottom&quot;],o=i.toLowerCase(),a={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn[&quot;inner&quot;+i]=function(n){return n===e?a[&quot;inner&quot;+i].call(this):this.each(function(){t(this).css(o,r(this,n)+&quot;px&quot;)})},t.fn[&quot;outer&quot;+i]=function(e,n){return&quot;number&quot;!=typeof e?a[&quot;outer&quot;+i].call(this,e):this.each(function(){t(this).css(o,r(this,e,!0,n)+&quot;px&quot;)})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t(&quot;&lt;a&gt;&quot;).data(&quot;a-b&quot;,&quot;a&quot;).removeData(&quot;a-b&quot;).data(&quot;a-b&quot;)&amp;&amp;(t.fn.removeData=function(e){return function(n){return arguments.length?e.call(this,t.camelCase(n)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.support.selectstart=&quot;onselectstart&quot;in document.createElement(&quot;div&quot;),t.fn.extend({disableSelection:function(){return this.bind((t.support.selectstart?&quot;selectstart&quot;:&quot;mousedown&quot;)+&quot;.ui-disableSelection&quot;,function(t){t.preventDefault()})},enableSelection:function(){return this.unbind(&quot;.ui-disableSelection&quot;)}}),t.extend(t.ui,{plugin:{add:function(e,n,i){var r,s=t.ui[e].prototype;for(r in i)s.plugins[r]=s.plugins[r]||[],s.plugins[r].push([n,i[r]])},call:function(t,e,n){var i,r=t.plugins[e];if(r&amp;&amp;t.element[0].parentNode&amp;&amp;11!==t.element[0].parentNode.nodeType)for(i=0;r.length&gt;i;i++)t.options[r[i][0]]&amp;&amp;r[i][1].apply(t.element,n)}},hasScroll:function(e,n){if(&quot;hidden&quot;===t(e).css(&quot;overflow&quot;))return!1;var i=n&amp;&amp;&quot;left&quot;===n?&quot;scrollLeft&quot;:&quot;scrollTop&quot;,r=!1;return e[i]&gt;0?!0:(e[i]=1,r=e[i]&gt;0,e[i]=0,r)}})})(jQuery);(function(t,e){var i=0,s=Array.prototype.slice,n=t.cleanData;t.cleanData=function(e){for(var i,s=0;null!=(i=e[s]);s++)try{t(i).triggerHandler(&quot;remove&quot;)}catch(o){}n(e)},t.widget=function(i,s,n){var o,r,h,a,l={},c=i.split(&quot;.&quot;)[0];i=i.split(&quot;.&quot;)[1],o=c+&quot;-&quot;+i,n||(n=s,s=t.Widget),t.expr[&quot;:&quot;][o.toLowerCase()]=function(e){return!!t.data(e,o)},t[c]=t[c]||{},r=t[c][i],h=t[c][i]=function(t,i){return this._createWidget?(arguments.length&amp;&amp;this._createWidget(t,i),e):new h(t,i)},t.extend(h,r,{version:n.version,_proto:t.extend({},n),_childConstructors:[]}),a=new s,a.options=t.widget.extend({},a.options),t.each(n,function(i,n){return t.isFunction(n)?(l[i]=function(){var t=function(){return s.prototype[i].apply(this,arguments)},e=function(t){return s.prototype[i].apply(this,t)};return function(){var i,s=this._super,o=this._superApply;return this._super=t,this._superApply=e,i=n.apply(this,arguments),this._super=s,this._superApply=o,i}}(),e):(l[i]=n,e)}),h.prototype=t.widget.extend(a,{widgetEventPrefix:r?a.widgetEventPrefix||i:i},l,{constructor:h,namespace:c,widgetName:i,widgetFullName:o}),r?(t.each(r._childConstructors,function(e,i){var s=i.prototype;t.widget(s.namespace+&quot;.&quot;+s.widgetName,h,i._proto)}),delete r._childConstructors):s._childConstructors.push(h),t.widget.bridge(i,h)},t.widget.extend=function(i){for(var n,o,r=s.call(arguments,1),h=0,a=r.length;a&gt;h;h++)for(n in r[h])o=r[h][n],r[h].hasOwnProperty(n)&amp;&amp;o!==e&amp;&amp;(i[n]=t.isPlainObject(o)?t.isPlainObject(i[n])?t.widget.extend({},i[n],o):t.widget.extend({},o):o);return i},t.widget.bridge=function(i,n){var o=n.prototype.widgetFullName||i;t.fn[i]=function(r){var h=&quot;string&quot;==typeof r,a=s.call(arguments,1),l=this;return r=!h&amp;&amp;a.length?t.widget.extend.apply(null,[r].concat(a)):r,h?this.each(function(){var s,n=t.data(this,o);return n?t.isFunction(n[r])&amp;&amp;&quot;_&quot;!==r.charAt(0)?(s=n[r].apply(n,a),s!==n&amp;&amp;s!==e?(l=s&amp;&amp;s.jquery?l.pushStack(s.get()):s,!1):e):t.error(&quot;no such method '&quot;+r+&quot;' for &quot;+i+&quot; widget instance&quot;):t.error(&quot;cannot call methods on &quot;+i+&quot; prior to initialization; &quot;+&quot;attempted to call method '&quot;+r+&quot;'&quot;)}):this.each(function(){var e=t.data(this,o);e?e.option(r||{})._init():t.data(this,o,new n(r,this))}),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:&quot;widget&quot;,widgetEventPrefix:&quot;&quot;,defaultElement:&quot;&lt;div&gt;&quot;,options:{disabled:!1,create:null},_createWidget:function(e,s){s=t(s||this.defaultElement||this)[0],this.element=t(s),this.uuid=i++,this.eventNamespace=&quot;.&quot;+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),s!==this&amp;&amp;(t.data(s,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===s&amp;&amp;this.destroy()}}),this.document=t(s.style?s.ownerDocument:s.document||s),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger(&quot;create&quot;,null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr(&quot;aria-disabled&quot;).removeClass(this.widgetFullName+&quot;-disabled &quot;+&quot;ui-state-disabled&quot;),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass(&quot;ui-state-hover&quot;),this.focusable.removeClass(&quot;ui-state-focus&quot;)},_destroy:t.noop,widget:function(){return this.element},option:function(i,s){var n,o,r,h=i;if(0===arguments.length)return t.widget.extend({},this.options);if(&quot;string&quot;==typeof i)if(h={},n=i.split(&quot;.&quot;),i=n.shift(),n.length){for(o=h[i]=t.widget.extend({},this.options[i]),r=0;n.length-1&gt;r;r++)o[n[r]]=o[n[r]]||{},o=o[n[r]];if(i=n.pop(),1===arguments.length)return o[i]===e?null:o[i];o[i]=s}else{if(1===arguments.length)return this.options[i]===e?null:this.options[i];h[i]=s}return this._setOptions(h),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,&quot;disabled&quot;===t&amp;&amp;(this.widget().toggleClass(this.widgetFullName+&quot;-disabled ui-state-disabled&quot;,!!e).attr(&quot;aria-disabled&quot;,e),this.hoverable.removeClass(&quot;ui-state-hover&quot;),this.focusable.removeClass(&quot;ui-state-focus&quot;)),this},enable:function(){return this._setOption(&quot;disabled&quot;,!1)},disable:function(){return this._setOption(&quot;disabled&quot;,!0)},_on:function(i,s,n){var o,r=this;&quot;boolean&quot;!=typeof i&amp;&amp;(n=s,s=i,i=!1),n?(s=o=t(s),this.bindings=this.bindings.add(s)):(n=s,s=this.element,o=this.widget()),t.each(n,function(n,h){function a(){return i||r.options.disabled!==!0&amp;&amp;!t(this).hasClass(&quot;ui-state-disabled&quot;)?(&quot;string&quot;==typeof h?r[h]:h).apply(r,arguments):e}&quot;string&quot;!=typeof h&amp;&amp;(a.guid=h.guid=h.guid||a.guid||t.guid++);var l=n.match(/^(\w+)\s*(.*)$/),c=l[1]+r.eventNamespace,u=l[2];u?o.delegate(u,c,a):s.bind(c,a)})},_off:function(t,e){e=(e||&quot;&quot;).split(&quot; &quot;).join(this.eventNamespace+&quot; &quot;)+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){function i(){return(&quot;string&quot;==typeof t?s[t]:t).apply(s,arguments)}var s=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass(&quot;ui-state-hover&quot;)},mouseleave:function(e){t(e.currentTarget).removeClass(&quot;ui-state-hover&quot;)}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass(&quot;ui-state-focus&quot;)},focusout:function(e){t(e.currentTarget).removeClass(&quot;ui-state-focus&quot;)}})},_trigger:function(e,i,s){var n,o,r=this.options[e];if(s=s||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(n in o)n in i||(i[n]=o[n]);return this.element.trigger(i,s),!(t.isFunction(r)&amp;&amp;r.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},t.each({show:&quot;fadeIn&quot;,hide:&quot;fadeOut&quot;},function(e,i){t.Widget.prototype[&quot;_&quot;+e]=function(s,n,o){&quot;string&quot;==typeof n&amp;&amp;(n={effect:n});var r,h=n?n===!0||&quot;number&quot;==typeof n?i:n.effect||i:e;n=n||{},&quot;number&quot;==typeof n&amp;&amp;(n={duration:n}),r=!t.isEmptyObject(n),n.complete=o,n.delay&amp;&amp;s.delay(n.delay),r&amp;&amp;t.effects&amp;&amp;t.effects.effect[h]?s[e](n):h!==e&amp;&amp;s[h]?s[h](n.duration,n.easing,o):s.queue(function(i){t(this)[e](),o&amp;&amp;o.call(s[0]),i()})}})})(jQuery);(function(e){var t=!1;e(document).mouseup(function(){t=!1}),e.widget(&quot;ui.mouse&quot;,{version:&quot;1.10.4&quot;,options:{cancel:&quot;input,textarea,button,select,option&quot;,distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind(&quot;mousedown.&quot;+this.widgetName,function(e){return t._mouseDown(e)}).bind(&quot;click.&quot;+this.widgetName,function(n){return!0===e.data(n.target,t.widgetName+&quot;.preventClickEvent&quot;)?(e.removeData(n.target,t.widgetName+&quot;.preventClickEvent&quot;),n.stopImmediatePropagation(),!1):undefined}),this.started=!1},_mouseDestroy:function(){this.element.unbind(&quot;.&quot;+this.widgetName),this._mouseMoveDelegate&amp;&amp;e(document).unbind(&quot;mousemove.&quot;+this.widgetName,this._mouseMoveDelegate).unbind(&quot;mouseup.&quot;+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(n){if(!t){this._mouseStarted&amp;&amp;this._mouseUp(n),this._mouseDownEvent=n;var i=this,s=1===n.which,o=&quot;string&quot;==typeof this.options.cancel&amp;&amp;n.target.nodeName?e(n.target).closest(this.options.cancel).length:!1;return s&amp;&amp;!o&amp;&amp;this._mouseCapture(n)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(n)&amp;&amp;this._mouseDelayMet(n)&amp;&amp;(this._mouseStarted=this._mouseStart(n)!==!1,!this._mouseStarted)?(n.preventDefault(),!0):(!0===e.data(n.target,this.widgetName+&quot;.preventClickEvent&quot;)&amp;&amp;e.removeData(n.target,this.widgetName+&quot;.preventClickEvent&quot;),this._mouseMoveDelegate=function(e){return i._mouseMove(e)},this._mouseUpDelegate=function(e){return i._mouseUp(e)},e(document).bind(&quot;mousemove.&quot;+this.widgetName,this._mouseMoveDelegate).bind(&quot;mouseup.&quot;+this.widgetName,this._mouseUpDelegate),n.preventDefault(),t=!0,!0)):!0}},_mouseMove:function(t){return e.ui.ie&amp;&amp;(!document.documentMode||9&gt;document.documentMode)&amp;&amp;!t.button?this._mouseUp(t):this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&amp;&amp;this._mouseDelayMet(t)&amp;&amp;(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return e(document).unbind(&quot;mousemove.&quot;+this.widgetName,this._mouseMoveDelegate).unbind(&quot;mouseup.&quot;+this.widgetName,this._mouseUpDelegate),this._mouseStarted&amp;&amp;(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&amp;&amp;e.data(t.target,this.widgetName+&quot;.preventClickEvent&quot;,!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))&gt;=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})(jQuery);(function(t,e){function i(t,e,i){return[parseFloat(t[0])*(p.test(t[0])?e/100:1),parseFloat(t[1])*(p.test(t[1])?i/100:1)]}function s(e,i){return parseInt(t.css(e,i),10)||0}function n(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.ui=t.ui||{};var o,a=Math.max,r=Math.abs,h=Math.round,l=/left|center|right/,c=/top|center|bottom/,u=/[\+\-]\d+(\.[\d]+)?%?/,d=/^\w+/,p=/%$/,f=t.fn.position;t.position={scrollbarWidth:function(){if(o!==e)return o;var i,s,n=t(&quot;&lt;div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'&gt;&lt;div style='height:100px;width:auto;'&gt;&lt;/div&gt;&lt;/div&gt;&quot;),a=n.children()[0];return t(&quot;body&quot;).append(n),i=a.offsetWidth,n.css(&quot;overflow&quot;,&quot;scroll&quot;),s=a.offsetWidth,i===s&amp;&amp;(s=n[0].clientWidth),n.remove(),o=i-s},getScrollInfo:function(e){var i=e.isWindow||e.isDocument?&quot;&quot;:e.element.css(&quot;overflow-x&quot;),s=e.isWindow||e.isDocument?&quot;&quot;:e.element.css(&quot;overflow-y&quot;),n=&quot;scroll&quot;===i||&quot;auto&quot;===i&amp;&amp;e.width&lt;e.element[0].scrollWidth,o=&quot;scroll&quot;===s||&quot;auto&quot;===s&amp;&amp;e.height&lt;e.element[0].scrollHeight;return{width:o?t.position.scrollbarWidth():0,height:n?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),s=t.isWindow(i[0]),n=!!i[0]&amp;&amp;9===i[0].nodeType;return{element:i,isWindow:s,isDocument:n,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:s?i.width():i.outerWidth(),height:s?i.height():i.outerHeight()}}},t.fn.position=function(e){if(!e||!e.of)return f.apply(this,arguments);e=t.extend({},e);var o,p,g,m,v,_,b=t(e.of),y=t.position.getWithinInfo(e.within),w=t.position.getScrollInfo(y),k=(e.collision||&quot;flip&quot;).split(&quot; &quot;),D={};return _=n(b),b[0].preventDefault&amp;&amp;(e.at=&quot;left top&quot;),p=_.width,g=_.height,m=_.offset,v=t.extend({},m),t.each([&quot;my&quot;,&quot;at&quot;],function(){var t,i,s=(e[this]||&quot;&quot;).split(&quot; &quot;);1===s.length&amp;&amp;(s=l.test(s[0])?s.concat([&quot;center&quot;]):c.test(s[0])?[&quot;center&quot;].concat(s):[&quot;center&quot;,&quot;center&quot;]),s[0]=l.test(s[0])?s[0]:&quot;center&quot;,s[1]=c.test(s[1])?s[1]:&quot;center&quot;,t=u.exec(s[0]),i=u.exec(s[1]),D[this]=[t?t[0]:0,i?i[0]:0],e[this]=[d.exec(s[0])[0],d.exec(s[1])[0]]}),1===k.length&amp;&amp;(k[1]=k[0]),&quot;right&quot;===e.at[0]?v.left+=p:&quot;center&quot;===e.at[0]&amp;&amp;(v.left+=p/2),&quot;bottom&quot;===e.at[1]?v.top+=g:&quot;center&quot;===e.at[1]&amp;&amp;(v.top+=g/2),o=i(D.at,p,g),v.left+=o[0],v.top+=o[1],this.each(function(){var n,l,c=t(this),u=c.outerWidth(),d=c.outerHeight(),f=s(this,&quot;marginLeft&quot;),_=s(this,&quot;marginTop&quot;),x=u+f+s(this,&quot;marginRight&quot;)+w.width,C=d+_+s(this,&quot;marginBottom&quot;)+w.height,I=t.extend({},v),P=i(D.my,c.outerWidth(),c.outerHeight());&quot;right&quot;===e.my[0]?I.left-=u:&quot;center&quot;===e.my[0]&amp;&amp;(I.left-=u/2),&quot;bottom&quot;===e.my[1]?I.top-=d:&quot;center&quot;===e.my[1]&amp;&amp;(I.top-=d/2),I.left+=P[0],I.top+=P[1],t.support.offsetFractions||(I.left=h(I.left),I.top=h(I.top)),n={marginLeft:f,marginTop:_},t.each([&quot;left&quot;,&quot;top&quot;],function(i,s){t.ui.position[k[i]]&amp;&amp;t.ui.position[k[i]][s](I,{targetWidth:p,targetHeight:g,elemWidth:u,elemHeight:d,collisionPosition:n,collisionWidth:x,collisionHeight:C,offset:[o[0]+P[0],o[1]+P[1]],my:e.my,at:e.at,within:y,elem:c})}),e.using&amp;&amp;(l=function(t){var i=m.left-I.left,s=i+p-u,n=m.top-I.top,o=n+g-d,h={target:{element:b,left:m.left,top:m.top,width:p,height:g},element:{element:c,left:I.left,top:I.top,width:u,height:d},horizontal:0&gt;s?&quot;left&quot;:i&gt;0?&quot;right&quot;:&quot;center&quot;,vertical:0&gt;o?&quot;top&quot;:n&gt;0?&quot;bottom&quot;:&quot;middle&quot;};u&gt;p&amp;&amp;p&gt;r(i+s)&amp;&amp;(h.horizontal=&quot;center&quot;),d&gt;g&amp;&amp;g&gt;r(n+o)&amp;&amp;(h.vertical=&quot;middle&quot;),h.important=a(r(i),r(s))&gt;a(r(n),r(o))?&quot;horizontal&quot;:&quot;vertical&quot;,e.using.call(this,t,h)}),c.offset(t.extend(I,{using:l}))})},t.ui.position={fit:{left:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollLeft:s.offset.left,o=s.width,r=t.left-e.collisionPosition.marginLeft,h=n-r,l=r+e.collisionWidth-o-n;e.collisionWidth&gt;o?h&gt;0&amp;&amp;0&gt;=l?(i=t.left+h+e.collisionWidth-o-n,t.left+=h-i):t.left=l&gt;0&amp;&amp;0&gt;=h?n:h&gt;l?n+o-e.collisionWidth:n:h&gt;0?t.left+=h:l&gt;0?t.left-=l:t.left=a(t.left-r,t.left)},top:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollTop:s.offset.top,o=e.within.height,r=t.top-e.collisionPosition.marginTop,h=n-r,l=r+e.collisionHeight-o-n;e.collisionHeight&gt;o?h&gt;0&amp;&amp;0&gt;=l?(i=t.top+h+e.collisionHeight-o-n,t.top+=h-i):t.top=l&gt;0&amp;&amp;0&gt;=h?n:h&gt;l?n+o-e.collisionHeight:n:h&gt;0?t.top+=h:l&gt;0?t.top-=l:t.top=a(t.top-r,t.top)}},flip:{left:function(t,e){var i,s,n=e.within,o=n.offset.left+n.scrollLeft,a=n.width,h=n.isWindow?n.scrollLeft:n.offset.left,l=t.left-e.collisionPosition.marginLeft,c=l-h,u=l+e.collisionWidth-a-h,d=&quot;left&quot;===e.my[0]?-e.elemWidth:&quot;right&quot;===e.my[0]?e.elemWidth:0,p=&quot;left&quot;===e.at[0]?e.targetWidth:&quot;right&quot;===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];0&gt;c?(i=t.left+d+p+f+e.collisionWidth-a-o,(0&gt;i||r(c)&gt;i)&amp;&amp;(t.left+=d+p+f)):u&gt;0&amp;&amp;(s=t.left-e.collisionPosition.marginLeft+d+p+f-h,(s&gt;0||u&gt;r(s))&amp;&amp;(t.left+=d+p+f))},top:function(t,e){var i,s,n=e.within,o=n.offset.top+n.scrollTop,a=n.height,h=n.isWindow?n.scrollTop:n.offset.top,l=t.top-e.collisionPosition.marginTop,c=l-h,u=l+e.collisionHeight-a-h,d=&quot;top&quot;===e.my[1],p=d?-e.elemHeight:&quot;bottom&quot;===e.my[1]?e.elemHeight:0,f=&quot;top&quot;===e.at[1]?e.targetHeight:&quot;bottom&quot;===e.at[1]?-e.targetHeight:0,g=-2*e.offset[1];0&gt;c?(s=t.top+p+f+g+e.collisionHeight-a-o,t.top+p+f+g&gt;c&amp;&amp;(0&gt;s||r(c)&gt;s)&amp;&amp;(t.top+=p+f+g)):u&gt;0&amp;&amp;(i=t.top-e.collisionPosition.marginTop+p+f+g-h,t.top+p+f+g&gt;u&amp;&amp;(i&gt;0||u&gt;r(i))&amp;&amp;(t.top+=p+f+g))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,i,s,n,o,a=document.getElementsByTagName(&quot;body&quot;)[0],r=document.createElement(&quot;div&quot;);e=document.createElement(a?&quot;div&quot;:&quot;body&quot;),s={visibility:&quot;hidden&quot;,width:0,height:0,border:0,margin:0,background:&quot;none&quot;},a&amp;&amp;t.extend(s,{position:&quot;absolute&quot;,left:&quot;-1000px&quot;,top:&quot;-1000px&quot;});for(o in s)e.style[o]=s[o];e.appendChild(r),i=a||document.documentElement,i.insertBefore(e,i.firstChild),r.style.cssText=&quot;position: absolute; left: 10.7432222px;&quot;,n=t(r).offset().left,t.support.offsetFractions=n&gt;10&amp;&amp;11&gt;n,e.innerHTML=&quot;&quot;,i.removeChild(e)}()})(jQuery);</pre>
</div>
<div title="jquery.ui.dialog.min.js" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405151019" tags="js excludeTimeline" content-type="text/javascript" changecount="2">
<pre>/*! jQuery UI - v1.10.4 - 2014-05-12
* http://jqueryui.com
* Copyright 2014 jQuery Foundation and other contributors; Licensed MIT */

(function(t){var e={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},i={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};t.widget(&quot;ui.dialog&quot;,{version:&quot;1.10.4&quot;,options:{appendTo:&quot;body&quot;,autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:&quot;close&quot;,dialogClass:&quot;&quot;,draggable:!0,hide:null,height:&quot;auto&quot;,maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:&quot;center&quot;,at:&quot;center&quot;,of:window,collision:&quot;fit&quot;,using:function(e){var i=t(this).css(e).offset().top;0&gt;i&amp;&amp;t(this).css(&quot;top&quot;,e.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr(&quot;title&quot;),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr(&quot;title&quot;).addClass(&quot;ui-dialog-content ui-widget-content&quot;).appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&amp;&amp;t.fn.draggable&amp;&amp;this._makeDraggable(),this.options.resizable&amp;&amp;t.fn.resizable&amp;&amp;this._makeResizable(),this._isOpen=!1},_init:function(){this.options.autoOpen&amp;&amp;this.open()},_appendTo:function(){var e=this.options.appendTo;return e&amp;&amp;(e.jquery||e.nodeType)?t(e):this.document.find(e||&quot;body&quot;).eq(0)},_destroy:function(){var t,e=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass(&quot;ui-dialog-content ui-widget-content&quot;).css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&amp;&amp;this.element.attr(&quot;title&quot;,this.originalTitle),t=e.parent.children().eq(e.index),t.length&amp;&amp;t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var i,s=this;if(this._isOpen&amp;&amp;this._trigger(&quot;beforeClose&quot;,e)!==!1){if(this._isOpen=!1,this._destroyOverlay(),!this.opener.filter(&quot;:focusable&quot;).focus().length)try{i=this.document[0].activeElement,i&amp;&amp;&quot;body&quot;!==i.nodeName.toLowerCase()&amp;&amp;t(i).blur()}catch(n){}this._hide(this.uiDialog,this.options.hide,function(){s._trigger(&quot;close&quot;,e)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,e){var i=!!this.uiDialog.nextAll(&quot;:visible&quot;).insertBefore(this.uiDialog).length;return i&amp;&amp;!e&amp;&amp;this._trigger(&quot;focus&quot;,t),i},open:function(){var e=this;return this._isOpen?(this._moveToTop()&amp;&amp;this._focusTabbable(),undefined):(this._isOpen=!0,this.opener=t(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger(&quot;focus&quot;)}),this._trigger(&quot;open&quot;),undefined)},_focusTabbable:function(){var t=this.element.find(&quot;[autofocus]&quot;);t.length||(t=this.element.find(&quot;:tabbable&quot;)),t.length||(t=this.uiDialogButtonPane.find(&quot;:tabbable&quot;)),t.length||(t=this.uiDialogTitlebarClose.filter(&quot;:tabbable&quot;)),t.length||(t=this.uiDialog),t.eq(0).focus()},_keepFocus:function(e){function i(){var e=this.document[0].activeElement,i=this.uiDialog[0]===e||t.contains(this.uiDialog[0],e);i||this._focusTabbable()}e.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=t(&quot;&lt;div&gt;&quot;).addClass(&quot;ui-dialog ui-widget ui-widget-content ui-corner-all ui-front &quot;+this.options.dialogClass).hide().attr({tabIndex:-1,role:&quot;dialog&quot;}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&amp;&amp;!e.isDefaultPrevented()&amp;&amp;e.keyCode&amp;&amp;e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),this.close(e),undefined;if(e.keyCode===t.ui.keyCode.TAB){var i=this.uiDialog.find(&quot;:tabbable&quot;),s=i.filter(&quot;:first&quot;),n=i.filter(&quot;:last&quot;);e.target!==n[0]&amp;&amp;e.target!==this.uiDialog[0]||e.shiftKey?e.target!==s[0]&amp;&amp;e.target!==this.uiDialog[0]||!e.shiftKey||(n.focus(1),e.preventDefault()):(s.focus(1),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&amp;&amp;this._focusTabbable()}}),this.element.find(&quot;[aria-describedby]&quot;).length||this.uiDialog.attr({&quot;aria-describedby&quot;:this.element.uniqueId().attr(&quot;id&quot;)})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t(&quot;&lt;div&gt;&quot;).addClass(&quot;ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix&quot;).prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(&quot;.ui-dialog-titlebar-close&quot;)||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=t(&quot;&lt;button type='button'&gt;&lt;/button&gt;&quot;).button({label:this.options.closeText,icons:{primary:&quot;ui-icon-closethick&quot;},text:!1}).addClass(&quot;ui-dialog-titlebar-close&quot;).appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t(&quot;&lt;span&gt;&quot;).uniqueId().addClass(&quot;ui-dialog-title&quot;).prependTo(this.uiDialogTitlebar),this._title(e),this.uiDialog.attr({&quot;aria-labelledby&quot;:e.attr(&quot;id&quot;)})},_title:function(t){this.options.title||t.html(&quot;&amp;#160;&quot;),t.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=t(&quot;&lt;div&gt;&quot;).addClass(&quot;ui-dialog-buttonpane ui-widget-content ui-helper-clearfix&quot;),this.uiButtonSet=t(&quot;&lt;div&gt;&quot;).addClass(&quot;ui-dialog-buttonset&quot;).appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var e=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(i)||t.isArray(i)&amp;&amp;!i.length?(this.uiDialog.removeClass(&quot;ui-dialog-buttons&quot;),undefined):(t.each(i,function(i,s){var n,a;s=t.isFunction(s)?{click:s,text:i}:s,s=t.extend({type:&quot;button&quot;},s),n=s.click,s.click=function(){n.apply(e.element[0],arguments)},a={icons:s.icons,text:s.showText},delete s.icons,delete s.showText,t(&quot;&lt;button&gt;&lt;/button&gt;&quot;,s).button(a).appendTo(e.uiButtonSet)}),this.uiDialog.addClass(&quot;ui-dialog-buttons&quot;),this.uiDialogButtonPane.appendTo(this.uiDialog),undefined)},_makeDraggable:function(){function e(t){return{position:t.position,offset:t.offset}}var i=this,s=this.options;this.uiDialog.draggable({cancel:&quot;.ui-dialog-content, .ui-dialog-titlebar-close&quot;,handle:&quot;.ui-dialog-titlebar&quot;,containment:&quot;document&quot;,start:function(s,n){t(this).addClass(&quot;ui-dialog-dragging&quot;),i._blockFrames(),i._trigger(&quot;dragStart&quot;,s,e(n))},drag:function(t,s){i._trigger(&quot;drag&quot;,t,e(s))},stop:function(n,a){s.position=[a.position.left-i.document.scrollLeft(),a.position.top-i.document.scrollTop()],t(this).removeClass(&quot;ui-dialog-dragging&quot;),i._unblockFrames(),i._trigger(&quot;dragStop&quot;,n,e(a))}})},_makeResizable:function(){function e(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}var i=this,s=this.options,n=s.resizable,a=this.uiDialog.css(&quot;position&quot;),o=&quot;string&quot;==typeof n?n:&quot;n,e,s,w,se,sw,ne,nw&quot;;this.uiDialog.resizable({cancel:&quot;.ui-dialog-content&quot;,containment:&quot;document&quot;,alsoResize:this.element,maxWidth:s.maxWidth,maxHeight:s.maxHeight,minWidth:s.minWidth,minHeight:this._minHeight(),handles:o,start:function(s,n){t(this).addClass(&quot;ui-dialog-resizing&quot;),i._blockFrames(),i._trigger(&quot;resizeStart&quot;,s,e(n))},resize:function(t,s){i._trigger(&quot;resize&quot;,t,e(s))},stop:function(n,a){s.height=t(this).height(),s.width=t(this).width(),t(this).removeClass(&quot;ui-dialog-resizing&quot;),i._unblockFrames(),i._trigger(&quot;resizeStop&quot;,n,e(a))}}).css(&quot;position&quot;,a)},_minHeight:function(){var t=this.options;return&quot;auto&quot;===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(&quot;:visible&quot;);t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(s){var n=this,a=!1,o={};t.each(s,function(t,s){n._setOption(t,s),t in e&amp;&amp;(a=!0),t in i&amp;&amp;(o[t]=s)}),a&amp;&amp;(this._size(),this._position()),this.uiDialog.is(&quot;:data(ui-resizable)&quot;)&amp;&amp;this.uiDialog.resizable(&quot;option&quot;,o)},_setOption:function(t,e){var i,s,n=this.uiDialog;&quot;dialogClass&quot;===t&amp;&amp;n.removeClass(this.options.dialogClass).addClass(e),&quot;disabled&quot;!==t&amp;&amp;(this._super(t,e),&quot;appendTo&quot;===t&amp;&amp;this.uiDialog.appendTo(this._appendTo()),&quot;buttons&quot;===t&amp;&amp;this._createButtons(),&quot;closeText&quot;===t&amp;&amp;this.uiDialogTitlebarClose.button({label:&quot;&quot;+e}),&quot;draggable&quot;===t&amp;&amp;(i=n.is(&quot;:data(ui-draggable)&quot;),i&amp;&amp;!e&amp;&amp;n.draggable(&quot;destroy&quot;),!i&amp;&amp;e&amp;&amp;this._makeDraggable()),&quot;position&quot;===t&amp;&amp;this._position(),&quot;resizable&quot;===t&amp;&amp;(s=n.is(&quot;:data(ui-resizable)&quot;),s&amp;&amp;!e&amp;&amp;n.resizable(&quot;destroy&quot;),s&amp;&amp;&quot;string&quot;==typeof e&amp;&amp;n.resizable(&quot;option&quot;,&quot;handles&quot;,e),s||e===!1||this._makeResizable()),&quot;title&quot;===t&amp;&amp;this._title(this.uiDialogTitlebar.find(&quot;.ui-dialog-title&quot;)))},_size:function(){var t,e,i,s=this.options;this.element.show().css({width:&quot;auto&quot;,minHeight:0,maxHeight:&quot;none&quot;,height:0}),s.minWidth&gt;s.width&amp;&amp;(s.width=s.minWidth),t=this.uiDialog.css({height:&quot;auto&quot;,width:s.width}).outerHeight(),e=Math.max(0,s.minHeight-t),i=&quot;number&quot;==typeof s.maxHeight?Math.max(0,s.maxHeight-t):&quot;none&quot;,&quot;auto&quot;===s.height?this.element.css({minHeight:e,maxHeight:i,height:&quot;auto&quot;}):this.element.height(Math.max(0,s.height-t)),this.uiDialog.is(&quot;:data(ui-resizable)&quot;)&amp;&amp;this.uiDialog.resizable(&quot;option&quot;,&quot;minHeight&quot;,this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find(&quot;iframe&quot;).map(function(){var e=t(this);return t(&quot;&lt;div&gt;&quot;).css({position:&quot;absolute&quot;,width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&amp;&amp;(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return t(e.target).closest(&quot;.ui-dialog&quot;).length?!0:!!t(e.target).closest(&quot;.ui-datepicker&quot;).length},_createOverlay:function(){if(this.options.modal){var e=this,i=this.widgetFullName;t.ui.dialog.overlayInstances||this._delay(function(){t.ui.dialog.overlayInstances&amp;&amp;this.document.bind(&quot;focusin.dialog&quot;,function(s){e._allowInteraction(s)||(s.preventDefault(),t(&quot;.ui-dialog:visible:last .ui-dialog-content&quot;).data(i)._focusTabbable())})}),this.overlay=t(&quot;&lt;div&gt;&quot;).addClass(&quot;ui-widget-overlay ui-front&quot;).appendTo(this._appendTo()),this._on(this.overlay,{mousedown:&quot;_keepFocus&quot;}),t.ui.dialog.overlayInstances++}},_destroyOverlay:function(){this.options.modal&amp;&amp;this.overlay&amp;&amp;(t.ui.dialog.overlayInstances--,t.ui.dialog.overlayInstances||this.document.unbind(&quot;focusin.dialog&quot;),this.overlay.remove(),this.overlay=null)}}),t.ui.dialog.overlayInstances=0,t.uiBackCompat!==!1&amp;&amp;t.widget(&quot;ui.dialog&quot;,t.ui.dialog,{_position:function(){var e,i=this.options.position,s=[],n=[0,0];i?((&quot;string&quot;==typeof i||&quot;object&quot;==typeof i&amp;&amp;&quot;0&quot;in i)&amp;&amp;(s=i.split?i.split(&quot; &quot;):[i[0],i[1]],1===s.length&amp;&amp;(s[1]=s[0]),t.each([&quot;left&quot;,&quot;top&quot;],function(t,e){+s[t]===s[t]&amp;&amp;(n[t]=s[t],s[t]=e)}),i={my:s[0]+(0&gt;n[0]?n[0]:&quot;+&quot;+n[0])+&quot; &quot;+s[1]+(0&gt;n[1]?n[1]:&quot;+&quot;+n[1]),at:s.join(&quot; &quot;)}),i=t.extend({},t.ui.dialog.prototype.options.position,i)):i=t.ui.dialog.prototype.options.position,e=this.uiDialog.is(&quot;:visible&quot;),e||this.uiDialog.show(),this.uiDialog.position(i),e||this.uiDialog.hide()}})})(jQuery);</pre>
</div>
<div title="jquery.ui.draggable.min.js" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405150956" tags="js excludeTimeline" content-type="text/javascript" changecount="5">
<pre>/*! jQuery UI - v1.10.4 - 2014-05-12
* http://jqueryui.com
* Copyright 2014 jQuery Foundation and other contributors; Licensed MIT */

(function(t){t.widget(&quot;ui.draggable&quot;,t.ui.mouse,{version:&quot;1.10.4&quot;,widgetEventPrefix:&quot;drag&quot;,options:{addClasses:!0,appendTo:&quot;parent&quot;,axis:!1,connectToSortable:!1,containment:!1,cursor:&quot;auto&quot;,cursorAt:!1,grid:!1,handle:!1,helper:&quot;original&quot;,iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:&quot;default&quot;,scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:&quot;both&quot;,snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){&quot;original&quot;!==this.options.helper||/^(?:r|a|f)/.test(this.element.css(&quot;position&quot;))||(this.element[0].style.position=&quot;relative&quot;),this.options.addClasses&amp;&amp;this.element.addClass(&quot;ui-draggable&quot;),this.options.disabled&amp;&amp;this.element.addClass(&quot;ui-draggable-disabled&quot;),this._mouseInit()},_destroy:function(){this.element.removeClass(&quot;ui-draggable ui-draggable-dragging ui-draggable-disabled&quot;),this._mouseDestroy()},_mouseCapture:function(e){var i=this.options;return this.helper||i.disabled||t(e.target).closest(&quot;.ui-resizable-handle&quot;).length&gt;0?!1:(this.handle=this._getHandle(e),this.handle?(t(i.iframeFix===!0?&quot;iframe&quot;:i.iframeFix).each(function(){t(&quot;&lt;div class='ui-draggable-iframeFix' style='background: #fff;'&gt;&lt;/div&gt;&quot;).css({width:this.offsetWidth+&quot;px&quot;,height:this.offsetHeight+&quot;px&quot;,position:&quot;absolute&quot;,opacity:&quot;0.001&quot;,zIndex:1e3}).css(t(this).offset()).appendTo(&quot;body&quot;)}),!0):!1)},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this.helper.addClass(&quot;ui-draggable-dragging&quot;),this._cacheHelperProportions(),t.ui.ddmanager&amp;&amp;(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css(&quot;position&quot;),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css(&quot;position&quot;),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&amp;&amp;this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger(&quot;start&quot;,e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&amp;&amp;!i.dropBehaviour&amp;&amp;t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&amp;&amp;t.ui.ddmanager.dragStart(this,e),!0)},_mouseDrag:function(e,i){if(&quot;fixed&quot;===this.offsetParentCssPosition&amp;&amp;(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo(&quot;absolute&quot;),!i){var s=this._uiHash();if(this._trigger(&quot;drag&quot;,e,s)===!1)return this._mouseUp({}),!1;this.position=s.position}return this.options.axis&amp;&amp;&quot;y&quot;===this.options.axis||(this.helper[0].style.left=this.position.left+&quot;px&quot;),this.options.axis&amp;&amp;&quot;x&quot;===this.options.axis||(this.helper[0].style.top=this.position.top+&quot;px&quot;),t.ui.ddmanager&amp;&amp;t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,s=!1;return t.ui.ddmanager&amp;&amp;!this.options.dropBehaviour&amp;&amp;(s=t.ui.ddmanager.drop(this,e)),this.dropped&amp;&amp;(s=this.dropped,this.dropped=!1),&quot;original&quot;!==this.options.helper||t.contains(this.element[0].ownerDocument,this.element[0])?(&quot;invalid&quot;===this.options.revert&amp;&amp;!s||&quot;valid&quot;===this.options.revert&amp;&amp;s||this.options.revert===!0||t.isFunction(this.options.revert)&amp;&amp;this.options.revert.call(this.element,s)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger(&quot;stop&quot;,e)!==!1&amp;&amp;i._clear()}):this._trigger(&quot;stop&quot;,e)!==!1&amp;&amp;this._clear(),!1):!1},_mouseUp:function(e){return t(&quot;div.ui-draggable-iframeFix&quot;).each(function(){this.parentNode.removeChild(this)}),t.ui.ddmanager&amp;&amp;t.ui.ddmanager.dragStop(this,e),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(&quot;.ui-draggable-dragging&quot;)?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e])):&quot;clone&quot;===i.helper?this.element.clone().removeAttr(&quot;id&quot;):this.element;return s.parents(&quot;body&quot;).length||s.appendTo(&quot;parent&quot;===i.appendTo?this.element[0].parentNode:i.appendTo),s[0]===this.element[0]||/(fixed|absolute)/.test(s.css(&quot;position&quot;))||s.css(&quot;position&quot;,&quot;absolute&quot;),s},_adjustOffsetFromHelper:function(e){&quot;string&quot;==typeof e&amp;&amp;(e=e.split(&quot; &quot;)),t.isArray(e)&amp;&amp;(e={left:+e[0],top:+e[1]||0}),&quot;left&quot;in e&amp;&amp;(this.offset.click.left=e.left+this.margins.left),&quot;right&quot;in e&amp;&amp;(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),&quot;top&quot;in e&amp;&amp;(this.offset.click.top=e.top+this.margins.top),&quot;bottom&quot;in e&amp;&amp;(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){var e=this.offsetParent.offset();return&quot;absolute&quot;===this.cssPosition&amp;&amp;this.scrollParent[0]!==document&amp;&amp;t.contains(this.scrollParent[0],this.offsetParent[0])&amp;&amp;(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&amp;&amp;&quot;html&quot;===this.offsetParent[0].tagName.toLowerCase()&amp;&amp;t.ui.ie)&amp;&amp;(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css(&quot;borderTopWidth&quot;),10)||0),left:e.left+(parseInt(this.offsetParent.css(&quot;borderLeftWidth&quot;),10)||0)}},_getRelativeOffset:function(){if(&quot;relative&quot;===this.cssPosition){var t=this.element.position();return{top:t.top-(parseInt(this.helper.css(&quot;top&quot;),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css(&quot;left&quot;),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css(&quot;marginLeft&quot;),10)||0,top:parseInt(this.element.css(&quot;marginTop&quot;),10)||0,right:parseInt(this.element.css(&quot;marginRight&quot;),10)||0,bottom:parseInt(this.element.css(&quot;marginBottom&quot;),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options;return n.containment?&quot;window&quot;===n.containment?(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],undefined):&quot;document&quot;===n.containment?(this.containment=[0,0,t(document).width()-this.helperProportions.width-this.margins.left,(t(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],undefined):n.containment.constructor===Array?(this.containment=n.containment,undefined):(&quot;parent&quot;===n.containment&amp;&amp;(n.containment=this.helper[0].parentNode),i=t(n.containment),s=i[0],s&amp;&amp;(e=&quot;hidden&quot;!==i.css(&quot;overflow&quot;),this.containment=[(parseInt(i.css(&quot;borderLeftWidth&quot;),10)||0)+(parseInt(i.css(&quot;paddingLeft&quot;),10)||0),(parseInt(i.css(&quot;borderTopWidth&quot;),10)||0)+(parseInt(i.css(&quot;paddingTop&quot;),10)||0),(e?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css(&quot;borderRightWidth&quot;),10)||0)-(parseInt(i.css(&quot;paddingRight&quot;),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css(&quot;borderBottomWidth&quot;),10)||0)-(parseInt(i.css(&quot;paddingBottom&quot;),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=i),undefined):(this.containment=null,undefined)},_convertPositionTo:function(e,i){i||(i=this.position);var s=&quot;absolute&quot;===e?1:-1,n=&quot;absolute&quot;!==this.cssPosition||this.scrollParent[0]!==document&amp;&amp;t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:n.scrollTop(),left:n.scrollLeft()}),{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-(&quot;fixed&quot;===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-(&quot;fixed&quot;===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*s}},_generatePosition:function(e){var i,s,n,a,o=this.options,r=&quot;absolute&quot;!==this.cssPosition||this.scrollParent[0]!==document&amp;&amp;t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=e.pageX,l=e.pageY;return this.offset.scroll||(this.offset.scroll={top:r.scrollTop(),left:r.scrollLeft()}),this.originalPosition&amp;&amp;(this.containment&amp;&amp;(this.relative_container?(s=this.relative_container.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,e.pageX-this.offset.click.left&lt;i[0]&amp;&amp;(h=i[0]+this.offset.click.left),e.pageY-this.offset.click.top&lt;i[1]&amp;&amp;(l=i[1]+this.offset.click.top),e.pageX-this.offset.click.left&gt;i[2]&amp;&amp;(h=i[2]+this.offset.click.left),e.pageY-this.offset.click.top&gt;i[3]&amp;&amp;(l=i[3]+this.offset.click.top)),o.grid&amp;&amp;(n=o.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,l=i?n-this.offset.click.top&gt;=i[1]||n-this.offset.click.top&gt;i[3]?n:n-this.offset.click.top&gt;=i[1]?n-o.grid[1]:n+o.grid[1]:n,a=o.grid[0]?this.originalPageX+Math.round((h-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,h=i?a-this.offset.click.left&gt;=i[0]||a-this.offset.click.left&gt;i[2]?a:a-this.offset.click.left&gt;=i[0]?a-o.grid[0]:a+o.grid[0]:a)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(&quot;fixed&quot;===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(&quot;fixed&quot;===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass(&quot;ui-draggable-dragging&quot;),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(e,i,s){return s=s||this._uiHash(),t.ui.plugin.call(this,e,[i,s]),&quot;drag&quot;===e&amp;&amp;(this.positionAbs=this._convertPositionTo(&quot;absolute&quot;)),t.Widget.prototype._trigger.call(this,e,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add(&quot;draggable&quot;,&quot;connectToSortable&quot;,{start:function(e,i){var s=t(this).data(&quot;ui-draggable&quot;),n=s.options,a=t.extend({},i,{item:s.element});s.sortables=[],t(n.connectToSortable).each(function(){var i=t.data(this,&quot;ui-sortable&quot;);i&amp;&amp;!i.options.disabled&amp;&amp;(s.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger(&quot;activate&quot;,e,a))})},stop:function(e,i){var s=t(this).data(&quot;ui-draggable&quot;),n=t.extend({},i,{item:s.element});t.each(s.sortables,function(){this.instance.isOver?(this.instance.isOver=0,s.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&amp;&amp;(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(e),this.instance.options.helper=this.instance.options._helper,&quot;original&quot;===s.options.helper&amp;&amp;this.instance.currentItem.css({top:&quot;auto&quot;,left:&quot;auto&quot;})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger(&quot;deactivate&quot;,e,n))})},drag:function(e,i){var s=t(this).data(&quot;ui-draggable&quot;),n=this;t.each(s.sortables,function(){var a=!1,o=this;this.instance.positionAbs=s.positionAbs,this.instance.helperProportions=s.helperProportions,this.instance.offset.click=s.offset.click,this.instance._intersectsWith(this.instance.containerCache)&amp;&amp;(a=!0,t.each(s.sortables,function(){return this.instance.positionAbs=s.positionAbs,this.instance.helperProportions=s.helperProportions,this.instance.offset.click=s.offset.click,this!==o&amp;&amp;this.instance._intersectsWith(this.instance.containerCache)&amp;&amp;t.contains(o.instance.element[0],this.instance.element[0])&amp;&amp;(a=!1),a})),a?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=t(n).clone().removeAttr(&quot;id&quot;).appendTo(this.instance.element).data(&quot;ui-sortable-item&quot;,!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},e.target=this.instance.currentItem[0],this.instance._mouseCapture(e,!0),this.instance._mouseStart(e,!0,!0),this.instance.offset.click.top=s.offset.click.top,this.instance.offset.click.left=s.offset.click.left,this.instance.offset.parent.left-=s.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=s.offset.parent.top-this.instance.offset.parent.top,s._trigger(&quot;toSortable&quot;,e),s.dropped=this.instance.element,s.currentItem=s.element,this.instance.fromOutside=s),this.instance.currentItem&amp;&amp;this.instance._mouseDrag(e)):this.instance.isOver&amp;&amp;(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger(&quot;out&quot;,e,this.instance._uiHash(this.instance)),this.instance._mouseStop(e,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&amp;&amp;this.instance.placeholder.remove(),s._trigger(&quot;fromSortable&quot;,e),s.dropped=!1)})}}),t.ui.plugin.add(&quot;draggable&quot;,&quot;cursor&quot;,{start:function(){var e=t(&quot;body&quot;),i=t(this).data(&quot;ui-draggable&quot;).options;e.css(&quot;cursor&quot;)&amp;&amp;(i._cursor=e.css(&quot;cursor&quot;)),e.css(&quot;cursor&quot;,i.cursor)},stop:function(){var e=t(this).data(&quot;ui-draggable&quot;).options;e._cursor&amp;&amp;t(&quot;body&quot;).css(&quot;cursor&quot;,e._cursor)}}),t.ui.plugin.add(&quot;draggable&quot;,&quot;opacity&quot;,{start:function(e,i){var s=t(i.helper),n=t(this).data(&quot;ui-draggable&quot;).options;s.css(&quot;opacity&quot;)&amp;&amp;(n._opacity=s.css(&quot;opacity&quot;)),s.css(&quot;opacity&quot;,n.opacity)},stop:function(e,i){var s=t(this).data(&quot;ui-draggable&quot;).options;s._opacity&amp;&amp;t(i.helper).css(&quot;opacity&quot;,s._opacity)}}),t.ui.plugin.add(&quot;draggable&quot;,&quot;scroll&quot;,{start:function(){var e=t(this).data(&quot;ui-draggable&quot;);e.scrollParent[0]!==document&amp;&amp;&quot;HTML&quot;!==e.scrollParent[0].tagName&amp;&amp;(e.overflowOffset=e.scrollParent.offset())},drag:function(e){var i=t(this).data(&quot;ui-draggable&quot;),s=i.options,n=!1;i.scrollParent[0]!==document&amp;&amp;&quot;HTML&quot;!==i.scrollParent[0].tagName?(s.axis&amp;&amp;&quot;x&quot;===s.axis||(i.overflowOffset.top+i.scrollParent[0].offsetHeight-e.pageY&lt;s.scrollSensitivity?i.scrollParent[0].scrollTop=n=i.scrollParent[0].scrollTop+s.scrollSpeed:e.pageY-i.overflowOffset.top&lt;s.scrollSensitivity&amp;&amp;(i.scrollParent[0].scrollTop=n=i.scrollParent[0].scrollTop-s.scrollSpeed)),s.axis&amp;&amp;&quot;y&quot;===s.axis||(i.overflowOffset.left+i.scrollParent[0].offsetWidth-e.pageX&lt;s.scrollSensitivity?i.scrollParent[0].scrollLeft=n=i.scrollParent[0].scrollLeft+s.scrollSpeed:e.pageX-i.overflowOffset.left&lt;s.scrollSensitivity&amp;&amp;(i.scrollParent[0].scrollLeft=n=i.scrollParent[0].scrollLeft-s.scrollSpeed))):(s.axis&amp;&amp;&quot;x&quot;===s.axis||(e.pageY-t(document).scrollTop()&lt;s.scrollSensitivity?n=t(document).scrollTop(t(document).scrollTop()-s.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())&lt;s.scrollSensitivity&amp;&amp;(n=t(document).scrollTop(t(document).scrollTop()+s.scrollSpeed))),s.axis&amp;&amp;&quot;y&quot;===s.axis||(e.pageX-t(document).scrollLeft()&lt;s.scrollSensitivity?n=t(document).scrollLeft(t(document).scrollLeft()-s.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())&lt;s.scrollSensitivity&amp;&amp;(n=t(document).scrollLeft(t(document).scrollLeft()+s.scrollSpeed)))),n!==!1&amp;&amp;t.ui.ddmanager&amp;&amp;!s.dropBehaviour&amp;&amp;t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add(&quot;draggable&quot;,&quot;snap&quot;,{start:function(){var e=t(this).data(&quot;ui-draggable&quot;),i=e.options;e.snapElements=[],t(i.snap.constructor!==String?i.snap.items||&quot;:data(ui-draggable)&quot;:i.snap).each(function(){var i=t(this),s=i.offset();this!==e.element[0]&amp;&amp;e.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:s.top,left:s.left})})},drag:function(e,i){var s,n,a,o,r,h,l,c,u,d,p=t(this).data(&quot;ui-draggable&quot;),f=p.options,g=f.snapTolerance,m=i.offset.left,_=m+p.helperProportions.width,v=i.offset.top,b=v+p.helperProportions.height;for(u=p.snapElements.length-1;u&gt;=0;u--)r=p.snapElements[u].left,h=r+p.snapElements[u].width,l=p.snapElements[u].top,c=l+p.snapElements[u].height,r-g&gt;_||m&gt;h+g||l-g&gt;b||v&gt;c+g||!t.contains(p.snapElements[u].item.ownerDocument,p.snapElements[u].item)?(p.snapElements[u].snapping&amp;&amp;p.options.snap.release&amp;&amp;p.options.snap.release.call(p.element,e,t.extend(p._uiHash(),{snapItem:p.snapElements[u].item})),p.snapElements[u].snapping=!1):(&quot;inner&quot;!==f.snapMode&amp;&amp;(s=g&gt;=Math.abs(l-b),n=g&gt;=Math.abs(c-v),a=g&gt;=Math.abs(r-_),o=g&gt;=Math.abs(h-m),s&amp;&amp;(i.position.top=p._convertPositionTo(&quot;relative&quot;,{top:l-p.helperProportions.height,left:0}).top-p.margins.top),n&amp;&amp;(i.position.top=p._convertPositionTo(&quot;relative&quot;,{top:c,left:0}).top-p.margins.top),a&amp;&amp;(i.position.left=p._convertPositionTo(&quot;relative&quot;,{top:0,left:r-p.helperProportions.width}).left-p.margins.left),o&amp;&amp;(i.position.left=p._convertPositionTo(&quot;relative&quot;,{top:0,left:h}).left-p.margins.left)),d=s||n||a||o,&quot;outer&quot;!==f.snapMode&amp;&amp;(s=g&gt;=Math.abs(l-v),n=g&gt;=Math.abs(c-b),a=g&gt;=Math.abs(r-m),o=g&gt;=Math.abs(h-_),s&amp;&amp;(i.position.top=p._convertPositionTo(&quot;relative&quot;,{top:l,left:0}).top-p.margins.top),n&amp;&amp;(i.position.top=p._convertPositionTo(&quot;relative&quot;,{top:c-p.helperProportions.height,left:0}).top-p.margins.top),a&amp;&amp;(i.position.left=p._convertPositionTo(&quot;relative&quot;,{top:0,left:r}).left-p.margins.left),o&amp;&amp;(i.position.left=p._convertPositionTo(&quot;relative&quot;,{top:0,left:h-p.helperProportions.width}).left-p.margins.left)),!p.snapElements[u].snapping&amp;&amp;(s||n||a||o||d)&amp;&amp;p.options.snap.snap&amp;&amp;p.options.snap.snap.call(p.element,e,t.extend(p._uiHash(),{snapItem:p.snapElements[u].item})),p.snapElements[u].snapping=s||n||a||o||d)}}),t.ui.plugin.add(&quot;draggable&quot;,&quot;stack&quot;,{start:function(){var e,i=this.data(&quot;ui-draggable&quot;).options,s=t.makeArray(t(i.stack)).sort(function(e,i){return(parseInt(t(e).css(&quot;zIndex&quot;),10)||0)-(parseInt(t(i).css(&quot;zIndex&quot;),10)||0)});s.length&amp;&amp;(e=parseInt(t(s[0]).css(&quot;zIndex&quot;),10)||0,t(s).each(function(i){t(this).css(&quot;zIndex&quot;,e+i)}),this.css(&quot;zIndex&quot;,e+s.length))}}),t.ui.plugin.add(&quot;draggable&quot;,&quot;zIndex&quot;,{start:function(e,i){var s=t(i.helper),n=t(this).data(&quot;ui-draggable&quot;).options;s.css(&quot;zIndex&quot;)&amp;&amp;(n._zIndex=s.css(&quot;zIndex&quot;)),s.css(&quot;zIndex&quot;,n.zIndex)},stop:function(e,i){var s=t(this).data(&quot;ui-draggable&quot;).options;s._zIndex&amp;&amp;t(i.helper).css(&quot;zIndex&quot;,s._zIndex)}})})(jQuery);</pre>
</div>
<div title="jquery.ui.resizable.min.js" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405151019" tags="js excludeTimeline" content-type="text/javascript" changecount="2">
<pre>/*! jQuery UI - v1.10.4 - 2014-05-12
* http://jqueryui.com
* Copyright 2014 jQuery Foundation and other contributors; Licensed MIT */

(function(t){function e(t){return parseInt(t,10)||0}function i(t){return!isNaN(parseInt(t,10))}t.widget(&quot;ui.resizable&quot;,t.ui.mouse,{version:&quot;1.10.4&quot;,widgetEventPrefix:&quot;resize&quot;,options:{alsoResize:!1,animate:!1,animateDuration:&quot;slow&quot;,animateEasing:&quot;swing&quot;,aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:&quot;e,s,se&quot;,helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var e,i,s,n,o,a=this,r=this.options;if(this.element.addClass(&quot;ui-resizable&quot;),t.extend(this,{_aspectRatio:!!r.aspectRatio,aspectRatio:r.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:r.helper||r.ghost||r.animate?r.helper||&quot;ui-resizable-helper&quot;:null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&amp;&amp;(this.element.wrap(t(&quot;&lt;div class='ui-wrapper' style='overflow: hidden;'&gt;&lt;/div&gt;&quot;).css({position:this.element.css(&quot;position&quot;),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css(&quot;top&quot;),left:this.element.css(&quot;left&quot;)})),this.element=this.element.parent().data(&quot;ui-resizable&quot;,this.element.data(&quot;ui-resizable&quot;)),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css(&quot;marginLeft&quot;),marginTop:this.originalElement.css(&quot;marginTop&quot;),marginRight:this.originalElement.css(&quot;marginRight&quot;),marginBottom:this.originalElement.css(&quot;marginBottom&quot;)}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css(&quot;resize&quot;),this.originalElement.css(&quot;resize&quot;,&quot;none&quot;),this._proportionallyResizeElements.push(this.originalElement.css({position:&quot;static&quot;,zoom:1,display:&quot;block&quot;})),this.originalElement.css({margin:this.originalElement.css(&quot;margin&quot;)}),this._proportionallyResize()),this.handles=r.handles||(t(&quot;.ui-resizable-handle&quot;,this.element).length?{n:&quot;.ui-resizable-n&quot;,e:&quot;.ui-resizable-e&quot;,s:&quot;.ui-resizable-s&quot;,w:&quot;.ui-resizable-w&quot;,se:&quot;.ui-resizable-se&quot;,sw:&quot;.ui-resizable-sw&quot;,ne:&quot;.ui-resizable-ne&quot;,nw:&quot;.ui-resizable-nw&quot;}:&quot;e,s,se&quot;),this.handles.constructor===String)for(&quot;all&quot;===this.handles&amp;&amp;(this.handles=&quot;n,e,s,w,se,sw,ne,nw&quot;),e=this.handles.split(&quot;,&quot;),this.handles={},i=0;e.length&gt;i;i++)s=t.trim(e[i]),o=&quot;ui-resizable-&quot;+s,n=t(&quot;&lt;div class='ui-resizable-handle &quot;+o+&quot;'&gt;&lt;/div&gt;&quot;),n.css({zIndex:r.zIndex}),&quot;se&quot;===s&amp;&amp;n.addClass(&quot;ui-icon ui-icon-gripsmall-diagonal-se&quot;),this.handles[s]=&quot;.ui-resizable-&quot;+s,this.element.append(n);this._renderAxis=function(e){var i,s,n,o;e=e||this.element;for(i in this.handles)this.handles[i].constructor===String&amp;&amp;(this.handles[i]=t(this.handles[i],this.element).show()),this.elementIsWrapper&amp;&amp;this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&amp;&amp;(s=t(this.handles[i],this.element),o=/sw|ne|nw|se|n|s/.test(i)?s.outerHeight():s.outerWidth(),n=[&quot;padding&quot;,/ne|nw|n/.test(i)?&quot;Top&quot;:/se|sw|s/.test(i)?&quot;Bottom&quot;:/^e$/.test(i)?&quot;Right&quot;:&quot;Left&quot;].join(&quot;&quot;),e.css(n,o),this._proportionallyResize()),t(this.handles[i]).length},this._renderAxis(this.element),this._handles=t(&quot;.ui-resizable-handle&quot;,this.element).disableSelection(),this._handles.mouseover(function(){a.resizing||(this.className&amp;&amp;(n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=n&amp;&amp;n[1]?n[1]:&quot;se&quot;)}),r.autoHide&amp;&amp;(this._handles.hide(),t(this.element).addClass(&quot;ui-resizable-autohide&quot;).mouseenter(function(){r.disabled||(t(this).removeClass(&quot;ui-resizable-autohide&quot;),a._handles.show())}).mouseleave(function(){r.disabled||a.resizing||(t(this).addClass(&quot;ui-resizable-autohide&quot;),a._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeClass(&quot;ui-resizable ui-resizable-disabled ui-resizable-resizing&quot;).removeData(&quot;resizable&quot;).removeData(&quot;ui-resizable&quot;).unbind(&quot;.resizable&quot;).find(&quot;.ui-resizable-handle&quot;).remove()};return this.elementIsWrapper&amp;&amp;(i(this.element),e=this.element,this.originalElement.css({position:e.css(&quot;position&quot;),width:e.outerWidth(),height:e.outerHeight(),top:e.css(&quot;top&quot;),left:e.css(&quot;left&quot;)}).insertAfter(e),e.remove()),this.originalElement.css(&quot;resize&quot;,this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(e){var i,s,n=!1;for(i in this.handles)s=t(this.handles[i])[0],(s===e.target||t.contains(s,e.target))&amp;&amp;(n=!0);return!this.options.disabled&amp;&amp;n},_mouseStart:function(i){var s,n,o,a=this.options,r=this.element.position(),h=this.element;return this.resizing=!0,/absolute/.test(h.css(&quot;position&quot;))?h.css({position:&quot;absolute&quot;,top:h.css(&quot;top&quot;),left:h.css(&quot;left&quot;)}):h.is(&quot;.ui-draggable&quot;)&amp;&amp;h.css({position:&quot;absolute&quot;,top:r.top,left:r.left}),this._renderProxy(),s=e(this.helper.css(&quot;left&quot;)),n=e(this.helper.css(&quot;top&quot;)),a.containment&amp;&amp;(s+=t(a.containment).scrollLeft()||0,n+=t(a.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:s,top:n},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:h.width(),height:h.height()},this.originalSize=this._helper?{width:h.outerWidth(),height:h.outerHeight()}:{width:h.width(),height:h.height()},this.originalPosition={left:s,top:n},this.sizeDiff={width:h.outerWidth()-h.width(),height:h.outerHeight()-h.height()},this.originalMousePosition={left:i.pageX,top:i.pageY},this.aspectRatio=&quot;number&quot;==typeof a.aspectRatio?a.aspectRatio:this.originalSize.width/this.originalSize.height||1,o=t(&quot;.ui-resizable-&quot;+this.axis).css(&quot;cursor&quot;),t(&quot;body&quot;).css(&quot;cursor&quot;,&quot;auto&quot;===o?this.axis+&quot;-resize&quot;:o),h.addClass(&quot;ui-resizable-resizing&quot;),this._propagate(&quot;start&quot;,i),!0},_mouseDrag:function(e){var i,s=this.helper,n={},o=this.originalMousePosition,a=this.axis,r=this.position.top,h=this.position.left,l=this.size.width,c=this.size.height,u=e.pageX-o.left||0,d=e.pageY-o.top||0,p=this._change[a];return p?(i=p.apply(this,[e,u,d]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&amp;&amp;(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate(&quot;resize&quot;,e),this.position.top!==r&amp;&amp;(n.top=this.position.top+&quot;px&quot;),this.position.left!==h&amp;&amp;(n.left=this.position.left+&quot;px&quot;),this.size.width!==l&amp;&amp;(n.width=this.size.width+&quot;px&quot;),this.size.height!==c&amp;&amp;(n.height=this.size.height+&quot;px&quot;),s.css(n),!this._helper&amp;&amp;this._proportionallyResizeElements.length&amp;&amp;this._proportionallyResize(),t.isEmptyObject(n)||this._trigger(&quot;resize&quot;,e,this.ui()),!1):!1},_mouseStop:function(e){this.resizing=!1;var i,s,n,o,a,r,h,l=this.options,c=this;return this._helper&amp;&amp;(i=this._proportionallyResizeElements,s=i.length&amp;&amp;/textarea/i.test(i[0].nodeName),n=s&amp;&amp;t.ui.hasScroll(i[0],&quot;left&quot;)?0:c.sizeDiff.height,o=s?0:c.sizeDiff.width,a={width:c.helper.width()-o,height:c.helper.height()-n},r=parseInt(c.element.css(&quot;left&quot;),10)+(c.position.left-c.originalPosition.left)||null,h=parseInt(c.element.css(&quot;top&quot;),10)+(c.position.top-c.originalPosition.top)||null,l.animate||this.element.css(t.extend(a,{top:h,left:r})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&amp;&amp;!l.animate&amp;&amp;this._proportionallyResize()),t(&quot;body&quot;).css(&quot;cursor&quot;,&quot;auto&quot;),this.element.removeClass(&quot;ui-resizable-resizing&quot;),this._propagate(&quot;stop&quot;,e),this._helper&amp;&amp;this.helper.remove(),!1},_updateVirtualBoundaries:function(t){var e,s,n,o,a,r=this.options;a={minWidth:i(r.minWidth)?r.minWidth:0,maxWidth:i(r.maxWidth)?r.maxWidth:1/0,minHeight:i(r.minHeight)?r.minHeight:0,maxHeight:i(r.maxHeight)?r.maxHeight:1/0},(this._aspectRatio||t)&amp;&amp;(e=a.minHeight*this.aspectRatio,n=a.minWidth/this.aspectRatio,s=a.maxHeight*this.aspectRatio,o=a.maxWidth/this.aspectRatio,e&gt;a.minWidth&amp;&amp;(a.minWidth=e),n&gt;a.minHeight&amp;&amp;(a.minHeight=n),a.maxWidth&gt;s&amp;&amp;(a.maxWidth=s),a.maxHeight&gt;o&amp;&amp;(a.maxHeight=o)),this._vBoundaries=a},_updateCache:function(t){this.offset=this.helper.offset(),i(t.left)&amp;&amp;(this.position.left=t.left),i(t.top)&amp;&amp;(this.position.top=t.top),i(t.height)&amp;&amp;(this.size.height=t.height),i(t.width)&amp;&amp;(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,s=this.size,n=this.axis;return i(t.height)?t.width=t.height*this.aspectRatio:i(t.width)&amp;&amp;(t.height=t.width/this.aspectRatio),&quot;sw&quot;===n&amp;&amp;(t.left=e.left+(s.width-t.width),t.top=null),&quot;nw&quot;===n&amp;&amp;(t.top=e.top+(s.height-t.height),t.left=e.left+(s.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,s=this.axis,n=i(t.width)&amp;&amp;e.maxWidth&amp;&amp;e.maxWidth&lt;t.width,o=i(t.height)&amp;&amp;e.maxHeight&amp;&amp;e.maxHeight&lt;t.height,a=i(t.width)&amp;&amp;e.minWidth&amp;&amp;e.minWidth&gt;t.width,r=i(t.height)&amp;&amp;e.minHeight&amp;&amp;e.minHeight&gt;t.height,h=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,c=/sw|nw|w/.test(s),u=/nw|ne|n/.test(s);return a&amp;&amp;(t.width=e.minWidth),r&amp;&amp;(t.height=e.minHeight),n&amp;&amp;(t.width=e.maxWidth),o&amp;&amp;(t.height=e.maxHeight),a&amp;&amp;c&amp;&amp;(t.left=h-e.minWidth),n&amp;&amp;c&amp;&amp;(t.left=h-e.maxWidth),r&amp;&amp;u&amp;&amp;(t.top=l-e.minHeight),o&amp;&amp;u&amp;&amp;(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var t,e,i,s,n,o=this.helper||this.element;for(t=0;this._proportionallyResizeElements.length&gt;t;t++){if(n=this._proportionallyResizeElements[t],!this.borderDif)for(this.borderDif=[],i=[n.css(&quot;borderTopWidth&quot;),n.css(&quot;borderRightWidth&quot;),n.css(&quot;borderBottomWidth&quot;),n.css(&quot;borderLeftWidth&quot;)],s=[n.css(&quot;paddingTop&quot;),n.css(&quot;paddingRight&quot;),n.css(&quot;paddingBottom&quot;),n.css(&quot;paddingLeft&quot;)],e=0;i.length&gt;e;e++)this.borderDif[e]=(parseInt(i[e],10)||0)+(parseInt(s[e],10)||0);n.css({height:o.height()-this.borderDif[0]-this.borderDif[2]||0,width:o.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t(&quot;&lt;div style='overflow:hidden;'&gt;&lt;/div&gt;&quot;),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:&quot;absolute&quot;,left:this.elementOffset.left+&quot;px&quot;,top:this.elementOffset.top+&quot;px&quot;,zIndex:++i.zIndex}),this.helper.appendTo(&quot;body&quot;).disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize,s=this.originalPosition;return{left:s.left+e,width:i.width-e}},n:function(t,e,i){var s=this.originalSize,n=this.originalPosition;return{top:n.top+i,height:s.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},sw:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,s]))},ne:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},nw:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,s]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),&quot;resize&quot;!==e&amp;&amp;this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add(&quot;resizable&quot;,&quot;animate&quot;,{stop:function(e){var i=t(this).data(&quot;ui-resizable&quot;),s=i.options,n=i._proportionallyResizeElements,o=n.length&amp;&amp;/textarea/i.test(n[0].nodeName),a=o&amp;&amp;t.ui.hasScroll(n[0],&quot;left&quot;)?0:i.sizeDiff.height,r=o?0:i.sizeDiff.width,h={width:i.size.width-r,height:i.size.height-a},l=parseInt(i.element.css(&quot;left&quot;),10)+(i.position.left-i.originalPosition.left)||null,c=parseInt(i.element.css(&quot;top&quot;),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(h,c&amp;&amp;l?{top:c,left:l}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseInt(i.element.css(&quot;width&quot;),10),height:parseInt(i.element.css(&quot;height&quot;),10),top:parseInt(i.element.css(&quot;top&quot;),10),left:parseInt(i.element.css(&quot;left&quot;),10)};n&amp;&amp;n.length&amp;&amp;t(n[0]).css({width:s.width,height:s.height}),i._updateCache(s),i._propagate(&quot;resize&quot;,e)}})}}),t.ui.plugin.add(&quot;resizable&quot;,&quot;containment&quot;,{start:function(){var i,s,n,o,a,r,h,l=t(this).data(&quot;ui-resizable&quot;),c=l.options,u=l.element,d=c.containment,p=d instanceof t?d.get(0):/parent/.test(d)?u.parent().get(0):d;p&amp;&amp;(l.containerElement=t(p),/document/.test(d)||d===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(i=t(p),s=[],t([&quot;Top&quot;,&quot;Right&quot;,&quot;Left&quot;,&quot;Bottom&quot;]).each(function(t,n){s[t]=e(i.css(&quot;padding&quot;+n))}),l.containerOffset=i.offset(),l.containerPosition=i.position(),l.containerSize={height:i.innerHeight()-s[3],width:i.innerWidth()-s[1]},n=l.containerOffset,o=l.containerSize.height,a=l.containerSize.width,r=t.ui.hasScroll(p,&quot;left&quot;)?p.scrollWidth:a,h=t.ui.hasScroll(p)?p.scrollHeight:o,l.parentData={element:p,left:n.left,top:n.top,width:r,height:h}))},resize:function(e){var i,s,n,o,a=t(this).data(&quot;ui-resizable&quot;),r=a.options,h=a.containerOffset,l=a.position,c=a._aspectRatio||e.shiftKey,u={top:0,left:0},d=a.containerElement;d[0]!==document&amp;&amp;/static/.test(d.css(&quot;position&quot;))&amp;&amp;(u=h),l.left&lt;(a._helper?h.left:0)&amp;&amp;(a.size.width=a.size.width+(a._helper?a.position.left-h.left:a.position.left-u.left),c&amp;&amp;(a.size.height=a.size.width/a.aspectRatio),a.position.left=r.helper?h.left:0),l.top&lt;(a._helper?h.top:0)&amp;&amp;(a.size.height=a.size.height+(a._helper?a.position.top-h.top:a.position.top),c&amp;&amp;(a.size.width=a.size.height*a.aspectRatio),a.position.top=a._helper?h.top:0),a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top,i=Math.abs((a._helper?a.offset.left-u.left:a.offset.left-u.left)+a.sizeDiff.width),s=Math.abs((a._helper?a.offset.top-u.top:a.offset.top-h.top)+a.sizeDiff.height),n=a.containerElement.get(0)===a.element.parent().get(0),o=/relative|absolute/.test(a.containerElement.css(&quot;position&quot;)),n&amp;&amp;o&amp;&amp;(i-=Math.abs(a.parentData.left)),i+a.size.width&gt;=a.parentData.width&amp;&amp;(a.size.width=a.parentData.width-i,c&amp;&amp;(a.size.height=a.size.width/a.aspectRatio)),s+a.size.height&gt;=a.parentData.height&amp;&amp;(a.size.height=a.parentData.height-s,c&amp;&amp;(a.size.width=a.size.height*a.aspectRatio))},stop:function(){var e=t(this).data(&quot;ui-resizable&quot;),i=e.options,s=e.containerOffset,n=e.containerPosition,o=e.containerElement,a=t(e.helper),r=a.offset(),h=a.outerWidth()-e.sizeDiff.width,l=a.outerHeight()-e.sizeDiff.height;e._helper&amp;&amp;!i.animate&amp;&amp;/relative/.test(o.css(&quot;position&quot;))&amp;&amp;t(this).css({left:r.left-n.left-s.left,width:h,height:l}),e._helper&amp;&amp;!i.animate&amp;&amp;/static/.test(o.css(&quot;position&quot;))&amp;&amp;t(this).css({left:r.left-n.left-s.left,width:h,height:l})}}),t.ui.plugin.add(&quot;resizable&quot;,&quot;alsoResize&quot;,{start:function(){var e=t(this).data(&quot;ui-resizable&quot;),i=e.options,s=function(e){t(e).each(function(){var e=t(this);e.data(&quot;ui-resizable-alsoresize&quot;,{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css(&quot;left&quot;),10),top:parseInt(e.css(&quot;top&quot;),10)})})};&quot;object&quot;!=typeof i.alsoResize||i.alsoResize.parentNode?s(i.alsoResize):i.alsoResize.length?(i.alsoResize=i.alsoResize[0],s(i.alsoResize)):t.each(i.alsoResize,function(t){s(t)})},resize:function(e,i){var s=t(this).data(&quot;ui-resizable&quot;),n=s.options,o=s.originalSize,a=s.originalPosition,r={height:s.size.height-o.height||0,width:s.size.width-o.width||0,top:s.position.top-a.top||0,left:s.position.left-a.left||0},h=function(e,s){t(e).each(function(){var e=t(this),n=t(this).data(&quot;ui-resizable-alsoresize&quot;),o={},a=s&amp;&amp;s.length?s:e.parents(i.originalElement[0]).length?[&quot;width&quot;,&quot;height&quot;]:[&quot;width&quot;,&quot;height&quot;,&quot;top&quot;,&quot;left&quot;];t.each(a,function(t,e){var i=(n[e]||0)+(r[e]||0);i&amp;&amp;i&gt;=0&amp;&amp;(o[e]=i||null)}),e.css(o)})};&quot;object&quot;!=typeof n.alsoResize||n.alsoResize.nodeType?h(n.alsoResize):t.each(n.alsoResize,function(t,e){h(t,e)})},stop:function(){t(this).removeData(&quot;resizable-alsoresize&quot;)}}),t.ui.plugin.add(&quot;resizable&quot;,&quot;ghost&quot;,{start:function(){var e=t(this).data(&quot;ui-resizable&quot;),i=e.options,s=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:&quot;block&quot;,position:&quot;relative&quot;,height:s.height,width:s.width,margin:0,left:0,top:0}).addClass(&quot;ui-resizable-ghost&quot;).addClass(&quot;string&quot;==typeof i.ghost?i.ghost:&quot;&quot;),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).data(&quot;ui-resizable&quot;);e.ghost&amp;&amp;e.ghost.css({position:&quot;relative&quot;,height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).data(&quot;ui-resizable&quot;);e.ghost&amp;&amp;e.helper&amp;&amp;e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add(&quot;resizable&quot;,&quot;grid&quot;,{resize:function(){var e=t(this).data(&quot;ui-resizable&quot;),i=e.options,s=e.size,n=e.originalSize,o=e.originalPosition,a=e.axis,r=&quot;number&quot;==typeof i.grid?[i.grid,i.grid]:i.grid,h=r[0]||1,l=r[1]||1,c=Math.round((s.width-n.width)/h)*h,u=Math.round((s.height-n.height)/l)*l,d=n.width+c,p=n.height+u,f=i.maxWidth&amp;&amp;d&gt;i.maxWidth,g=i.maxHeight&amp;&amp;p&gt;i.maxHeight,m=i.minWidth&amp;&amp;i.minWidth&gt;d,v=i.minHeight&amp;&amp;i.minHeight&gt;p;i.grid=r,m&amp;&amp;(d+=h),v&amp;&amp;(p+=l),f&amp;&amp;(d-=h),g&amp;&amp;(p-=l),/^(se|s|e)$/.test(a)?(e.size.width=d,e.size.height=p):/^(ne)$/.test(a)?(e.size.width=d,e.size.height=p,e.position.top=o.top-u):/^(sw)$/.test(a)?(e.size.width=d,e.size.height=p,e.position.left=o.left-c):(p-l&gt;0?(e.size.height=p,e.position.top=o.top-u):(e.size.height=l,e.position.top=o.top+n.height-l),d-h&gt;0?(e.size.width=d,e.position.left=o.left-c):(e.size.width=h,e.position.left=o.left+n.width-h))}})})(jQuery);</pre>
</div>
<div title="lettering.js" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405151204" tags="js excludeTimeline" content-type="text/javascript" changecount="3">
<pre>/* Lettering.JS 0.6.1 by Dave Rupert  - http://daverupert.com */
(function($){function injector(t,splitter,klass,after){var a=t.text().split(splitter),inject='';if(a.length){$(a).each(function(i,item){inject+='&lt;span class=&quot;'+klass+(i+1)+'&quot;&gt;'+item+'&lt;/span&gt;'+after});t.empty().append(inject)}}var methods={init:function(){return this.each(function(){injector($(this),'','char','')})},words:function(){return this.each(function(){injector($(this),' ','word',' ')})},lines:function(){return this.each(function(){var r=&quot;eefec303079ad17405c889e092e105b0&quot;;injector($(this).children(&quot;br&quot;).replaceWith(r).end(),r,'line','')})}};$.fn.lettering=function(method){if(method&amp;&amp;methods[method]){return methods[method].apply(this,[].slice.call(arguments,1))}else if(method==='letters'||!method){return methods.init.apply(this,[].slice.call(arguments,0))}$.error('Method '+method+' does not exist on jQuery.lettering');return this}})(jQuery);</pre>
</div>
<div title="listAllTags.js" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405160638" tags="js excludeTimeline" content-type="text/javascript" changecount="5">
<pre>var popup = Popup.create(button);
var tags = store.getTags();
for(var t=0; t&lt;tags.length; t++){
 var theTag = createTiddlyButton(createTiddlyElement(popup,&quot;li&quot;),tags[t][0],null,onClickTag);
 theTag.setAttribute(&quot;tag&quot;,tags[t][0]);
}
Popup.show(popup,true);

alert('the popup will be closed when you press ok\n\n(still some bugs...)');
</pre>
</div>
<div title="mathJs Examples" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405140820" modified="201405150003" tags="Reference excludeTimeline" content-type="text/x-tiddlywiki" changecount="109">
<pre>Combined mathJs and MathJax output.

&lt;script&gt;
var math = mathjs();


// basic usage

/**
 * Helper function to output a value in the console. Value will be formatted.
 * @param {*} value
 */
function print (value) {
  var precision = 5;
  document.write('\\('  +  '\\rm '+value +' = ' + math.format(eval(value), precision) + ' \\)' );
  document.write('&lt;br&gt;');
}

function br () {document.write('&lt;br&gt;');}

// functions and constants
document.write('&lt;u&gt;functions and constants&lt;/u&gt;');br();
print('math.round(math.e, 3)');           // 2.718
print('math.atan2(3, -3) / math.pi');     // 0.75
print('math.log(10000, 10)');             // 4
print('math.sqrt(-4)');                   // 2i
print('math.pow([[-1, 2], [3, 1]], 2)');  // [[7, 0], [0, 7]]
br();

// expressions
document.write('&lt;u&gt;expressions&lt;/u&gt;');br();
print(&quot;math.eval('1.2 * (2 + 4.5)')&quot;);    // 7.8
print(&quot;math.eval('5.08 cm to inch')&quot;);    // 2 inch
print(&quot; math.eval('sin(45 deg)') &quot;);    // 0.5
print(&quot;math.eval('9 / 3 + 2i')&quot;);         // 3 + 2i
print(&quot;math.eval('det([-1, 2; 3, 1])')&quot;); // -7
br();

// chained operations
document.write('&lt;u&gt;chained operations&lt;/u&gt;');br();
print(&quot;math.select(3).add(4).multiply(2).done();&quot;);// 14

br();

// mixed use of different data types in functions
document.write('&lt;u&gt;mixed use of data types&lt;/u&gt;');br();
print(&quot;math.add(4, [5, 6])&quot;);                   // Number + array, [9, 10]
print(&quot;math.multiply(math.unit('5 mm'), 3)&quot;);   // Unit * Number,  15 mm
print(&quot;math.subtract([2, 3, 4], 5)&quot;);           // Array - Number, [-3, -2, -1]
print(&quot;math.add(math.matrix([2, 3]), [4, 5])&quot;); // Matrix + Array, [6, 8]
br();

&lt;/script&gt;</pre>
</div>
<div title="mathJsPlugin" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405140630" modified="201405140634" tags="excludeTimeline systemConfig" content-type="text/x-tiddlywiki" changecount="9">
<pre>/***
 * math.js
 * https://github.com/josdejong/mathjs
 *
 * Math.js is an extensive math library for JavaScript and Node.js,
 * It features real and complex numbers, units, matrices, a large set of
 * mathematical functions, and a flexible expression parser.
 *
 * @version 0.21.1
 * @date    2014-05-13
 *
 * @license
 * Copyright (C) 2013-2014 Jos de Jong &lt;wjosdejong@gmail.com&gt;
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;); you may not
 * use this file except in compliance with the License. You may obtain a copy
 * of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS, WITHOUT
 * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 * License for the specific language governing permissions and limitations under
 * the License.
***/
//{{{
!function(e,r){&quot;object&quot;==typeof exports&amp;&amp;&quot;object&quot;==typeof module?module.exports=r(require(&quot;crypto&quot;)):&quot;function&quot;==typeof define&amp;&amp;define.amd?define([&quot;crypto&quot;],r):&quot;object&quot;==typeof exports?exports.mathjs=r(require(&quot;crypto&quot;)):e.mathjs=r(e.crypto)}(this,function(e){return function(e){function r(t){if(n[t])return n[t].exports;var i=n[t]={exports:{},id:t,loaded:!1};return e[t].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}var n={};return r.m=e,r.c=n,r.p=&quot;&quot;,r(0)}([function(e,r,n){e.exports=n(1)},function(e,r,n){function t(e){if(&quot;function&quot;!=typeof Object.create)throw new Error(&quot;ES5 not supported by this JavaScript engine. Please load the es5-shim and es5-sham library for compatibility.&quot;);var r={},t={matrix:&quot;matrix&quot;,number:&quot;number&quot;,precision:20,epsilon:1e-14};r.config=function(e){if(e){if(i.deepExtend(t,e),e.precision&amp;&amp;r.type.BigNumber.config({precision:e.precision}),e.number&amp;&amp;e.number.defaultType)throw new Error(&quot;setting `number.defaultType` is deprecated. Use `number` instead.&quot;);if(e.number&amp;&amp;e.number.precision)throw new Error(&quot;setting `number.precision` is deprecated. Use `precision` instead.&quot;);if(e.matrix&amp;&amp;e.matrix.defaultType)throw new Error(&quot;setting `matrix.defaultType` is deprecated. Use `matrix` instead.&quot;);if(e.matrix&amp;&amp;e.matrix[&quot;default&quot;])throw new Error(&quot;setting `matrix.default` is deprecated. Use `matrix` instead.&quot;);if(e.decimals)throw new Error(&quot;setting `decimals` is deprecated. Use `precision` instead.&quot;)}return i.clone(t)};var o=n(118).constructor();if(&quot;function&quot;!=typeof o.prototype.clone&amp;&amp;(o.prototype.clone=function(){return new o(this)}),&quot;function&quot;==typeof o.convert)throw new Error(&quot;Cannot add function convert to BigNumber: function already exists&quot;);return o.convert=function(e){return digits(e)&gt;15?e:new o(e)},r.error=n(4),r.type={},r.type.Complex=n(5),r.type.Range=n(6),r.type.Index=n(7),r.type.Matrix=n(8),r.type.Unit=n(9),r.type.Help=n(10),r.type.BigNumber=o,r.collection=n(11),r.expression={},r.expression.node=n(14),r.expression.parse=n(12),r.expression.Parser=n(13),r.expression.docs=n(15),n(17)(r,t),n(18)(r,t),n(19)(r,t),n(20)(r,t),n(21)(r,t),n(22)(r,t),n(23)(r,t),n(24)(r,t),n(25)(r,t),n(26)(r,t),n(27)(r,t),n(28)(r,t),n(29)(r,t),n(30)(r,t),n(31)(r,t),n(32)(r,t),n(33)(r,t),n(34)(r,t),n(35)(r,t),n(36)(r,t),n(37)(r,t),n(38)(r,t),n(39)(r,t),n(40)(r,t),n(41)(r,t),n(42)(r,t),n(43)(r,t),n(44)(r,t),n(45)(r,t),n(46)(r,t),n(47)(r,t),n(48)(r,t),n(49)(r,t),n(50)(r,t),n(51)(r,t),n(52)(r,t),n(53)(r,t),n(54)(r,t),n(55)(r,t),n(56)(r,t),n(57)(r,t),n(58)(r,t),n(59)(r,t),n(60)(r,t),n(61)(r,t),n(62)(r,t),n(63)(r,t),n(64)(r,t),n(65)(r,t),n(66)(r,t),n(67)(r,t),n(68)(r,t),n(69)(r,t),n(70)(r,t),n(71)(r,t),n(72)(r,t),n(73)(r,t),n(74)(r,t),n(75)(r,t),n(76)(r,t),n(77)(r,t),n(78)(r,t),n(79)(r,t),n(80)(r,t),n(81)(r,t),n(82)(r,t),n(83)(r,t),n(84)(r,t),n(85)(r,t),n(86)(r,t),n(87)(r,t),n(88)(r,t),n(89)(r,t),n(90)(r,t),n(91)(r,t),n(92)(r,t),n(93)(r,t),n(94)(r,t),n(95)(r,t),n(96)(r,t),n(97)(r,t),n(98)(r,t),n(99)(r,t),n(100)(r,t),n(101)(r,t),n(102)(r,t),n(103)(r,t),n(104)(r,t),n(105)(r,t),n(106)(r,t),n(107)(r,t),n(108)(r,t),n(109)(r,t),n(110)(r,t),n(111)(r,t),n(112)(r,t),n(113)(r,t),n(114)(r,t),n(115)(r,t),n(116)(r,t),n(117)(r,t),n(2)(r,t),r.chaining={},r.chaining.Selector=n(16)(r,t),r.config(e),r}var i=n(3);e.exports=t},function(e,r,n){e.exports=function(e){var r=n(5);e.pi=Math.PI,e.e=Math.E,e.tau=2*Math.PI,e.i=new r(0,1),e.Infinity=1/0,e.NaN=0/0,e[&quot;true&quot;]=!0,e[&quot;false&quot;]=!1,e.E=Math.E,e.LN2=Math.LN2,e.LN10=Math.LN10,e.LOG2E=Math.LOG2E,e.LOG10E=Math.LOG10E,e.PI=Math.PI,e.SQRT1_2=Math.SQRT1_2,e.SQRT2=Math.SQRT2}},function(e,r){r.clone=function n(e){var r=typeof e;if(&quot;number&quot;===r||&quot;string&quot;===r||&quot;boolean&quot;===r||null===e||void 0===e)return e;if(&quot;function&quot;==typeof e.clone)return e.clone();if(Array.isArray(e))return e.map(function(e){return n(e)});if(e instanceof Number)return new Number(e.valueOf());if(e instanceof String)return new String(e.valueOf());if(e instanceof Boolean)return new Boolean(e.valueOf());if(e instanceof Date)return new Date(e.valueOf());if(e instanceof RegExp)throw new TypeError(&quot;Cannot clone &quot;+e);var t={};for(var i in e)e.hasOwnProperty(i)&amp;&amp;(t[i]=n(e[i]));return t},r.extend=function(e,r){for(var n in r)r.hasOwnProperty(n)&amp;&amp;(e[n]=r[n]);return e},r.deepExtend=function t(e,r){if(Array.isArray(r))throw new TypeError(&quot;Arrays are not supported by deepExtend&quot;);for(var n in r)if(r.hasOwnProperty(n))if(r[n]&amp;&amp;r[n].constructor===Object)void 0===e[n]&amp;&amp;(e[n]={}),e[n].constructor===Object?t(e[n],r[n]):e[n]=r[n];else{if(Array.isArray(r[n]))throw new TypeError(&quot;Arrays are not supported by deepExtend&quot;);e[n]=r[n]}return e},r.deepEqual=function(e,n){var t,i,o;if(Array.isArray(e)){if(!Array.isArray(n))return!1;if(e.length!=n.length)return!1;for(i=0,o=e.length;o&gt;i;i++)if(!r.deepEqual(e[i],n[i]))return!1;return!0}if(e instanceof Object){if(Array.isArray(n)||!(n instanceof Object))return!1;for(t in e)if(!r.deepEqual(e[t],n[t]))return!1;for(t in n)if(!r.deepEqual(e[t],n[t]))return!1;return!0}return typeof e==typeof n&amp;&amp;e==n}},function(e,r,n){r.ArgumentsError=n(119),r.DimensionError=n(120),r.IndexError=n(121),r.UnsupportedTypeError=n(122)},function(e,r,n){function t(e,r){if(!(this instanceof t))throw new SyntaxError(&quot;Constructor must be called with the new operator&quot;);switch(arguments.length){case 0:this.re=0,this.im=0;break;case 1:var n=arguments[0];if(&quot;object&quot;==typeof n){if(&quot;re&quot;in n&amp;&amp;&quot;im&quot;in n){var i=new t(n.re,n.im);this.re=i.re,this.im=i.im;break}if(&quot;r&quot;in n&amp;&amp;&quot;phi&quot;in n){var i=t.fromPolar(n.r,n.phi);this.re=i.re,this.im=i.im;break}}throw new SyntaxError(&quot;Object with the re and im or r and phi properties expected.&quot;);case 2:if(!h(e)||!h(r))throw new TypeError(&quot;Two numbers expected in Complex constructor&quot;);this.re=e,this.im=r;break;default:throw new SyntaxError(&quot;One, two or three arguments expected in Complex constructor&quot;)}}function i(){for(;&quot; &quot;==y||&quot;	&quot;==y;)s()}function o(e){return e&gt;=&quot;0&quot;&amp;&amp;&quot;9&quot;&gt;=e||&quot;.&quot;==e}function a(e){return e&gt;=&quot;0&quot;&amp;&amp;&quot;9&quot;&gt;=e}function s(){w++,y=x.charAt(w)}function u(e){w=e,y=x.charAt(w)}function f(){var e,r=&quot;&quot;;if(e=w,&quot;+&quot;==y?s():&quot;-&quot;==y&amp;&amp;(r+=y,s()),!o(y))return u(e),null;if(&quot;.&quot;==y){if(r+=y,s(),!a(y))return u(e),null}else{for(;a(y);)r+=y,s();&quot;.&quot;==y&amp;&amp;(r+=y,s())}for(;a(y);)r+=y,s();if(&quot;E&quot;==y||&quot;e&quot;==y){if(r+=y,s(),(&quot;+&quot;==y||&quot;-&quot;==y)&amp;&amp;(r+=y,s()),!a(y))return u(e),null;for(;a(y);)r+=y,s()}return r}function c(){var e=x.charAt(w+1);if(&quot;I&quot;==y||&quot;i&quot;==y)return s(),&quot;1&quot;;if(!(&quot;+&quot;!=y&amp;&amp;&quot;-&quot;!=y||&quot;I&quot;!=e&amp;&amp;&quot;i&quot;!=e)){var r=&quot;+&quot;==y?&quot;1&quot;:&quot;-1&quot;;return s(),s(),r}return null}var l=n(123),p=n(9),m=l.number,h=l.number.isNumber,g=p.isUnit,d=l.string.isString;t.isComplex=function(e){return e instanceof t};var x,w,y;t.parse=function(e){if(x=e,w=-1,y=&quot;&quot;,!d(x))return null;s(),i();var r=f();if(r){if(&quot;I&quot;==y||&quot;i&quot;==y)return s(),i(),y?null:new t(0,Number(r));i();var n=y;if(&quot;+&quot;!=n&amp;&amp;&quot;-&quot;!=n)return i(),y?null:new t(Number(r),0);s(),i();var o=f();if(o){if(&quot;I&quot;!=y&amp;&amp;&quot;i&quot;!=y)return null;s()}else if(o=c(),!o)return null;return&quot;-&quot;==n&amp;&amp;(o=&quot;-&quot;==o[0]?&quot;+&quot;+o.substring(1):&quot;-&quot;+o),s(),i(),y?null:new t(Number(r),Number(o))}return(r=c())?(i(),y?null:new t(0,Number(r))):null},t.fromPolar=function(){switch(arguments.length){case 1:var e=arguments[0];if(&quot;object&quot;==typeof e)return t.fromPolar(e.r,e.phi);throw new TypeError(&quot;Input has to be an object with r and phi keys.&quot;);case 2:var r=arguments[0],n=arguments[1];if(h(r)){if(g(n)&amp;&amp;n.hasBase(p.BASE_UNITS.ANGLE)&amp;&amp;(n=n.toNumber(&quot;rad&quot;)),h(n))return new t(r*Math.cos(n),r*Math.sin(n));throw new TypeError(&quot;Phi is not a number nor an angle unit.&quot;)}throw new TypeError(&quot;Radius r is not a number.&quot;);default:throw new SyntaxError(&quot;Wrong number of arguments in function fromPolar&quot;)}},t.prototype.toPolar=function(){return{r:Math.sqrt(this.re*this.re+this.im*this.im),phi:Math.atan2(this.im,this.re)}},t.prototype.clone=function(){return new t(this.re,this.im)},t.prototype.equals=function(e){return this.re===e.re&amp;&amp;this.im===e.im},t.prototype.format=function(e){var r=&quot;&quot;,n=m.format(this.re,e),t=m.format(this.im,e);return r=0==this.im?n:0==this.re?1==this.im?&quot;i&quot;:-1==this.im?&quot;-i&quot;:t+&quot;i&quot;:this.im&gt;0?1==this.im?n+&quot; + i&quot;:n+&quot; + &quot;+t+&quot;i&quot;:-1==this.im?n+&quot; - i&quot;:n+&quot; - &quot;+t.substring(1)+&quot;i&quot;},t.prototype.toString=function(){return this.format()},e.exports=t},function(e,r,n){function t(e,r,n){if(!(this instanceof t))throw new SyntaxError(&quot;Constructor must be called with the new operator&quot;);if(null!=e&amp;&amp;!o.isNumber(e))throw new TypeError(&quot;Parameter start must be a number&quot;);if(null!=r&amp;&amp;!o.isNumber(r))throw new TypeError(&quot;Parameter end must be a number&quot;);if(null!=n&amp;&amp;!o.isNumber(n))throw new TypeError(&quot;Parameter step must be a number&quot;);this.start=null!=e?parseFloat(e):0,this.end=null!=r?parseFloat(r):0,this.step=null!=n?parseFloat(n):1}{var i=n(123),o=i.number,a=i.string;i.array}t.parse=function(e){if(!a.isString(e))return null;var r=e.split(&quot;:&quot;),n=r.map(function(e){return parseFloat(e)}),i=n.some(function(e){return isNaN(e)});if(i)return null;switch(n.length){case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[2],n[1]);default:return null}},t.prototype.clone=function(){return new t(this.start,this.end,this.step)},t.isRange=function(e){return e instanceof t},t.prototype.size=function(){var e=0,r=this.start,n=this.step,t=this.end,i=t-r;return o.sign(n)==o.sign(i)?e=Math.ceil(i/n):0==i&amp;&amp;(e=0),isNaN(e)&amp;&amp;(e=0),[e]},t.prototype.min=function(){var e=this.size()[0];return e&gt;0?this.step&gt;0?this.start:this.start+(e-1)*this.step:void 0},t.prototype.max=function(){var e=this.size()[0];return e&gt;0?this.step&gt;0?this.start+(e-1)*this.step:this.start:void 0},t.prototype.forEach=function(e){var r=this.start,n=this.step,t=this.end,i=0;if(n&gt;0)for(;t&gt;r;)e(r,i,this),r+=n,i++;else if(0&gt;n)for(;r&gt;t;)e(r,i,this),r+=n,i++},t.prototype.map=function(e){var r=[];return this.forEach(function(n,t,i){r[t]=e(n,t,i)}),r},t.prototype.toArray=function(){var e=[];return this.forEach(function(r,n){e[n]=r}),e},t.prototype.valueOf=function(){return this.toArray()},t.prototype.format=function(e){var r=o.format(this.start,e);return 1!=this.step&amp;&amp;(r+=&quot;:&quot;+o.format(this.step,e)),r+=&quot;:&quot;+o.format(this.end,e)},t.prototype.toString=function(){return this.format()},e.exports=t},function(e,r,n){function t(){if(!(this instanceof t))throw new SyntaxError(&quot;Constructor must be called with the new operator&quot;);this._ranges=[];for(var e=0,r=arguments.length;r&gt;e;e++){var n=arguments[e];if(n instanceof a)this._ranges.push(n);else if(c(n))this._ranges.push(i(n));else{if(!u(n))throw new TypeError(&quot;Ranges must be an Array, Number, or Range&quot;);this._ranges.push(i([n,n+1]))}}}function i(e){for(var r=e.length,n=0;r&gt;n;n++)if(!u(e[n])||!f(e[n]))throw new TypeError(&quot;Index parameters must be integer numbers&quot;);switch(e.length){case 2:return new a(e[0],e[1]);case 3:return new a(e[0],e[1],e[2]);default:throw new SyntaxError(&quot;Wrong number of arguments in Index (2 or 3 expected)&quot;)}}{var o=n(123),a=n(6),s=o.number,u=s.isNumber,f=s.isInteger,c=Array.isArray;o.array.validateIndex}t.prototype.clone=function(){var e=new t;return e._ranges=o.object.clone(this._ranges),e},t.isIndex=function(e){return e instanceof t},t.create=function(e){var r=new t;return t.apply(r,e),r},t.prototype.size=function l(){for(var l=[],e=0,r=this._ranges.length;r&gt;e;e++){var n=this._ranges[e];l[e]=n.size()[0]}return l},t.prototype.max=function(){for(var e=[],r=0,n=this._ranges.length;n&gt;r;r++){var t=this._ranges[r];e[r]=t.max()}return e},t.prototype.min=function(){for(var e=[],r=0,n=this._ranges.length;n&gt;r;r++){var t=this._ranges[r];e[r]=t.min()}return e},t.prototype.forEach=function(e){for(var r=0,n=this._ranges.length;n&gt;r;r++)e(this._ranges[r],r,this)},t.prototype.range=function(e){return this._ranges[e]||null},t.prototype.isScalar=function(){for(var e=this.size(),r=0,n=e.length;n&gt;r;r++)if(1!==e[r])return!1;return!0},t.prototype.toArray=function(){for(var e=[],r=0,n=this._ranges.length;n&gt;r;r++){var t=this._ranges[r],i=[],o=t.start,a=t.end,s=t.step;if(s&gt;0)for(;a&gt;o;)i.push(o),o+=s;else if(0&gt;s)for(;o&gt;a;)i.push(o),o+=s;e.push(i)}return e},t.prototype.valueOf=t.prototype.toArray,t.prototype.toString=function(){for(var e=[],r=0,n=this._ranges.length;n&gt;r;r++){var t=this._ranges[r],i=s.format(t.start);1!=t.step&amp;&amp;(i+=&quot;:&quot;+s.format(t.step)),i+=&quot;:&quot;+s.format(t.end),e.push(i)}return&quot;[&quot;+e.join(&quot;, &quot;)+&quot;]&quot;},e.exports=t},function(e,r,n){function t(e){if(!(this instanceof t))throw new SyntaxError(&quot;Constructor must be called with the new operator&quot;);if(e instanceof t)this._data=e.clone()._data;else if(d(e))this._data=f(e);else{if(null!=e)throw new TypeError(&quot;Unsupported type of data (&quot;+c.types.type(e)+&quot;)&quot;);this._data=[]}this._size=h.size(this._data)}function i(e,r){if(!(r instanceof p))throw new TypeError(&quot;Invalid index&quot;);var n=r.isScalar();if(n)return e.get(r.min());var i=r.size();if(i.length!=e._size.length)throw new l(i.length,e._size.length);for(var a=new t(o(e._data,r,i.length,0));d(a._data)&amp;&amp;1==a._data.length;)a._data=a._data[0],a._size.shift();return a}function o(e,r,n,t){var i=t==n-1,a=r.range(t);return a.map(i?function(r){return x(r,e.length),e[r]}:function(i){x(i,e.length);var a=e[i];return o(a,r,n,t+1)})}function a(e,r,n,i){if(!(r instanceof p))throw new TypeError(&quot;Invalid index&quot;);var o,a=r.size(),f=r.isScalar();if(n instanceof t?(o=n.size(),n=n.valueOf()):o=h.size(n),f){if(0!=o.length)throw new TypeError(&quot;Scalar expected&quot;);e.set(r.min(),n,i)}else{if(a.length&lt;e._size.length)throw new l(a.length,e._size.length,&quot;&lt;&quot;);for(var c=0,m=a.length-o.length;m&gt;c;c++)n=[n],o.unshift(1);if(!g.deepEqual(a,o))throw new l(a,o);var d=r.max().map(function(e){return e+1});u(e,d,i);var x=a.length,w=0;s(e._data,r,n,x,w)}return e}function s(e,r,n,t,i){var o=i==t-1,a=r.range(i);a.forEach(o?function(r,t){x(r),e[r]=n[t]}:function(o,a){x(o),s(e[o],r,n[a],t,i+1)})}function u(e,r,n){for(var t=g.clone(e._size),i=!1;t.length&lt;r.length;)t.unshift(0),i=!0;for(var o=0,a=r.length;a&gt;o;o++)r[o]&gt;t[o]&amp;&amp;(t[o]=r[o],i=!0);i&amp;&amp;e.resize(t,n)}function f(e){for(var r=0,n=e.length;n&gt;r;r++){var i=e[r];d(i)?e[r]=f(i):i instanceof t&amp;&amp;(e[r]=f(i._data))}return e}var c=n(123),l=n(120),p=n(7),m=(c.number,c.string),h=c.array,g=c.object,d=Array.isArray,x=h.validateIndex;t.isMatrix=function(e){return e instanceof t},t.prototype.subset=function(e,r,n){switch(arguments.length){case 1:return i(this,e);case 2:case 3:return a(this,e,r,n);default:throw new SyntaxError(&quot;Wrong number of arguments&quot;)}},t.prototype.get=function(e){if(!d(e))throw new TypeError(&quot;Array expected&quot;);if(e.length!=this._size.length)throw new l(e.length,this._size.length);for(var r=this._data,n=0,t=e.length;t&gt;n;n++){var i=e[n];x(i,r.length),r=r[i]}return g.clone(r)},t.prototype.set=function(e,r,n){var t,i;if(!d(e))throw new Error(&quot;Array expected&quot;);if(e.length&lt;this._size.length)throw new l(e.length,this._size.length,&quot;&lt;&quot;);var o=e.map(function(e){return e+1});u(this,o,n);var a=this._data;for(t=0,i=e.length-1;i&gt;t;t++){var s=e[t];x(s,a.length),a=a[s]}return s=e[e.length-1],x(s,a.length),a[s]=r,this},t.prototype.resize=function(e,r){return this._size=g.clone(e),this._data=h.resize(this._data,this._size,r),this},t.prototype.clone=function(){var e=new t;return e._data=g.clone(this._data),e._size=g.clone(this._size),e},t.prototype.size=function(){return this._size},t.prototype.map=function(e){var r=this,n=new t,i=[],o=function(n,t){return d(n)?n.map(function(e,r){return i[t]=r,o(e,t+1)}):e(n,i,r)};return n._data=o(this._data,0),n._size=g.clone(this._size),n},t.prototype.forEach=function(e){var r=this,n=[],t=function(i,o){d(i)?i.forEach(function(e,r){n[o]=r,t(e,o+1)}):e(i,n,r)};t(this._data,0)},t.prototype.toArray=function(){return g.clone(this._data)},t.prototype.valueOf=function(){return this._data},t.prototype.format=function(e){return m.format(this._data,e)},t.prototype.toString=function(){return m.format(this._data)},e.exports=t},function(e,r,n){function t(e,r){if(!(this instanceof t))throw new Error(&quot;Constructor must be called with the new operator&quot;);if(null!=e&amp;&amp;!w(e))throw new TypeError(&quot;First parameter in Unit constructor must be a number&quot;);if(null!=r&amp;&amp;(!y(r)||&quot;&quot;==r))throw new TypeError(&quot;Second parameter in Unit constructor must be a string&quot;);if(null!=r){var n=l(r);if(!n)throw new SyntaxError('Unknown unit &quot;'+r+'&quot;');this.unit=n.unit,this.prefix=n.prefix}else this.unit=UNIT_NONE,this.prefix=b;null!=e?(this.value=this._normalize(e),this.fixPrefix=!1):(this.value=null,this.fixPrefix=!0)}function i(){for(;&quot; &quot;==h||&quot;	&quot;==h;)s()}function o(e){return e&gt;=&quot;0&quot;&amp;&amp;&quot;9&quot;&gt;=e||&quot;.&quot;==e}function a(e){return e&gt;=&quot;0&quot;&amp;&amp;&quot;9&quot;&gt;=e}function s(){m++,h=p.charAt(m)}function u(e){m=e,h=p.charAt(m)}function f(){var e,r=&quot;&quot;;if(e=m,&quot;+&quot;==h?s():&quot;-&quot;==h&amp;&amp;(r+=h,s()),!o(h))return u(e),null;if(&quot;.&quot;==h){if(r+=h,s(),!a(h))return u(e),null}else{for(;a(h);)r+=h,s();&quot;.&quot;==h&amp;&amp;(r+=h,s())}for(;a(h);)r+=h,s();if(&quot;E&quot;==h||&quot;e&quot;==h){if(r+=h,s(),(&quot;+&quot;==h||&quot;-&quot;==h)&amp;&amp;(r+=h,s()),!a(h))return u(e),null;for(;a(h);)r+=h,s()}return r}function c(){var e=&quot;&quot;;for(i();h&amp;&amp;&quot; &quot;!=h&amp;&amp;&quot;	&quot;!=h;)e+=h,s();return e||null}function l(e){for(var r in N)if(N.hasOwnProperty(r)&amp;&amp;x.endsWith(e,r)){var n=N[r],t=e.length-r.length,i=e.substring(0,t),o=n.prefixes[i];if(void 0!==o)return{unit:n,prefix:o}}return null}var p,m,h,g=n(123),d=g.number,x=g.string,w=g.number.isNumber,y=g.string.isString;t.parse=function(e){if(p=e,m=-1,h=&quot;&quot;,!y(p))return null;s(),i();var r,n=f();if(n){if(r=c(),s(),i(),h)return null;if(n&amp;&amp;r)try{return new t(Number(n),r)}catch(o){}}else{if(r=c(),s(),i(),h)return null;if(r)try{return new t(null,r)}catch(o){}}return null},t.isUnit=function(e){return e instanceof t},t.prototype.clone=function(){var e=new t;for(var r in this)this.hasOwnProperty(r)&amp;&amp;(e[r]=this[r]);return e},t.prototype._normalize=function(e){return(e+this.unit.offset)*this.unit.value*this.prefix.value},t.prototype._unnormalize=function(e,r){return void 0==r?e/this.unit.value/this.prefix.value-this.unit.offset:e/this.unit.value/r-this.unit.offset},t.isValuelessUnit=function(e){return null!=l(e)},t.prototype.hasBase=function(e){return this.unit.base===e},t.prototype.equalBase=function(e){return this.unit.base===e.unit.base},t.prototype.equals=function(e){return this.equalBase(e)&amp;&amp;this.value==e.value},t.prototype.to=function(e){var r;if(y(e)){if(r=new t(null,e),!this.equalBase(r))throw new Error(&quot;Units do not match&quot;);return r.value=this.value,r}if(e instanceof t){if(!this.equalBase(e))throw new Error(&quot;Units do not match&quot;);if(null!=e.value)throw new Error(&quot;Cannot convert to a unit with a value&quot;);return r=e.clone(),r.value=this.value,r.fixPrefix=!0,r}throw new Error(&quot;String or Unit expected as parameter&quot;)},t.prototype.toNumber=function(e){var r=this.to(e);return r._unnormalize(r.value,r.prefix.value)},t.prototype.toString=function(){return this.format()},t.prototype.format=function(e){var r,n;if(this.fixPrefix)r=this._unnormalize(this.value),n=null!=this.value?d.format(r,e)+&quot; &quot;:&quot;&quot;,n+=this.prefix.name+this.unit.name;else{var t=this._bestPrefix();r=this._unnormalize(this.value,t.value),n=d.format(r,e)+&quot; &quot;,n+=t.name+this.unit.name}return n},t.prototype._bestPrefix=function(){var e=Math.abs(this.value/this.unit.value),r=b,n=Math.abs(Math.log(e/r.value)/Math.LN10-1.2),t=this.unit.prefixes;for(var i in t)if(t.hasOwnProperty(i)){var o=t[i];if(o.scientific){var a=Math.abs(Math.log(e/o.value)/Math.LN10-1.2);n&gt;a&amp;&amp;(r=o,n=a)}}return r};var v={NONE:{&quot;&quot;:{name:&quot;&quot;,value:1,scientific:!0}},SHORT:{&quot;&quot;:{name:&quot;&quot;,value:1,scientific:!0},da:{name:&quot;da&quot;,value:10,scientific:!1},h:{name:&quot;h&quot;,value:100,scientific:!1},k:{name:&quot;k&quot;,value:1e3,scientific:!0},M:{name:&quot;M&quot;,value:1e6,scientific:!0},G:{name:&quot;G&quot;,value:1e9,scientific:!0},T:{name:&quot;T&quot;,value:1e12,scientific:!0},P:{name:&quot;P&quot;,value:1e15,scientific:!0},E:{name:&quot;E&quot;,value:1e18,scientific:!0},Z:{name:&quot;Z&quot;,value:1e21,scientific:!0},Y:{name:&quot;Y&quot;,value:1e24,scientific:!0},d:{name:&quot;d&quot;,value:.1,scientific:!1},c:{name:&quot;c&quot;,value:.01,scientific:!1},m:{name:&quot;m&quot;,value:.001,scientific:!0},u:{name:&quot;u&quot;,value:1e-6,scientific:!0},n:{name:&quot;n&quot;,value:1e-9,scientific:!0},p:{name:&quot;p&quot;,value:1e-12,scientific:!0},f:{name:&quot;f&quot;,value:1e-15,scientific:!0},a:{name:&quot;a&quot;,value:1e-18,scientific:!0},z:{name:&quot;z&quot;,value:1e-21,scientific:!0},y:{name:&quot;y&quot;,value:1e-24,scientific:!0}},LONG:{&quot;&quot;:{name:&quot;&quot;,value:1,scientific:!0},deca:{name:&quot;deca&quot;,value:10,scientific:!1},hecto:{name:&quot;hecto&quot;,value:100,scientific:!1},kilo:{name:&quot;kilo&quot;,value:1e3,scientific:!0},mega:{name:&quot;mega&quot;,value:1e6,scientific:!0},giga:{name:&quot;giga&quot;,value:1e9,scientific:!0},tera:{name:&quot;tera&quot;,value:1e12,scientific:!0},peta:{name:&quot;peta&quot;,value:1e15,scientific:!0},exa:{name:&quot;exa&quot;,value:1e18,scientific:!0},zetta:{name:&quot;zetta&quot;,value:1e21,scientific:!0},yotta:{name:&quot;yotta&quot;,value:1e24,scientific:!0},deci:{name:&quot;deci&quot;,value:.1,scientific:!1},centi:{name:&quot;centi&quot;,value:.01,scientific:!1},milli:{name:&quot;milli&quot;,value:.001,scientific:!0},micro:{name:&quot;micro&quot;,value:1e-6,scientific:!0},nano:{name:&quot;nano&quot;,value:1e-9,scientific:!0},pico:{name:&quot;pico&quot;,value:1e-12,scientific:!0},femto:{name:&quot;femto&quot;,value:1e-15,scientific:!0},atto:{name:&quot;atto&quot;,value:1e-18,scientific:!0},zepto:{name:&quot;zepto&quot;,value:1e-21,scientific:!0},yocto:{name:&quot;yocto&quot;,value:1e-24,scientific:!0}},SQUARED:{&quot;&quot;:{name:&quot;&quot;,value:1,scientific:!0},da:{name:&quot;da&quot;,value:100,scientific:!1},h:{name:&quot;h&quot;,value:1e4,scientific:!1},k:{name:&quot;k&quot;,value:1e6,scientific:!0},M:{name:&quot;M&quot;,value:1e12,scientific:!0},G:{name:&quot;G&quot;,value:1e18,scientific:!0},T:{name:&quot;T&quot;,value:1e24,scientific:!0},P:{name:&quot;P&quot;,value:1e30,scientific:!0},E:{name:&quot;E&quot;,value:1e36,scientific:!0},Z:{name:&quot;Z&quot;,value:1e42,scientific:!0},Y:{name:&quot;Y&quot;,value:1e48,scientific:!0},d:{name:&quot;d&quot;,value:.01,scientific:!1},c:{name:&quot;c&quot;,value:1e-4,scientific:!1},m:{name:&quot;m&quot;,value:1e-6,scientific:!0},u:{name:&quot;u&quot;,value:1e-12,scientific:!0},n:{name:&quot;n&quot;,value:1e-18,scientific:!0},p:{name:&quot;p&quot;,value:1e-24,scientific:!0},f:{name:&quot;f&quot;,value:1e-30,scientific:!0},a:{name:&quot;a&quot;,value:1e-36,scientific:!0},z:{name:&quot;z&quot;,value:1e-42,scientific:!0},y:{name:&quot;y&quot;,value:1e-42,scientific:!0}},CUBIC:{&quot;&quot;:{name:&quot;&quot;,value:1,scientific:!0},da:{name:&quot;da&quot;,value:1e3,scientific:!1},h:{name:&quot;h&quot;,value:1e6,scientific:!1},k:{name:&quot;k&quot;,value:1e9,scientific:!0},M:{name:&quot;M&quot;,value:1e18,scientific:!0},G:{name:&quot;G&quot;,value:1e27,scientific:!0},T:{name:&quot;T&quot;,value:1e36,scientific:!0},P:{name:&quot;P&quot;,value:1e45,scientific:!0},E:{name:&quot;E&quot;,value:1e54,scientific:!0},Z:{name:&quot;Z&quot;,value:1e63,scientific:!0},Y:{name:&quot;Y&quot;,value:1e72,scientific:!0},d:{name:&quot;d&quot;,value:.001,scientific:!1},c:{name:&quot;c&quot;,value:1e-6,scientific:!1},m:{name:&quot;m&quot;,value:1e-9,scientific:!0},u:{name:&quot;u&quot;,value:1e-18,scientific:!0},n:{name:&quot;n&quot;,value:1e-27,scientific:!0},p:{name:&quot;p&quot;,value:1e-36,scientific:!0},f:{name:&quot;f&quot;,value:1e-45,scientific:!0},a:{name:&quot;a&quot;,value:1e-54,scientific:!0},z:{name:&quot;z&quot;,value:1e-63,scientific:!0},y:{name:&quot;y&quot;,value:1e-72,scientific:!0}},BINARY_SHORT:{&quot;&quot;:{name:&quot;&quot;,value:1,scientific:!0},k:{name:&quot;k&quot;,value:1024,scientific:!0},M:{name:&quot;M&quot;,value:Math.pow(1024,2),scientific:!0},G:{name:&quot;G&quot;,value:Math.pow(1024,3),scientific:!0},T:{name:&quot;T&quot;,value:Math.pow(1024,4),scientific:!0},P:{name:&quot;P&quot;,value:Math.pow(1024,5),scientific:!0},E:{name:&quot;E&quot;,value:Math.pow(1024,6),scientific:!0},Z:{name:&quot;Z&quot;,value:Math.pow(1024,7),scientific:!0},Y:{name:&quot;Y&quot;,value:Math.pow(1024,8),scientific:!0},Ki:{name:&quot;Ki&quot;,value:1024,scientific:!0},Mi:{name:&quot;Mi&quot;,value:Math.pow(1024,2),scientific:!0},Gi:{name:&quot;Gi&quot;,value:Math.pow(1024,3),scientific:!0},Ti:{name:&quot;Ti&quot;,value:Math.pow(1024,4),scientific:!0},Pi:{name:&quot;Pi&quot;,value:Math.pow(1024,5),scientific:!0},Ei:{name:&quot;Ei&quot;,value:Math.pow(1024,6),scientific:!0},Zi:{name:&quot;Zi&quot;,value:Math.pow(1024,7),scientific:!0},Yi:{name:&quot;Yi&quot;,value:Math.pow(1024,8),scientific:!0}},BINARY_LONG:{&quot;&quot;:{name:&quot;&quot;,value:1,scientific:!0},kilo:{name:&quot;kilo&quot;,value:1024,scientific:!0},mega:{name:&quot;mega&quot;,value:Math.pow(1024,2),scientific:!0},giga:{name:&quot;giga&quot;,value:Math.pow(1024,3),scientific:!0},tera:{name:&quot;tera&quot;,value:Math.pow(1024,4),scientific:!0},peta:{name:&quot;peta&quot;,value:Math.pow(1024,5),scientific:!0},exa:{name:&quot;exa&quot;,value:Math.pow(1024,6),scientific:!0},zetta:{name:&quot;zetta&quot;,value:Math.pow(1024,7),scientific:!0},yotta:{name:&quot;yotta&quot;,value:Math.pow(1024,8),scientific:!0},kibi:{name:&quot;kibi&quot;,value:1024,scientific:!0},mebi:{name:&quot;mebi&quot;,value:Math.pow(1024,2),scientific:!0},gibi:{name:&quot;gibi&quot;,value:Math.pow(1024,3),scientific:!0},tebi:{name:&quot;tebi&quot;,value:Math.pow(1024,4),scientific:!0},pebi:{name:&quot;pebi&quot;,value:Math.pow(1024,5),scientific:!0},exi:{name:&quot;exi&quot;,value:Math.pow(1024,6),scientific:!0},zebi:{name:&quot;zebi&quot;,value:Math.pow(1024,7),scientific:!0},yobi:{name:&quot;yobi&quot;,value:Math.pow(1024,8),scientific:!0}}},b={name:&quot;&quot;,value:1,scientific:!0},E={NONE:{},LENGTH:{},MASS:{},TIME:{},CURRENT:{},TEMPERATURE:{},LUMINOUS_INTENSITY:{},AMOUNT_OF_SUBSTANCE:{},FORCE:{},SURFACE:{},VOLUME:{},ANGLE:{},BIT:{}};BASE_UNIT_NONE={},UNIT_NONE={name:&quot;&quot;,base:BASE_UNIT_NONE,value:1,offset:0};var N={meter:{name:&quot;meter&quot;,base:E.LENGTH,prefixes:v.LONG,value:1,offset:0},inch:{name:&quot;inch&quot;,base:E.LENGTH,prefixes:v.NONE,value:.0254,offset:0},foot:{name:&quot;foot&quot;,base:E.LENGTH,prefixes:v.NONE,value:.3048,offset:0},yard:{name:&quot;yard&quot;,base:E.LENGTH,prefixes:v.NONE,value:.9144,offset:0},mile:{name:&quot;mile&quot;,base:E.LENGTH,prefixes:v.NONE,value:1609.344,offset:0},link:{name:&quot;link&quot;,base:E.LENGTH,prefixes:v.NONE,value:.201168,offset:0},rod:{name:&quot;rod&quot;,base:E.LENGTH,prefixes:v.NONE,value:5.02921,offset:0},chain:{name:&quot;chain&quot;,base:E.LENGTH,prefixes:v.NONE,value:20.1168,offset:0},angstrom:{name:&quot;angstrom&quot;,base:E.LENGTH,prefixes:v.NONE,value:1e-10,offset:0},m:{name:&quot;m&quot;,base:E.LENGTH,prefixes:v.SHORT,value:1,offset:0},&quot;in&quot;:{name:&quot;in&quot;,base:E.LENGTH,prefixes:v.NONE,value:.0254,offset:0},ft:{name:&quot;ft&quot;,base:E.LENGTH,prefixes:v.NONE,value:.3048,offset:0},yd:{name:&quot;yd&quot;,base:E.LENGTH,prefixes:v.NONE,value:.9144,offset:0},mi:{name:&quot;mi&quot;,base:E.LENGTH,prefixes:v.NONE,value:1609.344,offset:0},li:{name:&quot;li&quot;,base:E.LENGTH,prefixes:v.NONE,value:.201168,offset:0},rd:{name:&quot;rd&quot;,base:E.LENGTH,prefixes:v.NONE,value:5.02921,offset:0},ch:{name:&quot;ch&quot;,base:E.LENGTH,prefixes:v.NONE,value:20.1168,offset:0},mil:{name:&quot;mil&quot;,base:E.LENGTH,prefixes:v.NONE,value:254e-7,offset:0},m2:{name:&quot;m2&quot;,base:E.SURFACE,prefixes:v.SQUARED,value:1,offset:0},sqin:{name:&quot;sqin&quot;,base:E.SURFACE,prefixes:v.NONE,value:64516e-8,offset:0},sqft:{name:&quot;sqft&quot;,base:E.SURFACE,prefixes:v.NONE,value:.09290304,offset:0},sqyd:{name:&quot;sqyd&quot;,base:E.SURFACE,prefixes:v.NONE,value:.83612736,offset:0},sqmi:{name:&quot;sqmi&quot;,base:E.SURFACE,prefixes:v.NONE,value:2589988.110336,offset:0},sqrd:{name:&quot;sqrd&quot;,base:E.SURFACE,prefixes:v.NONE,value:25.29295,offset:0},sqch:{name:&quot;sqch&quot;,base:E.SURFACE,prefixes:v.NONE,value:404.6873,offset:0},sqmil:{name:&quot;sqmil&quot;,base:E.SURFACE,prefixes:v.NONE,value:6.4516e-10,offset:0},m3:{name:&quot;m3&quot;,base:E.VOLUME,prefixes:v.CUBIC,value:1,offset:0},L:{name:&quot;L&quot;,base:E.VOLUME,prefixes:v.SHORT,value:.001,offset:0},l:{name:&quot;l&quot;,base:E.VOLUME,prefixes:v.SHORT,value:.001,offset:0},litre:{name:&quot;litre&quot;,base:E.VOLUME,prefixes:v.LONG,value:.001,offset:0},cuin:{name:&quot;cuin&quot;,base:E.VOLUME,prefixes:v.NONE,value:16387064e-12,offset:0},cuft:{name:&quot;cuft&quot;,base:E.VOLUME,prefixes:v.NONE,value:.028316846592,offset:0},cuyd:{name:&quot;cuyd&quot;,base:E.VOLUME,prefixes:v.NONE,value:.764554857984,offset:0},teaspoon:{name:&quot;teaspoon&quot;,base:E.VOLUME,prefixes:v.NONE,value:5e-6,offset:0},tablespoon:{name:&quot;tablespoon&quot;,base:E.VOLUME,prefixes:v.NONE,value:15e-6,offset:0},minim:{name:&quot;minim&quot;,base:E.VOLUME,prefixes:v.NONE,value:6.161152e-8,offset:0},fluiddram:{name:&quot;fluiddram&quot;,base:E.VOLUME,prefixes:v.NONE,value:36966911e-13,offset:0},fluidounce:{name:&quot;fluidounce&quot;,base:E.VOLUME,prefixes:v.NONE,value:2957353e-11,offset:0},gill:{name:&quot;gill&quot;,base:E.VOLUME,prefixes:v.NONE,value:.0001182941,offset:0},cc:{name:&quot;cc&quot;,base:E.VOLUME,prefixes:v.NONE,value:1e-6,offset:0},cup:{name:&quot;cup&quot;,base:E.VOLUME,prefixes:v.NONE,value:.0002365882,offset:0},pint:{name:&quot;pint&quot;,base:E.VOLUME,prefixes:v.NONE,value:.0004731765,offset:0},quart:{name:&quot;quart&quot;,base:E.VOLUME,prefixes:v.NONE,value:.0009463529,offset:0},gallon:{name:&quot;gallon&quot;,base:E.VOLUME,prefixes:v.NONE,value:.003785412,offset:0},beerbarrel:{name:&quot;beerbarrel&quot;,base:E.VOLUME,prefixes:v.NONE,value:.1173478,offset:0},oilbarrel:{name:&quot;oilbarrel&quot;,base:E.VOLUME,prefixes:v.NONE,value:.1589873,offset:0},hogshead:{name:&quot;hogshead&quot;,base:E.VOLUME,prefixes:v.NONE,value:.238481,offset:0},fldr:{name:&quot;fldr&quot;,base:E.VOLUME,prefixes:v.NONE,value:36966911e-13,offset:0},floz:{name:&quot;floz&quot;,base:E.VOLUME,prefixes:v.NONE,value:2957353e-11,offset:0},gi:{name:&quot;gi&quot;,base:E.VOLUME,prefixes:v.NONE,value:.0001182941,offset:0},cp:{name:&quot;cp&quot;,base:E.VOLUME,prefixes:v.NONE,value:.0002365882,offset:0},pt:{name:&quot;pt&quot;,base:E.VOLUME,prefixes:v.NONE,value:.0004731765,offset:0},qt:{name:&quot;qt&quot;,base:E.VOLUME,prefixes:v.NONE,value:.0009463529,offset:0},gal:{name:&quot;gal&quot;,base:E.VOLUME,prefixes:v.NONE,value:.003785412,offset:0},bbl:{name:&quot;bbl&quot;,base:E.VOLUME,prefixes:v.NONE,value:.1173478,offset:0},obl:{name:&quot;obl&quot;,base:E.VOLUME,prefixes:v.NONE,value:.1589873,offset:0},g:{name:&quot;g&quot;,base:E.MASS,prefixes:v.SHORT,value:.001,offset:0},gram:{name:&quot;gram&quot;,base:E.MASS,prefixes:v.LONG,value:.001,offset:0},ton:{name:&quot;ton&quot;,base:E.MASS,prefixes:v.SHORT,value:907.18474,offset:0},tonne:{name:&quot;tonne&quot;,base:E.MASS,prefixes:v.SHORT,value:1e3,offset:0},grain:{name:&quot;grain&quot;,base:E.MASS,prefixes:v.NONE,value:6479891e-11,offset:0},dram:{name:&quot;dram&quot;,base:E.MASS,prefixes:v.NONE,value:.0017718451953125,offset:0},ounce:{name:&quot;ounce&quot;,base:E.MASS,prefixes:v.NONE,value:.028349523125,offset:0},poundmass:{name:&quot;poundmass&quot;,base:E.MASS,prefixes:v.NONE,value:.45359237,offset:0},hundredweight:{name:&quot;hundredweight&quot;,base:E.MASS,prefixes:v.NONE,value:45.359237,offset:0},stick:{name:&quot;stick&quot;,base:E.MASS,prefixes:v.NONE,value:.115,offset:0},gr:{name:&quot;gr&quot;,base:E.MASS,prefixes:v.NONE,value:6479891e-11,offset:0},dr:{name:&quot;dr&quot;,base:E.MASS,prefixes:v.NONE,value:.0017718451953125,offset:0},oz:{name:&quot;oz&quot;,base:E.MASS,prefixes:v.NONE,value:.028349523125,offset:0},lbm:{name:&quot;lbm&quot;,base:E.MASS,prefixes:v.NONE,value:.45359237,offset:0},cwt:{name:&quot;cwt&quot;,base:E.MASS,prefixes:v.NONE,value:45.359237,offset:0},s:{name:&quot;s&quot;,base:E.TIME,prefixes:v.SHORT,value:1,offset:0},min:{name:&quot;min&quot;,base:E.TIME,prefixes:v.NONE,value:60,offset:0},h:{name:&quot;h&quot;,base:E.TIME,prefixes:v.NONE,value:3600,offset:0},second:{name:&quot;second&quot;,base:E.TIME,prefixes:v.LONG,value:1,offset:0},sec:{name:&quot;sec&quot;,base:E.TIME,prefixes:v.LONG,value:1,offset:0},minute:{name:&quot;minute&quot;,base:E.TIME,prefixes:v.NONE,value:60,offset:0},hour:{name:&quot;hour&quot;,base:E.TIME,prefixes:v.NONE,value:3600,offset:0},day:{name:&quot;day&quot;,base:E.TIME,prefixes:v.NONE,value:86400,offset:0},rad:{name:&quot;rad&quot;,base:E.ANGLE,prefixes:v.NONE,value:1,offset:0},deg:{name:&quot;deg&quot;,base:E.ANGLE,prefixes:v.NONE,value:.017453292519943295,offset:0},grad:{name:&quot;grad&quot;,base:E.ANGLE,prefixes:v.NONE,value:.015707963267948967,offset:0},cycle:{name:&quot;cycle&quot;,base:E.ANGLE,prefixes:v.NONE,value:6.283185307179586,offset:0},A:{name:&quot;A&quot;,base:E.CURRENT,prefixes:v.SHORT,value:1,offset:0},ampere:{name:&quot;ampere&quot;,base:E.CURRENT,prefixes:v.LONG,value:1,offset:0},K:{name:&quot;K&quot;,base:E.TEMPERATURE,prefixes:v.NONE,value:1,offset:0},degC:{name:&quot;degC&quot;,base:E.TEMPERATURE,prefixes:v.NONE,value:1,offset:273.15},degF:{name:&quot;degF&quot;,base:E.TEMPERATURE,prefixes:v.NONE,value:1/1.8,offset:459.67},degR:{name:&quot;degR&quot;,base:E.TEMPERATURE,prefixes:v.NONE,value:1/1.8,offset:0},kelvin:{name:&quot;kelvin&quot;,base:E.TEMPERATURE,prefixes:v.NONE,value:1,offset:0},celsius:{name:&quot;celsius&quot;,base:E.TEMPERATURE,prefixes:v.NONE,value:1,offset:273.15},fahrenheit:{name:&quot;fahrenheit&quot;,base:E.TEMPERATURE,prefixes:v.NONE,value:1/1.8,offset:459.67},rankine:{name:&quot;rankine&quot;,base:E.TEMPERATURE,prefixes:v.NONE,value:1/1.8,offset:0},mol:{name:&quot;mol&quot;,base:E.AMOUNT_OF_SUBSTANCE,prefixes:v.NONE,value:1,offset:0},mole:{name:&quot;mole&quot;,base:E.AMOUNT_OF_SUBSTANCE,prefixes:v.NONE,value:1,offset:0},cd:{name:&quot;cd&quot;,base:E.LUMINOUS_INTENSITY,prefixes:v.NONE,value:1,offset:0},candela:{name:&quot;candela&quot;,base:E.LUMINOUS_INTENSITY,prefixes:v.NONE,value:1,offset:0},N:{name:&quot;N&quot;,base:E.FORCE,prefixes:v.SHORT,value:1,offset:0},newton:{name:&quot;newton&quot;,base:E.FORCE,prefixes:v.LONG,value:1,offset:0},lbf:{name:&quot;lbf&quot;,base:E.FORCE,prefixes:v.NONE,value:4.4482216152605,offset:0},poundforce:{name:&quot;poundforce&quot;,base:E.FORCE,prefixes:v.NONE,value:4.4482216152605,offset:0},b:{name:&quot;b&quot;,base:E.BIT,prefixes:v.BINARY_SHORT,value:1,offset:0},bits:{name:&quot;bits&quot;,base:E.BIT,prefixes:v.BINARY_LONG,value:1,offset:0},B:{name:&quot;B&quot;,base:E.BIT,prefixes:v.BINARY_SHORT,value:8,offset:0},bytes:{name:&quot;bytes&quot;,base:E.BIT,prefixes:v.BINARY_LONG,value:8,offset:0}},M={meters:&quot;meter&quot;,inches:&quot;inch&quot;,feet:&quot;foot&quot;,yards:&quot;yard&quot;,miles:&quot;mile&quot;,links:&quot;link&quot;,rods:&quot;rod&quot;,chains:&quot;chain&quot;,angstroms:&quot;angstrom&quot;,litres:&quot;litre&quot;,teaspoons:&quot;teaspoon&quot;,tablespoons:&quot;tablespoon&quot;,minims:&quot;minim&quot;,fluiddrams:&quot;fluiddram&quot;,fluidounces:&quot;fluidounce&quot;,gills:&quot;gill&quot;,cups:&quot;cup&quot;,pints:&quot;pint&quot;,quarts:&quot;quart&quot;,gallons:&quot;gallon&quot;,beerbarrels:&quot;beerbarrel&quot;,oilbarrels:&quot;oilbarrel&quot;,hogsheads:&quot;hogshead&quot;,grams:&quot;gram&quot;,tons:&quot;ton&quot;,tonnes:&quot;tonne&quot;,grains:&quot;grain&quot;,drams:&quot;dram&quot;,ounces:&quot;ounce&quot;,poundmasses:&quot;poundmass&quot;,hundredweights:&quot;hundredweight&quot;,sticks:&quot;stick&quot;,seconds:&quot;second&quot;,minutes:&quot;minute&quot;,hours:&quot;hour&quot;,days:&quot;day&quot;,radians:&quot;rad&quot;,degrees:&quot;deg&quot;,gradients:&quot;grad&quot;,cycles:&quot;cycle&quot;,amperes:&quot;ampere&quot;,moles:&quot;mole&quot;};
for(var A in M)if(M.hasOwnProperty(A)){var T=N[M[A]],S=Object.create(T);S.name=A,N[A]=S}N.lt=N.l,N.liter=N.litre,N.liters=N.litres,N.lb=N.lbm,N.lbs=N.lbm,t.PREFIXES=v,t.BASE_UNITS=E,t.UNITS=N,e.exports=t},function(e,r,n){function t(e,r){if(!(this instanceof t))throw new SyntaxError(&quot;Constructor must be called with the new operator&quot;);this.math=e,this.doc=r}var i=n(123),o=i.object,a=i.string;t.isHelp=function(e){return e instanceof t},t.prototype.toString=function(){var e=this.doc||{},r=&quot;\n&quot;;if(e.name&amp;&amp;(r+=&quot;Name: &quot;+e.name+&quot;\n\n&quot;),e.category&amp;&amp;(r+=&quot;Category: &quot;+e.category+&quot;\n\n&quot;),e.description&amp;&amp;(r+=&quot;Description:\n    &quot;+e.description+&quot;\n\n&quot;),e.syntax&amp;&amp;(r+=&quot;Syntax:\n    &quot;+e.syntax.join(&quot;\n    &quot;)+&quot;\n\n&quot;),e.examples){var n=this.math.parser();r+=&quot;Examples:\n&quot;;for(var i=0;i&lt;e.examples.length;i++){var o,s=e.examples[i];try{o=n.eval(s)}catch(u){o=u}r+=&quot;    &quot;+s+&quot;\n&quot;,!o||o instanceof t||(r+=&quot;        &quot;+a.format(o)+&quot;\n&quot;)}r+=&quot;\n&quot;}return e.seealso&amp;&amp;(r+=&quot;See also: &quot;+e.seealso.join(&quot;, &quot;)+&quot;\n&quot;),r},t.prototype.toJSON=function(){return o.clone(this.doc)},e.exports=t},function(e,r,n){function t(e,r,n){var o,a,s,f;if(0&gt;=r){if(u(e[0])){for(f=i(e),a=[],o=0;o&lt;f.length;o++)a[o]=t(f[o],r-1,n);return a}for(s=e[0],o=1;o&lt;e.length;o++)s=n(s,e[o]);return s}for(a=[],o=0;o&lt;e.length;o++)a[o]=t(e[o],r-1,n);return a}function i(e){var r,n,t=e.length,i=e[0].length,o=[];for(n=0;i&gt;n;n++){var a=[];for(r=0;t&gt;r;r++)a.push(e[r][n]);o.push(a)}return o}{var o=n(123),a=n(120),s=n(8),u=o.array.isArray;o.string.isString}r.argsToArray=function(e){var r;return 0==e.length?r=[]:1==e.length?(r=e[0],r instanceof s&amp;&amp;(r=r.valueOf()),u(r)||(r=[r])):r=Array.prototype.slice.apply(e),r},r.isCollection=function(e){return u(e)||e instanceof s},r.deepMap=function f(e,r){return e&amp;&amp;&quot;function&quot;==typeof e.map?e.map(function(e){return f(e,r)}):r(e)},r.deepMap2=function c(e,r,n){var t,i,o;if(u(e))if(u(r)){if(e.length!=r.length)throw new a(e.length,r.length);for(t=[],i=e.length,o=0;i&gt;o;o++)t[o]=c(e[o],r[o],n)}else{if(r instanceof s)return t=c(e,r.valueOf(),n),new s(t);for(t=[],i=e.length,o=0;i&gt;o;o++)t[o]=c(e[o],r,n)}else{if(e instanceof s)return r instanceof s?(t=c(e.valueOf(),r.valueOf(),n),new s(t)):(t=c(e.valueOf(),r,n),new s(t));if(u(r))for(t=[],i=r.length,o=0;i&gt;o;o++)t[o]=c(e,r[o],n);else{if(r instanceof s)return t=c(e,r.valueOf(),n),new s(t);t=n(e,r)}}return t},r.reduce=function(e,r,n){return e instanceof s?new s(t(e.valueOf(),r,n)):t(e,r,n)},r.deepForEach=function l(e,r){e instanceof s&amp;&amp;(e=e.valueOf());for(var n=0,t=e.length;t&gt;n;n++){var i=e[n];u(i)?l(i,r):r(i)}}},function(e,r,n){function t(e,r){if(1!=arguments.length&amp;&amp;2!=arguments.length)throw new F(&quot;parse&quot;,arguments.length,1,2);if(fr=&quot;object&quot;===V(r)?r:{},G(e))return cr=e,p();if(D(e)||e instanceof H)return Y.deepMap(e,function(e){if(!G(e))throw new TypeError(&quot;String expected&quot;);return cr=e,p()});throw new TypeError(&quot;String or matrix expected&quot;)}function i(){lr=0,pr=cr.charAt(0)}function o(){lr++,pr=cr.charAt(lr)}function a(){return cr.charAt(lr+1)}function s(){for(hr=ar.NULL,mr=&quot;&quot;;&quot; &quot;==pr||&quot;	&quot;==pr;)o();if(&quot;#&quot;==pr)for(;&quot;\n&quot;!=pr&amp;&amp;&quot;&quot;!=pr;)o();if(&quot;&quot;==pr)return void(hr=ar.DELIMITER);var e=pr+a();if(sr[e])return hr=ar.DELIMITER,mr=e,o(),void o();if(sr[pr])return hr=ar.DELIMITER,mr=pr,void o();if(!c(pr)){if(f(pr)){for(;f(pr)||l(pr);)mr+=pr,o();return void(hr=ur[mr]?ar.DELIMITER:ar.SYMBOL)}for(hr=ar.UNKNOWN;&quot;&quot;!=pr;)mr+=pr,o();throw j('Syntax error in part &quot;'+mr+'&quot;')}if(hr=ar.NUMBER,&quot;.&quot;==pr)mr+=pr,o(),l(pr)||(hr=ar.UNKNOWN);else{for(;l(pr);)mr+=pr,o();&quot;.&quot;==pr&amp;&amp;(mr+=pr,o())}for(;l(pr);)mr+=pr,o();if(&quot;E&quot;==pr||&quot;e&quot;==pr)for(mr+=pr,o(),(&quot;+&quot;==pr||&quot;-&quot;==pr)&amp;&amp;(mr+=pr,o()),l(pr)||(hr=ar.UNKNOWN);l(pr);)mr+=pr,o()}function u(){for(;&quot;\n&quot;==mr;)s()}function f(e){return e&gt;=&quot;a&quot;&amp;&amp;&quot;z&quot;&gt;=e||e&gt;=&quot;A&quot;&amp;&amp;&quot;Z&quot;&gt;=e||&quot;_&quot;==e}function c(e){return e&gt;=&quot;0&quot;&amp;&amp;&quot;9&quot;&gt;=e||&quot;.&quot;==e}function l(e){return e&gt;=&quot;0&quot;&amp;&amp;&quot;9&quot;&gt;=e}function p(){i(),s();var e=m();if(&quot;&quot;!=mr)throw hr==ar.DELIMITER?P(&quot;Unknown operator &quot;+mr):j('Unexpected part &quot;'+mr+'&quot;');return e}function m(){var e,r,n;if(&quot;&quot;==mr)return new $(&quot;undefined&quot;,&quot;undefined&quot;);for(&quot;\n&quot;!=mr&amp;&amp;&quot;;&quot;!=mr&amp;&amp;(e=h());&quot;\n&quot;==mr||&quot;;&quot;==mr;)r||(r=new Q,e&amp;&amp;(n=&quot;;&quot;!=mr,r.add(e,n))),s(),&quot;\n&quot;!=mr&amp;&amp;&quot;;&quot;!=mr&amp;&amp;&quot;&quot;!=mr&amp;&amp;(e=h(),n=&quot;;&quot;!=mr,r.add(e,n));return r?r:e}function h(){var e=g(),r=&quot;ans&quot;;return new Z(r,e)}function g(){if(hr==ar.SYMBOL&amp;&amp;&quot;function&quot;==mr)throw j('Deprecated keyword &quot;function&quot;. Functions can now be assigned without it, like &quot;f(x) = x^2&quot;.');return d()}function d(){var e,r,n,t=x();if(&quot;=&quot;==mr){if(t instanceof nr)return e=t.name,s(),n=d(),new Z(e,n);if(t instanceof J)return s(),n=d(),new or(t,n);if(t instanceof er){var i=!0;if(r=[],t.object instanceof nr?(e=t.object.name,t.params.forEach(function(e,n){e instanceof nr?r[n]=e.name:i=!1})):i=!1,i)return s(),n=d(),new K(e,r,n)}throw j(&quot;Invalid left hand side of assignment operator =&quot;)}return t}function x(){var e,r=[];if(e=&quot;:&quot;==mr?new $(&quot;number&quot;,&quot;1&quot;):w(),&quot;:&quot;==mr){for(r.push(e);&quot;:&quot;==mr;)s(),r.push(&quot;)&quot;==mr||&quot;]&quot;==mr||&quot;,&quot;==mr||&quot;&quot;==mr?new nr(&quot;end&quot;):w());if(3==r.length){var n=r[2];r[2]=r[1],r[1]=n}e=new rr(r)}return e}function w(){var e=y();return e}function y(){for(var e=v();&quot;?&quot;==mr;){s();var r=[e];if(r.push(v()),&quot;:&quot;!=mr)throw j(&quot;False part of conditional expression expected&quot;);s(),r.push(y()),e=new tr([&quot;?&quot;,&quot;:&quot;],&quot;ifElse&quot;,r)}return e}function v(){var e,r,n,t,i;for(e=b(),r={&quot;==&quot;:&quot;equal&quot;,&quot;!=&quot;:&quot;unequal&quot;,&quot;&lt;&quot;:&quot;smaller&quot;,&quot;&gt;&quot;:&quot;larger&quot;,&quot;&lt;=&quot;:&quot;smallereq&quot;,&quot;&gt;=&quot;:&quot;largereq&quot;};mr in r;)n=mr,t=r[n],s(),i=[e,b()],e=new X(n,t,i);return e}function b(){var e,r,n,t,i;for(e=E(),r={to:&quot;to&quot;,&quot;in&quot;:&quot;to&quot;};mr in r;)n=mr,t=r[n],s(),i=[e,E()],e=new X(n,t,i);return e}function E(){var e,r,n,t,i;for(e=N(),r={&quot;+&quot;:&quot;add&quot;,&quot;-&quot;:&quot;subtract&quot;};mr in r;)n=mr,t=r[n],s(),i=[e,N()],e=new X(n,t,i);return e}function N(){var e,r,n,t,i;for(e=M(),r={&quot;*&quot;:&quot;multiply&quot;,&quot;.*&quot;:&quot;emultiply&quot;,&quot;/&quot;:&quot;divide&quot;,&quot;./&quot;:&quot;edivide&quot;,&quot;%&quot;:&quot;mod&quot;,mod:&quot;mod&quot;};mr in r;)n=mr,t=r[n],s(),i=[e,M()],e=new X(n,t,i);return e}function M(){var e,r;return e=A(),(hr==ar.SYMBOL||&quot;in&quot;==mr)&amp;&amp;(r=mr,s(),e=new ir(e,r)),e}function A(){var e,r,n;return&quot;-&quot;==mr?(e=mr,r=&quot;unary&quot;,s(),n=[A()],new X(e,r,n)):T()}function T(){var e,r,n,t;return e=S(),(&quot;^&quot;==mr||&quot;.^&quot;==mr)&amp;&amp;(r=mr,n=&quot;^&quot;==r?&quot;pow&quot;:&quot;epow&quot;,s(),t=[e,A()],e=new X(r,n,t)),e}function S(){var e,r,n,t,i;for(e=O(),r={&quot;!&quot;:&quot;factorial&quot;,&quot;'&quot;:&quot;transpose&quot;};mr in r;)n=mr,t=r[n],s(),i=[e],e=new X(n,t,i),e=U(e);return e}function O(){var e,r=[];if(hr==ar.SYMBOL&amp;&amp;fr[mr]){if(e=fr[mr],s(),&quot;(&quot;==mr){if(r=[],s(),&quot;)&quot;!=mr)for(r.push(x());&quot;,&quot;==mr;)s(),r.push(x());if(&quot;)&quot;!=mr)throw j(&quot;Parenthesis ) expected&quot;);s()}return new e(r)}return C()}function C(){var e,r;return hr==ar.SYMBOL||hr==ar.DELIMITER&amp;&amp;mr in ur?(r=mr,s(),e=new nr(r),U(e)):q()}function U(e){for(var r,n;&quot;(&quot;==mr||&quot;[&quot;==mr;){if(r=mr,n=[],s(),&quot;)&quot;!=mr&amp;&amp;&quot;]&quot;!=mr)for(n.push(x());&quot;,&quot;==mr;)s(),n.push(x());if(&quot;(&quot;==r&amp;&amp;&quot;)&quot;!=mr)throw j(&quot;Parenthesis ) expected&quot;);if(&quot;[&quot;==r&amp;&amp;&quot;]&quot;!=mr)throw j(&quot;Parenthesis ] expected&quot;);s(),e=&quot;(&quot;==r?new er(e,n):new J(e,n)}return e}function q(){var e,r,n;if('&quot;'==mr){for(r=&quot;&quot;,n=&quot;&quot;;&quot;&quot;!=pr&amp;&amp;('&quot;'!=pr||&quot;\\&quot;==n);)r+=pr,n=pr,o();if(s(),'&quot;'!=mr)throw j('End of string &quot; expected');return s(),e=new $(&quot;string&quot;,r),e=U(e)}return B()}function B(){var e,r,n,t;if(&quot;[&quot;==mr){if(s(),u(),&quot;]&quot;!=mr){var i=z();if(&quot;;&quot;==mr){for(n=1,r=[i];&quot;;&quot;==mr;)s(),u(),r[n]=z(),n++,u();if(&quot;]&quot;!=mr)throw j(&quot;End of matrix ] expected&quot;);s(),t=r[0].nodes.length;for(var o=1;n&gt;o;o++)if(r[o].nodes.length!=t)throw P(&quot;Column dimensions mismatch (&quot;+r[o].nodes.length+&quot; != &quot;+t+&quot;)&quot;);e=new W(r)}else{if(&quot;]&quot;!=mr)throw j(&quot;End of matrix ] expected&quot;);s(),e=i}}else s(),e=new W([]);return e=U(e)}return I()}function z(){for(var e=[d()],r=1;&quot;,&quot;==mr;)s(),u(),e[r]=d(),r++,u();return new W(e)}function I(){var e,r;return hr==ar.NUMBER?(r=mr,s(),&quot;i&quot;==mr||&quot;I&quot;==mr?(s(),e=new $(&quot;complex&quot;,r)):e=new $(&quot;number&quot;,r),e=U(e)):_()}function _(){var e;if(&quot;(&quot;==mr){if(s(),e=d(),&quot;)&quot;!=mr)throw j(&quot;Parenthesis ) expected&quot;);return s(),e=U(e)}return R()}function R(){throw j(&quot;&quot;==mr?&quot;Unexpected end of expression&quot;:&quot;Value expected&quot;)}function L(){return lr-mr.length+1}function j(e){var r=L(),n=new SyntaxError(e+&quot; (char &quot;+r+&quot;)&quot;);return n[&quot;char&quot;]=r,n}function P(e){var r=L(),n=new Error(e+&quot; (char &quot;+r+&quot;)&quot;);return n[&quot;char&quot;]=r,n}var k=n(123),F=n(119),G=k.string.isString,D=Array.isArray,V=k.types.type,H=(n(5),n(8)),Y=(n(9),n(11)),W=n(124),Z=n(125),Q=n(126),$=n(127),K=n(128),J=n(129),X=n(130),er=n(131),rr=n(132),nr=n(133),tr=n(134),ir=n(135),or=n(136),ar={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},sr={&quot;,&quot;:!0,&quot;(&quot;:!0,&quot;)&quot;:!0,&quot;[&quot;:!0,&quot;]&quot;:!0,'&quot;':!0,&quot;\n&quot;:!0,&quot;;&quot;:!0,&quot;+&quot;:!0,&quot;-&quot;:!0,&quot;*&quot;:!0,&quot;.*&quot;:!0,&quot;/&quot;:!0,&quot;./&quot;:!0,&quot;%&quot;:!0,&quot;^&quot;:!0,&quot;.^&quot;:!0,&quot;!&quot;:!0,&quot;'&quot;:!0,&quot;=&quot;:!0,&quot;:&quot;:!0,&quot;?&quot;:!0,&quot;==&quot;:!0,&quot;!=&quot;:!0,&quot;&lt;&quot;:!0,&quot;&gt;&quot;:!0,&quot;&lt;=&quot;:!0,&quot;&gt;=&quot;:!0},ur={mod:!0,to:!0,&quot;in&quot;:!0},fr={},cr=&quot;&quot;,lr=0,pr=&quot;&quot;,mr=&quot;&quot;,hr=ar.NULL;e.exports=t},function(e,r,n){function t(e){if(!(this instanceof t))throw new SyntaxError(&quot;Constructor must be called with the new operator&quot;);if(&quot;object&quot;!=typeof e)throw new TypeError(&quot;Object expected as parameter math&quot;);this.math=e,this.scope={}}var i=n(12);t.prototype.parse=function(){throw new Error(&quot;Parser.parse is deprecated. Use math.parse instead.&quot;)},t.prototype.compile=function(){throw new Error(&quot;Parser.compile is deprecated. Use math.compile instead.&quot;)},t.prototype.eval=function(e){return i(e).compile(this.math).eval(this.scope)},t.prototype.get=function(e){return this.scope[e]},t.prototype.set=function(e,r){return this.scope[e]=r},t.prototype.remove=function(e){delete this.scope[e]},t.prototype.clear=function(){for(var e in this.scope)this.scope.hasOwnProperty(e)&amp;&amp;delete this.scope[e]},e.exports=t},function(e,r,n){r.ArrayNode=n(124),r.AssignmentNode=n(125),r.BlockNode=n(126),r.ConstantNode=n(127),r.IndexNode=n(129),r.FunctionNode=n(128),r.Node=n(137),r.OperatorNode=n(130),r.ParamsNode=n(131),r.RangeNode=n(132),r.SymbolNode=n(133),r.TernaryNode=n(134),r.UnitNode=n(135),r.UpdateNode=n(136)},function(e,r,n){r.e=n(139),r.E=n(139),r[&quot;false&quot;]=n(140),r.i=n(141),r.Infinity=n(142),r.LN2=n(143),r.LN10=n(144),r.LOG2E=n(145),r.LOG10E=n(146),r.NaN=n(147),r.pi=n(148),r.PI=n(148),r.SQRT1_2=n(149),r.SQRT2=n(150),r.tau=n(151),r[&quot;true&quot;]=n(152),r.abs=n(157),r.add=n(158),r.ceil=n(159),r.compare=n(160),r.cube=n(161),r.divide=n(162),r.edivide=n(163),r.emultiply=n(164),r.epow=n(165),r.equal=n(166),r.exp=n(167),r.fix=n(168),r.floor=n(169),r.gcd=n(170),r.larger=n(171),r.largereq=n(172),r.lcm=n(173),r.log=n(174),r.log10=n(175),r.mod=n(176),r.multiply=n(177),r.norm=n(178),r.pow=n(179),r.round=n(180),r.sign=n(181),r.smaller=n(182),r.smallereq=n(183),r.sqrt=n(184),r.square=n(185),r.subtract=n(186),r.unary=n(187),r.unequal=n(188),r.xgcd=n(189),r.arg=n(190),r.conj=n(191),r.re=n(192),r.im=n(193),r.bignumber=n(194),r[&quot;boolean&quot;]=n(195),r.complex=n(196),r.index=n(197),r.matrix=n(198),r.number=n(199),r.string=n(200),r.unit=n(201),r.eval=n(202),r.help=n(203),r.concat=n(204),r.det=n(205),r.diag=n(206),r.eye=n(207),r.inv=n(208),r.ones=n(209),r.range=n(210),r.resize=n(211),r.size=n(212),r.squeeze=n(213),r.subset=n(214),r.transpose=n(215),r.zeros=n(216),r.combinations=n(217),r.distribution=n(218),r.factorial=n(219),r.permutations=n(220),r.pickRandom=n(221),r.random=n(222),r.randomInt=n(223),r.max=n(224),r.mean=n(225),r.median=n(226),r.min=n(227),r.prod=n(228),r.std=n(229),r.sum=n(230),r[&quot;var&quot;]=n(231),r.acos=n(232),r.asin=n(233),r.atan=n(234),r.atan2=n(235),r.cos=n(236),r.cosh=n(237),r.cot=n(238),r.coth=n(239),r.csc=n(240),r.csch=n(241),r.sec=n(242),r.sech=n(243),r.sin=n(244),r.sinh=n(245),r.tan=n(246),r.tanh=n(247),r.to=n(248),r.clone=n(249),r.map=n(250),r.forEach=n(251),r.format=n(252),r.ifElse=n(253),r[&quot;import&quot;]=n(254),r[&quot;typeof&quot;]=n(255)},function(e,r,n){e.exports=function(e){function r(e){if(!(this instanceof r))throw new SyntaxError(&quot;Constructor must be called with the new operator&quot;);this.value=e instanceof r?e.value:e}function t(e,n){var t=Array.prototype.slice;r.prototype[e]=&quot;function&quot;==typeof n?function(){var e=[this.value].concat(t.call(arguments,0));return new r(n.apply(this,e))}:new r(n)}var i=n(138);r.prototype.done=function(){return this.value},r.prototype.valueOf=function(){return this.value},r.prototype.toString=function(){return i.format(this.value)},r.createProxy=t;for(var o in e)e.hasOwnProperty(o)&amp;&amp;t(o,e[o]);return r}},function(e,r,n){e.exports=function(e){var r=n(123),t=n(12),i=n(11),o=r.string.isString,a=i.isCollection;e.compile=function(r){if(1!=arguments.length)throw new e.error.ArgumentsError(&quot;compile&quot;,arguments.length,1);if(o(r))return t(r).compile(e);if(a(r))return i.deepMap(r,function(r){return t(r).compile(e)});throw new TypeError(&quot;String, array, or matrix expected&quot;)}}},function(e,r,n){e.exports=function(e){var r=n(123),t=n(12),i=n(11),o=r.string.isString,a=i.isCollection;e.eval=function(r,n){if(1!=arguments.length&amp;&amp;2!=arguments.length)throw new e.error.ArgumentsError(&quot;eval&quot;,arguments.length,1,2);if(n=n||{},o(r))return t(r).compile(e).eval(n);if(a(r))return i.deepMap(r,function(r){return t(r).compile(e).eval(n)});throw new TypeError(&quot;String, array, or matrix expected&quot;)}}},function(e,r,n){e.exports=function(e){var r=n(10);e.help=function(n){if(1!=arguments.length)throw new SyntaxError(&quot;Wrong number of arguments in function help (&quot;+arguments.length+&quot; provided, 1 expected)&quot;);var t=null;if(n instanceof String||&quot;string&quot;==typeof n)t=n;else{var i;for(i in e)if(e.hasOwnProperty(i)&amp;&amp;n===e[i]){t=i;break}}var o=e.expression.docs[t];if(!t||!o)throw new Error('No documentation found on &quot;'+t+'&quot;');return new r(e,o)}}},function(e,r,n){e.exports=function(e){var r=n(12);e.parse=function(){return r.apply(r,arguments)}}},function(e,r,n){e.exports=function(e){var r=n(123),t=e.type.BigNumber,i=n(5),o=(n(8),n(11)),a=r.number.isNumber,s=r[&quot;boolean&quot;].isBoolean,u=i.isComplex,f=o.isCollection;e.abs=function c(r){if(1!=arguments.length)throw new e.error.ArgumentsError(&quot;abs&quot;,arguments.length,1);if(a(r))return Math.abs(r);if(u(r))return Math.sqrt(r.re*r.re+r.im*r.im);if(r instanceof t)return r.abs();if(f(r))return o.deepMap(r,c);if(s(r))return Math.abs(r);throw new e.error.UnsupportedTypeError(&quot;abs&quot;,e[&quot;typeof&quot;](r))}}},function(e,r,n){e.exports=function(e){var r=n(123),t=e.type.BigNumber,i=n(5),o=(n(8),n(9)),a=n(11),s=r[&quot;boolean&quot;].isBoolean,u=r.number.isNumber,f=r.string.isString,c=i.isComplex,l=o.isUnit,p=a.isCollection;e.add=function m(r,n){if(2!=arguments.length)throw new e.error.ArgumentsError(&quot;add&quot;,arguments.length,2);if(u(r)){if(u(n))return r+n;if(c(n))return new i(r+n.re,n.im)}if(c(r)){if(c(n))return new i(r.re+n.re,r.im+n.im);if(u(n))return new i(r.re+n,r.im)}if(l(r)&amp;&amp;l(n)){if(null==r.value)throw new Error(&quot;Parameter x contains a unit with undefined value&quot;);if(null==n.value)throw new Error(&quot;Parameter y contains a unit with undefined value&quot;);if(!r.equalBase(n))throw new Error(&quot;Units do not match&quot;);var o=r.clone();return o.value+=n.value,o.fixPrefix=!1,o}if(r instanceof t)return u(n)?n=t.convert(n):s(n)&amp;&amp;(n=new t(n?1:0)),n instanceof t?r.plus(n):m(r.toNumber(),n);if(n instanceof t)return u(r)?r=t.convert(r):s(r)&amp;&amp;(r=new t(r?1:0)),r instanceof t?r.plus(n):m(r,n.toNumber());if(p(r)||p(n))return a.deepMap2(r,n,m);if(f(r)||f(n))return r+n;if(s(r))return m(+r,n);if(s(n))return m(r,+n);throw new e.error.UnsupportedTypeError(&quot;add&quot;,e[&quot;typeof&quot;](r),e[&quot;typeof&quot;](n))}}},function(e,r,n){e.exports=function(e){var r=n(123),t=e.type.BigNumber,i=n(5),o=n(11),a=r.number.isNumber,s=r[&quot;boolean&quot;].isBoolean,u=o.isCollection,f=i.isComplex;e.ceil=function c(r){if(1!=arguments.length)throw new e.error.ArgumentsError(&quot;ceil&quot;,arguments.length,1);if(a(r))return Math.ceil(r);if(f(r))return new i(Math.ceil(r.re),Math.ceil(r.im));if(r instanceof t)return r.ceil();if(u(r))return o.deepMap(r,c);if(s(r))return Math.ceil(r);throw new e.error.UnsupportedTypeError(&quot;ceil&quot;,e[&quot;typeof&quot;](r))}}},function(e,r,n){e.exports=function(e,r){var t=n(123),i=e.type.BigNumber,o=n(5),a=n(9),s=n(11),u=t.number.isNumber,f=t.number.nearlyEqual,c=t[&quot;boolean&quot;].isBoolean,l=t.string.isString,p=o.isComplex,m=a.isUnit,h=s.isCollection;e.compare=function g(n,t){if(2!=arguments.length)throw new e.error.ArgumentsError(&quot;compare&quot;,arguments.length,2);if(u(n)&amp;&amp;u(t))return f(n,t,r.epsilon)?0:n&gt;t?1:-1;if(n instanceof i)return u(t)?t=i.convert(t):c(t)&amp;&amp;(t=new i(t?1:0)),t instanceof i?new i(n.cmp(t)):g(n.toNumber(),t);if(t instanceof i)return u(n)?n=i.convert(n):c(n)&amp;&amp;(n=new i(n?1:0)),n instanceof i?new i(n.cmp(t)):g(n,t.toNumber());if(m(n)&amp;&amp;m(t)){if(!n.equalBase(t))throw new Error(&quot;Cannot compare units with different base&quot;);return n.value&gt;t.value?1:n.value&lt;t.value?-1:0}if(h(n)||h(t))return s.deepMap2(n,t,g);if(l(n)||l(t))return n&gt;t?1:t&gt;n?-1:0;if(c(n))return g(+n,t);if(c(t))return g(n,+t);if(p(n)||p(t))throw new TypeError(&quot;No ordering relation is defined for complex numbers&quot;);throw new e.error.UnsupportedTypeError(&quot;compare&quot;,e[&quot;typeof&quot;](n),e[&quot;typeof&quot;](t))}}},function(e,r,n){e.exports=function(e){var r=n(123),t=e.type.BigNumber,i=n(5),o=n(11),a=r.number.isNumber,s=r[&quot;boolean&quot;].isBoolean,u=i.isComplex,f=o.isCollection;e.cube=function c(r){if(1!=arguments.length)throw new e.error.ArgumentsError(&quot;cube&quot;,arguments.length,1);if(a(r))return r*r*r;if(u(r))return e.multiply(e.multiply(r,r),r);if(r instanceof t)return r.times(r).times(r);if(f(r))return o.deepMap(r,c);if(s(r))return c(+r);throw new e.error.UnsupportedTypeError(&quot;cube&quot;,e[&quot;typeof&quot;](r))}}},function(e,r,n){e.exports=function(e){function r(e,r){var n=r.re*r.re+r.im*r.im;return 0!=n?new o((e.re*r.re+e.im*r.im)/n,(e.im*r.re-e.re*r.im)/n):new o(0!=e.re?e.re/0:0,0!=e.im?e.im/0:0)}var t=n(123),i=e.type.BigNumber,o=n(5),a=(n(8),n(9)),s=n(11),u=t.number.isNumber,f=t[&quot;boolean&quot;].isBoolean,c=o.isComplex,l=a.isUnit,p=s.isCollection;e.divide=function m(n,t){if(2!=arguments.length)throw new e.error.ArgumentsError(&quot;divide&quot;,arguments.length,2);if(u(n)){if(u(t))return n/t;if(c(t))return r(new o(n,0),t)}if(c(n)){if(c(t))return r(n,t);if(u(t))return r(n,new o(t,0))}if(n instanceof i)return u(t)?t=i.convert(t):f(t)&amp;&amp;(t=new i(t?1:0)),t instanceof i?n.div(t):m(n.toNumber(),t);if(t instanceof i)return u(n)?n=i.convert(n):f(n)&amp;&amp;(n=new i(n?1:0)),n instanceof i?n.div(t):m(n,t.toNumber());if(l(n)&amp;&amp;u(t)){var a=n.clone();return a.value/=t,a}if(p(n))return p(t)?e.multiply(n,e.inv(t)):s.deepMap2(n,t,m);if(p(t))return e.multiply(n,e.inv(t));if(f(n))return m(+n,t);if(f(t))return m(n,+t);throw new e.error.UnsupportedTypeError(&quot;divide&quot;,e[&quot;typeof&quot;](n),e[&quot;typeof&quot;](t))}}},function(e,r,n){e.exports=function(e){var r=n(11);e.edivide=function(n,t){if(2!=arguments.length)throw new e.error.ArgumentsError(&quot;edivide&quot;,arguments.length,2);return r.deepMap2(n,t,e.divide)}}},function(e,r,n){e.exports=function(e){var r=(n(123),n(11));e.emultiply=function(n,t){if(2!=arguments.length)throw new e.error.ArgumentsError(&quot;emultiply&quot;,arguments.length,2);return r.deepMap2(n,t,e.multiply)}}},function(e,r,n){e.exports=function(e){var r=(n(123),n(11));e.epow=function(n,t){if(2!=arguments.length)throw new e.error.ArgumentsError(&quot;epow&quot;,arguments.length,2);return r.deepMap2(n,t,e.pow)}}},function(e,r,n){e.exports=function(e,r){var t=n(123),i=e.type.BigNumber,o=n(5),a=n(9),s=n(11),u=t.number.isNumber,f=t.number.nearlyEqual,c=t[&quot;boolean&quot;].isBoolean,l=t.string.isString,p=o.isComplex,m=a.isUnit,h=s.isCollection;e.equal=function g(n,t){if(2!=arguments.length)throw new e.error.ArgumentsError(&quot;equal&quot;,arguments.length,2);if(u(n)){if(u(t))return f(n,t,r.epsilon);if(p(t))return f(n,t.re,r.epsilon)&amp;&amp;f(t.im,0,r.epsilon)}if(p(n)){if(u(t))return f(n.re,t,r.epsilon)&amp;&amp;f(n.im,0,r.epsilon);if(p(t))return f(n.re,t.re,r.epsilon)&amp;&amp;f(n.im,t.im,r.epsilon)}if(n instanceof i)return u(t)?t=i.convert(t):c(t)&amp;&amp;(t=new i(t?1:0)),t instanceof i?n.eq(t):g(n.toNumber(),t);if(t instanceof i)return u(n)?n=i.convert(n):c(n)&amp;&amp;(n=new i(n?1:0)),n instanceof i?n.eq(t):g(n,t.toNumber());if(m(n)&amp;&amp;m(t)){if(!n.equalBase(t))throw new Error(&quot;Cannot compare units with different base&quot;);return n.value==t.value}if(h(n)||h(t))return s.deepMap2(n,t,g);if(l(n)||l(t))return n==t;if(c(n))return g(+n,t);if(c(t))return g(n,+t);throw new e.error.UnsupportedTypeError(&quot;equal&quot;,e[&quot;typeof&quot;](n),e[&quot;typeof&quot;](t))}}},function(e,r,n){e.exports=function(e){var r=n(123),t=e.type.BigNumber,i=n(5),o=(n(8),n(11)),a=r.number.isNumber,s=r[&quot;boolean&quot;].isBoolean,u=i.isComplex,f=o.isCollection;e.exp=function c(r){if(1!=arguments.length)throw new e.error.ArgumentsError(&quot;exp&quot;,arguments.length,1);if(a(r))return Math.exp(r);if(u(r)){var n=Math.exp(r.re);return new i(n*Math.cos(r.im),n*Math.sin(r.im))}if(r instanceof t)return r.exp();if(f(r))return o.deepMap(r,c);if(s(r))return Math.exp(r);throw new e.error.UnsupportedTypeError(&quot;exp&quot;,e[&quot;typeof&quot;](r))}}},function(e,r,n){e.exports=function(e){var r=n(123),t=e.type.BigNumber,i=n(5),o=n(11),a=r.number.isNumber,s=r[&quot;boolean&quot;].isBoolean,u=i.isComplex,f=o.isCollection;e.fix=function c(r){if(1!=arguments.length)throw new e.error.ArgumentsError(&quot;fix&quot;,arguments.length,1);if(a(r))return r&gt;0?Math.floor(r):Math.ceil(r);if(u(r))return new i(r.re&gt;0?Math.floor(r.re):Math.ceil(r.re),r.im&gt;0?Math.floor(r.im):Math.ceil(r.im));if(r instanceof t)return r.isNegative()?r.ceil():r.floor();if(f(r))return o.deepMap(r,c);if(s(r))return c(+r);throw new e.error.UnsupportedTypeError(&quot;fix&quot;,e[&quot;typeof&quot;](r))}}},function(e,r,n){e.exports=function(e){var r=n(123),t=e.type.BigNumber,i=n(5),o=n(11),a=r.number.isNumber,s=r[&quot;boolean&quot;].isBoolean,u=i.isComplex,f=o.isCollection;e.floor=function c(r){if(1!=arguments.length)throw new e.error.ArgumentsError(&quot;floor&quot;,arguments.length,1);if(a(r))return Math.floor(r);if(u(r))return new i(Math.floor(r.re),Math.floor(r.im));if(r instanceof t)return r.floor();if(f(r))return o.deepMap(r,c);if(s(r))return c(+r);throw new e.error.UnsupportedTypeError(&quot;floor&quot;,e[&quot;typeof&quot;](r))}}},function(e,r,n){e.exports=function(e){var r=n(123),t=e.type.BigNumber,i=n(11),o=r.number.isNumber,a=r[&quot;boolean&quot;].isBoolean,s=r.number.isInteger,u=i.isCollection;e.gcd=function f(){var r,n=arguments[0],c=arguments[1];if(2==arguments.length){if(o(n)&amp;&amp;o(c)){if(!s(n)||!s(c))throw new Error(&quot;Parameters in function gcd must be integer numbers&quot;);for(;0!=c;)r=n%c,n=c,c=r;return 0&gt;n?-n:n}if(u(n)||u(c))return i.deepMap2(n,c,f);if(n instanceof t)return f(n.toNumber(),c);if(c instanceof t)return f(n,c.toNumber());if(a(n))return f(+n,c);if(a(c))return f(n,+c);throw new e.error.UnsupportedTypeError(&quot;gcd&quot;,e[&quot;typeof&quot;](n),e[&quot;typeof&quot;](c))}if(arguments.length&gt;2){for(var l=1;l&lt;arguments.length;l++)n=f(n,arguments[l]);return n}throw new SyntaxError(&quot;Function gcd expects two or more arguments&quot;)}}},function(e,r,n){e.exports=function(e,r){var t=n(123),i=e.type.BigNumber,o=n(5),a=n(9),s=n(11),u=t.number.isNumber,f=t.number.nearlyEqual,c=t[&quot;boolean&quot;].isBoolean,l=t.string.isString,p=o.isComplex,m=a.isUnit,h=s.isCollection;e.larger=function g(n,t){if(2!=arguments.length)throw new e.error.ArgumentsError(&quot;larger&quot;,arguments.length,2);if(u(n)&amp;&amp;u(t))return!f(n,t,r.epsilon)&amp;&amp;n&gt;t;if(n instanceof i)return u(t)?t=i.convert(t):c(t)&amp;&amp;(t=new i(t?1:0)),t instanceof i?n.gt(t):g(n.toNumber(),t);if(t instanceof i)return u(n)?n=i.convert(n):c(n)&amp;&amp;(n=new i(n?1:0)),n instanceof i?n.gt(t):g(n,t.toNumber());if(m(n)&amp;&amp;m(t)){if(!n.equalBase(t))throw new Error(&quot;Cannot compare units with different base&quot;);return n.value&gt;t.value}if(h(n)||h(t))return s.deepMap2(n,t,g);if(l(n)||l(t))return n&gt;t;if(c(n))return g(+n,t);if(c(t))return g(n,+t);if(p(n)||p(t))throw new TypeError(&quot;No ordering relation is defined for complex numbers&quot;);throw new e.error.UnsupportedTypeError(&quot;larger&quot;,e[&quot;typeof&quot;](n),e[&quot;typeof&quot;](t))}}},function(e,r,n){e.exports=function(e,r){var t=n(123),i=e.type.BigNumber,o=n(5),a=n(9),s=n(11),u=t.number.isNumber,f=t.number.nearlyEqual,c=t[&quot;boolean&quot;].isBoolean,l=t.string.isString,p=o.isComplex,m=a.isUnit,h=s.isCollection;e.largereq=function g(n,t){if(2!=arguments.length)throw new e.error.ArgumentsError(&quot;largereq&quot;,arguments.length,2);if(u(n)&amp;&amp;u(t))return f(n,t,r.epsilon)||n&gt;t;if(n instanceof i)return u(t)?t=i.convert(t):c(t)&amp;&amp;(t=new i(t?1:0)),t instanceof i?n.gte(t):g(n.toNumber(),t);if(t instanceof i)return u(n)?n=i.convert(n):c(n)&amp;&amp;(n=new i(n?1:0)),n instanceof i?n.gte(t):g(n,t.toNumber());if(m(n)&amp;&amp;m(t)){if(!n.equalBase(t))throw new Error(&quot;Cannot compare units with different base&quot;);return n.value&gt;=t.value}if(h(n)||h(t))return s.deepMap2(n,t,g);if(l(n)||l(t))return n&gt;=t;if(c(n))return g(+n,t);if(c(t))return g(n,+t);if(p(n)||p(t))throw new TypeError(&quot;No ordering relation is defined for complex numbers&quot;);throw new e.error.UnsupportedTypeError(&quot;largereq&quot;,e[&quot;typeof&quot;](n),e[&quot;typeof&quot;](t))}}},function(e,r,n){e.exports=function(e){var r=n(123),t=e.type.BigNumber,i=n(11),o=r.number.isNumber,a=r[&quot;boolean&quot;].isBoolean,s=r.number.isInteger,u=i.isCollection;e.lcm=function f(){var r,n=arguments[0],c=arguments[1];if(2==arguments.length){if(o(n)&amp;&amp;o(c)){if(!s(n)||!s(c))throw new Error(&quot;Parameters in function lcm must be integer numbers&quot;);if(0==n||0==c)return 0;for(var l=n*c;0!=c;)r=c,c=n%r,n=r;return Math.abs(l/n)}if(u(n)||u(c))return i.deepMap2(n,c,f);if(a(n))return f(+n,c);if(a(c))return f(n,+c);if(n instanceof t)return f(n.toNumber(),c);if(c instanceof t)return f(n,c.toNumber());throw new e.error.UnsupportedTypeError(&quot;lcm&quot;,e[&quot;typeof&quot;](n),e[&quot;typeof&quot;](c))}if(arguments.length&gt;2){for(var p=1;p&lt;arguments.length;p++)n=f(n,arguments[p]);return n}throw new SyntaxError(&quot;Function lcm expects two or more arguments&quot;)}}},function(e,r,n){e.exports=function(e){var r=n(123),t=e.type.BigNumber,i=n(5),o=n(11),a=r.number.isNumber,s=r[&quot;boolean&quot;].isBoolean,u=i.isComplex,f=o.isCollection;e.log=function c(r,n){if(1==arguments.length){if(a(r))return r&gt;=0?Math.log(r):c(new i(r,0));if(u(r))return new i(Math.log(Math.sqrt(r.re*r.re+r.im*r.im)),Math.atan2(r.im,r.re));if(r instanceof t)return r.isNegative()?c(r.toNumber()):r.ln();if(f(r))return o.deepMap(r,c);if(s(r))return c(+r);throw new e.error.UnsupportedTypeError(&quot;log&quot;,e[&quot;typeof&quot;](r))}if(2==arguments.length)return e.divide(c(r),c(n));throw new e.error.ArgumentsError(&quot;log&quot;,arguments.length,1,2)}}},function(e,r,n){e.exports=function(e){var r=n(123),t=e.type.BigNumber,i=n(5),o=n(11),a=r.number.isNumber,s=r[&quot;boolean&quot;].isBoolean,u=i.isComplex,f=o.isCollection;e.log10=function c(r){if(1!=arguments.length)throw new e.error.ArgumentsError(&quot;log10&quot;,arguments.length,1);if(a(r))return r&gt;=0?Math.log(r)/Math.LN10:c(new i(r,0));if(r instanceof t)return r.isNegative()?c(r.toNumber()):r.log();if(u(r))return new i(Math.log(Math.sqrt(r.re*r.re+r.im*r.im))/Math.LN10,Math.atan2(r.im,r.re)/Math.LN10);if(f(r))return o.deepMap(r,c);if(s(r))return c(+r);throw new e.error.UnsupportedTypeError(&quot;log10&quot;,e[&quot;typeof&quot;](r))}}},function(e,r,n){e.exports=function(e){function r(e,r){if(r&gt;0)return e-r*Math.floor(e/r);if(0==r)return e;throw new Error(&quot;Cannot calculate mod for a negative divisor&quot;)}var t=n(123),i=e.type.BigNumber,o=n(11),a=t.number.isNumber,s=t[&quot;boolean&quot;].isBoolean,u=o.isCollection;e.mod=function f(n,t){if(2!=arguments.length)throw new e.error.ArgumentsError(&quot;mod&quot;,arguments.length,2);if(a(n)&amp;&amp;a(t))return r(n,t);if(n instanceof i)return a(t)?t=i.convert(t):s(t)&amp;&amp;(t=new i(t?1:0)),t instanceof i?t.isZero()?n:n.mod(t):f(n.toNumber(),t);if(t instanceof i)return a(n)?n=i.convert(n):s(n)&amp;&amp;(n=new i(n?1:0)),n instanceof i?t.isZero()?n:n.mod(t):f(n,t.toNumber());if(u(n)||u(t))return o.deepMap2(n,t,f);if(s(n))return f(+n,t);if(s(t))return f(n,+t);throw new e.error.UnsupportedTypeError(&quot;mod&quot;,e[&quot;typeof&quot;](n),e[&quot;typeof&quot;](t))}}},function(e,r,n){e.exports=function(e){function r(r,n){for(var t=[],i=r.length,o=n[0].length,a=r[0].length,s=0;i&gt;s;s++){t[s]=[];for(var u=0;o&gt;u;u++){for(var f=null,c=0;a&gt;c;c++){var l=e.multiply(r[s][c],n[c][u]);f=null===f?l:e.add(f,l)}t[s][u]=f}}return t}function t(r,n){for(var t=[],i=n.length,o=n[0].length,a=0;o&gt;a;a++){for(var s=null,u=0;i&gt;u;u++){var f=e.multiply(r[u],n[u][a]);s=0===u?f:e.add(s,f)}t[a]=s}return t}function i(r,n){for(var t=[],i=r.length,o=r[0].length,a=0;i&gt;a;a++){for(var s=null,u=0;o&gt;u;u++){var f=e.multiply(r[a][u],n[u]);s=0===u?f:e.add(s,f)}t[a]=s}return t}function o(r,n){var t=r.length;if(!t)throw new Error(&quot;Cannot multiply two empty vectors&quot;);for(var i=0,o=0;t&gt;o;o++)i=e.add(i,e.multiply(r[o],n[o]));return i}function a(e,r){return 0==e.im?0==r.im?new f(e.re*r.re,0):0==r.re?new f(0,e.re*r.im):new f(e.re*r.re,e.re*r.im):0==e.re?0==r.im?new f(0,e.im*r.re):0==r.re?new f(-e.im*r.im,0):new f(-e.im*r.im,e.im*r.re):0==r.im?new f(e.re*r.re,e.im*r.re):0==r.re?new f(-e.im*r.im,e.re*r.im):new f(e.re*r.re-e.im*r.im,e.re*r.im+e.im*r.re)}var s=n(123),u=e.type.BigNumber,f=n(5),c=n(8),l=n(9),p=n(11),m=s.array,h=s.number.isNumber,g=s[&quot;boolean&quot;].isBoolean,d=f.isComplex,x=Array.isArray,w=l.isUnit;e.multiply=function y(n,s){var l;if(2!=arguments.length)throw new e.error.ArgumentsError(&quot;multiply&quot;,arguments.length,2);if(h(n)){if(h(s))return n*s;if(d(s))return a(new f(n,0),s);if(w(s))return l=s.clone(),l.value*=n,l}if(d(n)){if(h(s))return a(n,new f(s,0));if(d(s))return a(n,s)}if(n instanceof u)return h(s)?s=u.convert(s):g(s)&amp;&amp;(s=new u(s?1:0)),s instanceof u?n.times(s):y(n.toNumber(),s);if(s instanceof u)return h(n)?n=u.convert(n):g(n)&amp;&amp;(n=new u(n?1:0)),n instanceof u?n.times(s):y(n,s.toNumber());if(w(n)&amp;&amp;h(s))return l=n.clone(),l.value*=s,l;if(x(n)){if(x(s)){var v=m.size(n),b=m.size(s);if(1==v.length){if(1==b.length){if(v[0]!=b[0])throw new RangeError(&quot;Dimension mismatch in multiplication. Length of A must match length of B (A is &quot;+v[0]+&quot;, B is &quot;+b[0]+v[0]+&quot; != &quot;+b[0]+&quot;)&quot;);return o(n,s)}if(2==b.length){if(v[0]!=b[0])throw new RangeError(&quot;Dimension mismatch in multiplication. Length of A must match rows of B (A is &quot;+v[0]+&quot;, B is &quot;+b[0]+&quot;x&quot;+b[1]+&quot;, &quot;+v[0]+&quot; != &quot;+b[0]+&quot;)&quot;);return t(n,s)}throw new Error(&quot;Can only multiply a 1 or 2 dimensional matrix (B has &quot;+b.length+&quot; dimensions)&quot;)}if(2==v.length){if(1==b.length){if(v[1]!=b[0])throw new RangeError(&quot;Dimension mismatch in multiplication. Columns of A must match length of B (A is &quot;+v[0]+&quot;x&quot;+v[0]+&quot;, B is &quot;+b[0]+&quot;, &quot;+v[1]+&quot; != &quot;+b[0]+&quot;)&quot;);return i(n,s)}if(2==b.length){if(v[1]!=b[0])throw new RangeError(&quot;Dimension mismatch in multiplication. Columns of A must match rows of B (A is &quot;+v[0]+&quot;x&quot;+v[1]+&quot;, B is &quot;+b[0]+&quot;x&quot;+b[1]+&quot;, &quot;+v[1]+&quot; != &quot;+b[0]+&quot;)&quot;);return r(n,s)}throw new Error(&quot;Can only multiply a 1 or 2 dimensional matrix (B has &quot;+b.length+&quot; dimensions)&quot;)}throw new Error(&quot;Can only multiply a 1 or 2 dimensional matrix (A has &quot;+v.length+&quot; dimensions)&quot;)}return s instanceof c?new c(y(n,s.valueOf())):p.deepMap2(n,s,y)}if(n instanceof c)return new c(s instanceof c?y(n.valueOf(),s.valueOf()):y(n.valueOf(),s));if(x(s))return p.deepMap2(n,s,y);if(s instanceof c)return new c(p.deepMap2(n,s.valueOf(),y));if(g(n))return y(+n,s);if(g(s))return y(n,+s);throw new e.error.UnsupportedTypeError(&quot;multiply&quot;,e[&quot;typeof&quot;](n),e[&quot;typeof&quot;](s))}}},function(e,r,n){e.exports=function(e){{var r=n(123),t=n(153),i=e.type.BigNumber,o=n(5),a=n(8),s=n(11),u=r.number.isNumber,f=r[&quot;boolean&quot;].isBoolean,c=o.isComplex;s.isCollection}e.norm=function l(r,n){if(arguments.length&lt;1||arguments.length&gt;2)throw new e.error.ArgumentsError(&quot;abs&quot;,arguments.length,1,2);if(u(r))return Math.abs(r);if(c(r))return Math.sqrt(r.re*r.re+r.im*r.im);if(r instanceof i)return r.abs();if(f(r))return Math.abs(r);if(isArray(r)){var o=t.size(r);if(null==n&amp;&amp;(n=2),1==o.length){if(n===Number.POSITIVE_INFINITY||&quot;inf&quot;===n){var s;return e.forEach(r,function(r){var n=e.abs(r);(!s||e.larger(n,s))&amp;&amp;(s=n)}),s}if(n===Number.NEGATIVE_INFINITY||&quot;-inf&quot;===n){var s;return e.forEach(r,function(r){var n=e.abs(r);(!s||e.smaller(n,s))&amp;&amp;(s=n)}),s}if(&quot;fro&quot;===n)return l(r);if(u(n)&amp;&amp;!isNaN(n)){if(!e.equal(n,0)){var s=0;return e.forEach(r,function(r){s=e.add(e.pow(e.abs(r),n),s)}),e.pow(s,1/n)}return Number.POSITIVE_INFINITY}throw new Error(&quot;Unsupported parameter value&quot;)}if(2==o.length){if(1==n){for(var p=[],m=0;m&lt;r.length;m++)for(var h=r[m],g=0;g&lt;h.length;g++)p[g]=e.add(p[g]||0,e.abs(h[g]));return e.max(p)}if(n==Number.POSITIVE_INFINITY||&quot;inf&quot;===n){for(var s=0,m=0;m&lt;r.length;m++){for(var d=0,h=r[m],g=0;g&lt;h.length;g++)d=e.add(d,e.abs(h[g]));e.larger(d,s)&amp;&amp;(s=d)}return s}if(&quot;fro&quot;===n){var x=e.diag(e.multiply(e.transpose(r),r)),w=0;return e.forEach(x,function(r){w=e.add(r,w)}),e.sqrt(w)}if(2==n)throw new Error(&quot;Unsupported parameter value, missing implementation of matrix singular value decomposition&quot;);throw new Error(&quot;Unsupported parameter value&quot;)
}}if(r instanceof a)return l(r.valueOf(),n);throw new e.error.UnsupportedTypeError(&quot;norm&quot;,r)}}},function(e,r,n){e.exports=function(e){function r(r,n){var t=e.log(r),i=e.multiply(t,n);return e.exp(i)}var t=n(123),i=e.type.BigNumber,o=n(5),a=n(8),s=(n(11),t.array),u=t.number.isNumber,f=t[&quot;boolean&quot;].isBoolean,c=Array.isArray,l=t.number.isInteger,p=o.isComplex;e.pow=function m(n,t){if(2!=arguments.length)throw new e.error.ArgumentsError(&quot;pow&quot;,arguments.length,2);if(u(n)){if(u(t))return l(t)||n&gt;=0?Math.pow(n,t):r(new o(n,0),new o(t,0));if(p(t))return r(new o(n,0),t)}if(p(n)){if(u(t))return r(n,new o(t,0));if(p(t))return r(n,t)}if(n instanceof i)return u(t)?t=i.convert(t):f(t)&amp;&amp;(t=new i(t?1:0)),t instanceof i?t.isInteger()&amp;&amp;!n.isNegative()?n.pow(t):m(n.toNumber(),t.toNumber()):m(n.toNumber(),t);if(t instanceof i)return u(n)?n=i.convert(n):f(n)&amp;&amp;(n=new i(n?1:0)),n instanceof i?t.isInteger()&amp;&amp;!n.isNegative()?n.pow(t):m(n.toNumber(),t.toNumber()):m(n,t.toNumber());if(c(n)){if(!u(t)||!l(t)||0&gt;t)throw new TypeError(&quot;For A^b, b must be a positive integer (value is &quot;+t+&quot;)&quot;);var h=s.size(n);if(2!=h.length)throw new Error(&quot;For A^b, A must be 2 dimensional (A has &quot;+h.length+&quot; dimensions)&quot;);if(h[0]!=h[1])throw new Error(&quot;For A^b, A must be square (size is &quot;+h[0]+&quot;x&quot;+h[1]+&quot;)&quot;);for(var g=e.eye(h[0]).valueOf(),d=n;t&gt;=1;)1==(1&amp;t)&amp;&amp;(g=e.multiply(d,g)),t&gt;&gt;=1,d=e.multiply(d,d);return g}if(n instanceof a)return new a(m(n.valueOf(),t));if(f(n))return m(+n,t);if(f(t))return m(n,+t);throw new e.error.UnsupportedTypeError(&quot;pow&quot;,e[&quot;typeof&quot;](n),e[&quot;typeof&quot;](t))}}},function(e,r,n){e.exports=function(e){function r(e,r){var n=Math.pow(10,r);return Math.round(e*n)/n}var t=n(123),i=e.type.BigNumber,o=n(5),a=n(11),s=t.number.isNumber,u=t.number.isInteger,f=t[&quot;boolean&quot;].isBoolean,c=o.isComplex,l=a.isCollection;e.round=function p(n,t){if(1!=arguments.length&amp;&amp;2!=arguments.length)throw new e.error.ArgumentsError(&quot;round&quot;,arguments.length,1,2);if(void 0==t){if(s(n))return Math.round(n);if(c(n))return new o(Math.round(n.re),Math.round(n.im));if(n instanceof i)return n.toDecimalPlaces(0);if(l(n))return a.deepMap(n,p);if(f(n))return Math.round(n);throw new e.error.UnsupportedTypeError(&quot;round&quot;,e[&quot;typeof&quot;](n))}if(!s(t)||!u(t)){if(!(t instanceof i)){if(f(t))return p(n,+t);throw new TypeError(&quot;Number of decimals in function round must be an integer&quot;)}t=parseFloat(t.valueOf())}if(0&gt;t||t&gt;15)throw new Error(&quot;Number of decimals in function round must be in te range of 0-15&quot;);if(s(n))return r(n,t);if(c(n))return new o(r(n.re,t),r(n.im,t));if(n instanceof i)return n.toDecimalPlaces(t);if(l(n)||l(t))return a.deepMap2(n,t,p);if(f(n))return p(+n,t);throw new e.error.UnsupportedTypeError(&quot;round&quot;,e[&quot;typeof&quot;](n),e[&quot;typeof&quot;](t))}}},function(e,r,n){e.exports=function(e){var r=n(123),t=e.type.BigNumber,i=n(5),o=n(11),a=r.number,s=r.number.isNumber,u=r[&quot;boolean&quot;].isBoolean,f=i.isComplex,c=o.isCollection;e.sign=function l(r){if(1!=arguments.length)throw new e.error.ArgumentsError(&quot;sign&quot;,arguments.length,1);if(s(r))return a.sign(r);if(f(r)){var n=Math.sqrt(r.re*r.re+r.im*r.im);return new i(r.re/n,r.im/n)}if(r instanceof t)return new t(r.cmp(0));if(c(r))return o.deepMap(r,l);if(u(r))return a.sign(r);throw new e.error.UnsupportedTypeError(&quot;sign&quot;,e[&quot;typeof&quot;](r))}}},function(e,r,n){e.exports=function(e,r){var t=n(123),i=e.type.BigNumber,o=n(5),a=n(9),s=n(11),u=t.number.isNumber,f=t.number.nearlyEqual,c=t[&quot;boolean&quot;].isBoolean,l=t.string.isString,p=o.isComplex,m=a.isUnit,h=s.isCollection;e.smaller=function g(n,t){if(2!=arguments.length)throw new e.error.ArgumentsError(&quot;smaller&quot;,arguments.length,2);if(u(n)&amp;&amp;u(t))return!f(n,t,r.epsilon)&amp;&amp;t&gt;n;if(n instanceof i)return u(t)?t=i.convert(t):c(t)&amp;&amp;(t=new i(t?1:0)),t instanceof i?n.lt(t):g(n.toNumber(),t);if(t instanceof i)return u(n)?n=i.convert(n):c(n)&amp;&amp;(n=new i(n?1:0)),n instanceof i?n.lt(t):g(n,t.toNumber());if(m(n)&amp;&amp;m(t)){if(!n.equalBase(t))throw new Error(&quot;Cannot compare units with different base&quot;);return n.value&lt;t.value}if(h(n)||h(t))return s.deepMap2(n,t,g);if(l(n)||l(t))return t&gt;n;if(c(n))return g(+n,t);if(c(t))return g(n,+t);if(p(n)||p(t))throw new TypeError(&quot;No ordering relation is defined for complex numbers&quot;);throw new e.error.UnsupportedTypeError(&quot;smaller&quot;,e[&quot;typeof&quot;](n),e[&quot;typeof&quot;](t))}}},function(e,r,n){e.exports=function(e,r){var t=n(123),i=e.type.BigNumber,o=n(5),a=n(9),s=n(11),u=t.number.isNumber,f=t.number.nearlyEqual,c=t[&quot;boolean&quot;].isBoolean,l=t.string.isString,p=o.isComplex,m=a.isUnit,h=s.isCollection;e.smallereq=function g(n,t){if(2!=arguments.length)throw new e.error.ArgumentsError(&quot;smallereq&quot;,arguments.length,2);if(u(n)&amp;&amp;u(t))return f(n,t,r.epsilon)||t&gt;n;if(n instanceof i)return u(t)?t=i.convert(t):c(t)&amp;&amp;(t=new i(t?1:0)),t instanceof i?n.lte(t):g(n.toNumber(),t);if(t instanceof i)return u(n)?n=i.convert(n):c(n)&amp;&amp;(n=new i(n?1:0)),n instanceof i?n.lte(t):g(n,t.toNumber());if(m(n)&amp;&amp;m(t)){if(!n.equalBase(t))throw new Error(&quot;Cannot compare units with different base&quot;);return n.value&lt;=t.value}if(h(n)||h(t))return s.deepMap2(n,t,g);if(l(n)||l(t))return t&gt;=n;if(c(n))return g(+n,t);if(c(t))return g(n,+t);if(p(n)||p(t))throw new TypeError(&quot;No ordering relation is defined for complex numbers&quot;);throw new e.error.UnsupportedTypeError(&quot;smallereq&quot;,e[&quot;typeof&quot;](n),e[&quot;typeof&quot;](t))}}},function(e,r,n){e.exports=function(e){var r=n(123),t=e.type.BigNumber,i=n(5),o=n(11),a=r.number.isNumber,s=r[&quot;boolean&quot;].isBoolean,u=i.isComplex,f=o.isCollection;e.sqrt=function c(r){if(1!=arguments.length)throw new e.error.ArgumentsError(&quot;sqrt&quot;,arguments.length,1);if(a(r))return r&gt;=0?Math.sqrt(r):c(new i(r,0));if(u(r)){var n=Math.sqrt(r.re*r.re+r.im*r.im);return r.im&gt;=0?new i(.5*Math.sqrt(2*(n+r.re)),.5*Math.sqrt(2*(n-r.re))):new i(.5*Math.sqrt(2*(n+r.re)),-.5*Math.sqrt(2*(n-r.re)))}if(r instanceof t)return r.isNegative()?c(r.toNumber()):r.sqrt();if(f(r))return o.deepMap(r,c);if(s(r))return c(+r);throw new e.error.UnsupportedTypeError(&quot;sqrt&quot;,e[&quot;typeof&quot;](r))}}},function(e,r,n){e.exports=function(e){var r=n(123),t=e.type.BigNumber,i=n(5),o=n(11),a=r.number.isNumber,s=r[&quot;boolean&quot;].isBoolean,u=i.isComplex,f=o.isCollection;e.square=function c(r){if(1!=arguments.length)throw new e.error.ArgumentsError(&quot;square&quot;,arguments.length,1);if(a(r))return r*r;if(u(r))return e.multiply(r,r);if(r instanceof t)return r.times(r);if(f(r))return o.deepMap(r,c);if(s(r))return r*r;throw new e.error.UnsupportedTypeError(&quot;square&quot;,e[&quot;typeof&quot;](r))}}},function(e,r,n){e.exports=function(e){var r=n(123),t=e.type.BigNumber,i=n(5),o=(n(8),n(9)),a=n(11),s=r[&quot;boolean&quot;].isBoolean,u=r.number.isNumber,f=i.isComplex,c=o.isUnit,l=a.isCollection;e.subtract=function p(r,n){if(2!=arguments.length)throw new e.error.ArgumentsError(&quot;subtract&quot;,arguments.length,2);if(u(r)){if(u(n))return r-n;if(f(n))return new i(r-n.re,-n.im)}else if(f(r)){if(u(n))return new i(r.re-n,r.im);if(f(n))return new i(r.re-n.re,r.im-n.im)}if(r instanceof t)return u(n)?n=t.convert(n):s(n)&amp;&amp;(n=new t(n?1:0)),n instanceof t?r.minus(n):p(r.toNumber(),n);if(n instanceof t)return u(r)?r=t.convert(r):s(r)&amp;&amp;(r=new t(r?1:0)),r instanceof t?r.minus(n):p(r,n.toNumber());if(c(r)&amp;&amp;c(n)){if(null==r.value)throw new Error(&quot;Parameter x contains a unit with undefined value&quot;);if(null==n.value)throw new Error(&quot;Parameter y contains a unit with undefined value&quot;);if(!r.equalBase(n))throw new Error(&quot;Units do not match&quot;);var o=r.clone();return o.value-=n.value,o.fixPrefix=!1,o}if(l(r)||l(n))return a.deepMap2(r,n,p);if(s(r))return p(+r,n);if(s(n))return p(r,+n);throw new e.error.UnsupportedTypeError(&quot;subtract&quot;,e[&quot;typeof&quot;](r),e[&quot;typeof&quot;](n))}}},function(e,r,n){e.exports=function(e){var r=n(123),t=e.type.BigNumber,i=n(5),o=n(9),a=n(11),s=r.number.isNumber,u=r[&quot;boolean&quot;].isBoolean,f=i.isComplex,c=o.isUnit,l=a.isCollection;e.unary=function p(r){if(1!=arguments.length)throw new e.error.ArgumentsError(&quot;unary&quot;,arguments.length,1);if(s(r))return-r;if(f(r))return new i(-r.re,-r.im);if(r instanceof t)return r.neg();if(c(r)){var n=r.clone();return n.value=-r.value,n}if(l(r))return a.deepMap(r,p);if(u(r))return-r;throw new e.error.UnsupportedTypeError(&quot;unary&quot;,e[&quot;typeof&quot;](r))}}},function(e,r,n){e.exports=function(e,r){var t=n(123),i=e.type.BigNumber,o=n(5),a=n(9),s=n(11),u=t.number.isNumber,f=t.number.nearlyEqual,c=t[&quot;boolean&quot;].isBoolean,l=t.string.isString,p=o.isComplex,m=a.isUnit,h=s.isCollection;e.unequal=function g(n,t){if(2!=arguments.length)throw new e.error.ArgumentsError(&quot;unequal&quot;,arguments.length,2);if(u(n)){if(u(t))return!f(n,t,r.epsilon);if(p(t))return!f(n,t.re,r.epsilon)||!f(t.im,0,r.epsilon)}if(p(n)){if(u(t))return!f(n.re,t,r.epsilon)||!f(n.im,0,r.epsilon);if(p(t))return!f(n.re,t.re,r.epsilon)||!f(n.im,t.im,r.epsilon)}if(n instanceof i)return u(t)?t=i.convert(t):c(t)&amp;&amp;(t=new i(t?1:0)),t instanceof i?!n.eq(t):g(n.toNumber(),t);if(t instanceof i)return u(n)?n=i.convert(n):c(n)&amp;&amp;(n=new i(n?1:0)),n instanceof i?!n.eq(t):g(n,t.toNumber());if(m(n)&amp;&amp;m(t)){if(!n.equalBase(t))throw new Error(&quot;Cannot compare units with different base&quot;);return n.value!=t.value}if(h(n)||h(t))return s.deepMap2(n,t,g);if(l(n)||l(t))return n!=t;if(c(n))return g(+n,t);if(c(t))return g(n,+t);throw new e.error.UnsupportedTypeError(&quot;unequal&quot;,e[&quot;typeof&quot;](n),e[&quot;typeof&quot;](t))}}},function(e,r,n){e.exports=function(e){function r(e,r){for(var n,t,i,o=0,a=1,s=1,u=0;r;)t=Math.floor(e/r),i=e%r,n=o,o=a-t*o,a=n,n=s,s=u-t*s,u=n,e=r,r=i;return 0&gt;e?[-e,-a,-u]:[e,e?a:0,u]}var t=n(123),i=e.type.BigNumber,o=t.number.isNumber,a=t[&quot;boolean&quot;].isBoolean,s=t.number.isInteger;e.xgcd=function u(n,t){if(2==arguments.length){if(o(n)&amp;&amp;o(t)){if(!s(n)||!s(t))throw new Error(&quot;Parameters in function xgcd must be integer numbers&quot;);return r(n,t)}if(n instanceof i)return u(n.toNumber(),t);if(t instanceof i)return u(n,t.toNumber());if(a(n))return u(+n,t);if(a(t))return u(n,+t);throw new e.error.UnsupportedTypeError(&quot;xgcd&quot;,e[&quot;typeof&quot;](n),e[&quot;typeof&quot;](t))}throw new SyntaxError(&quot;Function xgcd expects two arguments&quot;)}}},function(e,r,n){e.exports=function(e){var r=n(123),t=e.type.BigNumber,i=n(5),o=n(11),a=r.number.isNumber,s=r[&quot;boolean&quot;].isBoolean,u=o.isCollection,f=i.isComplex;e.arg=function c(r){if(1!=arguments.length)throw new e.error.ArgumentsError(&quot;arg&quot;,arguments.length,1);if(a(r))return Math.atan2(0,r);if(f(r))return Math.atan2(r.im,r.re);if(u(r))return o.deepMap(r,c);if(s(r))return c(+r);if(r instanceof t)return c(r.toNumber());throw new e.error.UnsupportedTypeError(&quot;arg&quot;,e[&quot;typeof&quot;](r))}}},function(e,r,n){e.exports=function(e){var r=n(123),t=e.type.BigNumber,i=n(5),o=n(11),a=r.object,s=r.number.isNumber,u=r[&quot;boolean&quot;].isBoolean,f=o.isCollection,c=i.isComplex;e.conj=function l(r){if(1!=arguments.length)throw new e.error.ArgumentsError(&quot;conj&quot;,arguments.length,1);return s(r)?r:r instanceof t?new t(r):c(r)?new i(r.re,-r.im):f(r)?o.deepMap(r,l):u(r)?+r:a.clone(r)}}},function(e,r,n){e.exports=function(e){var r=n(123),t=e.type.BigNumber,i=n(5),o=n(11),a=r.object,s=r.number.isNumber,u=r[&quot;boolean&quot;].isBoolean,f=o.isCollection,c=i.isComplex;e.re=function l(r){if(1!=arguments.length)throw new e.error.ArgumentsError(&quot;re&quot;,arguments.length,1);return s(r)?r:r instanceof t?new t(r):c(r)?r.re:f(r)?o.deepMap(r,l):u(r)?+r:a.clone(r)}}},function(e,r,n){e.exports=function(e){var r=n(123),t=e.type.BigNumber,i=n(5),o=n(11),a=r.number.isNumber,s=r[&quot;boolean&quot;].isBoolean,u=o.isCollection,f=i.isComplex;e.im=function c(r){if(1!=arguments.length)throw new e.error.ArgumentsError(&quot;im&quot;,arguments.length,1);return a(r)?0:r instanceof t?new t(0):f(r)?r.im:u(r)?o.deepMap(r,c):s(r)?0:0}}},function(e,r,n){e.exports=function(e){var r=n(123),t=e.type.BigNumber,i=n(11),o=i.isCollection,a=r.number.isNumber,s=r.string.isString,u=r[&quot;boolean&quot;].isBoolean;e.bignumber=function f(r){if(arguments.length&gt;1)throw new e.error.ArgumentsError(&quot;bignumber&quot;,arguments.length,0,1);if(r instanceof t||a(r)||s(r))return new t(r);if(u(r))return new t(+r);if(o(r))return i.deepMap(r,f);if(0==arguments.length)return new t(0);throw new e.error.UnsupportedTypeError(&quot;bignumber&quot;,e[&quot;typeof&quot;](r))}}},function(e,r,n){e.exports=function(e){var r=n(123),t=e.type.BigNumber,i=n(11),o=i.isCollection,a=r.number.isNumber,s=r.string.isString;e[&quot;boolean&quot;]=function u(r){if(1!=arguments.length)throw new e.error.ArgumentsError(&quot;boolean&quot;,arguments.length,0,1);if(&quot;true&quot;===r||r===!0)return!0;if(&quot;false&quot;===r||r===!1)return!1;if(r instanceof Boolean)return 1==r;if(a(r))return 0!==r;if(r instanceof t)return!r.isZero();if(s(r)){var n=r.toLowerCase();if(&quot;true&quot;===n)return!0;if(&quot;false&quot;===n)return!1;var f=Number(r);if(&quot;&quot;!=r&amp;&amp;!isNaN(f))return 0!==f}if(o(r))return i.deepMap(r,u);throw new SyntaxError(r.toString()+&quot; is no valid boolean&quot;)}}},function(e,r,n){e.exports=function(e){var r=n(123),t=e.type.BigNumber,i=n(5),o=n(11),a=o.isCollection,s=r.number.isNumber,u=r.string.isString,f=i.isComplex;e.complex=function c(){switch(arguments.length){case 0:return new i(0,0);case 1:var r=arguments[0];if(s(r))return new i(r,0);if(r instanceof t)return new i(r.toNumber(),0);if(f(r))return r.clone();if(u(r)){var n=i.parse(r);if(n)return n;throw new SyntaxError('String &quot;'+r+'&quot; is no valid complex number')}if(a(r))return o.deepMap(r,c);if(&quot;object&quot;==typeof r){if(&quot;re&quot;in r&amp;&amp;&quot;im&quot;in r)return new i(r.re,r.im);if(&quot;r&quot;in r&amp;&amp;&quot;phi&quot;in r)return i.fromPolar(r.r,r.phi)}throw new TypeError(&quot;Two numbers, single string or an fitting object expected in function complex&quot;);case 2:var l=arguments[0],p=arguments[1];if(l instanceof t&amp;&amp;(l=l.toNumber()),p instanceof t&amp;&amp;(p=p.toNumber()),s(l)&amp;&amp;s(p))return new i(l,p);throw new TypeError(&quot;Two numbers or a single string expected in function complex&quot;);default:throw new e.error.ArgumentsError(&quot;complex&quot;,arguments.length,0,2)}}}},function(e,r,n){e.exports=function(e){var r=(n(123),e.type.BigNumber),t=n(7);e.index=function(){var e=new t,n=Array.prototype.slice.apply(arguments).map(function(e){return e instanceof r?e.toNumber():Array.isArray(e)?e.map(function(e){return e instanceof r?e.toNumber():e}):e});return t.apply(e,n),e}}},function(e,r,n){e.exports=function(e){var r=(n(123),n(8));e.matrix=function(n){if(arguments.length&gt;1)throw new e.error.ArgumentsError(&quot;matrix&quot;,arguments.length,0,1);return new r(n)}}},function(e,r,n){e.exports=function(e){var r=n(123),t=e.type.BigNumber,i=n(11),o=i.isCollection,a=r.number.isNumber,s=r[&quot;boolean&quot;].isBoolean,u=r.string.isString;e.number=function f(r){switch(arguments.length){case 0:return 0;case 1:if(o(r))return i.deepMap(r,f);if(r instanceof t)return r.toNumber();if(u(r)){var n=Number(r);if(isNaN(n)&amp;&amp;(n=Number(r.valueOf())),isNaN(n))throw new SyntaxError(r.toString()+&quot; is no valid number&quot;);return n}if(s(r))return r+0;if(a(r))return r;throw new e.error.UnsupportedTypeError(&quot;number&quot;,e[&quot;typeof&quot;](r));default:throw new e.error.ArgumentsError(&quot;number&quot;,arguments.length,0,1)}}}},function(e,r,n){e.exports=function(e){var r=n(13);e.parser=function(){return new r(e)}}},function(e){e.exports=function(e){e.select=function(r){return new e.chaining.Selector(r)}}},function(e,r,n){e.exports=function(e){var r=n(123),t=n(11),i=r.number,o=r.number.isNumber,a=t.isCollection;e.string=function s(r){switch(arguments.length){case 0:return&quot;&quot;;case 1:return o(r)?i.format(r):a(r)?t.deepMap(r,s):null===r?&quot;null&quot;:r.toString();default:throw new e.error.ArgumentsError(&quot;string&quot;,arguments.length,0,1)}}}},function(e,r,n){e.exports=function(e){var r=n(123),t=e.type.BigNumber,i=n(9),o=n(11),a=o.isCollection,s=r.string.isString;e.unit=function u(r){switch(arguments.length){case 1:var n=arguments[0];if(n instanceof i)return n.clone();if(s(n)){if(i.isValuelessUnit(n))return new i(null,n);var f=i.parse(n);if(f)return f;throw new SyntaxError('String &quot;'+n+'&quot; is no valid unit')}if(a(r))return o.deepMap(r,u);throw new TypeError(&quot;A string or a number and string expected in function unit&quot;);case 2:return arguments[0]instanceof t?new i(arguments[0].toNumber(),arguments[1]):new i(arguments[0],arguments[1]);default:throw new e.error.ArgumentsError(&quot;unit&quot;,arguments.length,1,2)}}}},function(e,r,n){e.exports=function(e){function r(n,t,i,o){if(i&gt;o){if(n.length!=t.length)throw new e.error.DimensionError(n.length,t.length);for(var a=[],s=0;s&lt;n.length;s++)a[s]=r(n[s],t[s],i,o+1);return a}return n.concat(t)}var t=n(123),i=n(8),o=n(11),a=t.object,s=t.array,u=t.number.isNumber,f=t.number.isInteger,c=o.isCollection;e.concat=function(){var n,t,o=arguments.length,l=-1,p=!1,m=[];for(n=0;o&gt;n;n++){var h=arguments[n];if(h instanceof i&amp;&amp;(p=!0),n==o-1&amp;&amp;u(h)){if(t=l,l=h,!f(l)||0&gt;l)throw new TypeError(&quot;Dimension number must be a positive integer (dim = &quot;+l+&quot;)&quot;);if(n&gt;0&amp;&amp;l&gt;t)throw new e.error.DimensionError(l,t,&quot;&gt;&quot;)}else{if(!c(h))throw new e.error.UnsupportedTypeError(&quot;concat&quot;,e[&quot;typeof&quot;](h));var g=a.clone(h).valueOf(),d=s.size(h.valueOf());if(m[n]=g,t=l,l=d.length-1,n&gt;0&amp;&amp;l!=t)throw new e.error.DimensionError(l,t)}}if(0==m.length)throw new SyntaxError(&quot;At least one matrix expected&quot;);for(var x=m.shift();m.length;)x=r(x,m.shift(),l,0);return p?new i(x):x}}},function(e,r,n){e.exports=function(e){function r(r,n){function t(r){var n,t,i=new Array(r.length),o=0;for(n=1;n&lt;r.length;n++)o=e.add(o,r[n][n]);for(n=0;n&lt;r.length;n++){for(i[n]=new Array(r.length),i[n][n]=e.unary(o),t=0;n&gt;t;t++)i[n][t]=0;for(t=n+1;t&lt;r.length;t++)i[n][t]=r[n][t];n+1&lt;r.length&amp;&amp;(o=e.subtract(o,r[n+1][n+1]))}return i}if(1==n)return o.clone(r[0][0]);if(2==n)return e.subtract(e.multiply(r[0][0],r[1][1]),e.multiply(r[1][0],r[0][1]));for(var i=r,a=0;n-1&gt;a;a++)i=e.multiply(t(i),r);return n%2==0?e.unary(i[0][0]):i[0][0]}var t=n(123),i=n(8),o=t.object,a=t.string;e.det=function(n){if(1!=arguments.length)throw new e.error.ArgumentsError(&quot;det&quot;,arguments.length,1);var t;switch(n instanceof i?t=n.size():n instanceof Array?(n=new i(n),t=n.size()):t=[],t.length){case 0:return o.clone(n);case 1:if(1==t[0])return o.clone(n.valueOf()[0]);throw new RangeError(&quot;Matrix must be square (size: &quot;+a.format(t)+&quot;)&quot;);case 2:var s=t[0],u=t[1];if(s==u)return r(n.clone().valueOf(),s,u);throw new RangeError(&quot;Matrix must be square (size: &quot;+a.format(t)+&quot;)&quot;);default:throw new RangeError(&quot;Matrix must be two dimensional (size: &quot;+a.format(t)+&quot;)&quot;)}}}},function(e,r,n){e.exports=function(e){var r=n(123),t=e.type.BigNumber,i=n(8),o=r.object,a=r.array.isArray,s=r.number.isNumber,u=r.number.isInteger;e.diag=function(r,n){var f,c,l,p;if(1!=arguments.length&amp;&amp;2!=arguments.length)throw new e.error.ArgumentsError(&quot;diag&quot;,arguments.length,1,2);if(n){if(n instanceof t&amp;&amp;(n=n.toNumber()),!s(n)||!u(n))throw new TypeError(&quot;Second parameter in function diag must be an integer&quot;)}else n=0;var m,h=n&gt;0?n:0,g=0&gt;n?-n:0;if(r instanceof i)m=!1;else{if(!a(r))throw new TypeError(&quot;First parameter in function diag must be a Matrix or Array&quot;);r=new i(r),m=!0}var d=r.size();switch(d.length){case 1:c=r.valueOf();var x=new i,w=c[0]instanceof t?new t(0):0;for(x.resize([c.length+g,c.length+h],w),f=x.valueOf(),p=c.length,l=0;p&gt;l;l++)f[l+g][l+h]=o.clone(c[l]);return m?x.valueOf():x;case 2:for(c=[],f=r.valueOf(),p=Math.min(d[0]-g,d[1]-h),l=0;p&gt;l;l++)c[l]=o.clone(f[l+g][l+h]);return m?c:new i(c);default:throw new RangeError(&quot;Matrix for function diag must be 2 dimensional&quot;)}}}},function(e,r,n){e.exports=function(e,r){var t=n(123),i=e.type.BigNumber,o=n(8),a=n(11),s=t.number.isNumber,u=t.number.isInteger,f=Array.isArray;e.eye=function(n){var t=a.argsToArray(arguments),c=n instanceof o?!0:f(n)?!1:&quot;matrix&quot;===r.matrix;if(0==t.length)return c?new o:[];if(1==t.length)t[1]=t[0];else if(t.length&gt;2)throw new e.error.ArgumentsError(&quot;eye&quot;,t.length,0,2);var l=t[0],p=t[1];if(l instanceof i&amp;&amp;(l=l.toNumber()),p instanceof i&amp;&amp;(p=p.toNumber()),!s(l)||!u(l)||1&gt;l)throw new Error(&quot;Parameters in function eye must be positive integers&quot;);if(!s(p)||!u(p)||1&gt;p)throw new Error(&quot;Parameters in function eye must be positive integers&quot;);var m=!1;t=t.map(function(e){return e instanceof i?(m=!0,e.toNumber()):e});var h=new o,g=m?new i(1):1,d=m?new i(0):0;h.resize(t,d);for(var x=e.min(t),w=h.valueOf(),y=0;x&gt;y;y++)w[y][y]=g;return c?h:h.valueOf()}}},function(e,r,n){e.exports=function(e){function r(r,n,t){var i,o,a,s,u;if(1==n){if(s=r[0][0],0==s)throw Error(&quot;Cannot calculate inverse, determinant is zero&quot;);return[[e.divide(1,s)]]}if(2==n){var f=e.det(r);if(0==f)throw Error(&quot;Cannot calculate inverse, determinant is zero&quot;);return[[e.divide(r[1][1],f),e.divide(e.unary(r[0][1]),f)],[e.divide(e.unary(r[1][0]),f),e.divide(r[0][0],f)]]}var c=r.concat();for(i=0;n&gt;i;i++)c[i]=c[i].concat();for(var l=e.eye(n).valueOf(),p=0;t&gt;p;p++){for(i=p;n&gt;i&amp;&amp;0==c[i][p];)i++;if(i==n||0==c[i][p])throw Error(&quot;Cannot calculate inverse, determinant is zero&quot;);i!=p&amp;&amp;(u=c[p],c[p]=c[i],c[i]=u,u=l[p],l[p]=l[i],l[i]=u);var m=c[p],h=l[p];for(i=0;n&gt;i;i++){var g=c[i],d=l[i];if(i!=p){if(0!=g[p]){for(a=e.divide(e.unary(g[p]),m[p]),o=p;t&gt;o;o++)g[o]=e.add(g[o],e.multiply(a,m[o]));for(o=0;t&gt;o;o++)d[o]=e.add(d[o],e.multiply(a,h[o]))}}else{for(a=m[p],o=p;t&gt;o;o++)g[o]=e.divide(g[o],a);for(o=0;t&gt;o;o++)d[o]=e.divide(d[o],a)}}}return l}{var t=n(123),i=t.string,o=n(8);n(11)}e.inv=function(n){if(1!=arguments.length)throw new e.error.ArgumentsError(&quot;inv&quot;,arguments.length,1);var t=e.size(n).valueOf();switch(t.length){case 0:return e.divide(1,n);case 1:if(1==t[0])return n instanceof o?new o([e.divide(1,n.valueOf()[0])]):[e.divide(1,n[0])];throw new RangeError(&quot;Matrix must be square (size: &quot;+i.format(t)+&quot;)&quot;);case 2:var a=t[0],s=t[1];if(a==s)return n instanceof o?new o(r(n.valueOf(),a,s)):r(n,a,s);throw new RangeError(&quot;Matrix must be square (size: &quot;+i.format(t)+&quot;)&quot;);default:throw new RangeError(&quot;Matrix must be two dimensional (size: &quot;+i.format(t)+&quot;)&quot;)}}}},function(e,r,n){e.exports=function(e,r){var t=n(123),i=e.type.BigNumber,o=n(8),a=n(11),s=t.array,u=Array.isArray;e.ones=function(e){var n=a.argsToArray(arguments),t=e instanceof o?!0:u(e)?!1:&quot;matrix&quot;===r.matrix;if(0==n.length)return t?new o:[];var f=!1;n=n.map(function(e){return e instanceof i?(f=!0,e.toNumber()):e});var c=[],l=f?new i(1):1;return c=s.resize(c,n,l),t?new o(c):c}}},function(e,r,n){e.exports=function(e,r){function t(e,r,n){var t=[],i=e;if(n&gt;0)for(;r&gt;i;)t.push(i),i+=n;else if(0&gt;n)for(;i&gt;r;)t.push(i),i+=n;return t}function i(e,r,n){var t=[],i=e;if(n&gt;0)for(;r&gt;=i;)t.push(i),i+=n;else if(0&gt;n)for(;i&gt;=r;)t.push(i),i+=n;return t}function o(e,r,n){var t=[],i=e.clone(),o=new f(0);if(n.gt(o))for(;i.lt(r);)t.push(i),i=i.plus(n);else if(n.lt(o))for(;i.gt(r);)t.push(i),i=i.plus(n);return t}function a(e,r,n){var t=[],i=e.clone(),o=new f(0);if(n.gt(o))for(;i.lte(r);)t.push(i),i=i.plus(n);else if(n.lt(o))for(;i.gte(r);)t.push(i),i=i.plus(n);return t}function s(e){var n=e.split(&quot;:&quot;),t=null;if(&quot;bignumber&quot;===r.number)try{t=n.map(function(e){return new f(e)})}catch(i){return null}else{t=n.map(function(e){return Number(e)});var o=t.some(function(e){return isNaN(e)});if(o)return null}switch(t.length){case 2:return{start:t[0],end:t[1],step:1};case 3:return{start:t[0],end:t[2],step:t[1]};default:return null}}var u=n(123),f=e.type.BigNumber,c=n(8),l=(n(11),u[&quot;boolean&quot;].isBoolean),p=u.string.isString,m=u.number.isNumber;e.range=function(){var n,u,h,g=Array.prototype.slice.call(arguments),d=!1;switch(l(g[g.length-1])&amp;&amp;(d=g.pop()?!0:!1),g.length){case 1:if(!p(g[0]))throw new TypeError(&quot;Two or three numbers or a single string expected in function range&quot;);var x=s(g[0]);if(!x)throw new SyntaxError('String &quot;'+g[0]+'&quot; is no valid range');n=x.start,u=x.end,h=x.step;break;case 2:n=g[0],u=g[1],h=1;break;case 3:n=g[0],u=g[1],h=g[2];break;case 4:throw new TypeError(&quot;Parameter includeEnd must be a boolean&quot;);default:throw new e.error.ArgumentsError(&quot;range&quot;,arguments.length,2,4)}if(!(m(n)||n instanceof f))throw new TypeError(&quot;Parameter start must be a number&quot;);if(!(m(u)||u instanceof f))throw new TypeError(&quot;Parameter end must be a number&quot;);if(!(m(h)||h instanceof f))throw new TypeError(&quot;Parameter step must be a number&quot;);if(n instanceof f||u instanceof f||h instanceof f){var w=!0;n instanceof f||(n=f.convert(n)),u instanceof f||(u=f.convert(u)),h instanceof f||(h=f.convert(h)),n instanceof f&amp;&amp;u instanceof f&amp;&amp;h instanceof f||(w=!1,n instanceof f&amp;&amp;(n=n.toNumber()),u instanceof f&amp;&amp;(u=u.toNumber()),h instanceof f&amp;&amp;(h=h.toNumber()))}var y=w?d?a:o:d?i:t,v=y(n,u,h);return&quot;array&quot;===r.matrix?v:new c(v)}}},function(e,r,n){e.exports=function(e,r){function t(r,n,t){if(void 0!==t){if(!c(t)||1!==t.length)throw new TypeError(&quot;Single character expected as defaultValue&quot;)}else t=&quot; &quot;;if(1!==n.length)throw new e.error.DimensionError(n.length,1);var i=n[0];if(!l(i)||!p(i))throw new TypeError(&quot;Invalid size, must contain positive integers (size: &quot;+f.format(n)+&quot;)&quot;);if(r.length&gt;i)return r.substring(0,i);if(r.length&lt;i){for(var o=r,a=0,s=i-r.length;s&gt;a;a++)o+=t;return o}return r}var i=n(123),o=e.type.BigNumber,a=n(8),s=i.array,u=i.object.clone,f=i.string,c=i.string.isString,l=i.number.isNumber,p=i.number.isInteger,m=s.isArray;e.resize=function(n,i,f){if(2!=arguments.length&amp;&amp;3!=arguments.length)throw new e.error.ArgumentsError(&quot;resize&quot;,arguments.length,2,3);var l=n instanceof a?!0:m(n)?!1:&quot;array&quot;!==r.matrix;if(n instanceof a&amp;&amp;(n=n.valueOf()),i instanceof a&amp;&amp;(i=i.valueOf()),i.length&amp;&amp;i[0]instanceof o&amp;&amp;(i=i.map(function(e){return e instanceof o?e.toNumber():e})),c(n))return t(n,i,f);if(0==i.length){for(;m(n);)n=n[0];return u(n)}m(n)||(n=[n]),n=u(n);var p=s.resize(n,i,f);return l?new a(p):p}}},function(e,r,n){e.exports=function(e,r){var t=n(123),i=e.type.BigNumber,o=n(5),a=n(9),s=n(8),u=t.array,f=t.number.isNumber,c=t[&quot;boolean&quot;].isBoolean,l=t.string.isString,p=o.isComplex,m=a.isUnit;e.size=function(n){if(1!=arguments.length)throw new e.error.ArgumentsError(&quot;size&quot;,arguments.length,1);var t=&quot;array&quot;===r.matrix;if(f(n)||p(n)||m(n)||c(n)||null==n||n instanceof i)return t?[]:new s([]);if(l(n))return t?[n.length]:new s([n.length]);if(Array.isArray(n))return u.size(n);if(n instanceof s)return new s(n.size());throw new e.error.UnsupportedTypeError(&quot;size&quot;,e[&quot;typeof&quot;](n))}}},function(e,r,n){e.exports=function(e){var r=n(123),t=n(8),i=r.object,o=r.array,a=Array.isArray;e.squeeze=function(r){if(1!=arguments.length)throw new e.error.ArgumentsError(&quot;squeeze&quot;,arguments.length,1);if(a(r))return o.squeeze(i.clone(r));if(r instanceof t){var n=o.squeeze(r.toArray());return a(n)?new t(n):n}return i.clone(r)}}},function(e,r,n){e.exports=function(e){function r(r,n){var i,o;if(l(r))return i=new s(r),o=i.subset(n),o.valueOf();if(r instanceof s)return r.subset(n);if(c(r))return t(r,n);throw new e.error.UnsupportedTypeError(&quot;subset&quot;,e[&quot;typeof&quot;](r))}function t(r,n){if(!(n instanceof u))throw new TypeError(&quot;Index expected&quot;);if(1!=n.size().length)throw new e.error.DimensionError(n.size().length,1);var t=n.range(0),i=&quot;&quot;,o=r.length;return t.forEach(function(e){f.validateIndex(e,o),i+=r.charAt(e)}),i}function i(r,n,t,i){var a;if(l(r))return a=new s(e.clone(r)),a.subset(n,t,i),a.valueOf();if(r instanceof s)return r.clone().subset(n,t,i);if(c(r))return o(r,n,t,i);throw new e.error.UnsupportedTypeError(&quot;subset&quot;,e[&quot;typeof&quot;](r))}function o(r,n,t,i){if(!(n instanceof u))throw new TypeError(&quot;Index expected&quot;);if(1!=n.size().length)throw new e.error.DimensionError(n.size().length,1);if(void 0!==i){if(!c(i)||1!==i.length)throw new TypeError(&quot;Single character expected as defaultValue&quot;)}else i=&quot; &quot;;var o=n.range(0),a=o.size()[0];if(a!=t.length)throw new e.error.DimensionError(o.size()[0],t.length);for(var s=r.length,l=[],p=0;s&gt;p;p++)l[p]=r.charAt(p);if(o.forEach(function(e,r){f.validateIndex(e),l[e]=t.charAt(r)}),l.length&gt;s)for(p=s-1,a=l.length;a&gt;p;p++)l[p]||(l[p]=i);return l.join(&quot;&quot;)}var a=n(123),s=n(8),u=n(7),f=a.array,c=a.string.isString,l=Array.isArray;e.subset=function(){switch(arguments.length){case 2:return r(arguments[0],arguments[1]);case 3:case 4:return i(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw new e.error.ArgumentsError(&quot;subset&quot;,arguments.length,2,4)}}}},function(e,r,n){e.exports=function(e){var r=n(123),t=n(8),i=(n(11),r.object),o=r.string;e.transpose=function(r){if(1!=arguments.length)throw new e.error.ArgumentsError(&quot;transpose&quot;,arguments.length,1);var n=e.size(r).valueOf();switch(n.length){case 0:return i.clone(r);case 1:return i.clone(r);case 2:var a,s=n[1],u=n[0],f=r instanceof t,c=r.valueOf(),l=[],p=i.clone;if(0===s)throw new RangeError(&quot;Cannot transpose a 2D matrix with no rows(size: &quot;+o.format(n)+&quot;)&quot;);for(var m=0;s&gt;m;m++){a=l[m]=[];for(var h=0;u&gt;h;h++)a[h]=p(c[h][m])}return f?new t(l):l;default:throw new RangeError(&quot;Matrix must be two dimensional (size: &quot;+o.format(n)+&quot;)&quot;)}}}},function(e,r,n){e.exports=function(e,r){var t=n(123),i=e.type.BigNumber,o=n(8),a=n(11),s=t.array,u=Array.isArray;e.zeros=function(e){var n=a.argsToArray(arguments),t=e instanceof o?!0:u(e)?!1:&quot;matrix&quot;===r.matrix;if(0==n.length)return t?new o:[];var f=!1;n=n.map(function(e){return e instanceof i?(f=!0,e.toNumber()):e});var c=[],l=f?new i(0):0;return c=s.resize(c,n,l),t?new o(c):c}}},function(e,r,n){e.exports=function(e){var r=n(123),t=e.type.BigNumber,i=n(11),o=r.number.isNumber,a=r[&quot;boolean&quot;].isBoolean,s=r.number.isInteger,u=i.isCollection;e.factorial=function c(r){var n,l;if(1!=arguments.length)throw new e.error.ArgumentsError(&quot;factorial&quot;,arguments.length,1);if(o(r)){if(!s(r)||0&gt;r)throw new TypeError(&quot;Positive integer value expected in function factorial&quot;);for(n=r-1,l=r;n&gt;1;)l*=n,n--;return 0==l&amp;&amp;(l=1),l}if(r instanceof t){if(!f(r))throw new TypeError(&quot;Positive integer value expected in function factorial&quot;);var p=new t(1);for(n=r.minus(p),l=r;n.gt(p);)l=l.times(n),n=n.minus(p);return l.equals(0)&amp;&amp;(l=p),l}if(a(r))return 1;if(u(r))return i.deepMap(r,c);throw new e.error.UnsupportedTypeError(&quot;factorial&quot;,e[&quot;typeof&quot;](r))};var f=function(e){return e.isInteger()&amp;&amp;e.gte(0)}}},function(e,r,n){e.exports=function(e,r){var t=n(8),i=(n(11),{uniform:function(){return Math.random},normal:function(){return function(){for(var e,r,n=-1;0&gt;n||n&gt;1;)e=Math.random(),r=Math.random(),n=1/6*Math.pow(-2*Math.log(e),.5)*Math.cos(2*Math.PI*r)+.5;return n}}});e.distribution=function(n){if(!i.hasOwnProperty(n))throw new Error(&quot;unknown distribution &quot;+n);var o=Array.prototype.slice.call(arguments,1),a=i[n].apply(this,o);return function(n){var i={random:function(n,i,a){var u,f,c;if(arguments.length&gt;3)throw new e.error.ArgumentsError(&quot;random&quot;,arguments.length,0,3);if(1===arguments.length?Array.isArray(n)?u=n:c=n:2===arguments.length?Array.isArray(n)?u=n:(f=n,c=i):(u=n,f=i,c=a),void 0===c&amp;&amp;(c=1),void 0===f&amp;&amp;(f=0),void 0!==u){var l=s(u,f,c,o);return&quot;array&quot;===r.matrix?l:new t(l)}return o(f,c)},randomInt:function(n,i,o){var u,f,c;if(arguments.length&gt;3||arguments.length&lt;1)throw new e.error.ArgumentsError(&quot;randomInt&quot;,arguments.length,1,3);if(1===arguments.length?c=n:2===arguments.length?&quot;[object Array]&quot;===Object.prototype.toString.call(n)?u=n:(f=n,c=i):(u=n,f=i,c=o),void 0===f&amp;&amp;(f=0),void 0!==u){var l=s(u,f,c,a);return&quot;array&quot;===r.matrix?l:new t(l)}return a(f,c)},pickRandom:function(r){if(1!==arguments.length)throw new e.error.ArgumentsError(&quot;pickRandom&quot;,arguments.length,1);if(!Array.isArray(r))throw new e.error.UnsupportedTypeError(&quot;pickRandom&quot;,e[&quot;typeof&quot;](r));return r[Math.floor(Math.random()*r.length)]}},o=function(e,r){return e+n()*(r-e)},a=function(e,r){return Math.floor(e+n()*(r-e))},s=function(e,r,n,t){var i,o,a=[];if(e=e.slice(0),e.length&gt;1)for(o=0,i=e.shift();i&gt;o;o++)a.push(s(e,r,n,t));else for(o=0,i=e.shift();i&gt;o;o++)a.push(t(r,n));return a};return i}(a)};var o=e.distribution(&quot;uniform&quot;);e.random=o.random,e.randomInt=o.randomInt,e.pickRandom=o.pickRandom}},function(e,r,n){e.exports=function(e){var r=n(123),t=e.type.BigNumber,i=r.number.isNumber,o=r.number.isInteger;e.permutations=function(r,n){var s,u,f=arguments.length;if(f&gt;2)throw new e.error.ArgumentsError(&quot;permutations&quot;,arguments.length,2);if(i(r)){if(!o(r)||0&gt;r)throw new TypeError(&quot;Positive integer value expected in function permutations&quot;);if(1==f)return e.factorial(r);if(2==f&amp;&amp;i(n)){if(!o(n)||0&gt;n)throw new TypeError(&quot;Positive integer value expected in function permutations&quot;);if(n&gt;r)throw new TypeError(&quot;second argument k must be less than or equal to first argument n&quot;);for(s=1,u=r-n+1;r&gt;=u;u++)s*=u;return s}}if(r instanceof t){if(void 0===n&amp;&amp;a(r))return e.factorial(r);if(n=t.convert(n),!(n instanceof t&amp;&amp;a(r)&amp;&amp;a(n)))throw new TypeError(&quot;Positive integer value expected in function permutations&quot;);
if(n.gt(r))throw new TypeError(&quot;second argument k must be less than or equal to first argument n&quot;);for(s=new t(1),u=r.minus(n).plus(1);u.lte(r);u=u.plus(1))s=s.times(u);return s}throw new e.error.UnsupportedTypeError(&quot;permutations&quot;,e[&quot;typeof&quot;](r))};var a=function(e){return e.isInteger()&amp;&amp;e.gte(0)}}},function(e,r,n){e.exports=function(e){var r=n(123),t=e.type.BigNumber,i=(n(11),r.number.isNumber),o=r.number.isInteger;e.combinations=function(r,n){var s,u,f,c,l=arguments.length;if(2!=l)throw new e.error.ArgumentsError(&quot;combinations&quot;,arguments.length,2);if(i(r)){if(!o(r)||0&gt;r)throw new TypeError(&quot;Positive integer value enpected in function combinations&quot;);if(n&gt;r)throw new TypeError(&quot;k must be less than or equal to n&quot;);for(s=Math.max(n,r-n),u=1,f=1;r-s&gt;=f;f++)u=u*(s+f)/f;return u}if(r instanceof t){if(n=t.convert(n),!(n instanceof t&amp;&amp;a(r)&amp;&amp;a(n)))throw new TypeError(&quot;Positive integer value expected in function combinations&quot;);if(n.gt(r))throw new TypeError(&quot;k must be less than n in function combinations&quot;);for(s=r.minus(n),n.lt(s)&amp;&amp;(s=n),u=new t(1),f=new t(1),c=r.minus(s);f.lte(c);f=f.plus(1))u=u.times(s.plus(f)).dividedBy(f);return u}throw new e.error.UnsupportedTypeError(&quot;combinations&quot;,e[&quot;typeof&quot;](r))};var a=function(e){return e.isInteger()&amp;&amp;e.gte(0)}}},function(e,r,n){e.exports=function(e){function r(r,n){return e.smaller(r,n)?r:n}function t(r){var n=void 0;if(i.deepForEach(r,function(r){(void 0===n||e.smaller(r,n))&amp;&amp;(n=r)}),void 0===n)throw new Error(&quot;Cannot calculate min of an empty array&quot;);return n}var i=(n(8),n(11)),o=i.isCollection;e.min=function(e){if(0==arguments.length)throw new SyntaxError(&quot;Function min requires one or more parameters (0 provided)&quot;);if(o(e)){if(1==arguments.length)return t(e);if(2==arguments.length)return i.reduce(arguments[0],arguments[1],r);throw new SyntaxError(&quot;Wrong number of parameters&quot;)}return t(arguments)}}},function(e,r,n){e.exports=function(e){function r(r,n){return e.larger(r,n)?r:n}function t(r){var n=void 0;if(i.deepForEach(r,function(r){(void 0===n||e.larger(r,n))&amp;&amp;(n=r)}),void 0===n)throw new Error(&quot;Cannot calculate max of an empty array&quot;);return n}var i=(n(8),n(11)),o=i.isCollection;e.max=function(e){if(0==arguments.length)throw new SyntaxError(&quot;Function max requires one or more parameters (0 provided)&quot;);if(o(e)){if(1==arguments.length)return t(e);if(2==arguments.length)return i.reduce(arguments[0],arguments[1],r);throw new SyntaxError(&quot;Wrong number of parameters&quot;)}return t(arguments)}}},function(e,r,n){e.exports=function(e){function r(r,n){var t;return t=i.reduce(r,n,e.add),e.divide(t,a(r)[n])}function t(r){var n=0,t=0;if(i.deepForEach(r,function(r){n=e.add(n,r),t++}),0===t)throw new Error(&quot;Cannot calculate mean of an empty array&quot;);return e.divide(n,t)}var i=(n(8),n(11)),o=i.isCollection,a=n(153).size;e.mean=function(e){if(0==arguments.length)throw new SyntaxError(&quot;Function mean requires one or more parameters (0 provided)&quot;);if(o(e)){if(1==arguments.length)return t(e);if(2==arguments.length)return r(arguments[0],arguments[1]);throw new SyntaxError(&quot;Wrong number of parameters&quot;)}return t(arguments)}}},function(e,r,n){e.exports=function(e){function r(r){var n=u(r);n.sort(e.compare);var o=n.length;if(0==o)throw new Error(&quot;Cannot calculate median of an empty array&quot;);if(o%2==0){var s=n[o/2-1],f=n[o/2];if(!(a(s)||s instanceof i||s instanceof t))throw new e.error.UnsupportedTypeError(&quot;median&quot;,e[&quot;typeof&quot;](s));if(!(a(f)||f instanceof i||f instanceof t))throw new e.error.UnsupportedTypeError(&quot;median&quot;,e[&quot;typeof&quot;](f));return e.divide(e.add(s,f),2)}var c=n[(o-1)/2];if(!(a(c)||c instanceof i||c instanceof t))throw new e.error.UnsupportedTypeError(&quot;median&quot;,e[&quot;typeof&quot;](c));return c}var t=(n(8),n(9)),i=e.type.BigNumber,o=n(11),a=n(154).isNumber,s=o.isCollection,u=n(153).flatten;e.median=function(e){if(0==arguments.length)throw new SyntaxError(&quot;Function median requires one or more parameters (0 provided)&quot;);if(s(e)){if(1==arguments.length)return r(e.valueOf());throw 2==arguments.length?new Error(&quot;median(A, dim) is not yet supported&quot;):new SyntaxError(&quot;Wrong number of parameters&quot;)}return r(Array.prototype.slice.call(arguments))}}},function(e,r,n){e.exports=function(e){function r(r){var n=void 0;if(t.deepForEach(r,function(r){n=void 0===n?r:e.multiply(n,r)}),void 0===n)throw new Error(&quot;Cannot calculate prod of an empty array&quot;);return n}var t=(n(8),n(11)),i=t.isCollection;e.prod=function(e){if(0==arguments.length)throw new SyntaxError(&quot;Function prod requires one or more parameters (0 provided)&quot;);if(i(e)){if(1==arguments.length)return r(e);throw 2==arguments.length?new Error(&quot;prod(A, dim) is not yet supported&quot;):new SyntaxError(&quot;Wrong number of parameters&quot;)}return r(arguments)}}},function(e){e.exports=function(e){e.std=function(){if(0==arguments.length)throw new SyntaxError(&quot;Function std requires one or more parameters (0 provided)&quot;);var r=e[&quot;var&quot;].apply(null,arguments);return e.sqrt(r)}}},function(e,r,n){e.exports=function(e){function r(r){var n=void 0;if(t.deepForEach(r,function(r){n=void 0===n?r:e.add(n,r)}),void 0===n)throw new Error(&quot;Cannot calculate sum of an empty array&quot;);return n}var t=(n(8),n(11)),i=t.isCollection;e.sum=function(e){if(0==arguments.length)throw new SyntaxError(&quot;Function sum requires one or more parameters (0 provided)&quot;);if(i(e)){if(1==arguments.length)return r(e);throw 2==arguments.length?new Error(&quot;sum(A, dim) is not yet supported&quot;):new SyntaxError(&quot;Wrong number of parameters&quot;)}return r(arguments)}}},function(e,r,n){e.exports=function(e){function r(r,n){var o=0,a=0;if(i.deepForEach(r,function(r){o=e.add(o,r),a++}),0===a)throw new Error(&quot;Cannot calculate var of an empty array&quot;);var s=e.divide(o,a);switch(o=0,i.deepForEach(r,function(r){var n=e.subtract(r,s);o=e.add(o,e.multiply(n,n))}),n){case&quot;uncorrected&quot;:return e.divide(o,a);case&quot;biased&quot;:return e.divide(o,a+1);case&quot;unbiased&quot;:var u=o instanceof t?new t(0):0;return 1==a?u:e.divide(o,a-1);default:throw new Error('Unknown normalization &quot;'+n+'&quot;. Choose &quot;unbiased&quot; (default), &quot;uncorrected&quot;, or &quot;biased&quot;.')}}var t=(n(8),e.type.BigNumber),i=n(11),o=i.isCollection,a=n(138).isString,s=&quot;unbiased&quot;;e[&quot;var&quot;]=function(e,n){if(0==arguments.length)throw new SyntaxError(&quot;Function var requires one or more parameters (0 provided)&quot;);if(o(e)){if(1==arguments.length)return r(e,s);if(2==arguments.length){if(!a(n))throw new Error(&quot;String expected for parameter normalization&quot;);return r(e,n)}throw new SyntaxError(&quot;Wrong number of parameters&quot;)}return r(arguments,s)}}},function(e,r,n){e.exports=function(e){var r=n(123),t=e.type.BigNumber,i=n(5),o=n(11),a=r.number.isNumber,s=r[&quot;boolean&quot;].isBoolean,u=i.isComplex,f=o.isCollection;e.acos=function c(r){if(1!=arguments.length)throw new e.error.ArgumentsError(&quot;acos&quot;,arguments.length,1);if(a(r))return r&gt;=-1&amp;&amp;1&gt;=r?Math.acos(r):c(new i(r,0));if(u(r)){var n=new i(r.im*r.im-r.re*r.re+1,-2*r.re*r.im),l=e.sqrt(n),p=new i(l.re-r.im,l.im+r.re),m=e.log(p);return new i(1.5707963267948966-m.im,m.re)}if(f(r))return o.deepMap(r,c);if(s(r))return Math.acos(r);if(r instanceof t)return c(r.toNumber());throw new e.error.UnsupportedTypeError(&quot;acos&quot;,e[&quot;typeof&quot;](r))}}},function(e,r,n){e.exports=function(e){var r=n(123),t=e.type.BigNumber,i=n(5),o=n(11),a=r.number.isNumber,s=r[&quot;boolean&quot;].isBoolean,u=i.isComplex,f=o.isCollection;e.asin=function c(r){if(1!=arguments.length)throw new e.error.ArgumentsError(&quot;asin&quot;,arguments.length,1);if(a(r))return r&gt;=-1&amp;&amp;1&gt;=r?Math.asin(r):c(new i(r,0));if(u(r)){var n=r.re,l=r.im,p=new i(l*l-n*n+1,-2*n*l),m=e.sqrt(p),h=new i(m.re-l,m.im+n),g=e.log(h);return new i(g.im,-g.re)}if(f(r))return o.deepMap(r,c);if(s(r))return Math.asin(r);if(r instanceof t)return c(r.toNumber());throw new e.error.UnsupportedTypeError(&quot;asin&quot;,e[&quot;typeof&quot;](r))}}},function(e,r,n){e.exports=function(e){var r=n(123),t=e.type.BigNumber,i=n(5),o=n(11),a=r.number.isNumber,s=r[&quot;boolean&quot;].isBoolean,u=i.isComplex,f=o.isCollection;e.atan=function c(r){if(1!=arguments.length)throw new e.error.ArgumentsError(&quot;atan&quot;,arguments.length,1);if(a(r))return Math.atan(r);if(u(r)){var n=r.re,l=r.im,p=n*n+(1-l)*(1-l),m=new i((1-l*l-n*n)/p,-2*n/p),h=e.log(m);return new i(-.5*h.im,.5*h.re)}if(f(r))return o.deepMap(r,c);if(s(r))return Math.atan(r);if(r instanceof t)return c(r.toNumber());throw new e.error.UnsupportedTypeError(&quot;atan&quot;,e[&quot;typeof&quot;](r))}}},function(e,r,n){e.exports=function(e){var r=n(123),t=e.type.BigNumber,i=n(5),o=n(11),a=r.number.isNumber,s=r[&quot;boolean&quot;].isBoolean,u=(i.isComplex,o.isCollection);e.atan2=function f(r,n){if(2!=arguments.length)throw new e.error.ArgumentsError(&quot;atan2&quot;,arguments.length,2);if(a(r)&amp;&amp;a(n))return Math.atan2(r,n);if(u(r)||u(n))return o.deepMap2(r,n,f);if(s(r))return f(+r,n);if(s(n))return f(r,+n);if(r instanceof t)return f(r.toNumber(),n);if(n instanceof t)return f(r,n.toNumber());throw new e.error.UnsupportedTypeError(&quot;atan2&quot;,e[&quot;typeof&quot;](r),e[&quot;typeof&quot;](n))}}},function(e,r,n){e.exports=function(e){var r=n(123),t=e.type.BigNumber,i=n(5),o=n(9),a=n(11),s=r.number.isNumber,u=r[&quot;boolean&quot;].isBoolean,f=i.isComplex,c=o.isUnit,l=a.isCollection;e.cos=function p(r){if(1!=arguments.length)throw new e.error.ArgumentsError(&quot;cos&quot;,arguments.length,1);if(s(r))return Math.cos(r);if(f(r))return new i(.5*Math.cos(r.re)*(Math.exp(-r.im)+Math.exp(r.im)),.5*Math.sin(r.re)*(Math.exp(-r.im)-Math.exp(r.im)));if(c(r)){if(!r.hasBase(o.BASE_UNITS.ANGLE))throw new TypeError(&quot;Unit in function cos is no angle&quot;);return Math.cos(r.value)}if(l(r))return a.deepMap(r,p);if(u(r))return Math.cos(r);if(r instanceof t)return p(r.toNumber());throw new e.error.UnsupportedTypeError(&quot;cos&quot;,e[&quot;typeof&quot;](r))}}},function(e,r,n){e.exports=function(e){var r=n(123),t=e.type.BigNumber,i=n(5),o=n(9),a=n(11),s=r.number.isNumber,u=r[&quot;boolean&quot;].isBoolean,f=i.isComplex,c=o.isUnit,l=a.isCollection;e.cosh=function p(r){if(1!=arguments.length)throw new e.error.ArgumentsError(&quot;cosh&quot;,arguments.length,1);if(s(r))return(Math.exp(r)+Math.exp(-r))/2;if(f(r)){var n=Math.exp(r.re),m=Math.exp(-r.re);return new i(Math.cos(r.im)*(n+m)/2,Math.sin(r.im)*(n-m)/2)}if(c(r)){if(!r.hasBase(o.BASE_UNITS.ANGLE))throw new TypeError(&quot;Unit in function cosh is no angle&quot;);return p(r.value)}if(l(r))return a.deepMap(r,p);if(u(r))return p(r?1:0);if(r instanceof t)return p(r.toNumber());throw new e.error.UnsupportedTypeError(&quot;cosh&quot;,e[&quot;typeof&quot;](r))}}},function(e,r,n){e.exports=function(e){var r=n(123),t=e.type.BigNumber,i=n(5),o=n(9),a=n(11),s=r.number.isNumber,u=r[&quot;boolean&quot;].isBoolean,f=i.isComplex,c=o.isUnit,l=a.isCollection;e.cot=function p(r){if(1!=arguments.length)throw new e.error.ArgumentsError(&quot;cot&quot;,arguments.length,1);if(s(r))return 1/Math.tan(r);if(f(r)){var n=Math.exp(-4*r.im)-2*Math.exp(-2*r.im)*Math.cos(2*r.re)+1;return new i(2*Math.exp(-2*r.im)*Math.sin(2*r.re)/n,(Math.exp(-4*r.im)-1)/n)}if(c(r)){if(!r.hasBase(o.BASE_UNITS.ANGLE))throw new TypeError(&quot;Unit in function cot is no angle&quot;);return 1/Math.tan(r.value)}if(l(r))return a.deepMap(r,p);if(u(r))return p(+r);if(r instanceof t)return p(r.toNumber());throw new e.error.UnsupportedTypeError(&quot;cot&quot;,e[&quot;typeof&quot;](r))}}},function(e,r,n){e.exports=function(e){var r=n(123),t=e.type.BigNumber,i=n(5),o=n(9),a=n(11),s=r.number.isNumber,u=r[&quot;boolean&quot;].isBoolean,f=i.isComplex,c=o.isUnit,l=a.isCollection;e.coth=function p(r){if(1!=arguments.length)throw new e.error.ArgumentsError(&quot;coth&quot;,arguments.length,1);if(s(r)){var n=Math.exp(2*r);return(n+1)/(n-1)}if(f(r)){var m=Math.exp(2*r.re),h=m*Math.cos(2*r.im),g=m*Math.sin(2*r.im),d=(h-1)*(h-1)+g*g;return new i(((h+1)*(h-1)+g*g)/d,-2*g/d)}if(c(r)){if(!r.hasBase(o.BASE_UNITS.ANGLE))throw new TypeError(&quot;Unit in function coth is no angle&quot;);return p(r.value)}if(l(r))return a.deepMap(r,p);if(u(r))return p(r?1:0);if(r instanceof t)return p(r.toNumber());throw new e.error.UnsupportedTypeError(&quot;coth&quot;,e[&quot;typeof&quot;](r))}}},function(e,r,n){e.exports=function(e){var r=n(123),t=e.type.BigNumber,i=n(5),o=n(9),a=n(11),s=r.number.isNumber,u=r[&quot;boolean&quot;].isBoolean,f=i.isComplex,c=o.isUnit,l=a.isCollection;e.csc=function p(r){if(1!=arguments.length)throw new e.error.ArgumentsError(&quot;csc&quot;,arguments.length,1);if(s(r))return 1/Math.sin(r);if(f(r)){var n=.25*(Math.exp(-2*r.im)+Math.exp(2*r.im))-.5*Math.cos(2*r.re);return new i(.5*Math.sin(r.re)*(Math.exp(-r.im)+Math.exp(r.im))/n,.5*Math.cos(r.re)*(Math.exp(-r.im)-Math.exp(r.im))/n)}if(c(r)){if(!r.hasBase(o.BASE_UNITS.ANGLE))throw new TypeError(&quot;Unit in function csc is no angle&quot;);return 1/Math.sin(r.value)}if(l(r))return a.deepMap(r,p);if(u(r))return p(+r);if(r instanceof t)return p(r.toNumber());throw new e.error.UnsupportedTypeError(&quot;csc&quot;,e[&quot;typeof&quot;](r))}}},function(e,r,n){e.exports=function(e){var r=n(123),t=e.type.BigNumber,i=n(5),o=n(9),a=n(11),s=r.number,u=r.number.isNumber,f=r[&quot;boolean&quot;].isBoolean,c=i.isComplex,l=o.isUnit,p=a.isCollection;e.csch=function m(r){if(1!=arguments.length)throw new e.error.ArgumentsError(&quot;csch&quot;,arguments.length,1);if(u(r))return 0==r?Number.NaN:Math.abs(2/(Math.exp(r)-Math.exp(-r)))*s.sign(r);if(c(r)){var n=Math.exp(r.re),h=Math.exp(-r.re),g=Math.cos(r.im)*(n-h),d=Math.sin(r.im)*(n+h),x=g*g+d*d;return new i(2*g/x,-2*d/x)}if(l(r)){if(!r.hasBase(o.BASE_UNITS.ANGLE))throw new TypeError(&quot;Unit in function csch is no angle&quot;);return m(r.value)}if(p(r))return a.deepMap(r,m);if(f(r))return m(r?1:0);if(r instanceof t)return m(r.toNumber());throw new e.error.UnsupportedTypeError(&quot;csch&quot;,e[&quot;typeof&quot;](r))}}},function(e,r,n){e.exports=function(e){var r=n(123),t=e.type.BigNumber,i=n(5),o=n(9),a=n(11),s=r.number.isNumber,u=r[&quot;boolean&quot;].isBoolean,f=i.isComplex,c=o.isUnit,l=a.isCollection;e.sec=function p(r){if(1!=arguments.length)throw new e.error.ArgumentsError(&quot;sec&quot;,arguments.length,1);if(s(r))return 1/Math.cos(r);if(f(r)){var n=.25*(Math.exp(-2*r.im)+Math.exp(2*r.im))+.5*Math.cos(2*r.re);return new i(.5*Math.cos(r.re)*(Math.exp(-r.im)+Math.exp(r.im))/n,.5*Math.sin(r.re)*(Math.exp(r.im)-Math.exp(-r.im))/n)}if(c(r)){if(!r.hasBase(o.BASE_UNITS.ANGLE))throw new TypeError(&quot;Unit in function sec is no angle&quot;);return 1/Math.cos(r.value)}if(l(r))return a.deepMap(r,p);if(u(r))return p(+r);if(r instanceof t)return p(r.toNumber());throw new e.error.UnsupportedTypeError(&quot;sec&quot;,e[&quot;typeof&quot;](r))}}},function(e,r,n){e.exports=function(e){var r=n(123),t=e.type.BigNumber,i=n(5),o=n(9),a=n(11),s=r.number.isNumber,u=r[&quot;boolean&quot;].isBoolean,f=i.isComplex,c=o.isUnit,l=a.isCollection;e.sech=function p(r){if(1!=arguments.length)throw new e.error.ArgumentsError(&quot;sech&quot;,arguments.length,1);if(s(r))return 2/(Math.exp(r)+Math.exp(-r));if(f(r)){var n=Math.exp(r.re),m=Math.exp(-r.re),h=Math.cos(r.im)*(n+m),g=Math.sin(r.im)*(n-m),d=h*h+g*g;return new i(2*h/d,-2*g/d)}if(c(r)){if(!r.hasBase(o.BASE_UNITS.ANGLE))throw new TypeError(&quot;Unit in function sech is no angle&quot;);return p(r.value)}if(l(r))return a.deepMap(r,p);if(u(r))return p(r?1:0);if(r instanceof t)return p(r.toNumber());throw new e.error.UnsupportedTypeError(&quot;sech&quot;,e[&quot;typeof&quot;](r))}}},function(e,r,n){e.exports=function(e){var r=n(123),t=e.type.BigNumber,i=n(5),o=n(9),a=n(11),s=r.number.isNumber,u=r[&quot;boolean&quot;].isBoolean,f=i.isComplex,c=o.isUnit,l=a.isCollection;e.sin=function p(r){if(1!=arguments.length)throw new e.error.ArgumentsError(&quot;sin&quot;,arguments.length,1);if(s(r))return Math.sin(r);if(f(r))return new i(.5*Math.sin(r.re)*(Math.exp(-r.im)+Math.exp(r.im)),.5*Math.cos(r.re)*(Math.exp(r.im)-Math.exp(-r.im)));if(c(r)){if(!r.hasBase(o.BASE_UNITS.ANGLE))throw new TypeError(&quot;Unit in function sin is no angle&quot;);return Math.sin(r.value)}if(l(r))return a.deepMap(r,p);if(u(r))return Math.sin(r);if(r instanceof t)return p(r.toNumber());throw new e.error.UnsupportedTypeError(&quot;sin&quot;,e[&quot;typeof&quot;](r))}}},function(e,r,n){e.exports=function(e){var r=n(123),t=e.type.BigNumber,i=n(5),o=n(9),a=n(11),s=r.number.isNumber,u=r[&quot;boolean&quot;].isBoolean,f=i.isComplex,c=o.isUnit,l=a.isCollection;e.sinh=function p(r){if(1!=arguments.length)throw new e.error.ArgumentsError(&quot;sinh&quot;,arguments.length,1);if(s(r))return(Math.exp(r)-Math.exp(-r))/2;if(f(r)){var n=Math.cos(r.im),m=Math.sin(r.im),h=Math.exp(r.re),g=Math.exp(-r.re);return new i(n*(h-g)/2,m*(h+g)/2)}if(c(r)){if(!r.hasBase(o.BASE_UNITS.ANGLE))throw new TypeError(&quot;Unit in function sinh is no angle&quot;);return p(r.value)}if(l(r))return a.deepMap(r,p);if(u(r))return p(r?1:0);if(r instanceof t)return p(r.toNumber());throw new e.error.UnsupportedTypeError(&quot;sinh&quot;,e[&quot;typeof&quot;](r))}}},function(e,r,n){e.exports=function(e){var r=n(123),t=e.type.BigNumber,i=n(5),o=n(9),a=n(11),s=r.number.isNumber,u=r[&quot;boolean&quot;].isBoolean,f=i.isComplex,c=o.isUnit,l=a.isCollection;e.tan=function p(r){if(1!=arguments.length)throw new e.error.ArgumentsError(&quot;tan&quot;,arguments.length,1);if(s(r))return Math.tan(r);if(f(r)){var n=Math.exp(-4*r.im)+2*Math.exp(-2*r.im)*Math.cos(2*r.re)+1;return new i(2*Math.exp(-2*r.im)*Math.sin(2*r.re)/n,(1-Math.exp(-4*r.im))/n)}if(c(r)){if(!r.hasBase(o.BASE_UNITS.ANGLE))throw new TypeError(&quot;Unit in function tan is no angle&quot;);return Math.tan(r.value)}if(l(r))return a.deepMap(r,p);if(u(r))return Math.tan(r);if(r instanceof t)return p(r.toNumber());throw new e.error.UnsupportedTypeError(&quot;tan&quot;,e[&quot;typeof&quot;](r))}}},function(e,r,n){e.exports=function(e){var r=n(123),t=e.type.BigNumber,i=n(5),o=n(9),a=n(11),s=r.number.isNumber,u=r[&quot;boolean&quot;].isBoolean,f=i.isComplex,c=o.isUnit,l=a.isCollection;e.tanh=function p(r){if(1!=arguments.length)throw new e.error.ArgumentsError(&quot;tanh&quot;,arguments.length,1);if(s(r)){var n=Math.exp(2*r);return(n-1)/(n+1)}if(f(r)){var m=Math.exp(2*r.re),h=m*Math.cos(2*r.im),g=m*Math.sin(2*r.im),d=(h+1)*(h+1)+g*g;return new i(((h-1)*(h+1)+g*g)/d,2*g/d)}if(c(r)){if(!r.hasBase(o.BASE_UNITS.ANGLE))throw new TypeError(&quot;Unit in function tanh is no angle&quot;);return p(r.value)}if(l(r))return a.deepMap(r,p);if(u(r))return p(r?1:0);if(r instanceof t)return p(r.toNumber());throw new e.error.UnsupportedTypeError(&quot;tanh&quot;,e[&quot;typeof&quot;](r))}}},function(e,r,n){e.exports=function(e){var r=n(123),t=n(9),i=n(11),o=r.string.isString,a=t.isUnit,s=i.isCollection;e.to=function u(r,n){if(2!=arguments.length)throw new e.error.ArgumentsError(&quot;to&quot;,arguments.length,2);if(a(r)&amp;&amp;(a(n)||o(n)))return r.to(n);if(s(r)||s(n))return i.deepMap2(r,n,u);throw new e.error.UnsupportedTypeError(&quot;to&quot;,e[&quot;typeof&quot;](r),e[&quot;typeof&quot;](n))}}},function(e,r,n){e.exports=function(e){var r=n(123),t=r.object;e.clone=function(r){if(1!=arguments.length)throw new e.error.ArgumentsError(&quot;clone&quot;,arguments.length,1);return t.clone(r)}}},function(e,r,n){e.exports=function(e){var r=n(123),t=r.string;e.format=function(r,n){var i=arguments.length;if(1!==i&amp;&amp;2!==i)throw new e.error.ArgumentsError(&quot;format&quot;,i,1,2);return t.format(r,n)}}},function(e,r,n){e.exports=function(e){function r(r,n,t){var i=r instanceof o||n instanceof o||t instanceof o;if(r instanceof o||(r=new o(r)),g(n)&amp;&amp;(n instanceof o||(n=new o(n)),!f(r.size(),n.size())))throw new RangeError(&quot;Dimension mismatch ([&quot;+r.size().join(&quot;, &quot;)+&quot;] != [&quot;+n.size().join(&quot;, &quot;)+&quot;])&quot;);if(g(t)&amp;&amp;(t instanceof o||(t=new o(t)),!f(r.size(),t.size())))throw new e.error.DimensionError(r.size(),t.size());var a=n instanceof o,s=t instanceof o,u=r.map(function(r,i){return e.ifElse(r,a?n.get(i):n,s?t.get(i):t)});return i?u:u.valueOf()}var t=n(123),i=e.type.BigNumber,o=n(8),a=n(5),s=n(9),u=n(11),f=t.object.deepEqual,c=t.number.isNumber,l=t.string.isString,p=t[&quot;boolean&quot;].isBoolean,m=a.isComplex,h=s.isUnit,g=u.isCollection;e.ifElse=function(n,t,o){if(3!=arguments.length)throw new e.error.ArgumentsError(&quot;ifElse&quot;,arguments.length,3);if(c(n)||p(n))return n?t:o;if(n instanceof i)return n.isZero()?o:t;if(l(n))return n?t:o;if(m(n))return n.re||n.im?t:o;if(h(n))return n.value?t:o;if(null===n||void 0===n)return o;if(g(n))return r(n,t,o);throw new e.error.UnsupportedTypeError(&quot;ifElse&quot;,e[&quot;typeof&quot;](n))}}},function(e,r,n){e.exports=function(e){function r(r,n,t){(t.override||void 0===e[r])&amp;&amp;(e[r]=t.wrap&amp;&amp;&quot;function&quot;==typeof n?function(){for(var r=[],t=0,i=arguments.length;i&gt;t;t++)r[t]=arguments[t].valueOf();return n.apply(e,r)}:n,e.chaining.Selector.createProxy(r,n))}function t(e){return&quot;function&quot;==typeof e||s(e)||u(e)||f(e)||c(e)}var i=n(123),o=n(5),a=n(9),s=i.number.isNumber,u=i.string.isString,f=o.isComplex,c=a.isUnit;e[&quot;import&quot;]=function l(o,a){var s=arguments.length;if(1!=s&amp;&amp;2!=s)throw new e.error.ArgumentsError(&quot;import&quot;,s,1,2);var f,c={override:!1,wrap:!0};if(a&amp;&amp;a instanceof Object&amp;&amp;i.object.extend(c,a),u(o)){var p=n(155)(o);l(p)}else{if(&quot;object&quot;!=typeof o)throw new TypeError(&quot;Object or module name expected&quot;);for(f in o)if(o.hasOwnProperty(f)){var m=o[f];t(m)?r(f,m,c):l(m)}}}}},function(e,r,n){e.exports=function(e){function r(e,r){var n=[],t=function(i,o){return Array.isArray(i)?i.map(function(e,r){return n[o]=r,t(e,o+1)}):r(i,n,e)};return t(e,0)}var t=n(8).isMatrix;e.map=function(n,i){if(2!=arguments.length)throw new e.error.ArgumentsError(&quot;map&quot;,arguments.length,2);if(Array.isArray(n))return r(n,i);if(t(n))return n.map(i);throw new e.error.UnsupportedTypeError(&quot;map&quot;,e[&quot;typeof&quot;](n))}}},function(e,r,n){e.exports=function(e){var r=n(123),t=r.string.isString;e.print=function(r,n,i){var o=arguments.length;if(2!=o&amp;&amp;3!=o)throw new e.error.ArgumentsError(&quot;print&quot;,o,2,3);if(!t(r))throw new TypeError(&quot;String expected as first parameter in function format&quot;);if(!(n instanceof Object))throw new TypeError(&quot;Object expected as second parameter in function format&quot;);return r.replace(/\$([\w\.]+)/g,function(r,o){for(var a=o.split(&quot;.&quot;),s=n[a.shift()];a.length&amp;&amp;void 0!==s;){var u=a.shift();s=u?s[u]:s+&quot;.&quot;}return void 0!==s?t(s)?s:e.format(s,i):r})}}},function(e,r,n){e.exports=function(e){var r=n(156),t=n(5),i=n(8),o=n(9),a=n(7),s=n(6),u=n(10);e[&quot;typeof&quot;]=function(n){if(1!=arguments.length)throw new e.error.ArgumentsError(&quot;typeof&quot;,arguments.length,1);var f=r.type(n);if(&quot;object&quot;===f){if(n instanceof t)return&quot;complex&quot;;if(n instanceof i)return&quot;matrix&quot;;if(n instanceof o)return&quot;unit&quot;;if(n instanceof a)return&quot;index&quot;;if(n instanceof s)return&quot;range&quot;;if(n instanceof u)return&quot;help&quot;;if(n instanceof e.type.BigNumber)return&quot;bignumber&quot;;if(n instanceof e.chaining.Selector)return&quot;selector&quot;}return f}}},function(e,r,n){e.exports=function(e){function r(e,r){var n=[],t=function(i,o){Array.isArray(i)?i.forEach(function(e,r){n[o]=r,t(e,o+1)}):r(i,n,e)};t(e,0)}var t=n(8).isMatrix;e.forEach=function(n,i){if(2!=arguments.length)throw new e.error.ArgumentsError(&quot;forEach&quot;,arguments.length,2);if(Array.isArray(n))return r(n,i);if(t(n))return n.forEach(i);throw new e.error.UnsupportedTypeError(&quot;forEach&quot;,e[&quot;typeof&quot;](n))}}},function(e,r,n){var t;(function(e){!function(i){&quot;use strict&quot;;function o(e,r,n,t){return!((!(!t&amp;&amp;n&gt;3&amp;&amp;4==e[r]||(t||4&gt;n)&amp;&amp;9==e[r])||9!=e[r+1]||9!=e[r+2]||9!=e[r+3]||null==t&amp;&amp;9!=e[r+4])&amp;&amp;(null!=t||5!=e[r]&amp;&amp;e[r]||e[r+1]||e[r+2]||e[r+3]||e[r+4]))}function a(e,r,n){var t=e.constructor;return null==r||((w=0&gt;r||r&gt;8)||0!==r&amp;&amp;(t.errors?parseInt:parseFloat)(r)!=r)&amp;&amp;!l(t,&quot;rounding mode&quot;,r,n,0)?t.rounding:0|r}function s(e,r,n,t){var i=e.constructor;return!(w=(t||0)&gt;r||r&gt;=A+1)&amp;&amp;(0===r||(i.errors?parseInt:parseFloat)(r)==r)||l(i,&quot;argument&quot;,r,n,0)}function u(e,r,n,t,i,o){var a=e.constructor,s=e.e-r.e,u=e.s==r.s?1:-1,f=e.c,c=r.c;if(!(f&amp;&amp;f[0]&amp;&amp;c&amp;&amp;c[0]))return new a(e.s&amp;&amp;r.s&amp;&amp;(f?!c||f[0]!=c[0]:c)?f&amp;&amp;0==f[0]||!c?0*u:u/0:0/0);var l,p,m,g,d,x,w=c.slice(),y=x=c.length,v=f.length,b=f.slice(0,x),E=b.length,N=new a(u),M=N.c=[];for(p=u=0;c[p]==(f[p]||0);p++);if(c[p]&gt;(f[p]||0)&amp;&amp;(s--,u=1),N.e=s,null==n?(n=a.precision,t=a.rounding):i&amp;&amp;(n+=s+1),o=o||10,n&gt;=0){for(u+=n;E++&lt;x;b.push(0));w.unshift(p=0);do{for(m=0;o&gt;m;m++){if(x!=(E=b.length))l=x&gt;E?1:-1;else for(g=-1,l=0;++g&lt;x;)if(c[g]!=b[g]){l=c[g]&gt;b[g]?1:-1;break}if(!(0&gt;l))break;for(d=E==x?c:w;E;){if(b[--E]&lt;d[E]){for(g=E;g&amp;&amp;!b[--g];b[g]=o-1);--b[g],b[E]+=o}b[E]-=d[E]}for(;!b[0];b.shift());}M[p++]=l?m:++m,b[0]&amp;&amp;l?b[E]=f[y]||0:b=[f[y]]}while((y++&lt;v||null!=b[0])&amp;&amp;u--);!M[0]&amp;&amp;p&gt;1&amp;&amp;M.shift(),n&gt;=p&amp;&amp;(n=null)}return h(N,n,t,null!=b[0],o)}function f(e,r){var n,t,i,a,s,f,c,l=0,p=0,m=0,g=e.constructor,d=g.ONE,x=g.rounding,w=g.precision;if(!e.c||!e.c[0]||e.e&gt;17)return new g(e.c?e.c[0]?e.s&lt;0?0:1/0:d:e.s?e.s&lt;0?0:e:0/0);for(null==r?(b=!1,s=w):s=r,c=new g(.03125);e.e&gt;-2;)e=e.times(c),m+=5;for(t=Math.log(Math.pow(2,m))/Math.LN10*2+5|0,s+=t,n=a=f=new g(d),g.precision=s;;){if(a=h(a.times(e),s,1),n=n.times(++p),c=f.plus(u(a,n,s,1)),c.c.slice(0,s).join(&quot;&quot;)===f.c.slice(0,s).join(&quot;&quot;)){for(i=m;i--;)f=h(f.times(f),s,1);if(null!=r)return g.precision=w,f;if(!(3&gt;l&amp;&amp;o(f.c,s-t,x,l)))return h(f,g.precision=w,x,b=!0);g.precision=s+=10,n=a=c=new g(d),p=0,l++}f=c}}function c(e,r,n,t){var i=e.constructor,o=(e=new i(e)).e,a=e.c;if(!a)return e.toString();for(a.length&gt;++r&amp;&amp;h(e,r,n),o=t?r:r+e.e-o;a.length&lt;o;a.push(0));return o=e.e,1==t||2==t&amp;&amp;(o&gt;=r||o&lt;=i.toExpNeg)?(e.s&lt;0&amp;&amp;a[0]?&quot;-&quot;:&quot;&quot;)+(a.length&gt;1?a[0]+&quot;.&quot;+a.slice(1).join(&quot;&quot;):a[0])+(0&gt;o?&quot;e&quot;:&quot;e+&quot;)+o:e.toString()}function l(e,r,n,t,i){if(e.errors){var o=new Error((t||[&quot;new Decimal&quot;,&quot;cmp&quot;,&quot;div&quot;,&quot;eq&quot;,&quot;gt&quot;,&quot;gte&quot;,&quot;lt&quot;,&quot;lte&quot;,&quot;minus&quot;,&quot;mod&quot;,&quot;plus&quot;,&quot;times&quot;,&quot;toFraction&quot;,&quot;pow&quot;,&quot;random&quot;,&quot;log&quot;,&quot;sqrt&quot;,&quot;toNearest&quot;,&quot;divToInt&quot;][v?0&gt;v?-v:v:0&gt;1/v?1:0])+&quot;() &quot;+([&quot;number type has more than 15 significant digits&quot;,&quot;LN10 out of digits&quot;][r]||r+([w?&quot; out of range&quot;:&quot; not an integer&quot;,&quot; not a boolean or binary digit&quot;][i]||&quot;&quot;))+&quot;: &quot;+n);throw o.name=&quot;Decimal Error&quot;,w=v=0,o}}function p(e,r,n){var t=new e(e.ONE);for(b=!1;1&amp;n&amp;&amp;(t=t.times(r)),n&gt;&gt;=1,n;)r=r.times(r);return b=!0,t}function m(e,r){var n,t,i,a,s,f,c,p,g,d=1,x=10,w=e,y=w.c,v=w.constructor,E=v.ONE,N=v.rounding,M=v.precision;if(w.s&lt;0||!y||!y[0]||!w.e&amp;&amp;1==y[0]&amp;&amp;1==y.length)return new v(y&amp;&amp;!y[0]?-1/0:1!=w.s?0/0:y?0:w);if(null==r?(b=!1,s=M):s=r,v.precision=s+=x,!(Math.abs(t=w.e)&lt;15e14))return w=new v(w),w.e=0,s+2&gt;S.length&amp;&amp;l(v,1,s+2,&quot;ln&quot;),w=m(w,s-x).plus(new v(S.slice(0,s+2)).times(t+&quot;&quot;)),v.precision=M,null==r?h(w,M,N,b=!0):w;for(;y[0]&lt;7&amp;&amp;1!=y[0]||1==y[0]&amp;&amp;y[1]&gt;3;)w=w.times(e),y=w.c,d++;for(t=w.e,y[0]&gt;1?(1==d?w=new v(&quot;0.&quot;+y.join(&quot;&quot;)):w.e=-1,t++):w=new v(&quot;1.&quot;+y.slice(1).join(&quot;&quot;)),p=w,f=i=w=u(w.minus(E),w.plus(E),s,1),g=h(w.times(w),s,1),n=3;;){if(i=h(i.times(g),s,1),c=f.plus(u(i,new v(n),s,1)),c.c.slice(0,s).join(&quot;&quot;)===f.c.slice(0,s).join(&quot;&quot;)){if(f=f.times(2),0!==t&amp;&amp;(s+2&gt;S.length&amp;&amp;l(v,1,s+2,&quot;ln&quot;),f=f.plus(new v(S.slice(0,s+2)).times(t+&quot;&quot;))),f=u(f,new v(d),s,1),null!=r)return v.precision=M,f;if(!o(f.c,s-x,N,a))return h(f,v.precision=M,N,b=!0);v.precision=s+=x,c=i=w=u(p.minus(E),p.plus(E),s,1),g=h(w.times(w),s,1),n=a=1}f=c,n+=2}}function h(e,r,n,t,i){var o,a,s,u,f=e.constructor;if(r!=o){if(!(u=e.c))return e;if(s=e.s&lt;0,a=(i=i||10)/2,o=u[r],t=t||0&gt;r||null!=u[r+1],t=4&gt;n?(null!=o||t)&amp;&amp;(0==n||2==n&amp;&amp;!s||3==n&amp;&amp;s):o&gt;a||o==a&amp;&amp;(4==n||t||6==n&amp;&amp;1&amp;u[r-1]||7==n&amp;&amp;!s||8==n&amp;&amp;s),1&gt;r||!u[0])return u.length=0,t?(r=r-e.e-1,u[0]=1,e.e=-r||0):u[0]=e.e=0,e;if(u.length&gt;r&amp;&amp;(u.length=r),r--,t){for(o=r;null==u[o];u[o--]=0);for(--i;++u[r]&gt;i;)u[r]=0,r--||(++e.e,u.unshift(1))}for(r=u.length;!u[--r];u.pop());}return b&amp;&amp;(e.e&gt;f.maxE?e.c=e.e=null:e.e&lt;f.minE&amp;&amp;(e.c=[e.e=0])),e}var g,d,x,w,y=Object.prototype.toString,v=0,b=!0,E=&quot;0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_&quot;,N={},M=9e15,A=1e9,T=3e3,S=&quot;2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058&quot;;N.absoluteValue=N.abs=function(){var e=new this.constructor(this);return e.s&lt;0&amp;&amp;(e.s=1),h(e)},N.ceil=function(){return h(new this.constructor(this),this.e+1,2)},N.comparedTo=N.cmp=function(e,r){var n,t=this,i=t.c,o=(v=-v,e=new t.constructor(e,r),e.c),a=t.s,s=e.s,u=t.e,f=e.e;if(!a||!s)return null;if(n=i&amp;&amp;!i[0],r=o&amp;&amp;!o[0],n||r)return n?r?0:-s:a;if(a!=s)return a;if(n=0&gt;a,!i||!o)return u==f?0:!i^n?1:-1;if(u!=f)return u&gt;f^n?1:-1;for(a=-1,s=(u=i.length)&lt;(f=o.length)?u:f;++a&lt;s;)if(i[a]!=o[a])return i[a]&gt;o[a]^n?1:-1;return u==f?0:u&gt;f^n?1:-1},N.decimalPlaces=N.dp=function(){var e=this;return e.c?Math.max(e.c.length-e.e-1,0):null},N.dividedBy=N.div=function(e,r){return v=2,u(this,new this.constructor(e,r))},N.dividedToIntegerBy=N.divToInt=function(e,r){var n=this,t=n.constructor;return v=18,h(u(n,new t(e,r),0,1,1),t.precision,t.rounding)},N.equals=N.eq=function(e,r){return v=3,0===this.cmp(e,r)},N.exponential=N.exp=function(){return f(this)},N.floor=function(){return h(new this.constructor(this),this.e+1,3)},N.greaterThan=N.gt=function(e,r){return v=4,this.cmp(e,r)&gt;0},N.greaterThanOrEqualTo=N.gte=function(e,r){return v=5,r=this.cmp(e,r),1==r||0===r},N.isFinite=function(){return!!this.c},N.isInteger=N.isInt=function(){return!!this.c&amp;&amp;this.e&gt;this.c.length-2},N.isNaN=function(){return!this.s},N.isNegative=N.isNeg=function(){return this.s&lt;0},N.isZero=function(){return!!this.c&amp;&amp;0==this.c[0]},N.lessThan=N.lt=function(e,r){return v=6,this.cmp(e,r)&lt;0},N.lessThanOrEqualTo=N.lte=function(e,r){return v=7,r=this.cmp(e,r),-1==r||0===r},N.logarithm=N.log=function(e,r){var n,t,i,a,s,f,c,p,g,d=this,x=d.constructor,w=x.precision,y=x.rounding,E=5;if(null==e)e=new x(10),n=!0;else{if(v=15,e=new x(e,r),t=e.c,e.s&lt;0||!t||!t[0]||!e.e&amp;&amp;1==t[0]&amp;&amp;1==t.length)return new x(0/0);n=e.eq(10)}if(t=d.c,d.s&lt;0||!t||!t[0]||!d.e&amp;&amp;1==t[0]&amp;&amp;1==t.length)return new x(t&amp;&amp;!t[0]?-1/0:1!=d.s?0/0:t?0:1/0);if(s=n&amp;&amp;(1!=t[0]||t.length&gt;1)||(1&amp;e.c[e.c.length-1])!=(1&amp;t[t.length-1])||0,b=!1,c=w+E,p=c+10,f=m(d,c),n?(p&gt;S.length&amp;&amp;l(x,1,p,&quot;log&quot;),i=new x(S.slice(0,p))):i=m(e,c),g=u(f,i,c,1),o(g.c,a=w,y))do if(c+=10,f=m(d,c),n?(p=c+10,p&gt;S.length&amp;&amp;l(x,1,p,&quot;log&quot;),i=new x(S.slice(0,p))):i=m(e,c),g=u(f,i,c,1),!s){for(t=g.c;9==t[++a];);a==w+E+10&amp;&amp;(g=h(g,w+1,0));break}while(o(g.c,a+=10,y));return b=!0,h(g,w,y)},N.minus=function(e,r){var n,t,i,o,a=this,s=a.constructor,u=a.s;if(v=8,e=new s(e,r),r=e.s,!u||!r)return new s(0/0);if(u!=r)return e.s=-r,a.plus(e);var f=a.c,c=a.e,l=e.c,p=e.e,m=s.precision,g=s.rounding;if(!c||!p){if(!f||!l)return f?(e.s=-r,e):new s(l?a:0/0);if(!f[0]||!l[0])return a=l[0]?(e.s=-r,e):new s(f[0]?a:3==g?-0:0),b?h(a,m,g):a}if(f=f.slice(),t=f.length,u=c-p){for((o=0&gt;u)?(u=-u,n=f,t=l.length):(p=c,n=l),m&gt;t&amp;&amp;(t=m),u&gt;(t+=2)&amp;&amp;(u=t,n.length=1),n.reverse(),r=u;r--;n.push(0));n.reverse()}else for((o=t&lt;(i=l.length))&amp;&amp;(i=t),u=r=0;i&gt;r;r++)if(f[r]!=l[r]){o=f[r]&lt;l[r];break}if(o&amp;&amp;(n=f,f=l,l=n,e.s=-e.s),(r=-((i=f.length)-l.length))&gt;0)for(;r--;f[i++]=0);for(r=l.length;r&gt;u;){if(f[--r]&lt;l[r]){for(t=r;t&amp;&amp;!f[--t];f[t]=9);--f[t],f[r]+=10}f[r]-=l[r]}for(;0==f[--i];f.pop());for(;0==f[0];f.shift(),--p);return f[0]||(f=[p=0],e.s=3==g?-1:1),e.c=f,e.e=p,b?h(e,m,g):e},N.modulo=N.mod=function(e,r){var n,t,i=this,o=i.constructor,a=o.modulo;return v=9,e=new o(e,r),r=e.s,n=!i.c||!r||e.c&amp;&amp;!e.c[0],n||!e.c||i.c&amp;&amp;!i.c[0]?n?new o(0/0):h(new o(i),o.precision,o.rounding):(b=!1,9==a?(e.s=1,t=u(i,e,0,3,1),e.s=r,t.s*=r):t=u(i,e,0,a,1),t=t.times(e),b=!0,i.minus(t))},N.naturalLogarithm=N.ln=function(){return m(this)},N.negated=N.neg=function(){var e=new this.constructor(this);return e.s=-e.s||null,h(e)},N.plus=function(e,r){var n,t=this,i=t.constructor,o=t.s;if(v=10,e=new i(e,r),r=e.s,!o||!r)return new i(0/0);if(o!=r)return e.s=-r,t.minus(e);var a=t.e,s=t.c,u=e.e,f=e.c,c=i.precision,l=i.rounding;if(!a||!u){if(!s||!f)return new i(o/0);if(!s[0]||!f[0])return t=f[0]?e:new i(s[0]?t:0*o),b?h(t,c,l):t}if(s=s.slice(),o=a-u){for(0&gt;o?(o=-o,n=s,r=f.length):(u=a,n=f,r=s.length),c&gt;r&amp;&amp;(r=c),o&gt;++r&amp;&amp;(o=r,n.length=1),n.reverse();o--;n.push(0));n.reverse()}for(s.length-f.length&lt;0&amp;&amp;(n=f,f=s,s=n),o=f.length,r=0;o;s[o]%=10)r=(s[--o]=s[o]+f[o]+r)/10|0;for(r&amp;&amp;(s.unshift(r),++u),o=s.length;0==s[--o];s.pop());return e.c=s,e.e=u,b?h(e,c,l):e
},N.precision=N.sd=function(e){var r=this;return null!=e&amp;&amp;e!==!!e&amp;&amp;1!==e&amp;&amp;0!==e&amp;&amp;l(r.constructor,&quot;argument&quot;,e,&quot;precision&quot;,1),r.c?e?Math.max(r.e+1,r.c.length):r.c.length:null},N.round=function(){var e=this,r=e.constructor;return h(new r(e),e.e+1,r.rounding)},N.squareRoot=N.sqrt=function(){var e,r,n,t,i,o=this,a=o.c,s=o.s,f=o.e,c=o.constructor,l=new c(.5);if(1!==s||!a||!a[0])return new c(!s||0&gt;s&amp;&amp;(!a||a[0])?0/0:a?o:1/0);for(b=!1,s=Math.sqrt(+o),0==s||s==1/0?(e=a.join(&quot;&quot;),(e.length+f)%2==0&amp;&amp;(e+=&quot;0&quot;),n=new c(Math.sqrt(e)+&quot;&quot;),n.c||(n.c=[1]),n.e=Math.floor((f+1)/2)-(0&gt;f||f%2)):n=new c(s.toString()),r=(f=c.precision)+3;;)if(i=n,n=l.times(i.plus(u(o,i,r+2,1))),i.c.slice(0,r).join(&quot;&quot;)===n.c.slice(0,r).join(&quot;&quot;)){if(a=n.c,9!=a[r-3]&amp;&amp;(t||4!=a[r-3])||9!=a[r-2]||9!=a[r-1]||9!=a[r]){if(!(a[r-3]&amp;&amp;5!=a[r-3]||a[r-2]||a[r-1]||a[r]||(a.length&gt;f+1&amp;&amp;(a.length=f+1),n.times(n).eq(o)))){for(;a.length&lt;f;)a.push(0);a[f]++}break}if(!t&amp;&amp;(i=h(i,f+1,0),i.times(i).eq(o))){n=i;break}r+=4,t=1}return b=!0,h(n,f,c.rounding)},N.times=function(e,r){var n,t=this,i=t.constructor,o=t.c,a=(v=11,e=new i(e,r),e.c),s=t.e,u=e.e,f=t.s;if(r=e.s,e.s=f==r?1:-1,!((s||o&amp;&amp;o[0])&amp;&amp;(u||a&amp;&amp;a[0])))return new i(!f||!r||o&amp;&amp;!o[0]&amp;&amp;!a||a&amp;&amp;!a[0]&amp;&amp;!o?0/0:o&amp;&amp;a?0*e.s:e.s/0);for(e.e=s+u,f=o.length,r=a.length,r&gt;f&amp;&amp;(n=o,o=a,a=n,u=f,f=r,r=u),u=f+r,n=[];u--;n.push(0));for(s=r-1;s&gt;-1;s--){for(r=0,u=f+s;u&gt;s;r=r/10|0)r=n[u]+a[s]*o[u-s-1]+r,n[u--]=r%10|0;r&amp;&amp;(n[u]=(n[u]+r)%10)}for(r&amp;&amp;++e.e,n[0]||n.shift(),u=n.length;!n[--u];n.pop());return e.c=n,b?h(e,i.precision,i.rounding):e},N.toDecimalPlaces=N.toDP=function(e,r){var n=this;return n=new n.constructor(n),null!=e&amp;&amp;s(n,e,&quot;toDP&quot;)?h(n,(0|e)+n.e+1,a(n,r,&quot;toDP&quot;)):n},N.toExponential=function(e,r){var n=this;return c(n,null!=e&amp;&amp;s(n,e,&quot;toExponential&quot;)||!n.c?0|e:n.c.length-1,null!=e&amp;&amp;a(n,r,&quot;toExponential&quot;),1)},N.toFixed=function(e,r){var n,t=this,i=t.constructor,o=i.toExpNeg,u=i.toExpPos;return null!=e&amp;&amp;(e=s(t,e,n=&quot;toFixed&quot;,-A)?t.e+(0|e):null,r=a(t,r,n)),i.toExpNeg=-(i.toExpPos=1/0),null==e?n=t.toString():(n=c(t,e,r),t.s&lt;0&amp;&amp;t.c&amp;&amp;(t.c[0]?n.indexOf(&quot;-&quot;)&lt;0&amp;&amp;(n=&quot;-&quot;+n):n=n.replace(&quot;-&quot;,&quot;&quot;))),i.toExpNeg=o,i.toExpPos=u,n},N.toFormat=function(e,r,n){var t=this.toFixed(r).split(&quot;.&quot;);return t[0].replace(/\B(?=(\d{3})+$)/g,null==e?&quot;,&quot;:e+&quot;&quot;)+(t[1]?&quot;.&quot;+(n?t[1].replace(/\d{5}\B/g,&quot;$&amp;&quot;+n):t[1]):&quot;&quot;)},N.toFraction=function(e){var r,n,t,i,o,a,s,f=this,c=f.constructor,p=r=new c(c.ONE),m=a=new c(0),h=f.c,g=new c(c.ONE),d=c.precision;if(!h)return f.toString();for(t=g.e=h.length-f.e-1,(null==e||(!(v=12,o=new c(e)).s||(w=o.cmp(p)&lt;0||!o.c)||c.errors&amp;&amp;o.e&lt;o.c.length-1)&amp;&amp;!l(c,&quot;max denominator&quot;,e,&quot;toFraction&quot;,0)||(e=o).cmp(g)&gt;0)&amp;&amp;(e=t&gt;0?g:p),b=!1,o=new c(h.join(&quot;&quot;)),c.precision=h.length;s=u(o,g,0,1,1),n=r.plus(s.times(m)),1!=n.cmp(e);)r=m,m=n,p=a.plus(s.times(n=p)),a=n,g=o.minus(s.times(n=g)),o=n;return n=u(e.minus(r),m,0,1,1),a=a.plus(n.times(p)),r=r.plus(n.times(m)),a.s=p.s=f.s,t*=2,i=u(p,m,t,1,1).minus(f).abs().cmp(u(a,r,t,1,1).minus(f).abs())&lt;1?[p.toString(),m.toString()]:[a.toString(),r.toString()],b=!0,c.precision=d,i},N.toNearest=function(e,r){var n=this,t=n.constructor;return n=new t(n),null==e?(e=new t(t.ONE),r=t.rounding):(v=17,e=new t(e),r=a(n,r,&quot;toNearest&quot;)),e.c?n.c&amp;&amp;(b=!1,4&gt;r&amp;&amp;(r=[4,5,7,8][r]),1==e.c[0]&amp;&amp;1==e.c.length?(n.e-=e.e,h(n,n.e+1,r),n.c[0]&amp;&amp;(n.e+=e.e)):e.c[0]?n=u(n,e,0,r,1).times(e):n.c=[n.e=0],b=!0,h(n)):n.s&amp;&amp;(e.s&amp;&amp;(e.s=n.s),n=e),n},N.toNumber=function(){var e=this;return+e||(0|e)*e.s},N.toPower=N.pow=function(e,r){var n,t,i,a,s=this,u=s.constructor,c=s.s,l=(v=13,+(e=new u(e,r))),g=0&gt;l?-l:l,d=u.precision,x=u.rounding;if(!s.c||!e.c||(i=!s.c[0])||!e.c[0])return new u(Math.pow(i?0*c:+s,l));if(s=new u(s),n=s.c.length,!s.e&amp;&amp;s.c[0]==s.s&amp;&amp;1==n)return s;if(r=e.c.length-1,e.e||e.c[0]!=e.s||r)if(i=e.e&gt;=r,!i&amp;&amp;0&gt;c)a=new u(0/0);else{if(i&amp;&amp;T&gt;n*g){if(a=p(u,s,g),e.s&lt;0)return u.ONE.div(a)}else{if(c=0&gt;c&amp;&amp;1&amp;e.c[Math.max(e.e,r)]?-1:1,r=Math.pow(+s,l),t=0!=r&amp;&amp;isFinite(r)?new u(r+&quot;&quot;).e:Math.floor(l*(Math.log(&quot;0.&quot;+s.c.join(&quot;&quot;))/Math.LN10+s.e+1)),t&gt;u.maxE+1||t&lt;u.minE-1)return new u(t&gt;0?c/0:0);if(b=!1,u.rounding=s.s=1,g=Math.min(12,(t+&quot;&quot;).length),a=f(e.times(m(s,d+g)),d),a=h(a,d+5,1),o(a.c,d,x)){for(t=d+10,a=h(f(e.times(m(s,t+g)),t),t+5,1),g=d;9==a.c[++g];);g==d+15&amp;&amp;(a=h(a,d+1,0))}a.s=c,b=!0,u.rounding=x}a=h(a,d,x)}else a=h(s,d,x);return a},N.toPrecision=function(e,r){return null!=e&amp;&amp;s(this,e,&quot;toPrecision&quot;,1)?c(this,0|--e,a(this,r,&quot;toPrecision&quot;),2):this.toString()},N.toSignificantDigits=N.toSD=function(e,r){var n=this,t=n.constructor;return n=new t(n),null!=e&amp;&amp;s(n,e,&quot;toSD&quot;,1)?h(n,0|e,a(n,r,&quot;toSD&quot;)):h(n,t.precision,t.rounding)},N.toString=function(e){var r,n,t,i=this,o=i.constructor,a=i.e;if(null===a)n=i.s?&quot;Infinity&quot;:&quot;NaN&quot;;else{if(e===r&amp;&amp;(a&lt;=o.toExpNeg||a&gt;=o.toExpPos))return c(i,i.c.length-1,o.rounding,1);if(n=i.c.join(&quot;&quot;),0&gt;a){for(;++a;n=&quot;0&quot;+n);n=&quot;0.&quot;+n}else if(t=n.length,a&gt;0)if(++a&gt;t)for(a-=t;a--;n+=&quot;0&quot;);else t&gt;a&amp;&amp;(n=n.slice(0,a)+&quot;.&quot;+n.slice(a));else if(r=n.charAt(0),t&gt;1)n=r+&quot;.&quot;+n.slice(1);else if(&quot;0&quot;==r)return r;if(null!=e)if((w=!(e&gt;=2&amp;&amp;65&gt;e))||e!=(0|e)&amp;&amp;o.errors)l(o,&quot;base&quot;,e,&quot;toString&quot;,0);else if(n=g(o,n,0|e,10,i.s),&quot;0&quot;==n)return n}return i.s&lt;0?&quot;-&quot;+n:n},N.truncated=N.trunc=function(){return h(new this.constructor(this),this.e+1,1)},N.valueOf=N.toJSON=function(){return this.toString()},g=function(){function e(e,r,n){for(var t,i,o=[0],a=0,s=e.length;s&gt;a;){for(i=o.length;i--;o[i]*=r);for(o[t=0]+=E.indexOf(e.charAt(a++));t&lt;o.length;t++)o[t]&gt;n-1&amp;&amp;(null==o[t+1]&amp;&amp;(o[t+1]=0),o[t+1]+=o[t]/n|0,o[t]%=n)}return o.reverse()}return function(r,n,t,i,o){var a,s,f,c=n.indexOf(&quot;.&quot;),l=new r(i);for(37&gt;i&amp;&amp;(n=n.toLowerCase()),0&gt;c?(a=new r(l),f=[1]):(a=p(r,l,n.length-c-1),f=e(a.toFixed(),10,t),n=n.replace(&quot;.&quot;,&quot;&quot;)),l.c=f,l.e=f.length,s=e(n,i,t),a.c=s,a.e=s.length,a.s=o,a=u(a,l,r.precision,r.rounding,0,t),s=a.c,c=s.length;c--;)s[c]=E.charAt(s[c]);return a.s=1,a.toFixed()}}(),x=function(){function e(e){var r,n,t,i=this,o=&quot;config&quot;,a=i.errors?parseInt:parseFloat;return e==n||&quot;object&quot;!=typeof e&amp;&amp;!l(i,&quot;object expected&quot;,e,o)?i:((t=e[r=&quot;precision&quot;])!=n&amp;&amp;((w=1&gt;t||t&gt;A)||a(t)!=t?l(i,r,t,o,0):i[r]=0|t),(t=e[r=&quot;rounding&quot;])!=n&amp;&amp;((w=0&gt;t||t&gt;8)||a(t)!=t?l(i,r,t,o,0):i[r]=0|t),(t=e[r=&quot;toExpNeg&quot;])!=n&amp;&amp;((w=-M&gt;t||t&gt;0)||a(t)!=t?l(i,r,t,o,0):i[r]=Math.floor(t)),(t=e[r=&quot;toExpPos&quot;])!=n&amp;&amp;((w=0&gt;t||t&gt;M)||a(t)!=t?l(i,r,t,o,0):i[r]=Math.floor(t)),(t=e[r=&quot;minE&quot;])!=n&amp;&amp;((w=-M&gt;t||t&gt;0)||a(t)!=t?l(i,r,t,o,0):i[r]=Math.floor(t)),(t=e[r=&quot;maxE&quot;])!=n&amp;&amp;((w=0&gt;t||t&gt;M)||a(t)!=t?l(i,r,t,o,0):i[r]=Math.floor(t)),(t=e[r=&quot;errors&quot;])!=n&amp;&amp;(t===!!t||1===t||0===t?(w=v=0,i[r]=!!t):l(i,r,t,o,1)),(t=e[r=&quot;crypto&quot;])!=n&amp;&amp;(t===!!t||1===t||0===t?i[r]=!(!t||!d||&quot;object&quot;!=typeof d):l(i,r,t,o,1)),(t=e[r=&quot;modulo&quot;])!=n&amp;&amp;((w=0&gt;t||t&gt;9)||a(t)!=t?l(i,r,t,o,0):i[r]=0|t),i)}function r(e){return new this(e).exp()}function n(e){return new this(e).ln()}function t(e,r){return new this(e).log(r)}function o(e,r,n){var t,i,o=0;for(&quot;[object Array]&quot;==y.call(r[0])&amp;&amp;(r=r[0]),t=new e(r[0]);++o&lt;r.length;){if(i=new e(r[o]),!i.s){t=i;break}t[n](i)&amp;&amp;(t=i)}return t}function a(){return o(this,arguments,&quot;lt&quot;)}function u(){return o(this,arguments,&quot;gt&quot;)}function f(e,r){return new this(e).pow(r)}function c(e){return new this(e).sqrt()}function p(i){function o(e,r){var n=this;if(!(n instanceof o))return l(o,&quot;Decimal called without new&quot;,e),new o(e,r);if(e instanceof o){if(null==r)return v=0,n.constructor=e.constructor,n.s=e.s,n.e=e.e,void(n.c=(e=e.c)?e.slice():e);if(10==r)return h(new o(e),o.precision,o.rounding);e+=&quot;&quot;}return m(n.constructor=o,n,e,r)}return o.precision=20,o.rounding=4,o.modulo=1,o.toExpNeg=-7,o.toExpPos=21,o.minE=-M,o.maxE=M,o.errors=!0,o.crypto=!1,o.prototype=N,o.ONE=new o(1),o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.EUCLID=9,o.config=e,o.constructor=p,o.exp=r,o.ln=n,o.log=t,o.max=a,o.min=u,o.pow=f,o.sqrt=c,o.random=x,null!=i&amp;&amp;o.config(i),o}var m=function(){var e=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,r=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,&quot;&quot;)};return function(n,t,i,o){var a,s,u,f,c,p;if(&quot;string&quot;!=typeof i&amp;&amp;(i=(f=&quot;number&quot;==typeof i||&quot;[object Number]&quot;==y.call(i))&amp;&amp;0===i&amp;&amp;0&gt;1/i?&quot;-0&quot;:i+&quot;&quot;),c=i,o==s&amp;&amp;e.test(i))t.s=&quot;-&quot;==i.charAt(0)?(i=i.slice(1),-1):1;else{if(10==o)return h(new n(i),n.precision,n.rounding);if(i=r.call(i).replace(/^\+(?!-)/,&quot;&quot;),t.s=&quot;-&quot;==i.charAt(0)?(i=i.replace(/^-(?!-)/,&quot;&quot;),-1):1,o!=s?o!=(0|o)&amp;&amp;n.errors||(w=!(o&gt;=2&amp;&amp;65&gt;o))?(l(n,&quot;base&quot;,o,0,0),p=e.test(i)):(a=&quot;[&quot;+E.slice(0,o=0|o)+&quot;]+&quot;,i=i.replace(/\.$/,&quot;&quot;).replace(/^\./,&quot;0.&quot;),(p=new RegExp(&quot;^&quot;+a+&quot;(?:\\.&quot;+a+&quot;)?$&quot;,37&gt;o?&quot;i&quot;:&quot;&quot;).test(i))?(f&amp;&amp;(i.replace(/^0\.0*|\./,&quot;&quot;).length&gt;15&amp;&amp;l(n,0,c),f=!f),i=g(n,i,10,o,t.s)):&quot;Infinity&quot;!=i&amp;&amp;&quot;NaN&quot;!=i&amp;&amp;(l(n,&quot;not a base &quot;+o+&quot; number&quot;,c),i=&quot;NaN&quot;)):p=e.test(i),!p)return t.c=t.e=null,&quot;Infinity&quot;!=i&amp;&amp;(&quot;NaN&quot;!=i&amp;&amp;l(n,&quot;not a number&quot;,c),t.s=null),v=0,t}for((s=i.indexOf(&quot;.&quot;))&gt;-1&amp;&amp;(i=i.replace(&quot;.&quot;,&quot;&quot;)),(u=i.search(/e/i))&gt;0?(0&gt;s&amp;&amp;(s=u),s+=+i.slice(u+1),i=i.substring(0,u)):0&gt;s&amp;&amp;(s=i.length),u=0;&quot;0&quot;==i.charAt(u);u++);if(u==(o=i.length))t.c=[t.e=0];else{for(f&amp;&amp;o&gt;15&amp;&amp;i.slice(u).length&gt;15&amp;&amp;l(n,0,c);&quot;0&quot;==i.charAt(--o););for(t.e=s-u-1,t.c=[],s=0;o&gt;=u;t.c[s++]=+i.charAt(u++));b&amp;&amp;(t.e&gt;n.maxE?t.c=t.e=null:t.e&lt;n.minE&amp;&amp;(t.c=[t.e=0]))}v=0}}(),x=function(){function e(e){var r=Math.random();return e?(r*e|0)+&quot;&quot;:(1+r+&quot;&quot;).slice(2,-2)}function r(e){var n;return e?(n=d.getRandomValues(new i.Uint8Array(1))[0],n&gt;(256/e|0)*e-1?r(e):n%e+&quot;&quot;):(n=d.getRandomValues(new i.Uint32Array(1))[0],n&gt;=4e9?r(e):(n+1e9+&quot;&quot;).slice(1))}function n(e){var r,t,i=d.randomBytes;return e?(t=i(1)[0],t&gt;(256/e|0)*e-1?n(e):t%e+&quot;&quot;):(r=i(8),r[0]=67,r[1]=15&amp;r[1]|48,t=r.readDoubleBE(0),t&gt;9003599627370495?n(e):(t-0xc72815b398000+&quot;&quot;).slice(2))}return function(t,i){var o,a,u,f,c,p,m,h,g=this,x=new g(0),w=e;if(p=t==a||!(v=14,t=new g(t)).c&amp;&amp;!l(g,&quot;limit must be finite&quot;,t,&quot;random&quot;))t=new g(g.ONE);else if(!t.c[0])return x;g.crypto&amp;&amp;(d.getRandomValues?w=r:d.randomBytes&amp;&amp;(w=n)),a=t.e,c=(o=t.c).length;do{u=0,h=w(o[0]+1)+w();do f=o[u],m=h.charAt(u++);while(f==m)}while(m&gt;f||u&gt;c||&quot;&quot;==m);for(u=0;&quot;0&quot;==h.charAt(u);u++,a--);for(p?i=g.precision:null!=i&amp;&amp;s(t,i,&quot;random&quot;,1)?i|=0:i=a+1,i+=u;h.length&lt;i;)h+=w();for(;&quot;0&quot;==h.charAt(--i););if(++i&gt;0)for(x.c=[];i&gt;u;x.c.push(+h.charAt(u++)));else x.c=[a=0];return x.e=a,x.s=t.s,x}}();return p()}(),&quot;undefined&quot;!=typeof e&amp;&amp;e&amp;&amp;e.exports?(e.exports=x,d=n(256)):(d=i.crypto,t=function(){return x}.call(r,n,r,e),!(void 0!==t&amp;&amp;(e.exports=t)))}(this)}).call(r,n(259)(e))},function(e){function r(e,n,t,i){if(!(this instanceof r))throw new SyntaxError(&quot;Constructor must be called with the new operator&quot;);this.fn=e,this.count=n,this.min=t,this.max=i,this.message=&quot;Wrong number of arguments in function &quot;+e+&quot; (&quot;+n+&quot; provided, &quot;+t+(void 0!=i?&quot;-&quot;+i:&quot;&quot;)+&quot; expected)&quot;,this.stack=(new Error).stack}r.prototype=new Error,r.prototype.constructor=Error,r.prototype.name=&quot;ArgumentsError&quot;,e.exports=r},function(e){function r(e,n,t){if(!(this instanceof r))throw new SyntaxError(&quot;Constructor must be called with the new operator&quot;);this.actual=e,this.expected=n,this.relation=t,this.message=&quot;Dimension mismatch (&quot;+(Array.isArray(e)?&quot;[&quot;+e.join(&quot;, &quot;)+&quot;]&quot;:e)+&quot; &quot;+(this.relation||&quot;!=&quot;)+&quot; &quot;+(Array.isArray(n)?&quot;[&quot;+n.join(&quot;, &quot;)+&quot;]&quot;:n)+&quot;)&quot;,this.stack=(new Error).stack}r.prototype=new RangeError,r.prototype.constructor=RangeError,r.prototype.name=&quot;DimensionError&quot;,e.exports=r},function(e){function r(e,n,t){if(!(this instanceof r))throw new SyntaxError(&quot;Constructor must be called with the new operator&quot;);this.index=e,arguments.length&lt;3?(this.min=0,this.max=n):(this.min=n,this.max=t),this.message=void 0!==this.min&amp;&amp;this.index&lt;this.min?&quot;Index out of range (&quot;+this.index+&quot; &lt; &quot;+this.min+&quot;)&quot;:void 0!==this.max&amp;&amp;this.index&gt;=this.max?&quot;Index out of range (&quot;+this.index+&quot; &gt; &quot;+(this.max-1)+&quot;)&quot;:&quot;Index out of range (&quot;+this.index+&quot;)&quot;,this.stack=(new Error).stack}r.prototype=new RangeError,r.prototype.constructor=RangeError,r.prototype.name=&quot;IndexError&quot;,e.exports=r},function(e){function r(e){if(!(this instanceof r))throw new SyntaxError(&quot;Constructor must be called with the new operator&quot;);this.fn=e,this.types=Array.prototype.splice.call(arguments,1),this.message=e?0==this.types.length?&quot;Unsupported type of argument in function &quot;+e:&quot;Function &quot;+e+&quot;(&quot;+this.types.join(&quot;, &quot;)+&quot;) not supported&quot;:&quot;Unsupported type of argument&quot;,this.stack=(new Error).stack}r.prototype=new TypeError,r.prototype.constructor=TypeError,r.prototype.name=&quot;UnsupportedTypeError&quot;,e.exports=r},function(e,r,n){r.array=n(153),r[&quot;boolean&quot;]=n(257),r.number=n(154),r.bignumber=n(258),r.object=n(3),r.string=n(138),r.types=n(156)},function(e,r,n){function t(e){if(!(this instanceof t))throw new SyntaxError(&quot;Constructor must be called with the new operator&quot;);if(this.nodes=e||[],!a(this.nodes)||!this.nodes.every(s))throw new TypeError(&quot;Array containing Nodes expected&quot;)}var i=n(137),o=(n(3),n(138)),a=(n(11),n(123),Array.isArray),s=i.isNode;t.prototype=new i,t.prototype.type=&quot;ArrayNode&quot;,t.prototype._compile=function(e){var r=&quot;array&quot;!==e.math.config().matrix,n=this.nodes.map(function(r){return r._compile(e)});return(r?&quot;math.matrix([&quot;:&quot;[&quot;)+n.join(&quot;,&quot;)+(r?&quot;])&quot;:&quot;]&quot;)},t.prototype.find=function(e){var r=[];this.match(e)&amp;&amp;r.push(this);for(var n=this.nodes,t=0,i=n.length;i&gt;t;t++)r=r.concat(n[t].find(e));return r},t.prototype.toString=function(){return o.format(this.nodes)},e.exports=t},function(e,r,n){function t(e,r){if(!(this instanceof t))throw new SyntaxError(&quot;Constructor must be called with the new operator&quot;);if(!o(e))throw new TypeError('String expected for parameter &quot;name&quot;');if(!(r instanceof i))throw new TypeError('Node expected for parameter &quot;expr&quot;');this.name=e,this.expr=r}var i=n(137),o=n(138).isString;t.prototype=new i,t.prototype.type=&quot;AssignmentNode&quot;,t.prototype._compile=function(e){return'scope[&quot;'+this.name+'&quot;] = '+this.expr._compile(e)},t.prototype.find=function(e){var r=[];return this.match(e)&amp;&amp;r.push(this),r=r.concat(this.expr.find(e))},t.prototype.toString=function(){return this.name+&quot; = &quot;+this.expr.toString()},e.exports=t},function(e,r,n){function t(){if(!(this instanceof t))throw new SyntaxError(&quot;Constructor must be called with the new operator&quot;);this.params=[]}var i=n(137),o=n(257).isBoolean;t.prototype=new i,t.prototype.type=&quot;BlockNode&quot;,t.prototype.add=function(e,r){if(void 0===r&amp;&amp;(r=!0),!(e instanceof i))throw new TypeError('Node expected for parameter &quot;expr&quot;');if(!o(r))throw new TypeError('Boolean expected for parameter &quot;visible&quot;');var n=this.params.length;this.params[n]={node:e,visible:r}},t.prototype._compile=function(e){var r=this.params.map(function(r){var n=r.node._compile(e);return r.visible?&quot;results.push(&quot;+n+&quot;);&quot;:n+&quot;;&quot;});return&quot;(function () {var results = [];&quot;+r.join(&quot;&quot;)+&quot;return results;})()&quot;},t.prototype.find=function(e){var r=[];this.match(e)&amp;&amp;r.push(this);for(var n=this.params,t=0,i=n.length;i&gt;t;t++)r=r.concat(n[t].node.find(e));return r},t.prototype.toString=function(){return this.params.map(function(e){return e.node.toString()+(e.visible?&quot;&quot;:&quot;;&quot;)}).join(&quot;\n&quot;)},e.exports=t},function(e,r,n){function t(e,r){if(!(this instanceof t))throw new SyntaxError(&quot;Constructor must be called with the new operator&quot;);if(!a(e))throw new TypeError('String expected for parameter &quot;type&quot;');if(!a(r))throw new TypeError('String expected for parameter &quot;value&quot;');this.valueType=e,this.value=r}var i=n(137),o=n(138),a=o.isString;t.prototype=new i,t.prototype.type=&quot;ConstantNode&quot;,t.prototype._compile=function(e){switch(this.valueType){case&quot;number&quot;:return&quot;bignumber&quot;===e.math.config().number?'math.bignumber(&quot;'+this.value+'&quot;)':this.value.replace(/^(0*)[0-9]/,function(e,r){return e.substring(r.length)});case&quot;string&quot;:return'&quot;'+this.value+'&quot;';case&quot;complex&quot;:return&quot;math.complex(0, &quot;+this.value+&quot;)&quot;;case&quot;boolean&quot;:return this.value;case&quot;undefined&quot;:return this.value;case&quot;null&quot;:return this.value;default:throw new TypeError('Unsupported type of constant &quot;'+this.valueType+'&quot;')}},t.prototype.toString=function(){switch(this.valueType){case&quot;string&quot;:return'&quot;'+this.value+'&quot;';case&quot;complex&quot;:return this.value+&quot;i&quot;;default:return this.value}},e.exports=t},function(e,r,n){function t(e,r,n){if(!(this instanceof t))throw new SyntaxError(&quot;Constructor must be called with the new operator&quot;);if(!o(e))throw new TypeError('String expected for parameter &quot;name&quot;');if(!isArray(r)||!r.every(o))throw new TypeError('Array containing strings expected for parameter &quot;args&quot;');if(!(n instanceof i))throw new TypeError('Node expected for parameter &quot;expr&quot;');this.name=e,this.args=r,this.expr=n}var i=n(137),o=n(138).isString;isArray=Array.isArray,t.prototype=new i,t.prototype.type=&quot;FunctionNode&quot;,t.prototype._compile=function(e){return'scope[&quot;'+this.name+'&quot;] =   (function (scope) {    scope = Object.create(scope);     var fn = function '+this.name+&quot;(&quot;+this.args.join(&quot;,&quot;)+&quot;) {      if (arguments.length != &quot;+this.args.length+') {        throw new SyntaxError(&quot;Wrong number of arguments in function '+this.name+' (&quot; + arguments.length + &quot; provided, '+this.args.length+' expected)&quot;);      }'+this.args.map(function(e,r){return'scope[&quot;'+e+'&quot;] = arguments['+r+&quot;];&quot;}).join(&quot;&quot;)+&quot;      return &quot;+this.expr._compile(e)+'    };    fn.syntax = &quot;'+this.name+&quot;(&quot;+this.args.join(&quot;, &quot;)+')&quot;;    return fn;  })(scope);'},t.prototype.find=function(e){var r=[];return this.match(e)&amp;&amp;r.push(this),r=r.concat(this.expr.find(e))},t.prototype.toString=function(){return&quot;function &quot;+this.name+&quot;(&quot;+this.args.join(&quot;, &quot;)+&quot;) = &quot;+this.expr.toString()},e.exports=t},function(e,r,n){function t(e,r){if(!(this instanceof t))throw new SyntaxError(&quot;Constructor must be called with the new operator&quot;);if(!(e instanceof i))throw new TypeError('Node expected for parameter &quot;object&quot;');if(!isArray(r)||!r.every(s))throw new TypeError('Array containing Nodes expected for parameter &quot;ranges&quot;');this.object=e,this.ranges=r}var i=n(137),o=n(132),a=n(133),s=i.isNode;t.prototype=new i,t.prototype.type=&quot;IndexNode&quot;,t.prototype._compile=function(e){return this.compileSubset(e)},t.prototype.compileSubset=function(e,r){var n={type:a,properties:{name:&quot;end&quot;}},t=!1,i=this.ranges.map(function(e){var r=e.find(n).length&gt;0;return t=r?r:t,r}),s=this.ranges.map(function(r,n){var t=i[n];return r instanceof o?t?'(function (scope) {  scope = Object.create(scope);   scope[&quot;end&quot;] = size['+n+&quot;];  var step = &quot;+(r.step?r.step._compile(e):&quot;1&quot;)+&quot;;  return [    &quot;+r.start._compile(e)+&quot; - 1,     &quot;+r.end._compile(e)+&quot; - (step &gt; 0 ? 0 : 2),     step  ];})(scope)&quot;:&quot;(function () {  var step = &quot;+(r.step?r.step._compile(e):&quot;1&quot;)+&quot;;  return [    &quot;+r.start._compile(e)+&quot; - 1,     &quot;+r.end._compile(e)+&quot; - (step &gt; 0 ? 0 : 2),     step  ];})()&quot;:t?'(function (scope) {  scope = Object.create(scope);   scope[&quot;end&quot;] = size['+n+&quot;];  return &quot;+r._compile(e)+&quot; - 1;})(scope)&quot;:r._compile(e)+&quot; - 1&quot;});return t?&quot;(function () {  var obj = &quot;+this.object._compile(e)+&quot;;  var size = math.size(obj).valueOf();  return math.subset(    obj,     math.index(&quot;+s.join(&quot;, &quot;)+&quot;)    &quot;+(r?&quot;, &quot;+r:&quot;&quot;)+&quot;  );})()&quot;:&quot;math.subset(&quot;+this.object._compile(e)+&quot;,math.index(&quot;+s.join(&quot;, &quot;)+&quot;)&quot;+(r?&quot;, &quot;+r:&quot;&quot;)+&quot;)&quot;},t.prototype.find=function(e){var r=[];this.match(e)&amp;&amp;r.push(this),r=r.concat(this.object.find(e));for(var n=this.ranges,t=0,i=n.length;i&gt;t;t++)r=r.concat(n[t].find(e));return r},t.prototype.objectName=function(){return this.object.name},t.prototype.toString=function(){return this.object.toString()+&quot;[&quot;+this.ranges.join(&quot;, &quot;)+&quot;]&quot;},e.exports=t},function(e,r,n){function t(e,r,n){if(!(this instanceof t))throw new SyntaxError(&quot;Constructor must be called with the new operator&quot;);this.op=e,this.fn=r,this.params=n}var i=n(137);t.prototype=new i,t.prototype.type=&quot;OperatorNode&quot;,t.prototype._compile=function(e){if(!(this.fn in e.math))throw new Error(&quot;Function &quot;+this.fn+' missing in provided namespace &quot;math&quot;');var r=this.params.map(function(r){return r._compile(e)});return&quot;math.&quot;+this.fn+&quot;(&quot;+r.join(&quot;, &quot;)+&quot;)&quot;},t.prototype.find=function(e){var r=[];this.match(e)&amp;&amp;r.push(this);var n=this.params;if(n)for(var t=0,i=n.length;i&gt;t;t++)r=r.concat(n[t].find(e));return r},t.prototype.toString=function(){var e=this.params;switch(e.length){case 1:return&quot;-&quot;==this.op?&quot;-&quot;+e[0].toString():e[0].toString()+this.op;case 2:var r=e[0].toString();e[0]instanceof t&amp;&amp;(r=&quot;(&quot;+r+&quot;)&quot;);var n=e[1].toString();return e[1]instanceof t&amp;&amp;(n=&quot;(&quot;+n+&quot;)&quot;),r+&quot; &quot;+this.op+&quot; &quot;+n;default:return this.op+&quot;(&quot;+this.params.join(&quot;, &quot;)+&quot;)&quot;}},e.exports=t},function(e,r,n){function t(e,r){if(!(this instanceof t))throw new SyntaxError(&quot;Constructor must be called with the new operator&quot;);if(!(e instanceof i))throw new TypeError('Node expected for parameter &quot;object&quot;');if(!isArray(r)||!r.every(o))throw new TypeError('Array containing Nodes expected for parameter &quot;params&quot;');this.object=e,this.params=r}var i=n(137),o=i.isNode;t.prototype=new i,t.prototype.type=&quot;ParamsNode&quot;,t.prototype._compile=function(e){var r=this.params.map(function(r){return r._compile(e)});return this.object._compile(e)+&quot;(&quot;+r.join(&quot;, &quot;)+&quot;)&quot;},t.prototype.find=function(e){var r=[];this.match(e)&amp;&amp;r.push(this),r=r.concat(this.object.find(e));for(var n=this.params,t=0,i=n.length;i&gt;t;t++)r=r.concat(n[t].find(e));return r},t.prototype.toString=function(){return this.object.toString()+&quot;(&quot;+this.params.join(&quot;, &quot;)+&quot;)&quot;},e.exports=t},function(e,r,n){function t(e){if(!(this instanceof t))throw new SyntaxError(&quot;Constructor must be called with the new operator&quot;);if(!Array.isArray(e)||2!=e.length&amp;&amp;3!=e.length||!e.every(o))throw new TypeError('Expected an Array containing 2 or 3 Nodes as parameter &quot;params&quot;');this.start=e[0],this.end=e[1],this.step=e[2]}var i=n(137),o=i.isNode;t.prototype=new i,t.prototype.type=&quot;RangeNode&quot;,t.prototype._compile=function(e){return&quot;math.range(&quot;+this.start._compile(e)+&quot;, &quot;+this.end._compile(e)+&quot;, &quot;+(this.step?this.step._compile(e)+&quot;, &quot;:&quot;&quot;)+&quot;true)&quot;},t.prototype.find=function(e){var r=[];return this.match(e)&amp;&amp;r.push(this),r=r.concat(this.start.find(e)),this.step&amp;&amp;(r=r.concat(this.step.find(e))),r=r.concat(this.end.find(e))},t.prototype.toString=function(){var e=this.start.toString();return this.step&amp;&amp;(e+=&quot;:&quot;+this.step.toString()),e+=&quot;:&quot;+this.end.toString()},e.exports=t},function(e,r,n){function t(e){if(!(this instanceof t))throw new SyntaxError(&quot;Constructor must be called with the new operator&quot;);if(!s(e))throw new TypeError('String expected for parameter &quot;name&quot;');this.name=e}function i(e){throw new Error(&quot;Undefined symbol &quot;+e)}var o=n(137),a=n(9),s=n(138).isString;t.prototype=new o,t.prototype.type=&quot;SymbolNode&quot;,t.prototype._compile=function(e){return e.undef=i,e.Unit=a,'(scope[&quot;'+this.name+'&quot;] !== undefined ? scope[&quot;'+this.name+'&quot;] : math[&quot;'+this.name+'&quot;] !== undefined ? math[&quot;'+this.name+'&quot;] : '+(a.isValuelessUnit(this.name)?'new Unit(null, &quot;'+this.name+'&quot;)':'undef(&quot;'+this.name+'&quot;)')+&quot;)&quot;},t.prototype.toString=function(){return this.name},e.exports=t},function(e,r,n){function t(e,r,n){if(!(this instanceof t))throw new SyntaxError(&quot;Constructor must be called with the new operator&quot;);this.ops=e,this.fn=r,this.params=n}var i=n(130);t.prototype=new i,t.prototype.type=&quot;TernaryNode&quot;,t.prototype.toString=function(){return this.params[0]+&quot; &quot;+this.ops[0]+&quot; &quot;+this.params[1]+&quot; &quot;+this.ops[1]+&quot; &quot;+this.params[2]},e.exports=t},function(e,r,n){function t(e,r){if(!(this instanceof t))throw new SyntaxError(&quot;Constructor must be called with the new operator&quot;);if(!(e instanceof i))throw new TypeError('Node expected for parameter &quot;value&quot;');if(!o(r))throw new TypeError('String expected for parameter &quot;unit&quot;');this.value=e,this.unit=r}var i=n(137),o=(n(9),n(138).isString);t.prototype=new i,t.prototype.type=&quot;UnitNode&quot;,t.prototype._compile=function(e){return&quot;math.unit(&quot;+this.value._compile(e)+', &quot;'+this.unit+'&quot;)'},t.prototype.find=function(e){var r=[];return this.match(e)&amp;&amp;r.push(this),r=r.concat(this.value.find(e))},t.prototype.toString=function(){return this.value+&quot; &quot;+this.unit},e.exports=t},function(e,r,n){function t(e,r){if(!(this instanceof t))throw new SyntaxError(&quot;Constructor must be called with the new operator&quot;);if(!(e instanceof o))throw new TypeError('Expected IndexNode for parameter &quot;index&quot;');if(!(r instanceof i))throw new TypeError('Expected Node for parameter &quot;expr&quot;');this.index=e,this.expr=r}var i=n(137),o=n(129);t.prototype=new i,t.prototype.type=&quot;UpdateNode&quot;,t.prototype._compile=function(e){return'scope[&quot;'+this.index.objectName()+'&quot;] = '+this.index.compileSubset(e,this.expr._compile(e))},t.prototype.find=function(e){var r=[];return this.match(e)&amp;&amp;r.push(this),r=r.concat(this.index.find(e)),r=r.concat(this.expr.find(e))},t.prototype.toString=function(){return this.index.toString()+&quot; = &quot;+this.expr.toString()},e.exports=t},function(e,r,n){function t(){if(!(this instanceof t))throw new SyntaxError(&quot;Constructor must be called with the new operator&quot;)}var i=n(4);t.prototype.eval=function(){throw new Error(&quot;Node.eval is deprecated. Use Node.compile(math).eval([scope]) instead.&quot;)},t.prototype.type=&quot;Node&quot;,t.prototype.compile=function(e){if(&quot;object&quot;!=typeof e)throw new TypeError(&quot;Object expected for parameter math&quot;);var r={math:e,error:i},n=this._compile(r),t=Object.keys(r).map(function(e){return&quot;    var &quot;+e+' = defs[&quot;'+e+'&quot;];'}),o=t.join(&quot; &quot;)+'return {  &quot;eval&quot;: function (scope) {    try {      scope = scope || {};      return '+n+&quot;;    } catch (err) {      if (err instanceof defs.error.IndexError) {        err = new defs.error.IndexError(err.index + 1, err.min + 1, err.max + 1);      }      throw err;    }  }};&quot;,a=new Function(&quot;defs&quot;,o);return a(r)},t.prototype._compile=function(){throw new Error(&quot;Cannot compile a Node interface&quot;)},t.prototype.find=function(e){return this.match(e)?[this]:[]},t.prototype.match=function(e){var r=!0;if(e){!e.type||this instanceof e.type||(r=!1);var n=e.properties;if(r&amp;&amp;n)for(var t in n)if(n.hasOwnProperty(t)&amp;&amp;this[t]!==n[t]){r=!1;break}}return r},t.prototype.toString=function(){return&quot;&quot;},t.isNode=function(e){return e instanceof t},e.exports=t},function(e,r,n){function t(e,n){if(Array.isArray(e)){for(var i=&quot;[&quot;,o=e.length,a=0;o&gt;a;a++)0!=a&amp;&amp;(i+=&quot;, &quot;),i+=t(e[a],n);return i+=&quot;]&quot;}return r.format(e,n)}var i=n(154),o=n(258),a=n(118);r.isString=function(e){return e instanceof String||&quot;string&quot;==typeof e},r.endsWith=function(e,r){var n=e.length-r.length,t=e.length;return e.substring(n,t)===r},r.format=function(e,n){return i.isNumber(e)?i.format(e,n):e instanceof a?o.format(e,n):Array.isArray(e)?t(e,n):r.isString(e)?'&quot;'+e+'&quot;':&quot;function&quot;==typeof e?e.syntax?e.syntax+&quot;&quot;:&quot;function&quot;:e instanceof Object?&quot;function&quot;==typeof e.format?e.format(n):e.toString():String(e)}},function(e){e.exports={name:&quot;e&quot;,category:&quot;Constants&quot;,syntax:[&quot;e&quot;],description:&quot;Euler's number, the base of the natural logarithm. Approximately equal to 2.71828&quot;,examples:[&quot;e&quot;,&quot;e ^ 2&quot;,&quot;exp(2)&quot;,&quot;log(e)&quot;],seealso:[&quot;exp&quot;]}},function(e){e.exports={name:&quot;false&quot;,category:&quot;Constants&quot;,syntax:[&quot;false&quot;],description:&quot;Boolean value false&quot;,examples:[&quot;false&quot;],seealso:[&quot;true&quot;]}},function(e){e.exports={name:&quot;i&quot;,category:&quot;Constants&quot;,syntax:[&quot;i&quot;],description:&quot;Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.&quot;,examples:[&quot;i&quot;,&quot;i * i&quot;,&quot;sqrt(-1)&quot;],seealso:[]}},function(e){e.exports={name:&quot;Infinity&quot;,category:&quot;Constants&quot;,syntax:[&quot;Infinity&quot;],description:&quot;Infinity, a number which is larger than the maximum number that can be handled by a floating point number.&quot;,examples:[&quot;Infinity&quot;,&quot;1 / 0&quot;],seealso:[]}},function(e){e.exports={name:&quot;LN2&quot;,category:&quot;Constants&quot;,syntax:[&quot;LN2&quot;],description:&quot;Returns the natural logarithm of 2, approximately equal to 0.693&quot;,examples:[&quot;LN2&quot;,&quot;log(2)&quot;],seealso:[]}},function(e){e.exports={name:&quot;LN10&quot;,category:&quot;Constants&quot;,syntax:[&quot;LN10&quot;],description:&quot;Returns the natural logarithm of 10, approximately equal to 2.302&quot;,examples:[&quot;LN10&quot;,&quot;log(10)&quot;],seealso:[]}},function(e){e.exports={name:&quot;LOG2E&quot;,category:&quot;Constants&quot;,syntax:[&quot;LOG2E&quot;],description:&quot;Returns the base-2 logarithm of E, approximately equal to 1.442&quot;,examples:[&quot;LOG2E&quot;,&quot;log(e, 2)&quot;],seealso:[]}},function(e){e.exports={name:&quot;LOG10E&quot;,category:&quot;Constants&quot;,syntax:[&quot;LOG10E&quot;],description:&quot;Returns the base-10 logarithm of E, approximately equal to 0.434&quot;,examples:[&quot;LOG10E&quot;,&quot;log(e, 10)&quot;],seealso:[]}},function(e){e.exports={name:&quot;NaN&quot;,category:&quot;Constants&quot;,syntax:[&quot;NaN&quot;],description:&quot;Not a number&quot;,examples:[&quot;NaN&quot;,&quot;0 / 0&quot;],seealso:[]}},function(e){e.exports={name:&quot;pi&quot;,category:&quot;Constants&quot;,syntax:[&quot;pi&quot;],description:&quot;The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159&quot;,examples:[&quot;pi&quot;,&quot;sin(pi/2)&quot;],seealso:[&quot;tau&quot;]}},function(e){e.exports={name:&quot;SQRT1_2&quot;,category:&quot;Constants&quot;,syntax:[&quot;SQRT1_2&quot;],description:&quot;Returns the square root of 1/2, approximately equal to 0.707&quot;,examples:[&quot;SQRT1_2&quot;,&quot;sqrt(1/2)&quot;],seealso:[]}},function(e){e.exports={name:&quot;SQRT2&quot;,category:&quot;Constants&quot;,syntax:[&quot;SQRT2&quot;],description:&quot;Returns the square root of 2, approximately equal to 1.414&quot;,examples:[&quot;SQRT2&quot;,&quot;sqrt(2)&quot;],seealso:[]}},function(e){e.exports={name:&quot;tau&quot;,category:&quot;Constants&quot;,syntax:[&quot;pi&quot;],description:&quot;Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.&quot;,examples:[&quot;tau&quot;,&quot;2 * pi&quot;],seealso:[&quot;pi&quot;]}},function(e){e.exports={name:&quot;true&quot;,category:&quot;Constants&quot;,syntax:[&quot;true&quot;],description:&quot;Boolean value true&quot;,examples:[&quot;true&quot;],seealso:[&quot;false&quot;]}},function(e,r,n){function t(e){for(var r=[];l(e);)r.push(e.length),e=e[0];return r}function i(e,r,n){var t,o=e.length;if(o!=r[n])throw new f(o,r[n]);if(n&lt;r.length-1){var a=n+1;for(t=0;o&gt;t;t++){var s=e[t];if(!l(s))throw new f(r.length-1,r.length,&quot;&lt;&quot;);i(e[t],r,a)}}else for(t=0;o&gt;t;t++)if(l(e[t]))throw new f(r.length+1,r.length,&quot;&gt;&quot;)}function o(e,r,n,t){if(!l(e))throw Error(&quot;Array expected&quot;);var i,a,s=e.length,f=r[n],c=Math.min(s,f);if(e.length=f,n&lt;r.length-1){var p=n+1;for(i=0;c&gt;i;i++)a=e[i],o(a,r,p,t);for(i=c;f&gt;i;i++)a=[],e[i]=a,o(a,r,p,t)}else if(void 0!==t)for(i=s;f&gt;i;i++)e[i]=u.clone(t)}var a=n(154),s=n(138),u=n(3),f=(n(156),n(120)),c=n(121),l=Array.isArray;r.size=function(e){var n=t(e);return r.validate(e,n),n},r.validate=function(e,r){var n=0==r.length;if(n){if(l(e))throw new f(e.length,0)}else i(e,r,0)},r.validateIndex=function(e,r){if(!a.isNumber(e)||!a.isInteger(e))throw new TypeError(&quot;Index must be an integer (value: &quot;+e+&quot;)&quot;);if(0&gt;e)throw new c(e);if(void 0!==r&amp;&amp;e&gt;=r)throw new c(e,r)},r.resize=function(e,r,n){if(!l(e)||!l(r))throw new TypeError(&quot;Array expected&quot;);if(0===r.length)throw new Error(&quot;Resizing to scalar is not supported&quot;);r.forEach(function(e){if(!a.isNumber(e)||!a.isInteger(e)||0&gt;e)throw new TypeError(&quot;Invalid size, must contain positive integers (size: &quot;+s.format(r)+&quot;)&quot;)});for(var t=1,i=e[0];l(i);)t++,i=i[0];for(;t&lt;r.length;)e=[e],t++;for(;t&gt;r.length;)e=e[0],t--;return o(e,r,0,n),e},r.squeeze=function(e){for(;l(e)&amp;&amp;1===e.length;)e=e[0];return e},r.unsqueeze=function(e,n){for(var t=r.size(e),i=0,o=n-t.length;o&gt;i;i++)e=[e];return e},r.flatten=function(e){for(var r=e,n=Array.isArray;n(r[0]);){for(var t=[],i=0,o=r.length;o&gt;i;i++)t=t.concat.apply(t,r[i]);r=t}return r},r.isArray=l},function(e,r){r.isNumber=function(e){return e instanceof Number||&quot;number&quot;==typeof e},r.isInteger=function(e){return e==Math.round(e)},r.sign=function(e){return e&gt;0?1:0&gt;e?-1:0},r.format=function(e,n){if(&quot;function&quot;==typeof n)return n(e);if(1/0===e)return&quot;Infinity&quot;;if(e===-1/0)return&quot;-Infinity&quot;;if(isNaN(e))return&quot;NaN&quot;;var t=&quot;auto&quot;,i=void 0;switch(void 0!==n&amp;&amp;(n.notation&amp;&amp;(t=n.notation),r.isNumber(n)?i=n:n.precision&amp;&amp;(i=n.precision)),t){case&quot;fixed&quot;:return r.toFixed(e,i);case&quot;exponential&quot;:return r.toExponential(e,i);case&quot;auto&quot;:var o=.001,a=1e5;if(n&amp;&amp;n.exponential&amp;&amp;(void 0!==n.exponential.lower&amp;&amp;(o=n.exponential.lower),void 0!==n.exponential.upper&amp;&amp;(a=n.exponential.upper)),0===e)return&quot;0&quot;;var s,u=Math.abs(e);if(u&gt;=o&amp;&amp;a&gt;u){var f=i?e.toPrecision(Math.min(i,21)):e.toPrecision();s=parseFloat(f)+&quot;&quot;}else s=r.toExponential(e,i);return s.replace(/((\.\d*?)(0+))($|e)/,function(){var e=arguments[2],r=arguments[4];return&quot;.&quot;!==e?e+r:r});default:throw new Error('Unknown notation &quot;'+t+'&quot;. Choose &quot;auto&quot;, &quot;exponential&quot;, or &quot;fixed&quot;.')}},r.toExponential=function(e,r){return void 0!==r?e.toExponential(Math.min(r-1,20)):e.toExponential()},r.toFixed=function(e,r){return e.toFixed(Math.min(r,20))
},r.digits=function(e){return e.toExponential().replace(/e.*$/,&quot;&quot;).replace(/^0\.?0*|\./,&quot;&quot;).length},r.DBL_EPSILON=Number.EPSILON||2.220446049250313e-16,r.nearlyEqual=function(e,n,t){if(null==t)return e==n;if(e==n)return!0;if(isNaN(e)||isNaN(n))return!1;if(isFinite(e)&amp;&amp;isFinite(n)){var i=Math.abs(e-n);return i&lt;r.DBL_EPSILON?!0:i&lt;=Math.max(Math.abs(e),Math.abs(n))*t}return!1}},function(e,r,n){function t(e){return n(i(e))}function i(e){return o[e]||function(){throw new Error(&quot;Cannot find module '&quot;+e+&quot;'.&quot;)}()}var o={&quot;./clone&quot;:110,&quot;./clone.js&quot;:110,&quot;./forEach&quot;:117,&quot;./forEach.js&quot;:117,&quot;./format&quot;:111,&quot;./format.js&quot;:111,&quot;./ifElse&quot;:112,&quot;./ifElse.js&quot;:112,&quot;./import&quot;:113,&quot;./import.js&quot;:113,&quot;./map&quot;:114,&quot;./map.js&quot;:114,&quot;./print&quot;:115,&quot;./print.js&quot;:115,&quot;./typeof&quot;:116,&quot;./typeof.js&quot;:116};t.keys=function(){return Object.keys(o)},t.resolve=i,e.exports=t},function(e,r){r.type=function n(e){var n=typeof e;if(&quot;object&quot;===n){if(null===e)return&quot;null&quot;;if(e instanceof Boolean)return&quot;boolean&quot;;if(e instanceof Number)return&quot;number&quot;;if(e instanceof String)return&quot;string&quot;;if(Array.isArray(e))return&quot;array&quot;;if(e instanceof Date)return&quot;date&quot;}return n}},function(e){e.exports={name:&quot;abs&quot;,category:&quot;Arithmetic&quot;,syntax:[&quot;abs(x)&quot;],description:&quot;Compute the absolute value.&quot;,examples:[&quot;abs(3.5)&quot;,&quot;abs(-4.2)&quot;],seealso:[&quot;sign&quot;]}},function(e){e.exports={name:&quot;add&quot;,category:&quot;Operators&quot;,syntax:[&quot;x + y&quot;,&quot;add(x, y)&quot;],description:&quot;Add two values.&quot;,examples:[&quot;2.1 + 3.6&quot;,&quot;ans - 3.6&quot;,&quot;3 + 2i&quot;,'&quot;hello&quot; + &quot; world&quot;',&quot;3 cm + 2 inch&quot;],seealso:[&quot;subtract&quot;]}},function(e){e.exports={name:&quot;ceil&quot;,category:&quot;Arithmetic&quot;,syntax:[&quot;ceil(x)&quot;],description:&quot;Round a value towards plus infinity.If x is complex, both real and imaginary part are rounded towards plus infinity.&quot;,examples:[&quot;ceil(3.2)&quot;,&quot;ceil(3.8)&quot;,&quot;ceil(-4.2)&quot;],seealso:[&quot;floor&quot;,&quot;fix&quot;,&quot;round&quot;]}},function(e){e.exports={name:&quot;compare&quot;,category:&quot;Operators&quot;,syntax:[&quot;compare(x, y)&quot;],description:&quot;Compare two values. Returns 1 if x is larger than y, -1 if x is smaller than y, and 0 if x and y are equal.&quot;,examples:[&quot;compare(2, 3)&quot;,&quot;compare(3, 2)&quot;,&quot;compare(2, 2)&quot;,&quot;compare(5cm, 40mm)&quot;,&quot;compare(2, [1, 2, 3])&quot;],seealso:[&quot;equal&quot;,&quot;unequal&quot;,&quot;smaller&quot;,&quot;smallereq&quot;,&quot;largereq&quot;]}},function(e){e.exports={name:&quot;cube&quot;,category:&quot;Arithmetic&quot;,syntax:[&quot;cube(x)&quot;],description:&quot;Compute the cube of a value. The cube of x is x * x * x.&quot;,examples:[&quot;cube(2)&quot;,&quot;2^3&quot;,&quot;2 * 2 * 2&quot;],seealso:[&quot;multiply&quot;,&quot;square&quot;,&quot;pow&quot;]}},function(e){e.exports={name:&quot;divide&quot;,category:&quot;Operators&quot;,syntax:[&quot;x / y&quot;,&quot;divide(x, y)&quot;],description:&quot;Divide two values.&quot;,examples:[&quot;2 / 3&quot;,&quot;ans * 3&quot;,&quot;4.5 / 2&quot;,&quot;3 + 4 / 2&quot;,&quot;(3 + 4) / 2&quot;,&quot;18 km / 4.5&quot;],seealso:[&quot;multiply&quot;]}},function(e){e.exports={name:&quot;edivide&quot;,category:&quot;Operators&quot;,syntax:[&quot;x ./ y&quot;,&quot;edivide(x, y)&quot;],description:&quot;divide two values element wise.&quot;,examples:[&quot;a = [1, 2, 3; 4, 5, 6]&quot;,&quot;b = [2, 1, 1; 3, 2, 5]&quot;,&quot;a ./ b&quot;],seealso:[&quot;multiply&quot;,&quot;emultiply&quot;,&quot;divide&quot;]}},function(e){e.exports={name:&quot;emultiply&quot;,category:&quot;Operators&quot;,syntax:[&quot;x .* y&quot;,&quot;emultiply(x, y)&quot;],description:&quot;multiply two values element wise.&quot;,examples:[&quot;a = [1, 2, 3; 4, 5, 6]&quot;,&quot;b = [2, 1, 1; 3, 2, 5]&quot;,&quot;a .* b&quot;],seealso:[&quot;multiply&quot;,&quot;divide&quot;,&quot;edivide&quot;]}},function(e){e.exports={name:&quot;epow&quot;,category:&quot;Operators&quot;,syntax:[&quot;x .^ y&quot;,&quot;epow(x, y)&quot;],description:&quot;Calculates the power of x to y element wise.&quot;,examples:[&quot;a = [1, 2, 3; 4, 5, 6]&quot;,&quot;a .^ 2&quot;],seealso:[&quot;pow&quot;]}},function(e){e.exports={name:&quot;equal&quot;,category:&quot;Operators&quot;,syntax:[&quot;x == y&quot;,&quot;equal(x, y)&quot;],description:&quot;Check equality of two values. Returns true if the values are equal, and false if not.&quot;,examples:[&quot;2+2 == 3&quot;,&quot;2+2 == 4&quot;,&quot;a = 3.2&quot;,&quot;b = 6-2.8&quot;,&quot;a == b&quot;,&quot;50cm == 0.5m&quot;],seealso:[&quot;unequal&quot;,&quot;smaller&quot;,&quot;larger&quot;,&quot;smallereq&quot;,&quot;largereq&quot;,&quot;compare&quot;]}},function(e){e.exports={name:&quot;exp&quot;,category:&quot;Arithmetic&quot;,syntax:[&quot;exp(x)&quot;],description:&quot;Calculate the exponent of a value.&quot;,examples:[&quot;exp(1.3)&quot;,&quot;e ^ 1.3&quot;,&quot;log(exp(1.3))&quot;,&quot;x = 2.4&quot;,&quot;(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula&quot;],seealso:[&quot;square&quot;,&quot;multiply&quot;,&quot;log&quot;]}},function(e){e.exports={name:&quot;fix&quot;,category:&quot;Arithmetic&quot;,syntax:[&quot;fix(x)&quot;],description:&quot;Round a value towards zero.If x is complex, both real and imaginary part are rounded towards zero.&quot;,examples:[&quot;fix(3.2)&quot;,&quot;fix(3.8)&quot;,&quot;fix(-4.2)&quot;,&quot;fix(-4.8)&quot;],seealso:[&quot;ceil&quot;,&quot;floor&quot;,&quot;round&quot;]}},function(e){e.exports={name:&quot;floor&quot;,category:&quot;Arithmetic&quot;,syntax:[&quot;floor(x)&quot;],description:&quot;Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.&quot;,examples:[&quot;floor(3.2)&quot;,&quot;floor(3.8)&quot;,&quot;floor(-4.2)&quot;],seealso:[&quot;ceil&quot;,&quot;fix&quot;,&quot;round&quot;]}},function(e){e.exports={name:&quot;gcd&quot;,category:&quot;Arithmetic&quot;,syntax:[&quot;gcd(a, b)&quot;,&quot;gcd(a, b, c, ...)&quot;],description:&quot;Compute the greatest common divisor.&quot;,examples:[&quot;gcd(8, 12)&quot;,&quot;gcd(-4, 6)&quot;,&quot;gcd(25, 15, -10)&quot;],seealso:[&quot;lcm&quot;,&quot;xgcd&quot;]}},function(e){e.exports={name:&quot;larger&quot;,category:&quot;Operators&quot;,syntax:[&quot;x &gt; y&quot;,&quot;larger(x, y)&quot;],description:&quot;Check if value x is larger than y. Returns true if x is larger than y, and false if not.&quot;,examples:[&quot;2 &gt; 3&quot;,&quot;5 &gt; 2*2&quot;,&quot;a = 3.3&quot;,&quot;b = 6-2.8&quot;,&quot;(a &gt; b)&quot;,&quot;(b &lt; a)&quot;,&quot;5 cm &gt; 2 inch&quot;],seealso:[&quot;equal&quot;,&quot;unequal&quot;,&quot;smaller&quot;,&quot;smallereq&quot;,&quot;largereq&quot;,&quot;compare&quot;]}},function(e){e.exports={name:&quot;largereq&quot;,category:&quot;Operators&quot;,syntax:[&quot;x &gt;= y&quot;,&quot;largereq(x, y)&quot;],description:&quot;Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.&quot;,examples:[&quot;2 &gt; 1+1&quot;,&quot;2 &gt;= 1+1&quot;,&quot;a = 3.2&quot;,&quot;b = 6-2.8&quot;,&quot;(a &gt; b)&quot;],seealso:[&quot;equal&quot;,&quot;unequal&quot;,&quot;smallereq&quot;,&quot;smaller&quot;,&quot;largereq&quot;,&quot;compare&quot;]}},function(e){e.exports={name:&quot;lcm&quot;,category:&quot;Arithmetic&quot;,syntax:[&quot;lcm(x, y)&quot;],description:&quot;Compute the least common multiple.&quot;,examples:[&quot;lcm(4, 6)&quot;,&quot;lcm(6, 21)&quot;,&quot;lcm(6, 21, 5)&quot;],seealso:[&quot;gcd&quot;]}},function(e){e.exports={name:&quot;log&quot;,category:&quot;Arithmetic&quot;,syntax:[&quot;log(x)&quot;,&quot;log(x, base)&quot;],description:&quot;Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).&quot;,examples:[&quot;log(3.5)&quot;,&quot;a = log(2.4)&quot;,&quot;exp(a)&quot;,&quot;10 ^ 3&quot;,&quot;log(1000, 10)&quot;,&quot;log(1000) / log(10)&quot;,&quot;b = logb(1024, 2)&quot;,&quot;2 ^ b&quot;],seealso:[&quot;exp&quot;,&quot;log10&quot;]}},function(e){e.exports={name:&quot;log10&quot;,category:&quot;Arithmetic&quot;,syntax:[&quot;log10(x)&quot;],description:&quot;Compute the 10-base logarithm of a value.&quot;,examples:[&quot;log10(1000)&quot;,&quot;10 ^ 3&quot;,&quot;log10(0.01)&quot;,&quot;log(1000) / log(10)&quot;,&quot;log(1000, 10)&quot;],seealso:[&quot;exp&quot;,&quot;log&quot;]}},function(e){e.exports={name:&quot;mod&quot;,category:&quot;Operators&quot;,syntax:[&quot;x % y&quot;,&quot;x mod y&quot;,&quot;mod(x, y)&quot;],description:&quot;Calculates the modulus, the remainder of an integer division.&quot;,examples:[&quot;7 % 3&quot;,&quot;11 % 2&quot;,&quot;10 mod 4&quot;,&quot;function isOdd(x) = x % 2&quot;,&quot;isOdd(2)&quot;,&quot;isOdd(3)&quot;],seealso:[]}},function(e){e.exports={name:&quot;multiply&quot;,category:&quot;Operators&quot;,syntax:[&quot;x * y&quot;,&quot;multiply(x, y)&quot;],description:&quot;multiply two values.&quot;,examples:[&quot;2.1 * 3.6&quot;,&quot;ans / 3.6&quot;,&quot;2 * 3 + 4&quot;,&quot;2 * (3 + 4)&quot;,&quot;3 * 2.1 km&quot;],seealso:[&quot;divide&quot;]}},function(e){e.exports={name:&quot;norm&quot;,category:&quot;Arithmetic&quot;,syntax:[&quot;norm(x)&quot;,&quot;norm(x, p)&quot;],description:&quot;Calculate the norm of a number, vector or matrix.&quot;,examples:[&quot;norm([[1, 2], [3, 4]])&quot;,&quot;norm([[1, 2, 3, 4]], 3.5)&quot;,&quot;norm(-4.2)&quot;,&quot;norm([[1, 2], [-3, -4]], 'fro')&quot;]}},function(e){e.exports={name:&quot;pow&quot;,category:&quot;Operators&quot;,syntax:[&quot;x ^ y&quot;,&quot;pow(x, y)&quot;],description:&quot;Calculates the power of x to y, x^y.&quot;,examples:[&quot;2^3 = 8&quot;,&quot;2*2*2&quot;,&quot;1 + e ^ (pi * i)&quot;],seealso:[&quot;unequal&quot;,&quot;smaller&quot;,&quot;larger&quot;,&quot;smallereq&quot;,&quot;largereq&quot;]}},function(e){e.exports={name:&quot;round&quot;,category:&quot;Arithmetic&quot;,syntax:[&quot;round(x)&quot;,&quot;round(x, n)&quot;],description:&quot;round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.&quot;,examples:[&quot;round(3.2)&quot;,&quot;round(3.8)&quot;,&quot;round(-4.2)&quot;,&quot;round(-4.8)&quot;,&quot;round(pi, 3)&quot;,&quot;round(123.45678, 2)&quot;],seealso:[&quot;ceil&quot;,&quot;floor&quot;,&quot;fix&quot;]}},function(e){e.exports={name:&quot;sign&quot;,category:&quot;Arithmetic&quot;,syntax:[&quot;sign(x)&quot;],description:&quot;Compute the sign of a value. The sign of a value x is 1 when x&gt;1, -1 when x&lt;0, and 0 when x=0.&quot;,examples:[&quot;sign(3.5)&quot;,&quot;sign(-4.2)&quot;,&quot;sign(0)&quot;],seealso:[&quot;abs&quot;]}},function(e){e.exports={name:&quot;smaller&quot;,category:&quot;Operators&quot;,syntax:[&quot;x &lt; y&quot;,&quot;smaller(x, y)&quot;],description:&quot;Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not.&quot;,examples:[&quot;2 &lt; 3&quot;,&quot;5 &lt; 2*2&quot;,&quot;a = 3.3&quot;,&quot;b = 6-2.8&quot;,&quot;(a &lt; b)&quot;,&quot;5 cm &lt; 2 inch&quot;],seealso:[&quot;equal&quot;,&quot;unequal&quot;,&quot;larger&quot;,&quot;smallereq&quot;,&quot;largereq&quot;,&quot;compare&quot;]}},function(e){e.exports={name:&quot;smallereq&quot;,category:&quot;Operators&quot;,syntax:[&quot;x &lt;= y&quot;,&quot;smallereq(x, y)&quot;],description:&quot;Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.&quot;,examples:[&quot;2 &lt; 1+1&quot;,&quot;2 &lt;= 1+1&quot;,&quot;a = 3.2&quot;,&quot;b = 6-2.8&quot;,&quot;(a &lt; b)&quot;],seealso:[&quot;equal&quot;,&quot;unequal&quot;,&quot;larger&quot;,&quot;smaller&quot;,&quot;largereq&quot;,&quot;compare&quot;]}},function(e){e.exports={name:&quot;sqrt&quot;,category:&quot;Arithmetic&quot;,syntax:[&quot;sqrt(x)&quot;],description:&quot;Compute the square root value. If x = y * y, then y is the square root of x.&quot;,examples:[&quot;sqrt(25)&quot;,&quot;5 * 5&quot;,&quot;sqrt(-1)&quot;],seealso:[&quot;square&quot;,&quot;multiply&quot;]}},function(e){e.exports={name:&quot;square&quot;,category:&quot;Arithmetic&quot;,syntax:[&quot;square(x)&quot;],description:&quot;Compute the square of a value. The square of x is x * x.&quot;,examples:[&quot;square(3)&quot;,&quot;sqrt(9)&quot;,&quot;3^2&quot;,&quot;3 * 3&quot;],seealso:[&quot;multiply&quot;,&quot;pow&quot;,&quot;sqrt&quot;,&quot;cube&quot;]}},function(e){e.exports={name:&quot;subtract&quot;,category:&quot;Operators&quot;,syntax:[&quot;x - y&quot;,&quot;subtract(x, y)&quot;],description:&quot;subtract two values.&quot;,examples:[&quot;5.3 - 2&quot;,&quot;ans + 2&quot;,&quot;2/3 - 1/6&quot;,&quot;2 * 3 - 3&quot;,&quot;2.1 km - 500m&quot;],seealso:[&quot;add&quot;]}},function(e){e.exports={name:&quot;unary&quot;,category:&quot;Operators&quot;,syntax:[&quot;-x&quot;,&quot;unary(x)&quot;],description:&quot;Inverse the sign of a value.&quot;,examples:[&quot;-4.5&quot;,&quot;-(-5.6)&quot;],seealso:[&quot;add&quot;,&quot;subtract&quot;]}},function(e){e.exports={name:&quot;unequal&quot;,category:&quot;Operators&quot;,syntax:[&quot;x != y&quot;,&quot;unequal(x, y)&quot;],description:&quot;Check unequality of two values. Returns true if the values are unequal, and false if they are equal.&quot;,examples:[&quot;2+2 != 3&quot;,&quot;2+2 != 4&quot;,&quot;a = 3.2&quot;,&quot;b = 6-2.8&quot;,&quot;a != b&quot;,&quot;50cm != 0.5m&quot;,&quot;5 cm != 2 inch&quot;],seealso:[&quot;equal&quot;,&quot;smaller&quot;,&quot;larger&quot;,&quot;smallereq&quot;,&quot;largereq&quot;,&quot;compare&quot;]}},function(e){e.exports={name:&quot;xgcd&quot;,category:&quot;Arithmetic&quot;,syntax:[&quot;xgcd(a, b)&quot;],description:&quot;Calculate the extended greatest common divisor for two values&quot;,examples:[&quot;xgcd(8, 12)&quot;,&quot;gcd(8, 12)&quot;,&quot;xgcd(36163, 21199)&quot;],seealso:[&quot;gcd&quot;,&quot;lcm&quot;]}},function(e){e.exports={name:&quot;arg&quot;,category:&quot;Complex&quot;,syntax:[&quot;arg(x)&quot;],description:&quot;Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).&quot;,examples:[&quot;arg(2 + 2i)&quot;,&quot;atan2(3, 2)&quot;,&quot;arg(2 - 3i)&quot;],seealso:[&quot;re&quot;,&quot;im&quot;,&quot;conj&quot;,&quot;abs&quot;]}},function(e){e.exports={name:&quot;conj&quot;,category:&quot;Complex&quot;,syntax:[&quot;conj(x)&quot;],description:&quot;Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.&quot;,examples:[&quot;conj(2 + 3i)&quot;,&quot;conj(2 - 3i)&quot;,&quot;conj(-5.2i)&quot;],seealso:[&quot;re&quot;,&quot;im&quot;,&quot;abs&quot;,&quot;arg&quot;]}},function(e){e.exports={name:&quot;re&quot;,category:&quot;Complex&quot;,syntax:[&quot;re(x)&quot;],description:&quot;Get the real part of a complex number.&quot;,examples:[&quot;re(2 + 3i)&quot;,&quot;im(2 + 3i)&quot;,&quot;re(-5.2i)&quot;,&quot;re(2.4)&quot;],seealso:[&quot;im&quot;,&quot;conj&quot;,&quot;abs&quot;,&quot;arg&quot;]}},function(e){e.exports={name:&quot;im&quot;,category:&quot;Complex&quot;,syntax:[&quot;im(x)&quot;],description:&quot;Get the imaginary part of a complex number.&quot;,examples:[&quot;im(2 + 3i)&quot;,&quot;re(2 + 3i)&quot;,&quot;im(-5.2i)&quot;,&quot;im(2.4)&quot;],seealso:[&quot;re&quot;,&quot;conj&quot;,&quot;abs&quot;,&quot;arg&quot;]}},function(e){e.exports={name:&quot;bignumber&quot;,category:&quot;Type&quot;,syntax:[&quot;bignumber(x)&quot;],description:&quot;Create a big number from a number or string.&quot;,examples:[&quot;0.1 + 0.2&quot;,&quot;bignumber(0.1) + bignumber(0.2)&quot;,'bignumber(&quot;7.2&quot;)','bignumber(&quot;7.2e500&quot;)',&quot;bignumber([0.1, 0.2, 0.3])&quot;],seealso:[&quot;boolean&quot;,&quot;complex&quot;,&quot;index&quot;,&quot;matrix&quot;,&quot;string&quot;,&quot;unit&quot;]}},function(e){e.exports={name:&quot;boolean&quot;,category:&quot;Type&quot;,syntax:[&quot;x&quot;,&quot;boolean(x)&quot;],description:&quot;Convert a string or number into a boolean.&quot;,examples:[&quot;boolean(0)&quot;,&quot;boolean(1)&quot;,&quot;boolean(3)&quot;,'boolean(&quot;true&quot;)','boolean(&quot;false&quot;)',&quot;boolean([1, 0, 1, 1])&quot;],seealso:[&quot;bignumber&quot;,&quot;complex&quot;,&quot;index&quot;,&quot;matrix&quot;,&quot;number&quot;,&quot;string&quot;,&quot;unit&quot;]}},function(e){e.exports={name:&quot;complex&quot;,category:&quot;Type&quot;,syntax:[&quot;complex()&quot;,&quot;complex(re, im)&quot;,&quot;complex(string)&quot;],description:&quot;Create a complex number.&quot;,examples:[&quot;complex()&quot;,&quot;complex(2, 3)&quot;,'complex(&quot;7 - 2i&quot;)'],seealso:[&quot;bignumber&quot;,&quot;boolean&quot;,&quot;index&quot;,&quot;matrix&quot;,&quot;number&quot;,&quot;string&quot;,&quot;unit&quot;]}},function(e){e.exports={name:&quot;index&quot;,category:&quot;Type&quot;,syntax:[&quot;[start]&quot;,&quot;[start:end]&quot;,&quot;[start:step:end]&quot;,&quot;[start1, start 2, ...]&quot;,&quot;[start1:end1, start2:end2, ...]&quot;,&quot;[start1:step1:end1, start2:step2:end2, ...]&quot;],description:&quot;Create an index to get or replace a subset of a matrix&quot;,examples:[&quot;[]&quot;,&quot;[1, 2, 3]&quot;,&quot;A = [1, 2, 3; 4, 5, 6]&quot;,&quot;A[1, :]&quot;,&quot;A[1, 2] = 50&quot;,&quot;A[0:2, 0:2] = ones(2, 2)&quot;],seealso:[&quot;bignumber&quot;,&quot;boolean&quot;,&quot;complex&quot;,&quot;matrix,&quot;,&quot;number&quot;,&quot;range&quot;,&quot;string&quot;,&quot;unit&quot;]}},function(e){e.exports={name:&quot;matrix&quot;,category:&quot;Type&quot;,syntax:[&quot;[]&quot;,&quot;[a1, b1, ...; a2, b2, ...]&quot;,&quot;matrix()&quot;,&quot;matrix([...])&quot;],description:&quot;Create a matrix.&quot;,examples:[&quot;[]&quot;,&quot;[1, 2, 3]&quot;,&quot;[1, 2, 3; 4, 5, 6]&quot;,&quot;matrix()&quot;,&quot;matrix([3, 4])&quot;],seealso:[&quot;bignumber&quot;,&quot;boolean&quot;,&quot;complex&quot;,&quot;index&quot;,&quot;number&quot;,&quot;string&quot;,&quot;unit&quot;]}},function(e){e.exports={name:&quot;number&quot;,category:&quot;Type&quot;,syntax:[&quot;x&quot;,&quot;number(x)&quot;],description:&quot;Create a number or convert a string or boolean into a number.&quot;,examples:[&quot;2&quot;,&quot;2e3&quot;,&quot;4.05&quot;,&quot;number(2)&quot;,'number(&quot;7.2&quot;)',&quot;number(true)&quot;,&quot;number([true, false, true, true])&quot;],seealso:[&quot;bignumber&quot;,&quot;boolean&quot;,&quot;complex&quot;,&quot;index&quot;,&quot;matrix&quot;,&quot;string&quot;,&quot;unit&quot;]}},function(e){e.exports={name:&quot;string&quot;,category:&quot;Type&quot;,syntax:['&quot;text&quot;',&quot;string(x)&quot;],description:&quot;Create a string or convert a value to a string&quot;,examples:['&quot;Hello World!&quot;',&quot;string(4.2)&quot;,&quot;string(3 + 2i)&quot;],seealso:[&quot;bignumber&quot;,&quot;boolean&quot;,&quot;complex&quot;,&quot;index&quot;,&quot;matrix&quot;,&quot;number&quot;,&quot;unit&quot;]}},function(e){e.exports={name:&quot;unit&quot;,category:&quot;Type&quot;,syntax:[&quot;value unit&quot;,&quot;unit(value, unit)&quot;,&quot;unit(string)&quot;],description:&quot;Create a unit.&quot;,examples:[&quot;5.5 mm&quot;,&quot;3 inch&quot;,'unit(7.1, &quot;kilogram&quot;)','unit(&quot;23 deg&quot;)'],seealso:[&quot;bignumber&quot;,&quot;boolean&quot;,&quot;complex&quot;,&quot;index&quot;,&quot;matrix&quot;,&quot;number&quot;,&quot;string&quot;]}},function(e){e.exports={name:&quot;eval&quot;,category:&quot;Expression&quot;,syntax:[&quot;eval(expression)&quot;,&quot;eval([expr1, expr2, expr3, ...])&quot;],description:&quot;Evaluate an expression or an array with expressions.&quot;,examples:['eval(&quot;2 + 3&quot;)','eval(&quot;sqrt(&quot; + 4 + &quot;)&quot;)'],seealso:[]}},function(e){e.exports={name:&quot;help&quot;,category:&quot;Expression&quot;,syntax:[&quot;help(object)&quot;,&quot;help(string)&quot;],description:&quot;Display documentation on a function or data type.&quot;,examples:[&quot;help(sqrt)&quot;,'help(&quot;complex&quot;)'],seealso:[]}},function(e){e.exports={name:&quot;concat&quot;,category:&quot;Matrix&quot;,syntax:[&quot;concat(a, b, c, ...)&quot;,&quot;concat(a, b, c, ..., dim)&quot;],description:&quot;Concatenate matrices. By default, the matrices are concatenated by the first dimension. The dimension on which to concatenate can be provided as last argument.&quot;,examples:[&quot;a = [1, 2; 5, 6]&quot;,&quot;b = [3, 4; 7, 8]&quot;,&quot;concat(a, b)&quot;,&quot;[a, b]&quot;,&quot;concat(a, b, 2)&quot;,&quot;[a; b]&quot;],seealso:[&quot;det&quot;,&quot;diag&quot;,&quot;eye&quot;,&quot;inv&quot;,&quot;ones&quot;,&quot;range&quot;,&quot;size&quot;,&quot;squeeze&quot;,&quot;subset&quot;,&quot;transpose&quot;,&quot;zeros&quot;]}},function(e){e.exports={name:&quot;det&quot;,category:&quot;Matrix&quot;,syntax:[&quot;det(x)&quot;],description:&quot;Calculate the determinant of a matrix&quot;,examples:[&quot;det([1, 2; 3, 4])&quot;,&quot;det([-2, 2, 3; -1, 1, 3; 2, 0, -1])&quot;],seealso:[&quot;concat&quot;,&quot;diag&quot;,&quot;eye&quot;,&quot;inv&quot;,&quot;ones&quot;,&quot;range&quot;,&quot;size&quot;,&quot;squeeze&quot;,&quot;subset&quot;,&quot;transpose&quot;,&quot;zeros&quot;]}},function(e){e.exports={name:&quot;diag&quot;,category:&quot;Matrix&quot;,syntax:[&quot;diag(x)&quot;,&quot;diag(x, k)&quot;],description:&quot;Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned.When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.&quot;,examples:[&quot;diag(1:3)&quot;,&quot;diag(1:3, 1)&quot;,&quot;a = [1, 2, 3; 4, 5, 6; 7, 8, 9]&quot;,&quot;diag(a)&quot;],seealso:[&quot;concat&quot;,&quot;det&quot;,&quot;eye&quot;,&quot;inv&quot;,&quot;ones&quot;,&quot;range&quot;,&quot;size&quot;,&quot;squeeze&quot;,&quot;subset&quot;,&quot;transpose&quot;,&quot;zeros&quot;]}},function(e){e.exports={name:&quot;eye&quot;,category:&quot;Matrix&quot;,syntax:[&quot;eye(n)&quot;,&quot;eye(m, n)&quot;,&quot;eye([m, n])&quot;,&quot;eye&quot;],description:&quot;Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.&quot;,examples:[&quot;eye(3)&quot;,&quot;eye(3, 5)&quot;,&quot;a = [1, 2, 3; 4, 5, 6]&quot;,&quot;eye(size(a))&quot;],seealso:[&quot;concat&quot;,&quot;det&quot;,&quot;diag&quot;,&quot;inv&quot;,&quot;ones&quot;,&quot;range&quot;,&quot;size&quot;,&quot;squeeze&quot;,&quot;subset&quot;,&quot;transpose&quot;,&quot;zeros&quot;]}},function(e){e.exports={name:&quot;inv&quot;,category:&quot;Matrix&quot;,syntax:[&quot;inv(x)&quot;],description:&quot;Calculate the inverse of a matrix&quot;,examples:[&quot;inv([1, 2; 3, 4])&quot;,&quot;inv(4)&quot;,&quot;1 / 4&quot;],seealso:[&quot;concat&quot;,&quot;det&quot;,&quot;diag&quot;,&quot;eye&quot;,&quot;ones&quot;,&quot;range&quot;,&quot;size&quot;,&quot;squeeze&quot;,&quot;subset&quot;,&quot;transpose&quot;,&quot;zeros&quot;]}},function(e){e.exports={name:&quot;ones&quot;,category:&quot;Matrix&quot;,syntax:[&quot;ones(m)&quot;,&quot;ones(m, n)&quot;,&quot;ones(m, n, p, ...)&quot;,&quot;ones([m])&quot;,&quot;ones([m, n])&quot;,&quot;ones([m, n, p, ...])&quot;,&quot;ones&quot;],description:&quot;Create a matrix containing ones.&quot;,examples:[&quot;ones(3)&quot;,&quot;ones(3, 5)&quot;,&quot;ones([2,3]) * 4.5&quot;,&quot;a = [1, 2, 3; 4, 5, 6]&quot;,&quot;ones(size(a))&quot;],seealso:[&quot;concat&quot;,&quot;det&quot;,&quot;diag&quot;,&quot;eye&quot;,&quot;inv&quot;,&quot;range&quot;,&quot;size&quot;,&quot;squeeze&quot;,&quot;subset&quot;,&quot;transpose&quot;,&quot;zeros&quot;]}},function(e){e.exports={name:&quot;range&quot;,category:&quot;Type&quot;,syntax:[&quot;start:end&quot;,&quot;start:step:end&quot;,&quot;range(start, end)&quot;,&quot;range(start, end, step)&quot;,&quot;range(string)&quot;],description:&quot;Create a range. Lower bound of the range is included, upper bound is excluded.&quot;,examples:[&quot;1:5&quot;,&quot;3:-1:-3&quot;,&quot;range(3, 7)&quot;,&quot;range(0, 12, 2)&quot;,'range(&quot;4:10&quot;)',&quot;a = [1, 2, 3, 4; 5, 6, 7, 8]&quot;,&quot;a[1:2, 1:2]&quot;],seealso:[&quot;concat&quot;,&quot;det&quot;,&quot;diag&quot;,&quot;eye&quot;,&quot;inv&quot;,&quot;ones&quot;,&quot;size&quot;,&quot;squeeze&quot;,&quot;subset&quot;,&quot;transpose&quot;,&quot;zeros&quot;]}},function(e){e.exports={name:&quot;resize&quot;,category:&quot;Matrix&quot;,syntax:[&quot;resize(x, size)&quot;,&quot;resize(x, size, defaultValue)&quot;],description:&quot;Resize a matrix.&quot;,examples:[&quot;resize([1,2,3,4,5], [3])&quot;,&quot;resize([1,2,3], [5], 0)&quot;,&quot;resize(2, [2, 3], 0)&quot;,'resize(&quot;hello&quot;, [8], &quot;!&quot;)'],seealso:[&quot;size&quot;,&quot;subset&quot;,&quot;squeeze&quot;]}},function(e){e.exports={name:&quot;size&quot;,category:&quot;Matrix&quot;,syntax:[&quot;size(x)&quot;],description:&quot;Calculate the size of a matrix.&quot;,examples:[&quot;size(2.3)&quot;,'size(&quot;hello world&quot;)',&quot;a = [1, 2; 3, 4; 5, 6]&quot;,&quot;size(a)&quot;,&quot;size(1:6)&quot;],seealso:[&quot;concat&quot;,&quot;det&quot;,&quot;diag&quot;,&quot;eye&quot;,&quot;inv&quot;,&quot;ones&quot;,&quot;range&quot;,&quot;squeeze&quot;,&quot;subset&quot;,&quot;transpose&quot;,&quot;zeros&quot;]}},function(e){e.exports={name:&quot;squeeze&quot;,category:&quot;Matrix&quot;,syntax:[&quot;squeeze(x)&quot;],description:&quot;Remove singleton dimensions from a matrix.&quot;,examples:[&quot;a = zeros(1,3,2)&quot;,&quot;size(squeeze(a))&quot;,&quot;b = zeros(3,1,1)&quot;,&quot;size(squeeze(b))&quot;],seealso:[&quot;concat&quot;,&quot;det&quot;,&quot;diag&quot;,&quot;eye&quot;,&quot;inv&quot;,&quot;ones&quot;,&quot;range&quot;,&quot;size&quot;,&quot;subset&quot;,&quot;transpose&quot;,&quot;zeros&quot;]}},function(e){e.exports={name:&quot;subset&quot;,category:&quot;Matrix&quot;,syntax:[&quot;value(index)&quot;,&quot;value(index) = replacement&quot;,&quot;subset(value, [index])&quot;,&quot;subset(value, [index], replacement)&quot;],description:&quot;Get or set a subset of a matrix or string. Indexes are one-based. Both the ranges lower-bound and upper-bound are included.&quot;,examples:[&quot;d = [1, 2; 3, 4]&quot;,&quot;e = []&quot;,&quot;e[1, 1:2] = [5, 6]&quot;,&quot;e[2, :] = [7, 8]&quot;,&quot;f = d * e&quot;,&quot;f[2, 1]&quot;,&quot;f[:, 1]&quot;],seealso:[&quot;concat&quot;,&quot;det&quot;,&quot;diag&quot;,&quot;eye&quot;,&quot;inv&quot;,&quot;ones&quot;,&quot;range&quot;,&quot;size&quot;,&quot;squeeze&quot;,&quot;transpose&quot;,&quot;zeros&quot;]}},function(e){e.exports={name:&quot;transpose&quot;,category:&quot;Matrix&quot;,syntax:[&quot;x'&quot;,&quot;transpose(x)&quot;],description:&quot;Transpose a matrix&quot;,examples:[&quot;a = [1, 2, 3; 4, 5, 6]&quot;,&quot;a'&quot;,&quot;transpose(a)&quot;],seealso:[&quot;concat&quot;,&quot;det&quot;,&quot;diag&quot;,&quot;eye&quot;,&quot;inv&quot;,&quot;ones&quot;,&quot;range&quot;,&quot;size&quot;,&quot;squeeze&quot;,&quot;subset&quot;,&quot;zeros&quot;]}},function(e){e.exports={name:&quot;zeros&quot;,category:&quot;Matrix&quot;,syntax:[&quot;zeros(m)&quot;,&quot;zeros(m, n)&quot;,&quot;zeros(m, n, p, ...)&quot;,&quot;zeros([m])&quot;,&quot;zeros([m, n])&quot;,&quot;zeros([m, n, p, ...])&quot;,&quot;zeros&quot;],description:&quot;Create a matrix containing zeros.&quot;,examples:[&quot;zeros(3)&quot;,&quot;zeros(3, 5)&quot;,&quot;a = [1, 2, 3; 4, 5, 6]&quot;,&quot;zeros(size(a))&quot;],seealso:[&quot;concat&quot;,&quot;det&quot;,&quot;diag&quot;,&quot;eye&quot;,&quot;inv&quot;,&quot;ones&quot;,&quot;range&quot;,&quot;size&quot;,&quot;squeeze&quot;,&quot;subset&quot;,&quot;transpose&quot;]}},function(e){e.exports={name:&quot;combinations&quot;,category:&quot;Probability&quot;,syntax:[&quot;combinations(n, k)&quot;],description:&quot;Compute the number of combinations of n items taken k at a time&quot;,examples:[&quot;combinations(7, 5)&quot;],seealso:[&quot;permutations&quot;,&quot;factorial&quot;]}},function(e){e.exports={name:&quot;distribution&quot;,category:&quot;Probability&quot;,syntax:[&quot;distribution(name)&quot;,&quot;distribution(name, arg1, arg2, ...)&quot;],description:'Create a distribution object of a specific type. A distribution object contains functions `random([size,] [min,] [max])`, `randomInt([size,] [min,] [max])`, and `pickRandom(array)`. Available types of distributions: &quot;uniform&quot;, &quot;normal&quot;. Note that the function distribution is currently not available via the expression parser.',examples:[],seealso:[&quot;random&quot;,&quot;randomInt&quot;]}},function(e){e.exports={name:&quot;factorial&quot;,category:&quot;Probability&quot;,syntax:[&quot;n!&quot;,&quot;factorial(n)&quot;],description:&quot;Compute the factorial of a value&quot;,examples:[&quot;5!&quot;,&quot;5*4*3*2*1&quot;,&quot;3!&quot;],seealso:[]}},function(e){e.exports={name:&quot;permutations&quot;,category:&quot;Probability&quot;,syntax:[&quot;permutations(n)&quot;,&quot;permutations(n, k)&quot;],description:&quot;Compute the number of permutations of n items taken k at a time&quot;,examples:[&quot;permutations(5)&quot;,&quot;permutations(5, 4)&quot;],seealso:[&quot;combinations&quot;,&quot;factorial&quot;]}},function(e){e.exports={name:&quot;pickRandom&quot;,category:&quot;Probability&quot;,syntax:[&quot;pickRandom(array)&quot;],description:&quot;Pick a random entry from a given array.&quot;,examples:[&quot;pickRandom(0:10)&quot;,&quot;pickRandom([1, 3, 1, 6])&quot;],seealso:[&quot;distribution&quot;,&quot;random&quot;,&quot;randomInt&quot;]}},function(e){e.exports={name:&quot;random&quot;,category:&quot;Probability&quot;,syntax:[&quot;random()&quot;,&quot;random(max)&quot;,&quot;random(min, max)&quot;,&quot;random(size)&quot;,&quot;random(size, max)&quot;,&quot;random(size, min, max)&quot;],description:&quot;Return a random number.&quot;,examples:[&quot;random()&quot;,&quot;random(10, 20)&quot;,&quot;random([2, 3])&quot;],seealso:[&quot;distribution&quot;,&quot;pickRandom&quot;,&quot;randomInt&quot;]}},function(e){e.exports={name:&quot;randInt&quot;,category:&quot;Probability&quot;,syntax:[&quot;randInt()&quot;,&quot;randInt(max)&quot;,&quot;randInt(min, max)&quot;,&quot;randInt(size)&quot;,&quot;randInt(size, max)&quot;,&quot;randInt(size, min, max)&quot;],description:&quot;Return a random integer number&quot;,examples:[&quot;randInt()&quot;,&quot;randInt(10, 20)&quot;,&quot;randInt([2, 3], 10)&quot;],seealso:[&quot;distribution&quot;,&quot;pickRandom&quot;,&quot;random&quot;]}},function(e){e.exports={name:&quot;max&quot;,category:&quot;Statistics&quot;,syntax:[&quot;max(a, b, c, ...)&quot;,&quot;max(A)&quot;,&quot;max(A, dim)&quot;],description:&quot;Compute the maximum value of a list of values.&quot;,examples:[&quot;max(2, 3, 4, 1)&quot;,&quot;max([2, 3, 4, 1])&quot;,&quot;max([2, 5; 4, 3], 0)&quot;,&quot;max([2, 5; 4, 3], 1)&quot;,&quot;max(2.7, 7.1, -4.5, 2.0, 4.1)&quot;,&quot;min(2.7, 7.1, -4.5, 2.0, 4.1)&quot;],seealso:[&quot;mean&quot;,&quot;median&quot;,&quot;min&quot;,&quot;prod&quot;,&quot;std&quot;,&quot;sum&quot;,&quot;var&quot;]}},function(e){e.exports={name:&quot;mean&quot;,category:&quot;Statistics&quot;,syntax:[&quot;mean(a, b, c, ...)&quot;,&quot;mean(A)&quot;,&quot;mean(A, dim)&quot;],description:&quot;Compute the arithmetic mean of a list of values.&quot;,examples:[&quot;mean(2, 3, 4, 1)&quot;,&quot;mean([2, 3, 4, 1])&quot;,&quot;mean([2, 5; 4, 3], 0)&quot;,&quot;mean([2, 5; 4, 3], 1)&quot;,&quot;mean([1.0, 2.7, 3.2, 4.0])&quot;],seealso:[&quot;max&quot;,&quot;median&quot;,&quot;min&quot;,&quot;prod&quot;,&quot;std&quot;,&quot;sum&quot;,&quot;var&quot;]}},function(e){e.exports={name:&quot;median&quot;,category:&quot;Statistics&quot;,syntax:[&quot;median(a, b, c, ...)&quot;,&quot;median(A)&quot;],description:&quot;Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.&quot;,examples:[&quot;median(4, 2, 7)&quot;,&quot;median([3, -1, 5, 7])&quot;],seealso:[&quot;max&quot;,&quot;mean&quot;,&quot;min&quot;,&quot;prod&quot;,&quot;std&quot;,&quot;sum&quot;,&quot;var&quot;]}},function(e){e.exports={name:&quot;min&quot;,category:&quot;Statistics&quot;,syntax:[&quot;min(a, b, c, ...)&quot;,&quot;min(A)&quot;,&quot;min(A, dim)&quot;],description:&quot;Compute the minimum value of a list of values.&quot;,examples:[&quot;min(2, 3, 4, 1)&quot;,&quot;min([2, 3, 4, 1])&quot;,&quot;min([2, 5; 4, 3], 0)&quot;,&quot;min([2, 5; 4, 3], 1)&quot;,&quot;min(2.7, 7.1, -4.5, 2.0, 4.1)&quot;,&quot;max(2.7, 7.1, -4.5, 2.0, 4.1)&quot;],seealso:[&quot;max&quot;,&quot;mean&quot;,&quot;median&quot;,&quot;prod&quot;,&quot;std&quot;,&quot;sum&quot;,&quot;var&quot;]}},function(e){e.exports={name:&quot;prod&quot;,category:&quot;Statistics&quot;,syntax:[&quot;prod(a, b, c, ...)&quot;,&quot;prod(A)&quot;],description:&quot;Compute the product of all values.&quot;,examples:[&quot;prod(2, 3, 4)&quot;,&quot;prod([2, 3, 4])&quot;,&quot;prod([2, 5; 4, 3])&quot;],seealso:[&quot;max&quot;,&quot;mean&quot;,&quot;min&quot;,&quot;median&quot;,&quot;min&quot;,&quot;std&quot;,&quot;sum&quot;,&quot;var&quot;]}},function(e){e.exports={name:&quot;std&quot;,category:&quot;Statistics&quot;,syntax:[&quot;std(a, b, c, ...)&quot;,&quot;std(A)&quot;,&quot;std(A, normalization)&quot;],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(var(A)). Optional parameter normalization can be &quot;unbiased&quot; (default), &quot;uncorrected&quot;, or &quot;biased&quot;.',examples:[&quot;std(2, 4, 6)&quot;,&quot;std([2, 4, 6, 8])&quot;,'std([2, 4, 6, 8], &quot;uncorrected&quot;)','std([2, 4, 6, 8], &quot;biased&quot;)',&quot;std([1, 2, 3; 4, 5, 6])&quot;],seealso:[&quot;max&quot;,&quot;mean&quot;,&quot;min&quot;,&quot;median&quot;,&quot;min&quot;,&quot;prod&quot;,&quot;sum&quot;,&quot;var&quot;]}},function(e){e.exports={name:&quot;sum&quot;,category:&quot;Statistics&quot;,syntax:[&quot;sum(a, b, c, ...)&quot;,&quot;sum(A)&quot;],description:&quot;Compute the sum of all values.&quot;,examples:[&quot;sum(2, 3, 4, 1)&quot;,&quot;sum([2, 3, 4, 1])&quot;,&quot;sum([2, 5; 4, 3])&quot;],seealso:[&quot;max&quot;,&quot;mean&quot;,&quot;median&quot;,&quot;min&quot;,&quot;prod&quot;,&quot;std&quot;,&quot;sum&quot;,&quot;var&quot;]}},function(e){e.exports={name:&quot;var&quot;,category:&quot;Statistics&quot;,syntax:[&quot;var(a, b, c, ...)&quot;,&quot;var(A)&quot;,&quot;var(A, normalization)&quot;],description:'Compute the variance of all values. Optional parameter normalization can be &quot;unbiased&quot; (default), &quot;uncorrected&quot;, or &quot;biased&quot;.',examples:[&quot;var(2, 4, 6)&quot;,&quot;var([2, 4, 6, 8])&quot;,'var([2, 4, 6, 8], &quot;uncorrected&quot;)','var([2, 4, 6, 8], &quot;biased&quot;)',&quot;var([1, 2, 3; 4, 5, 6])&quot;],seealso:[&quot;max&quot;,&quot;mean&quot;,&quot;min&quot;,&quot;median&quot;,&quot;min&quot;,&quot;prod&quot;,&quot;std&quot;,&quot;sum&quot;]}},function(e){e.exports={name:&quot;acos&quot;,category:&quot;Trigonometry&quot;,syntax:[&quot;acos(x)&quot;],description:&quot;Compute the inverse cosine of a value in radians.&quot;,examples:[&quot;acos(0.5)&quot;,&quot;acos(cos(2.3))&quot;],seealso:[&quot;cos&quot;,&quot;acos&quot;,&quot;asin&quot;]}},function(e){e.exports={name:&quot;asin&quot;,category:&quot;Trigonometry&quot;,syntax:[&quot;asin(x)&quot;],description:&quot;Compute the inverse sine of a value in radians.&quot;,examples:[&quot;asin(0.5)&quot;,&quot;asin(sin(2.3))&quot;],seealso:[&quot;sin&quot;,&quot;acos&quot;,&quot;asin&quot;]}},function(e){e.exports={name:&quot;atan&quot;,category:&quot;Trigonometry&quot;,syntax:[&quot;atan(x)&quot;],description:&quot;Compute the inverse tangent of a value in radians.&quot;,examples:[&quot;atan(0.5)&quot;,&quot;atan(tan(2.3))&quot;],seealso:[&quot;tan&quot;,&quot;acos&quot;,&quot;asin&quot;]}},function(e){e.exports={name:&quot;atan2&quot;,category:&quot;Trigonometry&quot;,syntax:[&quot;atan2(y, x)&quot;],description:&quot;Computes the principal value of the arc tangent of y/x in radians.&quot;,examples:[&quot;atan2(2, 2) / pi&quot;,&quot;angle = 60 deg in rad&quot;,&quot;x = cos(angle)&quot;,&quot;y = sin(angle)&quot;,&quot;atan2(y, x)&quot;],seealso:[&quot;sin&quot;,&quot;cos&quot;,&quot;tan&quot;]}},function(e){e.exports={name:&quot;cos&quot;,category:&quot;Trigonometry&quot;,syntax:[&quot;cos(x)&quot;],description:&quot;Compute the cosine of x in radians.&quot;,examples:[&quot;cos(2)&quot;,&quot;cos(pi / 4) ^ 2&quot;,&quot;cos(180 deg)&quot;,&quot;cos(60 deg)&quot;,&quot;sin(0.2)^2 + cos(0.2)^2&quot;],seealso:[&quot;acos&quot;,&quot;sin&quot;,&quot;tan&quot;]}},function(e){e.exports={name:&quot;cosh&quot;,category:&quot;Trigonometry&quot;,syntax:[&quot;cosh(x)&quot;],description:&quot;Compute the hyperbolic cosine of x in radians.&quot;,examples:[&quot;cosh(2)&quot;,&quot;cosh(pi / 4) ^ 2&quot;,&quot;cosh(180 deg)&quot;,&quot;cosh(60 deg)&quot;,&quot;sinh(0.2)^2 + cosh(0.2)^2&quot;],seealso:[&quot;sinh&quot;,&quot;tanh&quot;,&quot;coth&quot;]}},function(e){e.exports={name:&quot;cot&quot;,category:&quot;Trigonometry&quot;,syntax:[&quot;cot(x)&quot;],description:&quot;Compute the cotangent of x in radians. Defined as 1/tan(x)&quot;,examples:[&quot;cot(2)&quot;,&quot;1 / tan(2)&quot;],seealso:[&quot;sec&quot;,&quot;csc&quot;,&quot;tan&quot;]}},function(e){e.exports={name:&quot;coth&quot;,category:&quot;Trigonometry&quot;,syntax:[&quot;coth(x)&quot;],description:&quot;Compute the hyperbolic cotangent of x in radians.&quot;,examples:[&quot;coth(2)&quot;],seealso:[&quot;sech&quot;,&quot;csch&quot;,&quot;tanh&quot;]}},function(e){e.exports={name:&quot;csc&quot;,category:&quot;Trigonometry&quot;,syntax:[&quot;csc(x)&quot;],description:&quot;Compute the cosecant of x in radians. Defined as 1/sin(x)&quot;,examples:[&quot;csc(2)&quot;,&quot;1 / sin(2)&quot;],seealso:[&quot;sec&quot;,&quot;cot&quot;,&quot;sin&quot;]}},function(e){e.exports={name:&quot;csch&quot;,category:&quot;Trigonometry&quot;,syntax:[&quot;csch(x)&quot;],description:&quot;Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)&quot;,examples:[&quot;csch(2)&quot;,&quot;1 / sinh(2)&quot;],seealso:[&quot;sech&quot;,&quot;coth&quot;,&quot;sinh&quot;]}},function(e){e.exports={name:&quot;sec&quot;,category:&quot;Trigonometry&quot;,syntax:[&quot;sec(x)&quot;],description:&quot;Compute the secant of x in radians. Defined as 1/cos(x)&quot;,examples:[&quot;sec(2)&quot;,&quot;1 / cos(2)&quot;],seealso:[&quot;cot&quot;,&quot;csc&quot;,&quot;cos&quot;]}},function(e){e.exports={name:&quot;sech&quot;,category:&quot;Trigonometry&quot;,syntax:[&quot;sech(x)&quot;],description:&quot;Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)&quot;,examples:[&quot;sech(2)&quot;,&quot;1 / cosh(2)&quot;],seealso:[&quot;coth&quot;,&quot;csch&quot;,&quot;cosh&quot;]}},function(e){e.exports={name:&quot;sin&quot;,category:&quot;Trigonometry&quot;,syntax:[&quot;sin(x)&quot;],description:&quot;Compute the sine of x in radians.&quot;,examples:[&quot;sin(2)&quot;,&quot;sin(pi / 4) ^ 2&quot;,&quot;sin(90 deg)&quot;,&quot;sin(30 deg)&quot;,&quot;sin(0.2)^2 + cos(0.2)^2&quot;],seealso:[&quot;asin&quot;,&quot;cos&quot;,&quot;tan&quot;]}},function(e){e.exports={name:&quot;sinh&quot;,category:&quot;Trigonometry&quot;,syntax:[&quot;sinh(x)&quot;],description:&quot;Compute the hyperbolic sine of x in radians.&quot;,examples:[&quot;sinh(2)&quot;,&quot;sinh(pi / 4) ^ 2&quot;,&quot;sinh(90 deg)&quot;,&quot;sinh(30 deg)&quot;,&quot;sinh(0.2)^2 + cosh(0.2)^2&quot;],seealso:[&quot;cosh&quot;,&quot;tanh&quot;]}},function(e){e.exports={name:&quot;tan&quot;,category:&quot;Trigonometry&quot;,syntax:[&quot;tan(x)&quot;],description:&quot;Compute the tangent of x in radians.&quot;,examples:[&quot;tan(0.5)&quot;,&quot;sin(0.5) / cos(0.5)&quot;,&quot;tan(pi / 4)&quot;,&quot;tan(45 deg)&quot;],seealso:[&quot;atan&quot;,&quot;sin&quot;,&quot;cos&quot;]}},function(e){e.exports={name:&quot;tanh&quot;,category:&quot;Trigonometry&quot;,syntax:[&quot;tanh(x)&quot;],description:&quot;Compute the hyperbolic tangent of x in radians.&quot;,examples:[&quot;tanh(0.5)&quot;,&quot;sinh(0.5) / cosh(0.5)&quot;,&quot;tanh(pi / 4)&quot;,&quot;tanh(45 deg)&quot;],seealso:[&quot;sinh&quot;,&quot;cosh&quot;]}},function(e){e.exports={name:&quot;to&quot;,category:&quot;Units&quot;,syntax:[&quot;x to unit&quot;,&quot;to(x, unit)&quot;],description:&quot;Change the unit of a value.&quot;,examples:[&quot;5 inch in cm&quot;,&quot;3.2kg in g&quot;,&quot;16 bytes in bits&quot;],seealso:[]}},function(e){e.exports={name:&quot;clone&quot;,category:&quot;Utils&quot;,syntax:[&quot;clone(x)&quot;],description:&quot;Clone a variable. Creates a copy of primitive variables,and a deep copy of matrices&quot;,examples:[&quot;clone(3.5)&quot;,&quot;clone(2 - 4i)&quot;,&quot;clone(45 deg)&quot;,&quot;clone([1, 2; 3, 4])&quot;,'clone(&quot;hello world&quot;)'],seealso:[]}},function(e){e.exports={name:&quot;map&quot;,category:&quot;Utils&quot;,syntax:[&quot;map(x, callback)&quot;],description:&quot;Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array.&quot;,examples:[&quot;map([1, 2, 3], function(val) { return math.max(val, 1.5) })&quot;],seealso:[]}},function(e){e.exports={name:&quot;forEach&quot;,category:&quot;Utils&quot;,syntax:[&quot;forEach(x, callback)&quot;],description:&quot;Iterates over all elements of a matrix/array, and executes the given callback.&quot;,examples:[&quot;forEach([1, 2, 3], function(val) { console.log(val) })&quot;],seealso:[]}},function(e){e.exports={name:&quot;format&quot;,category:&quot;Utils&quot;,syntax:[&quot;format(value)&quot;,&quot;format(value, precision)&quot;],description:&quot;Format a value of any type as string.&quot;,examples:[&quot;format(2.3)&quot;,&quot;format(3 - 4i)&quot;,&quot;format([])&quot;,&quot;format(pi, 3)&quot;],seealso:[&quot;print&quot;]}},function(e){e.exports={name:&quot;ifElse&quot;,category:&quot;Utils&quot;,syntax:[&quot;ifElse(conditional, trueExpr, falseExpr)&quot;],description:&quot;Executes a conditional expression.&quot;,examples:[&quot;ifElse(10 &gt; 0, 10, 0)&quot;,'ifElse(&quot;&quot;, true, false)',&quot;ifElse([4, 6, 0, -1], true, false)&quot;],seealso:[]}},function(e){e.exports={name:&quot;import&quot;,category:&quot;Utils&quot;,syntax:[&quot;import(string)&quot;],description:&quot;Import functions from a file.&quot;,examples:['import(&quot;numbers&quot;)','import(&quot;./mylib.js&quot;)'],seealso:[]}},function(e){e.exports={name:&quot;typeof&quot;,category:&quot;Utils&quot;,syntax:[&quot;typeof(x)&quot;],description:&quot;Get the type of a variable.&quot;,examples:[&quot;typeof(3.5)&quot;,&quot;typeof(2 - 4i)&quot;,&quot;typeof(45 deg)&quot;,'typeof(&quot;hello world&quot;)'],seealso:[]}},function(r){r.exports=e},function(e,r){r.isBoolean=function(e){return e instanceof Boolean||&quot;boolean&quot;==typeof e}},function(e,r,n){var t=n(118),i=n(154).isNumber;digits=n(154).digits,r.isBigNumber=function(e){return e instanceof t},r.format=function(e,n){if(&quot;function&quot;==typeof n)return n(e);if(!e.isFinite())return e.isNaN()?&quot;NaN&quot;:e.gt(0)?&quot;Infinity&quot;:&quot;-Infinity&quot;;var t=&quot;auto&quot;,o=void 0;switch(void 0!==n&amp;&amp;(n.notation&amp;&amp;(t=n.notation),i(n)?o=n:n.precision&amp;&amp;(o=n.precision)),t){case&quot;fixed&quot;:return r.toFixed(e,o);case&quot;exponential&quot;:return r.toExponential(e,o);case&quot;auto&quot;:var a=.001,s=1e5;n&amp;&amp;n.exponential&amp;&amp;(void 0!==n.exponential.lower&amp;&amp;(a=n.exponential.lower),void 0!==n.exponential.upper&amp;&amp;(s=n.exponential.upper));{({toExpNeg:e.constructor.toExpNeg,toExpPos:e.constructor.toExpPos})}if(e.constructor.config({toExpNeg:Math.round(Math.log(a)/Math.LN10),toExpPos:Math.round(Math.log(s)/Math.LN10)}),e.isZero())return&quot;0&quot;;var u,f=e.abs();return u=f.gte(a)&amp;&amp;f.lt(s)?e.toSignificantDigits(o).toFixed():r.toExponential(e,o),u.replace(/((\.\d*?)(0+))($|e)/,function(){var e=arguments[2],r=arguments[4];return&quot;.&quot;!==e?e+r:r});default:throw new Error('Unknown notation &quot;'+t+'&quot;. Choose &quot;auto&quot;, &quot;exponential&quot;, or &quot;fixed&quot;.')}},r.toExponential=function(e,r){return void 0!==r?e.toExponential(r-1):e.toExponential()},r.toFixed=function(e,r){return e.toFixed(r||0)}},function(e){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}}])});
//# sourceMappingURL=math.map
//}}}</pre>
</div>
<div title="mathematicsF" modifier="Christopher Wilson" created="201305280140" modified="201404101157" tags="Folder excludeTimeline" changecount="1" alias="" content-type="">
<pre>*&lt;html&gt;&lt;i class=&quot;fa  fa-chevron-right&quot; style=&quot;font-size:6pt;position:relative;bottom:1pt;right:1.5pt;&quot;&gt;&lt;/i&gt;&lt;/html&gt;&lt;&lt;slider chkSlideranalysisF analysisF 'Analysis' 'Analysis Notes'&gt;&gt;
*&lt;html&gt;&lt;i class=&quot;fa  fa-chevron-right&quot; style=&quot;font-size:6pt;position:relative;bottom:1pt;right:1.5pt;&quot;&gt;&lt;/i&gt;&lt;/html&gt;&lt;&lt;slider chkSlideranalysisF topologyF 'Topology' 'Topology Notes'&gt;&gt;</pre>
</div>
<div title="misc.bib" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404282353" modified="201404290027" tags="excludeTimeline Bibliograophy" changecount="4" content-type="text/x-tiddlywiki">
<pre>@article {Smuts2008,
author = {SMUTS, AARON},
title = {The Desire-Frustration Theory of Suspense},
journal = {The Journal of Aesthetics and Art Criticism},
volume = {66},
number = {3},
publisher = {Blackwell Publishing Inc},
issn = {1540-6245},
url = {http://dx.doi.org/10.1111/j.1540-6245.2008.00309.x},
doi = {10.1111/j.1540-6245.2008.00309.x},
pages = {281-290},
year = {2008},
local = {Misc Papers/WRT105/Smuts2008.pdf}
}

@article{Gerrig1989633,
title = {Suspense in the absence of uncertainty },
journal = {Journal of Memory and Language },
volume = {28},
number = {6},
pages = {633 - 648},
year = {1989},
note = {},
issn = {0749-596X},
doi = {http://dx.doi.org/10.1016/0749-596X(89)90001-6},
url = {http://www.sciencedirect.com/science/article/pii/0749596X89900016},
author = {Richard J Gerrig},
local = {Misc Papers/WRT105/Brewer1989.pdf}
}</pre>
</div>
<div title="n-Vector Model" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404142045" modified="201404150107" tags="KeepRevisions [[Critical Phenomena]]" changecount="42" content-type="text/x-tiddlywiki">
<pre>In the ''//n-vector model//'' or ''//O(n)//'' model, n-component unit length classical spins $s_i$ are placed on the vertices of a lattice.  The Hamiltonian of the n-vector model is given by $$H = -J\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}s_i\cdot s_j .$$
Special cases of the n-vector model are:
*$n=0;\;$ The Self Avoiding Walks (SAW).
*$n=1;\;$ The [[Ising Model]].  
*$n=2;\;$ The [[Classical XY Model]].
*$n=3;\;$ The [[Heisenberg Model]].  
*$n=4;\;$ The Toy model for the Higgs sector of the Standard Model.

!!Table of Models&lt;&lt;bibtex stanley1971introduction&gt;&gt;
|sortable3|k
|! |! |! |! |h
|sortable2|k
| !n | !Hamiltonian | !Name | !System |h
| $1$ | $$ -\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}J_{ij}\,s_{ix}s_{jx}$$ | Ising Model&lt;br&gt;&amp;nbsp; | one-component fluid;&lt;br&gt; binary alloy. |
| $2$ | $$ -\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}J_{ij}\left(s_{ix}s_{jx}+s_{iy}s_{jy}\right)$$ | XY Model&lt;br&gt;classical rotor model; | $\lambda-$transition in a&lt;br&gt;Bose fluid |
| $3$ | $$-\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}J_{ij}\left(s_{ix}s_{jx}+s_{iy}s_{jy}+s_{iz}s_{jz}\right)$$ | classical Heisenberg&lt;br&gt;model | ferromagnet;&lt;br&gt;antiferromagnet |
| $\vdots$ |&gt;|&gt;| |
| $\infty$ | $$-\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}\left(\sum_{m=1}^\infty J_{ij}s_{im}s_{jm}\right)$$ | spherical model | none |
|! |! |! |! |h
</pre>
</div>
<div title="n-Vector Model Revision(0001)" modifier="Christopher Wilson" created="201404142045" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="2" content-type="text/x-tiddlywiki">
<pre>In the ''//n-vector//'' or ''//O(n)//'' model</pre>
</div>
<div title="n-Vector Model Revision(0002)" modifier="Christopher Wilson" created="201404142051" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="3" content-type="text/x-tiddlywiki">
<pre>In the ''//n-vector model//'' or ''//O(n)//'' model, n-component unit length classical spins $s_i$ are placed on the vertices of a lattice.  The Hamiltonian of the n-vector model is given by $$H = -J\sum_{\left&lt;i,j\right&gt;}s_i\cdot s_j .$$
Special cases of the n-vector model are:
*$n=0;\;$ The Self Avoiding Walks (SAW).
*$n=1;\;$ The [[Ising Model]].  
*$n=2;\;$ The [[XY Model]].
*$n=3;\;$ The [[Heisenberg Model]].  
*$n=4;\;$ The Toy model for the Higgs sector of the Standard Model.</pre>
</div>
<div title="n-Vector Model Revision(0003)" modifier="Christopher Wilson" created="201404142051" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="4" content-type="text/x-tiddlywiki">
<pre>In the ''//n-vector model//'' or ''//O(n)//'' model, n-component unit length classical spins $s_i$ are placed on the vertices of a lattice.  The Hamiltonian of the n-vector model is given by $$H = -J\sum_{\left&lt;i,j\right&gt;}s_i\cdot s_j .$$
Special cases of the n-vector model are:
*$n=0;\;$ The Self Avoiding Walks (SAW).
*$n=1;\;$ The [[Ising Model]].  
*$n=2;\;$ The [[XY Model]].
*$n=3;\;$ The [[Heisenberg Model]].  
*$n=4;\;$ The Toy model for the Higgs sector of the Standard Model.</pre>
</div>
<div title="n-Vector Model Revision(0004)" modifier="Christopher Wilson" created="201404142111" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="5" content-type="text/x-tiddlywiki">
<pre>In the ''//n-vector model//'' or ''//O(n)//'' model, n-component unit length classical spins $s_i$ are placed on the vertices of a lattice.  The Hamiltonian of the n-vector model is given by $$H = -J\sum_{\left&lt;i,j\right&gt;}s_i\cdot s_j .$$
Special cases of the n-vector model are:
*$n=0;\;$ The Self Avoiding Walks (SAW).
*$n=1;\;$ The [[Ising Model]].  
*$n=2;\;$ The [[Classical XY Model]].
*$n=3;\;$ The [[Heisenberg Model]].  
*$n=4;\;$ The Toy model for the Higgs sector of the Standard Model.</pre>
</div>
<div title="n-Vector Model Revision(0005)" modifier="Christopher Wilson" created="201404142356" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="6" content-type="text/x-tiddlywiki">
<pre>In the ''//n-vector model//'' or ''//O(n)//'' model, n-component unit length classical spins $s_i$ are placed on the vertices of a lattice.  The Hamiltonian of the n-vector model is given by $$H = -J\sum_{\left&lt;i,j\right&gt;}s_i\cdot s_j .$$
Special cases of the n-vector model are:
*$n=0;\;$ The Self Avoiding Walks (SAW).
*$n=1;\;$ The [[Ising Model]].  
*$n=2;\;$ The [[Classical XY Model]].
*$n=3;\;$ The [[Heisenberg Model]].  
*$n=4;\;$ The Toy model for the Higgs sector of the Standard Model.

|sortable|k
| !n | !Hamiltonian | !Name | !System |
|! |! |! |! |
| $1$ | $$ -\sum_{\left&lt;i,j\right&gt;}J_{ij}s_i\cdot s_j$$ | Ising Model | one-component fluid;&lt;br&gt; binary allow. |</pre>
</div>
<div title="n-Vector Model Revision(0006)" modifier="Christopher Wilson" created="201404142356" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="7" content-type="text/x-tiddlywiki">
<pre>In the ''//n-vector model//'' or ''//O(n)//'' model, n-component unit length classical spins $s_i$ are placed on the vertices of a lattice.  The Hamiltonian of the n-vector model is given by $$H = -J\sum_{\left&lt;i,j\right&gt;}s_i\cdot s_j .$$
Special cases of the n-vector model are:
*$n=0;\;$ The Self Avoiding Walks (SAW).
*$n=1;\;$ The [[Ising Model]].  
*$n=2;\;$ The [[Classical XY Model]].
*$n=3;\;$ The [[Heisenberg Model]].  
*$n=4;\;$ The Toy model for the Higgs sector of the Standard Model.

|sortable|k
| !n | !Hamiltonian | !Name | !System |
|! |! |! |! |
| $1$ | $$ -\sum_{\left&lt;i,j\right&gt;}J_{ij}s_i\cdot s_j$$ | Ising Model&lt;br&gt; | one-component fluid;&lt;br&gt; binary alloy. |</pre>
</div>
<div title="n-Vector Model Revision(0007)" modifier="Christopher Wilson" created="201404142356" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="8" content-type="text/x-tiddlywiki">
<pre>In the ''//n-vector model//'' or ''//O(n)//'' model, n-component unit length classical spins $s_i$ are placed on the vertices of a lattice.  The Hamiltonian of the n-vector model is given by $$H = -J\sum_{\left&lt;i,j\right&gt;}s_i\cdot s_j .$$
Special cases of the n-vector model are:
*$n=0;\;$ The Self Avoiding Walks (SAW).
*$n=1;\;$ The [[Ising Model]].  
*$n=2;\;$ The [[Classical XY Model]].
*$n=3;\;$ The [[Heisenberg Model]].  
*$n=4;\;$ The Toy model for the Higgs sector of the Standard Model.

|sortable|k
| !n | !Hamiltonian | !Name | !System |
|! |! |! |! |
| $1$ | $$ -\sum_{\left&lt;i,j\right&gt;}J_{ij}s_i\cdot s_j$$ | Ising Model&lt;br&gt;&amp;nbsp; | one-component fluid;&lt;br&gt; binary alloy. |</pre>
</div>
<div title="n-Vector Model Revision(0008)" modifier="Christopher Wilson" created="201404150002" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="9" content-type="text/x-tiddlywiki">
<pre>In the ''//n-vector model//'' or ''//O(n)//'' model, n-component unit length classical spins $s_i$ are placed on the vertices of a lattice.  The Hamiltonian of the n-vector model is given by $$H = -J\sum_{\left&lt;i,j\right&gt;}s_i\cdot s_j .$$
Special cases of the n-vector model are:
*$n=0;\;$ The Self Avoiding Walks (SAW).
*$n=1;\;$ The [[Ising Model]].  
*$n=2;\;$ The [[Classical XY Model]].
*$n=3;\;$ The [[Heisenberg Model]].  
*$n=4;\;$ The Toy model for the Higgs sector of the Standard Model.

|sortable|k
| !n | !Hamiltonian | !Name | !System |
|! |! |! |! |
| $1$ | $$ -\sum_{\left&lt;i,j\right&gt;}J_{ij}s_{ix}s_{jx}$$ | Ising Model&lt;br&gt;&amp;nbsp; | one-component fluid;&lt;br&gt; binary alloy. |
| $2$ | $$ -\sum_{\left&lt;i,j\right&gt;}\left(J_{ij}s_{ix}s_{jx}+s_{iy}s_{jy}\right)$$ | XY Model&lt;br&gt;classical rotor model; | $\lambda-$transition in a&lt;br&gt;Bose fluid|
| $3$ | $$-\sum_{\left&lt;i,j\right&gt;}\left(J_{ij}s_{ix}s_{jx}+s_{iy}s_{jy}+s_{iz}s_{jz\right)}$$ | classical Heisenberg&lt;br&gt;model | ferromagnet;&lt;br&gt;antiferromagnet |
| $\ddots$ | | | |
| $\infty$ | -\sum_{\left&lt;i,j\right&gt;}\left(\sum_{m=1}^\infty J_{ij}s_{im}s_{jm}+s_{iy}s_{jy}\right) | spherical model | none |</pre>
</div>
<div title="n-Vector Model Revision(0009)" modifier="Christopher Wilson" created="201404150005" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="10" content-type="text/x-tiddlywiki">
<pre>In the ''//n-vector model//'' or ''//O(n)//'' model, n-component unit length classical spins $s_i$ are placed on the vertices of a lattice.  The Hamiltonian of the n-vector model is given by $$H = -J\sum_{\left&lt;i,j\right&gt;}s_i\cdot s_j .$$
Special cases of the n-vector model are:
*$n=0;\;$ The Self Avoiding Walks (SAW).
*$n=1;\;$ The [[Ising Model]].  
*$n=2;\;$ The [[Classical XY Model]].
*$n=3;\;$ The [[Heisenberg Model]].  
*$n=4;\;$ The Toy model for the Higgs sector of the Standard Model.

|sortable|k
| !n | !Hamiltonian | !Name | !System |
|! |! |! |! |
| $1$ | $$ -\sum_{\left&lt;i,j\right&gt;}J_{ij}s_{ix}s_{jx}$$ | Ising Model&lt;br&gt;&amp;nbsp; | one-component fluid;&lt;br&gt; binary alloy. |
| $2$ | $$ -\sum_{\left&lt;i,j\right&gt;}\left(J_{ij}s_{ix}s_{jx}+s_{iy}s_{jy}\right)$$ | XY Model&lt;br&gt;classical rotor model; | $\lambda-$transition in a&lt;br&gt;Bose fluid|
| $3$ | $$-\sum_{\left&lt;i,j\right&gt;}\left(J_{ij}s_{ix}s_{jx}+s_{iy}s_{jy}+s_{iz}s_{jz}\right)$$ | classical Heisenberg&lt;br&gt;model | ferromagnet;&lt;br&gt;antiferromagnet |
| $\vdots$ |&gt;|&gt;||
| $\infty$ | $$-\sum_{\left&lt;i,j\right&gt;}\left(\sum_{m=1}^\infty J_{ij}s_{im}s_{jm}+s_{iy}s_{jy}\right)$$ | spherical model | none |</pre>
</div>
<div title="n-Vector Model Revision(0010)" modifier="Christopher Wilson" created="201404150005" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="11" content-type="text/x-tiddlywiki">
<pre>In the ''//n-vector model//'' or ''//O(n)//'' model, n-component unit length classical spins $s_i$ are placed on the vertices of a lattice.  The Hamiltonian of the n-vector model is given by $$H = -J\sum_{\left&lt;i,j\right&gt;}s_i\cdot s_j .$$
Special cases of the n-vector model are:
*$n=0;\;$ The Self Avoiding Walks (SAW).
*$n=1;\;$ The [[Ising Model]].  
*$n=2;\;$ The [[Classical XY Model]].
*$n=3;\;$ The [[Heisenberg Model]].  
*$n=4;\;$ The Toy model for the Higgs sector of the Standard Model.

|sortable|k
| !n | !Hamiltonian | !Name | !System |
|! |! |! |! |
| $1$ | $$ -\sum_{\left&lt;i,j\right&gt;}J_{ij}s_{ix}s_{jx}$$ | Ising Model&lt;br&gt;&amp;nbsp; | one-component fluid;&lt;br&gt; binary alloy. |
| $2$ | $$ -\sum_{\left&lt;i,j\right&gt;}\left(J_{ij}s_{ix}s_{jx}+s_{iy}s_{jy}\right)$$ | XY Model&lt;br&gt;classical rotor model; | $\lambda-$transition in a&lt;br&gt;Bose fluid |
| $3$ | $$-\sum_{\left&lt;i,j\right&gt;}\left(J_{ij}s_{ix}s_{jx}+s_{iy}s_{jy}+s_{iz}s_{jz}\right)$$ | classical Heisenberg&lt;br&gt;model | ferromagnet;&lt;br&gt;antiferromagnet |
| $\vdots$ |&gt;|&gt;||
| $\infty$ | $$-\sum_{\left&lt;i,j\right&gt;}\left(\sum_{m=1}^\infty J_{ij}s_{im}s_{jm}+s_{iy}s_{jy}\right)$$ | spherical model | none |</pre>
</div>
<div title="n-Vector Model Revision(0011)" modifier="Christopher Wilson" created="201404150006" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="12" content-type="text/x-tiddlywiki">
<pre>In the ''//n-vector model//'' or ''//O(n)//'' model, n-component unit length classical spins $s_i$ are placed on the vertices of a lattice.  The Hamiltonian of the n-vector model is given by $$H = -J\sum_{\left&lt;i,j\right&gt;}s_i\cdot s_j .$$
Special cases of the n-vector model are:
*$n=0;\;$ The Self Avoiding Walks (SAW).
*$n=1;\;$ The [[Ising Model]].  
*$n=2;\;$ The [[Classical XY Model]].
*$n=3;\;$ The [[Heisenberg Model]].  
*$n=4;\;$ The Toy model for the Higgs sector of the Standard Model.

|sortable|k
| !n | !Hamiltonian | !Name | !System |
|! |! |! |! |
| $1$ | $$ -\sum_{\left&lt;i,j\right&gt;}J_{ij}s_{ix}s_{jx}$$ | Ising Model&lt;br&gt;&amp;nbsp; | one-component fluid;&lt;br&gt; binary alloy. |
| $2$ | $$ -\sum_{\left&lt;i,j\right&gt;}\left(J_{ij}s_{ix}s_{jx}+s_{iy}s_{jy}\right)$$ | XY Model&lt;br&gt;classical rotor model; | $\lambda-$transition in a&lt;br&gt;Bose fluid |
| $3$ | $$-\sum_{\left&lt;i,j\right&gt;}\left(J_{ij}s_{ix}s_{jx}+s_{iy}s_{jy}+s_{iz}s_{jz}\right)$$ | classical Heisenberg&lt;br&gt;model | ferromagnet;&lt;br&gt;antiferromagnet |
| $\vdots$ |&gt;|&gt;||
| $\infty$ | $$-\sum_{\left&lt;i,j\right&gt;}\left(\sum_{m=1}^\infty J_{ij}s_{im}s_{jm}\right)$$ | spherical model | none |</pre>
</div>
<div title="n-Vector Model Revision(0012)" modifier="Christopher Wilson" created="201404150008" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="13" content-type="text/x-tiddlywiki">
<pre>In the ''//n-vector model//'' or ''//O(n)//'' model, n-component unit length classical spins $s_i$ are placed on the vertices of a lattice.  The Hamiltonian of the n-vector model is given by $$H = -J\sum_{\left&lt;i,j\right&gt;}s_i\cdot s_j .$$
Special cases of the n-vector model are:
*$n=0;\;$ The Self Avoiding Walks (SAW).
*$n=1;\;$ The [[Ising Model]].  
*$n=2;\;$ The [[Classical XY Model]].
*$n=3;\;$ The [[Heisenberg Model]].  
*$n=4;\;$ The Toy model for the Higgs sector of the Standard Model.

|sortable|k
| !n | !Hamiltonian | !Name | !System |
|! |! |! |! |
| $1$ | $$ -\sum_{\left&lt;i,j\right&gt;}J_{ij}s_{ix}s_{jx}$$ | Ising Model&lt;br&gt;&amp;nbsp; | one-component fluid;&lt;br&gt; binary alloy. |
| $2$ | $$ -\sum_{\left&lt;i,j\right&gt;}\left(J_{ij}s_{ix}s_{jx}+s_{iy}s_{jy}\right)$$ | XY Model&lt;br&gt;classical rotor model; | $\lambda-$transition in a&lt;br&gt;Bose fluid |
| $3$ | $$-\sum_{\left&lt;i,j\right&gt;}\left(J_{ij}s_{ix}s_{jx}+s_{iy}s_{jy}+s_{iz}s_{jz}\right)$$ | classical Heisenberg&lt;br&gt;model | ferromagnet;&lt;br&gt;antiferromagnet |
| $\vdots$ |&gt;|&gt;||
| $\infty$ | $$-\sum_{\left&lt;i,j\right&gt;}\left(\sum_{m=1}^\infty J_{ij}s_{im}s_{jm}\right)$$ | spherical model | none |&lt;&lt;bibtex stanley1971introduction&gt;&gt;</pre>
</div>
<div title="n-Vector Model Revision(0013)" modifier="Christopher Wilson" created="201404150008" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="14" content-type="text/x-tiddlywiki">
<pre>In the ''//n-vector model//'' or ''//O(n)//'' model, n-component unit length classical spins $s_i$ are placed on the vertices of a lattice.  The Hamiltonian of the n-vector model is given by $$H = -J\sum_{\left&lt;i,j\right&gt;}s_i\cdot s_j .$$
Special cases of the n-vector model are:
*$n=0;\;$ The Self Avoiding Walks (SAW).
*$n=1;\;$ The [[Ising Model]].  
*$n=2;\;$ The [[Classical XY Model]].
*$n=3;\;$ The [[Heisenberg Model]].  
*$n=4;\;$ The Toy model for the Higgs sector of the Standard Model.

|sortable|k
| !n | !Hamiltonian | !Name | !System |
|! |! |! |! |
| $1$ | $$ -\sum_{\left&lt;i,j\right&gt;}J_{ij}s_{ix}s_{jx}$$ | Ising Model&lt;br&gt;&amp;nbsp; | one-component fluid;&lt;br&gt; binary alloy. |
| $2$ | $$ -\sum_{\left&lt;i,j\right&gt;}\left(J_{ij}s_{ix}s_{jx}+s_{iy}s_{jy}\right)$$ | XY Model&lt;br&gt;classical rotor model; | $\lambda-$transition in a&lt;br&gt;Bose fluid |
| $3$ | $$-\sum_{\left&lt;i,j\right&gt;}\left(J_{ij}s_{ix}s_{jx}+s_{iy}s_{jy}+s_{iz}s_{jz}\right)$$ | classical Heisenberg&lt;br&gt;model | ferromagnet;&lt;br&gt;antiferromagnet |
| $\vdots$ |&gt;|&gt;||
| $\infty$ | $$-\sum_{\left&lt;i,j\right&gt;}\left(\sum_{m=1}^\infty J_{ij}s_{im}s_{jm}\right)$$ | spherical model | none | &lt;&lt;bibtex stanley1971introduction&gt;&gt;</pre>
</div>
<div title="n-Vector Model Revision(0014)" modifier="Christopher Wilson" created="201404150008" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="15" content-type="text/x-tiddlywiki">
<pre>In the ''//n-vector model//'' or ''//O(n)//'' model, n-component unit length classical spins $s_i$ are placed on the vertices of a lattice.  The Hamiltonian of the n-vector model is given by $$H = -J\sum_{\left&lt;i,j\right&gt;}s_i\cdot s_j .$$
Special cases of the n-vector model are:
*$n=0;\;$ The Self Avoiding Walks (SAW).
*$n=1;\;$ The [[Ising Model]].  
*$n=2;\;$ The [[Classical XY Model]].
*$n=3;\;$ The [[Heisenberg Model]].  
*$n=4;\;$ The Toy model for the Higgs sector of the Standard Model.

|sortable|k
| !n | !Hamiltonian | !Name | !System |
|! |! |! |! |
| $1$ | $$ -\sum_{\left&lt;i,j\right&gt;}J_{ij}s_{ix}s_{jx}$$ | Ising Model&lt;br&gt;&amp;nbsp; | one-component fluid;&lt;br&gt; binary alloy. |
| $2$ | $$ -\sum_{\left&lt;i,j\right&gt;}\left(J_{ij}s_{ix}s_{jx}+s_{iy}s_{jy}\right)$$ | XY Model&lt;br&gt;classical rotor model; | $\lambda-$transition in a&lt;br&gt;Bose fluid |
| $3$ | $$-\sum_{\left&lt;i,j\right&gt;}\left(J_{ij}s_{ix}s_{jx}+s_{iy}s_{jy}+s_{iz}s_{jz}\right)$$ | classical Heisenberg&lt;br&gt;model | ferromagnet;&lt;br&gt;antiferromagnet |
| $\vdots$ |&gt;|&gt;||
| $\infty$ | $$-\sum_{\left&lt;i,j\right&gt;}\left(\sum_{m=1}^\infty J_{ij}s_{im}s_{jm}\right)$$ | spherical model | none | 
&lt;&lt;bibtex stanley1971introduction&gt;&gt;</pre>
</div>
<div title="n-Vector Model Revision(0015)" modifier="Christopher Wilson" created="201404150008" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="16" content-type="text/x-tiddlywiki">
<pre>In the ''//n-vector model//'' or ''//O(n)//'' model, n-component unit length classical spins $s_i$ are placed on the vertices of a lattice.  The Hamiltonian of the n-vector model is given by $$H = -J\sum_{\left&lt;i,j\right&gt;}s_i\cdot s_j .$$
Special cases of the n-vector model are:
*$n=0;\;$ The Self Avoiding Walks (SAW).
*$n=1;\;$ The [[Ising Model]].  
*$n=2;\;$ The [[Classical XY Model]].
*$n=3;\;$ The [[Heisenberg Model]].  
*$n=4;\;$ The Toy model for the Higgs sector of the Standard Model.

|sortable|k
| !n | !Hamiltonian | !Name | !System |
|! |! |! |! |
| $1$ | $$ -\sum_{\left&lt;i,j\right&gt;}J_{ij}s_{ix}s_{jx}$$ | Ising Model&lt;br&gt;&amp;nbsp; | one-component fluid;&lt;br&gt; binary alloy. |
| $2$ | $$ -\sum_{\left&lt;i,j\right&gt;}\left(J_{ij}s_{ix}s_{jx}+s_{iy}s_{jy}\right)$$ | XY Model&lt;br&gt;classical rotor model; | $\lambda-$transition in a&lt;br&gt;Bose fluid |
| $3$ | $$-\sum_{\left&lt;i,j\right&gt;}\left(J_{ij}s_{ix}s_{jx}+s_{iy}s_{jy}+s_{iz}s_{jz}\right)$$ | classical Heisenberg&lt;br&gt;model | ferromagnet;&lt;br&gt;antiferromagnet |
| $\vdots$ |&gt;|&gt;||
| $\infty$ | $$-\sum_{\left&lt;i,j\right&gt;}\left(\sum_{m=1}^\infty J_{ij}s_{im}s_{jm}\right)$$ | spherical model | none | 
</pre>
</div>
<div title="n-Vector Model Revision(0016)" modifier="Christopher Wilson" created="201404150009" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="17" content-type="text/x-tiddlywiki">
<pre>In the ''//n-vector model//'' or ''//O(n)//'' model, n-component unit length classical spins $s_i$ are placed on the vertices of a lattice.  The Hamiltonian of the n-vector model is given by $$H = -J\sum_{\left&lt;i,j\right&gt;}s_i\cdot s_j .$$
Special cases of the n-vector model are:
*$n=0;\;$ The Self Avoiding Walks (SAW).
*$n=1;\;$ The [[Ising Model]].  
*$n=2;\;$ The [[Classical XY Model]].
*$n=3;\;$ The [[Heisenberg Model]].  
*$n=4;\;$ The Toy model for the Higgs sector of the Standard Model.

|sortable|k
| !n | !Hamiltonian | !Name | !System |
|! |! |! |! |
| $1$ | $$ -\sum_{\left&lt;i,j\right&gt;}J_{ij}s_{ix}s_{jx}$$ | Ising Model&lt;br&gt;&amp;nbsp; | one-component fluid;&lt;br&gt; binary alloy. |
| $2$ | $$ -\sum_{\left&lt;i,j\right&gt;}\left(J_{ij}s_{ix}s_{jx}+s_{iy}s_{jy}\right)$$ | XY Model&lt;br&gt;classical rotor model; | $\lambda-$transition in a&lt;br&gt;Bose fluid |
| $3$ | $$-\sum_{\left&lt;i,j\right&gt;}\left(J_{ij}s_{ix}s_{jx}+s_{iy}s_{jy}+s_{iz}s_{jz}\right)$$ | classical Heisenberg&lt;br&gt;model | ferromagnet;&lt;br&gt;antiferromagnet |
| $\vdots$ |&gt;|&gt;| |
| $\infty$ | $$-\sum_{\left&lt;i,j\right&gt;}\left(\sum_{m=1}^\infty J_{ij}s_{im}s_{jm}\right)$$ | spherical model | none |
</pre>
</div>
<div title="n-Vector Model Revision(0017)" modifier="Christopher Wilson" created="201404150009" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="18" content-type="text/x-tiddlywiki">
<pre>In the ''//n-vector model//'' or ''//O(n)//'' model, n-component unit length classical spins $s_i$ are placed on the vertices of a lattice.  The Hamiltonian of the n-vector model is given by $$H = -J\sum_{\left&lt;i,j\right&gt;}s_i\cdot s_j .$$
Special cases of the n-vector model are:
*$n=0;\;$ The Self Avoiding Walks (SAW).
*$n=1;\;$ The [[Ising Model]].  
*$n=2;\;$ The [[Classical XY Model]].
*$n=3;\;$ The [[Heisenberg Model]].  
*$n=4;\;$ The Toy model for the Higgs sector of the Standard Model.

|sortable|k
| !n | !Hamiltonian | !Name | !System |
|! |! |! |! |
| $1$ | $$ -\sum_{\left&lt;i,j\right&gt;}J_{ij}s_{ix}s_{jx}$$ | Ising Model&lt;br&gt;&amp;nbsp; | one-component fluid;&lt;br&gt; binary alloy. |
| $2$ | $$ -\sum_{\left&lt;i,j\right&gt;}\left(J_{ij}s_{ix}s_{jx}+s_{iy}s_{jy}\right)$$ | XY Model&lt;br&gt;classical rotor model; | $\lambda-$transition in a&lt;br&gt;Bose fluid |
| $3$ | $$-\sum_{\left&lt;i,j\right&gt;}\left(J_{ij}s_{ix}s_{jx}+s_{iy}s_{jy}+s_{iz}s_{jz}\right)$$ | classical Heisenberg&lt;br&gt;model | ferromagnet;&lt;br&gt;antiferromagnet |
| $\vdots$ |&gt;|&gt;| |
| $\infty$ | $$-\sum_{\left&lt;i,j\right&gt;}\left(\sum_{m=1}^\infty J_{ij}s_{im}s_{jm}\right)$$ | spherical model | none | &lt;&lt;bibtex stanley1971introduction&gt;&gt;
</pre>
</div>
<div title="n-Vector Model Revision(0018)" modifier="Christopher Wilson" created="201404150009" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="19" content-type="text/x-tiddlywiki">
<pre>In the ''//n-vector model//'' or ''//O(n)//'' model, n-component unit length classical spins $s_i$ are placed on the vertices of a lattice.  The Hamiltonian of the n-vector model is given by $$H = -J\sum_{\left&lt;i,j\right&gt;}s_i\cdot s_j .$$
Special cases of the n-vector model are:
*$n=0;\;$ The Self Avoiding Walks (SAW).
*$n=1;\;$ The [[Ising Model]].  
*$n=2;\;$ The [[Classical XY Model]].
*$n=3;\;$ The [[Heisenberg Model]].  
*$n=4;\;$ The Toy model for the Higgs sector of the Standard Model.

|sortable|k
| !n | !Hamiltonian | !Name | !System |
|! |! |! |! |
| $1$ | $$ -\sum_{\left&lt;i,j\right&gt;}J_{ij}s_{ix}s_{jx}$$ | Ising Model&lt;br&gt;&amp;nbsp; | one-component fluid;&lt;br&gt; binary alloy. |
| $2$ | $$ -\sum_{\left&lt;i,j\right&gt;}\left(J_{ij}s_{ix}s_{jx}+s_{iy}s_{jy}\right)$$ | XY Model&lt;br&gt;classical rotor model; | $\lambda-$transition in a&lt;br&gt;Bose fluid |
| $3$ | $$-\sum_{\left&lt;i,j\right&gt;}\left(J_{ij}s_{ix}s_{jx}+s_{iy}s_{jy}+s_{iz}s_{jz}\right)$$ | classical Heisenberg&lt;br&gt;model | ferromagnet;&lt;br&gt;antiferromagnet |
| $\vdots$ |&gt;|&gt;| |
| $\infty$ | $$-\sum_{\left&lt;i,j\right&gt;}\left(\sum_{m=1}^\infty J_{ij}s_{im}s_{jm}\right)$$ | spherical model | none |
&lt;&lt;bibtex stanley1971introduction&gt;&gt;
</pre>
</div>
<div title="n-Vector Model Revision(0019)" modifier="Christopher Wilson" created="201404150010" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="20" content-type="text/x-tiddlywiki">
<pre>In the ''//n-vector model//'' or ''//O(n)//'' model, n-component unit length classical spins $s_i$ are placed on the vertices of a lattice.  The Hamiltonian of the n-vector model is given by $$H = -J\sum_{\left&lt;i,j\right&gt;}s_i\cdot s_j .$$
Special cases of the n-vector model are:
*$n=0;\;$ The Self Avoiding Walks (SAW).
*$n=1;\;$ The [[Ising Model]].  
*$n=2;\;$ The [[Classical XY Model]].
*$n=3;\;$ The [[Heisenberg Model]].  
*$n=4;\;$ The Toy model for the Higgs sector of the Standard Model.

!!Table of Models &lt;&lt;bibtex stanley1971introduction&gt;&gt;
|sortable|k
| !n | !Hamiltonian | !Name | !System |
|! |! |! |! |
| $1$ | $$ -\sum_{\left&lt;i,j\right&gt;}J_{ij}s_{ix}s_{jx}$$ | Ising Model&lt;br&gt;&amp;nbsp; | one-component fluid;&lt;br&gt; binary alloy. |
| $2$ | $$ -\sum_{\left&lt;i,j\right&gt;}\left(J_{ij}s_{ix}s_{jx}+s_{iy}s_{jy}\right)$$ | XY Model&lt;br&gt;classical rotor model; | $\lambda-$transition in a&lt;br&gt;Bose fluid |
| $3$ | $$-\sum_{\left&lt;i,j\right&gt;}\left(J_{ij}s_{ix}s_{jx}+s_{iy}s_{jy}+s_{iz}s_{jz}\right)$$ | classical Heisenberg&lt;br&gt;model | ferromagnet;&lt;br&gt;antiferromagnet |
| $\vdots$ |&gt;|&gt;| |
| $\infty$ | $$-\sum_{\left&lt;i,j\right&gt;}\left(\sum_{m=1}^\infty J_{ij}s_{im}s_{jm}\right)$$ | spherical model | none |

</pre>
</div>
<div title="n-Vector Model Revision(0020)" modifier="Christopher Wilson" created="201404150010" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="21" content-type="text/x-tiddlywiki">
<pre>In the ''//n-vector model//'' or ''//O(n)//'' model, n-component unit length classical spins $s_i$ are placed on the vertices of a lattice.  The Hamiltonian of the n-vector model is given by $$H = -J\sum_{\left&lt;i,j\right&gt;}s_i\cdot s_j .$$
Special cases of the n-vector model are:
*$n=0;\;$ The Self Avoiding Walks (SAW).
*$n=1;\;$ The [[Ising Model]].  
*$n=2;\;$ The [[Classical XY Model]].
*$n=3;\;$ The [[Heisenberg Model]].  
*$n=4;\;$ The Toy model for the Higgs sector of the Standard Model.

!!Table of Models&lt;&lt;bibtex stanley1971introduction&gt;&gt;
|sortable|k
| !n | !Hamiltonian | !Name | !System |
|! |! |! |! |
| $1$ | $$ -\sum_{\left&lt;i,j\right&gt;}J_{ij}s_{ix}s_{jx}$$ | Ising Model&lt;br&gt;&amp;nbsp; | one-component fluid;&lt;br&gt; binary alloy. |
| $2$ | $$ -\sum_{\left&lt;i,j\right&gt;}\left(J_{ij}s_{ix}s_{jx}+s_{iy}s_{jy}\right)$$ | XY Model&lt;br&gt;classical rotor model; | $\lambda-$transition in a&lt;br&gt;Bose fluid |
| $3$ | $$-\sum_{\left&lt;i,j\right&gt;}\left(J_{ij}s_{ix}s_{jx}+s_{iy}s_{jy}+s_{iz}s_{jz}\right)$$ | classical Heisenberg&lt;br&gt;model | ferromagnet;&lt;br&gt;antiferromagnet |
| $\vdots$ |&gt;|&gt;| |
| $\infty$ | $$-\sum_{\left&lt;i,j\right&gt;}\left(\sum_{m=1}^\infty J_{ij}s_{im}s_{jm}\right)$$ | spherical model | none |

</pre>
</div>
<div title="n-Vector Model Revision(0021)" modifier="Christopher Wilson" created="201404150010" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="22" content-type="text/x-tiddlywiki">
<pre>In the ''//n-vector model//'' or ''//O(n)//'' model, n-component unit length classical spins $s_i$ are placed on the vertices of a lattice.  The Hamiltonian of the n-vector model is given by $$H = -J\sum_{\left&lt;i,j\right&gt;}s_i\cdot s_j .$$
Special cases of the n-vector model are:
*$n=0;\;$ The Self Avoiding Walks (SAW).
*$n=1;\;$ The [[Ising Model]].  
*$n=2;\;$ The [[Classical XY Model]].
*$n=3;\;$ The [[Heisenberg Model]].  
*$n=4;\;$ The Toy model for the Higgs sector of the Standard Model.

!!Table of Models&lt;&lt;bibtex stanley1971introduction&gt;&gt;
|sortable|k
| !n | !Hamiltonian | !Name | !System |
|! |! |! |! |
| $1$ | $$ -\sum_{\left&lt;i,j\right&gt;}J_{ij}s_{ix}s_{jx}$$ | Ising Model&lt;br&gt;&amp;nbsp; | one-component fluid;&lt;br&gt; binary alloy. |
| $2$ | $$ -\sum_{\left&lt;i,j\right&gt;}\left(J_{ij}s_{ix}s_{jx}+s_{iy}s_{jy}\right)$$ | XY Model&lt;br&gt;classical rotor model; | $\lambda-$transition in a&lt;br&gt;Bose fluid |
| $3$ | $$-\sum_{\left&lt;i,j\right&gt;}\left(J_{ij}s_{ix}s_{jx}+s_{iy}s_{jy}+s_{iz}s_{jz}\right)$$ | classical Heisenberg&lt;br&gt;model | ferromagnet;&lt;br&gt;antiferromagnet |
| $\vdots$ |&gt;|&gt;| |
| $\infty$ | $$-\sum_{\left&lt;i,j\right&gt;}\left(\sum_{m=1}^\infty J_{ij}s_{im}s_{jm}\right)$$ | spherical model | none |

!!References</pre>
</div>
<div title="n-Vector Model Revision(0022)" modifier="Christopher Wilson" created="201404150030" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="23" content-type="text/x-tiddlywiki">
<pre>In the ''//n-vector model//'' or ''//O(n)//'' model, n-component unit length classical spins $s_i$ are placed on the vertices of a lattice.  The Hamiltonian of the n-vector model is given by $$H = -J\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}s_i\cdot s_j .$$
Special cases of the n-vector model are:
*$n=0;\;$ The Self Avoiding Walks (SAW).
*$n=1;\;$ The [[Ising Model]].  
*$n=2;\;$ The [[Classical XY Model]].
*$n=3;\;$ The [[Heisenberg Model]].  
*$n=4;\;$ The Toy model for the Higgs sector of the Standard Model.

!!Table of Models&lt;&lt;bibtex stanley1971introduction&gt;&gt;
|sortable2|k
| !n | !Hamiltonian | !Name | !System |
|! |! |! |! |
| $1$ | $$ -\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}J_{ij}\,s_{ix}s_{jx}$$ | Ising Model&lt;br&gt;&amp;nbsp; | one-component fluid;&lt;br&gt; binary alloy. |
| $2$ | $$ -\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}J_{ij}\left(s_{ix}s_{jx}+s_{iy}s_{jy}\right)$$ | XY Model&lt;br&gt;classical rotor model; | $\lambda-$transition in a&lt;br&gt;Bose fluid |
| $3$ | $$-\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}J_{ij}\left(s_{ix}s_{jx}+s_{iy}s_{jy}+s_{iz}s_{jz}\right)$$ | classical Heisenberg&lt;br&gt;model | ferromagnet;&lt;br&gt;antiferromagnet |
| $\vdots$ |&gt;|&gt;| |
| $\infty$ | $$-\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}\left(\sum_{m=1}^\infty J_{ij}s_{im}s_{jm}\right)$$ | spherical model | none |

!!References</pre>
</div>
<div title="n-Vector Model Revision(0023)" modifier="Christopher Wilson" created="201404150039" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="24" content-type="text/x-tiddlywiki">
<pre>In the ''//n-vector model//'' or ''//O(n)//'' model, n-component unit length classical spins $s_i$ are placed on the vertices of a lattice.  The Hamiltonian of the n-vector model is given by $$H = -J\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}s_i\cdot s_j .$$
Special cases of the n-vector model are:
*$n=0;\;$ The Self Avoiding Walks (SAW).
*$n=1;\;$ The [[Ising Model]].  
*$n=2;\;$ The [[Classical XY Model]].
*$n=3;\;$ The [[Heisenberg Model]].  
*$n=4;\;$ The Toy model for the Higgs sector of the Standard Model.

!!Table of Models&lt;&lt;bibtex stanley1971introduction&gt;&gt;
|sortable2|k
| !n | !Hamiltonian | !Name | !System |h
|! |! |! |! |
| $1$ | $$ -\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}J_{ij}\,s_{ix}s_{jx}$$ | Ising Model&lt;br&gt;&amp;nbsp; | one-component fluid;&lt;br&gt; binary alloy. |
| $2$ | $$ -\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}J_{ij}\left(s_{ix}s_{jx}+s_{iy}s_{jy}\right)$$ | XY Model&lt;br&gt;classical rotor model; | $\lambda-$transition in a&lt;br&gt;Bose fluid |
| $3$ | $$-\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}J_{ij}\left(s_{ix}s_{jx}+s_{iy}s_{jy}+s_{iz}s_{jz}\right)$$ | classical Heisenberg&lt;br&gt;model | ferromagnet;&lt;br&gt;antiferromagnet |
| $\vdots$ |&gt;|&gt;| |
| $\infty$ | $$-\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}\left(\sum_{m=1}^\infty J_{ij}s_{im}s_{jm}\right)$$ | spherical model | none |

!!References</pre>
</div>
<div title="n-Vector Model Revision(0024)" modifier="Christopher Wilson" created="201404150052" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="25" content-type="text/x-tiddlywiki">
<pre>In the ''//n-vector model//'' or ''//O(n)//'' model, n-component unit length classical spins $s_i$ are placed on the vertices of a lattice.  The Hamiltonian of the n-vector model is given by $$H = -J\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}s_i\cdot s_j .$$
Special cases of the n-vector model are:
*$n=0;\;$ The Self Avoiding Walks (SAW).
*$n=1;\;$ The [[Ising Model]].  
*$n=2;\;$ The [[Classical XY Model]].
*$n=3;\;$ The [[Heisenberg Model]].  
*$n=4;\;$ The Toy model for the Higgs sector of the Standard Model.

!!Table of Models&lt;&lt;bibtex stanley1971introduction&gt;&gt;
|sortable2|k
|! |! |! |! |
| !n | !Hamiltonian | !Name | !System |h
| $1$ | $$ -\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}J_{ij}\,s_{ix}s_{jx}$$ | Ising Model&lt;br&gt;&amp;nbsp; | one-component fluid;&lt;br&gt; binary alloy. |
| $2$ | $$ -\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}J_{ij}\left(s_{ix}s_{jx}+s_{iy}s_{jy}\right)$$ | XY Model&lt;br&gt;classical rotor model; | $\lambda-$transition in a&lt;br&gt;Bose fluid |
| $3$ | $$-\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}J_{ij}\left(s_{ix}s_{jx}+s_{iy}s_{jy}+s_{iz}s_{jz}\right)$$ | classical Heisenberg&lt;br&gt;model | ferromagnet;&lt;br&gt;antiferromagnet |
| $\vdots$ |&gt;|&gt;| |
| $\infty$ | $$-\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}\left(\sum_{m=1}^\infty J_{ij}s_{im}s_{jm}\right)$$ | spherical model | none |
|! |! |! |! |

!!References</pre>
</div>
<div title="n-Vector Model Revision(0025)" modifier="Christopher Wilson" created="201404150053" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="26" content-type="text/x-tiddlywiki">
<pre>In the ''//n-vector model//'' or ''//O(n)//'' model, n-component unit length classical spins $s_i$ are placed on the vertices of a lattice.  The Hamiltonian of the n-vector model is given by $$H = -J\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}s_i\cdot s_j .$$
Special cases of the n-vector model are:
*$n=0;\;$ The Self Avoiding Walks (SAW).
*$n=1;\;$ The [[Ising Model]].  
*$n=2;\;$ The [[Classical XY Model]].
*$n=3;\;$ The [[Heisenberg Model]].  
*$n=4;\;$ The Toy model for the Higgs sector of the Standard Model.

!!Table of Models&lt;&lt;bibtex stanley1971introduction&gt;&gt;
|sortable2|k
|! |! |! |! |
| !n | !Hamiltonian | !Name | !System |h
| $1$ | $$ -\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}J_{ij}\,s_{ix}s_{jx}$$ | Ising Model&lt;br&gt;&amp;nbsp; | one-component fluid;&lt;br&gt; binary alloy. |
| $2$ | $$ -\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}J_{ij}\left(s_{ix}s_{jx}+s_{iy}s_{jy}\right)$$ | XY Model&lt;br&gt;classical rotor model; | $\lambda-$transition in a&lt;br&gt;Bose fluid |
| $3$ | $$-\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}J_{ij}\left(s_{ix}s_{jx}+s_{iy}s_{jy}+s_{iz}s_{jz}\right)$$ | classical Heisenberg&lt;br&gt;model | ferromagnet;&lt;br&gt;antiferromagnet |
| $\vdots$ |&gt;|&gt;| |
| $\infty$ | $$-\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}\left(\sum_{m=1}^\infty J_{ij}s_{im}s_{jm}\right)$$ | spherical model | none |
|! |! |! |! |

!!References</pre>
</div>
<div title="n-Vector Model Revision(0026)" modifier="Christopher Wilson" created="201404150053" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="27" content-type="text/x-tiddlywiki">
<pre>In the ''//n-vector model//'' or ''//O(n)//'' model, n-component unit length classical spins $s_i$ are placed on the vertices of a lattice.  The Hamiltonian of the n-vector model is given by $$H = -J\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}s_i\cdot s_j .$$
Special cases of the n-vector model are:
*$n=0;\;$ The Self Avoiding Walks (SAW).
*$n=1;\;$ The [[Ising Model]].  
*$n=2;\;$ The [[Classical XY Model]].
*$n=3;\;$ The [[Heisenberg Model]].  
*$n=4;\;$ The Toy model for the Higgs sector of the Standard Model.

!!Table of Models&lt;&lt;bibtex stanley1971introduction&gt;&gt;
|sortable2|k
| !n | !Hamiltonian | !Name | !System |h
| $1$ | $$ -\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}J_{ij}\,s_{ix}s_{jx}$$ | Ising Model&lt;br&gt;&amp;nbsp; | one-component fluid;&lt;br&gt; binary alloy. |
| $2$ | $$ -\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}J_{ij}\left(s_{ix}s_{jx}+s_{iy}s_{jy}\right)$$ | XY Model&lt;br&gt;classical rotor model; | $\lambda-$transition in a&lt;br&gt;Bose fluid |
| $3$ | $$-\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}J_{ij}\left(s_{ix}s_{jx}+s_{iy}s_{jy}+s_{iz}s_{jz}\right)$$ | classical Heisenberg&lt;br&gt;model | ferromagnet;&lt;br&gt;antiferromagnet |
| $\vdots$ |&gt;|&gt;| |
| $\infty$ | $$-\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}\left(\sum_{m=1}^\infty J_{ij}s_{im}s_{jm}\right)$$ | spherical model | none |
|! |! |! |! |

!!References</pre>
</div>
<div title="n-Vector Model Revision(0027)" modifier="Christopher Wilson" created="201404150053" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="28" content-type="text/x-tiddlywiki">
<pre>In the ''//n-vector model//'' or ''//O(n)//'' model, n-component unit length classical spins $s_i$ are placed on the vertices of a lattice.  The Hamiltonian of the n-vector model is given by $$H = -J\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}s_i\cdot s_j .$$
Special cases of the n-vector model are:
*$n=0;\;$ The Self Avoiding Walks (SAW).
*$n=1;\;$ The [[Ising Model]].  
*$n=2;\;$ The [[Classical XY Model]].
*$n=3;\;$ The [[Heisenberg Model]].  
*$n=4;\;$ The Toy model for the Higgs sector of the Standard Model.

!!Table of Models&lt;&lt;bibtex stanley1971introduction&gt;&gt;
|sortable2|k
|! |! |! |! |h
| !n | !Hamiltonian | !Name | !System |h
| $1$ | $$ -\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}J_{ij}\,s_{ix}s_{jx}$$ | Ising Model&lt;br&gt;&amp;nbsp; | one-component fluid;&lt;br&gt; binary alloy. |
| $2$ | $$ -\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}J_{ij}\left(s_{ix}s_{jx}+s_{iy}s_{jy}\right)$$ | XY Model&lt;br&gt;classical rotor model; | $\lambda-$transition in a&lt;br&gt;Bose fluid |
| $3$ | $$-\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}J_{ij}\left(s_{ix}s_{jx}+s_{iy}s_{jy}+s_{iz}s_{jz}\right)$$ | classical Heisenberg&lt;br&gt;model | ferromagnet;&lt;br&gt;antiferromagnet |
| $\vdots$ |&gt;|&gt;| |
| $\infty$ | $$-\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}\left(\sum_{m=1}^\infty J_{ij}s_{im}s_{jm}\right)$$ | spherical model | none |
|! |! |! |! |

!!References</pre>
</div>
<div title="n-Vector Model Revision(0028)" modifier="Christopher Wilson" created="201404150053" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="29" content-type="text/x-tiddlywiki">
<pre>In the ''//n-vector model//'' or ''//O(n)//'' model, n-component unit length classical spins $s_i$ are placed on the vertices of a lattice.  The Hamiltonian of the n-vector model is given by $$H = -J\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}s_i\cdot s_j .$$
Special cases of the n-vector model are:
*$n=0;\;$ The Self Avoiding Walks (SAW).
*$n=1;\;$ The [[Ising Model]].  
*$n=2;\;$ The [[Classical XY Model]].
*$n=3;\;$ The [[Heisenberg Model]].  
*$n=4;\;$ The Toy model for the Higgs sector of the Standard Model.

!!Table of Models&lt;&lt;bibtex stanley1971introduction&gt;&gt;
|sortable2|k
|! |! |! |! |h
| !n | !Hamiltonian | !Name | !System |h
| $1$ | $$ -\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}J_{ij}\,s_{ix}s_{jx}$$ | Ising Model&lt;br&gt;&amp;nbsp; | one-component fluid;&lt;br&gt; binary alloy. |
| $2$ | $$ -\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}J_{ij}\left(s_{ix}s_{jx}+s_{iy}s_{jy}\right)$$ | XY Model&lt;br&gt;classical rotor model; | $\lambda-$transition in a&lt;br&gt;Bose fluid |
| $3$ | $$-\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}J_{ij}\left(s_{ix}s_{jx}+s_{iy}s_{jy}+s_{iz}s_{jz}\right)$$ | classical Heisenberg&lt;br&gt;model | ferromagnet;&lt;br&gt;antiferromagnet |
| $\vdots$ |&gt;|&gt;| |
| $\infty$ | $$-\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}\left(\sum_{m=1}^\infty J_{ij}s_{im}s_{jm}\right)$$ | spherical model | none |
|! |! |! |! |h

!!References</pre>
</div>
<div title="n-Vector Model Revision(0029)" modifier="Christopher Wilson" created="201404150054" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="30" content-type="text/x-tiddlywiki">
<pre>In the ''//n-vector model//'' or ''//O(n)//'' model, n-component unit length classical spins $s_i$ are placed on the vertices of a lattice.  The Hamiltonian of the n-vector model is given by $$H = -J\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}s_i\cdot s_j .$$
Special cases of the n-vector model are:
*$n=0;\;$ The Self Avoiding Walks (SAW).
*$n=1;\;$ The [[Ising Model]].  
*$n=2;\;$ The [[Classical XY Model]].
*$n=3;\;$ The [[Heisenberg Model]].  
*$n=4;\;$ The Toy model for the Higgs sector of the Standard Model.

!!Table of Models&lt;&lt;bibtex stanley1971introduction&gt;&gt;
|sortable2|k
| | | | |h
| !n | !Hamiltonian | !Name | !System |h
| $1$ | $$ -\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}J_{ij}\,s_{ix}s_{jx}$$ | Ising Model&lt;br&gt;&amp;nbsp; | one-component fluid;&lt;br&gt; binary alloy. |
| $2$ | $$ -\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}J_{ij}\left(s_{ix}s_{jx}+s_{iy}s_{jy}\right)$$ | XY Model&lt;br&gt;classical rotor model; | $\lambda-$transition in a&lt;br&gt;Bose fluid |
| $3$ | $$-\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}J_{ij}\left(s_{ix}s_{jx}+s_{iy}s_{jy}+s_{iz}s_{jz}\right)$$ | classical Heisenberg&lt;br&gt;model | ferromagnet;&lt;br&gt;antiferromagnet |
| $\vdots$ |&gt;|&gt;| |
| $\infty$ | $$-\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}\left(\sum_{m=1}^\infty J_{ij}s_{im}s_{jm}\right)$$ | spherical model | none |
|! |! |! |! |h

!!References</pre>
</div>
<div title="n-Vector Model Revision(0030)" modifier="Christopher Wilson" created="201404150054" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="31" content-type="text/x-tiddlywiki">
<pre>In the ''//n-vector model//'' or ''//O(n)//'' model, n-component unit length classical spins $s_i$ are placed on the vertices of a lattice.  The Hamiltonian of the n-vector model is given by $$H = -J\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}s_i\cdot s_j .$$
Special cases of the n-vector model are:
*$n=0;\;$ The Self Avoiding Walks (SAW).
*$n=1;\;$ The [[Ising Model]].  
*$n=2;\;$ The [[Classical XY Model]].
*$n=3;\;$ The [[Heisenberg Model]].  
*$n=4;\;$ The Toy model for the Higgs sector of the Standard Model.

!!Table of Models&lt;&lt;bibtex stanley1971introduction&gt;&gt;
|sortable2|k
|! |! |! |! |h
| !n | !Hamiltonian | !Name | !System |h
| $1$ | $$ -\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}J_{ij}\,s_{ix}s_{jx}$$ | Ising Model&lt;br&gt;&amp;nbsp; | one-component fluid;&lt;br&gt; binary alloy. |
| $2$ | $$ -\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}J_{ij}\left(s_{ix}s_{jx}+s_{iy}s_{jy}\right)$$ | XY Model&lt;br&gt;classical rotor model; | $\lambda-$transition in a&lt;br&gt;Bose fluid |
| $3$ | $$-\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}J_{ij}\left(s_{ix}s_{jx}+s_{iy}s_{jy}+s_{iz}s_{jz}\right)$$ | classical Heisenberg&lt;br&gt;model | ferromagnet;&lt;br&gt;antiferromagnet |
| $\vdots$ |&gt;|&gt;| |
| $\infty$ | $$-\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}\left(\sum_{m=1}^\infty J_{ij}s_{im}s_{jm}\right)$$ | spherical model | none |
|! |! |! |! |h

!!References</pre>
</div>
<div title="n-Vector Model Revision(0031)" modifier="Christopher Wilson" created="201404150057" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="32" content-type="text/x-tiddlywiki">
<pre>In the ''//n-vector model//'' or ''//O(n)//'' model, n-component unit length classical spins $s_i$ are placed on the vertices of a lattice.  The Hamiltonian of the n-vector model is given by $$H = -J\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}s_i\cdot s_j .$$
Special cases of the n-vector model are:
*$n=0;\;$ The Self Avoiding Walks (SAW).
*$n=1;\;$ The [[Ising Model]].  
*$n=2;\;$ The [[Classical XY Model]].
*$n=3;\;$ The [[Heisenberg Model]].  
*$n=4;\;$ The Toy model for the Higgs sector of the Standard Model.

!!Table of Models&lt;&lt;bibtex stanley1971introduction&gt;&gt;
|sortable2|k
|! |! |! | |h
| !n | !Hamiltonian | !Name | !System |h
| $1$ | $$ -\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}J_{ij}\,s_{ix}s_{jx}$$ | Ising Model&lt;br&gt;&amp;nbsp; | one-component fluid;&lt;br&gt; binary alloy. |
| $2$ | $$ -\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}J_{ij}\left(s_{ix}s_{jx}+s_{iy}s_{jy}\right)$$ | XY Model&lt;br&gt;classical rotor model; | $\lambda-$transition in a&lt;br&gt;Bose fluid |
| $3$ | $$-\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}J_{ij}\left(s_{ix}s_{jx}+s_{iy}s_{jy}+s_{iz}s_{jz}\right)$$ | classical Heisenberg&lt;br&gt;model | ferromagnet;&lt;br&gt;antiferromagnet |
| $\vdots$ |&gt;|&gt;| |
| $\infty$ | $$-\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}\left(\sum_{m=1}^\infty J_{ij}s_{im}s_{jm}\right)$$ | spherical model | none |
|! |! |! |! |h

!!References</pre>
</div>
<div title="n-Vector Model Revision(0032)" modifier="Christopher Wilson" created="201404150057" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="33" content-type="text/x-tiddlywiki">
<pre>In the ''//n-vector model//'' or ''//O(n)//'' model, n-component unit length classical spins $s_i$ are placed on the vertices of a lattice.  The Hamiltonian of the n-vector model is given by $$H = -J\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}s_i\cdot s_j .$$
Special cases of the n-vector model are:
*$n=0;\;$ The Self Avoiding Walks (SAW).
*$n=1;\;$ The [[Ising Model]].  
*$n=2;\;$ The [[Classical XY Model]].
*$n=3;\;$ The [[Heisenberg Model]].  
*$n=4;\;$ The Toy model for the Higgs sector of the Standard Model.

!!Table of Models&lt;&lt;bibtex stanley1971introduction&gt;&gt;
|sortable2|k
|! |! |! | |h
| !n | !Hamiltonian | !Name | !System |h
| $1$ | $$ -\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}J_{ij}\,s_{ix}s_{jx}$$ | Ising Model&lt;br&gt;&amp;nbsp; | one-component fluid;&lt;br&gt; binary alloy. |
| $2$ | $$ -\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}J_{ij}\left(s_{ix}s_{jx}+s_{iy}s_{jy}\right)$$ | XY Model&lt;br&gt;classical rotor model; | $\lambda-$transition in a&lt;br&gt;Bose fluid |
| $3$ | $$-\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}J_{ij}\left(s_{ix}s_{jx}+s_{iy}s_{jy}+s_{iz}s_{jz}\right)$$ | classical Heisenberg&lt;br&gt;model | ferromagnet;&lt;br&gt;antiferromagnet |
| $\vdots$ |&gt;|&gt;| |
| $\infty$ | $$-\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}\left(\sum_{m=1}^\infty J_{ij}s_{im}s_{jm}\right)$$ | spherical model | none |
|! |! |! |! |h

!!References</pre>
</div>
<div title="n-Vector Model Revision(0033)" modifier="Christopher Wilson" created="201404150059" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="34" content-type="text/x-tiddlywiki">
<pre>In the ''//n-vector model//'' or ''//O(n)//'' model, n-component unit length classical spins $s_i$ are placed on the vertices of a lattice.  The Hamiltonian of the n-vector model is given by $$H = -J\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}s_i\cdot s_j .$$
Special cases of the n-vector model are:
*$n=0;\;$ The Self Avoiding Walks (SAW).
*$n=1;\;$ The [[Ising Model]].  
*$n=2;\;$ The [[Classical XY Model]].
*$n=3;\;$ The [[Heisenberg Model]].  
*$n=4;\;$ The Toy model for the Higgs sector of the Standard Model.

!!Table of Models&lt;&lt;bibtex stanley1971introduction&gt;&gt;
|sortable2|k
|! |! |! | |
| !n | !Hamiltonian | !Name | !System |h
| $1$ | $$ -\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}J_{ij}\,s_{ix}s_{jx}$$ | Ising Model&lt;br&gt;&amp;nbsp; | one-component fluid;&lt;br&gt; binary alloy. |
| $2$ | $$ -\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}J_{ij}\left(s_{ix}s_{jx}+s_{iy}s_{jy}\right)$$ | XY Model&lt;br&gt;classical rotor model; | $\lambda-$transition in a&lt;br&gt;Bose fluid |
| $3$ | $$-\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}J_{ij}\left(s_{ix}s_{jx}+s_{iy}s_{jy}+s_{iz}s_{jz}\right)$$ | classical Heisenberg&lt;br&gt;model | ferromagnet;&lt;br&gt;antiferromagnet |
| $\vdots$ |&gt;|&gt;| |
| $\infty$ | $$-\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}\left(\sum_{m=1}^\infty J_{ij}s_{im}s_{jm}\right)$$ | spherical model | none |
|! |! |! |! |h

!!References</pre>
</div>
<div title="n-Vector Model Revision(0034)" modifier="Christopher Wilson" created="201404150100" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="35" content-type="text/x-tiddlywiki">
<pre>In the ''//n-vector model//'' or ''//O(n)//'' model, n-component unit length classical spins $s_i$ are placed on the vertices of a lattice.  The Hamiltonian of the n-vector model is given by $$H = -J\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}s_i\cdot s_j .$$
Special cases of the n-vector model are:
*$n=0;\;$ The Self Avoiding Walks (SAW).
*$n=1;\;$ The [[Ising Model]].  
*$n=2;\;$ The [[Classical XY Model]].
*$n=3;\;$ The [[Heisenberg Model]].  
*$n=4;\;$ The Toy model for the Higgs sector of the Standard Model.

!!Table of Models&lt;&lt;bibtex stanley1971introduction&gt;&gt;
|sortable2|k
|! |! |! |! |h
| !n | !Hamiltonian | !Name | !System |h
| $1$ | $$ -\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}J_{ij}\,s_{ix}s_{jx}$$ | Ising Model&lt;br&gt;&amp;nbsp; | one-component fluid;&lt;br&gt; binary alloy. |
| $2$ | $$ -\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}J_{ij}\left(s_{ix}s_{jx}+s_{iy}s_{jy}\right)$$ | XY Model&lt;br&gt;classical rotor model; | $\lambda-$transition in a&lt;br&gt;Bose fluid |
| $3$ | $$-\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}J_{ij}\left(s_{ix}s_{jx}+s_{iy}s_{jy}+s_{iz}s_{jz}\right)$$ | classical Heisenberg&lt;br&gt;model | ferromagnet;&lt;br&gt;antiferromagnet |
| $\vdots$ |&gt;|&gt;| |
| $\infty$ | $$-\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}\left(\sum_{m=1}^\infty J_{ij}s_{im}s_{jm}\right)$$ | spherical model | none |
|! |! |! |! |h

!!References</pre>
</div>
<div title="n-Vector Model Revision(0035)" modifier="Christopher Wilson" created="201404150100" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="36" content-type="text/x-tiddlywiki">
<pre>In the ''//n-vector model//'' or ''//O(n)//'' model, n-component unit length classical spins $s_i$ are placed on the vertices of a lattice.  The Hamiltonian of the n-vector model is given by $$H = -J\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}s_i\cdot s_j .$$
Special cases of the n-vector model are:
*$n=0;\;$ The Self Avoiding Walks (SAW).
*$n=1;\;$ The [[Ising Model]].  
*$n=2;\;$ The [[Classical XY Model]].
*$n=3;\;$ The [[Heisenberg Model]].  
*$n=4;\;$ The Toy model for the Higgs sector of the Standard Model.

!!Table of Models&lt;&lt;bibtex stanley1971introduction&gt;&gt;
|sortable2|k
|! |! |! | |h
| !n | !Hamiltonian | !Name | !System |h
| $1$ | $$ -\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}J_{ij}\,s_{ix}s_{jx}$$ | Ising Model&lt;br&gt;&amp;nbsp; | one-component fluid;&lt;br&gt; binary alloy. |
| $2$ | $$ -\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}J_{ij}\left(s_{ix}s_{jx}+s_{iy}s_{jy}\right)$$ | XY Model&lt;br&gt;classical rotor model; | $\lambda-$transition in a&lt;br&gt;Bose fluid |
| $3$ | $$-\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}J_{ij}\left(s_{ix}s_{jx}+s_{iy}s_{jy}+s_{iz}s_{jz}\right)$$ | classical Heisenberg&lt;br&gt;model | ferromagnet;&lt;br&gt;antiferromagnet |
| $\vdots$ |&gt;|&gt;| |
| $\infty$ | $$-\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}\left(\sum_{m=1}^\infty J_{ij}s_{im}s_{jm}\right)$$ | spherical model | none |
|! |! |! |! |h

!!References</pre>
</div>
<div title="n-Vector Model Revision(0036)" modifier="Christopher Wilson" created="201404150102" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="37" content-type="text/x-tiddlywiki">
<pre>In the ''//n-vector model//'' or ''//O(n)//'' model, n-component unit length classical spins $s_i$ are placed on the vertices of a lattice.  The Hamiltonian of the n-vector model is given by $$H = -J\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}s_i\cdot s_j .$$
Special cases of the n-vector model are:
*$n=0;\;$ The Self Avoiding Walks (SAW).
*$n=1;\;$ The [[Ising Model]].  
*$n=2;\;$ The [[Classical XY Model]].
*$n=3;\;$ The [[Heisenberg Model]].  
*$n=4;\;$ The Toy model for the Higgs sector of the Standard Model.

!!Table of Models&lt;&lt;bibtex stanley1971introduction&gt;&gt;
|centered|k
|! |! |! |! |h
|sortable2|k
| !n | !Hamiltonian | !Name | !System |h
| $1$ | $$ -\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}J_{ij}\,s_{ix}s_{jx}$$ | Ising Model&lt;br&gt;&amp;nbsp; | one-component fluid;&lt;br&gt; binary alloy. |
| $2$ | $$ -\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}J_{ij}\left(s_{ix}s_{jx}+s_{iy}s_{jy}\right)$$ | XY Model&lt;br&gt;classical rotor model; | $\lambda-$transition in a&lt;br&gt;Bose fluid |
| $3$ | $$-\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}J_{ij}\left(s_{ix}s_{jx}+s_{iy}s_{jy}+s_{iz}s_{jz}\right)$$ | classical Heisenberg&lt;br&gt;model | ferromagnet;&lt;br&gt;antiferromagnet |
| $\vdots$ |&gt;|&gt;| |
| $\infty$ | $$-\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}\left(\sum_{m=1}^\infty J_{ij}s_{im}s_{jm}\right)$$ | spherical model | none |
|! |! |! |! |h

!!References</pre>
</div>
<div title="n-Vector Model Revision(0037)" modifier="Christopher Wilson" created="201404150104" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="38" content-type="text/x-tiddlywiki">
<pre>In the ''//n-vector model//'' or ''//O(n)//'' model, n-component unit length classical spins $s_i$ are placed on the vertices of a lattice.  The Hamiltonian of the n-vector model is given by $$H = -J\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}s_i\cdot s_j .$$
Special cases of the n-vector model are:
*$n=0;\;$ The Self Avoiding Walks (SAW).
*$n=1;\;$ The [[Ising Model]].  
*$n=2;\;$ The [[Classical XY Model]].
*$n=3;\;$ The [[Heisenberg Model]].  
*$n=4;\;$ The Toy model for the Higgs sector of the Standard Model.

!!Table of Models&lt;&lt;bibtex stanley1971introduction&gt;&gt;
|sortable3|k
|! |! |! |! |h
|sortable2|k
| !n | !Hamiltonian | !Name | !System |h
| $1$ | $$ -\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}J_{ij}\,s_{ix}s_{jx}$$ | Ising Model&lt;br&gt;&amp;nbsp; | one-component fluid;&lt;br&gt; binary alloy. |
| $2$ | $$ -\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}J_{ij}\left(s_{ix}s_{jx}+s_{iy}s_{jy}\right)$$ | XY Model&lt;br&gt;classical rotor model; | $\lambda-$transition in a&lt;br&gt;Bose fluid |
| $3$ | $$-\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}J_{ij}\left(s_{ix}s_{jx}+s_{iy}s_{jy}+s_{iz}s_{jz}\right)$$ | classical Heisenberg&lt;br&gt;model | ferromagnet;&lt;br&gt;antiferromagnet |
| $\vdots$ |&gt;|&gt;| |
| $\infty$ | $$-\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}\left(\sum_{m=1}^\infty J_{ij}s_{im}s_{jm}\right)$$ | spherical model | none |
|! |! |! |! |h

!!References</pre>
</div>
<div title="n-Vector Model Revision(0038)" modifier="Christopher Wilson" created="201404150106" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="39" content-type="text/x-tiddlywiki">
<pre>In the ''//n-vector model//'' or ''//O(n)//'' model, n-component unit length classical spins $s_i$ are placed on the vertices of a lattice.  The Hamiltonian of the n-vector model is given by $$H = -J\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}s_i\cdot s_j .$$
Special cases of the n-vector model are:
*$n=0;\;$ The Self Avoiding Walks (SAW).
*$n=1;\;$ The [[Ising Model]].  
*$n=2;\;$ The [[Classical XY Model]].
*$n=3;\;$ The [[Heisenberg Model]].  
*$n=4;\;$ The Toy model for the Higgs sector of the Standard Model.

!!Table of Models&lt;&lt;bibtex stanley1971introduction&gt;&gt;
|sortable3|k
|! |! |! |!y |h
|sortable2|k
| !n | !Hamiltonian | !Name | !System |h
| $1$ | $$ -\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}J_{ij}\,s_{ix}s_{jx}$$ | Ising Model&lt;br&gt;&amp;nbsp; | one-component fluid;&lt;br&gt; binary alloy. |
| $2$ | $$ -\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}J_{ij}\left(s_{ix}s_{jx}+s_{iy}s_{jy}\right)$$ | XY Model&lt;br&gt;classical rotor model; | $\lambda-$transition in a&lt;br&gt;Bose fluid |
| $3$ | $$-\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}J_{ij}\left(s_{ix}s_{jx}+s_{iy}s_{jy}+s_{iz}s_{jz}\right)$$ | classical Heisenberg&lt;br&gt;model | ferromagnet;&lt;br&gt;antiferromagnet |
| $\vdots$ |&gt;|&gt;| |
| $\infty$ | $$-\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}\left(\sum_{m=1}^\infty J_{ij}s_{im}s_{jm}\right)$$ | spherical model | none |
|! |! |! |! |h

!!References</pre>
</div>
<div title="n-Vector Model Revision(0039)" modifier="Christopher Wilson" created="201404150107" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="40" content-type="text/x-tiddlywiki">
<pre>In the ''//n-vector model//'' or ''//O(n)//'' model, n-component unit length classical spins $s_i$ are placed on the vertices of a lattice.  The Hamiltonian of the n-vector model is given by $$H = -J\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}s_i\cdot s_j .$$
Special cases of the n-vector model are:
*$n=0;\;$ The Self Avoiding Walks (SAW).
*$n=1;\;$ The [[Ising Model]].  
*$n=2;\;$ The [[Classical XY Model]].
*$n=3;\;$ The [[Heisenberg Model]].  
*$n=4;\;$ The Toy model for the Higgs sector of the Standard Model.

!!Table of Models&lt;&lt;bibtex stanley1971introduction&gt;&gt;
|sortable3|k
|! |! |! | |h
|sortable2|k
| !n | !Hamiltonian | !Name | !System |h
| $1$ | $$ -\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}J_{ij}\,s_{ix}s_{jx}$$ | Ising Model&lt;br&gt;&amp;nbsp; | one-component fluid;&lt;br&gt; binary alloy. |
| $2$ | $$ -\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}J_{ij}\left(s_{ix}s_{jx}+s_{iy}s_{jy}\right)$$ | XY Model&lt;br&gt;classical rotor model; | $\lambda-$transition in a&lt;br&gt;Bose fluid |
| $3$ | $$-\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}J_{ij}\left(s_{ix}s_{jx}+s_{iy}s_{jy}+s_{iz}s_{jz}\right)$$ | classical Heisenberg&lt;br&gt;model | ferromagnet;&lt;br&gt;antiferromagnet |
| $\vdots$ |&gt;|&gt;| |
| $\infty$ | $$-\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}\left(\sum_{m=1}^\infty J_{ij}s_{im}s_{jm}\right)$$ | spherical model | none |
|! |! |! |! |h

!!References</pre>
</div>
<div title="n-Vector Model Revision(0040)" modifier="Christopher Wilson" created="201404150107" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="41" content-type="text/x-tiddlywiki">
<pre>In the ''//n-vector model//'' or ''//O(n)//'' model, n-component unit length classical spins $s_i$ are placed on the vertices of a lattice.  The Hamiltonian of the n-vector model is given by $$H = -J\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}s_i\cdot s_j .$$
Special cases of the n-vector model are:
*$n=0;\;$ The Self Avoiding Walks (SAW).
*$n=1;\;$ The [[Ising Model]].  
*$n=2;\;$ The [[Classical XY Model]].
*$n=3;\;$ The [[Heisenberg Model]].  
*$n=4;\;$ The Toy model for the Higgs sector of the Standard Model.

!!Table of Models&lt;&lt;bibtex stanley1971introduction&gt;&gt;
|sortable3|k
|! |! |! |! |h

|sortable2|k
| !n | !Hamiltonian | !Name | !System |h
| $1$ | $$ -\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}J_{ij}\,s_{ix}s_{jx}$$ | Ising Model&lt;br&gt;&amp;nbsp; | one-component fluid;&lt;br&gt; binary alloy. |
| $2$ | $$ -\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}J_{ij}\left(s_{ix}s_{jx}+s_{iy}s_{jy}\right)$$ | XY Model&lt;br&gt;classical rotor model; | $\lambda-$transition in a&lt;br&gt;Bose fluid |
| $3$ | $$-\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}J_{ij}\left(s_{ix}s_{jx}+s_{iy}s_{jy}+s_{iz}s_{jz}\right)$$ | classical Heisenberg&lt;br&gt;model | ferromagnet;&lt;br&gt;antiferromagnet |
| $\vdots$ |&gt;|&gt;| |
| $\infty$ | $$-\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}\left(\sum_{m=1}^\infty J_{ij}s_{im}s_{jm}\right)$$ | spherical model | none |
|! |! |! |! |h

!!References</pre>
</div>
<div title="n-Vector Model Revision(0041)" modifier="Christopher Wilson" created="201404150107" tags="Revisions excludeMissing excludeSearch excludeLists excludeTimeline" changecount="42" content-type="text/x-tiddlywiki">
<pre>In the ''//n-vector model//'' or ''//O(n)//'' model, n-component unit length classical spins $s_i$ are placed on the vertices of a lattice.  The Hamiltonian of the n-vector model is given by $$H = -J\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}s_i\cdot s_j .$$
Special cases of the n-vector model are:
*$n=0;\;$ The Self Avoiding Walks (SAW).
*$n=1;\;$ The [[Ising Model]].  
*$n=2;\;$ The [[Classical XY Model]].
*$n=3;\;$ The [[Heisenberg Model]].  
*$n=4;\;$ The Toy model for the Higgs sector of the Standard Model.

!!Table of Models&lt;&lt;bibtex stanley1971introduction&gt;&gt;
|sortable3|k
|! |! |! |! |h
|sortable2|k
| !n | !Hamiltonian | !Name | !System |h
| $1$ | $$ -\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}J_{ij}\,s_{ix}s_{jx}$$ | Ising Model&lt;br&gt;&amp;nbsp; | one-component fluid;&lt;br&gt; binary alloy. |
| $2$ | $$ -\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}J_{ij}\left(s_{ix}s_{jx}+s_{iy}s_{jy}\right)$$ | XY Model&lt;br&gt;classical rotor model; | $\lambda-$transition in a&lt;br&gt;Bose fluid |
| $3$ | $$-\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}J_{ij}\left(s_{ix}s_{jx}+s_{iy}s_{jy}+s_{iz}s_{jz}\right)$$ | classical Heisenberg&lt;br&gt;model | ferromagnet;&lt;br&gt;antiferromagnet |
| $\vdots$ |&gt;|&gt;| |
| $\infty$ | $$-\sum_{&lt;{\scriptscriptstyle{i,j}&gt;}}\left(\sum_{m=1}^\infty J_{ij}s_{im}s_{jm}\right)$$ | spherical model | none |
|! |! |! |! |h

!!References</pre>
</div>
<div title="nZ2 Model Images" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404180211" modified="201404200616" tags="Images excludeTimeline excludeLists" changecount="25" content-type="text/x-tiddlywiki">
<pre>&lt;part H1H2&gt;
|centered|k
| !$\qquad\;\;$| !$\mathbb{Z}_2$ vs. $\mathbb{Z}_2\times\mathbb{Z}_2$ | !$\mathbb{Z}_2^*\times\mathbb{Z}_2^*$ vs. Clock$_4$ |
| !$\left&lt;M\right&gt;$ | [img[Research\Images\H1H2\2d H12, M_a.png]] | [img[Research\Images\H1H2\2d H12, M_b.png]] |
| !$\left&lt;H\right&gt;$ | [img[Research\Images\H1H2\2d H12, E_a.png]] | [img[Research\Images\H1H2\2d H12, E_b.png]] |
| !$X_{\small M}$ |[img[Research\Images\H1H2\2d H12, X_a.png]] | [img[Research\Images\H1H2\2d H12, X_b.png]] |
| !$C_{\small h}$ |[img[Research\Images\H1H2\2d H12, C_a.png]] | [img[Research\Images\H1H2\2d H12, C_b.png]] |
| !$\log\\X_{\small M}$  |[img[Research\Images\H1H2\2d H12, X_a_ln.png]] | [img[Research\Images\H1H2\2d H12, X_b_ln.png]] |
| !$\log\\C_{\small h}$ |[img[Research\Images\H1H2\2d H12, C_a_ln.png]] | [img[Research\Images\H1H2\2d H12, C_b_ln.png]] |
&lt;/part&gt;
&lt;part H5n&gt;
|centered|k
| !$\qquad\;\;$| !$\mathbb{Z}_2$ vs. $n\mathbb{Z}_2^*$ | !$\mathbb{Z}_2$ vs. $n\mathbb{Z}_2^*$, Scaled $T$-axis |
| !$\left&lt;M\right&gt;$ | [img[Research\Images\H1H2\2d H5n, M_a.png]] | [img[Research\Images\H1H2\2d H5na, M_a.png]] |
| !$\left&lt;H\right&gt;$ | [img[Research\Images\H1H2\2d H5n, E_a.png]] | [img[Research\Images\H1H2\2d H5na, E_a.png]] |
| !$X_{\small M}$ |[img[Research\Images\H1H2\2d H5n, X_a.png]] | [img[Research\Images\H1H2\2d H5na, X_a.png]] |
| !$C_{\small h}$ |[img[Research\Images\H1H2\2d H5n, C_a.png]] | [img[Research\Images\H1H2\2d H5na, C_a.png]] |
| !$\;\log\\\left&lt;M\right&gt;$  |[img[Research\Images\H1H2\2d H5n, M_a_ln.png]] | [img[Research\Images\H1H2\2d H5na, M_a_ln.png]] |
| !$\log\\X_{\small M}$  |[img[Research\Images\H1H2\2d H5n, X_a_ln.png]] | [img[Research\Images\H1H2\2d H5na, X_a_ln.png]] |
| !$\log\\C_{\small h}$ |[img[Research\Images\H1H2\2d H5n, C_a_ln.png]] | [img[Research\Images\H1H2\2d H5na, C_a_ln.png]] |
&lt;/part&gt;
&lt;part H3n&gt;
|centered|k
|&gt;| !$3\mathbb{Z}_2^*$ |
| [img[Research\Images\H1H2\2d H3n, M_a.png]] | [img[Research\Images\H1H2\2d H3n, E_a.png]] |
| [img[Research\Images\H1H2\2d H3n, X_a.png]] | [img[Research\Images\H1H2\2d H3n, C_a.png]] |
| [img[Research\Images\H1H2\2d H3n, X_b_ln.png]] | [img[Research\Images\H1H2\2d H3n, C_b_ln.png]] |
&lt;/part&gt;
&lt;part H4n&gt;
|centered|k
|&gt;| !$4\mathbb{Z}_2^*$ |
| [img[Research\Images\H1H2\2d H4n, M_a.png]] | [img[Research\Images\H1H2\2d H4n, E_a.png]] |
| [img[Research\Images\H1H2\2d H4n, X_a.png]] | [img[Research\Images\H1H2\2d H4n, C_a.png]] |
| [img[Research\Images\H1H2\2d H4n, X_b_ln.png]] | [img[Research\Images\H1H2\2d H4n, C_b_ln.png]] |
&lt;/part&gt;
&lt;part H55n&gt;
|centered|k
|&gt;| !$5\mathbb{Z}_2^*$ |
| [img[Research\Images\H1H2\2d H55n, M_a.png]] | [img[Research\Images\H1H2\2d H55n, E_a.png]] |
| [img[Research\Images\H1H2\2d H55n, X_a.png]] | [img[Research\Images\H1H2\2d H55n, C_a.png]] |
| [img[Research\Images\H1H2\2d H55n, X_b_ln.png]] | [img[Research\Images\H1H2\2d H55n, C_b_ln.png]] |
&lt;/part&gt;</pre>
</div>
<div title="noise.css" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405181005" tags="css excludeTimeline" changecount="2" alias="" content-type="text/css">
<pre>/*** SNIPPET STARTS ***/

.noise {
	position: relative;
	z-index: 1;
	}
		
.noise:before, .body-noise:before {
	content: &quot;&quot;;
	position: absolute;
	z-index: -1;
	top:0;
	bottom:0;
	left:0;
	right:0;
	background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAAUVBMVEWFhYWDg4N3d3dtbW17e3t1dXWBgYGHh4d5eXlzc3OLi4ubm5uVlZWPj4+NjY19fX2JiYl/f39ra2uRkZGZmZlpaWmXl5dvb29xcXGTk5NnZ2c8TV1mAAAAG3RSTlNAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAvEOwtAAAFVklEQVR4XpWWB67c2BUFb3g557T/hRo9/WUMZHlgr4Bg8Z4qQgQJlHI4A8SzFVrapvmTF9O7dmYRFZ60YiBhJRCgh1FYhiLAmdvX0CzTOpNE77ME0Zty/nWWzchDtiqrmQDeuv3powQ5ta2eN0FY0InkqDD73lT9c9lEzwUNqgFHs9VQce3TVClFCQrSTfOiYkVJQBmpbq2L6iZavPnAPcoU0dSw0SUTqz/GtrGuXfbyyBniKykOWQWGqwwMA7QiYAxi+IlPdqo+hYHnUt5ZPfnsHJyNiDtnpJyayNBkF6cWoYGAMY92U2hXHF/C1M8uP/ZtYdiuj26UdAdQQSXQErwSOMzt/XWRWAz5GuSBIkwG1H3FabJ2OsUOUhGC6tK4EMtJO0ttC6IBD3kM0ve0tJwMdSfjZo+EEISaeTr9P3wYrGjXqyC1krcKdhMpxEnt5JetoulscpyzhXN5FRpuPHvbeQaKxFAEB6EN+cYN6xD7RYGpXpNndMmZgM5Dcs3YSNFDHUo2LGfZuukSWyUYirJAdYbF3MfqEKmjM+I2EfhA94iG3L7uKrR+GdWD73ydlIB+6hgref1QTlmgmbM3/LeX5GI1Ux1RWpgxpLuZ2+I+IjzZ8wqE4nilvQdkUdfhzI5QDWy+kw5Wgg2pGpeEVeCCA7b85BO3F9DzxB3cdqvBzWcmzbyMiqhzuYqtHRVG2y4x+KOlnyqla8AoWWpuBoYRxzXrfKuILl6SfiWCbjxoZJUaCBj1CjH7GIaDbc9kqBY3W/Rgjda1iqQcOJu2WW+76pZC9QG7M00dffe9hNnseupFL53r8F7YHSwJWUKP2q+k7RdsxyOB11n0xtOvnW4irMMFNV4H0uqwS5ExsmP9AxbDTc9JwgneAT5vTiUSm1E7BSflSt3bfa1tv8Di3R8n3Af7MNWzs49hmauE2wP+ttrq+AsWpFG2awvsuOqbipWHgtuvuaAE+A1Z/7gC9hesnr+7wqCwG8c5yAg3AL1fm8T9AZtp/bbJGwl1pNrE7RuOX7PeMRUERVaPpEs+yqeoSmuOlokqw49pgomjLeh7icHNlG19yjs6XXOMedYm5xH2YxpV2tc0Ro2jJfxC50ApuxGob7lMsxfTbeUv07TyYxpeLucEH1gNd4IKH2LAg5TdVhlCafZvpskfncCfx8pOhJzd76bJWeYFnFciwcYfubRc12Ip/ppIhA1/mSZ/RxjFDrJC5xifFjJpY2Xl5zXdguFqYyTR1zSp1Y9p+tktDYYSNflcxI0iyO4TPBdlRcpeqjK/piF5bklq77VSEaA+z8qmJTFzIWiitbnzR794USKBUaT0NTEsVjZqLaFVqJoPN9ODG70IPbfBHKK+/q/AWR0tJzYHRULOa4MP+W/HfGadZUbfw177G7j/OGbIs8TahLyynl4X4RinF793Oz+BU0saXtUHrVBFT/DnA3ctNPoGbs4hRIjTok8i+algT1lTHi4SxFvONKNrgQFAq2/gFnWMXgwffgYMJpiKYkmW3tTg3ZQ9Jq+f8XN+A5eeUKHWvJWJ2sgJ1Sop+wwhqFVijqWaJhwtD8MNlSBeWNNWTa5Z5kPZw5+LbVT99wqTdx29lMUH4OIG/D86ruKEauBjvH5xy6um/Sfj7ei6UUVk4AIl3MyD4MSSTOFgSwsH/QJWaQ5as7ZcmgBZkzjjU1UrQ74ci1gWBCSGHtuV1H2mhSnO3Wp/3fEV5a+4wz//6qy8JxjZsmxxy5+4w9CDNJY09T072iKG0EnOS0arEYgXqYnXcYHwjTtUNAcMelOd4xpkoqiTYICWFq0JSiPfPDQdnt+4/wuqcXY47QILbgAAAABJRU5ErkJggg==);

	}

/*** SNIPPET ENDS ***/</pre>
</div>
<div title="onlineModePlugin" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405190429" tags="excludeTimeline systemConfig systemPalette" changecount="5" alias="" content-type="text/javascript">
<pre>if (jQuery.inArray(&quot;https&quot;, window.location.origin.split(&quot;:&quot;))&gt;-1){
jQuery('body')[0].id=&quot;onlineMode&quot;;
}
else {
jQuery('body')[0].id=&quot;localMode&quot;;
}
</pre>
</div>
<div title="overlay.js" modifier="Christopher Wilson" created="201404120231" modified="201404120332" tags="cmtw excludeTimeline systemConfig excludeLists" content-type="" changecount="2">
<pre>/***
|''Requires''|codemirror.js|
|''License''|[[codemirror.js]]|
***/

//{{{
CodeMirror.overlayMode=CodeMirror.overlayParser=function(e,r,o){return{startState:function(){return{base:CodeMirror.startState(e),overlay:CodeMirror.startState(r),basePos:0,baseCur:null,overlayPos:0,overlayCur:null}},copyState:function(o){return{base:CodeMirror.copyState(e,o.base),overlay:CodeMirror.copyState(r,o.overlay),basePos:o.basePos,baseCur:null,overlayPos:o.overlayPos,overlayCur:null}},token:function(a,n){return a.start==n.basePos&amp;&amp;(n.baseCur=e.token(a,n.base),n.basePos=a.pos),a.start==n.overlayPos&amp;&amp;(a.pos=a.start,n.overlayCur=r.token(a,n.overlay),n.overlayPos=a.pos),a.pos=Math.min(n.basePos,n.overlayPos),a.eol()&amp;&amp;(n.basePos=n.overlayPos=0),n.overlayCur==null?n.baseCur:n.baseCur!=null&amp;&amp;o?n.baseCur+&quot; &quot;+n.overlayCur:n.overlayCur},indent:e.indent&amp;&amp;function(r,o){return e.indent(r.base,o)},electricChars:e.electricChars,innerMode:function(r){return{state:r.base,mode:e}},blankLine:function(o){e.blankLine&amp;&amp;e.blankLine(o.base),r.blankLine&amp;&amp;r.blankLine(o.overlay)}}};
//}}}</pre>
</div>
<div title="perfect-scrollbar-0.4.10.min.js" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405180514" tags="systemConfig excludeTimeline js" changecount="5" alias="" content-type="text/javascript">
<pre>/*! perfect-scrollbar - v0.4.10
* http://noraesae.github.com/perfect-scrollbar/
* Copyright (c) 2014 Hyeonje Alex Jun; Licensed MIT */
(function(e){&quot;use strict&quot;;&quot;function&quot;==typeof define&amp;&amp;define.amd?define([&quot;jquery&quot;],e):&quot;object&quot;==typeof exports?e(require(&quot;jquery&quot;)):e(jQuery)})(function(e){&quot;use strict&quot;;var t={wheelSpeed:10,wheelPropagation:!1,minScrollbarLength:null,useBothWheelAxes:!1,useKeyboard:!0,suppressScrollX:!1,suppressScrollY:!1,scrollXMarginOffset:0,scrollYMarginOffset:0,includePadding:!1},o=function(){var e=0;return function(){var t=e;return e+=1,&quot;.perfect-scrollbar-&quot;+t}}();e.fn.perfectScrollbar=function(n,r){return this.each(function(){var l=e.extend(!0,{},t),s=e(this);if(&quot;object&quot;==typeof n?e.extend(!0,l,n):r=n,&quot;update&quot;===r)return s.data(&quot;perfect-scrollbar-update&quot;)&amp;&amp;s.data(&quot;perfect-scrollbar-update&quot;)(),s;if(&quot;destroy&quot;===r)return s.data(&quot;perfect-scrollbar-destroy&quot;)&amp;&amp;s.data(&quot;perfect-scrollbar-destroy&quot;)(),s;if(s.data(&quot;perfect-scrollbar&quot;))return s.data(&quot;perfect-scrollbar&quot;);s.addClass(&quot;ps-container&quot;);var a,i,c,u,d,p,f,h,v,g,b=e(&quot;&lt;div class='ps-scrollbar-x-rail'&gt;&lt;/div&gt;&quot;).appendTo(s),m=e(&quot;&lt;div class='ps-scrollbar-y-rail'&gt;&lt;/div&gt;&quot;).appendTo(s),w=e(&quot;&lt;div class='ps-scrollbar-x'&gt;&lt;/div&gt;&quot;).appendTo(b),T=e(&quot;&lt;div class='ps-scrollbar-y'&gt;&lt;/div&gt;&quot;).appendTo(m),L=parseInt(b.css(&quot;bottom&quot;),10),y=L===L,S=y?null:parseInt(b.css(&quot;top&quot;),10),I=parseInt(m.css(&quot;right&quot;),10),x=I===I,M=x?null:parseInt(m.css(&quot;left&quot;),10),P=&quot;rtl&quot;===s.css(&quot;direction&quot;),X=o(),D=function(e,t){var o=e+t,n=u-v;g=0&gt;o?0:o&gt;n?n:o;var r=parseInt(g*(p-u)/(u-v),10);s.scrollTop(r),y?b.css({bottom:L-r}):b.css({top:S+r})},Y=function(e,t){var o=e+t,n=c-f;h=0&gt;o?0:o&gt;n?n:o;var r=parseInt(h*(d-c)/(c-f),10);s.scrollLeft(r),x?m.css({right:I-r}):m.css({left:M+r})},k=function(e){return l.minScrollbarLength&amp;&amp;(e=Math.max(e,l.minScrollbarLength)),e},C=function(){var e={width:c,display:a?&quot;inherit&quot;:&quot;none&quot;};e.left=P?s.scrollLeft()+c-d:s.scrollLeft(),y?e.bottom=L-s.scrollTop():e.top=S+s.scrollTop(),b.css(e);var t={top:s.scrollTop(),height:u,display:i?&quot;inherit&quot;:&quot;none&quot;};x?t.right=P?d-s.scrollLeft()-I-T.outerWidth():I-s.scrollLeft():t.left=P?s.scrollLeft()+2*c-d-M-T.outerWidth():M+s.scrollLeft(),m.css(t),w.css({left:h,width:f}),T.css({top:g,height:v})},j=function(){c=l.includePadding?s.innerWidth():s.width(),u=l.includePadding?s.innerHeight():s.height(),d=s.prop(&quot;scrollWidth&quot;),p=s.prop(&quot;scrollHeight&quot;),!l.suppressScrollX&amp;&amp;d&gt;c+l.scrollXMarginOffset?(a=!0,f=k(parseInt(c*c/d,10)),h=parseInt(s.scrollLeft()*(c-f)/(d-c),10)):(a=!1,f=0,h=0,s.scrollLeft(0)),!l.suppressScrollY&amp;&amp;p&gt;u+l.scrollYMarginOffset?(i=!0,v=k(parseInt(u*u/p,10)),g=parseInt(s.scrollTop()*(u-v)/(p-u),10)):(i=!1,v=0,g=0,s.scrollTop(0)),g&gt;=u-v&amp;&amp;(g=u-v),h&gt;=c-f&amp;&amp;(h=c-f),C()},O=function(){var t,o;w.bind(&quot;mousedown&quot;+X,function(e){o=e.pageX,t=w.position().left,b.addClass(&quot;in-scrolling&quot;),e.stopPropagation(),e.preventDefault()}),e(document).bind(&quot;mousemove&quot;+X,function(e){b.hasClass(&quot;in-scrolling&quot;)&amp;&amp;(Y(t,e.pageX-o),e.stopPropagation(),e.preventDefault())}),e(document).bind(&quot;mouseup&quot;+X,function(){b.hasClass(&quot;in-scrolling&quot;)&amp;&amp;b.removeClass(&quot;in-scrolling&quot;)}),t=o=null},W=function(){var t,o;T.bind(&quot;mousedown&quot;+X,function(e){o=e.pageY,t=T.position().top,m.addClass(&quot;in-scrolling&quot;),e.stopPropagation(),e.preventDefault()}),e(document).bind(&quot;mousemove&quot;+X,function(e){m.hasClass(&quot;in-scrolling&quot;)&amp;&amp;(D(t,e.pageY-o),e.stopPropagation(),e.preventDefault())}),e(document).bind(&quot;mouseup&quot;+X,function(){m.hasClass(&quot;in-scrolling&quot;)&amp;&amp;m.removeClass(&quot;in-scrolling&quot;)}),t=o=null},E=function(e,t){var o=s.scrollTop();if(0===e){if(!i)return!1;if(0===o&amp;&amp;t&gt;0||o&gt;=p-u&amp;&amp;0&gt;t)return!l.wheelPropagation}var n=s.scrollLeft();if(0===t){if(!a)return!1;if(0===n&amp;&amp;0&gt;e||n&gt;=d-c&amp;&amp;e&gt;0)return!l.wheelPropagation}return!0},H=function(){l.wheelSpeed/=10;var e=!1;s.bind(&quot;mousewheel&quot;+X,function(t,o,n,r){var c=t.deltaX*t.deltaFactor||n,u=t.deltaY*t.deltaFactor||r;e=!1,l.useBothWheelAxes?i&amp;&amp;!a?(u?s.scrollTop(s.scrollTop()-u*l.wheelSpeed):s.scrollTop(s.scrollTop()+c*l.wheelSpeed),e=!0):a&amp;&amp;!i&amp;&amp;(c?s.scrollLeft(s.scrollLeft()+c*l.wheelSpeed):s.scrollLeft(s.scrollLeft()-u*l.wheelSpeed),e=!0):(s.scrollTop(s.scrollTop()-u*l.wheelSpeed),s.scrollLeft(s.scrollLeft()+c*l.wheelSpeed)),j(),e=e||E(c,u),e&amp;&amp;(t.stopPropagation(),t.preventDefault())}),s.bind(&quot;MozMousePixelScroll&quot;+X,function(t){e&amp;&amp;t.preventDefault()})},A=function(){var t=!1;s.bind(&quot;mouseenter&quot;+X,function(){t=!0}),s.bind(&quot;mouseleave&quot;+X,function(){t=!1});var o=!1;e(document).bind(&quot;keydown&quot;+X,function(n){if(t&amp;&amp;!e(document.activeElement).is(&quot;:input,[contenteditable]&quot;)){var r=0,l=0;switch(n.which){case 37:r=-30;break;case 38:l=30;break;case 39:r=30;break;case 40:l=-30;break;case 33:l=90;break;case 32:case 34:l=-90;break;case 35:l=-u;break;case 36:l=u;break;default:return}s.scrollTop(s.scrollTop()-l),s.scrollLeft(s.scrollLeft()+r),o=E(r,l),o&amp;&amp;n.preventDefault()}})},q=function(){var e=function(e){e.stopPropagation()};T.bind(&quot;click&quot;+X,e),m.bind(&quot;click&quot;+X,function(e){var t=parseInt(v/2,10),o=e.pageY-m.offset().top-t,n=u-v,r=o/n;0&gt;r?r=0:r&gt;1&amp;&amp;(r=1),s.scrollTop((p-u)*r)}),w.bind(&quot;click&quot;+X,e),b.bind(&quot;click&quot;+X,function(e){var t=parseInt(f/2,10),o=e.pageX-b.offset().left-t,n=c-f,r=o/n;0&gt;r?r=0:r&gt;1&amp;&amp;(r=1),s.scrollLeft((d-c)*r)})},F=function(){var t=function(e,t){s.scrollTop(s.scrollTop()-t),s.scrollLeft(s.scrollLeft()-e),j()},o={},n=0,r={},l=null,a=!1;e(window).bind(&quot;touchstart&quot;+X,function(){a=!0}),e(window).bind(&quot;touchend&quot;+X,function(){a=!1}),s.bind(&quot;touchstart&quot;+X,function(e){var t=e.originalEvent.targetTouches[0];o.pageX=t.pageX,o.pageY=t.pageY,n=(new Date).getTime(),null!==l&amp;&amp;clearInterval(l),e.stopPropagation()}),s.bind(&quot;touchmove&quot;+X,function(e){if(!a&amp;&amp;1===e.originalEvent.targetTouches.length){var l=e.originalEvent.targetTouches[0],s={};s.pageX=l.pageX,s.pageY=l.pageY;var i=s.pageX-o.pageX,c=s.pageY-o.pageY;t(i,c),o=s;var u=(new Date).getTime(),d=u-n;d&gt;0&amp;&amp;(r.x=i/d,r.y=c/d,n=u),e.preventDefault()}}),s.bind(&quot;touchend&quot;+X,function(){clearInterval(l),l=setInterval(function(){return.01&gt;Math.abs(r.x)&amp;&amp;.01&gt;Math.abs(r.y)?(clearInterval(l),void 0):(t(30*r.x,30*r.y),r.x*=.8,r.y*=.8,void 0)},10)})},z=function(){s.bind(&quot;scroll&quot;+X,function(){j()})},B=function(){s.unbind(X),e(window).unbind(X),e(document).unbind(X),s.data(&quot;perfect-scrollbar&quot;,null),s.data(&quot;perfect-scrollbar-update&quot;,null),s.data(&quot;perfect-scrollbar-destroy&quot;,null),w.remove(),T.remove(),b.remove(),m.remove(),b=m=w=T=a=i=c=u=d=p=f=h=L=y=S=v=g=I=x=M=P=X=null},K=function(t){s.addClass(&quot;ie&quot;).addClass(&quot;ie&quot;+t);var o=function(){var t=function(){e(this).addClass(&quot;hover&quot;)},o=function(){e(this).removeClass(&quot;hover&quot;)};s.bind(&quot;mouseenter&quot;+X,t).bind(&quot;mouseleave&quot;+X,o),b.bind(&quot;mouseenter&quot;+X,t).bind(&quot;mouseleave&quot;+X,o),m.bind(&quot;mouseenter&quot;+X,t).bind(&quot;mouseleave&quot;+X,o),w.bind(&quot;mouseenter&quot;+X,t).bind(&quot;mouseleave&quot;+X,o),T.bind(&quot;mouseenter&quot;+X,t).bind(&quot;mouseleave&quot;+X,o)},n=function(){C=function(){var e={left:h+s.scrollLeft(),width:f};y?e.bottom=L:e.top=S,w.css(e);var t={top:g+s.scrollTop(),height:v};x?t.right=I:t.left=M,T.css(t),w.hide().show(),T.hide().show()}};6===t&amp;&amp;(o(),n())},Q=&quot;ontouchstart&quot;in window||window.DocumentTouch&amp;&amp;document instanceof window.DocumentTouch,N=function(){var e=navigator.userAgent.toLowerCase().match(/(msie) ([\w.]+)/);e&amp;&amp;&quot;msie&quot;===e[1]&amp;&amp;K(parseInt(e[2],10)),j(),z(),O(),W(),q(),Q&amp;&amp;F(),s.mousewheel&amp;&amp;H(),l.useKeyboard&amp;&amp;A(),s.data(&quot;perfect-scrollbar&quot;,s),s.data(&quot;perfect-scrollbar-update&quot;,j),s.data(&quot;perfect-scrollbar-destroy&quot;,B)};return N(),s})}}),function(e){&quot;function&quot;==typeof define&amp;&amp;define.amd?define([&quot;jquery&quot;],e):&quot;object&quot;==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var s=t||window.event,a=i.call(arguments,1),c=0,u=0,d=0,p=0;if(t=e.event.fix(s),t.type=&quot;mousewheel&quot;,&quot;detail&quot;in s&amp;&amp;(d=-1*s.detail),&quot;wheelDelta&quot;in s&amp;&amp;(d=s.wheelDelta),&quot;wheelDeltaY&quot;in s&amp;&amp;(d=s.wheelDeltaY),&quot;wheelDeltaX&quot;in s&amp;&amp;(u=-1*s.wheelDeltaX),&quot;axis&quot;in s&amp;&amp;s.axis===s.HORIZONTAL_AXIS&amp;&amp;(u=-1*d,d=0),c=0===d?u:d,&quot;deltaY&quot;in s&amp;&amp;(d=-1*s.deltaY,c=d),&quot;deltaX&quot;in s&amp;&amp;(u=s.deltaX,0===d&amp;&amp;(c=-1*u)),0!==d||0!==u){if(1===s.deltaMode){var f=e.data(this,&quot;mousewheel-line-height&quot;);c*=f,d*=f,u*=f}else if(2===s.deltaMode){var h=e.data(this,&quot;mousewheel-page-height&quot;);c*=h,d*=h,u*=h}return p=Math.max(Math.abs(d),Math.abs(u)),(!l||l&gt;p)&amp;&amp;(l=p,n(s,p)&amp;&amp;(l/=40)),n(s,p)&amp;&amp;(c/=40,u/=40,d/=40),c=Math[c&gt;=1?&quot;floor&quot;:&quot;ceil&quot;](c/l),u=Math[u&gt;=1?&quot;floor&quot;:&quot;ceil&quot;](u/l),d=Math[d&gt;=1?&quot;floor&quot;:&quot;ceil&quot;](d/l),t.deltaX=u,t.deltaY=d,t.deltaFactor=l,t.deltaMode=0,a.unshift(t,c,u,d),r&amp;&amp;clearTimeout(r),r=setTimeout(o,200),(e.event.dispatch||e.event.handle).apply(this,a)}}function o(){l=null}function n(e,t){return u.settings.adjustOldDeltas&amp;&amp;&quot;mousewheel&quot;===e.type&amp;&amp;0===t%120}var r,l,s=[&quot;wheel&quot;,&quot;mousewheel&quot;,&quot;DOMMouseScroll&quot;,&quot;MozMousePixelScroll&quot;],a=&quot;onwheel&quot;in document||document.documentMode&gt;=9?[&quot;wheel&quot;]:[&quot;mousewheel&quot;,&quot;DomMouseScroll&quot;,&quot;MozMousePixelScroll&quot;],i=Array.prototype.slice;if(e.event.fixHooks)for(var c=s.length;c;)e.event.fixHooks[s[--c]]=e.event.mouseHooks;var u=e.event.special.mousewheel={version:&quot;3.1.9&quot;,setup:function(){if(this.addEventListener)for(var o=a.length;o;)this.addEventListener(a[--o],t,!1);else this.onmousewheel=t;e.data(this,&quot;mousewheel-line-height&quot;,u.getLineHeight(this)),e.data(this,&quot;mousewheel-page-height&quot;,u.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=a.length;e;)this.removeEventListener(a[--e],t,!1);else this.onmousewheel=null},getLineHeight:function(t){return parseInt(e(t)[&quot;offsetParent&quot;in e.fn?&quot;offsetParent&quot;:&quot;parent&quot;]().css(&quot;fontSize&quot;),10)},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind(&quot;mousewheel&quot;,e):this.trigger(&quot;mousewheel&quot;)},unmousewheel:function(e){return this.unbind(&quot;mousewheel&quot;,e)}})});</pre>
</div>
<div title="perfectScrollbar.css" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405180558" tags="css excludeTimeline" changecount="4" alias="" content-type="text/css">
<pre>.ps-container .ps-scrollbar-x-rail{position:absolute;bottom:3px;height:8px;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;opacity:0;filter:alpha(opacity=0);-o-transition:background-color .2s linear,opacity .2s linear;-webkit-transition:background-color .2s linear,opacity .2s linear;-moz-transition:background-color .2s linear,opacity .2s linear;transition:background-color .2s linear,opacity .2s linear}.ps-container:hover .ps-scrollbar-x-rail,.ps-container.hover .ps-scrollbar-x-rail{opacity:.6;filter:alpha(opacity=60)}.ps-container .ps-scrollbar-x-rail:hover,.ps-container .ps-scrollbar-x-rail.hover{background-color:#eee;opacity:.9;filter:alpha(opacity=90)}.ps-container .ps-scrollbar-x-rail.in-scrolling{background-color:#eee;opacity:.9;filter:alpha(opacity=90)}.ps-container .ps-scrollbar-y-rail{position:absolute;right:3px;width:8px;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;opacity:0;filter:alpha(opacity=0);-o-transition:background-color .2s linear,opacity .2s linear;-webkit-transition:background-color .2s linear,opacity .2s linear;-moz-transition:background-color .2s linear,opacity .2s linear;transition:background-color .2s linear,opacity .2s linear}.ps-container:hover .ps-scrollbar-y-rail,.ps-container.hover .ps-scrollbar-y-rail{opacity:.6;filter:alpha(opacity=60)}.ps-container .ps-scrollbar-y-rail:hover,.ps-container .ps-scrollbar-y-rail.hover{background-color:#eee;opacity:.9;filter:alpha(opacity=90)}.ps-container .ps-scrollbar-y-rail.in-scrolling{background-color:#eee;opacity:.9;filter:alpha(opacity=90)}.ps-container .ps-scrollbar-x{position:absolute;bottom:0;height:8px;background-color:#aaa;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;-o-transition:background-color .2s linear;-webkit-transition:background-color.2s linear;-moz-transition:background-color .2s linear;transition:background-color .2s linear}.ps-container.ie6 .ps-scrollbar-x{font-size:0}.ps-container .ps-scrollbar-x-rail:hover .ps-scrollbar-x,.ps-container .ps-scrollbar-x-rail.hover .ps-scrollbar-x{background-color:#999}.ps-container .ps-scrollbar-y{position:absolute;right:0;width:8px;background-color:#aaa;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;-o-transition:background-color .2s linear;-webkit-transition:background-color.2s linear;-moz-transition:background-color .2s linear;transition:background-color .2s linear}.ps-container.ie6 .ps-scrollbar-y{font-size:0}.ps-container .ps-scrollbar-y-rail:hover .ps-scrollbar-y,.ps-container .ps-scrollbar-y-rail.hover .ps-scrollbar-y{background-color:#999}.ps-container.ie .ps-scrollbar-x,.ps-container.ie .ps-scrollbar-y{visibility:hidden}.ps-container.ie:hover .ps-scrollbar-x,.ps-container.ie:hover .ps-scrollbar-y,.ps-container.ie.hover .ps-scrollbar-x,.ps-container.ie.hover .ps-scrollbar-y{visibility:visible}
</pre>
</div>
<div title="pgreF" modifier="Christopher Wilson" created="201402230012" modified="201404101156" tags="Folder excludeTimeline" changecount="1" alias="" content-type="">
<pre>*&lt;html&gt;&lt;i class=&quot;fa  fa-chevron-right&quot; style=&quot;font-size:6pt;position:relative;bottom:1pt;right:1.5pt;&quot;&gt;&lt;/i&gt;&lt;/html&gt;&lt;&lt;slider chkSliderpgre_srF pgre_srF 'Special Relativity' 'Special Relativity'&gt;&gt;
*&lt;html&gt;&lt;i class=&quot;fa  fa-chevron-right&quot; style=&quot;font-size:6pt;position:relative;bottom:1pt;right:1.5pt;&quot;&gt;&lt;/i&gt;&lt;/html&gt;&lt;&lt;slider chkSliderpgre_mechanics pgre_mechanics 'Mechanics' 'Classical Mechanics'&gt;&gt;</pre>
</div>
<div title="pgre_mechanics" modifier="Christopher Wilson" created="201403180003" tags="Folder excludeTimeline" changecount="1" alias="" content-type="">
<pre>&lt;&lt;tiddlerList tags:&quot;PGRE Mechanics&quot;&gt;&gt;</pre>
</div>
<div title="pgre_srF" modifier="Christopher Wilson" created="201402230021" modified="201404121823" tags="excludeTimeline Folder" content-type="" changecount="3">
<pre>&lt;&lt;tiddlerList tags:&quot;PGRE specialRelativity&quot;&gt;&gt;</pre>
</div>
<div title="physicsF" modifier="Christopher Wilson" created="201305280033" modified="201404101157" tags="Folder excludeTimeline" changecount="1" alias="" content-type="">
<pre>*&lt;html&gt;&lt;i class=&quot;fa  fa-chevron-right&quot; style=&quot;font-size:6pt;position:relative;bottom:1pt;right:1.5pt;&quot;&gt;&lt;/i&gt;&lt;/html&gt;&lt;&lt;slider chkSliderclaF cmF 'Classical Mechanics' 'Classical Mechanics'&gt;&gt;
*&lt;html&gt;&lt;i class=&quot;fa  fa-chevron-right&quot; style=&quot;font-size:6pt;position:relative;bottom:1pt;right:1.5pt;&quot;&gt;&lt;/i&gt;&lt;/html&gt;&lt;&lt;slider chkSliderptF ptF 'Plasma Theory' 'Plasma Theory'&gt;&gt;
*&lt;html&gt;&lt;i class=&quot;fa  fa-chevron-right&quot; style=&quot;font-size:6pt;position:relative;bottom:1pt;right:1.5pt;&quot;&gt;&lt;/i&gt;&lt;/html&gt;&lt;&lt;slider chkSliderqmF qmF 'Quantum Mechanics' 'Quantum Mechanics'&gt;&gt;
&lt;&lt;tiddlerList tags:&quot;Physics&quot;&gt;&gt;</pre>
</div>
<div title="ptF" modifier="Christopher Wilson" created="201305280149" modified="201404121823" tags="excludeTimeline Folder" content-type="" changecount="3">
<pre>&lt;&lt;tiddlerList tags:&quot;Plasma Theory&quot;&gt;&gt;</pre>
</div>
<div title="python.js" modifier="Christopher Wilson" created="201404120231" modified="201404120233" tags="cmtw excludeTimeline systemConfig excludeLists" changecount="2">
<pre>/***
|''Requires''|codemirror.js|
|''License''|[[codemirror.js]]|
***/

//{{{
CodeMirror.defineMode(&quot;python&quot;,function(e,t){function n(e){return new RegExp(&quot;^((&quot;+e.join(&quot;)|(&quot;)+&quot;))\\b&quot;)}function r(e,t){if(e.sol()){var n=t.scopes[0].offset;if(e.eatSpace()){var r=e.indentation();return r&gt;n?E=&quot;indent&quot;:n&gt;r&amp;&amp;(E=&quot;dedent&quot;),null}n&gt;0&amp;&amp;o(e,t)}if(e.eatSpace())return null;var a=e.peek();if(&quot;#&quot;===a)return e.skipToEnd(),&quot;comment&quot;;if(e.match(/^[0-9\.]/,!1)){var s=!1;if(e.match(/^\d*\.\d+(e[\+\-]?\d+)?/i)&amp;&amp;(s=!0),e.match(/^\d+\.\d*/)&amp;&amp;(s=!0),e.match(/^\.\d+/)&amp;&amp;(s=!0),s)return e.eat(/J/i),&quot;number&quot;;var b=!1;if(e.match(/^0x[0-9a-f]+/i)&amp;&amp;(b=!0),e.match(/^0b[01]+/i)&amp;&amp;(b=!0),e.match(/^0o[0-7]+/i)&amp;&amp;(b=!0),e.match(/^[1-9]\d*(e[\+\-]?\d+)?/)&amp;&amp;(e.eat(/J/i),b=!0),e.match(/^0(?![\dx])/i)&amp;&amp;(b=!0),b)return e.eat(/L/i),&quot;number&quot;}return e.match(v)?(t.tokenize=i(e.current()),t.tokenize(e,t)):e.match(d)||e.match(u)?null:e.match(f)||e.match(c)||e.match(h)?&quot;operator&quot;:e.match(p)?null:e.match(k)?&quot;keyword&quot;:e.match(w)?&quot;builtin&quot;:e.match(m)?&quot;variable&quot;:(e.next(),l)}function i(e){function n(n,o){for(;!n.eol();)if(n.eatWhile(/[^'&quot;\\]/),n.eat(&quot;\\&quot;)){if(n.next(),i&amp;&amp;n.eol())return a}else{if(n.match(e))return o.tokenize=r,a;n.eat(/['&quot;]/)}if(i){if(t.singleLineStringErrors)return l;o.tokenize=r}return a}for(;&quot;rub&quot;.indexOf(e.charAt(0).toLowerCase())&gt;=0;)e=e.substr(1);var i=e.length==1,a=&quot;string&quot;;return n.isString=!0,n}function a(t,n,r){r=r||&quot;py&quot;;var i=0;if(&quot;py&quot;===r){if(n.scopes[0].type!==&quot;py&quot;)return n.scopes[0].offset=t.indentation(),void 0;for(var a=0;a&lt;n.scopes.length;++a)if(n.scopes[a].type===&quot;py&quot;){i=n.scopes[a].offset+e.indentUnit;break}}else i=t.column()+t.current().length;n.scopes.unshift({offset:i,type:r})}function o(e,t,n){if(n=n||&quot;py&quot;,t.scopes.length!=1){if(t.scopes[0].type===&quot;py&quot;){for(var r=e.indentation(),i=-1,a=0;a&lt;t.scopes.length;++a)if(r===t.scopes[a].offset){i=a;break}if(-1===i)return!0;for(;t.scopes[0].offset!==r;)t.scopes.shift();return!1}return&quot;py&quot;===n?(t.scopes[0].offset=e.indentation(),!1):t.scopes[0].type!=n?!0:(t.scopes.shift(),!1)}}function s(e,t){E=null;var n=t.tokenize(e,t),r=e.current();if(&quot;.&quot;===r)return n=e.match(m,!1)?null:l,null===n&amp;&amp;t.lastToken===&quot;meta&quot;&amp;&amp;(n=&quot;meta&quot;),n;if(&quot;@&quot;===r)return e.match(m,!1)?&quot;meta&quot;:l;&quot;variable&quot;!==n&amp;&amp;&quot;builtin&quot;!==n||t.lastToken!==&quot;meta&quot;||(n=&quot;meta&quot;),(&quot;pass&quot;===r||&quot;return&quot;===r)&amp;&amp;(t.dedent+=1),&quot;lambda&quot;===r&amp;&amp;(t.lambda=!0),(&quot;:&quot;===r&amp;&amp;!t.lambda&amp;&amp;t.scopes[0].type==&quot;py&quot;||&quot;indent&quot;===E)&amp;&amp;a(e,t);var i=&quot;[({&quot;.indexOf(r);return-1!==i&amp;&amp;a(e,t,&quot;])}&quot;.slice(i,i+1)),&quot;dedent&quot;===E&amp;&amp;o(e,t)?l:(i=&quot;])}&quot;.indexOf(r),-1!==i&amp;&amp;o(e,t,r)?l:(t.dedent&gt;0&amp;&amp;e.eol()&amp;&amp;t.scopes[0].type==&quot;py&quot;&amp;&amp;(t.scopes.length&gt;1&amp;&amp;t.scopes.shift(),t.dedent-=1),n))}var l=&quot;error&quot;,c=new RegExp(&quot;^[\\+\\-\\*/%&amp;|\\^~&lt;&gt;!]&quot;),p=new RegExp(&quot;^[\\(\\)\\[\\]\\{\\}@,:`=;\\.]&quot;),f=new RegExp(&quot;^((==)|(!=)|(&lt;=)|(&gt;=)|(&lt;&gt;)|(&lt;&lt;)|(&gt;&gt;)|(//)|(\\*\\*))&quot;),u=new RegExp(&quot;^((\\+=)|(\\-=)|(\\*=)|(%=)|(/=)|(&amp;=)|(\\|=)|(\\^=))&quot;),d=new RegExp(&quot;^((//=)|(&gt;&gt;=)|(&lt;&lt;=)|(\\*\\*=))&quot;),m=new RegExp(&quot;^[_A-Za-z][_A-Za-z0-9]*&quot;),h=n([&quot;and&quot;,&quot;or&quot;,&quot;not&quot;,&quot;is&quot;,&quot;in&quot;]),b=[&quot;as&quot;,&quot;assert&quot;,&quot;break&quot;,&quot;class&quot;,&quot;continue&quot;,&quot;def&quot;,&quot;del&quot;,&quot;elif&quot;,&quot;else&quot;,&quot;except&quot;,&quot;finally&quot;,&quot;for&quot;,&quot;from&quot;,&quot;global&quot;,&quot;if&quot;,&quot;import&quot;,&quot;lambda&quot;,&quot;pass&quot;,&quot;raise&quot;,&quot;return&quot;,&quot;try&quot;,&quot;while&quot;,&quot;with&quot;,&quot;yield&quot;],y=[&quot;abs&quot;,&quot;all&quot;,&quot;any&quot;,&quot;bin&quot;,&quot;bool&quot;,&quot;bytearray&quot;,&quot;callable&quot;,&quot;chr&quot;,&quot;classmethod&quot;,&quot;compile&quot;,&quot;complex&quot;,&quot;delattr&quot;,&quot;dict&quot;,&quot;dir&quot;,&quot;divmod&quot;,&quot;enumerate&quot;,&quot;eval&quot;,&quot;filter&quot;,&quot;float&quot;,&quot;format&quot;,&quot;frozenset&quot;,&quot;getattr&quot;,&quot;globals&quot;,&quot;hasattr&quot;,&quot;hash&quot;,&quot;help&quot;,&quot;hex&quot;,&quot;id&quot;,&quot;input&quot;,&quot;int&quot;,&quot;isinstance&quot;,&quot;issubclass&quot;,&quot;iter&quot;,&quot;len&quot;,&quot;list&quot;,&quot;locals&quot;,&quot;map&quot;,&quot;max&quot;,&quot;memoryview&quot;,&quot;min&quot;,&quot;next&quot;,&quot;object&quot;,&quot;oct&quot;,&quot;open&quot;,&quot;ord&quot;,&quot;pow&quot;,&quot;property&quot;,&quot;range&quot;,&quot;repr&quot;,&quot;reversed&quot;,&quot;round&quot;,&quot;set&quot;,&quot;setattr&quot;,&quot;slice&quot;,&quot;sorted&quot;,&quot;staticmethod&quot;,&quot;str&quot;,&quot;sum&quot;,&quot;super&quot;,&quot;tuple&quot;,&quot;type&quot;,&quot;vars&quot;,&quot;zip&quot;,&quot;__import__&quot;,&quot;NotImplemented&quot;,&quot;Ellipsis&quot;,&quot;__debug__&quot;],g={builtins:[&quot;apply&quot;,&quot;basestring&quot;,&quot;buffer&quot;,&quot;cmp&quot;,&quot;coerce&quot;,&quot;execfile&quot;,&quot;file&quot;,&quot;intern&quot;,&quot;long&quot;,&quot;raw_input&quot;,&quot;reduce&quot;,&quot;reload&quot;,&quot;unichr&quot;,&quot;unicode&quot;,&quot;xrange&quot;,&quot;False&quot;,&quot;True&quot;,&quot;None&quot;],keywords:[&quot;exec&quot;,&quot;print&quot;]},x={builtins:[&quot;ascii&quot;,&quot;bytes&quot;,&quot;exec&quot;,&quot;print&quot;],keywords:[&quot;nonlocal&quot;,&quot;False&quot;,&quot;True&quot;,&quot;None&quot;]};if(t.version&amp;&amp;parseInt(t.version,10)===3){b=b.concat(x.keywords),y=y.concat(x.builtins);var v=new RegExp(&quot;^(([rb]|(br))?('{3}|\&quot;{3}|['\&quot;]))&quot;,&quot;i&quot;)}else{b=b.concat(g.keywords),y=y.concat(g.builtins);var v=new RegExp(&quot;^(([rub]|(ur)|(br))?('{3}|\&quot;{3}|['\&quot;]))&quot;,&quot;i&quot;)}var k=n(b),w=n(y),E=null,z={startState:function(e){return{tokenize:r,scopes:[{offset:e||0,type:&quot;py&quot;}],lastToken:null,lambda:!1,dedent:0}},token:function(e,t){var n=s(e,t);return t.lastToken=n,e.eol()&amp;&amp;e.lambda&amp;&amp;(t.lambda=!1),n},indent:function(e){return e.tokenize!=r?e.tokenize.isString?CodeMirror.Pass:0:e.scopes[0].offset}};return z}),CodeMirror.defineMIME(&quot;text/x-python&quot;,&quot;python&quot;);
//}}}</pre>
</div>
<div title="qftF" modifier="Christopher Wilson" created="201305280148" modified="201404121823" tags="excludeTimeline Folder" alias="" content-type="" changecount="4">
<pre>&lt;&lt;tiddlerList tags:&quot;FieldTheory&quot;&gt;&gt;</pre>
</div>
<div title="qmF" modifier="Christopher Wilson" created="201305280150" modified="201404121430" tags="excludeTimeline" content-type="" changecount="2">
<pre>&lt;&lt;tiddlerList tags:&quot;QuantumMechanics&quot;&gt;&gt;</pre>
</div>
<div title="runmode.js" modifier="Christopher Wilson" created="201404120231" modified="201404120233" tags="cmtw excludeTimeline systemConfig excludeLists" changecount="2">
<pre>/***
|''Requires''|codemirror.js|
|''License''|[[codemirror.js]]|
***/

//{{{
CodeMirror.runMode=function(r,e,o,n){function t(r){return r.replace(/[&lt;&amp;]/g,function(r){return&quot;&lt;&quot;==r?&quot;&amp;lt;&quot;:&quot;&amp;amp;&quot;})}var i=CodeMirror.getMode(CodeMirror.defaults,e),a=o.nodeType==1,s=n&amp;&amp;n.tabSize||CodeMirror.defaults.tabSize;if(a){var d=o,f=[],u=0;o=function(r,e){if(&quot;\n&quot;==r)return f.push(&quot;&lt;br&gt;&quot;),u=0,void 0;for(var o=&quot;&quot;,n=0;;){var i=r.indexOf(&quot;	&quot;,n);if(-1==i){o+=t(r.slice(n)),u+=r.length-n;break}u+=i-n,o+=t(r.slice(n,i));var a=s-u%s;u+=a;for(var d=0;a&gt;d;++d)o+=&quot; &quot;;n=i+1}e?f.push('&lt;span class=&quot;cm-'+t(e)+'&quot;&gt;'+o+&quot;&lt;/span&gt;&quot;):f.push(o)}}for(var l=CodeMirror.splitLines(r),c=CodeMirror.startState(i),p=0,v=l.length;v&gt;p;++p){p&amp;&amp;o(&quot;\n&quot;);for(var M=new CodeMirror.StringStream(l[p]);!M.eol();){var C=i.token(M,c);o(M.current(),C,p,M.start),M.start=M.pos}}a&amp;&amp;(d.innerHTML=f.join(&quot;&quot;))};
//}}}</pre>
</div>
<div title="sidebar.css" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405180556" modified="201405180557" tags="css excludeTimeline" changecount="256" alias="" content-type="text/css">
<pre>#sidebar {display:block;position:fixed;height:100%;
	top:32px; right:12px; width:21.0em;
	font-size:10pt;}


#sidebar .tabContents{
	box-shadow:  4px 4px 2px -2px #888;
	-moz-box-shadow:  4px 4px 2px -2px #888;
	-webkit-box-shadow: 4px 4px 2px -2px #888;
	width:19.7em; font-size:1em;
	background:[[ColorPalette::TertiaryPale]];
	border: 0px;border-top: 1px solid #ddd;
	margin:4px -5px 45px 1px;z-index:10;

		
}
#sidebar .tabMoreClass .tabContents{margin-bottom:-4px;margin-right:-5px !important;
	box-shadow:  0px 0px 0px 0px #888;
	-moz-box-shadow: 0px 0px 0px 0px #888;
	-webkit-box-shadow: 0px 0px 0px 0px #888;
		
}



#sidebarTabs {max-height:100%;overflow: hidden;}




#sidebarTabs {width:21.05em;}



#sidebarTabs span.close {color:[[ColorPalette::TertiaryMid]];cursor:pointer;font-weight:bold;
	-webkit-transition: all 0.2s linear;
  -moz-transition: all 0.2s linear;;
  -o-transition: all 0.2s linear;
  transition: all 0.2s linear;
text-shadow:0px 0px .5px [[ColorPalette::TertiaryMid]];font-size:9pt;position:relative;bottom:1px;}
#sidebarTabs .close:hover {color:[[ColorPalette::Error]];text-shadow:0px 0px .75px [[ColorPalette::Error]];}

#sidebar {
-webkit-transition: all 0.2s ease-in-out;
  -moz-transition: all 0.2s ease-in-out;
  -o-transition: all 0.2s ease-in-out;
  transition: all 0.2s ease-in-out;
}

#sidebar .tabContents .tiddlyLink{
-webkit-transition: all 0.1s linear;
  -moz-transition: all 0.1s linear;
  -o-transition: all 0.1s linear;
  transition: all 0.1s linear;}

#sidebarTabs .tabUnselected {padding-bottom:0px !important;
		color:#888; background:[[ColorPalette::TertiaryLighter]] !important;
	border-top: 1px solid #ddd !important;
	border-left:1px solid #ddd !important;
	border-right:1px solid #bbb !important;
	border-bottom:4px solid [[ColorPalette::TertiaryLighter]] !important;

-webkit-transition: all 0.2s ease-in-out;
  -moz-transition: all 0.2s ease-in-out;
  -o-transition: all 0.2s ease-in-out;
  transition: all 0.2s ease-in-out;}
#sidebarTabs .tabUnselected:hover {
	border-left:1px solid [[ColorPalette::TertiaryPale]] !important;
	border-top:1px solid [[ColorPalette::TertiaryPale]] !important;
	border-right:1px solid [[ColorPalette::TertiaryMid]] !important;
	border-bottom:4px solid [[ColorPalette::TertiaryLight]] !important;
color:[[ColorPalette::TertiaryDark]];background:[[ColorPalette::TertiaryLight]] !important;}

#sidebarTabs .tabSelected {color:[[ColorPalette::TertiaryDarker]];
	background:[[ColorPalette::TertiaryPale]];
	border-left:1px solid [[ColorPalette::TertiaryPale]];
	border-top:1px solid [[ColorPalette::TertiaryDark]];
	border-right:1px solid [[ColorPalette::TertiaryMid]];
	border-bottom:0px solid [[ColorPalette::TertiaryPale]];
	 box-shadow: 6px 2px 2px -4px #888, 
				0px 1px 1.5px -1px [[ColorPalette::TertiaryMid]] inset !important;
-moz-box-shadow: 6px 2px 2px -4px  #888,0px 1px 1.5px -1px [[ColorPalette::TertiaryMid]] inset !important;
-webkit-box-shadow: 0px 3px 0px 0px [[ColorPalette::TertiaryPale]], 4px 2px 2px -2px #888, 0px 1px 1.5px -1px [[ColorPalette::TertiaryMid]] inset !important;
}
#sidebarTabs .tab {
-moz-border-radius: 20px !important;
-webkit-border-radius:2px !important;
border-radius: 3px 3px 0px 0px !important; /* future proofing */
-khtml-border-radius: 2px !important; /* for old Konqueror browsers */
-webkit-transition: all 0.2s ease-in-out;
  -moz-transition: all 0.2s ease-in-out;
  -o-transition: all 0.2s ease-in-out;
  transition: all 0.2s ease-in-out;
}


				
#sidebarOptions {display:none !important;}
			



.ToggleRightSidebar {position:relative;top:2px;font-size:16px;margin-left:-3px;}


#sidebarTabs .tiddlyLinkExisting {font-weight:normal;}

/*
#sidebarOptions {padding-top:0.0em;margin-top:-4px;width:100%;}
#sidebarOptions a {margin:0 0.1em; padding:0.2em 0.4em;font-size:10pt;}
#sidebarOptions i {font-size:15pt;margin:0 0.1em;color:[[ColorPalette::PrimaryMid]];}
#sidebarOptions input {margin:0.4em 0.2em;}
#sidebarOptions .sliderPanel {margin-left:1em; padding:0.5em; font-size:0.85em;}
#sidebarOptions .sliderPanel a {font-weight:bold;  padding:0;}
#sidebarOptions .sliderPanel input {margin:0 0 0.3em 0;}
#sidebarOptions .searchButton { position:absolute;right:5px;margin-top:8px;font-size:8px;display: none !important;}
#sidebarOptions  a:hover { color:#FFF;}
#sidebarOptions input {width:210pt;margin-left:-1px;display: none !important;}
#sidebarOptions {padding-top:0.8em;}
*/

#sidebarTabs .tabContents ul{
	margin-left: .75em;
	overflow: hidden;}
#sidebarTabs .tabsetWrapper {margin-top:15.8px;}
#sidebarTabs .tabset {padding: 0px;margin:0px;}
#sidebarTabs .tab {margin: 0em 0em 0em 0.1em;
	padding: 3px;margin-bottom:3px;
	margin-top:0px;
	margin-right:2px;
	border-top: 1px solid #ddd;
	border-left:1px solid [[ColorPalette::TertiaryPale]];
	border-right:1px solid #ddd;
	overflow:visible;
}
</pre>
</div>
<div title="systemConfig" modifier="Christopher Wilson" created="201111130925" modified="201404132245" tags="excludeTimeline excludeTagging" changecount="3" content-type="" taggly.excerpts="descr">
<pre></pre>
</div>
<div title="tabOpenPlugin" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405171620" modified="201405171707" tags="excludeTimeline systemConfig hijack" changecount="12" alias="" content-type="text/javascript">
<pre>// cache the old value of the function
var _cache = Story.prototype.closeTiddler;
// override the existing value
Story.prototype.closeTiddler = function (title,animate,unused)
{
// do something new
setTimeout(function(){refreshDisplay();},500);console.log('closeTiddler - refreshing TabOpen');
// apply the old value
return _cache.apply(this, arguments);
};

</pre>
</div>
<div title="test.bib" modifier="Christopher Wilson" created="201404092051" modified="201404110746" tags="excludeTimeline bib" changecount="2">
<pre> @misc{ wiki:Connectedspace,
   author = {Wikipedia},
   title = {Connected space --- Wikipedia, The Free Encyclopedia},
   year = {2014},
   url = {http://en.wikipedia.org/w/index.php?title=Connected_space&amp;oldid=603516820},
   note = {[Online; accessed 11-April-2014]}
 }

@book{munkres2000topology,
  title={Topology},
  author={Munkres, J.R.},
  isbn={9780131816299},
  lccn={99052942},
  url={http://books.google.com/books?id=XjoZAQAAIAAJ},
  year={2000},
  publisher={Prentice Hall, Incorporated}
}

@article{2014trivialtopology,
 author = {Barile, Margherita},
 title = {&quot;Trivial Topology&quot;},
 journal= {From MathWorld--A Wolfram Web Resource, created by Eric W. Weisstein.},
 day= {31},
 month = {mar},
 year = {2014},
 url={http://mathworld.wolfram.com/TrivialTopology.html}
}
 @comment{ Rowland, Todd. &quot;Discrete Topology.&quot; From MathWorld--A Wolfram Web 
           Resource, created by Eric W. Weisstein. }
@article{rowlanddiscrete,
 author = {Rowland, Todd},
 title = {&quot;Discrete Topology&quot;},
 journal= {From MathWorld--A Wolfram Web Resource, created by Eric W. Weisstein.},
 day= {31},
 month = {mar},
 year = {2014},
 url={http://mathworld.wolfram.com/DiscreteTopology.html}
}


@article{PhysRevE.53.3402,
  title = {Microcanonical ensemble Monte Carlo method for discrete systems},
  author = {Ray, John R. and Frel\'echoz, Claude},
  journal = {Phys. Rev. E},
  volume = {53},
  issue = {4},
  pages = {3402-3407},
  numpages = {0},
  year = {1996},
  month = {Apr},
  publisher = {American Physical Society},
  doi = {10.1103/PhysRevE.53.3402},
  url = {http://link.aps.org/doi/10.1103/PhysRevE.53.3402}
}


@INPROCEEDINGS{Purcell1946,
  author = {Purcell, E. M.},
  title = {Spontaneous emission probabilities at radio frequencies},
  year = {1946},
  volume = {69},
  pages = {681+},
  citeulike-article-id = {2154423},
  citeulike-linkout-0 = {http://prola.aps.org/pdf/PR/v69/i11-12/p674_2},
  file = {:./spontaneous emission probabilities at radio frequencies.pdf:PDF},
  journal = {Physical Review},
  posted-at = {2007-12-21 08:13:21},
  priority = {0},
  url = {http://prola.aps.org/pdf/PR/v69/i11-12/p674_2}
}

@book{chen1984introduction,
  title={Introduction to Plasma Physics and Controlled Fusion},
  author={Chen, F.F.},
  number={v. 1},
  isbn={9780306413322},
  lccn={lc83017666},
  series={Introduction to Plasma Physics and Controlled Fusion},
  url={http://books.google.com/books?id=ToAtqnznr80C},
  year={1984},
  publisher={Springer}
}</pre>
</div>
<div title="tiddlywiki.css" modifier="Christopher Wilson" created="201404120232" modified="201404120233" tags="cmtw excludeTimeline excludeLists css" changecount="1" alias="" content-type="">
<pre>/*{{{*/
.cm-s-default span.cm-header {color: blue; font-weight:bold;}
.cm-s-default span.cm-code {color: #a50;}
.cm-s-default span.cm-code-inline {color: #660;}

.cm-s-default span.cm-quote {color: #555;}
.cm-s-default span.cm-list {color: #c60;}
.cm-s-default span.cm-hr {color: #999;}
.cm-s-default span.cm-em {font-style: italic;}
.cm-s-default span.cm-strong {font-weight: bold;}

.cm-s-default span.cm-link-external {color: blue;}
.cm-s-default span.cm-brace {color: #170; font-weight: bold;}
.cm-s-default span.cm-macro {color: #9E3825;}
.cm-s-default span.cm-table {color: blue; font-weight: bold;}
.cm-s-default span.cm-warning {color: red; font-weight: bold;}

.cm-s-default span.cm-underlined {text-decoration: underline;}
.cm-s-default span.cm-line-through {text-decoration: line-through;}

.cm-s-default span.cm-comment {color: #666;}


/*}}}*/</pre>
</div>
<div title="tiddlywiki.js" modifier="Christopher Wilson" created="201404120232" modified="201404120233" tags="cmtw excludeTimeline systemConfig excludeLists" changecount="2">
<pre>//{{{
/***
|''Name''|tiddlywiki.js|
|''Description''|Enables TiddlyWikiy syntax highlighting using CodeMirror|
|''Author''|PMario|
|''Version''|0.1.7|
|''Status''|''stable''|
|''Source''|[[GitHub|https://github.com/pmario/CodeMirror2/blob/tw-syntax/mode/tiddlywiki]]|
|''Documentation''|http://codemirror.tiddlyspace.com/|
|''License''|[[MIT License|http://www.opensource.org/licenses/mit-license.php]]|
|''CoreVersion''|2.5.0|
|''Requires''|codemirror.js|
|''Keywords''|syntax highlighting color code mirror codemirror|
! Info
CoreVersion parameter is needed for TiddlyWiki only!
***/
//{{{
CodeMirror.defineMode(&quot;tiddlywiki&quot;,function(e,t){function y(e,t,n){return t.tokenize=n,n(e,t)}function b(e,t){var n=!1,r;while((r=e.next())!=null){if(r==t&amp;&amp;!n)return!1;n=!n&amp;&amp;r==&quot;\\&quot;}return n}function S(e,t,n){return w=e,E=n,t}function x(e,t){var n=e.sol(),i,v;t.block=!1,i=e.peek();if(n&amp;&amp;/[&lt;\/\*{}\-]/.test(i)){if(e.match(d))return t.block=!0,y(e,t,k);if(e.match(f))return S(&quot;quote&quot;,&quot;quote&quot;);if(e.match(u)||e.match(a))return S(&quot;code&quot;,&quot;code&quot;);if(e.match(l)||e.match(c)||e.match(h)||e.match(p))return S(&quot;code&quot;,&quot;code&quot;);if(e.match(o))return S(&quot;hr&quot;,&quot;hr&quot;)}i=e.next();if(n&amp;&amp;/[\/\*!#;:&gt;|]/.test(i)){if(i==&quot;!&quot;)return e.skipToEnd(),S(&quot;header&quot;,&quot;header&quot;);if(i==&quot;*&quot;)return e.eatWhile(&quot;*&quot;),S(&quot;list&quot;,&quot;list&quot;);if(i==&quot;#&quot;)return e.eatWhile(&quot;#&quot;),S(&quot;list&quot;,&quot;list&quot;);if(i==&quot;;&quot;)return e.eatWhile(&quot;;&quot;),S(&quot;list&quot;,&quot;list&quot;);if(i==&quot;:&quot;)return e.eatWhile(&quot;:&quot;),S(&quot;list&quot;,&quot;list&quot;);if(i==&quot;&gt;&quot;)return e.eatWhile(&quot;&gt;&quot;),S(&quot;quote&quot;,&quot;quote&quot;);if(i==&quot;|&quot;)return S(&quot;table&quot;,&quot;table&quot;)}if(i==&quot;{&quot;&amp;&amp;e.match(/\{\{/))return y(e,t,k);if(/[hf]/i.test(i)&amp;&amp;/[ti]/i.test(e.peek())&amp;&amp;e.match(/\b(ttps?|tp|ile):\/\/[\-A-Z0-9+&amp;@#\/%?=~_|$!:,.;]*[A-Z0-9+&amp;@#\/%=~_|$]/i))return S(&quot;link-external&quot;,&quot;link-external&quot;);if(i=='&quot;')return S(&quot;string&quot;,&quot;string&quot;);if(i==&quot;~&quot;)return S(&quot;text&quot;,&quot;brace&quot;);if(/[\[\]]/.test(i)&amp;&amp;e.peek()==i)return e.next(),S(&quot;brace&quot;,&quot;brace&quot;);if(i==&quot;@&quot;)return e.eatWhile(s),S(&quot;link-external&quot;,&quot;link-external&quot;);if(/\d/.test(i))return e.eatWhile(/\d/),S(&quot;number&quot;,&quot;number&quot;);if(i==&quot;/&quot;){if(e.eat(&quot;%&quot;))return y(e,t,N);if(e.eat(&quot;/&quot;))return y(e,t,L)}if(i==&quot;_&quot;&amp;&amp;e.eat(&quot;_&quot;))return y(e,t,A);if(i==&quot;-&quot;&amp;&amp;e.eat(&quot;-&quot;)){if(e.peek()!=&quot; &quot;)return y(e,t,O);if(e.peek()==&quot; &quot;)return S(&quot;text&quot;,&quot;brace&quot;)}if(i==&quot;'&quot;&amp;&amp;e.eat(&quot;'&quot;))return y(e,t,C);if(i!=&quot;&lt;&quot;)return S(i);if(e.eat(&quot;&lt;&quot;))return y(e,t,M);e.eatWhile(/[\w\$_]/);var m=e.current(),g=r.propertyIsEnumerable(m)&amp;&amp;r[m];return g?S(g.type,g.style,m):S(&quot;text&quot;,null,m)}function T(e){return function(t,n){return b(t,e)||(n.tokenize=x),S(&quot;string&quot;,&quot;string&quot;)}}function N(e,t){var n=!1,r;while(r=e.next()){if(r==&quot;/&quot;&amp;&amp;n){t.tokenize=x;break}n=r==&quot;%&quot;}return S(&quot;comment&quot;,&quot;comment&quot;)}function C(e,t){var n=!1,r;while(r=e.next()){if(r==&quot;'&quot;&amp;&amp;n){t.tokenize=x;break}n=r==&quot;'&quot;}return S(&quot;text&quot;,&quot;strong&quot;)}function k(e,t){var n,r=t.block;return r&amp;&amp;e.current()?S(&quot;code&quot;,&quot;code&quot;):!r&amp;&amp;e.match(g)?(t.tokenize=x,S(&quot;code&quot;,&quot;code-inline&quot;)):r&amp;&amp;e.sol()&amp;&amp;e.match(v)?(t.tokenize=x,S(&quot;code&quot;,&quot;code&quot;)):(n=e.next(),r?S(&quot;code&quot;,&quot;code&quot;):S(&quot;code&quot;,&quot;code-inline&quot;))}function L(e,t){var n=!1,r;while(r=e.next()){if(r==&quot;/&quot;&amp;&amp;n){t.tokenize=x;break}n=r==&quot;/&quot;}return S(&quot;text&quot;,&quot;em&quot;)}function A(e,t){var n=!1,r;while(r=e.next()){if(r==&quot;_&quot;&amp;&amp;n){t.tokenize=x;break}n=r==&quot;_&quot;}return S(&quot;text&quot;,&quot;underlined&quot;)}function O(e,t){var n=!1,r,i;while(r=e.next()){if(r==&quot;-&quot;&amp;&amp;n){t.tokenize=x;break}n=r==&quot;-&quot;}return S(&quot;text&quot;,&quot;line-through&quot;)}function M(e,t){var n,r,s,o;return e.current()==&quot;&lt;&lt;&quot;?S(&quot;brace&quot;,&quot;macro&quot;):(n=e.next(),n?n==&quot;&gt;&quot;&amp;&amp;e.peek()==&quot;&gt;&quot;?(e.next(),t.tokenize=x,S(&quot;brace&quot;,&quot;macro&quot;)):(e.eatWhile(/[\w\$_]/),s=e.current(),o=i.propertyIsEnumerable(s)&amp;&amp;i[s],o?S(o.type,o.style,s):S(&quot;macro&quot;,null,s)):(t.tokenize=x,S(n)))}var n=e.indentUnit,r=function(){function e(e){return{type:e,style:&quot;text&quot;}}return{}}(),i=function(){function e(e){return{type:e,style:&quot;macro&quot;}}return{allTags:e(&quot;allTags&quot;),closeAll:e(&quot;closeAll&quot;),list:e(&quot;list&quot;),newJournal:e(&quot;newJournal&quot;),newTiddler:e(&quot;newTiddler&quot;),permaview:e(&quot;permaview&quot;),saveChanges:e(&quot;saveChanges&quot;),search:e(&quot;search&quot;),slider:e(&quot;slider&quot;),tabs:e(&quot;tabs&quot;),tag:e(&quot;tag&quot;),tagging:e(&quot;tagging&quot;),tags:e(&quot;tags&quot;),tiddler:e(&quot;tiddler&quot;),timeline:e(&quot;timeline&quot;),today:e(&quot;today&quot;),version:e(&quot;version&quot;),option:e(&quot;option&quot;),&quot;with&quot;:e(&quot;with&quot;),filter:e(&quot;filter&quot;)}}(),s=/[\w_\-]/i,o=/^\-\-\-\-+$/,u=/^\/\*\*\*$/,a=/^\*\*\*\/$/,f=/^&lt;&lt;&lt;$/,l=/^\/\/\{\{\{$/,c=/^\/\/\}\}\}$/,h=/^&lt;!--\{\{\{--&gt;$/,p=/^&lt;!--\}\}\}--&gt;$/,d=/^\{\{\{$/,v=/^\}\}\}$/,m=/\{\{\{/,g=/.*?\}\}\}/,w,E;return{startState:function(e){return{tokenize:x,indented:0,level:0}},token:function(e,t){if(e.eatSpace())return null;var n=t.tokenize(e,t);return n},electricChars:&quot;&quot;}}),CodeMirror.defineMIME(&quot;text/x-tiddlywiki&quot;,&quot;tiddlywiki&quot;);
//}}}</pre>
</div>
<div title="toolbar testing" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405152114" tags="excludeTimeline Reference" alias="" changecount="17" content-type="text/x-tiddlywiki">
<pre>&lt;html&gt;&lt;style&gt;
.tool-container {
	background-color: #d0cbcb;
	background: -webkit-gradient(linear, left top, left bottom, color-stop(14%, #d0cbcb), color-stop(100%, #e9e5e5));
	background: -moz-linear-gradient(top, #d0cbcb 14%, #e9e5e5 100%);
	background: -ms-linear-gradient(top, #d0cbcb 14%,#e9e5e5 100%);
	background: linear-gradient(to bottom, #d0cbcb 14%,#e9e5e5 100%);
	background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIxNCUiIHN0b3AtY29sb3I9IiNkMGNiY2IiIHN0b3Atb3BhY2l0eT0iMSIvPgogICAgPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdG9wLWNvbG9yPSIjZTllNWU1IiBzdG9wLW9wYWNpdHk9IjEiLz4KICA8L2xpbmVhckdyYWRpZW50PgogIDxyZWN0IHg9IjAiIHk9IjAiIHdpZHRoPSIxIiBoZWlnaHQ9IjEiIGZpbGw9InVybCgjZ3JhZC11Y2dnLWdlbmVyYXRlZCkiIC8+Cjwvc3ZnPg==);
	filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#d0cbcb', endColorstr='#e9e5e5',GradientType=0 );
	background-size: 100% 100%;
	border-radius: 3px;
	box-shadow: 0px 0px 15px #000;
	position: absolute;				
}

.tool-container.tool-top, .tool-container.tool-bottom {
	height: 34px;
	border-bottom: 1px solid #beb8b8 ; /* #B1A9A9 */
}

.tool-items {
	height: 100%;	
}

.tool-top .tool-item, .tool-bottom .tool-item {
	float: left;
	border-right: 1px solid #e2dfdf;
	border-left: 1px solid #9f9898;
}

.tool-left .tool-item, .tool-right .tool-item {
	height: 34px;
	border-top: 1px solid #e2dfdf;
	border-bottom: 1px solid #9f9898;
}


.tool-item {
	height: 100%;
	display: block;				
	width: 44px;
	text-align: center;
}

.tool-item:first-child {
	border-left: none;
}

.tool-left .tool-item:first-child, .tool-right .tool-item:first-child {
	border-top: 1px solid transparent;
}

.tool-item:last-child {
	border-right: none;
	border-bottom: none;
}

.tool-item.selected, .tool-item:hover  {
	background: #a79f9f;
	background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #a79f9f), color-stop(93%, #e2dfdf));
	background: -moz-linear-gradient(top, #a79f9f 0%, #e2dfdf 93%);
	background: -ms-linear-gradient(top, #a79f9f 0%, #e2dfdf 93%);
	background: linear-gradient(to bottom, #a79f9f 0%, #e2dfdf 93%);
	background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2E3OWY5ZiIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjkzJSIgc3RvcC1jb2xvcj0iI2UyZGZkZiIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgPC9saW5lYXJHcmFkaWVudD4KICA8cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iMSIgaGVpZ2h0PSIxIiBmaWxsPSJ1cmwoI2dyYWQtdWNnZy1nZW5lcmF0ZWQpIiAvPgo8L3N2Zz4=);
	filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#a79f9f', endColorstr='#e2dfdf',GradientType=0 );
}

.tool-top .tool-item:last-child:hover, .tool-bottom .tool-item:last-child:hover {
	border-top-right-radius: 4px;
	border-bottom-right-radius: 4px;
}

.tool-top  .tool-item:first-child:hover, .tool-bottom  .tool-item:first-child:hover {
	border-top-left-radius: 4px;
	border-bottom-left-radius: 4px;
}

.tool-left .tool-item:last-child:hover, .tool-right .tool-item:last-child:hover {
	border-bottom-right-radius: 4px;
	border-bottom-left-radius: 4px;
}

.tool-left .tool-item:first-child:hover, .tool-right .tool-item:first-child:hover {
	border-top-right-radius: 4px;
	border-top-left-radius: 4px;
}

.tool-container .arrow {
	width:0;
	height:0;
	position: absolute;	
	border-width:7px;
	border-style:solid;
}

.tool-container.tool-top .arrow {
	border-color: #e9e5e5 transparent transparent; 
	left: 50%;  
	bottom: -14px;
	margin-left: -7px;
}

.tool-container.tool-bottom .arrow {
	border-color: transparent transparent #e9e5e5; 
	left: 50%;  
	top: -14px;
	margin-left: -7px;
}

.tool-container.tool-left .arrow {
	border-color: transparent transparent transparent #E9E5E5;
	top: 50%;
	right: -14px;
	margin-top: -7px;
}

.tool-container.tool-right .arrow {
	border-color: transparent #E9E5E5 transparent transparent;
	top: 50%;
	left: -14px;
	margin-top: -7px;
}

.demo-link {
	color: #89CDE4;
	text-decoration: underline;
	cursor: pointer;
	margin-left: 30px;
}

.demo-link:hover {
	text-decoration: none;
	cursor: pointer;
}
&lt;/style&gt;&lt;/html&gt;
&lt;html&gt;
&lt;div id=&quot;user-toolbar-options&quot;&gt;
	&lt;a href=&quot;#&quot;&gt;&lt;i class=&quot;icon-user&quot;&gt;&lt;/i&gt;&lt;/a&gt;
	&lt;a href=&quot;#&quot;&gt;&lt;i class=&quot;icon-star&quot;&gt;&lt;/i&gt;&lt;/a&gt;
	&lt;a href=&quot;#&quot;&gt;&lt;i class=&quot;icon-edit&quot;&gt;&lt;/i&gt;&lt;/a&gt;
	&lt;a href=&quot;#&quot;&gt;&lt;i class=&quot;icon-delete&quot;&gt;&lt;/i&gt;&lt;/a&gt;
	&lt;a href=&quot;#&quot;&gt;&lt;i class=&quot;icon-ban&quot;&gt;&lt;/i&gt;&lt;/a&gt;
&lt;/div&gt;	
&lt;/html&gt;
&lt;script&gt;
//eval(store.getTiddlerText('jQuery-v1.11.1.js'));
eval(store.getTiddlerText('toolbar.js'));
//document.write(store.getTiddlerText('toolbar.js'));
jQuery('#user-toolbar-options').toolbar({
	content: '#user-toolbar-options', 
	position: 'bottom'
});
&lt;/script&gt;</pre>
</div>
<div title="toolbar.js" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405152110" tags="js excludeTimeline" changecount="2" content-type="text/javascript">
<pre>/*! toolbar.js 2013-04-05 */
&quot;function&quot;!=typeof Object.create&amp;&amp;(Object.create=function(t){function o(){}return o.prototype=t,new o}),function(t,o){var e={init:function(o,e){var i=this;i.elem=e,i.$elem=t(e),i.options=t.extend({},t.fn.toolbar.options,o),i.toolbar=t('&lt;div class=&quot;tool-container gradient&quot; /&gt;').addClass(&quot;tool-&quot;+i.options.position).addClass(&quot;tool-rounded&quot;).append('&lt;div class=&quot;tool-items&quot; /&gt;').append('&lt;div class=&quot;arrow&quot; /&gt;').appendTo(&quot;body&quot;).css(&quot;opacity&quot;,0).hide(),i.toolbar_arrow=i.toolbar.find(&quot;.arrow&quot;),i.initializeToolbar()},initializeToolbar:function(){var t=this;t.populateContent(),t.setTrigger(),t.toolbarWidth=t.toolbar.width()},setTrigger:function(){var e=this;e.$elem.on(&quot;click&quot;,function(t){t.preventDefault(),e.$elem.hasClass(&quot;pressed&quot;)?e.hide():e.show()}),e.options.hideOnClick&amp;&amp;t(&quot;html&quot;).on(&quot;click.toolbar&quot;,function(t){t.target!=e.elem&amp;&amp;0===e.$elem.has(t.target).length&amp;&amp;0===e.toolbar.has(t.target).length&amp;&amp;e.toolbar.is(&quot;:visible&quot;)&amp;&amp;e.hide()}),t(o).resize(function(t){t.stopPropagation(),e.toolbar.is(&quot;:visible&quot;)&amp;&amp;(e.toolbarCss=e.getCoordinates(e.options.position,20),e.collisionDetection(),e.toolbar.css(e.toolbarCss),e.toolbar_arrow.css(e.arrowCss))})},populateContent:function(){var o=this,e=o.toolbar.find(&quot;.tool-items&quot;),i=t(o.options.content).clone(!0).find(&quot;a&quot;).addClass(&quot;tool-item gradient&quot;);e.html(i),e.find(&quot;.tool-item&quot;).on(&quot;click&quot;,function(t){t.preventDefault(),o.$elem.trigger(&quot;toolbarItemClick&quot;,this)})},calculatePosition:function(){var t=this;t.arrowCss={},t.toolbarCss=t.getCoordinates(t.options.position,0),t.toolbarCss.position=&quot;absolute&quot;,t.toolbarCss.zIndex=t.options.zIndex,t.collisionDetection(),t.toolbar.css(t.toolbarCss),t.toolbar_arrow.css(t.arrowCss)},getCoordinates:function(t,o){var e=this;switch(e.coordinates=e.$elem.offset(),e.options.adjustment&amp;&amp;e.options.adjustment[e.options.position]&amp;&amp;(o=e.options.adjustment[e.options.position]),e.options.position){case&quot;top&quot;:return{left:e.coordinates.left-e.toolbar.width()/2+e.$elem.outerWidth()/2,top:e.coordinates.top-e.$elem.height()-o,right:&quot;auto&quot;};case&quot;left&quot;:return{left:e.coordinates.left-e.toolbar.width()/2-e.$elem.width()/2-o,top:e.coordinates.top-e.toolbar.height()/2+e.$elem.outerHeight()/2,right:&quot;auto&quot;};case&quot;right&quot;:return{left:e.coordinates.left+e.toolbar.width()/2+e.$elem.width()/3+o,top:e.coordinates.top-e.toolbar.height()/2+e.$elem.outerHeight()/2,right:&quot;auto&quot;};case&quot;bottom&quot;:return{left:e.coordinates.left-e.toolbar.width()/2+e.$elem.outerWidth()/2,top:e.coordinates.top+e.$elem.height()+o,right:&quot;auto&quot;}}},collisionDetection:function(){var e=this,i=20;(&quot;top&quot;==e.options.position||&quot;bottom&quot;==e.options.position)&amp;&amp;(e.arrowCss={left:&quot;50%&quot;,right:&quot;50%&quot;},i&gt;e.toolbarCss.left?(e.toolbarCss.left=i,e.arrowCss.left=e.$elem.offset().left+e.$elem.width()/2-i):i&gt;t(o).width()-(e.toolbarCss.left+e.toolbarWidth)&amp;&amp;(e.toolbarCss.right=i,e.toolbarCss.left=&quot;auto&quot;,e.arrowCss.left=&quot;auto&quot;,e.arrowCss.right=t(o).width()-e.$elem.offset().left-e.$elem.width()/2-i-5))},show:function(){var t=this,o={opacity:1};switch(t.$elem.addClass(&quot;pressed&quot;),t.calculatePosition(),t.options.position){case&quot;top&quot;:o.top=&quot;-=20&quot;;break;case&quot;left&quot;:o.left=&quot;-=20&quot;;break;case&quot;right&quot;:o.left=&quot;+=20&quot;;break;case&quot;bottom&quot;:o.top=&quot;+=20&quot;}t.toolbar.show().animate(o,200),t.$elem.trigger(&quot;toolbarShown&quot;)},hide:function(){var t=this,o={opacity:0};switch(t.$elem.removeClass(&quot;pressed&quot;),t.options.position){case&quot;top&quot;:o.top=&quot;+=20&quot;;break;case&quot;left&quot;:o.left=&quot;+=20&quot;;break;case&quot;right&quot;:o.left=&quot;-=20&quot;;break;case&quot;bottom&quot;:o.top=&quot;-=20&quot;}t.toolbar.animate(o,200,function(){t.toolbar.hide()}),t.$elem.trigger(&quot;toolbarHidden&quot;)},getToolbarElement:function(){return this.toolbar.find(&quot;.tool-items&quot;)}};t.fn.toolbar=function(o){if(t.isPlainObject(o))return this.each(function(){var i=Object.create(e);i.init(o,this),t(this).data(&quot;toolbarObj&quot;,i)});if(&quot;string&quot;==typeof o&amp;&amp;0!==o.indexOf(&quot;_&quot;)){var i=t(this).data(&quot;toolbarObj&quot;),s=i[o];return s.apply(i,t.makeArray(arguments).slice(1))}},t.fn.toolbar.options={content:&quot;#myContent&quot;,position:&quot;top&quot;,hideOnClick:!1,zIndex:120}}(jQuery,window,document);</pre>
</div>
<div title="topMenu.css" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405090652" modified="201405100621" tags="css excludeTimeline" alias="" changecount="303" content-type="text/css">
<pre>/*{{{*/
/* Fixed topMenu Code */
#topMenu {position:fixed; top:0px;width:100%;z-index:100;}
/*
Arizonia
FiraSansOT
texgyreschola
texgyretermes
MathJax_Main-Regular

*/
#topMenu .topMenuToolbar {margin-right:12px !important;}

/* TOPMENU ATTRIBUTES */
#topMenu {
	height:24px;display:block;padding-bottom:6px;
	background-image: -webkit-gradient(linear,left top,left bottom,color-stop(0.09, #336699),color-stop(0.93, #004080));
	background-image: -o-linear-gradient(bottom, #336699 9%, #004080 93%);
	background-image: -moz-linear-gradient(bottom, #336699 9%, #004080 93%);
	background-image: -webkit-linear-gradient(bottom, #336699 9%, #004080 93%);
	background-image: -ms-linear-gradient(bottom, #336699 9%, #004080 93%);
	background-image: linear-gradient(to bottom, #336699 9%, #004080 93%);
	box-shadow: 0px 2px 2px #888;
	-moz-box-shadow: 2px 2px 2px #888;
	-webkit-box-shadow: 2px 2px 2px #888;}


/* POSITIONING OF ELEMENTS */
#topMenu .button, #topMenu .tiddlyLink, #topMenu a {font-size: 125%;display:block;float:left;}
#topMenu .mainMenu {display:block;position:absolute !important;left:10px;top:2px;}
.chrome #topMenu .mainMenu {display:block;position:absolute !important;left:10px;top:1px;}
#topMenu .topMenuToolbar {display:block;float:right}
#topMenu .topMenuButtons {display:block;position:absolute;top:5px;right:2px !important;width:200px;}
#topMenu .ToggleRightSidebar a {display:block;margin:0.5px 2px 0px 5px !Important;}
#topMenu .ToggleRightSidebar a .fa-sign-out {display:block; margin:2px 5px 0px -2px;}
#topMenu .ToggleRightSidebar a .fa-sign-in {display:block; margin:2px 5px 0px -2px;}
#topMenu input {display:block;position:absolute;top:6px;right:215px;}
.chrome #topMenu .ToggleRightSidebar a .fa-sign-out {display:block;margin:-1px 5px 0px -2px !important;}
.chrome #topMenu .ToggleRightSidebar a .fa-sign-in {}

/* ELEMENT ATTRIBUTES */
#topMenu .searchButton {display:none;}
#topMenu a {border:0px;}
#topMenu .topMenuToolbar {font-size:14px;margin-top:1px;}
#topMenu .mainMenu {font-size:12px;margin-top:4px;}
#topMenu input {width:200px;height:16px;font-size:12px;}
.chrome #topMenu input {width:220px;margin-top:1px;height:18px;}
#topMenu .divider {color:[[ColorPalette::PrimaryDark]];font-weight:bold;font-size:14pt;}
#topMenu .search {margin-right:23px;}
#topMenu i.fa-file {font-size:85%;margin-top:-1px;}
#topMenu i.fa-save {font-size:95%;margin-top:-1px;}
#topMenu i.fa-home {font-size:110%;margin-top:0px;position:relative;right:-2px;}
#topMenu i.fa-sign-in,#topMenu i.fa-sign-out  {font-size:105%;}
#topMenu i.fa-sign-out  {position:relative;right:1px;}

/* ELEMENT SHADOWS */
#topMenu {text-shadow: 
			-0.5px -0.5px 0.25px [[ColorPalette::PrimaryDarker]],
			 0.2px  0.2px 0.1px [[ColorPalette::PrimaryLighter]],
		 	 0.1px  0.1px 0.05px [[ColorPalette::PrimaryLight]] !Important;}
#topMenu input {border:1px solid #FFF;
		box-shadow:.25px .5px 2px [[ColorPalette::PrimaryLight]],
			-1px -1px 0.7px 0.4px [[ColorPalette::PrimaryDarker]];
		-moz-box-shadow: .25px .5px 2px [[ColorPalette::PrimaryLight]],  	  
			-1px -1px 0.7px 0.4px [[ColorPalette::PrimaryDarker]];
		-webkit-box-shadow: .25px .5px 2px [[ColorPalette::PrimaryLight]], 
			-1px -1px 0.7px 0.4px [[ColorPalette::PrimaryDarker]];
		-webkit-appearance:button;
		-moz-appearance:none;
		-appearance:none;}
#topMenu .ToggleRightSidebar a .fa-sign-out {
	text-shadow: 1px 1px 0.20px [[ColorPalette::PrimaryDarker]],
		-0.2px -0.2px 0.1px [[ColorPalette::PrimaryLighter]],
		-0.1px -0.1px 0.05px [[ColorPalette::PrimaryLight]] !important;}


/* TRANSITIONS */
#topMenu a, #topMenu .button, #topMenu .tiddlyLink, #topMenu .ToggleRightSidebar .fa-sign-out{
	-webkit-transition: all 0.2s ease-in-out;
  	-moz-transition: all 0.2s ease-in-out;
  	-o-transition: all 0.2s ease-in-out;
  	transition: all 0.2s ease-in-out;}

	
/* HOVER+FOCUS */
#topMenu .ToggleRightSidebar .fa-sign-out:hover {text-shadow:
	     0.2px  0.2px 0.0px [[ColorPalette::PrimaryLighter]],
		 0.1px  0.1px 0.0px [[ColorPalette::PrimaryLight]],
		-0.5px -0.5px 0.45px [[ColorPalette::PrimaryDark]],
		-1.0px -1.0px 0.5px [[ColorPalette::PrimaryDark]],
		-1.5px -1.5px 0.55px [[ColorPalette::PrimaryDarker]],
		-2.0px -2.0px 0.6px [[ColorPalette::PrimaryDarker]] !important;}
#topMenu a:hover, #topMenu .button:hover, #topMenu .tiddlyLink:hover {
		background:none;color:[[ColorPalette::Background]];
		text-shadow: 
		-0.1px -0.1px 0.0px [[ColorPalette::PrimaryMid]],
		0.5px 0.5px 0.45px [[ColorPalette::PrimaryDark]],
		1.0px 1.0px 0.5px [[ColorPalette::PrimaryDark]],
		1.5px 1.5px 0.6px [[ColorPalette::PrimaryDarker]],
		2.0px 2.0px 0.7px [[ColorPalette::PrimaryDarker]];}
#topMenu input:focus {  
		box-shadow: 
			.5px .75px 4px [[ColorPalette::PrimaryLighter]],  
			-1px -1px 0.7px 0.4px [[ColorPalette::PrimaryDarker]];
		-moz-box-shadow: 
			.5px .75px 4px [[ColorPalette::PrimaryLighter]], 
			-1px -1px 0.7px 0.4px [[ColorPalette::PrimaryDarker]];
		-webkit-box-shadow: 
			.5px .75px 4px [[ColorPalette::PrimaryLighter]], 
			-1px -1px 0.7px 0.4px [[ColorPalette::PrimaryDarker]];}	
	

		
/* ACTIVE */	
#topMenu .ToggleRightSidebar .fa-sign-out:active {text-shadow: 
			1px 1px 0.20px [[ColorPalette::PrimaryDarker]],
			-0.1px -0.1px 0.1px [[ColorPalette::PrimaryLighter]],
			-0.3px -0.3px 0.15px [[ColorPalette::PrimaryPale]] !important; }
#topMenu .button:active, #topMenu .tiddlyLink:active, #topMenu a:active{
		text-shadow: 
			-1px -1px 0.20px [[ColorPalette::PrimaryDarker]],
			0.1px 0.1px 0.1px [[ColorPalette::PrimaryLighter]],
			0.3px 0.3px 0.15px [[ColorPalette::PrimaryPale]]; }

		
/*}}}*/
</pre>
</div>
<div title="topologyF" modifier="Christopher Wilson" created="201402272147" modified="201402272215" tags="excludeTimeline">
<pre>&lt;&lt;tiddlerList tags:&quot;Topology&quot;&gt;&gt;</pre>
</div>
<div title="xHighChartsMore.js" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405190903" modified="201405190905" tags="excludeTimeline js systemConfig" content-type="text/javascript" alias="" changecount="4">
<pre>/*
 Highcharts JS v4.0.1 (2014-04-24)

 (c) 2009-2014 Torstein Honsi

 License: www.highcharts.com/license
*/
(function(m,C){function K(a,b,c){this.init.call(this,a,b,c)}var O=m.arrayMin,P=m.arrayMax,s=m.each,F=m.extend,o=m.merge,Q=m.map,q=m.pick,x=m.pInt,p=m.getOptions().plotOptions,h=m.seriesTypes,u=m.extendClass,L=m.splat,r=m.wrap,M=m.Axis,y=m.Tick,H=m.Point,R=m.Pointer,S=m.CenteredSeriesMixin,z=m.TrackerMixin,t=m.Series,v=Math,D=v.round,A=v.floor,T=v.max,U=m.Color,w=function(){};F(K.prototype,{init:function(a,b,c){var d=this,e=d.defaultOptions;d.chart=b;if(b.angular)e.background={};d.options=a=o(e,a);
(a=a.background)&amp;&amp;s([].concat(L(a)).reverse(),function(a){var g=a.backgroundColor,a=o(d.defaultBackgroundOptions,a);if(g)a.backgroundColor=g;a.color=a.backgroundColor;c.options.plotBands.unshift(a)})},defaultOptions:{center:[&quot;50%&quot;,&quot;50%&quot;],size:&quot;85%&quot;,startAngle:0},defaultBackgroundOptions:{shape:&quot;circle&quot;,borderWidth:1,borderColor:&quot;silver&quot;,backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,&quot;#FFF&quot;],[1,&quot;#DDD&quot;]]},from:Number.MIN_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:&quot;105%&quot;}});
var G=M.prototype,y=y.prototype,V={getOffset:w,redraw:function(){this.isDirty=!1},render:function(){this.isDirty=!1},setScale:w,setCategories:w,setTitle:w},N={isRadial:!0,defaultRadialGaugeOptions:{labels:{align:&quot;center&quot;,x:0,y:null},minorGridLineWidth:0,minorTickInterval:&quot;auto&quot;,minorTickLength:10,minorTickPosition:&quot;inside&quot;,minorTickWidth:1,tickLength:10,tickPosition:&quot;inside&quot;,tickWidth:2,title:{rotation:0},zIndex:2},defaultRadialXOptions:{gridLineWidth:1,labels:{align:null,distance:15,x:0,y:null},
maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},defaultRadialYOptions:{gridLineInterpolation:&quot;circle&quot;,labels:{align:&quot;right&quot;,x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}},setOptions:function(a){a=this.options=o(this.defaultOptions,this.defaultRadialOptions,a);if(!a.plotBands)a.plotBands=[]},getOffset:function(){G.getOffset.call(this);this.chart.axisOffset[this.side]=0;this.center=this.pane.center=S.getCenter.call(this.pane)},getLinePath:function(a,b){var c=this.center,b=q(b,
c[2]/2-this.offset);return this.chart.renderer.symbols.arc(this.left+c[0],this.top+c[1],b,b,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0})},setAxisTranslation:function(){G.setAxisTranslation.call(this);if(this.center)this.transA=this.isCircular?(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):this.center[2]/2/(this.max-this.min||1),this.minPixelPadding=this.isXAxis?this.transA*this.minPointOffset:0},beforeSetTickPositions:function(){this.autoConnect&amp;&amp;(this.max+=this.categories&amp;&amp;
1||this.pointRange||this.closestPointRange||0)},setAxisSize:function(){G.setAxisSize.call(this);if(this.isRadial){this.center=this.pane.center=m.CenteredSeriesMixin.getCenter.call(this.pane);if(this.isCircular)this.sector=this.endAngleRad-this.startAngleRad;this.len=this.width=this.height=this.center[2]*q(this.sector,1)/2}},getPosition:function(a,b){return this.postTranslate(this.isCircular?this.translate(a):0,q(this.isCircular?b:this.translate(a),this.center[2]/2)-this.offset)},postTranslate:function(a,
b){var c=this.chart,d=this.center,a=this.startAngleRad+a;return{x:c.plotLeft+d[0]+Math.cos(a)*b,y:c.plotTop+d[1]+Math.sin(a)*b}},getPlotBandPath:function(a,b,c){var d=this.center,e=this.startAngleRad,f=d[2]/2,g=[q(c.outerRadius,&quot;100%&quot;),c.innerRadius,q(c.thickness,10)],k=/%$/,l,n=this.isCircular;this.options.gridLineInterpolation===&quot;polygon&quot;?d=this.getPlotLinePath(a).concat(this.getPlotLinePath(b,!0)):(n||(g[0]=this.translate(a),g[1]=this.translate(b)),g=Q(g,function(a){k.test(a)&amp;&amp;(a=x(a,10)*f/100);
return a}),c.shape===&quot;circle&quot;||!n?(a=-Math.PI/2,b=Math.PI*1.5,l=!0):(a=e+this.translate(a),b=e+this.translate(b)),d=this.chart.renderer.symbols.arc(this.left+d[0],this.top+d[1],g[0],g[0],{start:a,end:b,innerR:q(g[1],g[0]-g[2]),open:l}));return d},getPlotLinePath:function(a,b){var c=this,d=c.center,e=c.chart,f=c.getPosition(a),g,k,l;c.isCircular?l=[&quot;M&quot;,d[0]+e.plotLeft,d[1]+e.plotTop,&quot;L&quot;,f.x,f.y]:c.options.gridLineInterpolation===&quot;circle&quot;?(a=c.translate(a))&amp;&amp;(l=c.getLinePath(0,a)):(s(e.xAxis,function(a){a.pane===
c.pane&amp;&amp;(g=a)}),l=[],a=c.translate(a),d=g.tickPositions,g.autoConnect&amp;&amp;(d=d.concat([d[0]])),b&amp;&amp;(d=[].concat(d).reverse()),s(d,function(f,c){k=g.getPosition(f,a);l.push(c?&quot;L&quot;:&quot;M&quot;,k.x,k.y)}));return l},getTitlePosition:function(){var a=this.center,b=this.chart,c=this.options.title;return{x:b.plotLeft+a[0]+(c.x||0),y:b.plotTop+a[1]-{high:0.5,middle:0.25,low:0}[c.align]*a[2]+(c.y||0)}}};r(G,&quot;init&quot;,function(a,b,c){var i;var d=b.angular,e=b.polar,f=c.isX,g=d&amp;&amp;f,k,l;l=b.options;var n=c.pane||0;if(d){if(F(this,
g?V:N),k=!f)this.defaultRadialOptions=this.defaultRadialGaugeOptions}else if(e)F(this,N),this.defaultRadialOptions=(k=f)?this.defaultRadialXOptions:o(this.defaultYAxisOptions,this.defaultRadialYOptions);a.call(this,b,c);if(!g&amp;&amp;(d||e)){a=this.options;if(!b.panes)b.panes=[];this.pane=(i=b.panes[n]=b.panes[n]||new K(L(l.pane)[n],b,this),n=i);n=n.options;b.inverted=!1;l.chart.zoomType=null;this.startAngleRad=b=(n.startAngle-90)*Math.PI/180;this.endAngleRad=l=(q(n.endAngle,n.startAngle+360)-90)*Math.PI/
180;this.offset=a.offset||0;if((this.isCircular=k)&amp;&amp;c.max===C&amp;&amp;l-b===2*Math.PI)this.autoConnect=!0}});r(y,&quot;getPosition&quot;,function(a,b,c,d,e){var f=this.axis;return f.getPosition?f.getPosition(c):a.call(this,b,c,d,e)});r(y,&quot;getLabelPosition&quot;,function(a,b,c,d,e,f,g,k,l){var n=this.axis,j=f.y,i=f.align,h=(n.translate(this.pos)+n.startAngleRad+Math.PI/2)/Math.PI*180%360;n.isRadial?(a=n.getPosition(this.pos,n.center[2]/2+q(f.distance,-25)),f.rotation===&quot;auto&quot;?d.attr({rotation:h}):j===null&amp;&amp;(j=n.chart.renderer.fontMetrics(d.styles.fontSize).b-
d.getBBox().height/2),i===null&amp;&amp;(i=n.isCircular?h&gt;20&amp;&amp;h&lt;160?&quot;left&quot;:h&gt;200&amp;&amp;h&lt;340?&quot;right&quot;:&quot;center&quot;:&quot;center&quot;,d.attr({align:i})),a.x+=f.x,a.y+=j):a=a.call(this,b,c,d,e,f,g,k,l);return a});r(y,&quot;getMarkPath&quot;,function(a,b,c,d,e,f,g){var k=this.axis;k.isRadial?(a=k.getPosition(this.pos,k.center[2]/2+d),b=[&quot;M&quot;,b,c,&quot;L&quot;,a.x,a.y]):b=a.call(this,b,c,d,e,f,g);return b});p.arearange=o(p.area,{lineWidth:1,marker:null,threshold:null,tooltip:{pointFormat:'&lt;span style=&quot;color:{series.color}&quot;&gt;&lt;/span&gt; {series.name}: &lt;b&gt;{point.low}&lt;/b&gt; - &lt;b&gt;{point.high}&lt;/b&gt;&lt;br/&gt;'},
trackByArea:!0,dataLabels:{verticalAlign:null,xLow:0,xHigh:0,yLow:0,yHigh:0},states:{hover:{halo:!1}}});h.arearange=u(h.area,{type:&quot;arearange&quot;,pointArrayMap:[&quot;low&quot;,&quot;high&quot;],toYData:function(a){return[a.low,a.high]},pointValKey:&quot;low&quot;,getSegments:function(){var a=this;s(a.points,function(b){if(!a.options.connectNulls&amp;&amp;(b.low===null||b.high===null))b.y=null;else if(b.low===null&amp;&amp;b.high!==null)b.y=b.high});t.prototype.getSegments.call(this)},translate:function(){var a=this.yAxis;h.area.prototype.translate.apply(this);
s(this.points,function(b){var c=b.low,d=b.high,e=b.plotY;d===null&amp;&amp;c===null?b.y=null:c===null?(b.plotLow=b.plotY=null,b.plotHigh=a.translate(d,0,1,0,1)):d===null?(b.plotLow=e,b.plotHigh=null):(b.plotLow=e,b.plotHigh=a.translate(d,0,1,0,1))})},getSegmentPath:function(a){var b,c=[],d=a.length,e=t.prototype.getSegmentPath,f,g;g=this.options;var k=g.step;for(b=HighchartsAdapter.grep(a,function(a){return a.plotLow!==null});d--;)f=a[d],f.plotHigh!==null&amp;&amp;c.push({plotX:f.plotX,plotY:f.plotHigh});a=e.call(this,
b);if(k)k===!0&amp;&amp;(k=&quot;left&quot;),g.step={left:&quot;right&quot;,center:&quot;center&quot;,right:&quot;left&quot;}[k];c=e.call(this,c);g.step=k;g=[].concat(a,c);c[0]=&quot;L&quot;;this.areaPath=this.areaPath.concat(a,c);return g},drawDataLabels:function(){var a=this.data,b=a.length,c,d=[],e=t.prototype,f=this.options.dataLabels,g,k=this.chart.inverted;if(f.enabled||this._hasPointLabels){for(c=b;c--;)g=a[c],g.y=g.high,g._plotY=g.plotY,g.plotY=g.plotHigh,d[c]=g.dataLabel,g.dataLabel=g.dataLabelUpper,g.below=!1,k?(f.align=&quot;left&quot;,f.x=f.xHigh):f.y=
f.yHigh;e.drawDataLabels&amp;&amp;e.drawDataLabels.apply(this,arguments);for(c=b;c--;)g=a[c],g.dataLabelUpper=g.dataLabel,g.dataLabel=d[c],g.y=g.low,g.plotY=g._plotY,g.below=!0,k?(f.align=&quot;right&quot;,f.x=f.xLow):f.y=f.yLow;e.drawDataLabels&amp;&amp;e.drawDataLabels.apply(this,arguments)}},alignDataLabel:function(){h.column.prototype.alignDataLabel.apply(this,arguments)},getSymbol:h.column.prototype.getSymbol,drawPoints:w});p.areasplinerange=o(p.arearange);h.areasplinerange=u(h.arearange,{type:&quot;areasplinerange&quot;,getPointSpline:h.spline.prototype.getPointSpline});
(function(){var a=h.column.prototype;p.columnrange=o(p.column,p.arearange,{lineWidth:1,pointRange:null});h.columnrange=u(h.arearange,{type:&quot;columnrange&quot;,translate:function(){var b=this,c=b.yAxis,d;a.translate.apply(b);s(b.points,function(a){var f=a.shapeArgs,g=b.options.minPointLength,k;a.tooltipPos=null;a.plotHigh=d=c.translate(a.high,0,1,0,1);a.plotLow=a.plotY;k=d;a=a.plotY-d;a&lt;g&amp;&amp;(g-=a,a+=g,k-=g/2);f.height=a;f.y=k})},trackerGroups:[&quot;group&quot;,&quot;dataLabels&quot;],drawGraph:w,pointAttrToOptions:a.pointAttrToOptions,
drawPoints:a.drawPoints,drawTracker:a.drawTracker,animate:a.animate,getColumnMetrics:a.getColumnMetrics})})();p.gauge=o(p.line,{dataLabels:{enabled:!0,defer:!1,y:15,borderWidth:1,borderColor:&quot;silver&quot;,borderRadius:3,crop:!1,style:{fontWeight:&quot;bold&quot;},verticalAlign:&quot;top&quot;,zIndex:2},dial:{},pivot:{},tooltip:{headerFormat:&quot;&quot;},showInLegend:!1});z={type:&quot;gauge&quot;,pointClass:u(H,{setState:function(a){this.state=a}}),angular:!0,drawGraph:w,fixedBox:!0,forceDL:!0,trackerGroups:[&quot;group&quot;,&quot;dataLabels&quot;],translate:function(){var a=
this.yAxis,b=this.options,c=a.center;this.generatePoints();s(this.points,function(d){var e=o(b.dial,d.dial),f=x(q(e.radius,80))*c[2]/200,g=x(q(e.baseLength,70))*f/100,k=x(q(e.rearLength,10))*f/100,l=e.baseWidth||3,n=e.topWidth||1,j=b.overshoot,i=a.startAngleRad+a.translate(d.y,null,null,null,!0);j&amp;&amp;typeof j===&quot;number&quot;?(j=j/180*Math.PI,i=Math.max(a.startAngleRad-j,Math.min(a.endAngleRad+j,i))):b.wrap===!1&amp;&amp;(i=Math.max(a.startAngleRad,Math.min(a.endAngleRad,i)));i=i*180/Math.PI;d.shapeType=&quot;path&quot;;d.shapeArgs=
{d:e.path||[&quot;M&quot;,-k,-l/2,&quot;L&quot;,g,-l/2,f,-n/2,f,n/2,g,l/2,-k,l/2,&quot;z&quot;],translateX:c[0],translateY:c[1],rotation:i};d.plotX=c[0];d.plotY=c[1]})},drawPoints:function(){var a=this,b=a.yAxis.center,c=a.pivot,d=a.options,e=d.pivot,f=a.chart.renderer;s(a.points,function(c){var b=c.graphic,l=c.shapeArgs,e=l.d,j=o(d.dial,c.dial);b?(b.animate(l),l.d=e):c.graphic=f[c.shapeType](l).attr({stroke:j.borderColor||&quot;none&quot;,&quot;stroke-width&quot;:j.borderWidth||0,fill:j.backgroundColor||&quot;black&quot;,rotation:l.rotation}).add(a.group)});
c?c.animate({translateX:b[0],translateY:b[1]}):a.pivot=f.circle(0,0,q(e.radius,5)).attr({&quot;stroke-width&quot;:e.borderWidth||0,stroke:e.borderColor||&quot;silver&quot;,fill:e.backgroundColor||&quot;black&quot;}).translate(b[0],b[1]).add(a.group)},animate:function(a){var b=this;if(!a)s(b.points,function(a){var d=a.graphic;d&amp;&amp;(d.attr({rotation:b.yAxis.startAngleRad*180/Math.PI}),d.animate({rotation:a.shapeArgs.rotation},b.options.animation))}),b.animate=null},render:function(){this.group=this.plotGroup(&quot;group&quot;,&quot;series&quot;,this.visible?
&quot;visible&quot;:&quot;hidden&quot;,this.options.zIndex,this.chart.seriesGroup);t.prototype.render.call(this);this.group.clip(this.chart.clipRect)},setData:function(a,b){t.prototype.setData.call(this,a,!1);this.processData();this.generatePoints();q(b,!0)&amp;&amp;this.chart.redraw()},drawTracker:z&amp;&amp;z.drawTrackerPoint};h.gauge=u(h.line,z);p.boxplot=o(p.column,{fillColor:&quot;#FFFFFF&quot;,lineWidth:1,medianWidth:2,states:{hover:{brightness:-0.3}},threshold:null,tooltip:{pointFormat:'&lt;span style=&quot;color:{series.color}&quot;&gt;&lt;/span&gt; &lt;b&gt; {series.name}&lt;/b&gt;&lt;br/&gt;Maximum: {point.high}&lt;br/&gt;Upper quartile: {point.q3}&lt;br/&gt;Median: {point.median}&lt;br/&gt;Lower quartile: {point.q1}&lt;br/&gt;Minimum: {point.low}&lt;br/&gt;'},
whiskerLength:&quot;50%&quot;,whiskerWidth:2});h.boxplot=u(h.column,{type:&quot;boxplot&quot;,pointArrayMap:[&quot;low&quot;,&quot;q1&quot;,&quot;median&quot;,&quot;q3&quot;,&quot;high&quot;],toYData:function(a){return[a.low,a.q1,a.median,a.q3,a.high]},pointValKey:&quot;high&quot;,pointAttrToOptions:{fill:&quot;fillColor&quot;,stroke:&quot;color&quot;,&quot;stroke-width&quot;:&quot;lineWidth&quot;},drawDataLabels:w,translate:function(){var a=this.yAxis,b=this.pointArrayMap;h.column.prototype.translate.apply(this);s(this.points,function(c){s(b,function(b){c[b]!==null&amp;&amp;(c[b+&quot;Plot&quot;]=a.translate(c[b],0,1,0,1))})})},drawPoints:function(){var a=
this,b=a.points,c=a.options,d=a.chart.renderer,e,f,g,k,l,n,j,i,h,m,p,I,r,o,J,u,w,t,v,x,z,y,E=a.doQuartiles!==!1,B=parseInt(a.options.whiskerLength,10)/100;s(b,function(b){h=b.graphic;z=b.shapeArgs;p={};o={};u={};y=b.color||a.color;if(b.plotY!==C)if(e=b.pointAttr[b.selected?&quot;selected&quot;:&quot;&quot;],w=z.width,t=A(z.x),v=t+w,x=D(w/2),f=A(E?b.q1Plot:b.lowPlot),g=A(E?b.q3Plot:b.lowPlot),k=A(b.highPlot),l=A(b.lowPlot),p.stroke=b.stemColor||c.stemColor||y,p[&quot;stroke-width&quot;]=q(b.stemWidth,c.stemWidth,c.lineWidth),p.dashstyle=
b.stemDashStyle||c.stemDashStyle,o.stroke=b.whiskerColor||c.whiskerColor||y,o[&quot;stroke-width&quot;]=q(b.whiskerWidth,c.whiskerWidth,c.lineWidth),u.stroke=b.medianColor||c.medianColor||y,u[&quot;stroke-width&quot;]=q(b.medianWidth,c.medianWidth,c.lineWidth),u[&quot;stroke-linecap&quot;]=&quot;round&quot;,j=p[&quot;stroke-width&quot;]%2/2,i=t+x+j,m=[&quot;M&quot;,i,g,&quot;L&quot;,i,k,&quot;M&quot;,i,f,&quot;L&quot;,i,l],E&amp;&amp;(j=e[&quot;stroke-width&quot;]%2/2,i=A(i)+j,f=A(f)+j,g=A(g)+j,t+=j,v+=j,I=[&quot;M&quot;,t,g,&quot;L&quot;,t,f,&quot;L&quot;,v,f,&quot;L&quot;,v,g,&quot;L&quot;,t,g,&quot;z&quot;]),B&amp;&amp;(j=o[&quot;stroke-width&quot;]%2/2,k+=j,l+=j,r=[&quot;M&quot;,i-x*B,
k,&quot;L&quot;,i+x*B,k,&quot;M&quot;,i-x*B,l,&quot;L&quot;,i+x*B,l]),j=u[&quot;stroke-width&quot;]%2/2,n=D(b.medianPlot)+j,J=[&quot;M&quot;,t,n,&quot;L&quot;,v,n],h)b.stem.animate({d:m}),B&amp;&amp;b.whiskers.animate({d:r}),E&amp;&amp;b.box.animate({d:I}),b.medianShape.animate({d:J});else{b.graphic=h=d.g().add(a.group);b.stem=d.path(m).attr(p).add(h);if(B)b.whiskers=d.path(r).attr(o).add(h);if(E)b.box=d.path(I).attr(e).add(h);b.medianShape=d.path(J).attr(u).add(h)}})}});p.errorbar=o(p.boxplot,{color:&quot;#000000&quot;,grouping:!1,linkedTo:&quot;:previous&quot;,tooltip:{pointFormat:'&lt;span style=&quot;color:{series.color}&quot;&gt;&lt;/span&gt; {series.name}: &lt;b&gt;{point.low}&lt;/b&gt; - &lt;b&gt;{point.high}&lt;/b&gt;&lt;br/&gt;'},
whiskerWidth:null});h.errorbar=u(h.boxplot,{type:&quot;errorbar&quot;,pointArrayMap:[&quot;low&quot;,&quot;high&quot;],toYData:function(a){return[a.low,a.high]},pointValKey:&quot;high&quot;,doQuartiles:!1,drawDataLabels:h.arearange?h.arearange.prototype.drawDataLabels:w,getColumnMetrics:function(){return this.linkedParent&amp;&amp;this.linkedParent.columnMetrics||h.column.prototype.getColumnMetrics.call(this)}});p.waterfall=o(p.column,{lineWidth:1,lineColor:&quot;#333&quot;,dashStyle:&quot;dot&quot;,borderColor:&quot;#333&quot;});h.waterfall=u(h.column,{type:&quot;waterfall&quot;,upColorProp:&quot;fill&quot;,
pointArrayMap:[&quot;low&quot;,&quot;y&quot;],pointValKey:&quot;y&quot;,init:function(a,b){b.stacking=!0;h.column.prototype.init.call(this,a,b)},translate:function(){var a=this.yAxis,b,c,d,e,f,g,k,l,n;b=this.options.threshold;h.column.prototype.translate.apply(this);l=b;d=this.points;for(c=0,b=d.length;c&lt;b;c++){e=d[c];f=e.shapeArgs;g=this.getStack(c);n=g.points[this.index+&quot;,&quot;+c];if(isNaN(e.y))e.y=this.yData[c];k=T(l,l+e.y)+n[0];f.y=a.translate(k,0,1);e.isSum||e.isIntermediateSum?(f.y=a.translate(n[1],0,1),f.height=a.translate(n[0],
0,1)-f.y):l+=g.total;f.height&lt;0&amp;&amp;(f.y+=f.height,f.height*=-1);e.plotY=f.y=D(f.y)-this.borderWidth%2/2;f.height=D(f.height);e.yBottom=f.y+f.height}},processData:function(a){var b=this.yData,c=this.points,d,e=b.length,f=this.options.threshold||0,g,k,l,n,j,i;k=g=l=n=f;for(i=0;i&lt;e;i++)j=b[i],d=c&amp;&amp;c[i]?c[i]:{},j===&quot;sum&quot;||d.isSum?b[i]=k:j===&quot;intermediateSum&quot;||d.isIntermediateSum?(b[i]=g,g=f):(k+=j,g+=j),l=Math.min(k,l),n=Math.max(k,n);t.prototype.processData.call(this,a);this.dataMin=l;this.dataMax=n},
toYData:function(a){if(a.isSum)return&quot;sum&quot;;else if(a.isIntermediateSum)return&quot;intermediateSum&quot;;return a.y},getAttribs:function(){h.column.prototype.getAttribs.apply(this,arguments);var a=this.options,b=a.states,c=a.upColor||this.color,a=m.Color(c).brighten(0.1).get(),d=o(this.pointAttr),e=this.upColorProp;d[&quot;&quot;][e]=c;d.hover[e]=b.hover.upColor||a;d.select[e]=b.select.upColor||c;s(this.points,function(a){if(a.y&gt;0&amp;&amp;!a.color)a.pointAttr=d,a.color=c})},getGraphPath:function(){var a=this.data,b=a.length,
c=D(this.options.lineWidth+this.borderWidth)%2/2,d=[],e,f,g;for(g=1;g&lt;b;g++)f=a[g].shapeArgs,e=a[g-1].shapeArgs,f=[&quot;M&quot;,e.x+e.width,e.y+c,&quot;L&quot;,f.x,e.y+c],a[g-1].y&lt;0&amp;&amp;(f[2]+=e.height,f[5]+=e.height),d=d.concat(f);return d},getExtremes:w,getStack:function(a){var b=this.yAxis.stacks,c=this.stackKey;this.processedYData[a]&lt;this.options.threshold&amp;&amp;(c=&quot;-&quot;+c);return b[c][a]},drawGraph:t.prototype.drawGraph});p.bubble=o(p.scatter,{dataLabels:{format:&quot;{point.z}&quot;,inside:!0,style:{color:&quot;white&quot;,textShadow:&quot;0px 0px 3px black&quot;},
verticalAlign:&quot;middle&quot;},marker:{lineColor:null,lineWidth:1},minSize:8,maxSize:&quot;20%&quot;,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:&quot;({point.x}, {point.y}), Size: {point.z}&quot;},turboThreshold:0,zThreshold:0});z=u(H,{haloPath:function(){return H.prototype.haloPath.call(this,this.shapeArgs.r+this.series.options.states.hover.halo.size)}});h.bubble=u(h.scatter,{type:&quot;bubble&quot;,pointClass:z,pointArrayMap:[&quot;y&quot;,&quot;z&quot;],parallelArrays:[&quot;x&quot;,&quot;y&quot;,&quot;z&quot;],trackerGroups:[&quot;group&quot;,&quot;dataLabelsGroup&quot;],bubblePadding:!0,
pointAttrToOptions:{stroke:&quot;lineColor&quot;,&quot;stroke-width&quot;:&quot;lineWidth&quot;,fill:&quot;fillColor&quot;},applyOpacity:function(a){var b=this.options.marker,c=q(b.fillOpacity,0.5),a=a||b.fillColor||this.color;c!==1&amp;&amp;(a=U(a).setOpacity(c).get(&quot;rgba&quot;));return a},convertAttribs:function(){var a=t.prototype.convertAttribs.apply(this,arguments);a.fill=this.applyOpacity(a.fill);return a},getRadii:function(a,b,c,d){var e,f,g,k=this.zData,l=[],n=this.options.sizeBy!==&quot;width&quot;;for(f=0,e=k.length;f&lt;e;f++)g=b-a,g=g&gt;0?(k[f]-a)/(b-
a):0.5,n&amp;&amp;g&gt;=0&amp;&amp;(g=Math.sqrt(g)),l.push(v.ceil(c+g*(d-c))/2);this.radii=l},animate:function(a){var b=this.options.animation;if(!a)s(this.points,function(a){var d=a.graphic,a=a.shapeArgs;d&amp;&amp;a&amp;&amp;(d.attr(&quot;r&quot;,1),d.animate({r:a.r},b))}),this.animate=null},translate:function(){var a,b=this.data,c,d,e=this.radii;h.scatter.prototype.translate.call(this);for(a=b.length;a--;)c=b[a],d=e?e[a]:0,c.negative=c.z&lt;(this.options.zThreshold||0),d&gt;=this.minPxSize/2?(c.shapeType=&quot;circle&quot;,c.shapeArgs={x:c.plotX,y:c.plotY,
r:d},c.dlBox={x:c.plotX-d,y:c.plotY-d,width:2*d,height:2*d}):c.shapeArgs=c.plotY=c.dlBox=C},drawLegendSymbol:function(a,b){var c=x(a.itemStyle.fontSize)/2;b.legendSymbol=this.chart.renderer.circle(c,a.baseline-c,c).attr({zIndex:3}).add(b.legendGroup);b.legendSymbol.isMarker=!0},drawPoints:h.column.prototype.drawPoints,alignDataLabel:h.column.prototype.alignDataLabel});M.prototype.beforePadding=function(){var a=this,b=this.len,c=this.chart,d=0,e=b,f=this.isXAxis,g=f?&quot;xData&quot;:&quot;yData&quot;,k=this.min,l={},
n=v.min(c.plotWidth,c.plotHeight),j=Number.MAX_VALUE,i=-Number.MAX_VALUE,h=this.max-k,m=b/h,p=[];this.tickPositions&amp;&amp;(s(this.series,function(b){var g=b.options;if(b.bubblePadding&amp;&amp;(b.visible||!c.options.chart.ignoreHiddenSeries))if(a.allowZoomOutside=!0,p.push(b),f)s([&quot;minSize&quot;,&quot;maxSize&quot;],function(a){var b=g[a],f=/%$/.test(b),b=x(b);l[a]=f?n*b/100:b}),b.minPxSize=l.minSize,b=b.zData,b.length&amp;&amp;(j=v.min(j,v.max(O(b),g.displayNegative===!1?g.zThreshold:-Number.MAX_VALUE)),i=v.max(i,P(b)))}),s(p,function(a){var b=
a[g],c=b.length,n;f&amp;&amp;a.getRadii(j,i,l.minSize,l.maxSize);if(h&gt;0)for(;c--;)typeof b[c]===&quot;number&quot;&amp;&amp;(n=a.radii[c],d=Math.min((b[c]-k)*m-n,d),e=Math.max((b[c]-k)*m+n,e))}),p.length&amp;&amp;h&gt;0&amp;&amp;q(this.options.min,this.userMin)===C&amp;&amp;q(this.options.max,this.userMax)===C&amp;&amp;(e-=b,m*=(b+d-e)/b,this.min+=d/m,this.max+=e/m))};(function(){function a(a,b,c){a.call(this,b,c);if(this.chart.polar)this.closeSegment=function(a){var b=this.xAxis.center;a.push(&quot;L&quot;,b[0],b[1])},this.closedStacks=!0}function b(a,b){var c=this.chart,
d=this.options.animation,e=this.group,j=this.markerGroup,i=this.xAxis.center,h=c.plotLeft,m=c.plotTop;if(c.polar){if(c.renderer.isSVG)d===!0&amp;&amp;(d={}),b?(c={translateX:i[0]+h,translateY:i[1]+m,scaleX:0.001,scaleY:0.001},e.attr(c),j&amp;&amp;j.attr(c)):(c={translateX:h,translateY:m,scaleX:1,scaleY:1},e.animate(c,d),j&amp;&amp;j.animate(c,d),this.animate=null)}else a.call(this,b)}var c=t.prototype,d=R.prototype,e;c.toXY=function(a){var b,c=this.chart,d=a.plotX;b=a.plotY;a.rectPlotX=d;a.rectPlotY=b;d=(d/Math.PI*180+this.xAxis.pane.options.startAngle)%
360;d&lt;0&amp;&amp;(d+=360);a.clientX=d;b=this.xAxis.postTranslate(a.plotX,this.yAxis.len-b);a.plotX=a.polarPlotX=b.x-c.plotLeft;a.plotY=a.polarPlotY=b.y-c.plotTop};c.orderTooltipPoints=function(a){if(this.chart.polar&amp;&amp;(a.sort(function(a,b){return a.clientX-b.clientX}),a[0]))a[0].wrappedClientX=a[0].clientX+360,a.push(a[0])};h.area&amp;&amp;r(h.area.prototype,&quot;init&quot;,a);h.areaspline&amp;&amp;r(h.areaspline.prototype,&quot;init&quot;,a);h.spline&amp;&amp;r(h.spline.prototype,&quot;getPointSpline&quot;,function(a,b,c,d){var e,j,i,h,m,p,o;if(this.chart.polar){e=
c.plotX;j=c.plotY;a=b[d-1];i=b[d+1];this.connectEnds&amp;&amp;(a||(a=b[b.length-2]),i||(i=b[1]));if(a&amp;&amp;i)h=a.plotX,m=a.plotY,b=i.plotX,p=i.plotY,h=(1.5*e+h)/2.5,m=(1.5*j+m)/2.5,i=(1.5*e+b)/2.5,o=(1.5*j+p)/2.5,b=Math.sqrt(Math.pow(h-e,2)+Math.pow(m-j,2)),p=Math.sqrt(Math.pow(i-e,2)+Math.pow(o-j,2)),h=Math.atan2(m-j,h-e),m=Math.atan2(o-j,i-e),o=Math.PI/2+(h+m)/2,Math.abs(h-o)&gt;Math.PI/2&amp;&amp;(o-=Math.PI),h=e+Math.cos(o)*b,m=j+Math.sin(o)*b,i=e+Math.cos(Math.PI+o)*p,o=j+Math.sin(Math.PI+o)*p,c.rightContX=i,c.rightContY=
o;d?(c=[&quot;C&quot;,a.rightContX||a.plotX,a.rightContY||a.plotY,h||e,m||j,e,j],a.rightContX=a.rightContY=null):c=[&quot;M&quot;,e,j]}else c=a.call(this,b,c,d);return c});r(c,&quot;translate&quot;,function(a){a.call(this);if(this.chart.polar&amp;&amp;!this.preventPostTranslate)for(var a=this.points,b=a.length;b--;)this.toXY(a[b])});r(c,&quot;getSegmentPath&quot;,function(a,b){var c=this.points;if(this.chart.polar&amp;&amp;this.options.connectEnds!==!1&amp;&amp;b[b.length-1]===c[c.length-1]&amp;&amp;c[0].y!==null)this.connectEnds=!0,b=[].concat(b,[c[0]]);return a.call(this,
b)});r(c,&quot;animate&quot;,b);r(c,&quot;setTooltipPoints&quot;,function(a,b){this.chart.polar&amp;&amp;F(this.xAxis,{tooltipLen:360});return a.call(this,b)});if(h.column)e=h.column.prototype,r(e,&quot;animate&quot;,b),r(e,&quot;translate&quot;,function(a){var b=this.xAxis,c=this.yAxis.len,d=b.center,e=b.startAngleRad,h=this.chart.renderer,i,m;this.preventPostTranslate=!0;a.call(this);if(b.isRadial){b=this.points;for(m=b.length;m--;)i=b[m],a=i.barX+e,i.shapeType=&quot;path&quot;,i.shapeArgs={d:h.symbols.arc(d[0],d[1],c-i.plotY,null,{start:a,end:a+i.pointWidth,
innerR:c-q(i.yBottom,c)})},this.toXY(i),i.tooltipPos=[i.plotX,i.plotY],i.ttBelow=i.plotY&gt;d[1]}}),r(e,&quot;alignDataLabel&quot;,function(a,b,d,e,h,j){if(this.chart.polar){a=b.rectPlotX/Math.PI*180;if(e.align===null)e.align=a&gt;20&amp;&amp;a&lt;160?&quot;left&quot;:a&gt;200&amp;&amp;a&lt;340?&quot;right&quot;:&quot;center&quot;;if(e.verticalAlign===null)e.verticalAlign=a&lt;45||a&gt;315?&quot;bottom&quot;:a&gt;135&amp;&amp;a&lt;225?&quot;top&quot;:&quot;middle&quot;;c.alignDataLabel.call(this,b,d,e,h,j)}else a.call(this,b,d,e,h,j)});r(d,&quot;getIndex&quot;,function(a,b){var c,d=this.chart,e;d.polar?(e=d.xAxis[0].center,c=
b.chartX-e[0]-d.plotLeft,d=b.chartY-e[1]-d.plotTop,c=180-Math.round(Math.atan2(c,d)/Math.PI*180)):c=a.call(this,b);return c});r(d,&quot;getCoordinates&quot;,function(a,b){var c=this.chart,d={xAxis:[],yAxis:[]};c.polar?s(c.axes,function(a){var e=a.isXAxis,f=a.center,h=b.chartX-f[0]-c.plotLeft,f=b.chartY-f[1]-c.plotTop;d[e?&quot;xAxis&quot;:&quot;yAxis&quot;].push({axis:a,value:a.translate(e?Math.PI-Math.atan2(h,f):Math.sqrt(Math.pow(h,2)+Math.pow(f,2)),!0)})}):d=a.call(this,b);return d})})()})(Highcharts);
</pre>
</div>
<div title="xHighChartsTheme.js" creator="Christopher Wilson" modifier="Christopher Wilson" created="201405190908" tags="excludeTimeline js systemConfig" changecount="11" alias="" content-type="text/javascript">
<pre>/**
 * Sand-Signika theme for Highcharts JS
 * @author Torstein Honsi
 */

// Load the fonts
Highcharts.createElement('link', {
   href: 'http://fonts.googleapis.com/css?family=Signika:400,700',
   rel: 'stylesheet',
   type: 'text/css'
}, null, document.getElementsByTagName('head')[0]);

// Add the background image to the container
Highcharts.wrap(Highcharts.Chart.prototype, 'getContainer', function (proceed) {
   proceed.call(this);
   this.container.style.background = 'url(http://www.highcharts.com/samples/graphics/sand.png)';
});


Highcharts.theme = {
   colors: [&quot;#f45b5b&quot;, &quot;#8085e9&quot;, &quot;#8d4654&quot;, &quot;#7798BF&quot;, &quot;#aaeeee&quot;, &quot;#ff0066&quot;, &quot;#eeaaee&quot;,
      &quot;#55BF3B&quot;, &quot;#DF5353&quot;, &quot;#7798BF&quot;, &quot;#aaeeee&quot;],
   chart: {
      backgroundColor: null,
      style: {
         fontFamily: &quot;MathJax_Main-Regular, Signika, serif&quot;
      }
   },
   title: {
      style: {
         color: 'black',
         fontSize: '18px',
         fontWeight: 'bold',
		  fontVariant: 'smallCaps'
      }
   },
   subtitle: {
      style: {
         color: '#6e6e70'
      }
   },
   tooltip: {
      borderWidth: 0
   },
   legend: {
      itemStyle: {
         fontWeight: 'bold',
         fontSize: '13px'
      }
   },
   xAxis: {
      labels: {
         style: {
			 fontSize:'12px',
            color: '#6e6e70'
         }
      }
   },
   yAxis: {
      labels: {
         style: {
			 fontSize:'12px',
            color: '#6e6e70'
         }
      }
   },
   plotOptions: {
      series: {
         shadow: true
      },
      candlestick: {
         lineColor: '#404048'
      }
   },

   // Highstock specific
   navigator: {
      
   },
   rangeSelector: {
      buttonTheme: {
         fill: 'white',
         stroke: '#C0C0C8',
         'stroke-width': 1,
         states: {
            select: {
               fill: '#D0D0D8'
            }
         }
      }
   },
   scrollbar: {
      trackBorderColor: '#C0C0C8'
   },

   // General
   background2: '#E0E0E8'
   
};

// Apply the theme
Highcharts.setOptions(Highcharts.theme);</pre>
</div>
<div title="xml.js" modifier="Christopher Wilson" created="201404120233" tags="cmtw excludeTimeline systemConfig excludeLists" changecount="2">
<pre>/***
|''Requires''|codemirror.js|
|''License''|[[codemirror.js]]|
***/

//{{{
CodeMirror.defineMode(&quot;xml&quot;,function(t,e){function n(t,e){function n(n){return e.tokenize=n,n(t,e)}var o=t.next();if(&quot;&lt;&quot;==o){if(t.eat(&quot;!&quot;))return t.eat(&quot;[&quot;)?t.match(&quot;CDATA[&quot;)?n(a(&quot;atom&quot;,&quot;]]&gt;&quot;)):null:t.match(&quot;--&quot;)?n(a(&quot;comment&quot;,&quot;--&gt;&quot;)):t.match(&quot;DOCTYPE&quot;,!0,!0)?(t.eatWhile(/[\w\._\-]/),n(i(1))):null;if(t.eat(&quot;?&quot;))return t.eatWhile(/[\w\._\-]/),e.tokenize=a(&quot;meta&quot;,&quot;?&gt;&quot;),&quot;meta&quot;;var l=t.eat(&quot;/&quot;);b=&quot;&quot;;for(var u;u=t.eat(/[^\s\u00a0=&lt;&gt;\&quot;\'\/?]/);)b+=u;return b?(w=l?&quot;closeTag&quot;:&quot;openTag&quot;,e.tokenize=r,&quot;tag&quot;):&quot;error&quot;}if(&quot;&amp;&quot;==o){var d;return d=t.eat(&quot;#&quot;)?t.eat(&quot;x&quot;)?t.eatWhile(/[a-fA-F\d]/)&amp;&amp;t.eat(&quot;;&quot;):t.eatWhile(/[\d]/)&amp;&amp;t.eat(&quot;;&quot;):t.eatWhile(/[\w\.\-:]/)&amp;&amp;t.eat(&quot;;&quot;),d?&quot;atom&quot;:&quot;error&quot;}return t.eatWhile(/[^&amp;&lt;]/),null}function r(t,e){var r=t.next();return&quot;&gt;&quot;==r||&quot;/&quot;==r&amp;&amp;t.eat(&quot;&gt;&quot;)?(e.tokenize=n,w=&quot;&gt;&quot;==r?&quot;endTag&quot;:&quot;selfcloseTag&quot;,&quot;tag&quot;):&quot;=&quot;==r?(w=&quot;equals&quot;,null):/[\'\&quot;]/.test(r)?(e.tokenize=o(r),e.tokenize(t,e)):(t.eatWhile(/[^\s\u00a0=&lt;&gt;\&quot;\']/),&quot;word&quot;)}function o(t){return function(e,n){for(;!e.eol();)if(e.next()==t){n.tokenize=r;break}return&quot;string&quot;}}function a(t,e){return function(r,o){for(;!r.eol();){if(r.match(e)){o.tokenize=n;break}r.next()}return t}}function i(t){return function(e,r){for(var o;(o=e.next())!=null;){if(&quot;&lt;&quot;==o)return r.tokenize=i(t+1),r.tokenize(e,r);if(&quot;&gt;&quot;==o){if(1==t){r.tokenize=n;break}return r.tokenize=i(t-1),r.tokenize(e,r)}}return&quot;meta&quot;}}function l(){for(var t=arguments.length-1;t&gt;=0;t--)C.cc.push(arguments[t])}function u(){return l.apply(null,arguments),!0}function d(t,e){var n=M.doNotIndent.hasOwnProperty(t)||C.context&amp;&amp;C.context.noIndent;C.context={prev:C.context,tagName:t,indent:C.indented,startOfLine:e,noIndent:n}}function c(){C.context&amp;&amp;(C.context=C.context.prev)}function f(t){if(&quot;openTag&quot;==t)return C.tagName=b,u(p,s(C.startOfLine));if(&quot;closeTag&quot;==t){var e=!1;return C.context?C.context.tagName!=b&amp;&amp;(M.implicitlyClosed.hasOwnProperty(C.context.tagName.toLowerCase())&amp;&amp;c(),e=!C.context||C.context.tagName!=b):e=!0,e&amp;&amp;(v=&quot;error&quot;),u(m(e))}return u()}function s(t){return function(e){return&quot;selfcloseTag&quot;==e||&quot;endTag&quot;==e&amp;&amp;M.autoSelfClosers.hasOwnProperty(C.tagName.toLowerCase())?(g(C.tagName.toLowerCase()),u()):&quot;endTag&quot;==e?(g(C.tagName.toLowerCase()),d(C.tagName,t),u()):u()}}function m(t){return function(e){return t&amp;&amp;(v=&quot;error&quot;),&quot;endTag&quot;==e?(c(),u()):(v=&quot;error&quot;,u(arguments.callee))}}function g(t){for(var e;;){if(!C.context)return;if(e=C.context.tagName.toLowerCase(),!M.contextGrabbers.hasOwnProperty(e)||!M.contextGrabbers[e].hasOwnProperty(t))return;c()}}function p(t){return&quot;word&quot;==t?(v=&quot;attribute&quot;,u(h,p)):&quot;endTag&quot;==t||&quot;selfcloseTag&quot;==t?l():(v=&quot;error&quot;,u(p))}function h(t){return&quot;equals&quot;==t?u(x,p):(M.allowMissing?&quot;word&quot;==t&amp;&amp;(v=&quot;attribute&quot;):v=&quot;error&quot;,&quot;endTag&quot;==t||&quot;selfcloseTag&quot;==t?l():u())}function x(t){return&quot;string&quot;==t?u(k):&quot;word&quot;==t&amp;&amp;M.allowUnquoted?(v=&quot;string&quot;,u()):(v=&quot;error&quot;,&quot;endTag&quot;==t||&quot;selfCloseTag&quot;==t?l():u())}function k(t){return&quot;string&quot;==t?u(k):l()}var b,w,C,v,T=t.indentUnit,M=e.htmlMode?{autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1},y=e.alignCDATA;return{startState:function(){return{tokenize:n,cc:[],indented:0,startOfLine:!0,tagName:null,context:null}},token:function(t,e){if(t.sol()&amp;&amp;(e.startOfLine=!0,e.indented=t.indentation()),t.eatSpace())return null;v=w=b=null;var n=e.tokenize(t,e);if(e.type=w,(n||w)&amp;&amp;&quot;comment&quot;!=n)for(C=e;;){var r=e.cc.pop()||f;if(r(w||n))break}return e.startOfLine=!1,v||n},indent:function(t,e,o){var a=t.context;if(t.tokenize!=r&amp;&amp;t.tokenize!=n||a&amp;&amp;a.noIndent)return o?o.match(/^(\s*)/)[0].length:0;if(y&amp;&amp;/&lt;!\[CDATA\[/.test(e))return 0;for(a&amp;&amp;/^&lt;\//.test(e)&amp;&amp;(a=a.prev);a&amp;&amp;!a.startOfLine;)a=a.prev;return a?a.indent+T:0},electricChars:&quot;/&quot;,configuration:e.htmlMode?&quot;html&quot;:&quot;xml&quot;}}),CodeMirror.defineMIME(&quot;text/xml&quot;,&quot;xml&quot;),CodeMirror.defineMIME(&quot;application/xml&quot;,&quot;xml&quot;),CodeMirror.mimeModes.hasOwnProperty(&quot;text/html&quot;)||CodeMirror.defineMIME(&quot;text/html&quot;,{name:&quot;xml&quot;,htmlMode:!0});
//}}}</pre>
</div>
<div title="youAreReadingPlugin" creator="Christopher Wilson" modifier="Christopher Wilson" created="201404140701" modified="201404140704" tags="systemConfig excludeTimeline ambit" changecount="7" content-type="">
<pre>//{{{
(function($) {
	var $readingList,
		plugin;
	config.macros.youAreReading = {};
	plugin = config.macros.youAreReading;
	
	plugin.handler = function(place) {
		if(!$readingList) {
			$(document).bind(&quot;startup&quot;, this.dispatch);
		}
		$readingList = $('&lt;ul class=&quot;browsingTool&quot;&gt;&lt;/ul&gt;').appendTo(place);
	};
	plugin.addItem = function(title, flashing) {
		var link = createTiddlyLink(null,title,true,(flashing ? &quot;active&quot; : &quot;&quot;)),
			$newItem = $('&lt;li&gt;&lt;/li&gt;')
				.append('&lt;span class=&quot;close&quot;&gt;&amp;times;&lt;/span&gt;')
				.append(link);
		$newItem
			.appendTo($readingList)
			.find('span.close')
			.click(function() {
				story.closeTiddler(title, true);
			});
		if(flashing) {
			$newItem.css('backgroundColor', '#FFF')
				.fadeOut(75, function() {
					$newItem.fadeIn(75, function() {
						$newItem.css('backgroundColor', 'transparent');
					});	
				});
		}
	};
	plugin.refreshList = function(activeTitle, omit) {
		var title,
			active,
			id,
			idPrefix = &quot;&quot;,
			prefixLength = idPrefix.length;
		$readingList.empty();
		$(story.getContainer())
			.find('.tiddler')
			.each(function(i, tid) {
				id = $(tid).attr(&quot;tiddler&quot;);
				title = id.substring(prefixLength);
				if(title &amp;&amp; omit!==title) {
					active = activeTitle===title;
					plugin.addItem(title, active);
				}
			});
	};
	plugin.dispatch = function() {
		// populate list with default story
		plugin.refreshList();
			
		var tmpDisplayTiddler = Story.prototype.displayTiddler;
		Story.prototype.displayTiddler = function(srcElement,tiddler,template,animate,slowly) {
			var $element = $(srcElement);
			// disable scrolling for opening tiddlers from #tiddlerDisplay
			if($element.closest('#tiddlerDisplay').length) {
				/*var tmpStartAnimating = anim.startAnimating;
				anim.startAnimating = function() {
					anim.startAnimating = tmpStartAnimating;
				};*/
				var tmpAnimate = config.options.chkAnimate;
				var tmpScrollTo = window.scrollTo;
				window.scrollTo = function() {
					window.scrollTo = tmpScrollTo;
					config.options.chkAnimate = tmpAnimate;
				};
				config.options.chkAnimate = false;
				var tmpPositionTiddler = Story.prototype.positionTiddler;
				Story.prototype.positionTiddler = function() {
					Story.prototype.positionTiddler = tmpPositionTiddler;
					return null; // open at bottom
				};
				// animate the title over to the you are reading list
				var linkText = $element.is('a') ? $element.text() : (tiddler instanceof Tiddler ? tiddler.title : tiddler),
					$linkClone = $(&quot;&lt;span&gt;&quot;+linkText+&quot;&lt;/span&gt;&quot;).appendTo($('#displayArea')),
					y = $element.offset().top,
					mainPaneOffset = $('#displayArea').offset(),
					x = $element.offset().left-mainPaneOffset.left,
					$readingList = $('#currentlyOpenPanel li'),
					existingList = $readingList.map(function(i) {
						if($(this).children('a').text()===linkText) {
							return i;
						}
					}).get(),
					panelIsVisible = $('#sidebar').position().left&gt;=0 &amp;&amp; $('#currentlyOpenPanel ul').height(),
					$existingLink = existingList.length &amp;&amp; $readingList.eq(existingList[0]).children('a'),
					$target,
					$toX,
					$toY;
				$target = panelIsVisible ? $existingLink : $('#sidebarIcons #current span');
				if($target.length) {
					toY = $target.offset().top + parseInt($target.css('paddingTop'),10) + parseInt($target.css('marginTop'),10);
					toX = $target.offset().left;
				} else {
					$target = $readingList.last();
					toY = $target.height();
					$target = $target.children('a');
					toY += $target.offset().top + parseInt($target.css('paddingTop'),10) + parseInt($target.css('marginTop'),10);
					toX = $target.offset().left;
				}
				$linkClone.css({
					&quot;position&quot;: &quot;absolute&quot;,
					&quot;z-index&quot;: &quot;10&quot;,
					&quot;top&quot;: y+'px',
					&quot;left&quot;: x+'px',
					&quot;lineHeight&quot;: &quot;1em&quot;,
					&quot;color&quot;: &quot;#000000&quot;,
					&quot;opacity&quot;: 0.7
				}).animate({
					'opacity': 0.5,
					'top': toY+'px',
					'left': toX-mainPaneOffset.left+'px'
				},
				1000,
				function() {
					$(this).remove();
				});
			}
			// recreate list when tiddler opened - JRL: this looks wrong, as title is used before it is defined...
			var t = story.chooseTemplateForTiddler(title, template);
			tmpDisplayTiddler.apply(this, [srcElement, tiddler, template, animate, slowly]);

			if(t.indexOf('ViewTemplate')!==-1) {
				var title = (tiddler instanceof Tiddler) ? tiddler.title : tiddler;
				plugin.refreshList(title);
			}
			$(document).trigger(&quot;StoryUpdated&quot;);
		};
		
		// recreate list when tiddler closed
		var tmpCloseTiddler = Story.prototype.closeTiddler;
		Story.prototype.closeTiddler = function(title, animate, unused) {
			tmpCloseTiddler.apply(this, arguments);
			plugin.refreshList(title, title);
			$(document).trigger(&quot;StoryUpdated&quot;, [true]);
		}
	};
}(jQuery));
//}}}</pre>
</div>
<div title="zCodeMirrorPlugin" modifier="Christopher Wilson" created="201404120157" modified="201405140538" tags="cmtw excludeTimeline systemConfig excludeLists" content-type="" changecount="7">
<pre>/***
|''Name''|zCodeMirrorPlugin|
|''Description''|Enables syntax highlighting for &lt;pre&gt; and &lt;code&gt; blocks. Adds a new formatter for {{{&lt;code class='???'&gt;}}}. Using the wonderfull CodeMirror library.|
|''Author''|PMario|
|''Version''|0.2.9|
|''Status''|''stable''|
|''Info''|CodeMirrorPluginInfo|
|''Source''|https://github.com/pmario/tw.CodeMirrorPlugin|
|''Documentation''|http://codemirror.tiddlyspace.com/|
|''License''|[[CC-BY-NC-SA|http://creativecommons.org/licenses/by-nc-sa/3.0/]]|
|''CoreVersion''|2.5.0|
|''Requires''|codemirror.js |
|''Keywords''|syntax highlighting color code mirror codemirror|
! Documentation
* ViewTemplate, EditTemplate and ToolbarCommands tiddler have to be adjusted. see: [[CodeMirrorPluginInfo]] 
* Full info, see: [[CodeMirrorPluginInfo]]
! Usage
!!!! StyleSheet
&lt;&lt;&lt;
* The plugin automatically creates a shadow tiddler: StyleSheetCodeMirror, that can be adjusted to your needs.
&lt;&lt;&lt;
!!!! Macros
Modes: {{{&lt;&lt;cmModes&gt;&gt;}}} ... displays the usable modes seen below
&lt;&lt;&lt;
Modes: &lt;&lt;cmModes&gt;&gt;
&lt;&lt;&lt;
MIMEs: {{{&lt;&lt;cmMimes&gt;&gt;}}} ... displays the usable mime types seen below. Same order as modes.
&lt;&lt;&lt;
Modes: &lt;&lt;cmMimes&gt;&gt;
&lt;&lt;&lt;
MIMEs: {{{&lt;&lt;cmMimeObjects&gt;&gt;}}} ... displays the usable mime types seen below. Same order as modes. Shows the structure as a JSON.
&lt;&lt;&lt;
&lt;&lt;cmMimeObjects&gt;&gt;
&lt;&lt;&lt;
!!!!Global Settings
&lt;&lt;&lt;
* Have a look at: [[CodeMirrorConfig]]
&lt;&lt;&lt;
!!!! ViewTemplate
&lt;&lt;&lt;
* Same as macro, but will be executed automatically for every tiddler. see: [[CodeMirrorPluginInfo]]
&lt;&lt;&lt;
!!!! Parameters
&lt;&lt;&lt;
{{{&lt;&lt;highlightSyntax [tagName]&gt;&gt; }}}
* will render all blocks, with any defined tag name. eg: tagName = {{{code}}}.
* [tagName] is optional. Default is &quot;pre&quot;.
&lt;&lt;&lt;
!!!! Configuration options
&lt;&lt;&lt;
Guess syntax: &lt;&lt;option chkGuessSyntax&gt;&gt; .. If activated, ~TiddlyWiky &lt;pre&gt; blocks will be rendered according to there block braces. see [[CodeMirrorInfo]]
Expert mode: &lt;&lt;option chkExpertSyntax&gt;&gt; .. If activated, additional values below will be used. see [[CodeMirrorInfo]]

{{{ {{{ }}} txtShText: &lt;&lt;option txtShText&gt;&gt; eg: 'brush:text'
{{{ / *{{{* / }}} txtShCss: &lt;&lt;option txtShCss&gt;&gt; eg: 'brush:css'
{{{ //{{{ }}} txtShPlugin: &lt;&lt;option txtShPlugin&gt;&gt; 'brush:javascript'
{{{ &lt;!--{{{--&gt;&gt; }}} txtShXml: &lt;&lt;option txtShXml&gt;&gt; 'brush:xml'

Additional options
&lt;&lt;&lt;
!!!! Known Issues
* If you find something, just post at [[Google discussion group|http://groups.google.com/group/tiddlywiki?hl=en]]
* I'm happy to get some general feedback too!
!!!! Revision History
&lt;&lt;&lt;
* V 0.2.9 2013-06-05
** line-height adjustment in StyleSheetCodeMirror 
* V 0.2.8 2012-06-23
** &quot;smartTab&quot; handling adjusted. see: ExtraKeysAddOn
** minor documentation adjustments about ViewTemplate, EditTemplate requirements.
* V 0.1.0 2011-09-07
** inital release
see full History at CodeMirrorPluginInfo
&lt;&lt;&lt;
!!! Code
!!!!! {{{&lt;&lt;cmModes&gt;&gt;, &lt;&lt;cmMimes&gt;&gt;, &lt;&lt;cmMimeObjects&gt;&gt;}}}
***/
//{{{
version.extensions.CodeMirrorPlugin = {major: 0, minor: 2, revision: 5, date: new Date(2012,2,7)};

(function($) {

config.macros.cmModes = {
	handler: function(place, macroName, params, wikifier, paramString, tiddler) {
		jQuery('&lt;span/&gt;').text(CodeMirror.listModes().join(', ')).appendTo(place);
	}
};

config.macros.cmMimes = {
	handler: function(place, macroName, params, wikifier, paramString, tiddler) {
		var cm = config.tools.cm;
		jQuery('&lt;span/&gt;').text(cm.listMimeNames().join(', ')).appendTo(place);
	}
};

config.macros.cmMimeObjects = {
	handler: function(place, macroName, params, wikifier, paramString, tiddler) {
		jQuery('&lt;span/&gt;').text(JSON.stringify(CodeMirror.listMIMEs())).appendTo(place);
	}
};
//}}}
/***
!!!!! Type chooser to define the MIME type 
***/
//{{{
// create objects for typeChooser dropDown
config.macros.typeChooser = {};
config.views.editor.typeChooser = {};

// use this part if you need translation
merge(config.views.editor.typeChooser,{
	text: &quot;content-type&quot;,
	tooltip: &quot;Choose existing types to add to this tiddler&quot;,
	popupNone: &quot;There are no content-types defined&quot;,
	typeTooltip: &quot;Add the content-type '%0'&quot;});

// content-type chooser 
config.macros.typeChooser.onClick = function(ev)
{
	var e = ev || window.event,
		lingo = config.views.editor.typeChooser,
		popup = Popup.create(this),
		data = $(this).data('data'),
		types = CodeMirror.listMIMEs();
	
	types.push({mime: '-none-', mode: 'none'});
	if(types.length === 0) {
		$('&lt;li/&gt;').text(lingo.popupNone).appendTo(popup);
	}
	var t, type, mode, tooltipText;
	for(t=0; t&lt;types.length; t++) {
	
		tooltipText = (typeof types[t].mode === 'object') ? types[t].mode.name : types[t].mode;
		type = createTiddlyButton( createTiddlyElement(popup,'li'), 
					types[t].mime, lingo.typeTooltip.format([tooltipText]), config.macros.typeChooser.onTypeClick);

		$(type).data('data', data);

		type.setAttribute('type',types[t].mime);
		type.setAttribute('tiddler',this.getAttribute('tiddler'));
	}
	Popup.show();
	e.cancelBubble = true;
	if(e.stopPropagation) {e.stopPropagation();}
	return false;
};

config.macros.typeChooser.onTypeClick = function(ev)
{
	var e = ev || window.event;
	if(e.metaKey || e.ctrlKey) {stopEvent(e);} //# keep popup open on CTRL-click

	var data = $(this).data('data'),
		type = this.getAttribute('type'),
		title = this.getAttribute('tiddler'),
		conf = config.tools.cm.conf,
		cm = config.tools.cm,
		cmOptions = {}, 
		mode;

	// TODO doesn't seem to be right here. 
	// SyntaxHL change should work in read only too, for demo purpose.
	if(!readOnly) {		
			// read actual global configuraiton
			config.tools.cm.init();

			// clear the input .. 
			$(data.input).val('');

			if (type == '-none-' || type == 'content-type') {
				story.setTiddlerField(title, '', '+1', data.ctfield);
			}
			else {
				story.setTiddlerField(title, type, '+1', data.ctfield);
			}

			$(data.btn).text(type);
			
			var text = $(story.getTiddler(title)).find('textarea[edit=text]');
			var editor = $(text[0]).data('editor');
			// save changes to textarea.
			if (editor) {editor.save();}
			
			// TODO if a tag overwrites the content-type, gray out/disable the content-type button.
			
			if (editor) $(editor.getWrapperElement()).remove();

			mode = cm.getModeObject(type);

			$.extend( cmOptions, conf['global']);
			$.extend( cmOptions, conf[mode.name]);
			$.extend( cmOptions.mode, mode);	// IMPORTANT overwrite mode, because it may be an object !!

			var tid = store.getTiddler(title);
			var cmField = story.hasTiddlerField(title, 'cm.height');
			// if there is a cmField it will win, because there may be a new setting.
			if (cmField) {
				$.extend(cmOptions, {cmHeight: cmField.getAttribute('value')});
			}
			else if (tid &amp;&amp; tid.fields['cm.height']) {
				$.extend(cmOptions, {cmHeight: tid.fields['cm.height']});
			} // TODO this code is used several times -&gt; refactoring needed
			
			cm.startEditor(text, cmOptions);					
	}
	return false;
};

config.macros.typeChooser.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	var ctfield = params[0] || 'content-type';

	if(tiddler instanceof Tiddler) {
		var lingo = config.views.editor.typeChooser,
			btnText = (tiddler.fields[ctfield]) ? tiddler.fields[ctfield] : lingo.text,
			inpText = (tiddler.fields[ctfield]) ? tiddler.fields[ctfield] : '';

		// createTiddlyElement(parent, element, id, className, text, attribs)
		var $inp = $('&lt;input type=&quot;text&quot; edit=&quot;'+ctfield+'&quot; size=&quot;20&quot;&gt;').appendTo(place).val(inpText).hide();
		
		var btn = createTiddlyButton(place, btnText, lingo.tooltip, this.onClick);
		$(btn).data('data', {'input':$inp, 'btn':btn, 'ctfield':ctfield});
		
		btn.setAttribute('tiddler', tiddler.title);
		btn.setAttribute('exclude', params[0]);
	}
};
//}}}
/***
!!!!! {{{&lt;&lt;highlightSyntax&gt;&gt;}}} macro 
***/
//{{{
config.macros.highlightSyntax = {
	getElementsByClass: function (searchClass,node,tag) {
		var classElements = [];
        if ( node === null ) {node = document;}
        if ( tag === null )  {tag = '*';}
		
		var els = node.getElementsByTagName(tag);
		var elsLen = els.length;
		var pattern = new RegExp('(^|\\s)'+searchClass+'(:|\\s|$)');
		for (i = 0, j = 0; i &lt; elsLen; i++) {
			if ( pattern.test(els[i].className) ) {
				classElements[j] = els[i];
				j++;
			}
		}
		return classElements;
	},
	
	// &lt;&lt;highlightSyntax tagName&gt;&gt;
	// &lt;&lt;highlightSyntax code&gt;&gt;  || &lt;&lt;highlightSyntax div&gt;&gt;
	handler: function(place, macroName, params, wikifier, paramString, tiddler) {

		// the configured tagName can be temporarily overwritten by the macro.
		var output, cStr, modeName;
		var tagName = params[0] || 'pre';
		var arr = this.getElementsByClass('brush', story.findContainingTiddler(place), tagName);
		
		var src;
		for (i=0; i&lt;arr.length; i++) {
			$output = $('&lt;'+ tagName +' class=&quot;cm-s-default&quot;&gt;'); // TODO theme handling
			$src = $(arr[i]);

			cStr = $src.attr('class');
			cStr = cStr.parseParams(null, null, true);

			modeName = getParam(cStr, 'brush', 'null');
			
			CodeMirror.runMode($src.text(), modeName, $output[0]);
			$src.replaceWith($output[0]);
		}			
	} // handler
};

})(jQuery);
//}}}
/***
!!!!! New formatter for {{{&lt;code class='brush:??'&gt;}}}
***/
//{{{
config.formatters.push({
	name: &quot;highlightSyntax&quot;,
	match: &quot;^&lt;code[\\s]+[^&gt;]+&gt;\\n&quot;,
	element: &quot;pre&quot;,
	handler: function(w)
	{
        this.lookaheadRegExp = /&lt;code[\s]+class.*=.*[&quot;'](.*)[&quot;'].*&gt;\n((?:^[^\n]*\n)+?)(^&lt;\/code&gt;$\n?)/img;
		this.lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		if(lookaheadMatch &amp;&amp; lookaheadMatch.index == w.matchStart) {
            var options = lookaheadMatch[1];
			var text = lookaheadMatch[2];
			var cmMode;
			
			if(config.browser.isIE) {
				text = text.replace(/\n/g,&quot;\r&quot;);
			}
			var element = createTiddlyElement(w.output,this.element,null,options +' cm-s-default','');	// TODO check for theme

			// may be there will be additional params in the future.
			cmMode = options.parseParams(null, null, true);
			cmMode = getParam(cmMode, 'brush', 'null');
			
            CodeMirror.runMode(text, cmMode, element);
			w.nextMatch = lookaheadMatch.index + lookaheadMatch[0].length;
		}
	}
});
//}}}
/***
!!!!! Add class attribute to pre, if defined
***/
//{{{
(function(formatters) { //# set up alias
	var helper = {};	
	helper.enclosedTextHelper = function(w){
		var attr;
		var co = config.options;
		var expert = (co.chkExpertSyntax !== undefined)? co.chkExpertSyntax : false;
		var guess  = (co.chkGuessSyntax !== undefined)? co.chkGuessSyntax : true;
		
		this.lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		if(lookaheadMatch &amp;&amp; lookaheadMatch.index == w.matchStart) {
			var text = lookaheadMatch[1];
			if(config.browser.isIE) {
				text = text.replace(/\n/g,'\r');
			}
			switch(w.matchText) {
			case '{{{\n': // text
				attr = (expert) ? (co.txtShText) ? (co.txtShText) : 'text/plain' : 'text/plain' ;
				break;
			case '/*{{{*/\n': // CSS
				attr = (expert) ? (co.txtShCss) ? (co.txtShCss) : 'css' : 'css';
				break;
			case '//{{{\n': // plugin
				attr = (expert) ? (co.txtShPlugin) ? (co.txtShPlugin) : 'javascript' : 'javascript';
				break;
			case '&lt;!--{{{--&gt;\n': //template
				attr =  (expert) ? (co.txtShXml) ? (co.txtShXml) : 'xml' : 'xml';
				break;
			}
			var element = createTiddlyElement(w.output,this.element,null,' cm-s-default','');	// TODO check for theme
	        if (guess || expert) {
				CodeMirror.runMode(text, attr, element);
	        }

			w.nextMatch = lookaheadMatch.index + lookaheadMatch[0].length;
		}
	};
	// merge the new helper function into formatterHelpers. 
	merge(config.formatterHelpers, helper);

})(config.formatters); //# end of alias
//}}}

/***
!!!!! CM tools and helper functions 
***/
//{{{
(function ($) {
	var me;

	if (!config.tools) config.tools = {};
	config.tools.cm = me = {
		locale: {
		},
		
		// since TW layout is very flexible, the actual hight for the editor viewport can be guessed only
		// formular used: window.height - title.h * 2 - toolbar.h * 2 - correction 
		// Editor scrolls into position, to be maximum visible.
		// TODO correction may be given by the user. eg cookie
		guessMaxHeight: function (corr) {
			var wh = $(window).height(),
				tih = ($('.title').height()) ? $('.title').height() : 0,
				toh = ($('.toolbar').height()) ? $('.toolbar').height() : 0;
				
			return 1.5 * wh - (tih + toh) * 2 - ((corr) ? corr : 0); 			
		},
		
		// This function is used, if there is a browser resize, 
		// or user want's to have max size
		resizeEditor : function(height) {
			var $cm =  $('.CodeMirror');
			$cm.width($cm.closest('.editor').width());
			if (height) { $cm.find('.CodeMirror-scroll').height(height)};
		},
		
		listMimeNames: function() {
			return CodeMirror.listMIMEs().map(function(el){return el.mime;});
		},
		
		getModeObject: function(mime) {
			var arr = CodeMirror.listMIMEs();
			var mode = {&quot;name&quot;: 'null'};
			
			for (var i=0, iMax = arr.length; i &lt; iMax; i += 1) {
				if (arr[i].mime == mime) {
					if (typeof arr[i].mode === 'object') {
						return arr[i].mode;
					}
					else if (typeof arr[i].mode === 'string' ) {
						mode.name = arr[i].mode;
						return mode;
					} // else if 
				} // if
			} // for
			return mode;
		},

		helper : {
			'true': true,
			'false': false,
			'null': null
		},

		calcTextSlices: function (text) {
			var a = [], slices = {};

			store.slicesRE.lastIndex = 0;
			var m = store.slicesRE.exec(text);
			while (m) {
				if (m[2]) {
					if (m[3] === '') {
						slices[m[2]] = '';
					}
					else if (isNaN(m[3])) {
						if (!slices[m[2]]) {
							slices[m[2]] = (m[3] in me.helper) ? me.helper[m[3]] : m[3];
						}
						else {
							if (typeof(slices[m[2]]) != 'string') {
								slices[m[2]].push((m[3] in me.helper) ? me.helper[m[3]] : m[3]);
							}
							else {
								a[0] = slices[m[2]];
								slices[m[2]] = a;
								slices[m[2]].push((m[3] in me.helper) ? me.helper[m[3]] : m[3]);
							}
						}
					}
					else {
						slices[m[2]] = parseFloat(m[3]);
					}
				}
				m = store.slicesRE.exec(text);
			}
			// console.log('slices: ', slices);
			return slices;
		},

		rdSettings: function (cName) {
			var settings = {};
			var text;
			var title = cName;
			var secSep = config.textPrimitives.sectionSeparator;

			var section = null;
			var pos = title.indexOf(secSep);
			if (pos != -1) {
				section = title.substr(pos + config.textPrimitives.sectionSeparator.length);
				title = title.substr(0, pos);
			}

			cName = (title) ? cName : tiddler.title + cName;

			title = (title) ? title : tiddler.title;
			
			if (store.tiddlerExists(title) || store.isShadowTiddler(title)) {
				text = store.getTiddlerText(cName);
				settings = me.calcTextSlices(text);
			}

			// special handling for functions.
			// There are only extraKeys addOns at the moment !!
			var p = ['extraKeys', 'onChange', 'onCursorActivity', 'onGutterClick', 'onFocus', 'onScroll', 'onHighlightComplete', 'onKeyEvent'];
			var ctca = config.tools.cm.addOns;

			var x;
			for (var i = 0, im = p.length; i&lt;im; i += 1) {
				x = settings[p[i]];
				if (x) {
					// it's possible to have arrays of addOns 
					if (typeof(x) == 'object') {
						settings[p[i]] = {};
						for (var j = 0; j &lt; x.length; j++) {
							$.extend(settings[p[i]], (ctca &amp;&amp; ctca[x[j]]) ? ctca[x[j]] : null);
						}
					} 
					else { 
						settings[p[i]] = (ctca &amp;&amp; ctca[x]) ? ctca[x] : null;
					}
				}
			}
			return settings;
		},

		// stores the global CM config settings 
		conf: {},
		
		init: function() {
			var cm = 'CodeMirrorConfig', modes;
			var secSep = config.textPrimitives.sectionSeparator;
			
			// global settings need to be read seperately	
			me.conf['global'] = me.rdSettings(cm + secSep + 'global');

			// check CM for installed modes and get usre config if available
			modes = CodeMirror.listModes();
			for (var i=0; i &lt; modes.length; i += 1) {
				me.conf[modes[i]] = me.rdSettings(cm + secSep + modes[i]);
			}
		},

		startEditor: function(textArea, cmOptions) {
			// disable chkInsertTabs
			var height =  null;
			var co = config.options;

			if (co.chkInsertTabs) {
				// it's better to disalbe this option. see: smartTab mode.
				$.extend(cmOptions.extraKeys, {&quot;Tab&quot;: false, &quot;Shift-Tab&quot;: false});
			}
			
			var editor = CodeMirror.fromTextArea(textArea[0], cmOptions);
			$(textArea[0]).data('editor', editor);
			if (cmOptions.cmHeight == 'max') {
				$(editor.getScrollerElement()).data('oldHeight', $(editor.getScrollerElement()).height());
				height = config.tools.cm.guessMaxHeight(50); // TODO 25 should be an option. 
			}
			config.tools.cm.resizeEditor(height);
			editor.focus();
			editor.refresh();
		}

	}; // end plugin

	// get and init the global CM settings 
// 	config.tools.cm.init();	

	// Probably not needed with TiddlySpace themes.
	// Deffinitely not needed with neui-em theme. The layout deals with it.
	$(window).resize(function() {
		config.tools.cm.resizeEditor(); 
	});

})(jQuery);

//}}}
/***
!!!!! TiddlySpace specific stuff
***/
//{{{

// Check, if there is the BinaryTiddlersPlugin TODO and use it. 
// If not check for content-type == text/....
(function($) {
var ctfield = 'content-type';

config.extensions.cm = me = {
	isTW : function(ctype) {
		return ctype.indexOf('tiddlywiki') != -1;
	},
	isTextual : function(ctype) {
		return ctype.indexOf('text/') === 0
			|| this.endsWith(ctype, '+xml')
			|| ctype == 'application/json'
			|| ctype == 'application/javascript';
	},
	endsWith: function(str, suffix) {
		return str.length &gt;= suffix.length &amp;&amp;
			str.substr(str.length - suffix.length) == suffix;
	}	
};

// hijack text viewer to add special handling for binary tiddlers
var _view = config.macros.view.views.wikified;
config.macros.view.views.wikified = function(value, place, params, wikifier,
		paramString, tiddler) {
	var el;
	var ctype = tiddler.fields[ctfield];

	// TODO next line matches are ugly
	if(params[0] == 'text' &amp;&amp; ctype &amp;&amp; !tiddler.text.match('{{'+'{') &amp;&amp; !tiddler.text.match('&lt;code')) {
		if (!me.isTW(ctype) &amp;&amp; me.isTextual(ctype)) {
			el = $('&lt;pre class=&quot;cm-s-default&quot;&gt;').appendTo(place); // TODO theme
			CodeMirror.runMode(tiddler.text, ctype, el[0]);
		} 
		else { _view.apply(this, arguments);}
	} // if
	else {_view.apply(this, arguments);}
}; // _view

})(jQuery);

//}}}
/***
!!!!! The default StyleSheetCodeMirror style sheet
***/
//{{{
config.shadowTiddlers[&quot;StyleSheetCodeMirror&quot;]=&quot;/*{{{*/\n&quot;+
	&quot;[[codemirror.css]]\n&quot;+
	&quot;[[tiddlywiki.css]]\n&quot;+
	&quot;\n&quot;+
	&quot;.CodeMirror {\n&quot;+
	&quot;	border: 1px solid [[ColorPalette::PrimaryMid]];\n&quot;+
	&quot;	background: [[ColorPalette::Background]];\n&quot;+
	&quot;	line-height: 1.1em;\n&quot;+
	&quot;}\n&quot;+
	&quot;/*}}}*/&quot;;
store.addNotification(&quot;StyleSheetCodeMirror&quot;,refreshStyles);
//}}}



</pre>
</div>
</div>
<!--POST-STOREAREA-->
<!--POST-BODY-START-->

<!--POST-BODY-END-->
<script id="jsArea" type="text/javascript">
//<![CDATA[

//
// Please note:
//
// * This code is designed to be readable but for compactness it only includes brief comments. You can see fuller comments
//   in the project repository at https://github.com/TiddlyWiki/tiddlywiki
//
// * You should never need to modify this source code directly. TiddlyWiki is carefully designed to allow deep customisation
//   without changing the core code. Please consult the development group at http://groups.google.com/group/TiddlyWikiDev
//
// JSLint directives
/*global jQuery:false, version:false */
/*jslint bitwise:true, browser:true, confusion:true, eqeq:true, evil:true, forin:true, maxerr:100, plusplus:true, regexp:true, sloppy:true, sub:true, undef:true, unparam:true, vars:true, white:true */
//--
//-- Configuration repository
//--

// Miscellaneous options
var config = {
	numRssItems: 20, // Number of items in the RSS feed
	animDuration: 400, // Duration of UI animations in milliseconds
	cascadeFast: 20, // Speed for cascade animations (higher == slower)
	cascadeSlow: 60, // Speed for EasterEgg cascade animations
	cascadeDepth: 5, // Depth of cascade animation
	locale: "en" // W3C language tag
};

// Hashmap of alternative parsers for the wikifier
config.parsers = {};

// Adaptors
config.adaptors = {};
config.defaultAdaptor = null;

// Backstage tasks
config.tasks = {};

// Annotations
config.annotations = {};

// Custom fields to be automatically added to new tiddlers
config.defaultCustomFields = {};

// Messages
config.messages = {
	messageClose: {},
	dates: {},
	tiddlerPopup: {}
};

// Options that can be set in the options panel and/or cookies
config.options = {
	chkRegExpSearch: false,
	chkCaseSensitiveSearch: false,
	chkIncrementalSearch: true,
	chkAnimate: true,
	chkSaveBackups: true,
	chkAutoSave: false,
	chkGenerateAnRssFeed: false,
	chkSaveEmptyTemplate: false,
	chkOpenInNewWindow: true,
	chkToggleLinks: false,
	chkHttpReadOnly: true,
	chkForceMinorUpdate: false,
	chkConfirmDelete: true,
	chkInsertTabs: false,
	chkUsePreForStorage: true, // Whether to use <pre> format for storage
	chkDisplayInstrumentation: false,
	txtBackupFolder: "",
	txtEditorFocus: "text",
	txtMainTab: "tabTimeline",
	txtMoreTab: "moreTabAll",
	txtMaxEditRows: "30",
	txtFileSystemCharSet: "UTF-8",
	txtTheme: ""
	};
config.optionsDesc = {};

config.optionsSource = {};

// Default tiddler templates
var DEFAULT_VIEW_TEMPLATE = 1;
var DEFAULT_EDIT_TEMPLATE = 2;
config.tiddlerTemplates = {
	1: "ViewTemplate",
	2: "EditTemplate"
};

// More messages (rather a legacy layout that should not really be like this)
config.views = {
	wikified: {
		tag: {}
	},
	editor: {
		tagChooser: {}
	}
};

// Backstage tasks
config.backstageTasks = ["save","importTask","tweak","upgrade","plugins"];

// Extensions
config.extensions = {};

// Macros; each has a 'handler' member that is inserted later
config.macros = {
	today: {},
	version: {},
	search: {sizeTextbox: 15},
	tiddler: {},
	tag: {},
	tags: {},
	tagging: {},
	timeline: {},
	allTags: {},
	list: {
		all: {},
		missing: {},
		orphans: {},
		shadowed: {},
		touched: {},
		filter: {}
	},
	closeAll: {},
	permaview: {},
	saveChanges: {},
	slider: {},
	option: {},
	options: {},
	newTiddler: {},
	newJournal: {},
	tabs: {},
	gradient: {},
	message: {},
	view: {defaultView: "text"},
	edit: {},
	tagChooser: {},
	toolbar: {},
	plugins: {},
	refreshDisplay: {},
	importTiddlers: {},
	upgrade: {
		source: "http://tiddlywiki-releases.tiddlyspace.com/upgrade",
		backupExtension: "pre.core.upgrade"
	},
	sync: {},
	annotations: {}
};

// Commands supported by the toolbar macro
config.commands = {
	closeTiddler: {},
	closeOthers: {},
	editTiddler: {},
	saveTiddler: {hideReadOnly: true},
	cancelTiddler: {},
	deleteTiddler: {hideReadOnly: true},
	permalink: {},
	references: {type: "popup"},
	jump: {type: "popup"},
	syncing: {type: "popup"},
	fields: {type: "popup"}
};

// Control of macro parameter evaluation
config.evaluateMacroParameters = "all";

// Basic regular expressions
config.textPrimitives = {
	upperLetter: "[A-Z\u00c0-\u00de\u0150\u0170]",
	lowerLetter: "[a-z0-9_\\-\u00df-\u00ff\u0151\u0171]",
	anyLetter:   "[A-Za-z0-9_\\-\u00c0-\u00de\u00df-\u00ff\u0150\u0170\u0151\u0171]",
	anyLetterStrict: "[A-Za-z0-9\u00c0-\u00de\u00df-\u00ff\u0150\u0170\u0151\u0171]"
};
if(!((new RegExp("[\u0150\u0170]","g")).test("\u0150"))) {
	config.textPrimitives = {
		upperLetter: "[A-Z\u00c0-\u00de]",
		lowerLetter: "[a-z0-9_\\-\u00df-\u00ff]",
		anyLetter:   "[A-Za-z0-9_\\-\u00c0-\u00de\u00df-\u00ff]",
		anyLetterStrict: "[A-Za-z0-9\u00c0-\u00de\u00df-\u00ff]"
	};
}
config.textPrimitives.sliceSeparator = "::";
config.textPrimitives.sectionSeparator = "##";
config.textPrimitives.urlPattern = "(?:file|http|https|mailto|ftp|irc|news|data):[^\\s'\"]+(?:/|\\b)";
config.textPrimitives.unWikiLink = "~";
config.textPrimitives.wikiLink = "(?:(?:" + config.textPrimitives.upperLetter + "+" +
	config.textPrimitives.lowerLetter + "+" +
	config.textPrimitives.upperLetter +
	config.textPrimitives.anyLetter + "*)|(?:" +
	config.textPrimitives.upperLetter + "{2,}" +
	config.textPrimitives.lowerLetter + "+))";

config.textPrimitives.cssLookahead = "(?:(" + config.textPrimitives.anyLetter + "+)\\(([^\\)\\|\\n]+)(?:\\):))|(?:(" + config.textPrimitives.anyLetter + "+):([^;\\|\\n]+);)";
config.textPrimitives.cssLookaheadRegExp = new RegExp(config.textPrimitives.cssLookahead,"mg");

config.textPrimitives.brackettedLink = "\\[\\[([^\\]]+)\\]\\]";
config.textPrimitives.titledBrackettedLink = "\\[\\[([^\\[\\]\\|]+)\\|([^\\[\\]\\|]+)\\]\\]";
config.textPrimitives.tiddlerForcedLinkRegExp = new RegExp("(?:" + config.textPrimitives.titledBrackettedLink + ")|(?:" +
	config.textPrimitives.brackettedLink + ")|(?:" +
	config.textPrimitives.urlPattern + ")","mg");
config.textPrimitives.tiddlerAnyLinkRegExp = new RegExp("("+ config.textPrimitives.wikiLink + ")|(?:" +
	config.textPrimitives.titledBrackettedLink + ")|(?:" +
	config.textPrimitives.brackettedLink + ")|(?:" +
	config.textPrimitives.urlPattern + ")","mg");

config.glyphs = {
	currBrowser: null,
	browsers: [],
	codes: {}
};

//--
//-- Shadow tiddlers
//--

config.shadowTiddlers = {
	StyleSheet: "",
	MarkupPreHead: "",
	MarkupPostHead: "",
	MarkupPreBody: "",
	MarkupPostBody: "",
	TabTimeline: '<<timeline>>',
	TabAll: '<<list all>>',
	TabTags: '<<allTags excludeLists>>',
	TabMoreMissing: '<<list missing>>',
	TabMoreOrphans: '<<list orphans>>',
	TabMoreShadowed: '<<list shadowed>>',
	AdvancedOptions: '<<options>>',
	PluginManager: '<<plugins>>',
	SystemSettings: '',
	ToolbarCommands: '|~ViewToolbar|closeTiddler closeOthers +editTiddler > fields syncing permalink references jump|\n|~EditToolbar|+saveTiddler -cancelTiddler deleteTiddler|',
	WindowTitle: '<<tiddler SiteTitle>> - <<tiddler SiteSubtitle>>'
};

// Browser detection... In a very few places, there's nothing else for it but to know what browser we're using.
config.userAgent = navigator.userAgent.toLowerCase();
config.browser = {
	isIE: config.userAgent.indexOf("msie") != -1 && config.userAgent.indexOf("opera") == -1,
	isGecko: navigator.product == "Gecko" && config.userAgent.indexOf("WebKit") == -1,
	ieVersion: /MSIE (\d{1,2}.\d)/i.exec(config.userAgent), // config.browser.ieVersion[1], if it exists, will be the IE version string, eg "6.0"
	isSafari: config.userAgent.indexOf("applewebkit") != -1,
	isBadSafari: !((new RegExp("[\u0150\u0170]","g")).test("\u0150")),
	firefoxDate: /gecko\/(\d{8})/i.exec(config.userAgent), // config.browser.firefoxDate[1], if it exists, will be Firefox release date as "YYYYMMDD"
	isOpera: config.userAgent.indexOf("opera") != -1,
	isChrome: config.userAgent.indexOf('chrome') > -1,
	isLinux: config.userAgent.indexOf("linux") != -1,
	isUnix: config.userAgent.indexOf("x11") != -1,
	isMac: config.userAgent.indexOf("mac") != -1,
	isWindows: config.userAgent.indexOf("win") != -1
};

merge(config.glyphs,{
	browsers: [
		function() {return config.browser.isIE;},
		function() {return true;}
		],
	codes: {
		downTriangle: ["\u25BC","\u25BE"],
		downArrow: ["\u2193","\u2193"],
		bentArrowLeft: ["\u2190","\u21A9"],
		bentArrowRight: ["\u2192","\u21AA"]
	}
});

//--
//-- Translateable strings
//--

// Strings in "double quotes" should be translated; strings in 'single quotes' should be left alone

merge(config.options,{
	txtUserName: "YourName"});

merge(config.tasks,{
	save: {text: "save", tooltip: "Save your changes to this TiddlyWiki"},
	importTask: {text: "import", tooltip: "Import tiddlers and plugins from other TiddlyWiki files and servers", content: '<<importTiddlers>>'},
	tweak: {text: "tweak", tooltip: "Tweak the appearance and behaviour of TiddlyWiki", content: '<<options>>'},
	upgrade: {text: "upgrade", tooltip: "Upgrade TiddlyWiki core code", content: '<<upgrade>>'},
	plugins: {text: "plugins", tooltip: "Manage installed plugins", content: '<<plugins>>'}
});

// Options that can be set in the options panel and/or cookies
merge(config.optionsDesc,{
	txtUserName: "Username for signing your edits",
	chkRegExpSearch: "Enable regular expressions for searches",
	chkCaseSensitiveSearch: "Case-sensitive searching",
	chkIncrementalSearch: "Incremental key-by-key searching",
	chkAnimate: "Enable animations",
	chkSaveBackups: "Keep backup file when saving changes",
	chkAutoSave: "Automatically save changes",
	chkGenerateAnRssFeed: "Generate an RSS feed when saving changes",
	chkSaveEmptyTemplate: "Generate an empty template when saving changes",
	chkOpenInNewWindow: "Open external links in a new window",
	chkToggleLinks: "Clicking on links to open tiddlers causes them to close",
	chkHttpReadOnly: "Hide editing features when viewed over HTTP",
	chkForceMinorUpdate: "Don't update modifier username and date when editing tiddlers",
	chkConfirmDelete: "Require confirmation before deleting tiddlers",
	chkInsertTabs: "Use the tab key to insert tab characters instead of moving between fields",
	txtBackupFolder: "Name of folder to use for backups",
	txtMaxEditRows: "Maximum number of rows in edit boxes",
	txtTheme: "Name of the theme to use",
	txtFileSystemCharSet: "Default character set for saving changes (Firefox/Mozilla only)"});

merge(config.messages,{
	customConfigError: "Problems were encountered loading plugins. See PluginManager for details",
	pluginError: "Error: %0",
	pluginDisabled: "Not executed because disabled via 'systemConfigDisable' tag",
	pluginForced: "Executed because forced via 'systemConfigForce' tag",
	pluginVersionError: "Not executed because this plugin needs a newer version of TiddlyWiki",
	nothingSelected: "Nothing is selected. You must select one or more items first",
	savedSnapshotError: "It appears that this TiddlyWiki has been incorrectly saved. Please see http://www.tiddlywiki.com/#Download for details",
	subtitleUnknown: "(unknown)",
	undefinedTiddlerToolTip: "The tiddler '%0' doesn't yet exist",
	shadowedTiddlerToolTip: "The tiddler '%0' doesn't yet exist, but has a pre-defined shadow value",
	tiddlerLinkTooltip: "%0 - %1, %2",
	externalLinkTooltip: "External link to %0",
	noTags: "There are no tagged tiddlers",
	notFileUrlError: "You need to save this TiddlyWiki to a file before you can save changes",
	cantSaveError: "It's not possible to save changes. Possible reasons include:\n- your browser doesn't support saving (Firefox, Internet Explorer, Safari and Opera all work if properly configured)\n- the pathname to your TiddlyWiki file contains illegal characters\n- the TiddlyWiki HTML file has been moved or renamed",
	invalidFileError: "The original file '%0' does not appear to be a valid TiddlyWiki",
	backupSaved: "Backup saved",
	backupFailed: "Failed to save backup file",
	rssSaved: "RSS feed saved",
	rssFailed: "Failed to save RSS feed file",
	emptySaved: "Empty template saved",
	emptyFailed: "Failed to save empty template file",
	mainSaved: "Main TiddlyWiki file saved",
	mainDownload: "Downloading/saving main TiddlyWiki file",
	mainDownloadManual: "RIGHT CLICK HERE to download/save main TiddlyWiki file",
	mainFailed: "Failed to save main TiddlyWiki file. Your changes have not been saved",
	macroError: "Error in macro <<%0>>",
	macroErrorDetails: "Error while executing macro <<%0>>:\n%1",
	missingMacro: "No such macro",
	overwriteWarning: "A tiddler named '%0' already exists. Choose OK to overwrite it",
	unsavedChangesWarning: "WARNING! There are unsaved changes in TiddlyWiki\n\nChoose OK to save\nChoose CANCEL to discard",
	confirmExit: "--------------------------------\n\nThere are unsaved changes in TiddlyWiki. If you continue you will lose those changes\n\n--------------------------------",
	saveInstructions: "SaveChanges",
	unsupportedTWFormat: "Unsupported TiddlyWiki format '%0'",
	tiddlerSaveError: "Error when saving tiddler '%0'",
	tiddlerLoadError: "Error when loading tiddler '%0'",
	wrongSaveFormat: "Cannot save with storage format '%0'. Using standard format for save.",
	invalidFieldName: "Invalid field name %0",
	fieldCannotBeChanged: "Field '%0' cannot be changed",
	loadingMissingTiddler: "Attempting to retrieve the tiddler '%0' from the '%1' server at:\n\n'%2' in the workspace '%3'",
	upgradeDone: "The upgrade to version %0 is now complete\n\nClick 'OK' to reload the newly upgraded TiddlyWiki",
	invalidCookie: "Invalid cookie '%0'"});

merge(config.messages.messageClose,{
	text: "close",
	tooltip: "close this message area"});

config.messages.backstage = {
	open: {text: "backstage", tooltip: "Open the backstage area to perform authoring and editing tasks"},
	close: {text: "close", tooltip: "Close the backstage area"},
	prompt: "backstage: ",
	decal: {
		edit: {text: "edit", tooltip: "Edit the tiddler '%0'"}
	}
};

config.messages.listView = {
	tiddlerTooltip: "Click for the full text of this tiddler",
	previewUnavailable: "(preview not available)"
};

config.messages.dates.months = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November","December"];
config.messages.dates.days = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
config.messages.dates.shortMonths = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
config.messages.dates.shortDays = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"];
// suffixes for dates, eg "1st","2nd","3rd"..."30th","31st"
config.messages.dates.daySuffixes = ["st","nd","rd","th","th","th","th","th","th","th",
		"th","th","th","th","th","th","th","th","th","th",
		"st","nd","rd","th","th","th","th","th","th","th",
		"st"];
config.messages.dates.am = "am";
config.messages.dates.pm = "pm";

merge(config.messages.tiddlerPopup,{
	});

merge(config.views.wikified.tag,{
	labelNoTags: "no tags",
	labelTags: "tags: ",
	openTag: "Open tag '%0'",
	tooltip: "Show tiddlers tagged with '%0'",
	openAllText: "Open all",
	openAllTooltip: "Open all of these tiddlers",
	popupNone: "No other tiddlers tagged with '%0'"});

merge(config.views.wikified,{
	defaultText: "The tiddler '%0' doesn't yet exist. Double-click to create it",
	defaultModifier: "(missing)",
	shadowModifier: "(built-in shadow tiddler)",
	dateFormat: "DD MMM YYYY",
	createdPrompt: "created"});

merge(config.views.editor,{
	tagPrompt: "Type tags separated with spaces, [[use double square brackets]] if necessary, or add existing",
	defaultText: "Type the text for '%0'"});

merge(config.views.editor.tagChooser,{
	text: "tags",
	tooltip: "Choose existing tags to add to this tiddler",
	popupNone: "There are no tags defined",
	tagTooltip: "Add the tag '%0'"});

merge(config.messages,{
	sizeTemplates:
		[
		{unit: 1024*1024*1024, template: "%0\u00a0GB"},
		{unit: 1024*1024, template: "%0\u00a0MB"},
		{unit: 1024, template: "%0\u00a0KB"},
		{unit: 1, template: "%0\u00a0B"}
		]});

merge(config.macros.search,{
	label: "search",
	prompt: "Search this TiddlyWiki",
	placeholder: "",
	accessKey: "F",
	successMsg: "%0 tiddlers found matching %1",
	failureMsg: "No tiddlers found matching %0"});

merge(config.macros.tagging,{
	label: "tagging: ",
	labelNotTag: "not tagging",
	tooltip: "List of tiddlers tagged with '%0'"});

merge(config.macros.timeline,{
	dateFormat: "DD MMM YYYY"});

merge(config.macros.allTags,{
	tooltip: "Show tiddlers tagged with '%0'",
	noTags: "There are no tagged tiddlers"});

config.macros.list.all.prompt = "All tiddlers in alphabetical order";
config.macros.list.missing.prompt = "Tiddlers that have links to them but are not defined";
config.macros.list.orphans.prompt = "Tiddlers that are not linked to from any other tiddlers";
config.macros.list.shadowed.prompt = "Tiddlers shadowed with default contents";
config.macros.list.touched.prompt = "Tiddlers that have been modified locally";

merge(config.macros.closeAll,{
	label: "close all",
	prompt: "Close all displayed tiddlers (except any that are being edited)"});

merge(config.macros.permaview,{
	label: "permaview",
	prompt: "Link to an URL that retrieves all the currently displayed tiddlers"});

merge(config.macros.saveChanges,{
	label: "save changes",
	prompt: "Save all tiddlers to create a new TiddlyWiki",
	accessKey: "S"});

merge(config.macros.newTiddler,{
	label: "new tiddler",
	prompt: "Create a new tiddler",
	title: "New Tiddler",
	accessKey: "N"});

merge(config.macros.newJournal,{
	label: "new journal",
	prompt: "Create a new tiddler from the current date and time",
	accessKey: "J"});

merge(config.macros.options,{
	wizardTitle: "Tweak advanced options",
	step1Title: "These options are saved in cookies in your browser",
	step1Html: "<input type='hidden' name='markList'></input><br><input type='checkbox' checked='false' name='chkUnknown'>Show unknown options</input>",
	unknownDescription: "//(unknown)//",
	listViewTemplate: {
		columns: [
			{name: 'Option', field: 'option', title: "Option", type: 'String'},
			{name: 'Description', field: 'description', title: "Description", type: 'WikiText'},
			{name: 'Name', field: 'name', title: "Name", type: 'String'}
			],
		rowClasses: [
			{className: 'lowlight', field: 'lowlight'}
			]}
	});

merge(config.macros.plugins,{
	wizardTitle: "Manage plugins",
	step1Title: "Currently loaded plugins",
	step1Html: "<input type='hidden' name='markList'></input>", // DO NOT TRANSLATE
	skippedText: "(This plugin has not been executed because it was added since startup)",
	noPluginText: "There are no plugins installed",
	confirmDeleteText: "Are you sure you want to delete these plugins:\n\n%0",
	removeLabel: "remove systemConfig tag",
	removePrompt: "Remove systemConfig tag",
	deleteLabel: "delete",
	deletePrompt: "Delete these tiddlers forever",
	listViewTemplate: {
		columns: [
			{name: 'Selected', field: 'Selected', rowName: 'title', type: 'Selector'},
			{name: 'Tiddler', field: 'tiddler', title: "Tiddler", type: 'Tiddler'},
			{name: 'Description', field: 'Description', title: "Description", type: 'String'},
			{name: 'Version', field: 'Version', title: "Version", type: 'String'},
			{name: 'Size', field: 'size', tiddlerLink: 'size', title: "Size", type: 'Size'},
			{name: 'Forced', field: 'forced', title: "Forced", tag: 'systemConfigForce', type: 'TagCheckbox'},
			{name: 'Disabled', field: 'disabled', title: "Disabled", tag: 'systemConfigDisable', type: 'TagCheckbox'},
			{name: 'Executed', field: 'executed', title: "Loaded", type: 'Boolean', trueText: "Yes", falseText: "No"},
			{name: 'Startup Time', field: 'startupTime', title: "Startup Time", type: 'String'},
			{name: 'Error', field: 'error', title: "Status", type: 'Boolean', trueText: "Error", falseText: "OK"},
			{name: 'Log', field: 'log', title: "Log", type: 'StringList'}
			],
		rowClasses: [
			{className: 'error', field: 'error'},
			{className: 'warning', field: 'warning'}
			]},
	listViewTemplateReadOnly: {
		columns: [
			{name: 'Tiddler', field: 'tiddler', title: "Tiddler", type: 'Tiddler'},
			{name: 'Description', field: 'Description', title: "Description", type: 'String'},
			{name: 'Version', field: 'Version', title: "Version", type: 'String'},
			{name: 'Size', field: 'size', tiddlerLink: 'size', title: "Size", type: 'Size'},
			{name: 'Executed', field: 'executed', title: "Loaded", type: 'Boolean', trueText: "Yes", falseText: "No"},
			{name: 'Startup Time', field: 'startupTime', title: "Startup Time", type: 'String'},
			{name: 'Error', field: 'error', title: "Status", type: 'Boolean', trueText: "Error", falseText: "OK"},
			{name: 'Log', field: 'log', title: "Log", type: 'StringList'}
			],
		rowClasses: [
			{className: 'error', field: 'error'},
			{className: 'warning', field: 'warning'}
			]}
	});

merge(config.macros.toolbar,{
	moreLabel: "more",
	morePrompt: "Show additional commands",
	lessLabel: "less",
	lessPrompt: "Hide additional commands",
	separator: "|"
	});

merge(config.macros.refreshDisplay,{
	label: "refresh",
	prompt: "Redraw the entire TiddlyWiki display"
	});

merge(config.macros.importTiddlers,{
	readOnlyWarning: "You cannot import into a read-only TiddlyWiki file. Try opening it from a file:// URL",
	wizardTitle: "Import tiddlers from another file or server",
	step1Title: "Step 1: Locate the server or TiddlyWiki file",
	step1Html: "Specify the type of the server: <select name='selTypes'><option value=''>Choose...</option></select><br>Enter the URL or pathname here: <input type='text' size=50 name='txtPath'><br>...or browse for a file: <input type='file' size=50 name='txtBrowse'><br><hr>...or select a pre-defined feed: <select name='selFeeds'><option value=''>Choose...</option></select>",
	openLabel: "open",
	openPrompt: "Open the connection to this file or server",
	statusOpenHost: "Opening the host",
	statusGetWorkspaceList: "Getting the list of available workspaces",
	step2Title: "Step 2: Choose the workspace",
	step2Html: "Enter a workspace name: <input type='text' size=50 name='txtWorkspace'><br>...or select a workspace: <select name='selWorkspace'><option value=''>Choose...</option></select>",
	cancelLabel: "cancel",
	cancelPrompt: "Cancel this import",
	statusOpenWorkspace: "Opening the workspace",
	statusGetTiddlerList: "Getting the list of available tiddlers",
	errorGettingTiddlerList: "Error getting list of tiddlers, click Cancel to try again",
	errorGettingTiddlerListHttp404: "Error retrieving tiddlers from url, please ensure the url exists. Click Cancel to try again.",
	errorGettingTiddlerListHttp: "Error retrieving tiddlers from url, please ensure this url exists and is <a href='http://enable-cors.org/'>CORS</a> enabled",
	errorGettingTiddlerListFile: "Error retrieving tiddlers from local file, please make sure the file is in the same directory as your TiddlyWiki. Click Cancel to try again.",
	step3Title: "Step 3: Choose the tiddlers to import",
	step3Html: "<input type='hidden' name='markList'></input><br><input type='checkbox' checked='true' name='chkSync'>Keep these tiddlers linked to this server so that you can synchronise subsequent changes</input><br><input type='checkbox' name='chkSave'>Save the details of this server in a 'systemServer' tiddler called:</input> <input type='text' size=25 name='txtSaveTiddler'>",
	importLabel: "import",
	importPrompt: "Import these tiddlers",
	confirmOverwriteText: "Are you sure you want to overwrite these tiddlers:\n\n%0",
	step4Title: "Step 4: Importing %0 tiddler(s)",
	step4Html: "<input type='hidden' name='markReport'></input>", // DO NOT TRANSLATE
	doneLabel: "done",
	donePrompt: "Close this wizard",
	statusDoingImport: "Importing tiddlers",
	statusDoneImport: "All tiddlers imported",
	systemServerNamePattern: "%2 on %1",
	systemServerNamePatternNoWorkspace: "%1",
	confirmOverwriteSaveTiddler: "The tiddler '%0' already exists. Click 'OK' to overwrite it with the details of this server, or 'Cancel' to leave it unchanged",
	serverSaveTemplate: "|''Type:''|%0|\n|''URL:''|%1|\n|''Workspace:''|%2|\n\nThis tiddler was automatically created to record the details of this server",
	serverSaveModifier: "(System)",
	listViewTemplate: {
		columns: [
			{name: 'Selected', field: 'Selected', rowName: 'title', type: 'Selector'},
			{name: 'Tiddler', field: 'tiddler', title: "Tiddler", type: 'Tiddler'},
			{name: 'Size', field: 'size', tiddlerLink: 'size', title: "Size", type: 'Size'},
			{name: 'Tags', field: 'tags', title: "Tags", type: 'Tags'}
			],
		rowClasses: [
			]}
	});

merge(config.macros.upgrade,{
	wizardTitle: "Upgrade TiddlyWiki core code",
	step1Title: "Update or repair this TiddlyWiki to the latest release",
	step1Html: "You are about to upgrade to the latest release of the TiddlyWiki core code (from <a href='%0' class='externalLink' target='_blank'>%1</a>). Your content will be preserved across the upgrade.<br><br>Note that core upgrades have been known to interfere with older plugins. If you run into problems with the upgraded file, see <a href='http://www.tiddlywiki.org/wiki/CoreUpgrades' class='externalLink' target='_blank'>http://www.tiddlywiki.org/wiki/CoreUpgrades</a>",
	errorCantUpgrade: "Unable to upgrade this TiddlyWiki. You can only perform upgrades on TiddlyWiki files stored locally",
	errorNotSaved: "You must save changes before you can perform an upgrade",
	step2Title: "Confirm the upgrade details",
	step2Html_downgrade: "You are about to downgrade to TiddlyWiki version %0 from %1.<br><br>Downgrading to an earlier version of the core code is not recommended",
	step2Html_restore: "This TiddlyWiki appears to be already using the latest version of the core code (%0).<br><br>You can continue to upgrade anyway to ensure that the core code hasn't been corrupted or damaged",
	step2Html_upgrade: "You are about to upgrade to TiddlyWiki version %0 from %1",
	upgradeLabel: "upgrade",
	upgradePrompt: "Prepare for the upgrade process",
	statusPreparingBackup: "Preparing backup",
	statusSavingBackup: "Saving backup file",
	errorSavingBackup: "There was a problem saving the backup file",
	statusLoadingCore: "Loading core code",
	errorLoadingCore: "Error loading the core code",
	errorCoreFormat: "Error with the new core code",
	statusSavingCore: "Saving the new core code",
	statusReloadingCore: "Reloading the new core code",
	startLabel: "start",
	startPrompt: "Start the upgrade process",
	cancelLabel: "cancel",
	cancelPrompt: "Cancel the upgrade process",
	step3Title: "Upgrade cancelled",
	step3Html: "You have cancelled the upgrade process"
	});

merge(config.macros.annotations,{
	});

merge(config.commands.closeTiddler,{
	text: "close",
	tooltip: "Close this tiddler"});

merge(config.commands.closeOthers,{
	text: "close others",
	tooltip: "Close all other tiddlers"});

merge(config.commands.editTiddler,{
	text: "edit",
	tooltip: "Edit this tiddler",
	readOnlyText: "view",
	readOnlyTooltip: "View the source of this tiddler"});

merge(config.commands.saveTiddler,{
	text: "done",
	tooltip: "Save changes to this tiddler"});

merge(config.commands.cancelTiddler,{
	text: "cancel",
	tooltip: "Undo changes to this tiddler",
	warning: "Are you sure you want to abandon your changes to '%0'?",
	readOnlyText: "done",
	readOnlyTooltip: "View this tiddler normally"});

merge(config.commands.deleteTiddler,{
	text: "delete",
	tooltip: "Delete this tiddler",
	warning: "Are you sure you want to delete '%0'?"});

merge(config.commands.permalink,{
	text: "permalink",
	tooltip: "Permalink for this tiddler"});

merge(config.commands.references,{
	text: "references",
	tooltip: "Show tiddlers that link to this one",
	popupNone: "No references"});

merge(config.commands.jump,{
	text: "jump",
	tooltip: "Jump to another open tiddler"});

merge(config.commands.fields,{
	text: "fields",
	tooltip: "Show the extended fields of this tiddler",
	emptyText: "There are no extended fields for this tiddler",
	listViewTemplate: {
		columns: [
			{name: 'Field', field: 'field', title: "Field", type: 'String'},
			{name: 'Value', field: 'value', title: "Value", type: 'String'}
			],
		rowClasses: [
			],
		buttons: [
			]}});

merge(config.shadowTiddlers,{
	DefaultTiddlers: "[[GettingStarted]]",
	MainMenu: "[[GettingStarted]]",
	SiteTitle: "My TiddlyWiki",
	SiteSubtitle: "a reusable non-linear personal web notebook",
	SiteUrl: "",
	SideBarOptions: '<<search>><<closeAll>><<permaview>><<newTiddler>><<newJournal "DD MMM YYYY" "journal">><<saveChanges>><<slider chkSliderOptionsPanel OptionsPanel "options \u00bb" "Change TiddlyWiki advanced options">>',
	SideBarTabs: '<<tabs txtMainTab "Timeline" "Timeline" TabTimeline "All" "All tiddlers" TabAll "Tags" "All tags" TabTags "More" "More lists" TabMore>>',
	TabMore: '<<tabs txtMoreTab "Missing" "Missing tiddlers" TabMoreMissing "Orphans" "Orphaned tiddlers" TabMoreOrphans "Shadowed" "Shadowed tiddlers" TabMoreShadowed>>'
	});

merge(config.annotations,{
	AdvancedOptions: "This shadow tiddler provides access to several advanced options",
	ColorPalette: "These values in this shadow tiddler determine the colour scheme of the ~TiddlyWiki user interface",
	DefaultTiddlers: "The tiddlers listed in this shadow tiddler will be automatically displayed when ~TiddlyWiki starts up",
	EditTemplate: "The HTML template in this shadow tiddler determines how tiddlers look while they are being edited",
	GettingStarted: "This shadow tiddler provides basic usage instructions",
	ImportTiddlers: "This shadow tiddler provides access to importing tiddlers",
	MainMenu: "This shadow tiddler is used as the contents of the main menu in the left-hand column of the screen",
	MarkupPreHead: "This tiddler is inserted at the top of the <head> section of the TiddlyWiki HTML file",
	MarkupPostHead: "This tiddler is inserted at the bottom of the <head> section of the TiddlyWiki HTML file",
	MarkupPreBody: "This tiddler is inserted at the top of the <body> section of the TiddlyWiki HTML file",
	MarkupPostBody: "This tiddler is inserted at the end of the <body> section of the TiddlyWiki HTML file immediately after the script block",
	OptionsPanel: "This shadow tiddler is used as the contents of the options panel slider in the right-hand sidebar",
	PageTemplate: "The HTML template in this shadow tiddler determines the overall ~TiddlyWiki layout",
	PluginManager: "This shadow tiddler provides access to the plugin manager",
	SideBarOptions: "This shadow tiddler is used as the contents of the option panel in the right-hand sidebar",
	SideBarTabs: "This shadow tiddler is used as the contents of the tabs panel in the right-hand sidebar",
	SiteSubtitle: "This shadow tiddler is used as the second part of the page title",
	SiteTitle: "This shadow tiddler is used as the first part of the page title",
	SiteUrl: "This shadow tiddler should be set to the full target URL for publication",
	StyleSheetColors: "This shadow tiddler contains CSS definitions related to the color of page elements. ''DO NOT EDIT THIS TIDDLER'', instead make your changes in the StyleSheet shadow tiddler",
	StyleSheet: "This tiddler can contain custom CSS definitions",
	StyleSheetLayout: "This shadow tiddler contains CSS definitions related to the layout of page elements. ''DO NOT EDIT THIS TIDDLER'', instead make your changes in the StyleSheet shadow tiddler",
	StyleSheetLocale: "This shadow tiddler contains CSS definitions related to the translation locale",
	StyleSheetPrint: "This shadow tiddler contains CSS definitions for printing",
	SystemSettings: "This tiddler is used to store configuration options for this TiddlyWiki document",
	TabAll: "This shadow tiddler contains the contents of the 'All' tab in the right-hand sidebar",
	TabMore: "This shadow tiddler contains the contents of the 'More' tab in the right-hand sidebar",
	TabMoreMissing: "This shadow tiddler contains the contents of the 'Missing' tab in the right-hand sidebar",
	TabMoreOrphans: "This shadow tiddler contains the contents of the 'Orphans' tab in the right-hand sidebar",
	TabMoreShadowed: "This shadow tiddler contains the contents of the 'Shadowed' tab in the right-hand sidebar",
	TabTags: "This shadow tiddler contains the contents of the 'Tags' tab in the right-hand sidebar",
	TabTimeline: "This shadow tiddler contains the contents of the 'Timeline' tab in the right-hand sidebar",
	ToolbarCommands: "This shadow tiddler determines which commands are shown in tiddler toolbars",
	ViewTemplate: "The HTML template in this shadow tiddler determines how tiddlers look"
	});
//--
//-- Main
//--

var params = null; // Command line parameters
var store = null; // TiddlyWiki storage
var story = null; // Main story
var formatter = null; // Default formatters for the wikifier
var anim = typeof Animator == "function" ? new Animator() : null; // Animation engine
var readOnly = false; // Whether we're in readonly mode
var highlightHack = null; // Embarrassing hack department...
var hadConfirmExit = false; // Don't warn more than once
var safeMode = false; // Disable all plugins and cookies
var showBackstage; // Whether to include the backstage area
var installedPlugins = []; // Information filled in when plugins are executed
var startingUp = false; // Whether we're in the process of starting up
var pluginInfo,tiddler; // Used to pass information to plugins in loadPlugins()

// Whether this file can be saved back to the same location [Preemption]
window.allowSave = window.allowSave || function(l)
{
	return true;
}

// Whether this file is being viewed locally
window.isLocal = function()
{
	return (document.location.protocol == "file:");
}

// Whether to use the JavaSaver applet
var useJavaSaver = window.isLocal() && (config.browser.isSafari || config.browser.isOpera);

// Allow preemption code a chance to tweak config and useJavaSaver [Preemption]
if (window.tweakConfig) window.tweakConfig();

if(!window || !window.console) {
	console = {tiddlywiki:true,log:function(message) {displayMessage(message);}};
}

// Starting up
function main()
{
	window.originalHTML=recreateOriginal();

	var t10,t9,t8,t7,t6,t5,t4,t3,t2,t1,t0 = new Date();
	startingUp = true;
	var doc = jQuery(document);
	jQuery.noConflict();
	window.onbeforeunload = function(e) {if(window.confirmExit) return confirmExit();};
	params = getParameters();
	if(params)
		params = params.parseParams("open",null,false);
	store = new TiddlyWiki({config:config});
	invokeParamifier(params,"oninit");
	story = new Story("tiddlerDisplay","tiddler");
	addEvent(document,"click",Popup.onDocumentClick);
	saveTest();
	var s;
	for(s=0; s<config.notifyTiddlers.length; s++)
		store.addNotification(config.notifyTiddlers[s].name,config.notifyTiddlers[s].notify);
	t1 = new Date();
	loadShadowTiddlers();
	doc.trigger("loadShadows");
	t2 = new Date();
	store.loadFromDiv("storeArea","store",true);
	doc.trigger("loadTiddlers");
	loadOptions();
	t3 = new Date();
	invokeParamifier(params,"onload");
	t4 = new Date();
	readOnly = window.isLocal() ? false : config.options.chkHttpReadOnly;
	var pluginProblem = loadPlugins("systemConfig");
	doc.trigger("loadPlugins");
	t5 = new Date();
	formatter = new Formatter(config.formatters);
	invokeParamifier(params,"onconfig");
	story.switchTheme(config.options.txtTheme);
	showBackstage = showBackstage !== undefined ? showBackstage : !readOnly;
	t6 = new Date();
	var m;
	for(m in config.macros) {
		if(config.macros[m].init)
			config.macros[m].init();
	}
	t7 = new Date();
	store.notifyAll();
	t8 = new Date();
	restart();
	refreshDisplay();
	t9 = new Date();
	if(pluginProblem) {
		story.displayTiddler(null,"PluginManager");
		displayMessage(config.messages.customConfigError);
	}
	if(showBackstage)
		backstage.init();
	t10 = new Date();
	if(config.options.chkDisplayInstrumentation) {
		displayMessage("LoadShadows " + (t2-t1) + " ms");
		displayMessage("LoadFromDiv " + (t3-t2) + " ms");
		displayMessage("LoadPlugins " + (t5-t4) + " ms");
		displayMessage("Macro init " + (t7-t6) + " ms");
		displayMessage("Notify " + (t8-t7) + " ms");
		displayMessage("Restart " + (t9-t8) + " ms");
		displayMessage("Total: " + (t10-t0) + " ms");
	}
	startingUp = false;
	doc.trigger("startup");
}

// Called on unload. All functions called conditionally since they themselves may have been unloaded.
function unload()
{
	if(window.checkUnsavedChanges)
		checkUnsavedChanges();
	if(window.scrubNodes)
		scrubNodes(document.body);
}

// Restarting
function restart()
{
	invokeParamifier(params,"onstart");
	if(story.isEmpty()) {
		story.displayDefaultTiddlers();
	}
	window.scrollTo(0,0);
}

function saveTest()
{
	var s = document.getElementById("saveTest");
	if(s.hasChildNodes())
		alert(config.messages.savedSnapshotError);
	s.appendChild(document.createTextNode("savetest"));
}

function loadShadowTiddlers()
{
	var shadows = new TiddlyWiki();
	shadows.loadFromDiv("shadowArea","shadows",true);
	shadows.forEachTiddler(function(title,tiddler){config.shadowTiddlers[title] = tiddler.text;});
}

function loadPlugins(tag)
{
	if(safeMode)
		return false;
	var tiddlers = store.getTaggedTiddlers(tag);
	tiddlers.sort(function(a,b) {return a.title < b.title ? -1 : (a.title == b.title ? 0 : 1);});
	var toLoad = [];
	var nLoaded = 0;
	var map = {};
	var nPlugins = tiddlers.length;
	installedPlugins = [];
	var i;
	for(i=0; i<nPlugins; i++) {
		var p = getPluginInfo(tiddlers[i]);
		installedPlugins[i] = p;
		var n = p.Name || p.title;
		if(n)
			map[n] = p;
		n = p.Source;
		if(n)
			map[n] = p;
	}
	var visit = function(p) {
		if(!p || p.done)
			return;
		p.done = 1;
		var reqs = p.Requires;
		if(reqs) {
			reqs = reqs.readBracketedList();
			var i;
			for(i=0; i<reqs.length; i++)
				visit(map[reqs[i]]);
		}
		toLoad.push(p);
	};
	for(i=0; i<nPlugins; i++)
		visit(installedPlugins[i]);
	for(i=0; i<toLoad.length; i++) {
		p = toLoad[i];
		pluginInfo = p;
		tiddler = p.tiddler;
		if(isPluginExecutable(p)) {
			if(isPluginEnabled(p)) {
				p.executed = true;
				var startTime = new Date();
				try {
					if(tiddler.text)
						window.eval(tiddler.text);
					nLoaded++;
				} catch(ex) {
					p.log.push(config.messages.pluginError.format([exceptionText(ex)]));
					p.error = true;
					if(!console.tiddlywiki) {
						console.log("error evaluating " + tiddler.title, ex);
					}
				}
				pluginInfo.startupTime = String((new Date()) - startTime) + "ms";
			} else {
				nPlugins--;
			}
		} else {
			p.warning = true;
		}
	}
	return nLoaded != nPlugins;
}

function getPluginInfo(tiddler)
{
	var p = store.getTiddlerSlices(tiddler.title,["Name","Description","Version","Requires","CoreVersion","Date","Source","Author","License","Browsers"]);
	p.tiddler = tiddler;
	p.title = tiddler.title;
	p.log = [];
	return p;
}

// Check that a particular plugin is valid for execution
function isPluginExecutable(plugin)
{
	if(plugin.tiddler.isTagged("systemConfigForce")) {
		plugin.log.push(config.messages.pluginForced);
		return true;
	}
	if(plugin["CoreVersion"]) {
		var coreVersion = plugin["CoreVersion"].split(".");
		var w = parseInt(coreVersion[0],10) - version.major;
		if(w == 0 && coreVersion[1])
			w = parseInt(coreVersion[1],10) - version.minor;
		if(w == 0 && coreVersion[2])
			w = parseInt(coreVersion[2],10) - version.revision;
		if(w > 0) {
			plugin.log.push(config.messages.pluginVersionError);
			return false;
		}
	}
	return true;
}

function isPluginEnabled(plugin)
{
	if(plugin.tiddler.isTagged("systemConfigDisable")) {
		plugin.log.push(config.messages.pluginDisabled);
		return false;
	}
	return true;
}

//--
//-- Paramifiers
//--

function getParameters()
{
	var p = null;
	if(window.location.hash) {
		p = decodeURIComponent(window.location.hash.substr(1));
		if(config.browser.firefoxDate != null && config.browser.firefoxDate[1] < "20051111")
			p = convertUTF8ToUnicode(p);
	}
	return p;
}

function invokeParamifier(params,handler)
{
	if(!params || params.length == undefined || params.length <= 1)
		return;
	var i;
	for(i=1; i<params.length; i++) {
		var p = config.paramifiers[params[i].name];
		if(p && p[handler] instanceof Function)
			p[handler](params[i].value);
		else {
			var h = config.optionHandlers[params[i].name.substr(0,3)];
			if(h && h.set instanceof Function)
				h.set(params[i].name,params[i].value);
		}
	}
}

config.paramifiers = {};

config.paramifiers.start = {
	oninit: function(v) {
		safeMode = v.toLowerCase() == "safe";
	}
};

config.paramifiers.open = {
	onstart: function(v) {
		if(!readOnly || store.tiddlerExists(v) || store.isShadowTiddler(v))
			story.displayTiddler("bottom",v,null,false,null);
	}
};

config.paramifiers.story = {
	onstart: function(v) {
		var list = store.getTiddlerText(v,"").parseParams("open",null,false);
		invokeParamifier(list,"onstart");
	}
};

config.paramifiers.search = {
	onstart: function(v) {
		story.search(v,false,false);
	}
};

config.paramifiers.searchRegExp = {
	onstart: function(v) {
		story.prototype.search(v,false,true);
	}
};

config.paramifiers.tag = {
	onstart: function(v) {
		story.displayTiddlers(null,store.filterTiddlers("[tag["+v+"]]"),null,false,null);
	}
};

config.paramifiers.newTiddler = {
	onstart: function(v) {
		var args = v.parseParams("anon", null, null)[0];
		var title = args.title ? args.title[0] : v;
		var customFields = args.fields ? args.fields[0] : null;
		if(!readOnly) {
			story.displayTiddler(null,title,DEFAULT_EDIT_TEMPLATE,false,null,customFields);
			story.focusTiddler(title,"text");
			var i,tags = args.tag || [];
			for(i=0;i<tags.length;i++) {
				story.setTiddlerTag(title,tags[i],+1);
			}
		}
	}
};

config.paramifiers.newJournal = {
	onstart: function(v) {
		if(!readOnly) {
			var now = new Date();
			var title = now.formatString(v.trim());
			story.displayTiddler(null,title,DEFAULT_EDIT_TEMPLATE);
			story.focusTiddler(title,"text");
		}
	}
};

config.paramifiers.readOnly = {
	onconfig: function(v) {
		var p = v.toLowerCase();
		readOnly = p == "yes" ? true : (p == "no" ? false : readOnly);
	}
};

config.paramifiers.theme = {
	onconfig: function(v) {
		story.switchTheme(v);
	}
};

config.paramifiers.upgrade = {
	onstart: function(v) {
		upgradeFrom(v);
	}
};

config.paramifiers.recent= {
	onstart: function(v) {
		var titles=[];
		var i,tiddlers=store.getTiddlers("modified","excludeLists").reverse();
		for(i=0; i<v && i<tiddlers.length; i++)
			titles.push(tiddlers[i].title);
		story.displayTiddlers(null,titles);
	}
};

config.paramifiers.filter = {
	onstart: function(v) {
		story.displayTiddlers(null,store.filterTiddlers(v),null,false);
	}
};

//--
//-- Formatter helpers
//--

function Formatter(formatters)
{
	var n;
	this.formatters = [];
	var pattern = [];
	for(n=0; n<formatters.length; n++) {
		pattern.push("(" + formatters[n].match + ")");
		this.formatters.push(formatters[n]);
	}
	this.formatterRegExp = new RegExp(pattern.join("|"),"mg");
}

config.formatterHelpers = {

	createElementAndWikify: function(w)
	{
		w.subWikifyTerm(createTiddlyElement(w.output,this.element),this.termRegExp);
	},

	inlineCssHelper: function(w)
	{
		var styles = [];
		config.textPrimitives.cssLookaheadRegExp.lastIndex = w.nextMatch;
		var lookaheadMatch = config.textPrimitives.cssLookaheadRegExp.exec(w.source);
		while(lookaheadMatch && lookaheadMatch.index == w.nextMatch) {
			var s,v;
			if(lookaheadMatch[1]) {
				s = lookaheadMatch[1].unDash();
				v = lookaheadMatch[2];
			} else {
				s = lookaheadMatch[3].unDash();
				v = lookaheadMatch[4];
			}
			if(s=="bgcolor")
				s = "backgroundColor";
			if(s=="float")
				s = "cssFloat";
			styles.push({style: s, value: v});
			w.nextMatch = lookaheadMatch.index + lookaheadMatch[0].length;
			config.textPrimitives.cssLookaheadRegExp.lastIndex = w.nextMatch;
			lookaheadMatch = config.textPrimitives.cssLookaheadRegExp.exec(w.source);
		}
		return styles;
	},

	applyCssHelper: function(e,styles)
	{
		var t;
		for(t=0; t< styles.length; t++) {
			try {
				e.style[styles[t].style] = styles[t].value;
			} catch (ex) {
			}
		}
	},

	enclosedTextHelper: function(w)
	{
		this.lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		if(lookaheadMatch && lookaheadMatch.index == w.matchStart) {
			var text = lookaheadMatch[1];
			if(config.browser.isIE && (config.browser.ieVersion[1] < 10))
				text = text.replace(/\n/g,"\r");
			createTiddlyElement(w.output,this.element,null,null,text);
			w.nextMatch = lookaheadMatch.index + lookaheadMatch[0].length;
		}
	},

	isExternalLink: function(link)
	{
		if(store.tiddlerExists(link) || store.isShadowTiddler(link)) {
			return false;
		}
		var urlRegExp = new RegExp(config.textPrimitives.urlPattern,"mg");
		if(urlRegExp.exec(link)) {
			return true;
		}
		if(link.indexOf(".")!=-1 || link.indexOf("\\")!=-1 || link.indexOf("/")!=-1 || link.indexOf("#")!=-1) {
			return true;
		}
		return false;
	}

};

//--
//-- Standard formatters
//--

config.formatters = [
{
	name: "table",
	match: "^\\|(?:[^\\n]*)\\|(?:[fhck]?)$",
	lookaheadRegExp: /^\|([^\n]*)\|([fhck]?)$/mg,
	rowTermRegExp: /(\|(?:[fhck]?)$\n?)/mg,
	cellRegExp: /(?:\|([^\n\|]*)\|)|(\|[fhck]?$\n?)/mg,
	cellTermRegExp: /((?:\x20*)\|)/mg,
	rowTypes: {"c":"caption", "h":"thead", "":"tbody", "f":"tfoot"},
	handler: function(w)
	{
		var table = createTiddlyElement(w.output,"table",null,"twtable");
		var prevColumns = [];
		var currRowType = null;
		var rowContainer;
		var rowCount = 0;
		var onmouseover = function() {jQuery(this).addClass("hoverRow");};
		var onmouseout = function() {jQuery(this).removeClass("hoverRow");};
		w.nextMatch = w.matchStart;
		this.lookaheadRegExp.lastIndex = w.nextMatch;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		while(lookaheadMatch && lookaheadMatch.index == w.nextMatch) {
			var nextRowType = lookaheadMatch[2];
			if(nextRowType == "k") {
				table.className = lookaheadMatch[1];
				w.nextMatch += lookaheadMatch[0].length+1;
			} else {
				if(nextRowType != currRowType) {
					rowContainer = createTiddlyElement(table,this.rowTypes[nextRowType]);
					currRowType = nextRowType;
				}
				if(currRowType == "c") {
					// Caption
					w.nextMatch++;
					if(rowContainer != table.firstChild)
						table.insertBefore(rowContainer,table.firstChild);
					rowContainer.setAttribute("align",rowCount == 0?"top":"bottom");
					w.subWikifyTerm(rowContainer,this.rowTermRegExp);
				} else {
					var theRow = createTiddlyElement(rowContainer,"tr",null,rowCount%2?"oddRow":"evenRow");
					theRow.onmouseover = onmouseover;
					theRow.onmouseout = onmouseout;
					this.rowHandler(w,theRow,prevColumns);
					rowCount++;
				}
			}
			this.lookaheadRegExp.lastIndex = w.nextMatch;
			lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		}
	},
	rowHandler: function(w,e,prevColumns)
	{
		var col = 0;
		var colSpanCount = 1;
		var prevCell = null;
		this.cellRegExp.lastIndex = w.nextMatch;
		var cellMatch = this.cellRegExp.exec(w.source);
		while(cellMatch && cellMatch.index == w.nextMatch) {
			if(cellMatch[1] == "~") {
				// Rowspan
				var last = prevColumns[col];
				if(last) {
					last.rowSpanCount++;
					last.element.setAttribute("rowspan",last.rowSpanCount);
					last.element.setAttribute("rowSpan",last.rowSpanCount); // Needed for IE
					last.element.valign = "center";
					if(colSpanCount > 1) {
						last.element.setAttribute("colspan",colSpanCount);
						last.element.setAttribute("colSpan",colSpanCount); // Needed for IE
						colSpanCount = 1;
					}
				}
				w.nextMatch = this.cellRegExp.lastIndex-1;
			} else if(cellMatch[1] == ">") {
				// Colspan
				colSpanCount++;
				w.nextMatch = this.cellRegExp.lastIndex-1;
			} else if(cellMatch[2]) {
				// End of row
				if(prevCell && colSpanCount > 1) {
					prevCell.setAttribute("colspan",colSpanCount);
					prevCell.setAttribute("colSpan",colSpanCount); // Needed for IE
				}
				w.nextMatch = this.cellRegExp.lastIndex;
				break;
			} else {
				// Cell
				w.nextMatch++;
				var styles = config.formatterHelpers.inlineCssHelper(w);
				var spaceLeft = false;
				var chr = w.source.substr(w.nextMatch,1);
				while(chr == " ") {
					spaceLeft = true;
					w.nextMatch++;
					chr = w.source.substr(w.nextMatch,1);
				}
				var cell;
				if(chr == "!") {
					cell = createTiddlyElement(e,"th");
					w.nextMatch++;
				} else {
					cell = createTiddlyElement(e,"td");
				}
				prevCell = cell;
				prevColumns[col] = {rowSpanCount:1,element:cell};
				if(colSpanCount > 1) {
					cell.setAttribute("colspan",colSpanCount);
					cell.setAttribute("colSpan",colSpanCount); // Needed for IE
					colSpanCount = 1;
				}
				config.formatterHelpers.applyCssHelper(cell,styles);
				w.subWikifyTerm(cell,this.cellTermRegExp);
				if(w.matchText.substr(w.matchText.length-2,1) == " ") // spaceRight
					cell.align = spaceLeft ? "center" : "left";
				else if(spaceLeft)
					cell.align = "right";
				w.nextMatch--;
			}
			col++;
			this.cellRegExp.lastIndex = w.nextMatch;
			cellMatch = this.cellRegExp.exec(w.source);
		}
	}
},

{
	name: "heading",
	match: "^!{1,6}",
	termRegExp: /(\n)/mg,
	handler: function(w)
	{
		w.subWikifyTerm(createTiddlyElement(w.output,"h" + w.matchLength),this.termRegExp);
	}
},

{
	name: "list",
	match: "^(?:[\\*#;:]+)",
	lookaheadRegExp: /^(?:(?:(\*)|(#)|(;)|(:))+)/mg,
	termRegExp: /(\n)/mg,
	handler: function(w)
	{
		var stack = [w.output];
		var currLevel = 0, currType = null;
		var listLevel, listType, itemType, baseType;
		w.nextMatch = w.matchStart;
		this.lookaheadRegExp.lastIndex = w.nextMatch;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		while(lookaheadMatch && lookaheadMatch.index == w.nextMatch) {
			if(lookaheadMatch[1]) {
				listType = "ul";
				itemType = "li";
			} else if(lookaheadMatch[2]) {
				listType = "ol";
				itemType = "li";
			} else if(lookaheadMatch[3]) {
				listType = "dl";
				itemType = "dt";
			} else if(lookaheadMatch[4]) {
				listType = "dl";
				itemType = "dd";
			}
			if(!baseType)
				baseType = listType;
			listLevel = lookaheadMatch[0].length;
			w.nextMatch += lookaheadMatch[0].length;
			var t;
			if(listLevel > currLevel) {
				for(t=currLevel; t<listLevel; t++) {
					var target = (currLevel == 0) ? stack[stack.length-1] : stack[stack.length-1].lastChild;
					stack.push(createTiddlyElement(target,listType));
				}
			} else if(listType!=baseType && listLevel==1) {
				w.nextMatch -= lookaheadMatch[0].length;
				return;
			} else if(listLevel < currLevel) {
				for(t=currLevel; t>listLevel; t--)
					stack.pop();
			} else if(listLevel == currLevel && listType != currType) {
				stack.pop();
				stack.push(createTiddlyElement(stack[stack.length-1].lastChild,listType));
			}
			currLevel = listLevel;
			currType = listType;
			var e = createTiddlyElement(stack[stack.length-1],itemType);
			w.subWikifyTerm(e,this.termRegExp);
			this.lookaheadRegExp.lastIndex = w.nextMatch;
			lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		}
	}
},

{
	name: "quoteByBlock",
	match: "^<<<\\n",
	termRegExp: /(^<<<(\n|$))/mg,
	element: "blockquote",
	handler: config.formatterHelpers.createElementAndWikify
},

{
	name: "quoteByLine",
	match: "^>+",
	lookaheadRegExp: /^>+/mg,
	termRegExp: /(\n)/mg,
	element: "blockquote",
	handler: function(w)
	{
		var stack = [w.output];
		var currLevel = 0;
		var newLevel = w.matchLength;
		var t,matched;
		do {
			if(newLevel > currLevel) {
				for(t=currLevel; t<newLevel; t++)
					stack.push(createTiddlyElement(stack[stack.length-1],this.element));
			} else if(newLevel < currLevel) {
				for(t=currLevel; t>newLevel; t--)
					stack.pop();
			}
			currLevel = newLevel;
			w.subWikifyTerm(stack[stack.length-1],this.termRegExp);
			createTiddlyElement(stack[stack.length-1],"br");
			this.lookaheadRegExp.lastIndex = w.nextMatch;
			var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
			matched = lookaheadMatch && lookaheadMatch.index == w.nextMatch;
			if(matched) {
				newLevel = lookaheadMatch[0].length;
				w.nextMatch += lookaheadMatch[0].length;
			}
		} while(matched);
	}
},

{
	name: "rule",
	match: "^----+$\\n?|<hr ?/?>\\n?",
	handler: function(w)
	{
		createTiddlyElement(w.output,"hr");
	}
},

{
	name: "monospacedByLine",
	match: "^(?:/\\*\\{\\{\\{\\*/|\\{\\{\\{|//\\{\\{\\{|<!--\\{\\{\\{-->)\\n",
	element: "pre",
	handler: function(w)
	{
		switch(w.matchText) {
		case "/*{{{*/\n": // CSS
			this.lookaheadRegExp = /\/\*\{\{\{\*\/\n*((?:^[^\n]*\n)+?)(\n*^\f*\/\*\}\}\}\*\/$\n?)/mg;
			break;
		case "{{{\n": // monospaced block
			this.lookaheadRegExp = /^\{\{\{\n((?:^[^\n]*\n)+?)(^\f*\}\}\}$\n?)/mg;
			break;
		case "//{{{\n": // plugin
			this.lookaheadRegExp = /^\/\/\{\{\{\n\n*((?:^[^\n]*\n)+?)(\n*^\f*\/\/\}\}\}$\n?)/mg;
			break;
		case "<!--{{{-->\n": //template
			this.lookaheadRegExp = /<!--\{\{\{-->\n*((?:^[^\n]*\n)+?)(\n*^\f*<!--\}\}\}-->$\n?)/mg;
			break;
		default:
			break;
		}
		config.formatterHelpers.enclosedTextHelper.call(this,w);
	}
},

{
	name: "wikifyComment",
	match: "^(?:/\\*\\*\\*|<!---)\\n",
	handler: function(w)
	{
		var termRegExp = (w.matchText == "/***\n") ? (/(^\*\*\*\/\n)/mg) : (/(^--->\n)/mg);
		w.subWikifyTerm(w.output,termRegExp);
	}
},

{
	name: "macro",
	match: "<<",
	lookaheadRegExp: /<<([^>\s]+)(?:\s*)((?:[^>]|(?:>(?!>)))*)>>/mg,
	handler: function(w)
	{
		this.lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		if(lookaheadMatch && lookaheadMatch.index == w.matchStart && lookaheadMatch[1]) {
			w.nextMatch = this.lookaheadRegExp.lastIndex;
			invokeMacro(w.output,lookaheadMatch[1],lookaheadMatch[2],w,w.tiddler);
		}
	}
},

{
	name: "prettyLink",
	match: "\\[\\[",
	lookaheadRegExp: /\[\[(.*?)(?:\|(~)?(.*?))?\]\]/mg,
	handler: function(w)
	{
		this.lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		if(lookaheadMatch && lookaheadMatch.index == w.matchStart) {
			var e;
			var text = lookaheadMatch[1];
			if(lookaheadMatch[3]) {
				// Pretty bracketted link
				var link = lookaheadMatch[3];
				e = (!lookaheadMatch[2] && config.formatterHelpers.isExternalLink(link)) ?
						createExternalLink(w.output,link) : createTiddlyLink(w.output,link,false,null,w.isStatic,w.tiddler);
			} else {
				// Simple bracketted link
				e = createTiddlyLink(w.output,text,false,null,w.isStatic,w.tiddler);
			}
			createTiddlyText(e,text);
			w.nextMatch = this.lookaheadRegExp.lastIndex;
		}
	}
},

{
	name: "wikiLink",
	match: config.textPrimitives.unWikiLink+"?"+config.textPrimitives.wikiLink,
	handler: function(w)
	{
		if(w.matchText.substr(0,1) == config.textPrimitives.unWikiLink) {
			w.outputText(w.output,w.matchStart+1,w.nextMatch);
			return;
		}
		if(w.matchStart > 0) {
			var preRegExp = new RegExp(config.textPrimitives.anyLetterStrict,"mg");
			preRegExp.lastIndex = w.matchStart-1;
			var preMatch = preRegExp.exec(w.source);
			if(preMatch.index == w.matchStart-1) {
				w.outputText(w.output,w.matchStart,w.nextMatch);
				return;
			}
		}
		if(w.autoLinkWikiWords || store.isShadowTiddler(w.matchText)) {
			var link = createTiddlyLink(w.output,w.matchText,false,null,w.isStatic,w.tiddler);
			w.outputText(link,w.matchStart,w.nextMatch);
		} else {
			w.outputText(w.output,w.matchStart,w.nextMatch);
		}
	}
},

{
	name: "urlLink",
	match: config.textPrimitives.urlPattern,
	handler: function(w)
	{
		w.outputText(createExternalLink(w.output,w.matchText),w.matchStart,w.nextMatch);
	}
},

{
	name: "image",
	match: "\\[[<>]?[Ii][Mm][Gg]\\[",
	lookaheadRegExp: /\[([<]?)(>?)[Ii][Mm][Gg]\[(?:([^\|\]]+)\|)?([^\[\]\|]+)\](?:\[([^\]]*)\])?\]/mg,
	handler: function(w)
	{
		this.lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		if(lookaheadMatch && lookaheadMatch.index == w.matchStart) {
			var e = w.output;
			if(lookaheadMatch[5]) {
				var link = lookaheadMatch[5];
				e = config.formatterHelpers.isExternalLink(link) ? createExternalLink(w.output,link) : createTiddlyLink(w.output,link,false,null,w.isStatic,w.tiddler);
				jQuery(e).addClass("imageLink");
			}
			var img = createTiddlyElement(e,"img");
			if(lookaheadMatch[1])
				img.align = "left";
			else if(lookaheadMatch[2])
				img.align = "right";
			if(lookaheadMatch[3]) {
				img.title = lookaheadMatch[3];
				img.setAttribute("alt",lookaheadMatch[3]);
			}
			img.src = lookaheadMatch[4];
			w.nextMatch = this.lookaheadRegExp.lastIndex;
		}
	}
},

{
	name: "html",
	match: "<[Hh][Tt][Mm][Ll]>",
	lookaheadRegExp: /<[Hh][Tt][Mm][Ll]>((?:.|\n)*?)<\/[Hh][Tt][Mm][Ll]>/mg,
	handler: function(w)
	{
		this.lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		if(lookaheadMatch && lookaheadMatch.index == w.matchStart) {
			createTiddlyElement(w.output,"span").innerHTML = lookaheadMatch[1];
			w.nextMatch = this.lookaheadRegExp.lastIndex;
		}
	}
},

{
	name: "commentByBlock",
	match: "/%",
	lookaheadRegExp: /\/%((?:.|\n)*?)%\//mg,
	handler: function(w)
	{
		this.lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		if(lookaheadMatch && lookaheadMatch.index == w.matchStart)
			w.nextMatch = this.lookaheadRegExp.lastIndex;
	}
},

{
	name: "characterFormat",
	match: "''|//|__|\\^\\^|~~|--(?!\\s|$)|\\{\\{\\{",
	handler: function(w)
	{
		switch(w.matchText) {
		case "''":
			w.subWikifyTerm(w.output.appendChild(document.createElement("strong")),/('')/mg);
			break;
		case "//":
			w.subWikifyTerm(createTiddlyElement(w.output,"em"),/(\/\/)/mg);
			break;
		case "__":
			w.subWikifyTerm(createTiddlyElement(w.output,"u"),/(__)/mg);
			break;
		case "^^":
			w.subWikifyTerm(createTiddlyElement(w.output,"sup"),/(\^\^)/mg);
			break;
		case "~~":
			w.subWikifyTerm(createTiddlyElement(w.output,"sub"),/(~~)/mg);
			break;
		case "--":
			w.subWikifyTerm(createTiddlyElement(w.output,"strike"),/(--)/mg);
			break;
		case "{{{":
			var lookaheadRegExp = /\{\{\{((?:.|\n)*?)\}\}\}/mg;
			lookaheadRegExp.lastIndex = w.matchStart;
			var lookaheadMatch = lookaheadRegExp.exec(w.source);
			if(lookaheadMatch && lookaheadMatch.index == w.matchStart) {
				createTiddlyElement(w.output,"code",null,null,lookaheadMatch[1]);
				w.nextMatch = lookaheadRegExp.lastIndex;
			}
			break;
		}
	}
},

{
	name: "customFormat",
	match: "@@|\\{\\{",
	handler: function(w)
	{
		switch(w.matchText) {
		case "@@":
			var e = createTiddlyElement(w.output,"span");
			var styles = config.formatterHelpers.inlineCssHelper(w);
			if(styles.length == 0)
				e.className = "marked";
			else
				config.formatterHelpers.applyCssHelper(e,styles);
			w.subWikifyTerm(e,/(@@)/mg);
			break;
		case "{{":
			var lookaheadRegExp = /\{\{[\s]*([\w]+[\s\w]*)[\s]*\{(\n?)/mg;
			lookaheadRegExp.lastIndex = w.matchStart;
			var lookaheadMatch = lookaheadRegExp.exec(w.source);
			if(lookaheadMatch) {
				w.nextMatch = lookaheadRegExp.lastIndex;
				e = createTiddlyElement(w.output,lookaheadMatch[2] == "\n" ? "div" : "span",null,lookaheadMatch[1]);
				w.subWikifyTerm(e,/(\}\}\})/mg);
			}
			break;
		}
	}
},

{
	name: "mdash",
	match: "--",
	handler: function(w)
	{
		createTiddlyElement(w.output,"span").innerHTML = "&mdash;";
	}
},

{
	name: "lineBreak",
	match: "\\n|<br ?/?>",
	handler: function(w)
	{
		createTiddlyElement(w.output,"br");
	}
},

{
	name: "rawText",
	match: "\"{3}|<nowiki>",
	lookaheadRegExp: /(?:\"{3}|<nowiki>)((?:.|\n)*?)(?:\"{3}|<\/nowiki>)/mg,
	handler: function(w)
	{
		this.lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		if(lookaheadMatch && lookaheadMatch.index == w.matchStart) {
			createTiddlyElement(w.output,"span",null,null,lookaheadMatch[1]);
			w.nextMatch = this.lookaheadRegExp.lastIndex;
		}
	}
},

{
	name: "htmlEntitiesEncoding",
	match: "(?:(?:&#?[a-zA-Z0-9]{2,8};|.)(?:&#?(?:x0*(?:3[0-6][0-9a-fA-F]|1D[c-fC-F][0-9a-fA-F]|20[d-fD-F][0-9a-fA-F]|FE2[0-9a-fA-F])|0*(?:76[89]|7[7-9][0-9]|8[0-7][0-9]|761[6-9]|76[2-7][0-9]|84[0-3][0-9]|844[0-7]|6505[6-9]|6506[0-9]|6507[0-1]));)+|&#?[a-zA-Z0-9]{2,8};)",
	handler: function(w)
	{
		createTiddlyElement(w.output,"span").innerHTML = w.matchText;
	}
}

];

//--
//-- Wikifier
//--

function getParser(tiddler,format)
{
	if(tiddler) {
		if(!format)
			format = tiddler.fields["wikiformat"];
		var i;
		if(format) {
			for(i in config.parsers) {
				if(format == config.parsers[i].format)
					return config.parsers[i];
			}
		} else {
			for(i in config.parsers) {
				if(tiddler.isTagged(config.parsers[i].formatTag))
					return config.parsers[i];
			}
		}
	}
	return formatter;
}

function Wikifier(source,formatter,highlightRegExp,tiddler)
{
	this.source = source;
	this.output = null;
	this.formatter = formatter;
	this.nextMatch = 0;
	this.autoLinkWikiWords = tiddler && tiddler.autoLinkWikiWords() == false ? false : true;
	this.highlightRegExp = highlightRegExp;
	this.highlightMatch = null;
	this.isStatic = false;
	if(highlightRegExp) {
		highlightRegExp.lastIndex = 0;
		this.highlightMatch = highlightRegExp.exec(source);
	}
	this.tiddler = tiddler;
}

Wikifier.prototype.wikifyPlain = function()
{
	var e = createTiddlyElement(document.body,"div");
	e.style.display = "none";
	this.subWikify(e);
	var text = jQuery(e).text();
	jQuery(e).remove();
	return text;
};

Wikifier.prototype.subWikify = function(output,terminator)
{
	try {
		if(terminator)
			this.subWikifyTerm(output,new RegExp("(" + terminator + ")","mg"));
		else
			this.subWikifyUnterm(output);
	} catch(ex) {
		showException(ex);
	}
};

Wikifier.prototype.subWikifyUnterm = function(output)
{
	var oldOutput = this.output;
	this.output = output;
	this.formatter.formatterRegExp.lastIndex = this.nextMatch;
	var formatterMatch = this.formatter.formatterRegExp.exec(this.source);
	while(formatterMatch) {
		// Output any text before the match
		if(formatterMatch.index > this.nextMatch)
			this.outputText(this.output,this.nextMatch,formatterMatch.index);
		// Set the match parameters for the handler
		this.matchStart = formatterMatch.index;
		this.matchLength = formatterMatch[0].length;
		this.matchText = formatterMatch[0];
		this.nextMatch = this.formatter.formatterRegExp.lastIndex;
		var t;
		for(t=1; t<formatterMatch.length; t++) {
			if(formatterMatch[t]) {
				this.formatter.formatters[t-1].handler(this);
				this.formatter.formatterRegExp.lastIndex = this.nextMatch;
				break;
			}
		}
		formatterMatch = this.formatter.formatterRegExp.exec(this.source);
	}
	if(this.nextMatch < this.source.length) {
		this.outputText(this.output,this.nextMatch,this.source.length);
		this.nextMatch = this.source.length;
	}
	this.output = oldOutput;
};

Wikifier.prototype.subWikifyTerm = function(output,terminatorRegExp)
{
	var oldOutput = this.output;
	this.output = output;
	terminatorRegExp.lastIndex = this.nextMatch;
	var terminatorMatch = terminatorRegExp.exec(this.source);
	this.formatter.formatterRegExp.lastIndex = this.nextMatch;
	var formatterMatch = this.formatter.formatterRegExp.exec(terminatorMatch ? this.source.substr(0,terminatorMatch.index) : this.source);
	while(terminatorMatch || formatterMatch) {
		if(terminatorMatch && (!formatterMatch || terminatorMatch.index <= formatterMatch.index)) {
			if(terminatorMatch.index > this.nextMatch)
				this.outputText(this.output,this.nextMatch,terminatorMatch.index);
			this.matchText = terminatorMatch[1];
			this.matchLength = terminatorMatch[1].length;
			this.matchStart = terminatorMatch.index;
			this.nextMatch = this.matchStart + this.matchLength;
			this.output = oldOutput;
			return;
		}
		if(formatterMatch.index > this.nextMatch)
			this.outputText(this.output,this.nextMatch,formatterMatch.index);
		this.matchStart = formatterMatch.index;
		this.matchLength = formatterMatch[0].length;
		this.matchText = formatterMatch[0];
		this.nextMatch = this.formatter.formatterRegExp.lastIndex;
		var t;
		for(t=1; t<formatterMatch.length; t++) {
			if(formatterMatch[t]) {
				this.formatter.formatters[t-1].handler(this);
				this.formatter.formatterRegExp.lastIndex = this.nextMatch;
				break;
			}
		}
		terminatorRegExp.lastIndex = this.nextMatch;
		terminatorMatch = terminatorRegExp.exec(this.source);
		formatterMatch = this.formatter.formatterRegExp.exec(terminatorMatch ? this.source.substr(0,terminatorMatch.index) : this.source);
	}
	if(this.nextMatch < this.source.length) {
		this.outputText(this.output,this.nextMatch,this.source.length);
		this.nextMatch = this.source.length;
	}
	this.output = oldOutput;
};

Wikifier.prototype.outputText = function(place,startPos,endPos)
{
	while(this.highlightMatch && (this.highlightRegExp.lastIndex > startPos) && (this.highlightMatch.index < endPos) && (startPos < endPos)) {
		if(this.highlightMatch.index > startPos) {
			createTiddlyText(place,this.source.substring(startPos,this.highlightMatch.index));
			startPos = this.highlightMatch.index;
		}
		var highlightEnd = Math.min(this.highlightRegExp.lastIndex,endPos);
		createTiddlyElement(place,"span",null,"highlight",this.source.substring(startPos,highlightEnd));
		startPos = highlightEnd;
		if(startPos >= this.highlightRegExp.lastIndex)
			this.highlightMatch = this.highlightRegExp.exec(this.source);
	}
	if(startPos < endPos) {
		createTiddlyText(place,this.source.substring(startPos,endPos));
	}
};

function wikify(source,output,highlightRegExp,tiddler)
{
	if(source) {
		var wikifier = new Wikifier(source,getParser(tiddler),highlightRegExp,tiddler);
		var t0 = new Date();
		wikifier.subWikify(output);
		if(tiddler && config.options.chkDisplayInstrumentation)
			displayMessage("wikify:" +tiddler.title+ " in " + (new Date()-t0) + " ms");
	}
}

function wikifyStatic(source,highlightRegExp,tiddler,format)
{
	var e = createTiddlyElement(document.body,"pre");
	e.style.display = "none";
	var html = "";
	if(source && source != "") {
		if(!tiddler)
			tiddler = new Tiddler("temp");
		var wikifier = new Wikifier(source,getParser(tiddler,format),highlightRegExp,tiddler);
		wikifier.isStatic = true;
		wikifier.subWikify(e);
		html = e.innerHTML;
		jQuery(e).remove();
	}
	return html;
}

function wikifyPlainText(text,limit,tiddler)
{
	if(limit > 0)
		text = text.substr(0,limit);
	var wikifier = new Wikifier(text,formatter,null,tiddler);
	return wikifier.wikifyPlain();
}

function highlightify(source,output,highlightRegExp,tiddler)
{
	if(source) {
		var wikifier = new Wikifier(source,formatter,highlightRegExp,tiddler);
		wikifier.outputText(output,0,source.length);
	}
}

//--
//-- Macro definitions
//--

function invokeMacro(place,macro,params,wikifier,tiddler)
{
	try {
		var m = config.macros[macro];
		if(m && m.handler) {
			var tiddlerElem = story.findContainingTiddler(place);
			window.tiddler = tiddlerElem ? store.getTiddler(tiddlerElem.getAttribute("tiddler")) : null;
			window.place = place;
			var allowEval = true;
			if(config.evaluateMacroParameters=="system") {
				if(!tiddler || tiddler.tags.indexOf("systemAllowEval") == -1) {
					allowEval = false;
				}
			}
			m.handler(place,macro,m.noPreParse?null:params.readMacroParams(!allowEval),wikifier,params,tiddler);
		} else {
			createTiddlyError(place,config.messages.macroError.format([macro]),config.messages.macroErrorDetails.format([macro,config.messages.missingMacro]));
		}
	} catch(ex) {
		createTiddlyError(place,config.messages.macroError.format([macro]),config.messages.macroErrorDetails.format([macro,ex.toString()]));
	}
}

config.macros.version.handler = function(place)
{
	jQuery("<span/>").text(formatVersion()).appendTo(place);
};

config.macros.today.handler = function(place,macroName,params)
{
	var now = new Date();
	var text = params[0] ? now.formatString(params[0].trim()) : now.toLocaleString();
	jQuery("<span/>").text(text).appendTo(place);
};

config.macros.list.template = "<<view title link>>";
config.macros.list.handler = function(place,macroName,params,wikifier,paramString)
{
	var list = document.createElement("ul");
	jQuery(list).attr({ refresh: "macro", macroName: macroName }).data("params", paramString);
	place.appendChild(list);
	this.refresh(list);
};

config.macros.list.refresh = function(list) {
	var paramString = jQuery(list).data("params");
	var params = paramString.readMacroParams();
	var args = paramString.parseParams("anon", null, null)[0];
	var type = args.anon ? args.anon[0] : "all";
	jQuery(list).empty().addClass("list list-" + type);
	var template = args.template ? store.getTiddlerText(args.template[0]) : false;
	if(!template) {
		template = config.macros.list.template;
	}
	if(this[type].prompt)
		createTiddlyElement(list,"li",null,"listTitle",this[type].prompt);
	var results;
	if(this[type].handler)
		results = this[type].handler(params);
	var t;
	for(t = 0; t < results.length; t++) {
		var li = document.createElement("li");
		list.appendChild(li);
		var tiddler = results[t];
		if(typeof(tiddler) == 'string') { // deal with missing etc..
				tiddler = store.getTiddler(tiddler) || new Tiddler(tiddler);
		}
		wikify(template, li, null, tiddler);
	}
	if(results.length === 0 && args.emptyMessage) {
		jQuery(list).addClass("emptyList");
		jQuery("<li />").text(args.emptyMessage[0]).appendTo(list);
	}
};

config.macros.list.all.handler = function(params)
{
	return store.reverseLookup("tags","excludeLists",false,"title");
};

config.macros.list.missing.handler = function(params)
{
	return store.getMissingLinks();
};

config.macros.list.orphans.handler = function(params)
{
	return store.getOrphans();
};

config.macros.list.shadowed.handler = function(params)
{
	return store.getShadowed();
};

config.macros.list.touched.handler = function(params)
{
	return store.getTouched();
};

config.macros.list.filter.handler = function(params)
{
	var filter = params[1];
	var results = [];
	if(filter) {
		var tiddlers = store.filterTiddlers(filter);
		var t;
		for(t=0; t<tiddlers.length; t++)
			results.push(tiddlers[t].title);
	}
	return results;
};

config.macros.allTags.handler = function(place,macroName,params)
{
	var tags = store.getTags(params[0]);
	var ul = createTiddlyElement(place,"ul");
	if(tags.length == 0)
		createTiddlyElement(ul,"li",null,"listTitle",this.noTags);
	var t;
	for(t=0; t<tags.length; t++) {
		var title = tags[t][0];
		var info = getTiddlyLinkInfo(title);
		var li = createTiddlyElement(ul,"li");
		var btn = createTiddlyButton(li,title + " (" + tags[t][1] + ")",this.tooltip.format([title]),onClickTag,info.classes);
		btn.setAttribute("tag",title);
		btn.setAttribute("refresh","link");
		btn.setAttribute("tiddlyLink",title);
		if(params[1]) {
			btn.setAttribute("sortby",params[1]);
		}
	}
};

var macro = config.macros.timeline;
merge(macro, {
	handler: function(place,macroName,params, wikifier, paramString, tiddler) {
		var container = jQuery("<div />").attr("params", paramString).
			attr("macroName", macroName).appendTo(place)[0];
		macro.refresh(container);
	},
	refresh: function(container) {
		jQuery(container).attr("refresh", "macro").empty();
		var paramString = jQuery(container).attr("params");
		var args = paramString.parseParams("anon", null, null)[0];
		var params = args.anon || [];

		var field = params[0] || "modified";
		var prefix = field.charAt(0);
		var no_prefix_field = prefix === "-" || prefix === "+" ? field.substr(1, field.length) : field;
		var dateFormat = params[2] || this.dateFormat;
		var groupTemplate = macro.groupTemplate.format(no_prefix_field, dateFormat);
		groupTemplate = args.groupTemplate ? store.getTiddlerText(args.groupTemplate[0]) || groupTemplate :
			groupTemplate;

		var itemTemplate = macro.itemTemplate;
		itemTemplate = args.template ? store.getTiddlerText(args.template[0]) || itemTemplate :
			itemTemplate;

		var tiddlers = args.filter ? store.sortTiddlers(store.filterTiddlers(args.filter[0]), field) :
			store.reverseLookup("tags", "excludeLists", false, field);
		var lastGroup = "", ul;
		var last = params[1] ? tiddlers.length-Math.min(tiddlers.length,parseInt(params[1],10)) : 0;
		var t;
		for(t=tiddlers.length-1; t>=last; t--) {
			var tiddler = tiddlers[t];
			var theGroup = wikifyPlainText(groupTemplate,0,tiddler);
			if(typeof(ul) == "undefined" || theGroup != lastGroup) {
				ul = document.createElement("ul");
				jQuery(ul).addClass("timeline");
				container.appendChild(ul);
				createTiddlyElement(ul,"li",null,"listTitle",theGroup);
				lastGroup = theGroup;
			}
			var item = createTiddlyElement(ul,"li",null,"listLink");
			wikify(itemTemplate,item,null,tiddler);
		}
	},
	groupTemplate: "<<view %0 date '%1'>>", 
	itemTemplate: "<<view title link>>"
});

config.macros.tiddler.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	var allowEval = true;
	var stack = config.macros.tiddler.tiddlerStack;
	if(stack.length > 0 && config.evaluateMacroParameters == "system") {
		// included tiddler and "system" evaluation required, so check tiddler tagged appropriately
		var title = stack[stack.length-1];
		var pos = title.indexOf(config.textPrimitives.sectionSeparator);
		if(pos != -1) {
			title = title.substr(0,pos); // get the base tiddler title
		}
		var t = store.getTiddler(title);
		if(!t || t.tags.indexOf("systemAllowEval") == -1) {
			allowEval = false;
		}
	}
	params = paramString.parseParams("name",null,allowEval,false,true);
	var names = params[0]["name"];
	var tiddlerName = names[0];
	var className = names[1] || null;
	var args = params[0]["with"];
	var wrapper = createTiddlyElement(place,"span",null,className,null,{
		refresh: "content", tiddler: tiddlerName
	});
	if(args!==undefined)
		wrapper.setAttribute("args","[["+args.join("]] [[")+"]]");
	this.transclude(wrapper,tiddlerName,args);
};

config.macros.tiddler.transclude = function(wrapper,tiddlerName,args)
{
	var text = store.getTiddlerText(tiddlerName);
	if(!text)
		return;
	var stack = config.macros.tiddler.tiddlerStack;
	if(stack.indexOf(tiddlerName) !== -1)
		return;
	stack.push(tiddlerName);
	try {
		if(typeof args == "string")
			args = args.readBracketedList();
		var n = args ? Math.min(args.length,9) : 0;
		var i;
		for(i=0; i<n; i++) {
			var placeholderRE = new RegExp("\\$" + (i + 1),"mg");
			text = text.replace(placeholderRE,args[i]);
		}
		config.macros.tiddler.renderText(wrapper,text,tiddlerName);
	} finally {
		stack.pop();
	}
};

config.macros.tiddler.renderText = function(place,text,tiddlerName)
{
	wikify(text,place,null,store.getTiddler(tiddlerName));
};

config.macros.tiddler.tiddlerStack = [];

config.macros.tag.handler = function(place,macroName,params)
{
	var btn = createTagButton(place,params[0],null,params[1],params[2]);
	if(params[3]) {
		btn.setAttribute('sortby',params[3]);
	}
};

config.macros.tags.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	params = paramString.parseParams("anon",null,true,false,false);
	var ul = createTiddlyElement(place,"ul");
	var title = getParam(params,"anon","");
	if(title && store.tiddlerExists(title))
		tiddler = store.getTiddler(title);
	var sep = getParam(params,"sep"," ");
	var lingo = config.views.wikified.tag;
	var label = null;
	var t;
	for(t=0; t<tiddler.tags.length; t++) {
		var tag = store.getTiddler(tiddler.tags[t]);
		if(!tag || !tag.tags.contains("excludeLists")) {
			if(!label)
				label = createTiddlyElement(ul,"li",null,"listTitle",lingo.labelTags.format([tiddler.title]));
			createTagButton(createTiddlyElement(ul,"li"),tiddler.tags[t],tiddler.title);
			if(t<tiddler.tags.length-1)
				createTiddlyText(ul,sep);
		}
	}
	if(!label)
		createTiddlyElement(ul,"li",null,"listTitle",lingo.labelNoTags.format([tiddler.title]));
};

config.macros.tagging.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	params = paramString.parseParams("anon",null,true,false,false);
	var ul = createTiddlyElement(place,"ul");
	var title = getParam(params,"anon","");
	if(title == "" && tiddler instanceof Tiddler)
		title = tiddler.title;
	var sep = getParam(params,"sep"," ");
	ul.setAttribute("title",this.tooltip.format([title]));
	var sortby = getParam(params,"sortBy",false);
	var tagged = store.getTaggedTiddlers(title,sortby);
	var prompt = tagged.length == 0 ? this.labelNotTag : this.label;
	createTiddlyElement(ul,"li",null,"listTitle",prompt.format([title,tagged.length]));
	var t;
	for(t=0; t<tagged.length; t++) {
		createTiddlyLink(createTiddlyElement(ul,"li"),tagged[t].title,true);
		if(t<tagged.length-1)
			createTiddlyText(ul,sep);
	}
};

config.macros.closeAll.handler = function(place)
{
	createTiddlyButton(place,this.label,this.prompt,this.onClick);
};

config.macros.closeAll.onClick = function(e)
{
	story.closeAllTiddlers();
	return false;
};

config.macros.permaview.handler = function(place)
{
	createTiddlyButton(place,this.label,this.prompt,this.onClick);
};

config.macros.permaview.onClick = function(e)
{
	story.permaView();
	return false;
};

config.macros.saveChanges.handler = function(place,macroName,params)
{
	if(!readOnly)
		createTiddlyButton(place,params[0] || this.label,params[1] || this.prompt,this.onClick,null,null,this.accessKey);
};

config.macros.saveChanges.onClick = function(e)
{
	saveChanges();
	return false;
};

config.macros.slider.onClickSlider = function(ev)
{
	var n = this.nextSibling;
	var cookie = n.getAttribute("cookie");
	var isOpen = n.style.display != "none";
	if(config.options.chkAnimate && anim && typeof Slider == "function")
		anim.startAnimating(new Slider(n,!isOpen,null,"none"));
	else
		n.style.display = isOpen ? "none" : "block";
	config.options[cookie] = !isOpen;
	saveOption(cookie);
	return false;
};

config.macros.slider.createSlider = function(place,cookie,title,tooltip)
{
	var c = cookie || "";
	createTiddlyButton(place,title,tooltip,this.onClickSlider);
	var panel = createTiddlyElement(null,"div",null,"sliderPanel");
	panel.setAttribute("cookie",c);
	panel.style.display = config.options[c] ? "block" : "none";
	place.appendChild(panel);
	return panel;
};

config.macros.slider.handler = function(place,macroName,params)
{
	var panel = this.createSlider(place,params[0],params[2],params[3]);
	var text = store.getTiddlerText(params[1]);
	panel.setAttribute("refresh","content");
	panel.setAttribute("tiddler",params[1]);
	if(text)
		wikify(text,panel,null,store.getTiddler(params[1]));
};

// <<gradient [[tiddler name]] vert|horiz rgb rgb rgb rgb... >>
config.macros.gradient.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	var panel = wikifier ? createTiddlyElement(place,"div",null,"gradient") : place;
	panel.style.position = "relative";
	panel.style.overflow = "hidden";
	panel.style.zIndex = "0";
	if(wikifier) {
		var styles = config.formatterHelpers.inlineCssHelper(wikifier);
		config.formatterHelpers.applyCssHelper(panel,styles);
	}
	params = paramString.parseParams("color");
	var locolors = [], hicolors = [];
	var t;
	for(t=2; t<params.length; t++) {
		var c = params[t].value;
		if(params[t].name == "snap") {
			hicolors[hicolors.length-1] = c;
		} else {
			locolors.push(c);
			hicolors.push(c);
		}
	}
	drawGradient(panel,params[1].value != "vert",locolors,hicolors);
	if(wikifier)
		wikifier.subWikify(panel,">>");
	if(document.all) {
		panel.style.height = "100%";
		panel.style.width = "100%";
	}
};

config.macros.message.handler = function(place,macroName,params)
{
	if(params[0]) {
		var names = params[0].split(".");
		var lookupMessage = function(root,nameIndex) {
				if(root[names[nameIndex]]) {
					if(nameIndex < names.length-1)
						return (lookupMessage(root[names[nameIndex]],nameIndex+1));
					else
						return root[names[nameIndex]];
				} else
					return null;
			};
		var m = lookupMessage(config,0);
		if(m == null)
			m = lookupMessage(window,0);
		createTiddlyText(place,m.toString().format(params.splice(1)));
	}
};


config.macros.view.depth = 0;
config.macros.view.values = [];
config.macros.view.views = {
	text: function(value,place,params,wikifier,paramString,tiddler) {
		highlightify(value,place,highlightHack,tiddler);
	},
	link: function(value,place,params,wikifier,paramString,tiddler) {
		createTiddlyLink(place,value,true);
	},
	wikified: function(value,place,params,wikifier,paramString,tiddler) {
		if(config.macros.view.depth>50)
			return;
		if(config.macros.view.depth>0) {
			if (value==config.macros.view.values[config.macros.view.depth-1]) {
				return;
			}
		}
		config.macros.view.values[config.macros.view.depth] = value;
		config.macros.view.depth++;
		if(params[2])
			value=params[2].unescapeLineBreaks().format([value]);
		wikify(value,place,highlightHack,tiddler);
		config.macros.view.depth--;
		config.macros.view.values[config.macros.view.depth] = null;
	},
	date: function(value,place,params,wikifier,paramString,tiddler) {
		value = Date.convertFromYYYYMMDDHHMM(value);
		createTiddlyText(place,value.formatString(params[2] || config.views.wikified.dateFormat));
	}
};

config.macros.view.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	if((tiddler instanceof Tiddler) && params[0]) {
		var value = store.getValue(tiddler,params[0]);
		if(value) {
			var type = params[1] || config.macros.view.defaultView;
			var handler = config.macros.view.views[type];
			if(handler)
				handler(value,place,params,wikifier,paramString,tiddler);
		}
	}
};

config.macros.edit.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	var field = params[0];
	var rows = params[1] || 0;
	var defVal = params[2] || '';
	if((tiddler instanceof Tiddler) && field) {
		story.setDirty(tiddler.title,true);
		var e,v;
		if(field != "text" && !rows) {
			e = createTiddlyElement(null,"input",null,null,null,{
				type: "text", edit: field, size: "40", autocomplete: "off"
			});
			e.value = store.getValue(tiddler,field) || defVal;
			place.appendChild(e);
		} else {
			var wrapper1 = createTiddlyElement(null,"fieldset",null,"fieldsetFix");
			var wrapper2 = createTiddlyElement(wrapper1,"div");
			e = createTiddlyElement(wrapper2,"textarea");
			e.value = v = store.getValue(tiddler,field) || defVal;
			rows = rows || 10;
			var lines = v.match(/\n/mg);
			var maxLines = Math.max(parseInt(config.options.txtMaxEditRows,10),5);
			if(lines != null && lines.length > rows)
				rows = lines.length + 5;
			rows = Math.min(rows,maxLines);
			e.setAttribute("rows",rows);
			e.setAttribute("edit",field);
			place.appendChild(wrapper1);
		}
		if(tiddler.isReadOnly()) {
			e.setAttribute("readOnly","readOnly");
			jQuery(e).addClass("readOnly");
		}
		return e;
	}
};

config.macros.tagChooser.onClick = function(ev)
{
	var e = ev || window.event;
	var lingo = config.views.editor.tagChooser;
	var popup = Popup.create(this);
	var tags = store.getTags(this.getAttribute("tags"));
	if(tags.length == 0)
		jQuery("<li/>").text(lingo.popupNone).appendTo(popup);
	var t;
	for(t=0; t<tags.length; t++) {
		var tag = createTiddlyButton(createTiddlyElement(popup,"li"),tags[t][0],lingo.tagTooltip.format([tags[t][0]]),config.macros.tagChooser.onTagClick);
		tag.setAttribute("tag",tags[t][0]);
		tag.setAttribute("tiddler",this.getAttribute("tiddler"));
	}
	Popup.show();
	e.cancelBubble = true;
	if(e.stopPropagation) e.stopPropagation();
	return false;
};

config.macros.tagChooser.onTagClick = function(ev)
{
	var e = ev || window.event;
	if(e.metaKey || e.ctrlKey) stopEvent(e); //# keep popup open on CTRL-click
	var tag = this.getAttribute("tag");
	var title = this.getAttribute("tiddler");
	if(!readOnly)
		story.setTiddlerTag(title,tag,0);
	return false;
};

config.macros.tagChooser.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	if(tiddler instanceof Tiddler) {
		var lingo = config.views.editor.tagChooser;
		var btn = createTiddlyButton(place,lingo.text,lingo.tooltip,this.onClick);
		btn.setAttribute("tiddler",tiddler.title);
		btn.setAttribute("tags",params[0]);
	}
};

config.macros.refreshDisplay.handler = function(place)
{
	createTiddlyButton(place,this.label,this.prompt,this.onClick);
};

config.macros.refreshDisplay.onClick = function(e)
{
	refreshAll();
	return false;
};

config.macros.annotations.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	var title = tiddler ? tiddler.title : null;
	var a = title ? config.annotations[title] : null;
	if(!tiddler || !title || !a)
		return;
	var text = a.format([title]);
	wikify(text,createTiddlyElement(place,"div",null,"annotation"),null,tiddler);
};
//--
//-- NewTiddler and NewJournal macros
//--

config.macros.newTiddler.createNewTiddlerButton = function(place,title,params,label,prompt,accessKey,newFocus,isJournal)
{
	var tags = [];
	var t;
	for(t=1; t<params.length; t++) {
		if((params[t].name == "anon" && t != 1) || (params[t].name == "tag"))
			tags.push(params[t].value);
	}
	label = getParam(params,"label",label);
	prompt = getParam(params,"prompt",prompt);
	accessKey = getParam(params,"accessKey",accessKey);
	newFocus = getParam(params,"focus",newFocus);
	var customFields = getParam(params,"fields","");
	if(!customFields && !store.isShadowTiddler(title))
		customFields = String.encodeHashMap(config.defaultCustomFields);
	var btn = createTiddlyButton(place,label,prompt,this.onClickNewTiddler,null,null,accessKey);
	btn.setAttribute("newTitle",title);
	btn.setAttribute("isJournal",isJournal ? "true" : "false");
	if(tags.length > 0)
		btn.setAttribute("params",tags.join("|"));
	btn.setAttribute("newFocus",newFocus);
	btn.setAttribute("newTemplate",getParam(params,"template",DEFAULT_EDIT_TEMPLATE));
	if(customFields !== "")
		btn.setAttribute("customFields",customFields);
	var text = getParam(params,"text");
	if(text !== undefined)
		btn.setAttribute("newText",text);
	return btn;
};

config.macros.newTiddler.onClickNewTiddler = function()
{
	var title = this.getAttribute("newTitle");
	if(this.getAttribute("isJournal") == "true") {
		title = new Date().formatString(title.trim());
	}
	var params = this.getAttribute("params");
	var tags = params ? params.split("|") : [];
	var focus = this.getAttribute("newFocus");
	var template = this.getAttribute("newTemplate");
	var customFields = this.getAttribute("customFields");
	if(!customFields && !store.isShadowTiddler(title))
		customFields = String.encodeHashMap(config.defaultCustomFields);
	story.displayTiddler(null,title,template,false,null,null);
	var tiddlerElem = story.getTiddler(title);
	if(customFields)
		story.addCustomFields(tiddlerElem,customFields);
	var text = this.getAttribute("newText");
	if(typeof text == "string" && story.getTiddlerField(title,"text"))
		story.getTiddlerField(title,"text").value = text.format([title]);
	var t;
	for(t=0;t<tags.length;t++)
		story.setTiddlerTag(title,tags[t],+1);
	story.focusTiddler(title,focus);
	return false;
};

config.macros.newTiddler.handler = function(place,macroName,params,wikifier,paramString)
{
	if(!readOnly) {
		params = paramString.parseParams("anon",null,true,false,false);
		var title = params[1] && params[1].name == "anon" ? params[1].value : this.title;
		title = getParam(params,"title",title);
		this.createNewTiddlerButton(place,title,params,this.label,this.prompt,this.accessKey,"title",false);
	}
};

config.macros.newJournal.handler = function(place,macroName,params,wikifier,paramString)
{
	if(!readOnly) {
		params = paramString.parseParams("anon",null,true,false,false);
		var title = params[1] && params[1].name == "anon" ? params[1].value : config.macros.timeline.dateFormat;
		title = getParam(params,"title",title);
		config.macros.newTiddler.createNewTiddlerButton(place,title,params,this.label,this.prompt,this.accessKey,"text",true);
	}
};

//--
//-- Search macro
//--

config.macros.search.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	params = paramString.parseParams("anon",null,false,false,false);
	createTiddlyButton(place,this.label,this.prompt,this.onClick,"searchButton");
	var txt = createTiddlyElement(null,"input",null,"txtOptionInput searchField");
	txt.value = getParam(params,"anon","");
	if(config.browser.isSafari) {
		txt.setAttribute("type","search");
		txt.setAttribute("results","5");
	} else {
		txt.setAttribute("type","text");
	}
	place.appendChild(txt);
	txt.onkeyup = this.onKeyPress;
	txt.onfocus = this.onFocus;
	txt.setAttribute("size",this.sizeTextbox);
	txt.setAttribute("accessKey",getParam(params,"accesskey",this.accessKey));
	txt.setAttribute("autocomplete","off");
	txt.setAttribute("lastSearchText","");
	txt.setAttribute("placeholder",getParam(params,"placeholder",this.placeholder));
};

// Global because there's only ever one outstanding incremental search timer
config.macros.search.timeout = null;

config.macros.search.doSearch = function(txt)
{
	if(txt.value.length > 0) {
		story.search(txt.value,config.options.chkCaseSensitiveSearch,config.options.chkRegExpSearch);
		txt.setAttribute("lastSearchText",txt.value);
	}
};

config.macros.search.onClick = function(e)
{
	config.macros.search.doSearch(this.nextSibling);
	return false;
};

config.macros.search.onKeyPress = function(ev)
{
	var me = config.macros.search;
	var e = ev || window.event;
	switch(e.keyCode) {
		case 9: // Tab
			return;
		case 13: // Ctrl-Enter
		case 10: // Ctrl-Enter on IE PC
			me.doSearch(this);
			break;
		case 27: // Escape
			this.value = "";
			clearMessage();
			break;
	}
	if(config.options.chkIncrementalSearch) {
		if(this.value.length > 2) {
			if(this.value != this.getAttribute("lastSearchText")) {
				if(me.timeout) {
					clearTimeout(me.timeout);
				}
				var txt = this;
				me.timeout = setTimeout(function() {me.doSearch(txt);},500);
			}
		} else {
			if(me.timeout) {
				clearTimeout(me.timeout);
			}
		}
	}
};

config.macros.search.onFocus = function(e)
{
	this.select();
};

//--
//-- Tabs macro
//--

config.macros.tabs.handler = function(place,macroName,params)
{
	var cookie = params[0];
	var numTabs = (params.length-1)/3;
	var wrapper = createTiddlyElement(null,"div",null,"tabsetWrapper " + cookie);
	var tabset = createTiddlyElement(wrapper,"div",null,"tabset");
	tabset.setAttribute("cookie",cookie);
	var validTab = false;
	var t;
	for(t=0; t<numTabs; t++) {
		var label = params[t*3+1];
		var prompt = params[t*3+2];
		var content = params[t*3+3];
		var tab = createTiddlyButton(tabset,label,prompt,this.onClickTab,"tab tabUnselected");
		createTiddlyElement(tab,"span",null,null," ",{style:"font-size:0pt;line-height:0px"});
		tab.setAttribute("tab",label);
		tab.setAttribute("content",content);
		tab.title = prompt;
		if(config.options[cookie] == label)
			validTab = true;
	}
	if(!validTab)
		config.options[cookie] = params[1];
	place.appendChild(wrapper);
	this.switchTab(tabset,config.options[cookie]);
};

config.macros.tabs.onClickTab = function(e)
{
	config.macros.tabs.switchTab(this.parentNode,this.getAttribute("tab"));
	return false;
};

config.macros.tabs.switchTab = function(tabset,tab)
{
	var cookie = tabset.getAttribute("cookie");
	var theTab = null;
	var nodes = tabset.childNodes;
	var t;
	for(t=0; t<nodes.length; t++) {
		if(nodes[t].getAttribute && nodes[t].getAttribute("tab") == tab) {
			theTab = nodes[t];
			theTab.className = "tab tabSelected";
		} else {
			nodes[t].className = "tab tabUnselected";
		}
	}
	if(theTab) {
		if(tabset.nextSibling && tabset.nextSibling.className == "tabContents")
			jQuery(tabset.nextSibling).remove();
		var tabContent = createTiddlyElement(null,"div",null,"tabContents");
		tabset.parentNode.insertBefore(tabContent,tabset.nextSibling);
		var contentTitle = theTab.getAttribute("content");
		wikify(store.getTiddlerText(contentTitle),tabContent,null,store.getTiddler(contentTitle));
		if(cookie) {
			config.options[cookie] = tab;
			saveOption(cookie);
		}
	}
};

//--
//-- Tiddler toolbar
//--

// Create a toolbar command button
config.macros.toolbar.createCommand = function(place,commandName,tiddler,className)
{
	if(typeof commandName != "string") {
		var c = null;
		var t;
		for(t in config.commands) {
			if(config.commands[t] == commandName)
				c = t;
		}
		commandName = c;
	}
	if((tiddler instanceof Tiddler) && (typeof commandName == "string")) {
		var command = config.commands[commandName];
		if(command.isEnabled ? command.isEnabled(tiddler) : this.isCommandEnabled(command,tiddler)) {
			var text = command.getText ? command.getText(tiddler) : this.getCommandText(command,tiddler);
			var tooltip = command.getTooltip ? command.getTooltip(tiddler) : this.getCommandTooltip(command,tiddler);
			var cmd = command.type == "popup" ? this.onClickPopup : this.onClickCommand;
			var btn = createTiddlyButton(null,text,tooltip,cmd);
			btn.setAttribute("commandName",commandName);
			btn.setAttribute("tiddler",tiddler.title);
			jQuery(btn).addClass("command_" + commandName);
			if(className)
				jQuery(btn).addClass(className);
			place.appendChild(btn);
		}
	}
};

config.macros.toolbar.isCommandEnabled = function(command,tiddler)
{
	var title = tiddler.title;
	var ro = tiddler.isReadOnly();
	var shadow = store.isShadowTiddler(title) && !store.tiddlerExists(title);
	return (!ro || (ro && !command.hideReadOnly)) && !(shadow && command.hideShadow);
};

config.macros.toolbar.getCommandText = function(command,tiddler)
{
	return (tiddler.isReadOnly() && command.readOnlyText) || command.text;
};

config.macros.toolbar.getCommandTooltip = function(command,tiddler)
{
	return (tiddler.isReadOnly() && command.readOnlyTooltip) || command.tooltip;
};

config.macros.toolbar.onClickCommand = function(ev)
{
	var e = ev || window.event;
	e.cancelBubble = true;
	if(e.stopPropagation) e.stopPropagation();
	var command = config.commands[this.getAttribute("commandName")];
	return command.handler(e,this,this.getAttribute("tiddler"));
};

config.macros.toolbar.onClickPopup = function(ev)
{
	var e = ev || window.event;
	e.cancelBubble = true;
	if(e.stopPropagation) e.stopPropagation();
	var popup = Popup.create(this);
	var command = config.commands[this.getAttribute("commandName")];
	var title = this.getAttribute("tiddler");
	popup.setAttribute("tiddler",title);
	command.handlePopup(popup,title);
	Popup.show();
	return false;
};

// Invoke the first command encountered from a given place that is tagged with a specified class
config.macros.toolbar.invokeCommand = function(place,className,event)
{
	var children = place.getElementsByTagName("a");
	var t;
	for(t=0; t<children.length; t++) {
		var c = children[t];
		if(jQuery(c).hasClass(className) && c.getAttribute && c.getAttribute("commandName")) {
			if(c.onclick instanceof Function)
				c.onclick.call(c,event);
			break;
		}
	}
};

config.macros.toolbar.onClickMore = function(ev)
{
	var e = this.nextSibling;
	e.style.display = "inline";
	this.style.display = "none";
	return false;
};

config.macros.toolbar.onClickLess = function(ev)
{
	var e = this.parentNode;
	var m = e.previousSibling;
	e.style.display = "none";
	m.style.display = "inline";
	return false;
};

config.macros.toolbar.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	var t;
	for(t=0; t<params.length; t++) {
		var btn;
		var c = params[t];
		switch(c) {
		case "!":
			createTiddlyText(place,this.separator);
			break;
		case "*":
			createTiddlyElement(place,"br");
			break;
		case "<":
			btn = createTiddlyButton(place,this.lessLabel,this.lessPrompt,config.macros.toolbar.onClickLess);
			jQuery(btn).addClass("lessCommand");
			break;
		case ">":
			btn = createTiddlyButton(place,this.moreLabel,this.morePrompt,config.macros.toolbar.onClickMore);
			jQuery(btn).addClass("moreCommand");
			var e = createTiddlyElement(place,"span",null,"moreCommand");
			e.style.display = "none";
			place = e;
			break;
		default:
			var className = "";
			switch(c.substr(0,1)) {
			case "+":
				className = "defaultCommand";
				c = c.substr(1);
				break;
			case "-":
				className = "cancelCommand";
				c = c.substr(1);
				break;
			}
			if(config.commands[c]) {
				this.createCommand(place,c,tiddler,className);
			} else {
				this.customCommand(place,c,wikifier,tiddler);
			}
			break;
		}
	}
};

// Overrideable function to extend toolbar handler
config.macros.toolbar.customCommand = function(place,command,wikifier,tiddler)
{
};

//--
//-- Menu and toolbar commands
//--

config.commands.closeTiddler.handler = function(event,src,title)
{
	if(story.isDirty(title) && !readOnly) {
		if(!confirm(config.commands.cancelTiddler.warning.format([title])))
			return false;
	}
	story.setDirty(title,false);
	story.closeTiddler(title,true);
	return false;
};

config.commands.closeOthers.handler = function(event,src,title)
{
	story.closeAllTiddlers(title);
	return false;
};

config.commands.editTiddler.handler = function(event,src,title)
{
	clearMessage();
	var tiddlerElem = story.getTiddler(title);
	var fields = tiddlerElem.getAttribute("tiddlyFields");
	story.displayTiddler(null,title,DEFAULT_EDIT_TEMPLATE,false,null,fields);
	var e = story.getTiddlerField(title,config.options.txtEditorFocus||"text");
	if(e) {
		setCaretPosition(e,0);
	}
	return false;
};

config.commands.saveTiddler.handler = function(event,src,title)
{
	var newTitle = story.saveTiddler(title,event.shiftKey);
	if(newTitle)
		story.displayTiddler(null,newTitle);
	return false;
};

config.commands.cancelTiddler.handler = function(event,src,title)
{
	if(story.hasChanges(title) && !readOnly) {
		if(!confirm(this.warning.format([title])))
			return false;
	}
	story.setDirty(title,false);
	story.displayTiddler(null,title);
	return false;
};

config.commands.deleteTiddler.handler = function(event,src,title)
{
	var deleteIt = true;
	if(config.options.chkConfirmDelete)
		deleteIt = confirm(this.warning.format([title]));
	if(deleteIt) {
		store.removeTiddler(title);
		story.closeTiddler(title,true);
		autoSaveChanges();
	}
	return false;
};

config.commands.permalink.handler = function(event,src,title)
{
	var t = encodeURIComponent(String.encodeTiddlyLink(title));
	if(window.location.hash != t)
		window.location.hash = t;
	return false;
};

config.commands.references.handlePopup = function(popup,title)
{
	var references = store.getReferringTiddlers(title);
	var c = false;
	var r;
	for(r=0; r<references.length; r++) {
		if(references[r].title != title && !references[r].isTagged("excludeLists")) {
			createTiddlyLink(createTiddlyElement(popup,"li"),references[r].title,true);
			c = true;
		}
	}
	if(!c)
		createTiddlyElement(popup,"li",null,"disabled",this.popupNone);
};

config.commands.jump.handlePopup = function(popup,title)
{
	story.forEachTiddler(function(title,element) {
		createTiddlyLink(createTiddlyElement(popup,"li"),title,true,null,false,null,true);
		});
};

config.commands.fields.handlePopup = function(popup,title)
{
	var tiddler = store.fetchTiddler(title);
	if(!tiddler)
		return;
	var items = [];
	store.forEachField(tiddler,function(tiddler,fieldName,value){items.push({field:fieldName,value:value});},true);
	items.sort(function(a,b) {return a.field < b.field ? -1 : (a.field == b.field ? 0 : +1);});
	if(items.length > 0)
		ListView.create(popup,items,this.listViewTemplate);
	else
		createTiddlyElement(popup,"div",null,null,this.emptyText);
};

//--
//-- Tiddler() object
//--

function Tiddler(title)
{
	this.title = title;
	this.text = "";
	this.creator = null;
	this.modifier = null;
	this.created = new Date();
	this.modified = this.created;
	this.links = [];
	this.linksUpdated = false;
	this.tags = [];
	this.fields = {};
	return this;
}

Tiddler.prototype.getLinks = function()
{
	if(this.linksUpdated==false)
		this.changed();
	return this.links;
};

// Returns the fields that are inherited in string field:"value" field2:"value2" format
Tiddler.prototype.getInheritedFields = function()
{
	var f = {};
	var i;
	for(i in this.fields) {
		if(i=="server.host" || i=="server.workspace" || i=="wikiformat"|| i=="server.type") {
			f[i] = this.fields[i];
		}
	}
	return String.encodeHashMap(f);
};

// Increment the changeCount of a tiddler
Tiddler.prototype.incChangeCount = function()
{
	var c = this.fields['changecount'];
	c = c ? parseInt(c,10) : 0;
	this.fields['changecount'] = String(c+1);
};

// Clear the changeCount of a tiddler
Tiddler.prototype.clearChangeCount = function()
{
	if(this.fields['changecount']) {
		delete this.fields['changecount'];
	}
};

Tiddler.prototype.doNotSave = function()
{
	return this.fields['doNotSave'];
};

// Returns true if the tiddler has been updated since the tiddler was created or downloaded
Tiddler.prototype.isTouched = function()
{
	var changecount = this.fields.changecount || 0;
	return changecount > 0;
};

// Change the text and other attributes of a tiddler
Tiddler.prototype.set = function(title,text,modifier,modified,tags,created,fields,creator)
{
	this.assign(title,text,modifier,modified,tags,created,fields,creator);
	this.changed();
	return this;
};

// Change the text and other attributes of a tiddler without triggered a tiddler.changed() call
Tiddler.prototype.assign = function(title,text,modifier,modified,tags,created,fields,creator)
{
	if(title != undefined)
		this.title = title;
	if(text != undefined)
		this.text = text;
	if(modifier != undefined)
		this.modifier = modifier;
	if(modified != undefined)
		this.modified = modified;
	if(creator != undefined)
		this.creator = creator;
	if(created != undefined)
		this.created = created;
	if(fields != undefined)
		this.fields = fields;
	if(tags != undefined)
		this.tags = (typeof tags == "string") ? tags.readBracketedList() : tags;
	else if(this.tags == undefined)
		this.tags = [];
	return this;
};

// Get the tags for a tiddler as a string (space delimited, using [[brackets]] for tags containing spaces)
Tiddler.prototype.getTags = function()
{
	return String.encodeTiddlyLinkList(this.tags);
};

// Test if a tiddler carries a tag
Tiddler.prototype.isTagged = function(tag)
{
	return this.tags.indexOf(tag) != -1;
};

// Static method to convert "\n" to newlines, "\s" to "\"
Tiddler.unescapeLineBreaks = function(text)
{
	return text ? text.unescapeLineBreaks() : "";
};

// Convert newlines to "\n", "\" to "\s"
Tiddler.prototype.escapeLineBreaks = function()
{
	return this.text.escapeLineBreaks();
};

// Updates the secondary information (like links[] array) after a change to a tiddler
Tiddler.prototype.changed = function()
{
	this.links = [];
	var text = this.text;
	// remove 'quoted' text before scanning tiddler source
	text = text.replace(/\/%((?:.|\n)*?)%\//g,"").
		replace(/\{{3}((?:.|\n)*?)\}{3}/g,"").
		replace(/"""((?:.|\n)*?)"""/g,"").
		replace(/<nowiki\>((?:.|\n)*?)<\/nowiki\>/g,"").
		replace(/<html\>((?:.|\n)*?)<\/html\>/g,"").
		replace(/<script((?:.|\n)*?)<\/script\>/g,"");
	var t = this.autoLinkWikiWords() ? 0 : 1;
	var tiddlerLinkRegExp = t==0 ? config.textPrimitives.tiddlerAnyLinkRegExp : config.textPrimitives.tiddlerForcedLinkRegExp;
	tiddlerLinkRegExp.lastIndex = 0;
	var formatMatch = tiddlerLinkRegExp.exec(text);
	while(formatMatch) {
		var lastIndex = tiddlerLinkRegExp.lastIndex;
		if(t==0 && formatMatch[1] && formatMatch[1] != this.title) {
			// wikiWordLink
			if(formatMatch.index > 0) {
				var preRegExp = new RegExp(config.textPrimitives.unWikiLink+"|"+config.textPrimitives.anyLetter,"mg");
				preRegExp.lastIndex = formatMatch.index-1;
				var preMatch = preRegExp.exec(text);
				if(preMatch.index != formatMatch.index-1)
					this.links.pushUnique(formatMatch[1]);
			} else {
				this.links.pushUnique(formatMatch[1]);
			}
		}
		else if(formatMatch[2-t] && !config.formatterHelpers.isExternalLink(formatMatch[3-t])) // titledBrackettedLink
			this.links.pushUnique(formatMatch[3-t]);
		else if(formatMatch[4-t] && formatMatch[4-t] != this.title) // brackettedLink
			this.links.pushUnique(formatMatch[4-t]);
		tiddlerLinkRegExp.lastIndex = lastIndex;
		formatMatch = tiddlerLinkRegExp.exec(text);
	}
	this.linksUpdated = true;
};

Tiddler.prototype.getSubtitle = function()
{
	var modifier = this.modifier;
	if(!modifier)
		modifier = config.messages.subtitleUnknown || "";
	var modified = this.modified;
	if(modified)
		modified = modified.toLocaleString();
	else
		modified = config.messages.subtitleUnknown || "";
	var f = config.messages.tiddlerLinkTooltip || "%0 - %1, %2";
	return f.format([this.title,modifier,modified]);
};

Tiddler.prototype.isReadOnly = function()
{
	return readOnly;
};

Tiddler.prototype.autoLinkWikiWords = function()
{
	return !(this.isTagged("systemConfig") || this.isTagged("excludeMissing"));
};

Tiddler.prototype.getServerType = function()
{
	var serverType = null;
	if(this.fields['server.type'])
		serverType = this.fields['server.type'];
	if(!serverType)
		serverType = this.fields['wikiformat'];
	if(serverType && !config.adaptors[serverType])
		serverType = null;
	return serverType;
};

Tiddler.prototype.getAdaptor = function()
{
	var serverType = this.getServerType();
	return serverType ? new config.adaptors[serverType]() : null;
};

//--
//-- TiddlyWiki instance contains TiddlerS
//--

function TiddlyWiki(params)
{
	var tiddlers = {}; // Hashmap by name of tiddlers
	if(params && params.config) {
		this.config = config;
	}
	this.tiddlersUpdated = false;
	this.namedNotifications = []; // Array of {name:,notify:} of notification functions
	this.notificationLevel = 0;
	this.slices = {}; // map tiddlerName->(map sliceName->sliceValue). Lazy.
	this.clear = function() {
		tiddlers = {};
		this.setDirty(false);
	};
	this.fetchTiddler = function(title) {
		var t = tiddlers[title];
		return t instanceof Tiddler ? t : null;
	};
	this.deleteTiddler = function(title) {
		delete this.slices[title];
		delete tiddlers[title];
	};
	this.addTiddler = function(tiddler) {
		delete this.slices[tiddler.title];
		tiddlers[tiddler.title] = tiddler;
	};
	this.forEachTiddler = function(callback) {
		var t;
		for(t in tiddlers) {
			var tiddler = tiddlers[t];
			if(tiddler instanceof Tiddler)
				callback.call(this,t,tiddler);
		}
	};
}

TiddlyWiki.prototype.setDirty = function(dirty)
{
	this.dirty = dirty;
};

TiddlyWiki.prototype.isDirty = function()
{
	return this.dirty;
};

TiddlyWiki.prototype.tiddlerExists = function(title)
{
	var t = this.fetchTiddler(title);
	return t != undefined;
};

TiddlyWiki.prototype.isShadowTiddler = function(title)
{
	return config.shadowTiddlers[title] === undefined ? false : true;
};

TiddlyWiki.prototype.isAvailable = function(title) {
	if (!title)
		return false;
	var s = title ? title.indexOf(config.textPrimitives.sectionSeparator) : -1;
	if(s!=-1)
		title = title.substr(0,s);
	return this.tiddlerExists(title) || this.isShadowTiddler(title);
};

TiddlyWiki.prototype.createTiddler = function(title)
{
	var tiddler = this.fetchTiddler(title);
	if(!tiddler) {
		tiddler = new Tiddler(title);
		this.addTiddler(tiddler);
		this.setDirty(true);
	}
	return tiddler;
};

TiddlyWiki.prototype.getTiddler = function(title)
{
	var t = this.fetchTiddler(title);
	if(t != undefined)
		return t;
	else
		return null;
};

TiddlyWiki.prototype.getShadowTiddlerText = function(title)
{
	if(typeof config.shadowTiddlers[title] == "string")
		return config.shadowTiddlers[title];
	else
		return "";
};

// Retrieve tiddler contents
TiddlyWiki.prototype.getTiddlerText = function(title,defaultText)
{
	if(!title)
		return defaultText;
	var pos = title.indexOf(config.textPrimitives.sectionSeparator);
	var section = null;
	if(pos != -1) {
		section = title.substr(pos + config.textPrimitives.sectionSeparator.length);
		title = title.substr(0,pos);
	}
	pos = title.indexOf(config.textPrimitives.sliceSeparator);
	if(pos != -1) {
		var slice = this.getTiddlerSlice(title.substr(0,pos),title.substr(pos + config.textPrimitives.sliceSeparator.length));
		if(slice)
			return slice;
	}
	var tiddler = this.fetchTiddler(title);
	var text = tiddler ? tiddler.text : null;
	if(!tiddler && this.isShadowTiddler(title)) {
		text = this.getShadowTiddlerText(title);
	}
	if(text) {
		if(!section)
			return text;
		var re = new RegExp("(^!{1,6}[ \t]*" + section.escapeRegExp() + "[ \t]*\n)","mg");
		re.lastIndex = 0;
		var match = re.exec(text);
		if(match) {
			var t = text.substr(match.index+match[1].length);
			var re2 = /^!/mg;
			re2.lastIndex = 0;
			match = re2.exec(t); //# search for the next heading
			if(match)
				t = t.substr(0,match.index-1);//# don't include final \n
			return t;
		}
		return defaultText;
	}
	if(defaultText != undefined)
		return defaultText;
	return null;
};

TiddlyWiki.prototype.getRecursiveTiddlerText = function(title,defaultText,depth)
{
	var bracketRegExp = new RegExp("(?:\\[\\[([^\\]]+)\\]\\])","mg");
	var text = this.getTiddlerText(title,null);
	if(text == null)
		return defaultText;
	var textOut = [];
	var match,lastPos = 0;
	do {
		match = bracketRegExp.exec(text);
		if(match) {
			textOut.push(text.substr(lastPos,match.index-lastPos));
			if(match[1]) {
				if(depth <= 0)
					textOut.push(match[1]);
				else
					textOut.push(this.getRecursiveTiddlerText(match[1],"",depth-1));
			}
			lastPos = match.index + match[0].length;
		} else {
			textOut.push(text.substr(lastPos));
		}
	} while(match);
	return textOut.join("");
};

//TiddlyWiki.prototype.slicesRE = /(?:^([\'\/]{0,2})~?([\.\w]+)\:\1[\t\x20]*([^\n]+)[\t\x20]*$)|(?:^\|([\'\/]{0,2})~?([\.\w]+)\:?\4\|[\t\x20]*([^\n]+)[\t\x20]*\|$)/gm;
TiddlyWiki.prototype.slicesRE = /(?:^([\'\/]{0,2})~?([\.\w]+)\:\1[\t\x20]*([^\n]*)[\t\x20]*$)|(?:^\|([\'\/]{0,2})~?([\.\w]+)\:?\4\|[\t\x20]*([^\|\n]*)[\t\x20]*\|$)/gm;
// @internal
TiddlyWiki.prototype.calcAllSlices = function(title)
{
	var slices = {};
	var text = this.getTiddlerText(title,"");
	this.slicesRE.lastIndex = 0;
	var m = this.slicesRE.exec(text);
	while(m) {
		if(m[2])
			slices[m[2]] = m[3];
		else
			slices[m[5]] = m[6];
		m = this.slicesRE.exec(text);
	}
	return slices;
};

// Returns the slice of text of the given name
TiddlyWiki.prototype.getTiddlerSlice = function(title,sliceName)
{
	var slices = this.slices[title];
	if(!slices) {
		slices = this.calcAllSlices(title);
		this.slices[title] = slices;
	}
	return slices[sliceName];
};

// Build an hashmap of the specified named slices of a tiddler
TiddlyWiki.prototype.getTiddlerSlices = function(title,sliceNames)
{
	var t,r = {};
	for(t=0; t<sliceNames.length; t++) {
		var slice = this.getTiddlerSlice(title,sliceNames[t]);
		if(slice)
			r[sliceNames[t]] = slice;
	}
	return r;
};

TiddlyWiki.prototype.suspendNotifications = function()
{
	this.notificationLevel--;
};

TiddlyWiki.prototype.resumeNotifications = function()
{
	this.notificationLevel++;
};

// Invoke the notification handlers for a particular tiddler
TiddlyWiki.prototype.notify = function(title,doBlanket)
{
	if(!this.notificationLevel) {
	    var t;
		for(t=0; t<this.namedNotifications.length; t++) {
			var n = this.namedNotifications[t];
			if((n.name == null && doBlanket) || (n.name == title))
				n.notify(title);
		}
	}
};

// Invoke the notification handlers for all tiddlers
TiddlyWiki.prototype.notifyAll = function()
{
	if(!this.notificationLevel) {
	    var t;
		for(t=0; t<this.namedNotifications.length; t++) {
			var n = this.namedNotifications[t];
			if(n.name)
				n.notify(n.name);
		}
	}
};

// Add a notification handler to a tiddler
TiddlyWiki.prototype.addNotification = function(title,fn)
{
	var i;
	for(i=0; i<this.namedNotifications.length; i++) {
		if((this.namedNotifications[i].name == title) && (this.namedNotifications[i].notify == fn))
			return this;
	}
	this.namedNotifications.push({name: title, notify: fn});
	return this;
};

TiddlyWiki.prototype.removeTiddler = function(title)
{
	var tiddler = this.fetchTiddler(title);
	if(tiddler) {
		this.deleteTiddler(title);
		this.notify(title,true);
		this.setDirty(true);
	}
};

// Reset the sync status of a freshly synced tiddler
TiddlyWiki.prototype.resetTiddler = function(title)
{
	var tiddler = this.fetchTiddler(title);
	if(tiddler) {
		tiddler.clearChangeCount();
		this.notify(title,true);
		this.setDirty(true);
	}
};

TiddlyWiki.prototype.setTiddlerTag = function(title,status,tag)
{
	var tiddler = this.fetchTiddler(title);
	if(tiddler) {
		var t = tiddler.tags.indexOf(tag);
		if(t != -1)
			tiddler.tags.splice(t,1);
		if(status)
			tiddler.tags.push(tag);
		tiddler.changed();
		tiddler.incChangeCount();
		this.notify(title,true);
		this.setDirty(true);
	}
};

TiddlyWiki.prototype.addTiddlerFields = function(title,fields)
{
	var tiddler = this.fetchTiddler(title);
	if(!tiddler)
		return;
	merge(tiddler.fields,fields);
	tiddler.changed();
	tiddler.incChangeCount();
	this.notify(title,true);
	this.setDirty(true);
};

// Store tiddler in TiddlyWiki instance
TiddlyWiki.prototype.saveTiddler = function(title,newTitle,newBody,modifier,modified,tags,fields,clearChangeCount,created,creator)
{
	var tiddler;
	if(title instanceof Tiddler) {
		tiddler = title;
		tiddler.fields = merge(merge({},tiddler.fields),config.defaultCustomFields,true);
		title = tiddler.title;
		newTitle = title;
	} else {
		tiddler = this.fetchTiddler(title);
		if(tiddler) {
			created = created || tiddler.created; // Preserve created date
			creator = creator || tiddler.creator;
			this.deleteTiddler(title);
		} else {
			created = created || modified;
			tiddler = new Tiddler();
		}
		fields = merge(merge({},fields),config.defaultCustomFields,true);
		tiddler.set(newTitle,newBody,modifier,modified,tags,created,fields,creator);
	}
	this.addTiddler(tiddler);
	if(clearChangeCount)
		tiddler.clearChangeCount();
	else
		tiddler.incChangeCount();
	if(title != newTitle)
		this.notify(title,true);
	this.notify(newTitle,true);
	this.setDirty(true);
	return tiddler;
};

TiddlyWiki.prototype.incChangeCount = function(title)
{
	var tiddler = this.fetchTiddler(title);
	if(tiddler)
		tiddler.incChangeCount();
};

TiddlyWiki.prototype.getLoader = function()
{
	if(!this.loader)
		this.loader = new TW21Loader();
	return this.loader;
};

TiddlyWiki.prototype.getSaver = function()
{
	if(!this.saver)
		this.saver = new TW21Saver();
	return this.saver;
};

// Return all tiddlers formatted as an HTML string
TiddlyWiki.prototype.allTiddlersAsHtml = function()
{
	return this.getSaver().externalize(store);
};

// Load contents of a TiddlyWiki from an HTML DIV
TiddlyWiki.prototype.loadFromDiv = function(src,idPrefix,noUpdate)
{
	this.idPrefix = idPrefix;
	var storeElem = (typeof src == "string") ? document.getElementById(src) : src;
	if(!storeElem)
		return;
	var tiddlers = this.getLoader().loadTiddlers(this,storeElem.childNodes);
	this.setDirty(false);
	if(!noUpdate) {
		var i;
		for(i = 0;i<tiddlers.length; i++)
			tiddlers[i].changed();
	}
	jQuery(document).trigger("loadTiddlers");
};

// Load contents of a TiddlyWiki from a string
// Returns null if there's an error
TiddlyWiki.prototype.importTiddlyWiki = function(text)
{
	var posDiv = locateStoreArea(text);
	if(!posDiv)
		return null;
	var content = "<" + "html><" + "body>" + text.substring(posDiv[0],posDiv[1] + endSaveArea.length) + "<" + "/body><" + "/html>";
	// Create the iframe
	var iframe = document.createElement("iframe");
	iframe.style.display = "none";
	document.body.appendChild(iframe);
	var doc = iframe.document;
	if(iframe.contentDocument)
		doc = iframe.contentDocument; // For NS6
	else if(iframe.contentWindow)
		doc = iframe.contentWindow.document; // For IE5.5 and IE6
	// Put the content in the iframe
	doc.open();
	doc.writeln(content);
	doc.close();
	// Load the content into a TiddlyWiki() object
	var storeArea = doc.getElementById("storeArea");
	this.loadFromDiv(storeArea,"store");
	// Get rid of the iframe
	iframe.parentNode.removeChild(iframe);
	return this;
};

TiddlyWiki.prototype.updateTiddlers = function()
{
	this.tiddlersUpdated = true;
	this.forEachTiddler(function(title,tiddler) {
		tiddler.changed();
	});
};

// Return an array of tiddlers matching a search regular expression
TiddlyWiki.prototype.search = function(searchRegExp,sortField,excludeTag,match)
{
	var candidates = this.reverseLookup("tags",excludeTag,!!match);
	var t,results = [];
	for(t=0; t<candidates.length; t++) {
		if((candidates[t].title.search(searchRegExp) != -1) || (candidates[t].text.search(searchRegExp) != -1))
			results.push(candidates[t]);
	}
	if(!sortField)
		sortField = "title";
	results.sort(function(a,b) {return a[sortField] < b[sortField] ? -1 : (a[sortField] == b[sortField] ? 0 : +1);});
	return results;
};

// Returns a list of all tags in use
//   excludeTag - if present, excludes tags that are themselves tagged with excludeTag
// Returns an array of arrays where [tag][0] is the name of the tag and [tag][1] is the number of occurances
TiddlyWiki.prototype.getTags = function(excludeTag)
{
	var results = [];
	this.forEachTiddler(function(title,tiddler) {
	    var g,c;
		for(g=0; g<tiddler.tags.length; g++) {
			var tag = tiddler.tags[g];
			var n = true;
			for(c=0; c<results.length; c++) {
				if(results[c][0] == tag) {
					n = false;
					results[c][1]++;
				}
			}
			if(n && excludeTag) {
				var t = this.fetchTiddler(tag);
				if(t && t.isTagged(excludeTag))
					n = false;
			}
			if(n)
				results.push([tag,1]);
		}
	});
	results.sort(function(a,b) {return a[0].toLowerCase() < b[0].toLowerCase() ? -1 : (a[0].toLowerCase() == b[0].toLowerCase() ? 0 : +1);});
	return results;
};

// Return an array of the tiddlers that are tagged with a given tag
TiddlyWiki.prototype.getTaggedTiddlers = function(tag,sortField)
{
	return this.reverseLookup("tags",tag,true,sortField);
};

TiddlyWiki.prototype.getValueTiddlers = function(field,value,sortField)
{
	return this.reverseLookup(field,value,true,sortField);
};

// Return an array of the tiddlers that link to a given tiddler
TiddlyWiki.prototype.getReferringTiddlers = function(title,unusedParameter,sortField)
{
	if(!this.tiddlersUpdated)
		this.updateTiddlers();
	return this.reverseLookup("links",title,true,sortField);
};

// Return an array of the tiddlers that do or do not have a specified entry in the specified storage array (ie, "links" or "tags")
// lookupMatch == true to match tiddlers, false to exclude tiddlers
TiddlyWiki.prototype.reverseLookup = function(lookupField,lookupValue,lookupMatch,sortField)
{
	var results = [];
	this.forEachTiddler(function(title,tiddler) {
		var f = !lookupMatch;
		var values;
		if(["links", "tags"].contains(lookupField)) {
			values = tiddler[lookupField];
		} else {
			var accessor = TiddlyWiki.standardFieldAccess[lookupField];
			if(accessor) {
				values = [ accessor.get(tiddler) ];
			} else {
				values = tiddler.fields[lookupField] ? [tiddler.fields[lookupField]] : [];
			}
		}
		var lookup;
		for(lookup=0; lookup<values.length; lookup++) {
			if(values[lookup] == lookupValue)
				f = lookupMatch;
		}
		if(f)
			results.push(tiddler);
	});
	if(!sortField)
		sortField = "title";
	return this.sortTiddlers(results,sortField);
};

// Return the tiddlers as a sorted array
TiddlyWiki.prototype.getTiddlers = function(field,excludeTag)
{
	var results = [];
	this.forEachTiddler(function(title,tiddler) {
		if(excludeTag == undefined || !tiddler.isTagged(excludeTag))
			results.push(tiddler);
	});
	if(field)
		results.sort(function(a,b) {return a[field] < b[field] ? -1 : (a[field] == b[field] ? 0 : +1);});
	return results;
};

// Return array of names of tiddlers that are referred to but not defined
TiddlyWiki.prototype.getMissingLinks = function()
{
	if(!this.tiddlersUpdated)
		this.updateTiddlers();
	var results = [];
	this.forEachTiddler(function (title,tiddler) {
		if(tiddler.isTagged("excludeMissing") || tiddler.isTagged("systemConfig"))
			return;
		var n;
		for(n=0; n<tiddler.links.length;n++) {
			var link = tiddler.links[n];
			if(this.getTiddlerText(link,null) == null && !this.isShadowTiddler(link) && !config.macros[link])
				results.pushUnique(link);
		}
	});
	results.sort();
	return results;
};

// Return an array of names of tiddlers that are defined but not referred to
TiddlyWiki.prototype.getOrphans = function()
{
	var results = [];
	this.forEachTiddler(function (title,tiddler) {
		if(this.getReferringTiddlers(title).length == 0 && !tiddler.isTagged("excludeLists"))
			results.push(title);
	});
	results.sort();
	return results;
};

// Return an array of names of all the shadow tiddlers
TiddlyWiki.prototype.getShadowed = function()
{
	var t,results = [];
	for(t in config.shadowTiddlers) {
		if(this.isShadowTiddler(t))
			results.push(t);
	}
	results.sort();
	return results;
};

// Return an array of tiddlers that have been touched since they were downloaded or created
TiddlyWiki.prototype.getTouched = function()
{
	var results = [];
	this.forEachTiddler(function(title,tiddler) {
		if(tiddler.isTouched())
			results.push(tiddler);
		});
	results.sort();
	return results;
};

// Resolves a Tiddler reference or tiddler title into a Tiddler object, or null if it doesn't exist
TiddlyWiki.prototype.resolveTiddler = function(tiddler)
{
	var t = (typeof tiddler == "string") ? this.getTiddler(tiddler) : tiddler;
	return t instanceof Tiddler ? t : null;
};

// Sort a list of tiddlers
TiddlyWiki.prototype.sortTiddlers = function(tiddlers,field)
{
	var asc = +1;
	switch(field.substr(0,1)) {
	case "-":
		asc = -1;
		field = field.substr(1);
		break;
	case "+":
		field = field.substr(1);
		break;
	}
	if(TiddlyWiki.standardFieldAccess[field]) {
		if(field=="title") {
			tiddlers.sort(function(a,b) {return a[field].toLowerCase() < b[field].toLowerCase() ? -asc : (a[field].toLowerCase() == b[field].toLowerCase() ? 0 : asc);});
		} else {
			tiddlers.sort(function(a,b) {return a[field] < b[field] ? -asc : (a[field] == b[field] ? 0 : asc);});
		}
	} else {
		tiddlers.sort(function(a,b) {return a.fields[field] < b.fields[field] ? -asc : (a.fields[field] == b.fields[field] ? 0 : +asc);});
	}
	return tiddlers;
};

//--
//-- Filter a list of tiddlers
//--

config.filters = {
	tiddler: function(results,match) {
		var title = match[1]||match[4];
		var tiddler = this.fetchTiddler(title);
		if(tiddler) {
			results.pushUnique(tiddler);
		} else if(this.isShadowTiddler(title)) {
			tiddler = new Tiddler();
			tiddler.set(title,this.getTiddlerText(title));
			results.pushUnique(tiddler);
		} else {
			results.pushUnique(new Tiddler(title));
		}
		return results;
	},
	tag: function(results,match) {
		var m,matched = this.getTaggedTiddlers(match[3]);
		for(m=0; m<matched.length; m++) {
			results.pushUnique(matched[m]);
		}
		return results;
	},
	sort: function(results,match) {
		return this.sortTiddlers(results,match[3]);
	},
	limit: function(results,match) {
		return results.slice(0,parseInt(match[3],10));
	},
	field: function(results,match) {
		var m,matched = this.getValueTiddlers(match[2],match[3]);
		for (m = 0; m < matched.length; m++) {
			results.pushUnique(matched[m]);
		}
		return results;
	}
};

// Filter a list of tiddlers
TiddlyWiki.prototype.filterTiddlers = function(filter)
{
	var re = /([^\s\[\]]+)|(?:\[([ \w\.\-]+)\[([^\]]+)\]\])|(?:\[\[([^\]]+)\]\])/mg;

	var results = [];
	if(filter) {
		var match = re.exec(filter);
		while(match) {
			var handler = (match[1]||match[4])?'tiddler':config.filters[match[2]]?match[2]:'field';
			results = config.filters[handler].call(this,results,match);
			match = re.exec(filter);
		}
	}
	return results;
};
// Returns true if path is a valid field name (path),
// i.e. a sequence of identifiers, separated by "."
TiddlyWiki.isValidFieldName = function(name)
{
	var match = /[a-zA-Z_]\w*(\.[a-zA-Z_]\w*)*/.exec(name);
	return match && (match[0] == name);
};

// Throws an exception when name is not a valid field name.
TiddlyWiki.checkFieldName = function(name)
{
	if(!TiddlyWiki.isValidFieldName(name))
		throw config.messages.invalidFieldName.format([name]);
};

function StringFieldAccess(n,readOnly)
{
	this.set = readOnly ?
			function(t,v) {if(v != t[n]) throw config.messages.fieldCannotBeChanged.format([n]);} :
			function(t,v) {if(v != t[n]) {t[n] = v; return true;}};
	this.get = function(t) {return t[n];};
}

function DateFieldAccess(n)
{
	this.set = function(t,v) {
		var d = v instanceof Date ? v : Date.convertFromYYYYMMDDHHMM(v);
		if(d != t[n]) {
			t[n] = d; return true;
		}
	};
	this.get = function(t) {return t[n].convertToYYYYMMDDHHMM();};
}

function LinksFieldAccess(n)
{
	this.set = function(t,v) {
		var s = (typeof v == "string") ? v.readBracketedList() : v;
		if(s.toString() != t[n].toString()) {
			t[n] = s; return true;
		}
	};
	this.get = function(t) {return String.encodeTiddlyLinkList(t[n]);};
}

TiddlyWiki.standardFieldAccess = {
	// The set functions return true when setting the data has changed the value.
	"title":    new StringFieldAccess("title",true),
	// Handle the "tiddler" field name as the title
	"tiddler":  new StringFieldAccess("title",true),
	"text":     new StringFieldAccess("text"),
	"modifier": new StringFieldAccess("modifier"),
	"modified": new DateFieldAccess("modified"),
	"creator":  new StringFieldAccess("creator"),
	"created":  new DateFieldAccess("created"),
	"tags":     new LinksFieldAccess("tags")
};

TiddlyWiki.isStandardField = function(name)
{
	return TiddlyWiki.standardFieldAccess[name] != undefined;
};

// Sets the value of the given field of the tiddler to the value.
// Setting an ExtendedField's value to null or undefined removes the field.
// Setting a namespace to undefined removes all fields of that namespace.
// The fieldName is case-insensitive.
// All values will be converted to a string value.
TiddlyWiki.prototype.setValue = function(tiddler,fieldName,value)
{
	TiddlyWiki.checkFieldName(fieldName);
	var t = this.resolveTiddler(tiddler);
	if(!t)
		return;
	fieldName = fieldName.toLowerCase();
	var isRemove = (value === undefined) || (value === null);
	var accessor = TiddlyWiki.standardFieldAccess[fieldName];
	if(accessor) {
		if(isRemove)
			// don't remove StandardFields
			return;
		var h = TiddlyWiki.standardFieldAccess[fieldName];
		if(!h.set(t,value))
			return;
	} else {
		var oldValue = t.fields[fieldName];
		if(isRemove) {
			if(oldValue !== undefined) {
				// deletes a single field
				delete t.fields[fieldName];
			} else {
				// no concrete value is defined for the fieldName
				// so we guess this is a namespace path.
				// delete all fields in a namespace
				var re = new RegExp("^"+fieldName+"\\.");
				var dirty = false;
				var n;
				for(n in t.fields) {
					if(n.match(re)) {
						delete t.fields[n];
						dirty = true;
					}
				}
				if(!dirty)
					return;
			}
		} else {
			// the "normal" set case. value is defined (not null/undefined)
			// For convenience provide a nicer conversion Date->String
			value = value instanceof Date ? value.convertToYYYYMMDDHHMMSSMMM() : String(value);
			if(oldValue == value)
				return;
			t.fields[fieldName] = value;
		}
	}
	// When we are here the tiddler/store really was changed.
	this.notify(t.title,true);
	if(!fieldName.match(/^temp\./))
		this.setDirty(true);
};

// Returns the value of the given field of the tiddler.
// The fieldName is case-insensitive.
// Will only return String values (or undefined).
TiddlyWiki.prototype.getValue = function(tiddler,fieldName)
{
	var t = this.resolveTiddler(tiddler);
	if(!t)
		return undefined;
	if(fieldName.indexOf(config.textPrimitives.sectionSeparator) === 0 || fieldName.indexOf(config.textPrimitives.sliceSeparator) === 0) {
		var sliceType = fieldName.substr(0, 2);
		var sliceName = fieldName.substring(2);
		return store.getTiddlerText("%0%1%2".format(t.title,sliceType,sliceName));
	} else {
		fieldName = fieldName.toLowerCase();
		var accessor = TiddlyWiki.standardFieldAccess[fieldName];
		if(accessor) {
			return accessor.get(t);
		}
	}
	return t.fields[fieldName];
};

// Calls the callback function for every field in the tiddler.
// When callback function returns a non-false value the iteration stops
// and that value is returned.
// The order of the fields is not defined.
// @param callback a function(tiddler,fieldName,value).
TiddlyWiki.prototype.forEachField = function(tiddler,callback,onlyExtendedFields)
{
	var t = this.resolveTiddler(tiddler);
	if(!t)
		return undefined;
	var n,result;
	for(n in t.fields) {
		result = callback(t,n,t.fields[n]);
		if(result)
			return result;
		}
	if(onlyExtendedFields)
		return undefined;
	for(n in TiddlyWiki.standardFieldAccess) {
		if(n != "tiddler") {
			// even though the "title" field can also be referenced through the name "tiddler"
			// we only visit this field once.
			result = callback(t,n,TiddlyWiki.standardFieldAccess[n].get(t));
			if(result)
				return result;
		}
	}
	return undefined;
};

//--
//-- Story functions
//--

function Story(containerId,idPrefix)
{
	this.container = containerId;
	this.idPrefix = idPrefix;
	this.highlightRegExp = null;
	this.tiddlerId = function(title) {
		title = title.replace(/_/g, "__").replace(/ /g, "_");
		var id = this.idPrefix + title;
		return id==this.container ? this.idPrefix + "_" + title : id;
	};
	this.containerId = function() {
		return this.container;
	};
}

Story.prototype.getTiddler = function(title)
{
	return document.getElementById(this.tiddlerId(title));
};

Story.prototype.getContainer = function()
{
	return document.getElementById(this.containerId());
};

Story.prototype.forEachTiddler = function(fn)
{
	var place = this.getContainer();
	if(!place)
		return;
	var e = place.firstChild;
	while(e) {
		var n = e.nextSibling;
		var title = e.getAttribute("tiddler");
		if(title) {
			fn.call(this,title,e);
		}
		e = n;
	}
};

Story.prototype.displayDefaultTiddlers = function()
{
	this.displayTiddlers(null,store.filterTiddlers(store.getTiddlerText("DefaultTiddlers")));
};

Story.prototype.displayTiddlers = function(srcElement,titles,template,animate,unused,customFields,toggle)
{
	var t;
	for(t = titles.length-1;t>=0;t--)
		this.displayTiddler(srcElement,titles[t],template,animate,unused,customFields);
};

Story.prototype.displayTiddler = function(srcElement,tiddler,template,animate,unused,customFields,toggle,animationSrc)
{
	var title = (tiddler instanceof Tiddler) ? tiddler.title : tiddler;
	var tiddlerElem = this.getTiddler(title);
	if(tiddlerElem) {
		if(toggle) {
			if(tiddlerElem.getAttribute("dirty") != "true")
				this.closeTiddler(title,true);
		} else {
			this.refreshTiddler(title,template,false,customFields);
		}
	} else {
		var place = this.getContainer();
		var before = this.positionTiddler(srcElement);
		tiddlerElem = this.createTiddler(place,before,title,template,customFields);
	}
	if(animationSrc && typeof animationSrc !== "string") {
		srcElement = animationSrc;
	}
	if(srcElement && typeof srcElement !== "string") {
		if(config.options.chkAnimate && (animate == undefined || animate == true) && anim && typeof Zoomer == "function" && typeof Scroller == "function")
			anim.startAnimating(new Zoomer(title,srcElement,tiddlerElem),new Scroller(tiddlerElem));
		else
			window.scrollTo(0,ensureVisible(tiddlerElem));
	}
	return tiddlerElem;
};

Story.prototype.positionTiddler = function(srcElement)
{
	var place = this.getContainer();
	var before = null;
	if(typeof srcElement == "string") {
		switch(srcElement) {
		case "top":
			before = place.firstChild;
			break;
		case "bottom":
			before = null;
			break;
		}
	} else {
		var after = this.findContainingTiddler(srcElement);
		if(after == null) {
			before = place.firstChild;
		} else if(after.nextSibling) {
			before = after.nextSibling;
			if(before.nodeType != 1)
				before = null;
		}
	}
	return before;
};

Story.prototype.createTiddler = function(place,before,title,template,customFields)
{
	var tiddlerElem = createTiddlyElement(null,"div",this.tiddlerId(title),"tiddler");
	tiddlerElem.setAttribute("refresh","tiddler");
	if(customFields)
		tiddlerElem.setAttribute("tiddlyFields",customFields);
	place.insertBefore(tiddlerElem,before);
	var defaultText = null;
	if(!store.tiddlerExists(title) && !store.isShadowTiddler(title))
		defaultText = this.loadMissingTiddler(title,customFields);
	this.refreshTiddler(title,template,false,customFields,defaultText);
	return tiddlerElem;
};

Story.prototype.loadMissingTiddler = function(title,fields,callback)
{
	var getTiddlerCallback = function(context)
	{
		if(context.status) {
			var t = context.tiddler;
			if(!t.created)
				t.created = new Date();
			if(!t.modified)
				t.modified = t.created;
			var dirty = store.isDirty();
			context.tiddler = store.saveTiddler(t.title,t.title,t.text,t.modifier,t.modified,t.tags,t.fields,true,t.created,t.creator);
			if(!window.allowSave())
				store.setDirty(dirty);
			autoSaveChanges();
		} else {
			story.refreshTiddler(context.title,null,true);
		}
		context.adaptor.close();
		if(callback) {
			callback(context);
		}
	};
	var tiddler = new Tiddler(title);
	tiddler.fields = typeof fields == "string" ? fields.decodeHashMap() : fields||{};
	var context = {serverType:tiddler.getServerType()};
	if(!context.serverType)
		return "";
	context.host = tiddler.fields['server.host'];
	context.workspace = tiddler.fields['server.workspace'];
	var adaptor = new config.adaptors[context.serverType]();
	adaptor.getTiddler(title,context,null,getTiddlerCallback);
	return config.messages.loadingMissingTiddler.format([title,context.serverType,context.host,context.workspace]);
};

Story.prototype.chooseTemplateForTiddler = function(title,template)
{
	if(!template)
		template = DEFAULT_VIEW_TEMPLATE;
	if(template == DEFAULT_VIEW_TEMPLATE || template == DEFAULT_EDIT_TEMPLATE)
		template = config.tiddlerTemplates[template];
	return template;
};

Story.prototype.getTemplateForTiddler = function(title,template,tiddler)
{
	return store.getRecursiveTiddlerText(template,null,10);
};

Story.prototype.refreshTiddler = function(title,template,force,customFields,defaultText)
{
	var tiddlerElem = this.getTiddler(title);
	if(tiddlerElem) {
		if(tiddlerElem.getAttribute("dirty") == "true" && !force)
			return tiddlerElem;
		template = this.chooseTemplateForTiddler(title,template);
		var currTemplate = tiddlerElem.getAttribute("template");
		if((template != currTemplate) || force) {
			var tiddler = store.getTiddler(title);
			if(!tiddler) {
				tiddler = new Tiddler();
				if(store.isShadowTiddler(title)) {
					var tags = [];
					tiddler.set(title,store.getTiddlerText(title),config.views.wikified.shadowModifier,version.date,tags,version.date);
				} else {
					var text = template=="EditTemplate" ?
								config.views.editor.defaultText.format([title]) :
								config.views.wikified.defaultText.format([title]);
					text = defaultText || text;
					var fields = customFields ? customFields.decodeHashMap() : null;
					tiddler.set(title,text,config.views.wikified.defaultModifier,version.date,[],version.date,fields);
				}
			}
			tiddlerElem.setAttribute("tags",tiddler.tags.join(" "));
			tiddlerElem.setAttribute("tiddler",title);
			tiddlerElem.setAttribute("template",template);
			tiddlerElem.onmouseover = this.onTiddlerMouseOver;
			tiddlerElem.onmouseout = this.onTiddlerMouseOut;
			tiddlerElem.ondblclick = this.onTiddlerDblClick;
			tiddlerElem[window.event?"onkeydown":"onkeypress"] = this.onTiddlerKeyPress;
			tiddlerElem.innerHTML = this.getTemplateForTiddler(title,template,tiddler);
			applyHtmlMacros(tiddlerElem,tiddler);
			if(store.getTaggedTiddlers(title).length > 0)
				jQuery(tiddlerElem).addClass("isTag");
			else
				jQuery(tiddlerElem).removeClass("isTag");
			if(store.tiddlerExists(title)) {
				jQuery(tiddlerElem).removeClass("shadow");
				jQuery(tiddlerElem).removeClass("missing");
			} else {
				jQuery(tiddlerElem).addClass(store.isShadowTiddler(title) ? "shadow" : "missing");
			}
			if(customFields)
				this.addCustomFields(tiddlerElem,customFields);
		}
	}
	return tiddlerElem;
};

Story.prototype.addCustomFields = function(place,customFields)
{
	var fields = customFields.decodeHashMap();
	var w = createTiddlyElement(place,"div",null,"customFields");
	w.style.display = "none";
	var t;
	for(t in fields) {
		var e = document.createElement("input");
		e.setAttribute("type","text");
		e.setAttribute("value",fields[t]);
		w.appendChild(e);
		e.setAttribute("edit",t);
	}
};

Story.prototype.refreshAllTiddlers = function(force)
{
	var e = this.getContainer().firstChild;
	while(e) {
		var template = e.getAttribute("template");
		if(template && e.getAttribute("dirty") != "true") {
			this.refreshTiddler(e.getAttribute("tiddler"),force ? null : template,true);
		}
		e = e.nextSibling;
	}
};

Story.prototype.onTiddlerMouseOver = function(e)
{
	jQuery(this).addClass("selected");
};

Story.prototype.onTiddlerMouseOut = function(e)
{
	jQuery(this).removeClass("selected");
};

Story.prototype.onTiddlerDblClick = function(ev)
{
	var e = ev || window.event;
	var target = resolveTarget(e);
	if(target && target.nodeName.toLowerCase() != "input" && target.nodeName.toLowerCase() != "textarea") {
		if(document.selection && document.selection.empty)
			document.selection.empty();
		config.macros.toolbar.invokeCommand(this,"defaultCommand",e);
		e.cancelBubble = true;
		if(e.stopPropagation) e.stopPropagation();
		return true;
	}
	return false;
};

Story.prototype.onTiddlerKeyPress = function(ev)
{
	var e = ev || window.event;
	clearMessage();
	var consume = false;
	var title = this.getAttribute("tiddler");
	var target = resolveTarget(e);
	switch(e.keyCode) {
	case 9: // Tab
		var ed = story.getTiddlerField(title,"text");
		if(target.tagName.toLowerCase() == "input" && ed.value==config.views.editor.defaultText.format([title])) {
			// moving from input field and editor still contains default text, so select it
			ed.focus();
			ed.select();
			consume = true;
		}
		if(config.options.chkInsertTabs && target.tagName.toLowerCase() == "textarea") {
			replaceSelection(target,String.fromCharCode(9));
			consume = true;
		}
		if(config.isOpera) {
			target.onblur = function() {
				this.focus();
				this.onblur = null;
			};
		}
		break;
	case 13: // Ctrl-Enter
	case 10: // Ctrl-Enter on IE PC
	case 77: // Ctrl-Enter is "M" on some platforms
		if(e.ctrlKey) {
			blurElement(this);
			config.macros.toolbar.invokeCommand(this,"defaultCommand",e);
			consume = true;
		}
		break;
	case 27: // Escape
		blurElement(this);
		config.macros.toolbar.invokeCommand(this,"cancelCommand",e);
		consume = true;
		break;
	}
	e.cancelBubble = consume;
	if(consume) {
		if(e.stopPropagation) e.stopPropagation(); // Stop Propagation
		e.returnValue = true; // Cancel The Event in IE
		if(e.preventDefault ) e.preventDefault(); // Cancel The Event in Moz
	}
	return !consume;
};

Story.prototype.getTiddlerField = function(title,field)
{
	var tiddlerElem = this.getTiddler(title);
	var e = null;
	if(tiddlerElem) {
		var t,children = tiddlerElem.getElementsByTagName("*");
		for(t=0; t<children.length; t++) {
			var c = children[t];
			if(c.tagName.toLowerCase() == "input" || c.tagName.toLowerCase() == "textarea") {
				if(!e)
					e = c;
				if(c.getAttribute("edit") == field)
					e = c;
			}
		}
	}
	return e;
};

Story.prototype.focusTiddler = function(title,field)
{
	var e = this.getTiddlerField(title,field);
	if(e) {
		e.focus();
		e.select();
	}
};

Story.prototype.blurTiddler = function(title)
{
	var tiddlerElem = this.getTiddler(title);
	if(tiddlerElem && tiddlerElem.focus && tiddlerElem.blur) {
		tiddlerElem.focus();
		tiddlerElem.blur();
	}
};

Story.prototype.setTiddlerField = function(title,tag,mode,field)
{
	var c = this.getTiddlerField(title,field);
	var tags = c.value.readBracketedList();
	tags.setItem(tag,mode);
	c.value = String.encodeTiddlyLinkList(tags);
};

Story.prototype.setTiddlerTag = function(title,tag,mode)
{
	this.setTiddlerField(title,tag,mode,"tags");
};

Story.prototype.closeTiddler = function(title,animate,unused)
{
	var tiddlerElem = this.getTiddler(title);
	if(tiddlerElem) {
		clearMessage();
		this.scrubTiddler(tiddlerElem);
		if(config.options.chkAnimate && animate && anim && typeof Slider == "function")
			anim.startAnimating(new Slider(tiddlerElem,false,null,"all"));
		else {
			jQuery(tiddlerElem).remove();
		}
	}
};

Story.prototype.scrubTiddler = function(tiddlerElem)
{
	tiddlerElem.id = null;
};

Story.prototype.setDirty = function(title,dirty)
{
	var tiddlerElem = this.getTiddler(title);
	if(tiddlerElem)
		tiddlerElem.setAttribute("dirty",dirty ? "true" : "false");
};

Story.prototype.isDirty = function(title)
{
	var tiddlerElem = this.getTiddler(title);
	if(tiddlerElem)
		return tiddlerElem.getAttribute("dirty") == "true";
	return null;
};

Story.prototype.areAnyDirty = function()
{
	var r = false;
	this.forEachTiddler(function(title,element) {
		if(this.isDirty(title))
			r = true;
	});
	return r;
};

Story.prototype.closeAllTiddlers = function(exclude)
{
	clearMessage();
	this.forEachTiddler(function(title,element) {
		if((title != exclude) && element.getAttribute("dirty") != "true")
			this.closeTiddler(title);
	});
	window.scrollTo(0,ensureVisible(this.container));
};

Story.prototype.isEmpty = function()
{
	var place = this.getContainer();
	return place && place.firstChild == null;
};

Story.prototype.search = function(text,useCaseSensitive,useRegExp)
{
	this.closeAllTiddlers();
	highlightHack = new RegExp(useRegExp ? text : text.escapeRegExp(),useCaseSensitive ? "mg" : "img");
	var matches = store.search(highlightHack,"title","excludeSearch");
	this.displayTiddlers(null,matches);
	highlightHack = null;
	var q = useRegExp ? "/" : "'";
	if(matches.length > 0)
		displayMessage(config.macros.search.successMsg.format([matches.length.toString(),q + text + q]));
	else
		displayMessage(config.macros.search.failureMsg.format([q + text + q]));
};

Story.prototype.findContainingTiddler = function(e)
{
	while(e && !jQuery(e).hasClass("tiddler")) {
		e = jQuery(e).hasClass("popup") && Popup.stack[0] ? Popup.stack[0].root : e.parentNode;
	}
	return e;
};

Story.prototype.gatherSaveFields = function(e,fields)
{
	if(e && e.getAttribute) {
		var f = e.getAttribute("edit");
		if(f)
			fields[f] = e.value.replace(/\r/mg,"");
		if(e.hasChildNodes()) {
			var t,c = e.childNodes;
			for(t=0; t<c.length; t++)
				this.gatherSaveFields(c[t],fields);
		}
	}
};

Story.prototype.hasChanges = function(title)
{
	var e = this.getTiddler(title);
	if(e) {
		var fields = {};
		this.gatherSaveFields(e,fields);
		if(store.fetchTiddler(title)) {
		    var n;
			for(n in fields) {
				if(store.getValue(title,n) != fields[n]) //# tiddler changed
					return true;
			}
		} else {
			if(store.isShadowTiddler(title) && store.getShadowTiddlerText(title) == fields.text) { //# not checking for title or tags
				return false;
			} else { //# changed shadow or new tiddler
				return true;
			}
		}
	}
	return false;
};

Story.prototype.saveTiddler = function(title,minorUpdate)
{
	var tiddlerElem = this.getTiddler(title);
	if(tiddlerElem) {
		var fields = {};
		this.gatherSaveFields(tiddlerElem,fields);
		var newTitle = fields.title || title;
		if(!store.tiddlerExists(newTitle)) {
			newTitle = newTitle.trim();
			var creator = config.options.txtUserName;
		}
		if(store.tiddlerExists(newTitle) && newTitle != title) {
			if(!confirm(config.messages.overwriteWarning.format([newTitle.toString()])))
				return null;
				title = newTitle;
		}
		if(newTitle != title)
			this.closeTiddler(newTitle,false);
		tiddlerElem.id = this.tiddlerId(newTitle);
		tiddlerElem.setAttribute("tiddler",newTitle);
		tiddlerElem.setAttribute("template",DEFAULT_VIEW_TEMPLATE);
		tiddlerElem.setAttribute("dirty","false");
		if(config.options.chkForceMinorUpdate)
			minorUpdate = !minorUpdate;
		if(!store.tiddlerExists(newTitle))
			minorUpdate = false;
		var newDate = new Date();
		if(store.tiddlerExists(title)) {
			var t = store.fetchTiddler(title);
			var extendedFields = t.fields;
			creator = t.creator;
		} else {
			extendedFields = merge({},config.defaultCustomFields);
		}
		var n;
		for(n in fields) {
			if(!TiddlyWiki.isStandardField(n))
				extendedFields[n] = fields[n];
		}
		var tiddler = store.saveTiddler(title,newTitle,fields.text,minorUpdate ? undefined : config.options.txtUserName,minorUpdate ? undefined : newDate,fields.tags,extendedFields,null,null,creator);
		autoSaveChanges(null,[tiddler]);
		return newTitle;
	}
	return null;
};

Story.prototype.permaView = function()
{
	var links = [];
	this.forEachTiddler(function(title,element) {
		links.push(String.encodeTiddlyLink(title));
	});
	var t = encodeURIComponent(links.join(" "));
	if(t == "")
		t = "#";
	if(window.location.hash != t)
		window.location.hash = t;
};

Story.prototype.switchTheme = function(theme)
{
	if(safeMode)
		return;

	var getSlice = function(theme,slice) {
		var r;
		if(readOnly)
			r = store.getTiddlerSlice(theme,slice+"ReadOnly") || store.getTiddlerSlice(theme,"Web"+slice);
		r = r || store.getTiddlerSlice(theme,slice);
		if(r && r.indexOf(config.textPrimitives.sectionSeparator)==0)
			r = theme + r;
		return store.isAvailable(r) ? r : slice;
	};

	var replaceNotification = function(i,name,theme,slice) {
		var newName = getSlice(theme,slice);
		if(name!=newName && store.namedNotifications[i].name==name) {
			store.namedNotifications[i].name = newName;
			return newName;
		}
		return name;
	};

	var pt = config.refresherData.pageTemplate;
	var vi = DEFAULT_VIEW_TEMPLATE;
	var vt = config.tiddlerTemplates[vi];
	var ei = DEFAULT_EDIT_TEMPLATE;
	var et = config.tiddlerTemplates[ei];

	var i;
	for(i=0; i<config.notifyTiddlers.length; i++) {
		var name = config.notifyTiddlers[i].name;
		switch(name) {
		case "PageTemplate":
			config.refresherData.pageTemplate = replaceNotification(i,config.refresherData.pageTemplate,theme,name);
			break;
		case "StyleSheet":
			removeStyleSheet(config.refresherData.styleSheet);
			config.refresherData.styleSheet = replaceNotification(i,config.refresherData.styleSheet,theme,name);
			break;
		case "ColorPalette":
			config.refresherData.colorPalette = replaceNotification(i,config.refresherData.colorPalette,theme,name);
			break;
		default:
			break;
		}
	}
	config.tiddlerTemplates[vi] = getSlice(theme,"ViewTemplate");
	config.tiddlerTemplates[ei] = getSlice(theme,"EditTemplate");
	if(!startingUp) {
		if(config.refresherData.pageTemplate!=pt || config.tiddlerTemplates[vi]!=vt || config.tiddlerTemplates[ei]!=et) {
			refreshAll();
			this.refreshAllTiddlers(true);
		} else {
			setStylesheet(store.getRecursiveTiddlerText(config.refresherData.styleSheet,"",10),config.refreshers.styleSheet);
		}
		config.options.txtTheme = theme;
		saveOption("txtTheme");
	}
};

//--
//-- Backstage
//--
// Backstage tasks
config.tasks.save.action = saveChanges;

var backstage = {
	area: null,
	toolbar: null,
	button: null,
	showButton: null,
	hideButton: null,
	cloak: null,
	panel: null,
	panelBody: null,
	panelFooter: null,
	currTabName: null,
	currTabElem: null,
	content: null,

	init: function() {
		var cmb = config.messages.backstage;
		this.area = document.getElementById("backstageArea");
		this.toolbar = jQuery("#backstageToolbar").empty()[0];
		this.button = jQuery("#backstageButton").empty()[0];
		this.button.style.display = "block";
		var t = cmb.open.text + " " + glyph("bentArrowLeft");
		this.showButton = createTiddlyButton(this.button,t,cmb.open.tooltip,
						function(e) {backstage.show(); return false;},null,"backstageShow");
		t = glyph("bentArrowRight") + " " + cmb.close.text;
		this.hideButton = createTiddlyButton(this.button,t,cmb.close.tooltip,
						function(e) {backstage.hide(); return false;},null,"backstageHide");
		this.cloak = document.getElementById("backstageCloak");
		this.panel = document.getElementById("backstagePanel");
		this.panelFooter = createTiddlyElement(this.panel,"div",null,"backstagePanelFooter");
		this.panelBody = createTiddlyElement(this.panel,"div",null,"backstagePanelBody");
		this.cloak.onmousedown = function(e) {backstage.switchTab(null);};
		createTiddlyText(this.toolbar,cmb.prompt);
		for(t=0; t<config.backstageTasks.length; t++) {
			var taskName = config.backstageTasks[t];
			var task = config.tasks[taskName];
			var handler = task.action ? this.onClickCommand : this.onClickTab;
			var text = task.text + (task.action ? "" : glyph("downTriangle"));
			var btn = createTiddlyButton(this.toolbar,text,task.tooltip,handler,"backstageTab");
			jQuery(btn).addClass(task.action ? "backstageAction" : "backstageTask");
			btn.setAttribute("task", taskName);
			}
		this.content = document.getElementById("contentWrapper");
		if(config.options.chkBackstage)
			this.show();
		else
			this.hide();
	},

	isVisible: function() {
		return this.area ? this.area.style.display == "block" : false;
	},

	show: function() {
		this.area.style.display = "block";
		if(anim && config.options.chkAnimate) {
			backstage.toolbar.style.left = findWindowWidth() + "px";
			var p = [{style: "left", start: findWindowWidth(), end: 0, template: "%0px"}];
			anim.startAnimating(new Morpher(backstage.toolbar,config.animDuration,p));
		} else {
			backstage.area.style.left = "0px";
		}
		jQuery(this.showButton).hide();
		jQuery(this.hideButton).show();
		config.options.chkBackstage = true;
		saveOption("chkBackstage");
		jQuery(this.content).addClass("backstageVisible");
	},

	hide: function() {
		if(this.currTabElem) {
			this.switchTab(null);
		} else {
			backstage.toolbar.style.left = "0px";
			if(anim && config.options.chkAnimate) {
				var p = [{style: "left", start: 0, end: findWindowWidth(), template: "%0px"}];
				var c = function(element,properties) {backstage.area.style.display = "none";};
				anim.startAnimating(new Morpher(backstage.toolbar,config.animDuration,p,c));
			} else {
				this.area.style.display = "none";
			}
			this.showButton.style.display = "block";
			this.hideButton.style.display = "none";
			config.options.chkBackstage = false;
			saveOption("chkBackstage");
			jQuery(this.content).removeClass("backstageVisible");
		}
	},

	onClickCommand: function(e) {
		var task = config.tasks[this.getAttribute("task")];
		if(task.action) {
			backstage.switchTab(null);
			task.action();
		}
		return false;
	},

	onClickTab: function(e) {
		backstage.switchTab(this.getAttribute("task"));
		return false;
	},

	// Switch to a given tab, or none if null is passed
	switchTab: function(tabName) {
		var tabElem = null;
		var e = this.toolbar.firstChild;
		while(e) {
			if(e.getAttribute && e.getAttribute("task") == tabName)
				tabElem = e;
			e = e.nextSibling;
		}
		if(tabName == backstage.currTabName) {
			backstage.hidePanel();
			return;
		}
		if(backstage.currTabElem) {
			jQuery(this.currTabElem).removeClass("backstageSelTab");
		}
		if(tabElem && tabName) {
			backstage.preparePanel();
			jQuery(tabElem).addClass("backstageSelTab");
			var task = config.tasks[tabName];
			wikify(task.content,backstage.panelBody,null,null);
			backstage.showPanel();
		} else if(backstage.currTabElem) {
			backstage.hidePanel();
		}
		backstage.currTabName = tabName;
		backstage.currTabElem = tabElem;
	},

	isPanelVisible: function() {
		return backstage.panel ? backstage.panel.style.display == "block" : false;
	},

	preparePanel: function() {
		backstage.cloak.style.height = findDocHeight() + "px";
		backstage.cloak.style.display = "block";
		jQuery(backstage.panelBody).empty();
		return backstage.panelBody;
	},

	showPanel: function() {
		backstage.panel.style.display = "block";
		if(anim && config.options.chkAnimate) {
			backstage.panel.style.top = (-backstage.panel.offsetHeight) + "px";
			var p = [{style: "top", start: -backstage.panel.offsetHeight, end: 0, template: "%0px"}];
			anim.startAnimating(new Morpher(backstage.panel,config.animDuration,p),new Scroller(backstage.panel,false));
		} else {
			backstage.panel.style.top = "0px";
		}
		return backstage.panelBody;
	},

	hidePanel: function() {
		if(backstage.currTabElem)
			jQuery(backstage.currTabElem).removeClass("backstageSelTab");
		backstage.currTabElem = null;
		backstage.currTabName = null;
		if(anim && config.options.chkAnimate) {
			var p = [
				{style: "top", start: 0, end: -(backstage.panel.offsetHeight), template: "%0px"},
				{style: "display", atEnd: "none"}
			];
			var c = function(element,properties) {backstage.cloak.style.display = "none";};
			anim.startAnimating(new Morpher(backstage.panel,config.animDuration,p,c));
		} else {
			jQuery([backstage.panel,backstage.cloak]).hide();
		}
	}
};

config.macros.backstage = {};

config.macros.backstage.handler = function(place,macroName,params)
{
	var backstageTask = config.tasks[params[0]];
	if(backstageTask)
		createTiddlyButton(place,backstageTask.text,backstageTask.tooltip,function(e) {backstage.switchTab(params[0]); return false;});
};

//--
//-- ImportTiddlers macro
//--

config.macros.importTiddlers.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	if(readOnly) {
		createTiddlyElement(place,"div",null,"marked",this.readOnlyWarning);
		return;
	}
	var w = new Wizard();
	w.createWizard(place,this.wizardTitle);
	this.restart(w);
};

config.macros.importTiddlers.onCancel = function(e)
{
	var wizard = new Wizard(this);
	wizard.clear();
	config.macros.importTiddlers.restart(wizard);
	return false;
};

config.macros.importTiddlers.onClose = function(e)
{
	backstage.hidePanel();
	return false;
};

config.macros.importTiddlers.restart = function(wizard)
{
	var me = config.macros.importTiddlers;
	wizard.addStep(this.step1Title,this.step1Html);
	var t,s = wizard.getElement("selTypes");
	for(t in config.adaptors) {
		var e = createTiddlyElement(s,"option",null,null,config.adaptors[t].serverLabel || t);
		e.value = t;
	}
	if(config.defaultAdaptor)
		s.value = config.defaultAdaptor;
	s = wizard.getElement("selFeeds");
	var feeds = this.getFeeds();
	for(t in feeds) {
		e = createTiddlyElement(s,"option",null,null,t);
		e.value = t;
	}
	wizard.setValue("feeds",feeds);
	s.onchange = me.onFeedChange;
	var fileInput = wizard.getElement("txtBrowse");
	fileInput.onchange = me.onBrowseChange;
	fileInput.onkeyup = me.onBrowseChange;
	wizard.setButtons([{caption: this.openLabel, tooltip: this.openPrompt, onClick: me.onOpen}]);
	wizard.formElem.action = "javascript:;";
	wizard.formElem.onsubmit = function() {
		if(!this.txtPath || this.txtPath.value.length) //# check for manually entered path in first step
			this.lastChild.firstChild.onclick();
	};
};

config.macros.importTiddlers.getFeeds = function()
{
	var feeds = {};
	var t,tagged = store.getTaggedTiddlers("systemServer","title");
	for(t=0; t<tagged.length; t++) {
		var title = tagged[t].title;
		var serverType = store.getTiddlerSlice(title,"Type");
		if(!serverType)
			serverType = "file";
		feeds[title] = {title: title,
						url: store.getTiddlerSlice(title,"URL"),
						workspace: store.getTiddlerSlice(title,"Workspace"),
						workspaceList: store.getTiddlerSlice(title,"WorkspaceList"),
						tiddlerFilter: store.getTiddlerSlice(title,"TiddlerFilter"),
						serverType: serverType,
						description: store.getTiddlerSlice(title,"Description")};
	}
	return feeds;
};

config.macros.importTiddlers.onFeedChange = function(e)
{
	var wizard = new Wizard(this);
	var selTypes = wizard.getElement("selTypes");
	var fileInput = wizard.getElement("txtPath");
	var feeds = wizard.getValue("feeds");
	var f = feeds[this.value];
	if(f) {
		selTypes.value = f.serverType;
		fileInput.value = f.url;
		wizard.setValue("feedName",f.serverType);
		wizard.setValue("feedHost",f.url);
		wizard.setValue("feedWorkspace",f.workspace);
		wizard.setValue("feedWorkspaceList",f.workspaceList);
		wizard.setValue("feedTiddlerFilter",f.tiddlerFilter);
	}
	return false;
};

config.macros.importTiddlers.onBrowseChange = function(e)
{
	var wizard = new Wizard(this);
	var file = this.value;
	file = file.replace(/^C:\\fakepath\\/i,''); // remove fakepath (chrome/opera/safari)
	if(this.files && this.files[0]) {
		try {
			netscape.security.PrivilegeManager.enablePrivilege("UniversalFileRead");
			file = this.files[0].fileName; // REQUIRES PRIVILEGES.. NULL otherwise
		} catch (ex) {
			// non-priv fallback: combine filename with path to current document
			var path=getLocalPath(document.location.href);
			var slashpos=path.lastIndexOf('/'); if (slashpos==-1) slashpos=path.lastIndexOf('\\'); 
			if (slashpos!=-1) path=path.substr(0,slashpos+1); // remove filename, leave trailing 	slash
			file=path+file;
		}
	}
	var fileInput = wizard.getElement("txtPath");
	fileInput.value = config.macros.importTiddlers.getURLFromLocalPath(file);
	var serverType = wizard.getElement("selTypes");
	serverType.value = "file";
	return true;
};

config.macros.importTiddlers.getURLFromLocalPath = function(v)
{
	if(!v || !v.length)
		return v;
	v = v.replace(/\\/g,"/"); // use "/" for cross-platform consistency
	var u;
	var t = v.split(":");
	var p = t[1] || t[0]; // remove drive letter (if any)
	if(t[1] && (t[0] == "http" || t[0] == "https" || t[0] == "file")) {
		u = v;
	} else if(p.substr(0,1)=="/") {
		u = document.location.protocol + "//" + document.location.hostname + (t[1] ? "/" : "") + v;
	} else {
		var c = document.location.href.replace(/\\/g,"/");
		var pos = c.lastIndexOf("/");
		if(pos!=-1)
			c = c.substr(0,pos); // remove filename
		u = c + "/" + p;
	}
	return u;
};

config.macros.importTiddlers.onOpen = function(e)
{
	var me = config.macros.importTiddlers;
	var wizard = new Wizard(this);
	var fileInput = wizard.getElement("txtPath");
	var url = fileInput.value;
	var serverType = wizard.getElement("selTypes").value || config.defaultAdaptor;
	var adaptor = new config.adaptors[serverType]();
	wizard.setValue("adaptor",adaptor);
	wizard.setValue("serverType",serverType);
	wizard.setValue("host",url);
	adaptor.openHost(url,null,wizard,me.onOpenHost);
	wizard.setButtons([{caption: me.cancelLabel, tooltip: me.cancelPrompt, onClick: me.onCancel}],me.statusOpenHost);
	return false;
};

config.macros.importTiddlers.onOpenHost = function(context,wizard)
{
	var me = config.macros.importTiddlers;
	var adaptor = wizard.getValue("adaptor");
	if(context.status !== true)
		displayMessage("Error in importTiddlers.onOpenHost: " + context.statusText);
	adaptor.getWorkspaceList(context,wizard,me.onGetWorkspaceList);
	wizard.setButtons([{caption: me.cancelLabel, tooltip: me.cancelPrompt, onClick: me.onCancel}],me.statusGetWorkspaceList);
};

config.macros.importTiddlers.onGetWorkspaceList = function(context,wizard)
{
	var me = config.macros.importTiddlers;
	if(context.status !== true)
		displayMessage("Error in importTiddlers.onGetWorkspaceList: " + context.statusText);
	wizard.setValue("context",context);
	var workspace = wizard.getValue("feedWorkspace");
	if(!workspace && context.workspaces.length==1)
		workspace = context.workspaces[0].title;
	if(workspace) {
		context.adaptor.openWorkspace(workspace,context,wizard,me.onOpenWorkspace);
		wizard.setValue("workspace",workspace);
		wizard.setButtons([{caption: me.cancelLabel, tooltip: me.cancelPrompt, onClick: me.onCancel}],me.statusOpenWorkspace);
		return;
	}
	wizard.addStep(me.step2Title,me.step2Html);
	var t,s = wizard.getElement("selWorkspace");
	s.onchange = me.onWorkspaceChange;
	for(t=0; t<context.workspaces.length; t++) {
		var e = createTiddlyElement(s,"option",null,null,context.workspaces[t].title);
		e.value = context.workspaces[t].title;
	}
	var workspaceList = wizard.getValue("feedWorkspaceList");
	if(workspaceList) {
		var n,list = workspaceList.parseParams("workspace",null,false,true);
		for(n=1; n<list.length; n++) {
			if(context.workspaces.findByField("title",list[n].value) == null) {
				e = createTiddlyElement(s,"option",null,null,list[n].value);
				e.value = list[n].value;
			}
		}
	}
	if(workspace) {
		t = wizard.getElement("txtWorkspace");
		t.value = workspace;
	}
	wizard.setButtons([{caption: me.openLabel, tooltip: me.openPrompt, onClick: me.onChooseWorkspace}]);
};

config.macros.importTiddlers.onWorkspaceChange = function(e)
{
	var wizard = new Wizard(this);
	var t = wizard.getElement("txtWorkspace");
	t.value = this.value;
	this.selectedIndex = 0;
	return false;
};

config.macros.importTiddlers.onChooseWorkspace = function(e)
{
	var me = config.macros.importTiddlers;
	var wizard = new Wizard(this);
	var adaptor = wizard.getValue("adaptor");
	var workspace = wizard.getElement("txtWorkspace").value;
	wizard.setValue("workspace",workspace);
	var context = wizard.getValue("context");
	adaptor.openWorkspace(workspace,context,wizard,me.onOpenWorkspace);
	wizard.setButtons([{caption: me.cancelLabel, tooltip: me.cancelPrompt, onClick: me.onCancel}],me.statusOpenWorkspace);
	return false;
};

config.macros.importTiddlers.onOpenWorkspace = function(context,wizard)
{
	var me = config.macros.importTiddlers;
	if(context.status !== true)
		displayMessage("Error in importTiddlers.onOpenWorkspace: " + context.statusText);
	var adaptor = wizard.getValue("adaptor");
	var browse=wizard.getElement("txtBrowse");
	if (browse.files) context.file=browse.files[0]; // for HTML5 FileReader
	adaptor.getTiddlerList(context,wizard,me.onGetTiddlerList,wizard.getValue("feedTiddlerFilter"));
	wizard.setButtons([{caption: me.cancelLabel, tooltip: me.cancelPrompt, onClick: me.onCancel}],me.statusGetTiddlerList);
};

config.macros.importTiddlers.onGetTiddlerList = function(context,wizard)
{
	var me = config.macros.importTiddlers;
	if(context.status !== true) {
		var error = context.statusText||me.errorGettingTiddlerList;
		if(context.host.indexOf("file://") === 0) {
			error = me.errorGettingTiddlerListFile;
		} else {
			error = context.xhr && context.xhr.status == 404 ? me.errorGettingTiddlerListHttp404 :
				me.errorGettingTiddlerListHttp;
		}
		wizard.setButtons([{caption: me.cancelLabel, tooltip: me.cancelPrompt, onClick: me.onCancel}],"");
		jQuery("span.status", wizard.footerEl).html(error); // so error message can be html
		return;
	}
	// Extract data for the listview
	var listedTiddlers = [];
	if(context.tiddlers) {
		var n;
		for(n=0; n<context.tiddlers.length; n++) {
			var tiddler = context.tiddlers[n];
			listedTiddlers.push({
				title: tiddler.title,
				modified: tiddler.modified,
				modifier: tiddler.modifier,
				text: tiddler.text ? wikifyPlainText(tiddler.text,100) : "",
				tags: tiddler.tags,
				size: tiddler.text ? tiddler.text.length : 0,
				tiddler: tiddler
			});
		}
	}
	listedTiddlers.sort(function(a,b) {return a.title < b.title ? -1 : (a.title == b.title ? 0 : +1);});
	// Display the listview
	wizard.addStep(me.step3Title,me.step3Html);
	var markList = wizard.getElement("markList");
	var listWrapper = document.createElement("div");
	markList.parentNode.insertBefore(listWrapper,markList);
	var listView = ListView.create(listWrapper,listedTiddlers,me.listViewTemplate);
	wizard.setValue("listView",listView);
	wizard.setValue("context",context);
	var txtSaveTiddler = wizard.getElement("txtSaveTiddler");
	txtSaveTiddler.value = me.generateSystemServerName(wizard);
	wizard.setButtons([
			{caption: me.cancelLabel, tooltip: me.cancelPrompt, onClick: me.onCancel},
			{caption: me.importLabel, tooltip: me.importPrompt, onClick: me.doImport}
		]);
};

config.macros.importTiddlers.generateSystemServerName = function(wizard)
{
	var serverType = wizard.getValue("serverType");
	var host = wizard.getValue("host");
	var workspace = wizard.getValue("workspace");
	var pattern = config.macros.importTiddlers[workspace ? "systemServerNamePattern" : "systemServerNamePatternNoWorkspace"];
	return pattern.format([serverType,host,workspace]);
};

config.macros.importTiddlers.saveServerTiddler = function(wizard)
{
	var me = config.macros.importTiddlers;
	var txtSaveTiddler = wizard.getElement("txtSaveTiddler").value;
	if(store.tiddlerExists(txtSaveTiddler)) {
		if(!confirm(me.confirmOverwriteSaveTiddler.format([txtSaveTiddler])))
			return;
		store.suspendNotifications();
		store.removeTiddler(txtSaveTiddler);
		store.resumeNotifications();
	}
	var serverType = wizard.getValue("serverType");
	var host = wizard.getValue("host");
	var workspace = wizard.getValue("workspace");
	var text = me.serverSaveTemplate.format([serverType,host,workspace]);
	store.saveTiddler(txtSaveTiddler,txtSaveTiddler,text,me.serverSaveModifier,new Date(),["systemServer"]);
};

config.macros.importTiddlers.doImport = function(e)
{
	var me = config.macros.importTiddlers;
	var wizard = new Wizard(this);
	if(wizard.getElement("chkSave").checked)
		me.saveServerTiddler(wizard);
	var chkSync = wizard.getElement("chkSync").checked;
	wizard.setValue("sync",chkSync);
	var listView = wizard.getValue("listView");
	var rowNames = ListView.getSelectedRows(listView);
	var adaptor = wizard.getValue("adaptor");
	var overwrite = [];
	var t;
	for(t=0; t<rowNames.length; t++) {
		if(store.tiddlerExists(rowNames[t]))
			overwrite.push(rowNames[t]);
	}
	if(overwrite.length > 0) {
		if(!confirm(me.confirmOverwriteText.format([overwrite.join(", ")])))
			return false;
	}
	wizard.addStep(me.step4Title.format([rowNames.length]),me.step4Html);
	for(t=0; t<rowNames.length; t++) {
		var link = document.createElement("div");
		createTiddlyLink(link,rowNames[t],true);
		var place = wizard.getElement("markReport");
		place.parentNode.insertBefore(link,place);
	}
	wizard.setValue("remainingImports",rowNames.length);
	wizard.setButtons([
			{caption: me.cancelLabel, tooltip: me.cancelPrompt, onClick: me.onCancel}
		],me.statusDoingImport);
	var wizardContext = wizard.getValue("context");
	var tiddlers = wizardContext ? wizardContext.tiddlers : [];
	for(t=0; t<rowNames.length; t++) {
		var context = {
			allowSynchronous:true,
			tiddler:tiddlers[tiddlers.findByField("title",rowNames[t])]
		};
		adaptor.getTiddler(rowNames[t],context,wizard,me.onGetTiddler);
	}
	return false;
};

config.macros.importTiddlers.onGetTiddler = function(context,wizard)
{
	var me = config.macros.importTiddlers;
	if(!context.status)
		displayMessage("Error in importTiddlers.onGetTiddler: " + context.statusText);
	var tiddler = context.tiddler;
	store.suspendNotifications();
	store.saveTiddler(tiddler.title, tiddler.title, tiddler.text, tiddler.modifier, tiddler.modified, tiddler.tags, tiddler.fields, true, tiddler.created);
	if(!wizard.getValue("sync")) {
		store.setValue(tiddler.title,'server',null);
	}
	store.resumeNotifications();
	if(!context.isSynchronous)
		store.notify(tiddler.title,true);
	var remainingImports = wizard.getValue("remainingImports")-1;
	wizard.setValue("remainingImports",remainingImports);
	if(remainingImports == 0) {
		if(context.isSynchronous) {
			store.notifyAll();
			refreshDisplay();
		}
		wizard.setButtons([
				{caption: me.doneLabel, tooltip: me.donePrompt, onClick: me.onClose}
			],me.statusDoneImport);
		autoSaveChanges();
	}
};

//--
//-- Upgrade macro
//--

config.macros.upgrade.handler = function(place)
{
	var w = new Wizard();
	w.createWizard(place,this.wizardTitle);
	w.addStep(this.step1Title,this.step1Html.format([this.source,this.source]));
	w.setButtons([{caption: this.upgradeLabel, tooltip: this.upgradePrompt, onClick: this.onClickUpgrade}]);
};

config.macros.upgrade.onClickUpgrade = function(e)
{
	var me = config.macros.upgrade;
	var w = new Wizard(this);
	if(!window.allowSave()) {
		alert(me.errorCantUpgrade);
		return false;
	}
	if(story.areAnyDirty() || store.isDirty()) {
		alert(me.errorNotSaved);
		return false;
	}
	var localPath = getLocalPath(document.location.toString());
	var backupPath = getBackupPath(localPath,me.backupExtension);
	w.setValue("backupPath",backupPath);
	w.setButtons([],me.statusPreparingBackup);
	var original = loadOriginal(localPath);
	w.setButtons([],me.statusSavingBackup);
	var backup = copyFile(backupPath,localPath);
	if(!backup)
		backup = saveFile(backupPath,original);
	if(!backup) {
		w.setButtons([],me.errorSavingBackup);
		alert(me.errorSavingBackup);
		return false;
	}
	w.setButtons([],me.statusLoadingCore);
	var options = {
		type:"GET",
		url:me.source,
		processData:false,
		success:function(data,textStatus,jqXHR) {
			me.onLoadCore(true,w,jqXHR.responseText,me.source,jqXHR);
		},
		error:function(jqXHR,textStatus,errorThrown) {
			me.onLoadCore(false,w,null,me.source,jqXHR);
		}
	};
	ajaxReq(options);
	return false;
};

config.macros.upgrade.onLoadCore = function(status,params,responseText,url,xhr)
{
	var me = config.macros.upgrade;
	var w = params;
	var errMsg;
	if(!status)
		errMsg = me.errorLoadingCore;
	var newVer = me.extractVersion(responseText);
	if(!newVer)
		errMsg = me.errorCoreFormat;
	if(errMsg) {
		w.setButtons([],errMsg);
		alert(errMsg);
		return;
	}
	var onStartUpgrade = function(e) {
		w.setButtons([],me.statusSavingCore);
		var localPath = getLocalPath(document.location.toString());
		saveFile(localPath,responseText);
		w.setButtons([],me.statusReloadingCore);
		var backupPath = w.getValue("backupPath");
		var newLoc = document.location.toString() + "?time=" + new Date().convertToYYYYMMDDHHMM() + "#upgrade:[[" + encodeURI(backupPath) + "]]";
		window.setTimeout(function () {window.location = newLoc;},10);
	};
	var step2 = [me.step2Html_downgrade,me.step2Html_restore,me.step2Html_upgrade][compareVersions(version,newVer) + 1];
	w.addStep(me.step2Title,step2.format([formatVersion(newVer),formatVersion(version)]));
	w.setButtons([{caption: me.startLabel, tooltip: me.startPrompt, onClick: onStartUpgrade},{caption: me.cancelLabel, tooltip: me.cancelPrompt, onClick: me.onCancel}]);
};

config.macros.upgrade.onCancel = function(e)
{
	var me = config.macros.upgrade;
	var w = new Wizard(this);
	w.addStep(me.step3Title,me.step3Html);
	w.setButtons([]);
	return false;
};

config.macros.upgrade.extractVersion = function(upgradeFile)
{
	var re = /^var version = \{title: "([^"]+)", major: (\d+), minor: (\d+), revision: (\d+)(, beta: (\d+)){0,1}, date: new Date\("([^"]+)"\)/mg;
	var m = re.exec(upgradeFile);
	return m ? {title: m[1], major: m[2], minor: m[3], revision: m[4], beta: m[6], date: new Date(m[7])} : null;
};

function upgradeFrom(path)
{
	var importStore = new TiddlyWiki();
	var tw = loadFile(path);
	if(window.netscape !== undefined)
		tw = convertUTF8ToUnicode(tw);
	importStore.importTiddlyWiki(tw);
	importStore.forEachTiddler(function(title,tiddler) {
		if(!store.getTiddler(title)) {
			store.addTiddler(tiddler);
		}
	});
	refreshDisplay();
	saveChanges(); //# To create appropriate Markup* sections
	alert(config.messages.upgradeDone.format([formatVersion()]));
	window.location = window.location.toString().substr(0,window.location.toString().lastIndexOf("?"));
}

//--
//-- Manager UI for groups of tiddlers
//--

config.macros.plugins.handler = function(place,macroName,params,wikifier,paramString)
{
	var wizard = new Wizard();
	wizard.createWizard(place,this.wizardTitle);
	wizard.addStep(this.step1Title,this.step1Html);
	var markList = wizard.getElement("markList");
	var listWrapper = document.createElement("div");
	markList.parentNode.insertBefore(listWrapper,markList);
	listWrapper.setAttribute("refresh","macro");
	listWrapper.setAttribute("macroName","plugins");
	listWrapper.setAttribute("params",paramString);
	this.refresh(listWrapper,paramString);
};

config.macros.plugins.refresh = function(listWrapper,params)
{
	var me = config.macros.plugins;
	var wizard = new Wizard(listWrapper);
	var selectedRows = [];
	ListView.forEachSelector(listWrapper,function(e,rowName) {
			if(e.checked)
				selectedRows.push(e.getAttribute("rowName"));
		});
	jQuery(listWrapper).empty();
	params = params.parseParams("anon");
	var plugins = installedPlugins.slice(0);
	var t,tiddler,p;
	var configTiddlers = store.getTaggedTiddlers("systemConfig");
	for(t=0; t<configTiddlers.length; t++) {
		tiddler = configTiddlers[t];
		if(plugins.findByField("title",tiddler.title) == null) {
			p = getPluginInfo(tiddler);
			p.executed = false;
			p.log.splice(0,0,this.skippedText);
			plugins.push(p);
		}
	}
	for(t=0; t<plugins.length; t++) {
		p = plugins[t];
		p.size = p.tiddler.text ? p.tiddler.text.length : 0;
		p.forced = p.tiddler.isTagged("systemConfigForce");
		p.disabled = p.tiddler.isTagged("systemConfigDisable");
		p.Selected = selectedRows.indexOf(plugins[t].title) != -1;
	}
	if(plugins.length == 0) {
		createTiddlyElement(listWrapper,"em",null,null,this.noPluginText);
		wizard.setButtons([]);
	} else {
		var template = readOnly ? this.listViewTemplateReadOnly : this.listViewTemplate;
		var listView = ListView.create(listWrapper,plugins,template,this.onSelectCommand);
		wizard.setValue("listView",listView);
		if(!readOnly) {
			wizard.setButtons([
				{caption: me.removeLabel, tooltip: me.removePrompt, onClick: me.doRemoveTag},
				{caption: me.deleteLabel, tooltip: me.deletePrompt, onClick: me.doDelete}
			]);
		}
	}
};

config.macros.plugins.doRemoveTag = function(e)
{
	var wizard = new Wizard(this);
	var listView = wizard.getValue("listView");
	var rowNames = ListView.getSelectedRows(listView);
	if(rowNames.length == 0) {
		alert(config.messages.nothingSelected);
	} else {
		var t;
		for(t=0; t<rowNames.length; t++) {
			store.setTiddlerTag(rowNames[t],false,"systemConfig");
		}
		autoSaveChanges();
	}
};

config.macros.plugins.doDelete = function(e)
{
	var wizard = new Wizard(this);
	var listView = wizard.getValue("listView");
	var rowNames = ListView.getSelectedRows(listView);
	if(rowNames.length == 0) {
		alert(config.messages.nothingSelected);
	} else {
		if(confirm(config.macros.plugins.confirmDeleteText.format([rowNames.join(", ")]))) {
			var t;
			for(t=0; t<rowNames.length; t++) {
				store.removeTiddler(rowNames[t]);
				story.closeTiddler(rowNames[t],true);
			}
		}
		autoSaveChanges();
	}
};

//--
//-- Message area
//--

function getMessageDiv()
{
	var msgArea = document.getElementById("messageArea");
	if(!msgArea)
		return null;
	if(!msgArea.hasChildNodes())
		createTiddlyButton(createTiddlyElement(msgArea,"div",null,"messageToolbar"),
			config.messages.messageClose.text,
			config.messages.messageClose.tooltip,
			clearMessage);
	msgArea.style.display = "block";
	return createTiddlyElement(msgArea,"div");
}

function displayMessage(text,linkText)
{
	var e = getMessageDiv();
	if(!e) {
		alert(text);
		return;
	}
	if(linkText) {
		var link = createTiddlyElement(e,"a",null,null,text);
		link.href = linkText;
		link.target = "_blank";
	} else {
		e.appendChild(document.createTextNode(text));
	}
}

function clearMessage()
{
	var msgArea = document.getElementById("messageArea");
	if(msgArea) {
		jQuery(msgArea).empty();
		msgArea.style.display = "none";
	}
	return false;
}

//--
//-- Refresh mechanism
//--

config.notifyTiddlers = [
	{name: "SystemSettings", notify: onSystemSettingsChange},
	{name: "StyleSheetLayout", notify: refreshStyles},
	{name: "StyleSheetColors", notify: refreshStyles},
	{name: "StyleSheet", notify: refreshStyles},
	{name: "StyleSheetPrint", notify: refreshStyles},
	{name: "PageTemplate", notify: refreshPageTemplate},
	{name: "SiteTitle", notify: refreshPageTitle},
	{name: "SiteSubtitle", notify: refreshPageTitle},
	{name: "WindowTitle", notify: refreshPageTitle},
	{name: "ColorPalette", notify: refreshColorPalette},
	{name: null, notify: refreshDisplay}
];

config.refreshers = {
	link: function(e,changeList)
		{
		var title = e.getAttribute("tiddlyLink");
		refreshTiddlyLink(e,title);
		return true;
		},

	tiddler: function(e,changeList)
		{
		var title = e.getAttribute("tiddler");
		var template = e.getAttribute("template");
		if(changeList && (changeList.indexOf && changeList.indexOf(title) != -1) && !story.isDirty(title))
			story.refreshTiddler(title,template,true);
		else
			refreshElements(e,changeList);
		return true;
		},

	content: function(e,changeList)
		{
		var title = e.getAttribute("tiddler");
		var force = e.getAttribute("force");
		var args = e.getAttribute("args");
		if(force != null || changeList == null || (changeList.indexOf && changeList.indexOf(title) != -1)) {
			jQuery(e).empty();
			config.macros.tiddler.transclude(e,title,args);
			return true;
		} else
			return false;
		},

	macro: function(e,changeList)
		{
		var macro = e.getAttribute("macroName");
		var params = e.getAttribute("params");
		if(macro)
			macro = config.macros[macro];
		if(macro && macro.refresh)
			macro.refresh(e,params);
		return true;
		}
};

config.refresherData = {
	styleSheet: "StyleSheet",
	defaultStyleSheet: "StyleSheet",
	pageTemplate: "PageTemplate",
	defaultPageTemplate: "PageTemplate",
	colorPalette: "ColorPalette",
	defaultColorPalette: "ColorPalette"
};

function refreshElements(root,changeList)
{
	var c,nodes = root.childNodes;
	for(c=0; c<nodes.length; c++) {
		var e = nodes[c], type = null;
		if(e.getAttribute && (e.tagName ? e.tagName != "IFRAME" : true))
			type = e.getAttribute("refresh");
		var refresher = config.refreshers[type];
		var refreshed = false;
		if(refresher != undefined)
			refreshed = refresher(e,changeList);
		if(e.hasChildNodes() && !refreshed)
			refreshElements(e,changeList);
	}
}

function applyHtmlMacros(root,tiddler)
{
	var e = root.firstChild;
	while(e) {
		var nextChild = e.nextSibling;
		if(e.getAttribute) {
			var macro = e.getAttribute("macro");
			if(macro) {
				e.removeAttribute("macro");
				var params = "";
				var p = macro.indexOf(" ");
				if(p != -1) {
					params = macro.substr(p+1);
					macro = macro.substr(0,p);
				}
				invokeMacro(e,macro,params,null,tiddler);
			}
		}
		if(e.hasChildNodes())
			applyHtmlMacros(e,tiddler);
		e = nextChild;
	}
}

function refreshPageTemplate(title)
{
	var stash = jQuery("<div/>").appendTo("body").hide()[0];
	var display = story.getContainer();
	var nodes,t;
	if(display) {
		nodes = display.childNodes;
		for(t=nodes.length-1; t>=0; t--)
			stash.appendChild(nodes[t]);
	}
	var wrapper = document.getElementById("contentWrapper");

	if(!title || !store.isAvailable(title))
		title = config.refresherData.pageTemplate;
	if(!store.isAvailable(title))
		title = config.refresherData.defaultPageTemplate; //# this one is always avaialable
	wrapper.innerHTML = store.getRecursiveTiddlerText(title,null,10);
	applyHtmlMacros(wrapper);
	refreshElements(wrapper);
	display = story.getContainer();
	jQuery(display).empty();
	if(!display)
		display = createTiddlyElement(wrapper,"div",story.containerId());
	nodes = stash.childNodes;
	for(t=nodes.length-1; t>=0; t--)
		display.appendChild(nodes[t]);
	jQuery(stash).remove();
}

function refreshDisplay(hint)
{
	if(typeof hint == "string")
		hint = [hint];
	var e = document.getElementById("contentWrapper");
	refreshElements(e,hint);
	if(backstage.isPanelVisible()) {
		e = document.getElementById("backstage");
		refreshElements(e,hint);
	}
}

function refreshPageTitle()
{
	document.title = getPageTitle();
}

function getPageTitle()
{
	return wikifyPlainText(store.getTiddlerText("WindowTitle",""),null,tiddler);
}

function refreshStyles(title,doc)
{
	setStylesheet(title == null ? "" : store.getRecursiveTiddlerText(title,"",10),title,doc || document);
}

function refreshColorPalette(title)
{
	if(!startingUp)
		refreshAll();
}

function refreshAll()
{
	refreshPageTemplate();
	refreshDisplay();
	refreshStyles("StyleSheetLayout");
	refreshStyles("StyleSheetColors");
	refreshStyles(config.refresherData.styleSheet);
	refreshStyles("StyleSheetPrint");
}

//--
//-- Option handling
//--

config.optionHandlers = {
	'txt': {
		get: function(name) {return encodeCookie(config.options[name].toString());},
		set: function(name,value) {config.options[name] = decodeCookie(value);}
	},
	'chk': {
		get: function(name) {return config.options[name] ? 'true' : 'false';},
		set: function(name,value) {config.options[name] = value == 'true';}
	}
};

function setOption(name,value)
{
	var optType = name.substr(0,3);
	if(config.optionHandlers[optType] && config.optionHandlers[optType].set)
		config.optionHandlers[optType].set(name,value);
}

// Gets the value of an option as a string. Most code should just read from config.options.* directly
function getOption(name)
{
	var optType = name.substr(0,3);
	return config.optionHandlers[optType] && config.optionHandlers[optType].get ? config.optionHandlers[optType].get(name) : null;
}

function loadOptions()
{
	if(safeMode)
		return;
	loadCookies();
	loadSystemSettings();
}
// @Deprecated; retained for backwards compatibility
var loadOptionsCookie = loadOptions;

function getCookies()
{
	var cookieList = document.cookie.split(';');
	var i,cookies = {};
	for(i=0; i<cookieList.length; i++) {
		var p = cookieList[i].indexOf('=');
		if(p != -1) {
			var name = cookieList[i].substr(0,p).trim();
			var value = cookieList[i].substr(p+1).trim();
			cookies[name] = value;
		}
	}
	return cookies;
}

function loadCookies()
{
	var i,cookies = getCookies();
	if(cookies['TiddlyWiki']) {
		cookies = cookies['TiddlyWiki'].decodeHashMap();
	}
	for(i in cookies) {
		if(config.optionsSource[i] != 'setting') {
			setOption(i,cookies[i]);
		}
	}
}

function loadSystemSettings()
{
	var key,settings = store.calcAllSlices('SystemSettings');
	config.optionsSource = {};
	for(key in settings) {
		setOption(key,settings[key]);
		config.optionsSource[key] = 'setting';
	}
}

function onSystemSettingsChange()
{
	if(!startingUp) {
		loadSystemSettings();
	}
}

function saveOption(name)
{
	if(safeMode)
		return;
	if(name.match(/[()\s]/g, '_')) {
		alert(config.messages.invalidCookie.format([name]));
		return;
	}
	saveCookie(name);
	if(config.optionsSource[name] == 'setting') {
		saveSystemSetting(name,true);
	}
}
// @Deprecated; retained for backwards compatibility
var saveOptionCookie = saveOption;

function removeCookie(name)
{
	document.cookie = name + '=; expires=Thu, 01-Jan-1970 00:00:01 UTC; path=/;';
}

function saveCookie(name)
{
	var key,cookies = {};
	for(key in config.options) {
		var value = getOption(key);
		value = value == null ? 'false' : value;
		cookies[key] = value;
	}
	document.cookie = 'TiddlyWiki=' + String.encodeHashMap(cookies) + '; expires=Fri, 1 Jan 2038 12:00:00 UTC; path=/';
	cookies = getCookies();
	var c;
	for(c in cookies) {
		var optType = c.substr(0,3);
		if(config.optionHandlers[optType])
			removeCookie(c);
	}
}

var systemSettingSave;
function commitSystemSettings(storeWasDirty)
{
	if(systemSettingSave) {
		window.clearTimeout(systemSettingSave);
	}
	systemSettingSave = window.setTimeout(function() {
		var tiddler = store.getTiddler('SystemSettings');
		autoSaveChanges(null,[tiddler]);
	}, 1000);
}

function saveSystemSetting(name,saveFile)
{
	var title = 'SystemSettings';
	var slice = store.getTiddlerSlice(title,name);
	if(readOnly || slice === getOption(name)) {
		return; //# don't save if read-only or the option hasn't changed
	}
	var slices = store.calcAllSlices(title);
	var key;
	for(key in config.optionsSource) {
		var value = getOption(key) || '';
		if(slices[key] !== value) {
			slices[key] = value;
		}
	}
	var text = [];
	for(key in slices) {
		text.push('%0: %1'.format([key,slices[key]]));
	}
	text = text.sort().join('\n');
	var storeWasDirty = store.isDirty();
	var tiddler = store.getTiddler(title);
	if(tiddler) {
		tiddler.text = text;
		tiddler = store.saveTiddler(tiddler);
	} else {
		tiddler = store.saveTiddler(title,title,text,'System',new Date(),['excludeLists'],config.defaultCustomFields);
	}
	if(saveFile) {
		commitSystemSettings(storeWasDirty);
	}
}

function encodeCookie(s)
{
	return escape(convertUnicodeToHtmlEntities(s));
}

function decodeCookie(s)
{
	s = unescape(s);
	var re = /&#[0-9]{1,5};/g;
	return s.replace(re,function($0) {return String.fromCharCode(eval($0.replace(/[&#;]/g,'')));});
}

config.macros.option.genericCreate = function(place,type,opt,className,desc)
{
	var typeInfo = config.macros.option.types[type];
	var c = document.createElement(typeInfo.elementType);
	if(typeInfo.typeValue)
		c.setAttribute('type',typeInfo.typeValue);
	c[typeInfo.eventName] = typeInfo.onChange;
	c.setAttribute('option',opt);
	c.className = className || typeInfo.className;
	if(config.optionsDesc[opt])
		c.setAttribute('title',config.optionsDesc[opt]);
	place.appendChild(c);
	if(desc != 'no')
		createTiddlyText(place,config.optionsDesc[opt] || opt);
	c[typeInfo.valueField] = config.options[opt];
	return c;
};

config.macros.option.genericOnChange = function(e)
{
	var opt = this.getAttribute('option');
	if(opt) {
		var optType = opt.substr(0,3);
		var handler = config.macros.option.types[optType];
		if(handler.elementType && handler.valueField)
			config.macros.option.propagateOption(opt,handler.valueField,this[handler.valueField],handler.elementType,this);
	}
	return true;
};

config.macros.option.types = {
	'txt': {
		elementType: 'input',
		valueField: 'value',
		eventName: 'onchange',
		className: 'txtOptionInput',
		create: config.macros.option.genericCreate,
		onChange: config.macros.option.genericOnChange
	},
	'chk': {
		elementType: 'input',
		valueField: 'checked',
		eventName: 'onclick',
		className: 'chkOptionInput',
		typeValue: 'checkbox',
		create: config.macros.option.genericCreate,
		onChange: config.macros.option.genericOnChange
	}
};

config.macros.option.propagateOption = function(opt,valueField,value,elementType,elem)
{
	config.options[opt] = value;
	saveOption(opt);
	var t,nodes = document.getElementsByTagName(elementType);
	for(t=0; t<nodes.length; t++) {
		var optNode = nodes[t].getAttribute('option');
		if(opt == optNode && nodes[t]!=elem)
			nodes[t][valueField] = value;
	}
};

config.macros.option.handler = function(place,macroName,params,wikifier,paramString)
{
	params = paramString.parseParams('anon',null,true,false,false);
	var opt = (params[1] && params[1].name == 'anon') ? params[1].value : getParam(params,'name',null);
	var className = (params[2] && params[2].name == 'anon') ? params[2].value : getParam(params,'class',null);
	var desc = getParam(params,'desc','no');
	var type = opt.substr(0,3);
	var h = config.macros.option.types[type];
	if(h && h.create)
		h.create(place,type,opt,className,desc);
};

config.macros.options.handler = function(place,macroName,params,wikifier,paramString)
{
	params = paramString.parseParams('anon',null,true,false,false);
	var showUnknown = getParam(params,'showUnknown','no');
	var wizard = new Wizard();
	wizard.createWizard(place,this.wizardTitle);
	wizard.addStep(this.step1Title,this.step1Html);
	var markList = wizard.getElement('markList');
	var chkUnknown = wizard.getElement('chkUnknown');
	chkUnknown.checked = showUnknown == 'yes';
	chkUnknown.onchange = this.onChangeUnknown;
	var listWrapper = document.createElement('div');
	markList.parentNode.insertBefore(listWrapper,markList);
	wizard.setValue('listWrapper',listWrapper);
	this.refreshOptions(listWrapper,showUnknown == 'yes');
};

config.macros.options.refreshOptions = function(listWrapper,showUnknown)
{
	var n,opts = [];
	for(n in config.options) {
		var opt = {};
		opt.option = '';
		opt.name = n;
		opt.lowlight = !config.optionsDesc[n];
		opt.description = opt.lowlight ? this.unknownDescription : config.optionsDesc[n];
		if(!opt.lowlight || showUnknown)
			opts.push(opt);
	}
	opts.sort(function(a,b) {return a.name.substr(3) < b.name.substr(3) ? -1 : (a.name.substr(3) == b.name.substr(3) ? 0 : +1);});
	ListView.create(listWrapper,opts,this.listViewTemplate);
	for(n=0; n<opts.length; n++) {
		var type = opts[n].name.substr(0,3);
		var h = config.macros.option.types[type];
		if(h && h.create) {
			h.create(opts[n].colElements['option'],type,opts[n].name,null,'no');
		}
	}
};

config.macros.options.onChangeUnknown = function(e)
{
	var wizard = new Wizard(this);
	var listWrapper = wizard.getValue('listWrapper');
	jQuery(listWrapper).empty();
	config.macros.options.refreshOptions(listWrapper,this.checked);
	return false;
};

//--
//-- Saving
//--

var saveUsingSafari = false;

var startSaveArea = '<div id="' + 'storeArea">'; // Split up into two so that indexOf() of this source doesn't find it
var startSaveAreaRE = /<((div)|(DIV)) ((id)|(ID))=["']?storeArea['"]?>/; // Used for IE6
var endSaveArea = '</d' + 'iv>';
var endSaveAreaCaps = '</D' + 'IV>';

// If there are unsaved changes, force the user to confirm before exitting
function confirmExit()
{
	hadConfirmExit = true;
	if((store && store.isDirty && store.isDirty()) || (story && story.areAnyDirty && story.areAnyDirty()))
		return config.messages.confirmExit;
}

// Give the user a chance to save changes before exitting
function checkUnsavedChanges()
{
	if(store && store.isDirty && store.isDirty() && window.hadConfirmExit === false) {
		if(confirm(config.messages.unsavedChangesWarning))
			saveChanges();
	}
}

function updateLanguageAttribute(s)
{
	if(config.locale) {
		var mRE = /(<html(?:.*?)?)(?: xml:lang\="([a-z]+)")?(?: lang\="([a-z]+)")?>/;
		var m = mRE.exec(s);
		if(m) {
			var t = m[1];
			if(m[2])
				t += ' xml:lang="' + config.locale + '"';
			if(m[3])
				t += ' lang="' + config.locale + '"';
			t += ">";
			s = s.substr(0,m.index) + t + s.substr(m.index+m[0].length);
		}
	}
	return s;
}

function updateMarkupBlock(s,blockName,tiddlerName)
{
	return s.replaceChunk(
			"<!--%0-START-->".format([blockName]),
			"<!--%0-END-->".format([blockName]),
			"\n" + convertUnicodeToFileFormat(store.getRecursiveTiddlerText(tiddlerName,"")) + "\n");
}

function updateOriginal(original,posDiv,localPath)
{
	if(!posDiv)
		posDiv = locateStoreArea(original);
	if(!posDiv) {
		alert(config.messages.invalidFileError.format([localPath]));
		return null;
	}
	var revised = original.substr(0,posDiv[0] + startSaveArea.length) + "\n" +
				convertUnicodeToFileFormat(store.allTiddlersAsHtml()) + "\n" +
				original.substr(posDiv[1]);
	var newSiteTitle = convertUnicodeToFileFormat(getPageTitle()).htmlEncode();
	revised = revised.replaceChunk("<title"+">","</title"+">"," " + newSiteTitle + " ");
	revised = updateLanguageAttribute(revised);
	revised = updateMarkupBlock(revised,"PRE-HEAD","MarkupPreHead");
	revised = updateMarkupBlock(revised,"POST-HEAD","MarkupPostHead");
	revised = updateMarkupBlock(revised,"PRE-BODY","MarkupPreBody");
	revised = updateMarkupBlock(revised,"POST-SCRIPT","MarkupPostBody");
	return revised;
}

function locateStoreArea(original)
{
	// Locate the storeArea divs
	if(!original)
		return null;
	var posOpeningDiv = original.search(startSaveAreaRE);
	var limitClosingDiv = original.indexOf("<"+"!--POST-STOREAREA--"+">");
	if(limitClosingDiv == -1)
		limitClosingDiv = original.indexOf("<"+"!--POST-BODY-START--"+">");
	var start = limitClosingDiv == -1 ? original.length : limitClosingDiv;
	var posClosingDiv = original.lastIndexOf(endSaveArea,start);
	if(posClosingDiv == -1)
		posClosingDiv = original.lastIndexOf(endSaveAreaCaps,start);
	return (posOpeningDiv != -1 && posClosingDiv != -1) ? [posOpeningDiv,posClosingDiv] : null;
}

function autoSaveChanges(onlyIfDirty,tiddlers)
{
	if(config.options.chkAutoSave)
		saveChanges(onlyIfDirty,tiddlers);
}

function loadOriginal(localPath)
{
	var content=loadFile(localPath);
	if (!content) content=window.originalHTML||recreateOriginal();
	return content;
}

function recreateOriginal()
{
	// construct doctype
	var content = "<!DOCTYPE ";
	var t=document.doctype;
	if (!t) 
		content+="html"
	else {
		content+=t.name;
		if      (t.publicId)		content+=' PUBLIC "'+t.publicId+'"';
		else if (t.systemId)		content+=' SYSTEM "'+t.systemId+'"';
	}
	content+=' "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"';
	content+='>\n';

	// append current document content
	content+=document.documentElement.outerHTML;

	content=content.replace(/<div id="saveTest">savetest<\/div>/,'<div id="saveTest"></div>');
	content=content.replace(/script><applet [^\>]*><\/applet>/g,'script>');
	content=content.replace(/><head>/,'>\n<head>');
	content=content.replace(/\n\n<\/body><\/html>$/,'</body>\n</html>\n');
	content=content.replace(/(<(meta) [^\>]*[^\/])>/g,'$1 />');
	content=content.replace(/<noscript>[^\<]*<\/noscript>/,
		function(m){return m.replace(/&lt;/g,'<').replace(/&gt;/g,'>');});
	content=content.replace(/<div id="copyright">[^\<]*<\/div>/,
		function(m){return m.replace(/\xA9/g,'&copy;');});

	return content;
}

// Save this tiddlywiki with the pending changes
function saveChanges(onlyIfDirty,tiddlers)
{
	if(onlyIfDirty && !store.isDirty())
		return;
	clearMessage();
	var t0 = new Date();
	var msg = config.messages;
	var originalPath = document.location.toString();
	if(!window.allowSave()) {
		alert(msg.notFileUrlError);
		if(store.tiddlerExists(msg.saveInstructions))
			story.displayTiddler(null,msg.saveInstructions);
		return;
	}
	var localPath = getLocalPath(originalPath);
	var original = loadOriginal(localPath);
	if(original == null) {
		alert(msg.cantSaveError);
		if(store.tiddlerExists(msg.saveInstructions))
			story.displayTiddler(null,msg.saveInstructions);
		return;
	}
	var posDiv = locateStoreArea(original);
	if(!posDiv) {
		alert(msg.invalidFileError.format([localPath]));
		return;
	}
	var co=config.options; //# abbreviation
	config.saveByDownload=false;
	config.saveByManualDownload=false;
	saveMain(localPath,original,posDiv);
	if (!config.saveByDownload && !config.saveByManualDownload) {
		if(co.chkSaveBackups)
			saveBackup(localPath,original);
		if(co.chkSaveEmptyTemplate)
			saveEmpty(localPath,original,posDiv);
		if(co.chkGenerateAnRssFeed && saveRss instanceof Function)
			saveRss(localPath);
	}
	if(co.chkDisplayInstrumentation)
		displayMessage("saveChanges " + (new Date()-t0) + " ms");
}


function saveMain(localPath,original,posDiv)
{
	var save;
	try {
		var revised = updateOriginal(original,posDiv,localPath);
		save = saveFile(localPath,revised);
	} catch (ex) {
		showException(ex);
	}
	if(save) {
		if (!config.saveByManualDownload) {
			if (config.saveByDownload) { //# set by HTML5DownloadSaveFile()
				var link = getDataURI(revised);
				var msg  = config.messages.mainDownload;
			} else {
				var link = "file://" + localPath;
				var msg  = config.messages.mainSaved;
			}
			displayMessage(msg,link);
		}
		store.setDirty(false);
	} else {
		alert(config.messages.mainFailed);
	}
}

function saveBackup(localPath,original)
{
	var backupPath = getBackupPath(localPath);
	var backup = copyFile(backupPath,localPath);
	if(!backup)
		backup = saveFile(backupPath,original);
	if(backup)
		displayMessage(config.messages.backupSaved,"file://" + backupPath);
	else
		alert(config.messages.backupFailed);
}

function saveEmpty(localPath,original,posDiv)
{
	var emptyPath,p;
	if((p = localPath.lastIndexOf("/")) != -1)
		emptyPath = localPath.substr(0,p) + "/";
	else if((p = localPath.lastIndexOf("\\")) != -1)
		emptyPath = localPath.substr(0,p) + "\\";
	else
		emptyPath = localPath + ".";
	emptyPath += "empty.html";
	var empty = original.substr(0,posDiv[0] + startSaveArea.length) + original.substr(posDiv[1]);
	var emptySave = saveFile(emptyPath,empty);
	if(emptySave)
		displayMessage(config.messages.emptySaved,"file://" + emptyPath);
	else
		alert(config.messages.emptyFailed);
}

// Translate URL to local path [Preemption]
window.getLocalPath = window.getLocalPath || function(origPath)
{
	var originalPath = convertUriToUTF8(origPath,config.options.txtFileSystemCharSet);
	// Remove any location or query part of the URL
	var argPos = originalPath.indexOf("?");
	if(argPos != -1)
		originalPath = originalPath.substr(0,argPos);
	var hashPos = originalPath.indexOf("#");
	if(hashPos != -1)
		originalPath = originalPath.substr(0,hashPos);
	// Convert file://localhost/ to file:///
	if(originalPath.indexOf("file://localhost/") == 0)
		originalPath = "file://" + originalPath.substr(16);
	// Convert to a native file format
	var localPath;
	if(originalPath.charAt(9) == ":") // pc local file
		localPath = unescape(originalPath.substr(8)).replace(new RegExp("/","g"),"\\");
	else if(originalPath.indexOf("file://///") == 0) // FireFox pc network file
		localPath = "\\\\" + unescape(originalPath.substr(10)).replace(new RegExp("/","g"),"\\");
	else if(originalPath.indexOf("file:///") == 0) // mac/unix local file
		localPath = unescape(originalPath.substr(7));
	else if(originalPath.indexOf("file:/") == 0) // mac/unix local file
		localPath = unescape(originalPath.substr(5));
	else // pc network file
		localPath = "\\\\" + unescape(originalPath.substr(7)).replace(new RegExp("/","g"),"\\");
	return localPath;
}

function getBackupPath(localPath,title,extension)
{
	var slash = "\\";
	var dirPathPos = localPath.lastIndexOf("\\");
	if(dirPathPos == -1) {
		dirPathPos = localPath.lastIndexOf("/");
		slash = "/";
	}
	var backupFolder = config.options.txtBackupFolder;
	if(!backupFolder || backupFolder == "")
		backupFolder = ".";
	var backupPath = localPath.substr(0,dirPathPos) + slash + backupFolder + localPath.substr(dirPathPos);
	backupPath = backupPath.substr(0,backupPath.lastIndexOf(".")) + ".";
	if(title)
		backupPath += title.replace(/[\\\/\*\?\":<> ]/g,"_") + ".";
	backupPath += (new Date()).convertToYYYYMMDDHHMMSSMMM() + "." + (extension || "html");
	return backupPath;
}

//--
//-- RSS Saving
//--

function saveRss(localPath)
{
	var rssPath = localPath.substr(0,localPath.lastIndexOf(".")) + ".xml";
	if(saveFile(rssPath,convertUnicodeToFileFormat(generateRss())))
		displayMessage(config.messages.rssSaved,"file://" + rssPath);
	else
		alert(config.messages.rssFailed);
}

tiddlerToRssItem = function(tiddler,uri)
{
	var s = "<title" + ">" + tiddler.title.htmlEncode() + "</title" + ">\n";
	s += "<description>" + wikifyStatic(tiddler.text,null,tiddler).htmlEncode() + "</description>\n";
	var i;
	for(i=0; i<tiddler.tags.length; i++)
		s += "<category>" + tiddler.tags[i] + "</category>\n";
	s += "<link>" + uri + "#" + encodeURIComponent(String.encodeTiddlyLink(tiddler.title)) + "</link>\n";
	s +="<pubDate>" + tiddler.modified.toGMTString() + "</pubDate>\n";
	return s;
};

function generateRss()
{
	var s = [];
	var d = new Date();
	var u = store.getTiddlerText("SiteUrl");
	// Assemble the header
	s.push("<" + "?xml version=\"1.0\"?" + ">");
	s.push("<rss version=\"2.0\">");
	s.push("<channel>");
	s.push("<title" + ">" + wikifyPlainText(store.getTiddlerText("SiteTitle",""),null,tiddler).htmlEncode() + "</title" + ">");
	if(u)
		s.push("<link>" + u.htmlEncode() + "</link>");
	s.push("<description>" + wikifyPlainText(store.getTiddlerText("SiteSubtitle",""),null,tiddler).htmlEncode() + "</description>");
	s.push("<language>" + config.locale + "</language>");
	s.push("<copyright>Copyright " + d.getFullYear() + " " + config.options.txtUserName.htmlEncode() + "</copyright>");
	s.push("<pubDate>" + d.toGMTString() + "</pubDate>");
	s.push("<lastBuildDate>" + d.toGMTString() + "</lastBuildDate>");
	s.push("<docs>http://blogs.law.harvard.edu/tech/rss</docs>");
	s.push("<generator>TiddlyWiki " + formatVersion() + "</generator>");
	// The body
	var tiddlers = store.getTiddlers("modified","excludeLists");
	var i,n = config.numRssItems > tiddlers.length ? 0 : tiddlers.length-config.numRssItems;
	for(i=tiddlers.length-1; i>=n; i--) {
		s.push("<item>\n" + tiddlerToRssItem(tiddlers[i],u) + "\n</item>");
	}
	// And footer
	s.push("</channel>");
	s.push("</rss>");
	// Save it all
	return s.join("\n");
}

//--
//-- Filesystem code
//--

// Copy a file in filesystem [Preemption]
window.copyFile = window.copyFile || function(dest,source)
{
	return config.browser.isIE ? ieCopyFile(dest,source) : false;
}


// Save a file in filesystem [Preemption]
window.saveFile = window.saveFile || function(fileUrl,content)
{
	var r = mozillaSaveFile(fileUrl,content);
	if(!r)
		r = ieSaveFile(fileUrl,content);
	if(!r)
		r = javaSaveFile(fileUrl,content);
	if(!r)
		r = HTML5DownloadSaveFile(fileUrl,content);
	if(!r)
		r = manualSaveFile(fileUrl,content);
	return r;
}

// Load a file from filesystem [Preemption]
window.loadFile = window.loadFile || function(fileUrl)
{
	var r = mozillaLoadFile(fileUrl);
	if((r == null) || (r == false))
		r = ieLoadFile(fileUrl);
	if((r == null) || (r == false))
		r = javaLoadFile(fileUrl);
	return r;
}

function ieCreatePath(path)
{
	try {
		var fso = new ActiveXObject("Scripting.FileSystemObject");
	} catch(ex) {
		return null;
	}

	var pos = path.lastIndexOf("\\");
	if(pos==-1)
		pos = path.lastIndexOf("/");
	if(pos!=-1)
		path = path.substring(0,pos+1);

	var scan = [path];
	var parent = fso.GetParentFolderName(path);
	while(parent && !fso.FolderExists(parent)) {
		scan.push(parent);
		parent = fso.GetParentFolderName(parent);
	}

	for(i=scan.length-1;i>=0;i--) {
		if(!fso.FolderExists(scan[i])) {
			fso.CreateFolder(scan[i]);
		}
	}
	return true;
}

// Returns null if it can't do it, false if there's an error, true if it saved OK
function ieSaveFile(filePath,content)
{
	ieCreatePath(filePath);
	try {
		var fso = new ActiveXObject("Scripting.FileSystemObject");
	} catch(ex) {
		return null;
	}
	var file = fso.OpenTextFile(filePath,2,-1,0);
	file.Write(content);
	file.Close();
	return true;
}

// Returns null if it can't do it, false if there's an error, or a string of the content if successful
function ieLoadFile(filePath)
{
	try {
		var fso = new ActiveXObject("Scripting.FileSystemObject");
		var file = fso.OpenTextFile(filePath,1);
		var content = file.ReadAll();
		file.Close();
	} catch(ex) {
		return null;
	}
	return content;
}

function ieCopyFile(dest,source)
{
	ieCreatePath(dest);
	try {
		var fso = new ActiveXObject("Scripting.FileSystemObject");
		fso.GetFile(source).Copy(dest);
	} catch(ex) {
		return false;
	}
	return true;
}

// Returns null if it can't do it, false if there's an error, true if it saved OK
function mozillaSaveFile(filePath,content)
{
	if(window.Components) {
		try {
			netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");
			var file = Components.classes["@mozilla.org/file/local;1"].createInstance(Components.interfaces.nsILocalFile);
			file.initWithPath(filePath);
			if(!file.exists())
				file.create(0,0x01B4);// 0x01B4 = 0664
			var out = Components.classes["@mozilla.org/network/file-output-stream;1"].createInstance(Components.interfaces.nsIFileOutputStream);
			out.init(file,0x22,0x04,null);
			out.write(content,content.length);
			out.flush();
			out.close();
			return true;
		} catch(ex) {
			return false;
		}
	}
	return null;
}

// Returns null if it can't do it, false if there's an error, or a string of the content if successful
function mozillaLoadFile(filePath)
{
	if(window.Components) {
		try {
			netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");
			var file = Components.classes["@mozilla.org/file/local;1"].createInstance(Components.interfaces.nsILocalFile);
			file.initWithPath(filePath);
			if(!file.exists())
				return null;
			var inputStream = Components.classes["@mozilla.org/network/file-input-stream;1"].createInstance(Components.interfaces.nsIFileInputStream);
			inputStream.init(file,0x01,0x04,null);
			var sInputStream = Components.classes["@mozilla.org/scriptableinputstream;1"].createInstance(Components.interfaces.nsIScriptableInputStream);
			sInputStream.init(inputStream);
			var contents = sInputStream.read(sInputStream.available());
			sInputStream.close();
			inputStream.close();
			return contents;
		} catch(ex) {
			return false;
		}
	}
	return null;
}

function javaUrlToFilename(url)
{
	var f = "//localhost";
	if(url.indexOf(f) == 0)
		return url.substring(f.length);
	var i = url.indexOf(":");
	return i > 0 ? url.substring(i-1) : url;
}

/*
 *
 * in between when the applet has been started
 * and the user has given permission to run the applet
 * we get an applet object, but it doesn't have the methods
 * we expect yet.
 *
 */
var LOG_TIDDLYSAVER = true;
function logTiddlySaverException(msg, ex) {
	var applet = document.applets['TiddlySaver'];
	console.log(msg + ": " + ex);
	if (LOG_TIDDLYSAVER && applet) {
		try {
			console.log(msg + ": " + applet.getLastErrorMsg());
			console.log(msg + ": " + applet.getLastErrorStackTrace());
		} catch (ex) {}
	}
}

function javaDebugInformation () {
	var applet = document.applets['TiddlySaver'];
	var what = [
		["Java Version", applet.getJavaVersion],
		["Last Exception", applet.getLastErrorMessage],
		["Last Exception Stack Trace", applet.getLastErrorStackTrace],
		["System Properties", applet.getSystemProperties] ];

	function formatItem (description, method) {
		try {
			 result = String(method.call(applet));
		} catch (ex) {
			 result = String(ex)
		}
		return description + ": " + result
	}

	return jQuery.map(what, function (item) { return formatItem.apply(this, item) })
			.join('\n\n')
}

function javaSaveFile(filePath,content)
{
	var applet = document.applets['TiddlySaver'];
	try {
		if (applet && filePath) 
			return applet.saveFile(javaUrlToFilename(filePath), "UTF-8", content);
	} catch(ex) {
		logTiddlySaverException("javaSaveFile", ex);
	}
	// is this next block working anywhere ? -- grmble
	try {
		var s = new java.io.PrintStream(new java.io.FileOutputStream(javaUrlToFilename(filePath)));
		s.print(content);
		s.close();
	} catch(ex2) {
		return null;
	}
	return true;
}

function javaLoadFile(filePath)
{
	var applet = document.applets['TiddlySaver'];
	try {
		if (applet && filePath) {
			var ret = applet.loadFile(javaUrlToFilename(filePath),"UTF-8");
			if(!ret)
				return null;
			return String(ret);
		}
	} catch(ex) {
		logTiddlySaverException("javaLoadFile", ex);
	}
	// is this next block working anywhere ? -- grmble
	var content = [];
	try {
		var r = new java.io.BufferedReader(new java.io.FileReader(javaUrlToFilename(filePath)));
		var line;
		while((line = r.readLine()) != null)
			content.push(String(line));
		r.close();
	} catch(ex2) {
		return null;
	}
	return content.join("\n");
}

function HTML5DownloadSaveFile(filePath,content)
{
	if(document.createElement("a").download !== undefined) {
		config.saveByDownload=true;
		var slashpos=filePath.lastIndexOf("/");
		if (slashpos==-1) slashpos=filePath.lastIndexOf("\\"); 
		var filename=filePath.substr(slashpos+1);
		var uri = getDataURI(content);
		var link = document.createElement("a");
		link.setAttribute("target","_blank");
		link.setAttribute("href",uri);
		link.setAttribute("download",filename);
		document.body.appendChild(link); link.click(); document.body.removeChild(link);
		return true;
	}
	return null;
}

// Returns null if it can't do it, false if there's an error, true if it saved OK
function manualSaveFile(filePath,content)
{
	// FALLBACK for showing a link to data: URI
	config.saveByManualDownload=true;
	var slashpos=filePath.lastIndexOf("/");
	if (slashpos==-1) slashpos=filePath.lastIndexOf("\\"); 
	var filename=filePath.substr(slashpos+1);
	var uri = getDataURI(content);
	displayMessage(config.messages.mainDownloadManual,uri);
	return true;
}

// construct data URI (using base64 encoding to preserve multi-byte encodings)
function getDataURI(data) {
	if (config.browser.isIE)
		return "data:text/html,"+encodeURIComponent(data);
	else
		return "data:text/html;base64,"+encodeBase64(data);
}

function encodeBase64(data) {
	if (!data) return "";
	var keyStr = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
	var out = "";
	var chr1,chr2,chr3="";
	var enc1,enc2,enc3,enc4="";
	for (var count=0,i=0; i<data.length; ) {
		chr1=data.charCodeAt(i++);
		chr2=data.charCodeAt(i++);
		chr3=data.charCodeAt(i++);
		enc1=chr1 >> 2;
		enc2=((chr1 & 3) << 4) | (chr2 >> 4);
		enc3=((chr2 & 15) << 2) | (chr3 >> 6);
		enc4=chr3 & 63;
		if (isNaN(chr2)) enc3=enc4=64;
		else if (isNaN(chr3)) enc4=64;
		out+=keyStr.charAt(enc1)+keyStr.charAt(enc2)+keyStr.charAt(enc3)+keyStr.charAt(enc4);
		chr1=chr2=chr3=enc1=enc2=enc3=enc4="";
	}
	return out;
}//--
//-- Filesystem utilities
//--

function convertUTF8ToUnicode(u)
{
	return config.browser.isOpera || !window.netscape ? manualConvertUTF8ToUnicode(u) : mozConvertUTF8ToUnicode(u);
}


function manualConvertUTF8ToUnicode(utf)
{
	var uni = utf;
	var src = 0;
	var dst = 0;
	var b1, b2, b3;
	var c;
	while(src < utf.length) {
		b1 = utf.charCodeAt(src++);
		if(b1 < 0x80) {
			dst++;
		} else if(b1 < 0xE0) {
			b2 = utf.charCodeAt(src++);
			c = String.fromCharCode(((b1 & 0x1F) << 6) | (b2 & 0x3F));
			uni = uni.substring(0,dst++).concat(c,utf.substr(src));
		} else {
			b2 = utf.charCodeAt(src++);
			b3 = utf.charCodeAt(src++);
			c = String.fromCharCode(((b1 & 0xF) << 12) | ((b2 & 0x3F) << 6) | (b3 & 0x3F));
			uni = uni.substring(0,dst++).concat(c,utf.substr(src));
		}
	}
	return uni;
}

function mozConvertUTF8ToUnicode(u)
{
	try {
		netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");
		var converter = Components.classes["@mozilla.org/intl/scriptableunicodeconverter"].createInstance(Components.interfaces.nsIScriptableUnicodeConverter);
		converter.charset = "UTF-8";
	} catch(ex) {
		return manualConvertUTF8ToUnicode(u);
	} // fallback
	var s = converter.ConvertToUnicode(u);
	var fin = converter.Finish();
	return fin.length > 0 ? s+fin : s;
}

function convertUnicodeToFileFormat(s)
{
	return config.browser.isOpera || !window.netscape ? (config.browser.isIE ? convertUnicodeToHtmlEntities(s) : s) : mozConvertUnicodeToUTF8(s);
}

function convertUnicodeToHtmlEntities(s)
{
	var re = /[^\u0000-\u007F]/g;
	return s.replace(re,function($0) {return "&#" + $0.charCodeAt(0).toString() + ";";});
}

function convertUnicodeToUTF8(s)
{
// return convertUnicodeToFileFormat to allow plugin migration
	return convertUnicodeToFileFormat(s);
}

function manualConvertUnicodeToUTF8(s)
{
	return unescape(encodeURIComponent(s));
}

function mozConvertUnicodeToUTF8(s)
{
	try {
		netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");
		var converter = Components.classes["@mozilla.org/intl/scriptableunicodeconverter"].createInstance(Components.interfaces.nsIScriptableUnicodeConverter);
		converter.charset = "UTF-8";
	} catch(ex) {
		return manualConvertUnicodeToUTF8(s);
	} // fallback
	var u = converter.ConvertFromUnicode(s);
	var fin = converter.Finish();
	return fin.length > 0 ? u + fin : u;
}

function convertUriToUTF8(uri,charSet)
{
	if(window.netscape == undefined || charSet == undefined || charSet == "")
		return uri;
	try {
		netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");
		var converter = Components.classes["@mozilla.org/intl/utf8converterservice;1"].getService(Components.interfaces.nsIUTF8ConverterService);
	} catch(ex) {
		return uri;
	}
	return converter.convertURISpecToUTF8(uri,charSet);
}
//--
//-- Server adaptor base class
//--

function AdaptorBase()
{
	this.host = null;
	this.store = null;
	return this;
}

AdaptorBase.prototype.close = function()
{
	return true;
};

AdaptorBase.prototype.fullHostName = function(host)
{
	if(!host)
		return '';
	host = host.trim();
	if(!host.match(/:\/\//))
		host = 'http://' + host;
	if(host.substr(host.length-1) == '/')
		host = host.substr(0,host.length-1);
	return host;
};

AdaptorBase.minHostName = function(host)
{
	return host;
};

AdaptorBase.prototype.setContext = function(context,userParams,callback)
{
	if(!context) context = {};
	context.userParams = userParams;
	if(callback) context.callback = callback;
	context.adaptor = this;
	if(!context.host)
		context.host = this.host;
	context.host = this.fullHostName(context.host);
	if(!context.workspace)
		context.workspace = this.workspace;
	return context;
};

// Open the specified host
AdaptorBase.prototype.openHost = function(host,context,userParams,callback)
{
	this.host = host;
	context = this.setContext(context,userParams,callback);
	context.status = true;
	if(callback)
		window.setTimeout(function() {context.callback(context,userParams);},10);
	return true;
};

// Open the specified workspace
AdaptorBase.prototype.openWorkspace = function(workspace,context,userParams,callback)
{
	this.workspace = workspace;
	context = this.setContext(context,userParams,callback);
	context.status = true;
	if(callback)
		window.setTimeout(function() {callback(context,userParams);},10);
	return true;
};

//--
//-- Server adaptor for talking to static TiddlyWiki files
//--

function FileAdaptor()
{
}

FileAdaptor.prototype = new AdaptorBase();

FileAdaptor.serverType = 'file';
FileAdaptor.serverLabel = 'TiddlyWiki';

FileAdaptor.loadTiddlyWikiSuccess = function(context,jqXHR)
{
	context.status = true;
	context.adaptor.store = new TiddlyWiki();
	if(!context.adaptor.store.importTiddlyWiki(jqXHR.responseText)) {
		context.statusText = config.messages.invalidFileError.format([context.host]);
		context.status = false;
	}
	context.complete(context,context.userParams);
};

FileAdaptor.loadTiddlyWikiError = function(context,jqXHR)
{
	context.status = false;
	context.statusText = jqXHR.message;
	context.complete(context,context.userParams);
};

// Get the list of workspaces on a given server
FileAdaptor.prototype.getWorkspaceList = function(context,userParams,callback)
{
	context = this.setContext(context,userParams,callback);
	context.workspaces = [{title:"(default)"}];
	context.status = true;
	if(callback)
		window.setTimeout(function() {callback(context,userParams);},10);
	return true;
};

// Gets the list of tiddlers within a given workspace
FileAdaptor.prototype.getTiddlerList = function(context,userParams,callback,filter)
{
	context = this.setContext(context,userParams,callback);
	if(!context.filter)
		context.filter = filter;
	context.complete = FileAdaptor.getTiddlerListComplete;
	if(this.store) {
		return context.complete(context,context.userParams);
	}
	var options = {
		type:"GET",
		url:context.host,
		file:context.file, // for HTML5 FileReader
		processData:false,
		success:function(data,textStatus,jqXHR) {
			FileAdaptor.loadTiddlyWikiSuccess(context,jqXHR);
		},
		error:function(jqXHR,textStatus,errorThrown) {
			context.xhr = jqXHR;
			FileAdaptor.loadTiddlyWikiError(context,jqXHR);
		}
	};
	return ajaxReq(options);
};

FileAdaptor.getTiddlerListComplete = function(context,userParams)
{
	if(context.status) {
		if(context.filter) {
			context.tiddlers = context.adaptor.store.filterTiddlers(context.filter);
		} else {
			context.tiddlers = [];
			context.adaptor.store.forEachTiddler(function(title,tiddler) {context.tiddlers.push(tiddler);});
		}
		var i;
		for(i=0; i<context.tiddlers.length; i++) {
			context.tiddlers[i].fields['server.type'] = FileAdaptor.serverType;
			context.tiddlers[i].fields['server.host'] = AdaptorBase.minHostName(context.host);
			context.tiddlers[i].fields['server.page.revision'] = context.tiddlers[i].modified.convertToYYYYMMDDHHMM();
		}
		context.status = true;
	}
	if(context.callback) {
		window.setTimeout(function() {context.callback(context,userParams);},10);
	}
	return true;
};

FileAdaptor.prototype.generateTiddlerInfo = function(tiddler)
{
	var info = {};
	info.uri = tiddler.fields['server.host'] + "#" + tiddler.title;
	return info;
};

// Retrieve a tiddler from a given workspace on a given server
FileAdaptor.prototype.getTiddler = function(title,context,userParams,callback)
{
	context = this.setContext(context,userParams,callback);
	context.title = title;
	context.complete = FileAdaptor.getTiddlerComplete;
	if(context.adaptor.store) {
		return context.complete(context,context.userParams);
	}
	var options = {
		type:"GET",
		url:context.host,
		processData:false,
		success:function(data,textStatus,jqXHR) {
			FileAdaptor.loadTiddlyWikiSuccess(context,jqXHR);
		},
		error:function(jqXHR,textStatus,errorThrown) {
			FileAdaptor.loadTiddlyWikiError(context,jqXHR);
		}
	};
	return ajaxReq(options);
};

FileAdaptor.getTiddlerComplete = function(context,userParams)
{
	var t = context.adaptor.store.fetchTiddler(context.title);
	if(t) {
		t.fields['server.type'] = FileAdaptor.serverType;
		t.fields['server.host'] = AdaptorBase.minHostName(context.host);
		t.fields['server.page.revision'] = t.modified.convertToYYYYMMDDHHMM();
		context.tiddler = t;
		context.status = true;
	} else { //# tiddler does not exist in document
		context.status = false;
	}
	if(context.allowSynchronous) {
		context.isSynchronous = true;
		context.callback(context,userParams);
	} else {
		window.setTimeout(function() {context.callback(context,userParams);},10);
	}
	return true;
};

FileAdaptor.prototype.close = function()
{
	this.store = null;
};

config.adaptors[FileAdaptor.serverType] = FileAdaptor;

config.defaultAdaptor = FileAdaptor.serverType;

//--
//-- HTTP request code
//--

function ajaxReq(args)
{
	if (args.file || args.url.startsWith("file"))  // LOCAL FILE
		return localAjax(args);
	return jQuery.ajax(args);
}

function localAjax(args)
{
	var success=function(data)
		{ args.success(data,"success",{ responseText:data }); }
	var failure=function(who)
		{ args.error({ message:who+": cannot read local file" },"error",0); }

	if (args.file) try { // HTML5 FileReader (Chrome, FF20+, Safari, etc.)
		var reader=new FileReader();
		reader.onload=function(e)  { success(e.target.result); }
		reader.onerror=function(e) { failure("FileReader"); }
		reader.readAsText(args.file);
		return true;
	} catch (ex) { ; }

	try { // local file I/O (IE, FF with TiddlyFox, Chrome/Safari with TiddlySaver, etc.)
		var data=loadFile(getLocalPath(args.url));
		if (data) success(data);
		else failure("loadFile");
		return true;
	} catch (ex) { ; }

	return true;
}

function httpReq(type,url,callback,params,headers,data,contentType,username,password,allowCache)
{
	var httpSuccess = function(xhr) {
		try {
			// IE error sometimes returns 1223 when it should be 204 so treat it as success, see #1450
			return (!xhr.status && location.protocol === "file:") ||
				(xhr.status >= 200 && xhr.status < 300) ||
				xhr.status === 304 || xhr.status === 1223;
		} catch(e) {}
		return false;
	};

	var options = {
		type:type,
		url:url,
		processData:false,
		data:data,
		cache:!!allowCache,
		beforeSend: function(xhr) {
			var i;
			for(i in headers)
				xhr.setRequestHeader(i,headers[i]);
		}
	};

	if(callback) {
		options.complete = function(xhr,textStatus) {
			if(httpSuccess(xhr))
				callback(true,params,xhr.responseText,url,xhr);
			else
				callback(false,params,null,url,xhr);
		};
	}
	if(contentType)
		options.contentType = contentType;
	if(username)
		options.username = username;
	if(password)
		options.password = password;
	try {
		if(window.Components && window.netscape && window.netscape.security && document.location.protocol.indexOf("http") == -1)
			window.netscape.security.PrivilegeManager.enablePrivilege("UniversalBrowserRead");
	} catch (ex) {
	}
	return jQuery.ajax(options);
}
//--
//-- TiddlyWiki-specific utility functions
//--

// Returns TiddlyWiki version string
function formatVersion(v)
{
	v = v || version;
	return v.major + "." + v.minor + "." + v.revision +
		(v.alpha ? " (alpha " + v.alpha + ")" : "") +
		(v.beta ? " (beta " + v.beta + ")" : "");
}

function compareVersions(v1,v2)
{
	var x1,x2,i,a = ["major","minor","revision"];
	for(i = 0; i<a.length; i++) {
		x1 = v1[a[i]] || 0;
		x2 = v2[a[i]] || 0;
		if(x1<x2)
			return 1;
		if(x1>x2)
			return -1;
	}
	x1 = v1.beta || 9999;
	x2 = v2.beta || 9999;
	if(x1<x2)
		return 1;
	return x1 > x2 ? -1 : 0;
}

function merge(dst,src,preserveExisting)
{
	var i;
	for(i in src) {
		if(!preserveExisting || dst[i] === undefined)
			dst[i] = src[i];
	}
	return dst;
}

// Resolve the target object of an event
function resolveTarget(e)
{
	var obj;
	if(e.target)
		obj = e.target;
	else if(e.srcElement)
		obj = e.srcElement;
	if(obj.nodeType == 3) // defeat Safari bug
		obj = obj.parentNode;
	return obj;
}

// Returns a string containing the description of an exception, optionally prepended by a message
function exceptionText(e,message)
{
	var s = e.description || e.toString();
	return message ? "%0:\n%1".format([message,s]) : s;
}

// Displays an alert of an exception description with optional message
function showException(e,message)
{
	alert(exceptionText(e,message));
}

function alertAndThrow(m)
{
	alert(m);
	throw(m);
}

function glyph(name)
{
	var g = config.glyphs;
	var b = g.currBrowser;
	if(b == null) {
		b = 0;
		while(b < g.browsers.length-1 && !g.browsers[b]())
			b++;
		g.currBrowser = b;
	}
	if(!g.codes[name])
		return "";
	return g.codes[name][b];
}

function createTiddlyText(parent,text)
{
	return parent.appendChild(document.createTextNode(text));
}

function createTiddlyCheckbox(parent,caption,checked,onChange)
{
	var cb = document.createElement("input");
	cb.setAttribute("type","checkbox");
	cb.onclick = onChange;
	parent.appendChild(cb);
	cb.checked = checked;
	cb.className = "chkOptionInput";
	if(caption)
		wikify(caption,parent);
	return cb;
}

function createTiddlyElement(parent,element,id,className,text,attribs)
{
	var n,e = document.createElement(element);
	if(className != null)
		e.className = className;
	if(id != null)
		e.setAttribute("id",id);
	if(text != null)
		e.appendChild(document.createTextNode(text));
	if(attribs) {
		for(n in attribs) {
			e.setAttribute(n,attribs[n]);
		}
	}
	if(parent != null)
		parent.appendChild(e);
	return e;
}

function createTiddlyButton(parent,text,tooltip,action,className,id,accessKey,attribs)
{
	var i,btn = document.createElement("a");
	btn.setAttribute("href","javascript:;");
	if(action) {
		btn.onclick = action;
	}
	if(tooltip)
		btn.setAttribute("title",tooltip);
	if(text)
		btn.appendChild(document.createTextNode(text));
	btn.className = className || "button";
	if(id)
		btn.id = id;
	if(attribs) {
		for(i in attribs) {
			btn.setAttribute(i,attribs[i]);
		}
	}
	if(parent)
		parent.appendChild(btn);
	if(accessKey)
		btn.setAttribute("accessKey",accessKey);
	return btn;
}

function createExternalLink(place,url,label)
{
	var link = document.createElement("a");
	link.className = "externalLink";
	link.href = url;
	var f = config.messages.externalLinkTooltip;
	link.title = f ? f.format([url]) : url;
	if(config.options.chkOpenInNewWindow)
		link.target = "_blank";
	place.appendChild(link);
	if(label)
		createTiddlyText(link, label);
	return link;
}

function getTiddlyLinkInfo(title,currClasses)
{
	var classes = currClasses ? currClasses.split(" ") : [];
	classes.pushUnique("tiddlyLink");
	var tiddler = store.fetchTiddler(title);
	var subTitle;
	if(tiddler) {
		subTitle = tiddler.getSubtitle();
		classes.pushUnique("tiddlyLinkExisting");
		classes.remove("tiddlyLinkNonExisting");
		classes.remove("shadow");
	} else {
	    var f;
		classes.remove("tiddlyLinkExisting");
		classes.pushUnique("tiddlyLinkNonExisting");
		if(store.isShadowTiddler(title)) {
			f = config.messages.shadowedTiddlerToolTip;
			classes.pushUnique("shadow");
		} else {
			f = config.messages.undefinedTiddlerToolTip;
			classes.remove("shadow");
		}
		subTitle = f ? f.format([title]) : "";
	}
	if(typeof config.annotations[title]=="string")
		subTitle = config.annotations[title];
	return {classes: classes.join(" "),subTitle: subTitle};
}

// Event handler for clicking on a tiddly link
function onClickTiddlerLink(ev)
{
	var e = ev || window.event;
	var target = resolveTarget(e);
	var link = target;
	var title = null;
	var fields = null;
	var noToggle = null;
	do {
		title = link.getAttribute("tiddlyLink");
		fields = link.getAttribute("tiddlyFields");
		noToggle = link.getAttribute("noToggle");
		link = link.parentNode;
	} while(title == null && link != null);
	if(!store.isShadowTiddler(title)) {
		var f = fields ? fields.decodeHashMap() : {};
		fields = String.encodeHashMap(merge(f,config.defaultCustomFields,true));
	}
	if(title) {
		var toggling = e.metaKey || e.ctrlKey;
		if(config.options.chkToggleLinks)
			toggling = !toggling;
		if(noToggle)
			toggling = false;
		if(store.getTiddler(title))
			fields = null;
		story.displayTiddler(target,title,null,true,null,fields,toggling);
	}
	clearMessage();
	return false;
}

function createTiddlyLink(place,title,includeText,className,isStatic,linkedFromTiddler,noToggle)
{
	var title = jQuery.trim(title);
	var text = includeText ? title : null;
	var i = getTiddlyLinkInfo(title,className);
	var btn = isStatic ? createExternalLink(place,store.getTiddlerText("SiteUrl",null) + "#" + title) : createTiddlyButton(place,text,i.subTitle,onClickTiddlerLink,i.classes);
	if(isStatic)
		btn.className += ' ' + className;
	btn.setAttribute("refresh","link");
	btn.setAttribute("tiddlyLink",title);
	if(noToggle)
		btn.setAttribute("noToggle","true");
	if(linkedFromTiddler) {
		var fields = linkedFromTiddler.getInheritedFields();
		if(fields)
			btn.setAttribute("tiddlyFields",fields);
	}
	return btn;
}

function refreshTiddlyLink(e,title)
{
	var i = getTiddlyLinkInfo(title,e.className);
	e.className = i.classes;
	e.title = i.subTitle;
}

function createTiddlyDropDown(place,onchange,options,defaultValue)
{
	var sel = createTiddlyElement(place,"select");
	sel.onchange = onchange;
	var t;
	for(t=0; t<options.length; t++) {
		var e = createTiddlyElement(sel,"option",null,null,options[t].caption);
		e.value = options[t].name;
		if(options[t].name == defaultValue)
			e.selected = true;
	}
	return sel;
}

//--
//-- TiddlyWiki-specific popup utility functions
//--

// Event handler for 'open all' on a tiddler popup
function onClickTagOpenAll(ev)
{
	var tiddlers = store.getTaggedTiddlers(this.getAttribute("tag"));
	var sortby = this.getAttribute("sortby");
	if(sortby&&sortby.length) {
		store.sortTiddlers(tiddlers,sortby);
	}
	story.displayTiddlers(this,tiddlers);
	return false;
}

// Event handler for clicking on a tiddler tag
function onClickTag(ev)
{
	var e = ev || window.event;
	var popup = Popup.create(this);
	jQuery(popup).addClass("taggedTiddlerList");
	var tag = this.getAttribute("tag");
	var title = this.getAttribute("tiddler");
	if(popup && tag) {
		var tagged = tag.indexOf("[")==-1 ? store.getTaggedTiddlers(tag) : store.filterTiddlers(tag);
		var sortby = this.getAttribute("sortby");
		if(sortby&&sortby.length) {
			store.sortTiddlers(tagged,sortby);
		}
		var titles = [];
		var r;
		for(r=0;r<tagged.length;r++) {
			if(tagged[r].title != title)
				titles.push(tagged[r].title);
		}
		var lingo = config.views.wikified.tag;
		if(titles.length > 0) {
			var openAll = createTiddlyButton(createTiddlyElement(popup,"li"),lingo.openAllText.format([tag]),lingo.openAllTooltip,onClickTagOpenAll);
			openAll.setAttribute("tag",tag);
			openAll.setAttribute("sortby",sortby);
			createTiddlyElement(createTiddlyElement(popup,"li",null,"listBreak"),"div");
			for(r=0; r<titles.length; r++) {
				createTiddlyLink(createTiddlyElement(popup,"li"),titles[r],true);
			}
		} else {
			createTiddlyElement(popup,"li",null,"disabled",lingo.popupNone.format([tag]));
		}
		createTiddlyElement(createTiddlyElement(popup,"li",null,"listBreak"),"div");
		var h = createTiddlyLink(createTiddlyElement(popup,"li"),tag,false);
		createTiddlyText(h,lingo.openTag.format([tag]));
	}
	Popup.show();
	e.cancelBubble = true;
	if(e.stopPropagation) e.stopPropagation();
	return false;
}

// Create a button for a tag with a popup listing all the tiddlers that it tags
function createTagButton(place,tag,excludeTiddler,title,tooltip)
{
	var btn = createTiddlyButton(place,title||tag,(tooltip||config.views.wikified.tag.tooltip).format([tag]),onClickTag);
	btn.setAttribute("tag",tag);
	if(excludeTiddler)
		btn.setAttribute("tiddler",excludeTiddler);
	return btn;
}

function onClickTiddlyPopup(ev)
{
	var e = ev || window.event;
	var tiddler = this.tiddler;
	if(tiddler.text) {
		var popup = Popup.create(this,"div","popupTiddler");
		wikify(tiddler.text,popup,null,tiddler);
		Popup.show();
	}
	if(e) e.cancelBubble = true;
	if(e && e.stopPropagation) e.stopPropagation();
	return false;
}

function createTiddlyPopup(place,caption,tooltip,tiddler)
{
	if(tiddler.text) {
		createTiddlyLink(place,caption,true);
		var btn = createTiddlyButton(place,glyph("downArrow"),tooltip,onClickTiddlyPopup,"tiddlerPopupButton");
		btn.tiddler = tiddler;
	} else {
		createTiddlyText(place,caption);
	}
}

function onClickError(ev)
{
	var e = ev || window.event;
	var popup = Popup.create(this);
	var lines = this.getAttribute("errorText").split("\n");
	var t;
	for(t=0; t<lines.length; t++)
		createTiddlyElement(popup,"li",null,null,lines[t]);
	Popup.show();
	e.cancelBubble = true;
	if(e.stopPropagation) e.stopPropagation();
	return false;
}

function createTiddlyError(place,title,text)
{
	var btn = createTiddlyButton(place,title,null,onClickError,"errorButton");
	if(text) btn.setAttribute("errorText",text);
}
//-
//- Animation engine
//-

function Animator()
{
	this.running = 0; // Incremented at start of each animation, decremented afterwards. If zero, the interval timer is disabled
	this.timerID = 0; // ID of the timer used for animating
	this.animations = []; // List of animations in progress
	return this;
}

// Start animation engine
Animator.prototype.startAnimating = function() //# Variable number of arguments
{
	var t;
	for(t=0; t<arguments.length; t++)
		this.animations.push(arguments[t]);
	if(this.running == 0) {
		var me = this;
		this.timerID = window.setInterval(function() {me.doAnimate(me);},10);
	}
	this.running += arguments.length;
};

// Perform an animation engine tick, calling each of the known animation modules
Animator.prototype.doAnimate = function(me)
{
	var a = 0;
	while(a < me.animations.length) {
		var animation = me.animations[a];
		if(animation.tick()) {
			a++;
		} else {
			me.animations.splice(a,1);
			if(--me.running == 0)
				window.clearInterval(me.timerID);
		}
	}
};

Animator.slowInSlowOut = function(progress)
{
	return(1-((Math.cos(progress * Math.PI)+1)/2));
};

//--
//-- Morpher animation
//--

// Animate a set of properties of an element
function Morpher(element,duration,properties,callback)
{
	this.element = element;
	this.duration = duration;
	this.properties = properties;
	this.startTime = new Date();
	this.endTime = Number(this.startTime) + duration;
	this.callback = callback;
	this.tick();
	return this;
}

Morpher.prototype.assignStyle = function(element,style,value)
{
	switch(style) {
	case "-tw-vertScroll":
		window.scrollTo(findScrollX(),value);
		break;
	case "-tw-horizScroll":
		window.scrollTo(value,findScrollY());
		break;
	default:
		element.style[style] = value;
		break;
	}
};

Morpher.prototype.stop = function()
{
	var t;
	for(t=0; t<this.properties.length; t++) {
		var p = this.properties[t];
		if(p.atEnd !== undefined) {
			this.assignStyle(this.element,p.style,p.atEnd);
		}
	}
	if(this.callback)
		this.callback(this.element,this.properties);
};

Morpher.prototype.tick = function()
{
	var currTime = Number(new Date());
	var t,progress = Animator.slowInSlowOut(Math.min(1,(currTime-this.startTime)/this.duration));
	for(t=0; t<this.properties.length; t++) {
		var p = this.properties[t];
		if(p.start !== undefined && p.end !== undefined) {
			var template = p.template || "%0";
			switch(p.format) {
			case undefined:
			case "style":
				var v = p.start + (p.end-p.start) * progress;
				this.assignStyle(this.element,p.style,template.format([v]));
				break;
			case "color":
				break;
			}
		}
	}
	if(currTime >= this.endTime) {
		this.stop();
		return false;
	}
	return true;
};

//--
//-- Zoomer animation
//--

function Zoomer(text,startElement,targetElement,unused)
{
	var e = createTiddlyElement(document.body,"div",null,"zoomer");
	createTiddlyElement(e,"div",null,null,text);
	var winWidth = findWindowWidth();
	var winHeight = findWindowHeight();
	var p = [
		{style: 'left', start: findPosX(startElement), end: findPosX(targetElement), template: '%0px'},
		{style: 'top', start: findPosY(startElement), end: findPosY(targetElement), template: '%0px'},
		{style: 'width', start: Math.min(startElement.scrollWidth,winWidth), end: Math.min(targetElement.scrollWidth,winWidth), template: '%0px', atEnd: 'auto'},
		{style: 'height', start: Math.min(startElement.scrollHeight,winHeight), end: Math.min(targetElement.scrollHeight,winHeight), template: '%0px', atEnd: 'auto'},
		{style: 'fontSize', start: 8, end: 24, template: '%0pt'}
	];
	var c = function(element,properties) {jQuery(element).remove();};
	return new Morpher(e,config.animDuration,p,c);
}

//--
//-- Scroller animation
//--

function Scroller(targetElement)
{
	var p = [{style: '-tw-vertScroll', start: findScrollY(), end: ensureVisible(targetElement)}];
	return new Morpher(targetElement,config.animDuration,p);
}

//--
//-- Slider animation
//--

// deleteMode - "none", "all" [delete target element and it's children], [only] "children" [but not the target element]
function Slider(element,opening,unused,deleteMode)
{
	element.style.overflow = 'hidden';
	if(opening)
		element.style.height = '0px'; // Resolves a Firefox flashing bug
	element.style.display = 'block';
	var height = element.scrollHeight;
	var p = [];
	var c = null;
	if(opening) {
		p.push({style: 'height', start: 0, end: height, template: '%0px', atEnd: 'auto'});
		p.push({style: 'opacity', start: 0, end: 1, template: '%0'});
		p.push({style: 'filter', start: 0, end: 100, template: 'alpha(opacity:%0)'});
	} else {
		p.push({style: 'height', start: height, end: 0, template: '%0px'});
		p.push({style: 'display', atEnd: 'none'});
		p.push({style: 'opacity', start: 1, end: 0, template: '%0'});
		p.push({style: 'filter', start: 100, end: 0, template: 'alpha(opacity:%0)'});
		switch(deleteMode) {
		case "all":
			c = function(element,properties) {jQuery(element).remove();};
			break;
		case "children":
			c = function(element,properties) {jQuery(element).empty();};
			break;
		}
	}
	return new Morpher(element,config.animDuration,p,c);
}

//--
//-- Popup menu
//--

var Popup = {
	stack: [] // Array of objects with members root: and popup:
	};

Popup.create = function(root,elem,className)
{
	var stackPosition = this.find(root,"popup");
	Popup.remove(stackPosition+1);
	var popup = createTiddlyElement(document.body,elem || "ol","popup",className || "popup");
	popup.stackPosition = stackPosition;
	Popup.stack.push({root: root, popup: popup});
	return popup;
};

Popup.onDocumentClick = function(ev)
{
	var e = ev || window.event;
	if(e.eventPhase == undefined)
		Popup.remove();
	else if(e.eventPhase == Event.BUBBLING_PHASE || e.eventPhase == Event.AT_TARGET)
		Popup.remove();
	return true;
};

Popup.show = function(valign,halign,offset)
{
	var curr = Popup.stack[Popup.stack.length-1];
	this.place(curr.root,curr.popup,valign,halign,offset);
	jQuery(curr.root).addClass("highlight");
	if(config.options.chkAnimate && anim && typeof Scroller == "function")
		anim.startAnimating(new Scroller(curr.popup));
	else
		window.scrollTo(0,ensureVisible(curr.popup));
};

Popup.place = function(root,popup,valign,halign,offset)
{
	if(!offset)
		offset = {x:0,y:0};
	if(popup.stackPosition >= 0 && !valign && !halign) {
		offset.x = offset.x + root.offsetWidth;
	} else {
		offset.x = (halign == "right") ? offset.x + root.offsetWidth : offset.x;
		offset.y = (valign == "top") ? offset.y : offset.y + root.offsetHeight;
	}
	var rootLeft = findPosX(root);
	var rootTop = findPosY(root);
	var popupLeft = rootLeft + offset.x;
	var popupTop = rootTop + offset.y;
	var winWidth = findWindowWidth();
	if(popup.offsetWidth > winWidth*0.75)
		popup.style.width = winWidth*0.75 + "px";
	var popupWidth = popup.offsetWidth;
	var scrollWidth = winWidth - document.body.offsetWidth;
	if(popupLeft + popupWidth > winWidth - scrollWidth - 1) {
		if(halign == "right")
			popupLeft = popupLeft - root.offsetWidth - popupWidth;
		else
			popupLeft = winWidth - popupWidth - scrollWidth - 1;
	}
	popup.style.left = popupLeft + "px";
	popup.style.top = popupTop + "px";
	popup.style.display = "block";
};

Popup.find = function(e)
{
	var t,pos = -1;
	for(t=this.stack.length-1; t>=0; t--) {
		if(isDescendant(e,this.stack[t].popup))
			pos = t;
	}
	return pos;
};

Popup.remove = function(pos)
{
	if(!pos) pos = 0;
	if(Popup.stack.length > pos) {
		Popup.removeFrom(pos);
	}
};

Popup.removeFrom = function(from)
{
	var t;
	for(t=Popup.stack.length-1; t>=from; t--) {
		var p = Popup.stack[t];
		jQuery(p.root).removeClass("highlight");
		jQuery(p.popup).remove();
	}
	Popup.stack = Popup.stack.slice(0,from);
};

//--
//-- Wizard support
//--

function Wizard(elem)
{
	if(elem) {
		this.formElem = findRelated(elem,"wizard","className");
		this.bodyElem = findRelated(this.formElem.firstChild,"wizardBody","className","nextSibling");
		this.footElem = findRelated(this.formElem.firstChild,"wizardFooter","className","nextSibling");
	} else {
		this.formElem = null;
		this.bodyElem = null;
		this.footElem = null;
	}
}

Wizard.prototype.setValue = function(name,value)
{
	jQuery(this.formElem).data(name, value);
};

Wizard.prototype.getValue = function(name)
{
	return this.formElem ? jQuery(this.formElem).data(name) : null;
};

Wizard.prototype.createWizard = function(place,title)
{
	this.formElem = createTiddlyElement(place,"form",null,"wizard");
	createTiddlyElement(this.formElem,"h1",null,null,title);
	this.bodyElem = createTiddlyElement(this.formElem,"div",null,"wizardBody");
	this.footElem = createTiddlyElement(this.formElem,"div",null,"wizardFooter");
	return this.formElem;
};

Wizard.prototype.clear = function()
{
	jQuery(this.bodyElem).empty();
};

Wizard.prototype.setButtons = function(buttonInfo,status)
{
	jQuery(this.footElem).empty();
	var t;
	for(t=0; t<buttonInfo.length; t++) {
		createTiddlyButton(this.footElem,buttonInfo[t].caption,buttonInfo[t].tooltip,buttonInfo[t].onClick);
		insertSpacer(this.footElem);
		}
	if(typeof status == "string") {
		createTiddlyElement(this.footElem,"span",null,"status",status);
	}
};

Wizard.prototype.addStep = function(stepTitle,html)
{
	jQuery(this.bodyElem).empty();
	var w = createTiddlyElement(this.bodyElem,"div");
	createTiddlyElement(w,"h2",null,null,stepTitle);
	var step = createTiddlyElement(w,"div",null,"wizardStep");
	step.innerHTML = html;
	applyHtmlMacros(step,tiddler);
};

Wizard.prototype.getElement = function(name)
{
	return this.formElem.elements[name];
};

//--
//-- ListView gadget
//--

var ListView = {};

// Create a listview
ListView.create = function(place,listObject,listTemplate,callback,className)
{
	var table = createTiddlyElement(place,"table",null,className || "listView twtable");
	var thead = createTiddlyElement(table,"thead");
	var t,r = createTiddlyElement(thead,"tr");
	for(t=0; t<listTemplate.columns.length; t++) {
		var columnTemplate = listTemplate.columns[t];
		var c = createTiddlyElement(r,"th");
		var colType = ListView.columnTypes[columnTemplate.type];
		if(colType && colType.createHeader) {
			colType.createHeader(c,columnTemplate,t);
			if(columnTemplate.className)
				jQuery(c).addClass(columnTemplate.className);
		}
	}
	var rc,tbody = createTiddlyElement(table,"tbody");
	for(rc=0; rc<listObject.length; rc++) {
		var rowObject = listObject[rc];
		r = createTiddlyElement(tbody,"tr");
		for(c=0; c<listTemplate.rowClasses.length; c++) {
			if(rowObject[listTemplate.rowClasses[c].field])
				jQuery(r).addClass(listTemplate.rowClasses[c].className);
		}
		rowObject.rowElement = r;
		rowObject.colElements = {};
		var cc;
		for(cc=0; cc<listTemplate.columns.length; cc++) {
			c = createTiddlyElement(r,"td");
			columnTemplate = listTemplate.columns[cc];
			var field = columnTemplate.field;
			colType = ListView.columnTypes[columnTemplate.type];
			if(colType && colType.createItem) {
				colType.createItem(c,rowObject,field,columnTemplate,cc,rc);
				if(columnTemplate.className)
					jQuery(c).addClass(columnTemplate.className);
			}
			rowObject.colElements[field] = c;
		}
	}
	if(callback && listTemplate.actions)
		createTiddlyDropDown(place,ListView.getCommandHandler(callback),listTemplate.actions);
	if(callback && listTemplate.buttons) {
		for(t=0; t<listTemplate.buttons.length; t++) {
			var a = listTemplate.buttons[t];
			if(a && a.name != "")
				createTiddlyButton(place,a.caption,null,ListView.getCommandHandler(callback,a.name,a.allowEmptySelection));
		}
	}
	return table;
};

ListView.getCommandHandler = function(callback,name,allowEmptySelection)
{
	return function(e) {
		var view = findRelated(this,"TABLE",null,"previousSibling");
		var tiddlers = [];
		ListView.forEachSelector(view,function(e,rowName) {
					if(e.checked)
						tiddlers.push(rowName);
					});
		if(tiddlers.length == 0 && !allowEmptySelection) {
			alert(config.messages.nothingSelected);
		} else {
			if(this.nodeName.toLowerCase() == "select") {
				callback(view,this.value,tiddlers);
				this.selectedIndex = 0;
			} else {
				callback(view,name,tiddlers);
			}
		}
	};
};

// Invoke a callback for each selector checkbox in the listview
ListView.forEachSelector = function(view,callback)
{
	var checkboxes = view.getElementsByTagName("input");
	var t,hadOne = false;
	for(t=0; t<checkboxes.length; t++) {
		var cb = checkboxes[t];
		if(cb.getAttribute("type") == "checkbox") {
			var rn = cb.getAttribute("rowName");
			if(rn) {
				callback(cb,rn);
				hadOne = true;
			}
		}
	}
	return hadOne;
};

ListView.getSelectedRows = function(view)
{
	var rowNames = [];
	ListView.forEachSelector(view,function(e,rowName) {
				if(e.checked)
					rowNames.push(rowName);
				});
	return rowNames;
};

ListView.columnTypes = {};

ListView.columnTypes.String = {
	createHeader: function(place,columnTemplate,col)
		{
			createTiddlyText(place,columnTemplate.title);
		},
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			var v = listObject[field];
			if(v != undefined)
				createTiddlyText(place,v);
		}
};

ListView.columnTypes.WikiText = {
	createHeader: ListView.columnTypes.String.createHeader,
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			var v = listObject[field];
			if(v != undefined)
				wikify(v,place,null,null);
		}
};

ListView.columnTypes.Tiddler = {
	createHeader: ListView.columnTypes.String.createHeader,
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			var v = listObject[field];
			if(v != undefined && v.title)
				createTiddlyPopup(place,v.title,config.messages.listView.tiddlerTooltip,v);
		}
};

ListView.columnTypes.Size = {
	createHeader: ListView.columnTypes.String.createHeader,
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			var msg = config.messages.sizeTemplates;
			var v = listObject[field];
			if(v != undefined) {
				var t = 0;
				while(t<msg.length-1 && v<msg[t].unit)
					t++;
				createTiddlyText(place,msg[t].template.format([Math.round(v/msg[t].unit)]));
			}
		}
};

ListView.columnTypes.Link = {
	createHeader: ListView.columnTypes.String.createHeader,
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			var v = listObject[field];
			var c = columnTemplate.text;
			if(v != undefined)
				createExternalLink(place,v,c || v);
		}
};

ListView.columnTypes.Date = {
	createHeader: ListView.columnTypes.String.createHeader,
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			var v = listObject[field];
			if(v != undefined)
				createTiddlyText(place,v.formatString(columnTemplate.dateFormat));
		}
};

ListView.columnTypes.StringList = {
	createHeader: ListView.columnTypes.String.createHeader,
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			var v = listObject[field];
			if(v != undefined) {
				var t;
				for(t=0; t<v.length; t++) {
					createTiddlyText(place,v[t]);
					createTiddlyElement(place,"br");
				}
			}
		}
};

ListView.columnTypes.Selector = {
	createHeader: function(place,columnTemplate,col)
		{
			createTiddlyCheckbox(place,null,false,this.onHeaderChange);
		},
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			var e = createTiddlyCheckbox(place,null,listObject[field],null);
			e.setAttribute("rowName",listObject[columnTemplate.rowName]);
		},
	onHeaderChange: function(e)
		{
			var state = this.checked;
			var view = findRelated(this,"TABLE");
			if(!view)
				return;
			ListView.forEachSelector(view,function(e,rowName) {
								e.checked = state;
							});
		}
};

ListView.columnTypes.Tags = {
	createHeader: ListView.columnTypes.String.createHeader,
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			var tags = listObject[field];
			createTiddlyText(place,String.encodeTiddlyLinkList(tags));
		}
};

ListView.columnTypes.Boolean = {
	createHeader: ListView.columnTypes.String.createHeader,
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			if(listObject[field] == true)
				createTiddlyText(place,columnTemplate.trueText);
			if(listObject[field] == false)
				createTiddlyText(place,columnTemplate.falseText);
		}
};

ListView.columnTypes.TagCheckbox = {
	createHeader: ListView.columnTypes.String.createHeader,
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			var e = createTiddlyCheckbox(place,null,listObject[field],this.onChange);
			e.setAttribute("tiddler",listObject.title);
			e.setAttribute("tag",columnTemplate.tag);
		},
	onChange : function(e)
		{
			var tag = this.getAttribute("tag");
			var tiddler = this.getAttribute("tiddler");
			store.setTiddlerTag(tiddler,this.checked,tag);
		}
};

ListView.columnTypes.TiddlerLink = {
	createHeader: ListView.columnTypes.String.createHeader,
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			var v = listObject[field];
			if(v != undefined) {
				var link = createTiddlyLink(place,listObject[columnTemplate.tiddlerLink],false,null);
				createTiddlyText(link,listObject[field]);
			}
		}
};

//--
//-- Augmented methods for the JavaScript Array() object
//--

// Add indexOf function if browser does not support it
if(!Array.indexOf) {
Array.prototype.indexOf = function(item,from)
{
	if(!from)
		from = 0;
	var i;
	for(i=from; i<this.length; i++) {
		if(this[i] === item)
			return i;
	}
	return -1;
};}

// Find an entry in a given field of the members of an array
Array.prototype.findByField = function(field,value)
{
	var t;
	for(t=0; t<this.length; t++) {
		if(this[t][field] === value)
			return t;
	}
	return null;
};

// Return whether an entry exists in an array
Array.prototype.contains = function(item)
{
	return this.indexOf(item) != -1;
};

// Adds, removes or toggles a particular value within an array
//  value - value to add
//  mode - +1 to add value, -1 to remove value, 0 to toggle it
Array.prototype.setItem = function(value,mode)
{
	var p = this.indexOf(value);
	if(mode == 0)
		mode = (p == -1) ? +1 : -1;
	if(mode == +1) {
		if(p == -1)
			this.push(value);
	} else if(mode == -1) {
		if(p != -1)
			this.splice(p,1);
	}
};

// Return whether one of a list of values exists in an array
Array.prototype.containsAny = function(items)
{
	var i;
	for(i=0; i<items.length; i++) {
		if(this.indexOf(items[i]) != -1)
			return true;
	}
	return false;
};

// Return whether all of a list of values exists in an array
Array.prototype.containsAll = function(items)
{
	var i;
	for(i = 0; i<items.length; i++) {
		if(this.indexOf(items[i]) == -1)
			return false;
	}
	return true;
};

// Push a new value into an array only if it is not already present in the array. If the optional unique parameter is false, it reverts to a normal push
Array.prototype.pushUnique = function(item,unique)
{
	if(unique === false) {
		this.push(item);
	} else {
		if(this.indexOf(item) == -1)
			this.push(item);
	}
};

Array.prototype.remove = function(item)
{
	var p = this.indexOf(item);
	if(p != -1)
		this.splice(p,1);
};

if(!Array.prototype.map) {
Array.prototype.map = function(fn,thisObj)
{
	var scope = thisObj || window;
	var i,j,a = [];
	for(i=0, j=this.length; i < j; ++i) {
		a.push(fn.call(scope,this[i],i,this));
	}
	return a;
};}

//--
//-- Augmented methods for the JavaScript String() object
//--

// Get characters from the right end of a string
String.prototype.right = function(n)
{
	return n < this.length ? this.slice(this.length-n) : this;
};

// Trim whitespace from both ends of a string
String.prototype.trim = function()
{
	return this.replace(/^\s*|\s*$/g,"");
};

// Convert a string from a CSS style property name to a JavaScript style name ("background-color" -> "backgroundColor")
String.prototype.unDash = function()
{
	var t,s = this.split("-");
	if(s.length > 1) {
		for(t=1; t<s.length; t++)
			s[t] = s[t].substr(0,1).toUpperCase() + s[t].substr(1);
	}
	return s.join("");
};

// Substitute substrings from an array into a format string that includes '%1'-type specifiers
String.prototype.format = function(s)
{
	var substrings = s && s.constructor == Array ? s : arguments;
	var subRegExp = /(?:%(\d+))/mg;
	var currPos = 0;
	var match,r = [];
	do {
		match = subRegExp.exec(this);
		if(match && match[1]) {
			if(match.index > currPos)
				r.push(this.substring(currPos,match.index));
			r.push(substrings[parseInt(match[1],10)]);
			currPos = subRegExp.lastIndex;
		}
	} while(match);
	if(currPos < this.length)
		r.push(this.substring(currPos,this.length));
	return r.join("");
};

// Escape any special RegExp characters with that character preceded by a backslash
String.prototype.escapeRegExp = function()
{
	var s = "\\^$*+?()=!|,{}[].";
	var t,c = this;
	for(t=0; t<s.length; t++)
		c = c.replace(new RegExp("\\" + s.substr(t,1),"g"),"\\" + s.substr(t,1));
	return c;
};

// Convert "\" to "\s", newlines to "\n" (and remove carriage returns)
String.prototype.escapeLineBreaks = function()
{
	return this.replace(/\\/mg,"\\s").replace(/\n/mg,"\\n").replace(/\r/mg,"");
};

// Convert "\n" to newlines, "\b" to " ", "\s" to "\" (and remove carriage returns)
String.prototype.unescapeLineBreaks = function()
{
	return this.replace(/\\n/mg,"\n").replace(/\\b/mg," ").replace(/\\s/mg,"\\").replace(/\r/mg,"");
};

// Convert & to "&amp;", < to "&lt;", > to "&gt;" and " to "&quot;"
String.prototype.htmlEncode = function()
{
	return this.replace(/&/mg,"&amp;").replace(/</mg,"&lt;").replace(/>/mg,"&gt;").replace(/\"/mg,"&quot;");
};

// Convert "&amp;" to &, "&lt;" to <, "&gt;" to > and "&quot;" to "
String.prototype.htmlDecode = function()
{
	return this.replace(/&lt;/mg,"<").replace(/&gt;/mg,">").replace(/&quot;/mg,"\"").replace(/&amp;/mg,"&");
};

// Parse a space-separated string of name:value parameters
// The result is an array of objects:
//   result[0] = object with a member for each parameter name, value of that member being an array of values
//   result[1..n] = one object for each parameter, with 'name' and 'value' members
String.prototype.parseParams = function(defaultName,defaultValue,allowEval,noNames,cascadeDefaults)
{
	var parseToken = function(match,p) {
		var n;
		if(match[p]) // Double quoted
			n = match[p];
		else if(match[p+1]) // Single quoted
			n = match[p+1];
		else if(match[p+2]) // Double-square-bracket quoted
			n = match[p+2];
		else if(match[p+3]) // Double-brace quoted
			try {
				n = match[p+3];
				if(allowEval && config.evaluateMacroParameters != "none") {
					if(config.evaluateMacroParameters == "restricted") {
						if(window.restrictedEval) {
							n = window.restrictedEval(n);
						}
					} else {
						n = window.eval(n);
					}
				}
			} catch(ex) {
				throw "Unable to evaluate {{" + match[p+3] + "}}: " + exceptionText(ex);
			}
		else if(match[p+4]) // Unquoted
			n = match[p+4];
		else if(match[p+5]) // empty quote
			n = "";
		return n;
	};
	var r = [{}];
	var dblQuote = "(?:\"((?:(?:\\\\\")|[^\"])+)\")";
	var sngQuote = "(?:'((?:(?:\\\\\')|[^'])+)')";
	var dblSquare = "(?:\\[\\[((?:\\s|\\S)*?)\\]\\])";
	var dblBrace = "(?:\\{\\{((?:\\s|\\S)*?)\\}\\})";
	var unQuoted = noNames ? "([^\"'\\s]\\S*)" : "([^\"':\\s][^\\s:]*)";
	var emptyQuote = "((?:\"\")|(?:''))";
	var skipSpace = "(?:\\s*)";
	var token = "(?:" + dblQuote + "|" + sngQuote + "|" + dblSquare + "|" + dblBrace + "|" + unQuoted + "|" + emptyQuote + ")";
	var re = noNames ? new RegExp(token,"mg") : new RegExp(skipSpace + token + skipSpace + "(?:(\\:)" + skipSpace + token + ")?","mg");
	var match;
	do {
		match = re.exec(this);
		if(match) {
			var n = parseToken(match,1);
			if(noNames) {
				r.push({name:"",value:n});
			} else {
				var v = parseToken(match,8);
				if(v == null && defaultName) {
					v = n;
					n = defaultName;
				} else if(v == null && defaultValue) {
					v = defaultValue;
				}
				r.push({name:n,value:v});
				if(cascadeDefaults) {
					defaultName = n;
					defaultValue = v;
				}
			}
		}
	} while(match);
	// Summarise parameters into first element
	var t;
	for(t=1; t<r.length; t++) {
		if(r[0][r[t].name])
			r[0][r[t].name].push(r[t].value);
		else
			r[0][r[t].name] = [r[t].value];
	}
	return r;
};

// Process a string list of macro parameters into an array. Parameters can be quoted with "", '',
// [[]], {{ }} or left unquoted (and therefore space-separated). Double-braces {{}} results in
// an *evaluated* parameter: e.g. {{config.options.txtUserName}} results in the current user's name.
String.prototype.readMacroParams = function(notAllowEval)
{
	var p = this.parseParams("list",null,!notAllowEval,true);
	var t,n = [];
	for(t=1; t<p.length; t++)
		n.push(p[t].value);
	return n;
};

// Process a string list of unique tiddler names into an array. Tiddler names that have spaces in them must be [[bracketed]]
String.prototype.readBracketedList = function(unique)
{
	var p = this.parseParams("list",null,false,true);
	var t,n = [];
	for(t=1; t<p.length; t++) {
		if(p[t].value)
			n.pushUnique(p[t].value,unique);
	}
	return n;
};

// Returns array with start and end index of chunk between given start and end marker, or undefined.
String.prototype.getChunkRange = function(start,end)
{
	var s = this.indexOf(start);
	if(s != -1) {
		s += start.length;
		var e = this.indexOf(end,s);
		if(e != -1)
			return [s,e];
	}
};

// Replace a chunk of a string given start and end markers
String.prototype.replaceChunk = function(start,end,sub)
{
	var r = this.getChunkRange(start,end);
	return r ? this.substring(0,r[0]) + sub + this.substring(r[1]) : this;
};

// Returns a chunk of a string between start and end markers, or undefined
String.prototype.getChunk = function(start,end)
{
	var r = this.getChunkRange(start,end);
	if(r)
		return this.substring(r[0],r[1]);
};


// Static method to bracket a string with double square brackets if it contains a space
String.encodeTiddlyLink = function(title)
{
	return title.indexOf(" ") == -1 ? title : "[[" + title + "]]";
};

// Static method to encodeTiddlyLink for every item in an array and join them with spaces
String.encodeTiddlyLinkList = function(list)
{
	if(list) {
		var t,results = [];
		for(t=0; t<list.length; t++)
			results.push(String.encodeTiddlyLink(list[t]));
		return results.join(" ");
	} else {
		return "";
	}
};

// Convert a string as a sequence of name:"value" pairs into a hashmap
String.prototype.decodeHashMap = function()
{
	var fields = this.parseParams("anon","",false);
	var t,r = {};
	for(t=1; t<fields.length; t++)
		r[fields[t].name] = fields[t].value;
	return r;
};

// Static method to encode a hashmap into a name:"value"... string
String.encodeHashMap = function(hashmap)
{
	var t,r = [];
	for(t in hashmap)
		r.push(t + ':"' + hashmap[t] + '"');
	return r.join(" ");
};

// Static method to left-pad a string with 0s to a certain width
String.zeroPad = function(n,d)
{
	var s = n.toString();
	if(s.length < d)
		s = "000000000000000000000000000".substr(0,d-s.length) + s;
	return s;
};

String.prototype.startsWith = function(prefix)
{
	return !prefix || this.substring(0,prefix.length) == prefix;
};

// Returns the first value of the given named parameter.
function getParam(params,name,defaultValue)
{
	if(!params)
		return defaultValue;
	var p = params[0][name];
	return p ? p[0] : defaultValue;
}

// Returns the first value of the given boolean named parameter.
function getFlag(params,name,defaultValue)
{
	return !!getParam(params,name,defaultValue);
}

//--
//-- Augmented methods for the JavaScript Date() object
//--

// Substitute date components into a string
Date.prototype.formatString = function(template)
{
	var t = template.replace(/0hh12/g,String.zeroPad(this.getHours12(),2));
	t = t.replace(/hh12/g,this.getHours12());
	t = t.replace(/0hh/g,String.zeroPad(this.getHours(),2));
	t = t.replace(/hh/g,this.getHours());
	t = t.replace(/mmm/g,config.messages.dates.shortMonths[this.getMonth()]);
	t = t.replace(/0mm/g,String.zeroPad(this.getMinutes(),2));
	t = t.replace(/mm/g,this.getMinutes());
	t = t.replace(/0ss/g,String.zeroPad(this.getSeconds(),2));
	t = t.replace(/ss/g,this.getSeconds());
	t = t.replace(/[ap]m/g,this.getAmPm().toLowerCase());
	t = t.replace(/[AP]M/g,this.getAmPm().toUpperCase());
	t = t.replace(/wYYYY/g,this.getYearForWeekNo());
	t = t.replace(/wYY/g,String.zeroPad(this.getYearForWeekNo()-2000,2));
	t = t.replace(/YYYY/g,this.getFullYear());
	t = t.replace(/YY/g,String.zeroPad(this.getFullYear()-2000,2));
	t = t.replace(/MMM/g,config.messages.dates.months[this.getMonth()]);
	t = t.replace(/0MM/g,String.zeroPad(this.getMonth()+1,2));
	t = t.replace(/MM/g,this.getMonth()+1);
	t = t.replace(/0WW/g,String.zeroPad(this.getWeek(),2));
	t = t.replace(/WW/g,this.getWeek());
	t = t.replace(/DDD/g,config.messages.dates.days[this.getDay()]);
	t = t.replace(/ddd/g,config.messages.dates.shortDays[this.getDay()]);
	t = t.replace(/0DD/g,String.zeroPad(this.getDate(),2));
	t = t.replace(/DDth/g,this.getDate()+this.daySuffix());
	t = t.replace(/DD/g,this.getDate());
	var tz = this.getTimezoneOffset();
	var atz = Math.abs(tz);
	t = t.replace(/TZD/g,(tz < 0 ? '+' : '-') + String.zeroPad(Math.floor(atz / 60),2) + ':' + String.zeroPad(atz % 60,2));
	t = t.replace(/\\/g,"");
	return t;
};

Date.prototype.getWeek = function()
{
	var dt = new Date(this.getTime());
	var d = dt.getDay();
	if(d==0) d=7;// JavaScript Sun=0, ISO Sun=7
	dt.setTime(dt.getTime()+(4-d)*86400000);// shift day to Thurs of same week to calculate weekNo
	var n = Math.floor((dt.getTime()-new Date(dt.getFullYear(),0,1)+3600000)/86400000);
	return Math.floor(n/7)+1;
};

Date.prototype.getYearForWeekNo = function()
{
	var dt = new Date(this.getTime());
	var d = dt.getDay();
	if(d==0) d=7;// JavaScript Sun=0, ISO Sun=7
	dt.setTime(dt.getTime()+(4-d)*86400000);// shift day to Thurs of same week
	return dt.getFullYear();
};

Date.prototype.getHours12 = function()
{
	var h = this.getHours();
	return h > 12 ? h-12 : ( h > 0 ? h : 12 );
};

Date.prototype.getAmPm = function()
{
	return this.getHours() >= 12 ? config.messages.dates.pm : config.messages.dates.am;
};

Date.prototype.daySuffix = function()
{
	return config.messages.dates.daySuffixes[this.getDate()-1];
};

// Convert a date to local YYYYMMDDHHMM string format
Date.prototype.convertToLocalYYYYMMDDHHMM = function()
{
	return this.getFullYear() + String.zeroPad(this.getMonth()+1,2) + String.zeroPad(this.getDate(),2) + String.zeroPad(this.getHours(),2) + String.zeroPad(this.getMinutes(),2);
};

// Convert a date to UTC YYYYMMDDHHMM string format
Date.prototype.convertToYYYYMMDDHHMM = function()
{
	return this.getUTCFullYear() + String.zeroPad(this.getUTCMonth()+1,2) + String.zeroPad(this.getUTCDate(),2) + String.zeroPad(this.getUTCHours(),2) + String.zeroPad(this.getUTCMinutes(),2);
};

// Convert a date to UTC YYYYMMDD.HHMMSSMMM string format
Date.prototype.convertToYYYYMMDDHHMMSSMMM = function()
{
	return this.getUTCFullYear() + String.zeroPad(this.getUTCMonth()+1,2) + String.zeroPad(this.getUTCDate(),2) + "." + String.zeroPad(this.getUTCHours(),2) + String.zeroPad(this.getUTCMinutes(),2) + String.zeroPad(this.getUTCSeconds(),2) + String.zeroPad(this.getUTCMilliseconds(),3) +"0";
};

// Static method to create a date from a UTC YYYYMMDDHHMM format string
Date.convertFromYYYYMMDDHHMM = function(d)
{
	d = d?d.replace(/[^0-9]/g, ""):"";
	return Date.convertFromYYYYMMDDHHMMSSMMM(d.substr(0,12));
};

// Static method to create a date from a UTC YYYYMMDDHHMMSS format string
Date.convertFromYYYYMMDDHHMMSS = function(d)
{
	d = d?d.replace(/[^0-9]/g, ""):"";
	return Date.convertFromYYYYMMDDHHMMSSMMM(d.substr(0,14));
};

// Static method to create a date from a UTC YYYYMMDDHHMMSSMMM format string
Date.convertFromYYYYMMDDHHMMSSMMM = function(d)
{
	d = d ? d.replace(/[^0-9]/g, "") : "";
	return new Date(Date.UTC(parseInt(d.substr(0,4),10),
			parseInt(d.substr(4,2),10)-1,
			parseInt(d.substr(6,2),10),
			parseInt(d.substr(8,2)||"00",10),
			parseInt(d.substr(10,2)||"00",10),
			parseInt(d.substr(12,2)||"00",10),
			parseInt(d.substr(14,3)||"000",10)));
};

//--
//-- RGB colour object
//--

// Construct an RGB colour object from a '#rrggbb', '#rgb' or 'rgb(n,n,n)' string or from separate r,g,b values
function RGB(r,g,b)
{
	this.r = 0;
	this.g = 0;
	this.b = 0;
	if(typeof r == "string") {
		if(r.substr(0,1) == "#") {
			if(r.length == 7) {
				this.r = parseInt(r.substr(1,2),16)/255;
				this.g = parseInt(r.substr(3,2),16)/255;
				this.b = parseInt(r.substr(5,2),16)/255;
			} else {
				this.r = parseInt(r.substr(1,1),16)/15;
				this.g = parseInt(r.substr(2,1),16)/15;
				this.b = parseInt(r.substr(3,1),16)/15;
			}
		} else {
			var rgbPattern = /rgb\s*\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/;
			var c = r.match(rgbPattern);
			if(c) {
				this.r = parseInt(c[1],10)/255;
				this.g = parseInt(c[2],10)/255;
				this.b = parseInt(c[3],10)/255;
			}
		}
	} else {
		this.r = r;
		this.g = g;
		this.b = b;
	}
	return this;
}

// Mixes this colour with another in a specified proportion
// c = other colour to mix
// f = 0..1 where 0 is this colour and 1 is the new colour
// Returns an RGB object
RGB.prototype.mix = function(c,f)
{
	return new RGB(this.r + (c.r-this.r) * f,this.g + (c.g-this.g) * f,this.b + (c.b-this.b) * f);
};

// Return an rgb colour as a #rrggbb format hex string
RGB.prototype.toString = function()
{
	var clamp = function(x,min,max) {
		return x < min ? min : (x > max ? max : x);
	};
	return "#" +
			("0" + Math.floor(clamp(this.r,0,1) * 255).toString(16)).right(2) +
			("0" + Math.floor(clamp(this.g,0,1) * 255).toString(16)).right(2) +
			("0" + Math.floor(clamp(this.b,0,1) * 255).toString(16)).right(2);
};

//--
//-- DOM utilities - many derived from www.quirksmode.org
//--

function drawGradient(place,horiz,locolors,hicolors)
{
	if(!hicolors)
		hicolors = locolors;
	var t;
	for(t=0; t<= 100; t+=2) {
		var bar = document.createElement("div");
		place.appendChild(bar);
		bar.style.position = "absolute";
		bar.style.left = horiz ? t + "%" : 0;
		bar.style.top = horiz ? 0 : t + "%";
		bar.style.width = horiz ? (101-t) + "%" : "100%";
		bar.style.height = horiz ? "100%" : (101-t) + "%";
		bar.style.zIndex = -1;
		var p = t/100*(locolors.length-1);
		var hc = hicolors[Math.floor(p)];
		if(typeof hc == "string")
			hc = new RGB(hc);
		var lc = locolors[Math.ceil(p)];
		if(typeof lc == "string")
			lc = new RGB(lc);
		bar.style.backgroundColor = hc.mix(lc,p-Math.floor(p)).toString();
	}
}

function addEvent(obj,type,fn)
{
	if(obj.attachEvent) {
		obj["e"+type+fn] = fn;
		obj[type+fn] = function(){obj["e"+type+fn](window.event);};
		obj.attachEvent("on"+type,obj[type+fn]);
	} else {
		obj.addEventListener(type,fn,false);
	}
}

function removeEvent(obj,type,fn)
{
	if(obj.detachEvent) {
		obj.detachEvent("on"+type,obj[type+fn]);
		obj[type+fn] = null;
	} else {
		obj.removeEventListener(type,fn,false);
	}
}

// Find the closest relative with a given property value (property defaults to tagName, relative defaults to parentNode)
function findRelated(e,value,name,relative)
{
	name = name || "tagName";
	relative = relative || "parentNode";
	if(name == "className") {
		while(e && !jQuery(e).hasClass(value)) {
			e = e[relative];
		}
	} else {
		while(e && e[name] != value) {
			e = e[relative];
		}
	}
	return e;
}

// Get the scroll position for window.scrollTo necessary to scroll a given element into view
function ensureVisible(e)
{
	var posTop = findPosY(e);
	var posBot = posTop + e.offsetHeight;
	var winTop = findScrollY();
	var winHeight = findWindowHeight();
	var winBot = winTop + winHeight;
	if(posTop < winTop) {
		return posTop;
	} else if(posBot > winBot) {
		if(e.offsetHeight < winHeight)
			return posTop - (winHeight - e.offsetHeight);
		else
			return posTop;
	} else {
		return winTop;
	}
}

// Get the current width of the display window
function findWindowWidth()
{
	return window.innerWidth || document.documentElement.clientWidth;
}

// Get the current height of the display window
function findWindowHeight()
{
	return window.innerHeight || document.documentElement.clientHeight;
}

// Get the current height of the document
function findDocHeight() {
    var D = document;
    return Math.max(
        Math.max(D.body.scrollHeight, D.documentElement.scrollHeight),
        Math.max(D.body.offsetHeight, D.documentElement.offsetHeight),
        Math.max(D.body.clientHeight, D.documentElement.clientHeight)
    );
}

// Get the current horizontal page scroll position
function findScrollX()
{
	return window.scrollX || document.documentElement.scrollLeft;
}

// Get the current vertical page scroll position
function findScrollY()
{
	return window.scrollY || document.documentElement.scrollTop;
}

function findPosX(obj)
{
	var curleft = 0;
	while(obj.offsetParent) {
		curleft += obj.offsetLeft;
		obj = obj.offsetParent;
	}
	return curleft;
}

function findPosY(obj)
{
	var curtop = 0;
	while(obj.offsetParent) {
		curtop += obj.offsetTop;
		obj = obj.offsetParent;
	}
	return curtop;
}

// Blur a particular element
function blurElement(e)
{
	if(e && e.focus && e.blur) {
		e.focus();
		e.blur();
	}
}

// Create a non-breaking space
function insertSpacer(place)
{
	var e = document.createTextNode(String.fromCharCode(160));
	if(place)
		place.appendChild(e);
	return e;
}

// Replace the current selection of a textarea or text input and scroll it into view
function replaceSelection(e,text)
{
	if(e.setSelectionRange) {
		var oldpos = e.selectionStart;
		var isRange = e.selectionEnd > e.selectionStart;
		e.value = e.value.substr(0,e.selectionStart) + text + e.value.substr(e.selectionEnd);
		e.setSelectionRange(isRange ? oldpos : oldpos + text.length,oldpos + text.length);
		var linecount = e.value.split("\n").length;
		var thisline = e.value.substr(0,e.selectionStart).split("\n").length-1;
		e.scrollTop = Math.floor((thisline - e.rows / 2) * e.scrollHeight / linecount);
	} else if(document.selection) {
		var range = document.selection.createRange();
		if(range.parentElement() == e) {
			var isCollapsed = range.text == "";
			range.text = text;
			if(!isCollapsed) {
				range.moveStart("character", -text.length);
				range.select();
			}
		}
	}
}

// Set the caret position in a text area
function setCaretPosition(e,pos)
{
	if(e.selectionStart || e.selectionStart == '0') {
		e.selectionStart = pos;
		e.selectionEnd = pos;
		e.focus();
	} else if(document.selection) {
		// IE support
		e.focus ();
		var sel = document.selection.createRange();
		sel.moveStart('character', -e.value.length);
		sel.moveStart('character',pos);
		sel.moveEnd('character',0);
		sel.select();
	}
}

// Returns the text of the given (text) node, possibly merging subsequent text nodes
function getNodeText(e)
{
	var t = "";
	while(e && e.nodeName == "#text") {
		t += e.nodeValue;
		e = e.nextSibling;
	}
	return t;
}

// Returns true if the element e has a given ancestor element
function isDescendant(e,ancestor)
{
	while(e) {
		if(e === ancestor)
			return true;
		e = e.parentNode;
	}
	return false;
}


// deprecate the following...

// Prevent an event from bubbling
function stopEvent(e)
{
	var ev = e || window.event;
	ev.cancelBubble = true;
	if(ev.stopPropagation) ev.stopPropagation();
	return false;
}

// Remove any event handlers or non-primitve custom attributes
function scrubNode(e)
{
	if(!config.browser.isIE)
		return;
	var att = e.attributes;
	if(att) {
		var t;
		for(t=0; t<att.length; t++) {
			var n = att[t].name;
			if(n !== "style" && (typeof e[n] === "function" || (typeof e[n] === "object" && e[n] != null))) {
				try {
					e[n] = null;
				} catch(ex) {
				}
			}
		}
	}
	var c = e.firstChild;
	while(c) {
		scrubNode(c);
		c = c.nextSibling;
	}
}

function setStylesheet(s,id,doc)
{
	jQuery.twStylesheet(s,{id:id,doc:doc});
}

function removeStyleSheet(id)
{
	jQuery.twStylesheet.remove({id:id});
}

//--
//-- LoaderBase and SaverBase
//--

function LoaderBase() {}

LoaderBase.prototype.loadTiddler = function(store,node,tiddlers)
{
	var title = this.getTitle(store,node);
	if(safeMode && store.isShadowTiddler(title))
		return;
	if(title) {
		var tiddler = store.createTiddler(title);
		this.internalizeTiddler(store,tiddler,title,node);
		tiddlers.push(tiddler);
	}
};

LoaderBase.prototype.loadTiddlers = function(store,nodes)
{
	var t,tiddlers = [];
	for(t = 0; t < nodes.length; t++) {
		try {
			this.loadTiddler(store,nodes[t],tiddlers);
		} catch(ex) {
			showException(ex,config.messages.tiddlerLoadError.format([this.getTitle(store,nodes[t])]));
		}
	}
	return tiddlers;
};

function SaverBase() {}

SaverBase.prototype.externalize = function(store)
{
	var results = [];
	var t,tiddlers = store.getTiddlers("title");
	for(t = 0; t < tiddlers.length; t++) {
		if(!tiddlers[t].doNotSave())
			results.push(this.externalizeTiddler(store, tiddlers[t]));
	}
	return results.join("\n");
};

//--
//-- TW21Loader (inherits from LoaderBase)
//--

function TW21Loader() {}

TW21Loader.prototype = new LoaderBase();

TW21Loader.prototype.getTitle = function(store,node)
{
	var title = null;
	if(node.getAttribute) {
		title = node.getAttribute("title");
		if(!title)
			title = node.getAttribute("tiddler");
	}
	if(!title && node.id) {
		var lenPrefix = store.idPrefix.length;
		if(node.id.substr(0,lenPrefix) == store.idPrefix)
			title = node.id.substr(lenPrefix);
	}
	return title;
};

TW21Loader.prototype.internalizeTiddler = function(store,tiddler,title,node)
{
	var e = node.firstChild;
	var text = null;
	if(node.getAttribute("tiddler")) {
		text = getNodeText(e).unescapeLineBreaks();
	} else {
		while(e.nodeName!="PRE" && e.nodeName!="pre") {
			e = e.nextSibling;
		}
		text = e.innerHTML.replace(/\r/mg,"").htmlDecode();
	}
	var creator = node.getAttribute("creator");
	var modifier = node.getAttribute("modifier");
	var c = node.getAttribute("created");
	var m = node.getAttribute("modified");
	var created = c ? Date.convertFromYYYYMMDDHHMMSS(c) : version.date;
	var modified = m ? Date.convertFromYYYYMMDDHHMMSS(m) : created;
	var tags = node.getAttribute("tags");
	var fields = {};
	var i,attrs = node.attributes;
	for(i = attrs.length-1; i >= 0; i--) {
		var name = attrs[i].name;
		if(attrs[i].specified && !TiddlyWiki.isStandardField(name)) {
			fields[name] = attrs[i].value.unescapeLineBreaks();
		}
	}
	tiddler.assign(title,text,modifier,modified,tags,created,fields,creator);
	return tiddler;
};

//--
//-- TW21Saver (inherits from SaverBase)
//--

function TW21Saver() {}

TW21Saver.prototype = new SaverBase();

TW21Saver.prototype.externalizeTiddler = function(store,tiddler)
{
	try {
		var extendedAttributes = "";
		var usePre = config.options.chkUsePreForStorage;
		store.forEachField(tiddler,
			function(tiddler,fieldName,value) {
				// don't store stuff from the temp namespace
				if(typeof value != "string")
					value = "";
				if(!fieldName.match(/^temp\./))
					extendedAttributes += ' %0="%1"'.format([fieldName,value.escapeLineBreaks().htmlEncode()]);
			},true);
		var created = tiddler.created;
		var modified = tiddler.modified;
		var attributes = tiddler.creator ? ' creator="' + tiddler.creator.htmlEncode() + '"' : "";
		attributes += tiddler.modifier ? ' modifier="' + tiddler.modifier.htmlEncode() + '"' : "";
		attributes += (usePre && created == version.date) ? "" :' created="' + created.convertToYYYYMMDDHHMM() + '"';
		attributes += (usePre && modified == created) ? "" : ' modified="' + modified.convertToYYYYMMDDHHMM() +'"';
		var tags = tiddler.getTags();
		if(!usePre || tags)
			attributes += ' tags="' + tags.htmlEncode() + '"';
		return ('<div %0="%1"%2%3>%4</'+'div>').format([
				usePre ? "title" : "tiddler",
				tiddler.title.htmlEncode(),
				attributes,
				extendedAttributes,
				usePre ? "\n<pre>" + tiddler.text.htmlEncode() + "</pre>\n" : tiddler.text.escapeLineBreaks().htmlEncode()
			]);
	} catch (ex) {
		throw exceptionText(ex,config.messages.tiddlerSaveError.format([tiddler.title]));
	}
};



//]]>
</script>

<script id="jsdeprecatedArea" type="text/javascript">
//<![CDATA[
//--
//-- Deprecated Crypto functions and associated conversion routines.
//-- Use the jQuery.encoding functions directly instead.
//--

// Crypto 'namespace'
function Crypto() {}

// Convert a string to an array of big-endian 32-bit words
Crypto.strToBe32s = function(str)
{
	return jQuery.encoding.strToBe32s(str);
};

// Convert an array of big-endian 32-bit words to a string
Crypto.be32sToStr = function(be)
{
	return jQuery.encoding.be32sToStr(be);
};

// Convert an array of big-endian 32-bit words to a hex string
Crypto.be32sToHex = function(be)
{
	return jQuery.encoding.be32sToHex(be);
};

// Return, in hex, the SHA-1 hash of a string
Crypto.hexSha1Str = function(str)
{
	return jQuery.encoding.digests.hexSha1Str(str);
};

// Return the SHA-1 hash of a string
Crypto.sha1Str = function(str)
{
	return jQuery.encoding.digests.sha1Str(str);
};

// Calculate the SHA-1 hash of an array of blen bytes of big-endian 32-bit words
Crypto.sha1 = function(x,blen)
{
	return jQuery.encoding.digests.sha1(x,blen);
};

//--
//-- Deprecated code
//--

// @Deprecated: Use createElementAndWikify and this.termRegExp instead
config.formatterHelpers.charFormatHelper = function(w)
{
	w.subWikify(createTiddlyElement(w.output,this.element),this.terminator);
};

// @Deprecated: Use enclosedTextHelper and this.lookaheadRegExp instead
config.formatterHelpers.monospacedByLineHelper = function(w)
{
	var lookaheadRegExp = new RegExp(this.lookahead,"mg");
	lookaheadRegExp.lastIndex = w.matchStart;
	var lookaheadMatch = lookaheadRegExp.exec(w.source);
	if(lookaheadMatch && lookaheadMatch.index == w.matchStart) {
		var text = lookaheadMatch[1];
		if(config.browser.isIE)
			text = text.replace(/\n/g,"\r");
		createTiddlyElement(w.output,"pre",null,null,text);
		w.nextMatch = lookaheadRegExp.lastIndex;
	}
};

// @Deprecated: Use <br> or <br /> instead of <<br>>
config.macros.br = {};
config.macros.br.handler = function(place)
{
	createTiddlyElement(place,"br");
};

// Find an entry in an array. Returns the array index or null
// @Deprecated: Use indexOf instead
Array.prototype.find = function(item)
{
	var i = this.indexOf(item);
	return i == -1 ? null : i;
};

// Load a tiddler from an HTML DIV. The caller should make sure to later call Tiddler.changed()
// @Deprecated: Use store.getLoader().internalizeTiddler instead
Tiddler.prototype.loadFromDiv = function(divRef,title)
{
	return store.getLoader().internalizeTiddler(store,this,title,divRef);
};

// Format the text for storage in an HTML DIV
// @Deprecated Use store.getSaver().externalizeTiddler instead.
Tiddler.prototype.saveToDiv = function()
{
	return store.getSaver().externalizeTiddler(store,this);
};

// @Deprecated: Use store.allTiddlersAsHtml() instead
function allTiddlersAsHtml()
{
	return store.allTiddlersAsHtml();
}

// @Deprecated: Use refreshPageTemplate instead
function applyPageTemplate(title)
{
	refreshPageTemplate(title);
}

// @Deprecated: Use story.displayTiddlers instead
function displayTiddlers(srcElement,titles,template,unused1,unused2,animate,unused3)
{
	story.displayTiddlers(srcElement,titles,template,animate);
}

// @Deprecated: Use story.displayTiddler instead
function displayTiddler(srcElement,title,template,unused1,unused2,animate,unused3)
{
	story.displayTiddler(srcElement,title,template,animate);
}

// @Deprecated: Use functions on right hand side directly instead
var createTiddlerPopup = Popup.create;
var scrollToTiddlerPopup = Popup.show;
var hideTiddlerPopup = Popup.remove;

// @Deprecated: Use right hand side directly instead
var regexpBackSlashEn = new RegExp("\\\\n","mg");
var regexpBackSlash = new RegExp("\\\\","mg");
var regexpBackSlashEss = new RegExp("\\\\s","mg");
var regexpNewLine = new RegExp("\n","mg");
var regexpCarriageReturn = new RegExp("\r","mg");

//--
//-- Deprecated FileAdaptor functions
//--

FileAdaptor.loadTiddlyWikiCallback = function(status,context,responseText,url,xhr)
{
	context.status = status;
	if(!status) {
		context.statusText = "Error reading file";
	} else {
		context.adaptor.store = new TiddlyWiki();
		if(!context.adaptor.store.importTiddlyWiki(responseText)) {
			context.statusText = config.messages.invalidFileError.format([url]);
			context.status = false;
		}
	}
	context.complete(context,context.userParams);
};

//--
//-- Deprecated HTTP request code
//-- Use the jQuery ajax functions directly instead
//--

function loadRemoteFile(url,callback,params)
{
	return httpReq("GET",url,callback,params);
}

function doHttp(type,url,data,contentType,username,password,callback,params,headers,allowCache)
{
	return httpReq(type,url,callback,params,headers,data,contentType,username,password,allowCache);
}

//--
//-- Deprecated String functions
//--

// @Deprecated: no direct replacement, since not used in core code
String.prototype.toJSONString = function()
{
	// Convert a string to it's JSON representation by encoding control characters, double quotes and backslash. See json.org
	var m = {
		'\b': '\\b',
		'\f': '\\f',
		'\n': '\\n',
		'\r': '\\r',
		'\t': '\\t',
		'"' : '\\"',
		'\\': '\\\\'
		};
	var replaceFn = function(a,b) {
		var c = m[b];
		if(c)
			return c;
		c = b.charCodeAt();
		return '\\u00' + Math.floor(c / 16).toString(16) + (c % 16).toString(16);
		};
	if(/["\\\x00-\x1f]/.test(this))
		return '"' + this.replace(/([\x00-\x1f\\"])/g,replaceFn) + '"';
	return '"' + this + '"';
};

//--
//-- Deprecated Tiddler code
//--

// @Deprecated: Use tiddlerToRssItem(tiddler,uri) instead
Tiddler.prototype.toRssItem = function(uri)
{
	return tiddlerToRssItem(this,uri);
};

// @Deprecated: Use "<item>\n" + tiddlerToRssItem(tiddler,uri)  + "\n</item>" instead
Tiddler.prototype.saveToRss = function(uri)
{
	return "<item>\n" + tiddlerToRssItem(this,uri) + "\n</item>";
};

// @Deprecated: Use jQuery.encoding.digests.hexSha1Str instead
Tiddler.prototype.generateFingerprint = function()
{
	return "0x" + Crypto.hexSha1Str(this.text);
};

//--
//-- Deprecated Number functions
//--

// @Deprecated: no direct replacement, since not used in core code
// Clamp a number to a range
Number.prototype.clamp = function(min,max)
{
	var c = this;
	if(c < min)
		c = min;
	if(c > max)
		c = max;
	return Number(c);
};

//--
//-- Deprecated utility functions
//-- Use the jQuery functions directly instead
//--

// Remove all children of a node
function removeChildren(e)
{
	jQuery(e).empty();
}

// Remove a node and all it's children
function removeNode(e)
{
	jQuery(e).remove();
}

// Return the content of an element as plain text with no formatting
function getPlainText(e)
{
	return jQuery(e).text();
}

function addClass(e,className)
{
	jQuery(e).addClass(className);
}

function removeClass(e,className)
{
	jQuery(e).removeClass(className);
}

function hasClass(e,className)
{
	return jQuery(e).hasClass(className);
}

//--
//-- Deprecated Wikifier code
//--

function wikifyPlain(title,theStore,limit)
{
	if(!theStore)
		theStore = store;
	if(theStore.tiddlerExists(title) || theStore.isShadowTiddler(title)) {
		return wikifyPlainText(theStore.getTiddlerText(title),limit,tiddler);
	} else {
		return "";
	}
}


//]]>
</script>
<script id="jslibArea" type="text/javascript">
//<![CDATA[
/*! jQuery v1.8.3 jquery.com | jquery.org/license */
(function(e,t){function _(e){var t=M[e]={};return v.each(e.split(y),function(e,n){t[n]=!0}),t}function H(e,n,r){if(r===t&&e.nodeType===1){var i="data-"+n.replace(P,"-$1").toLowerCase();r=e.getAttribute(i);if(typeof r=="string"){try{r=r==="true"?!0:r==="false"?!1:r==="null"?null:+r+""===r?+r:D.test(r)?v.parseJSON(r):r}catch(s){}v.data(e,n,r)}else r=t}return r}function B(e){var t;for(t in e){if(t==="data"&&v.isEmptyObject(e[t]))continue;if(t!=="toJSON")return!1}return!0}function et(){return!1}function tt(){return!0}function ut(e){return!e||!e.parentNode||e.parentNode.nodeType===11}function at(e,t){do e=e[t];while(e&&e.nodeType!==1);return e}function ft(e,t,n){t=t||0;if(v.isFunction(t))return v.grep(e,function(e,r){var i=!!t.call(e,r,e);return i===n});if(t.nodeType)return v.grep(e,function(e,r){return e===t===n});if(typeof t=="string"){var r=v.grep(e,function(e){return e.nodeType===1});if(it.test(t))return v.filter(t,r,!n);t=v.filter(t,r)}return v.grep(e,function(e,r){return v.inArray(e,t)>=0===n})}function lt(e){var t=ct.split("|"),n=e.createDocumentFragment();if(n.createElement)while(t.length)n.createElement(t.pop());return n}function Lt(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function At(e,t){if(t.nodeType!==1||!v.hasData(e))return;var n,r,i,s=v._data(e),o=v._data(t,s),u=s.events;if(u){delete o.handle,o.events={};for(n in u)for(r=0,i=u[n].length;r<i;r++)v.event.add(t,n,u[n][r])}o.data&&(o.data=v.extend({},o.data))}function Ot(e,t){var n;if(t.nodeType!==1)return;t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),n=t.nodeName.toLowerCase(),n==="object"?(t.parentNode&&(t.outerHTML=e.outerHTML),v.support.html5Clone&&e.innerHTML&&!v.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):n==="input"&&Et.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):n==="option"?t.selected=e.defaultSelected:n==="input"||n==="textarea"?t.defaultValue=e.defaultValue:n==="script"&&t.text!==e.text&&(t.text=e.text),t.removeAttribute(v.expando)}function Mt(e){return typeof e.getElementsByTagName!="undefined"?e.getElementsByTagName("*"):typeof e.querySelectorAll!="undefined"?e.querySelectorAll("*"):[]}function _t(e){Et.test(e.type)&&(e.defaultChecked=e.checked)}function Qt(e,t){if(t in e)return t;var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=Jt.length;while(i--){t=Jt[i]+n;if(t in e)return t}return r}function Gt(e,t){return e=t||e,v.css(e,"display")==="none"||!v.contains(e.ownerDocument,e)}function Yt(e,t){var n,r,i=[],s=0,o=e.length;for(;s<o;s++){n=e[s];if(!n.style)continue;i[s]=v._data(n,"olddisplay"),t?(!i[s]&&n.style.display==="none"&&(n.style.display=""),n.style.display===""&&Gt(n)&&(i[s]=v._data(n,"olddisplay",nn(n.nodeName)))):(r=Dt(n,"display"),!i[s]&&r!=="none"&&v._data(n,"olddisplay",r))}for(s=0;s<o;s++){n=e[s];if(!n.style)continue;if(!t||n.style.display==="none"||n.style.display==="")n.style.display=t?i[s]||"":"none"}return e}function Zt(e,t,n){var r=Rt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function en(e,t,n,r){var i=n===(r?"border":"content")?4:t==="width"?1:0,s=0;for(;i<4;i+=2)n==="margin"&&(s+=v.css(e,n+$t[i],!0)),r?(n==="content"&&(s-=parseFloat(Dt(e,"padding"+$t[i]))||0),n!=="margin"&&(s-=parseFloat(Dt(e,"border"+$t[i]+"Width"))||0)):(s+=parseFloat(Dt(e,"padding"+$t[i]))||0,n!=="padding"&&(s+=parseFloat(Dt(e,"border"+$t[i]+"Width"))||0));return s}function tn(e,t,n){var r=t==="width"?e.offsetWidth:e.offsetHeight,i=!0,s=v.support.boxSizing&&v.css(e,"boxSizing")==="border-box";if(r<=0||r==null){r=Dt(e,t);if(r<0||r==null)r=e.style[t];if(Ut.test(r))return r;i=s&&(v.support.boxSizingReliable||r===e.style[t]),r=parseFloat(r)||0}return r+en(e,t,n||(s?"border":"content"),i)+"px"}function nn(e){if(Wt[e])return Wt[e];var t=v("<"+e+">").appendTo(i.body),n=t.css("display");t.remove();if(n==="none"||n===""){Pt=i.body.appendChild(Pt||v.extend(i.createElement("iframe"),{frameBorder:0,width:0,height:0}));if(!Ht||!Pt.createElement)Ht=(Pt.contentWindow||Pt.contentDocument).document,Ht.write("<!doctype html><html><body>"),Ht.close();t=Ht.body.appendChild(Ht.createElement(e)),n=Dt(t,"display"),i.body.removeChild(Pt)}return Wt[e]=n,n}function fn(e,t,n,r){var i;if(v.isArray(t))v.each(t,function(t,i){n||sn.test(e)?r(e,i):fn(e+"["+(typeof i=="object"?t:"")+"]",i,n,r)});else if(!n&&v.type(t)==="object")for(i in t)fn(e+"["+i+"]",t[i],n,r);else r(e,t)}function Cn(e){return function(t,n){typeof t!="string"&&(n=t,t="*");var r,i,s,o=t.toLowerCase().split(y),u=0,a=o.length;if(v.isFunction(n))for(;u<a;u++)r=o[u],s=/^\+/.test(r),s&&(r=r.substr(1)||"*"),i=e[r]=e[r]||[],i[s?"unshift":"push"](n)}}function kn(e,n,r,i,s,o){s=s||n.dataTypes[0],o=o||{},o[s]=!0;var u,a=e[s],f=0,l=a?a.length:0,c=e===Sn;for(;f<l&&(c||!u);f++)u=a[f](n,r,i),typeof u=="string"&&(!c||o[u]?u=t:(n.dataTypes.unshift(u),u=kn(e,n,r,i,u,o)));return(c||!u)&&!o["*"]&&(u=kn(e,n,r,i,"*",o)),u}function Ln(e,n){var r,i,s=v.ajaxSettings.flatOptions||{};for(r in n)n[r]!==t&&((s[r]?e:i||(i={}))[r]=n[r]);i&&v.extend(!0,e,i)}function An(e,n,r){var i,s,o,u,a=e.contents,f=e.dataTypes,l=e.responseFields;for(s in l)s in r&&(n[l[s]]=r[s]);while(f[0]==="*")f.shift(),i===t&&(i=e.mimeType||n.getResponseHeader("content-type"));if(i)for(s in a)if(a[s]&&a[s].test(i)){f.unshift(s);break}if(f[0]in r)o=f[0];else{for(s in r){if(!f[0]||e.converters[s+" "+f[0]]){o=s;break}u||(u=s)}o=o||u}if(o)return o!==f[0]&&f.unshift(o),r[o]}function On(e,t){var n,r,i,s,o=e.dataTypes.slice(),u=o[0],a={},f=0;e.dataFilter&&(t=e.dataFilter(t,e.dataType));if(o[1])for(n in e.converters)a[n.toLowerCase()]=e.converters[n];for(;i=o[++f];)if(i!=="*"){if(u!=="*"&&u!==i){n=a[u+" "+i]||a["* "+i];if(!n)for(r in a){s=r.split(" ");if(s[1]===i){n=a[u+" "+s[0]]||a["* "+s[0]];if(n){n===!0?n=a[r]:a[r]!==!0&&(i=s[0],o.splice(f--,0,i));break}}}if(n!==!0)if(n&&e["throws"])t=n(t);else try{t=n(t)}catch(l){return{state:"parsererror",error:n?l:"No conversion from "+u+" to "+i}}}u=i}return{state:"success",data:t}}function Fn(){try{return new e.XMLHttpRequest}catch(t){}}function In(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function $n(){return setTimeout(function(){qn=t},0),qn=v.now()}function Jn(e,t){v.each(t,function(t,n){var r=(Vn[t]||[]).concat(Vn["*"]),i=0,s=r.length;for(;i<s;i++)if(r[i].call(e,t,n))return})}function Kn(e,t,n){var r,i=0,s=0,o=Xn.length,u=v.Deferred().always(function(){delete a.elem}),a=function(){var t=qn||$n(),n=Math.max(0,f.startTime+f.duration-t),r=n/f.duration||0,i=1-r,s=0,o=f.tweens.length;for(;s<o;s++)f.tweens[s].run(i);return u.notifyWith(e,[f,i,n]),i<1&&o?n:(u.resolveWith(e,[f]),!1)},f=u.promise({elem:e,props:v.extend({},t),opts:v.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:qn||$n(),duration:n.duration,tweens:[],createTween:function(t,n,r){var i=v.Tween(e,f.opts,t,n,f.opts.specialEasing[t]||f.opts.easing);return f.tweens.push(i),i},stop:function(t){var n=0,r=t?f.tweens.length:0;for(;n<r;n++)f.tweens[n].run(1);return t?u.resolveWith(e,[f,t]):u.rejectWith(e,[f,t]),this}}),l=f.props;Qn(l,f.opts.specialEasing);for(;i<o;i++){r=Xn[i].call(f,e,l,f.opts);if(r)return r}return Jn(f,l),v.isFunction(f.opts.start)&&f.opts.start.call(e,f),v.fx.timer(v.extend(a,{anim:f,queue:f.opts.queue,elem:e})),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always)}function Qn(e,t){var n,r,i,s,o;for(n in e){r=v.camelCase(n),i=t[r],s=e[n],v.isArray(s)&&(i=s[1],s=e[n]=s[0]),n!==r&&(e[r]=s,delete e[n]),o=v.cssHooks[r];if(o&&"expand"in o){s=o.expand(s),delete e[r];for(n in s)n in e||(e[n]=s[n],t[n]=i)}else t[r]=i}}function Gn(e,t,n){var r,i,s,o,u,a,f,l,c,h=this,p=e.style,d={},m=[],g=e.nodeType&&Gt(e);n.queue||(l=v._queueHooks(e,"fx"),l.unqueued==null&&(l.unqueued=0,c=l.empty.fire,l.empty.fire=function(){l.unqueued||c()}),l.unqueued++,h.always(function(){h.always(function(){l.unqueued--,v.queue(e,"fx").length||l.empty.fire()})})),e.nodeType===1&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],v.css(e,"display")==="inline"&&v.css(e,"float")==="none"&&(!v.support.inlineBlockNeedsLayout||nn(e.nodeName)==="inline"?p.display="inline-block":p.zoom=1)),n.overflow&&(p.overflow="hidden",v.support.shrinkWrapBlocks||h.done(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t){s=t[r];if(Un.exec(s)){delete t[r],a=a||s==="toggle";if(s===(g?"hide":"show"))continue;m.push(r)}}o=m.length;if(o){u=v._data(e,"fxshow")||v._data(e,"fxshow",{}),"hidden"in u&&(g=u.hidden),a&&(u.hidden=!g),g?v(e).show():h.done(function(){v(e).hide()}),h.done(function(){var t;v.removeData(e,"fxshow",!0);for(t in d)v.style(e,t,d[t])});for(r=0;r<o;r++)i=m[r],f=h.createTween(i,g?u[i]:0),d[i]=u[i]||v.style(e,i),i in u||(u[i]=f.start,g&&(f.end=f.start,f.start=i==="width"||i==="height"?1:0))}}function Yn(e,t,n,r,i){return new Yn.prototype.init(e,t,n,r,i)}function Zn(e,t){var n,r={height:e},i=0;t=t?1:0;for(;i<4;i+=2-t)n=$t[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function tr(e){return v.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:!1}var n,r,i=e.document,s=e.location,o=e.navigator,u=e.jQuery,a=e.$,f=Array.prototype.push,l=Array.prototype.slice,c=Array.prototype.indexOf,h=Object.prototype.toString,p=Object.prototype.hasOwnProperty,d=String.prototype.trim,v=function(e,t){return new v.fn.init(e,t,n)},m=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,g=/\S/,y=/\s+/,b=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,w=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,E=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,S=/^[\],:{}\s]*$/,x=/(?:^|:|,)(?:\s*\[)+/g,T=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,N=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,C=/^-ms-/,k=/-([\da-z])/gi,L=function(e,t){return(t+"").toUpperCase()},A=function(){i.addEventListener?(i.removeEventListener("DOMContentLoaded",A,!1),v.ready()):i.readyState==="complete"&&(i.detachEvent("onreadystatechange",A),v.ready())},O={};v.fn=v.prototype={constructor:v,init:function(e,n,r){var s,o,u,a;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if(typeof e=="string"){e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3?s=[null,e,null]:s=w.exec(e);if(s&&(s[1]||!n)){if(s[1])return n=n instanceof v?n[0]:n,a=n&&n.nodeType?n.ownerDocument||n:i,e=v.parseHTML(s[1],a,!0),E.test(s[1])&&v.isPlainObject(n)&&this.attr.call(e,n,!0),v.merge(this,e);o=i.getElementById(s[2]);if(o&&o.parentNode){if(o.id!==s[2])return r.find(e);this.length=1,this[0]=o}return this.context=i,this.selector=e,this}return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e)}return v.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),v.makeArray(e,this))},selector:"",jquery:"1.8.3",length:0,size:function(){return this.length},toArray:function(){return l.call(this)},get:function(e){return e==null?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e,t,n){var r=v.merge(this.constructor(),e);return r.prevObject=this,r.context=this.context,t==="find"?r.selector=this.selector+(this.selector?" ":"")+n:t&&(r.selector=this.selector+"."+t+"("+n+")"),r},each:function(e,t){return v.each(this,e,t)},ready:function(e){return v.ready.promise().done(e),this},eq:function(e){return e=+e,e===-1?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(l.apply(this,arguments),"slice",l.call(arguments).join(","))},map:function(e){return this.pushStack(v.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:[].sort,splice:[].splice},v.fn.init.prototype=v.fn,v.extend=v.fn.extend=function(){var e,n,r,i,s,o,u=arguments[0]||{},a=1,f=arguments.length,l=!1;typeof u=="boolean"&&(l=u,u=arguments[1]||{},a=2),typeof u!="object"&&!v.isFunction(u)&&(u={}),f===a&&(u=this,--a);for(;a<f;a++)if((e=arguments[a])!=null)for(n in e){r=u[n],i=e[n];if(u===i)continue;l&&i&&(v.isPlainObject(i)||(s=v.isArray(i)))?(s?(s=!1,o=r&&v.isArray(r)?r:[]):o=r&&v.isPlainObject(r)?r:{},u[n]=v.extend(l,o,i)):i!==t&&(u[n]=i)}return u},v.extend({noConflict:function(t){return e.$===v&&(e.$=a),t&&e.jQuery===v&&(e.jQuery=u),v},isReady:!1,readyWait:1,holdReady:function(e){e?v.readyWait++:v.ready(!0)},ready:function(e){if(e===!0?--v.readyWait:v.isReady)return;if(!i.body)return setTimeout(v.ready,1);v.isReady=!0;if(e!==!0&&--v.readyWait>0)return;r.resolveWith(i,[v]),v.fn.trigger&&v(i).trigger("ready").off("ready")},isFunction:function(e){return v.type(e)==="function"},isArray:Array.isArray||function(e){return v.type(e)==="array"},isWindow:function(e){return e!=null&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return e==null?String(e):O[h.call(e)]||"object"},isPlainObject:function(e){if(!e||v.type(e)!=="object"||e.nodeType||v.isWindow(e))return!1;try{if(e.constructor&&!p.call(e,"constructor")&&!p.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var r;for(r in e);return r===t||p.call(e,r)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){var r;return!e||typeof e!="string"?null:(typeof t=="boolean"&&(n=t,t=0),t=t||i,(r=E.exec(e))?[t.createElement(r[1])]:(r=v.buildFragment([e],t,n?null:[]),v.merge([],(r.cacheable?v.clone(r.fragment):r.fragment).childNodes)))},parseJSON:function(t){if(!t||typeof t!="string")return null;t=v.trim(t);if(e.JSON&&e.JSON.parse)return e.JSON.parse(t);if(S.test(t.replace(T,"@").replace(N,"]").replace(x,"")))return(new Function("return "+t))();v.error("Invalid JSON: "+t)},parseXML:function(n){var r,i;if(!n||typeof n!="string")return null;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(s){r=t}return(!r||!r.documentElement||r.getElementsByTagName("parsererror").length)&&v.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&g.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(C,"ms-").replace(k,L)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,n,r){var i,s=0,o=e.length,u=o===t||v.isFunction(e);if(r){if(u){for(i in e)if(n.apply(e[i],r)===!1)break}else for(;s<o;)if(n.apply(e[s++],r)===!1)break}else if(u){for(i in e)if(n.call(e[i],i,e[i])===!1)break}else for(;s<o;)if(n.call(e[s],s,e[s++])===!1)break;return e},trim:d&&!d.call("\ufeff\u00a0")?function(e){return e==null?"":d.call(e)}:function(e){return e==null?"":(e+"").replace(b,"")},makeArray:function(e,t){var n,r=t||[];return e!=null&&(n=v.type(e),e.length==null||n==="string"||n==="function"||n==="regexp"||v.isWindow(e)?f.call(r,e):v.merge(r,e)),r},inArray:function(e,t,n){var r;if(t){if(c)return c.call(t,e,n);r=t.length,n=n?n<0?Math.max(0,r+n):n:0;for(;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,i=e.length,s=0;if(typeof r=="number")for(;s<r;s++)e[i++]=n[s];else while(n[s]!==t)e[i++]=n[s++];return e.length=i,e},grep:function(e,t,n){var r,i=[],s=0,o=e.length;n=!!n;for(;s<o;s++)r=!!t(e[s],s),n!==r&&i.push(e[s]);return i},map:function(e,n,r){var i,s,o=[],u=0,a=e.length,f=e instanceof v||a!==t&&typeof a=="number"&&(a>0&&e[0]&&e[a-1]||a===0||v.isArray(e));if(f)for(;u<a;u++)i=n(e[u],u,r),i!=null&&(o[o.length]=i);else for(s in e)i=n(e[s],s,r),i!=null&&(o[o.length]=i);return o.concat.apply([],o)},guid:1,proxy:function(e,n){var r,i,s;return typeof n=="string"&&(r=e[n],n=e,e=r),v.isFunction(e)?(i=l.call(arguments,2),s=function(){return e.apply(n,i.concat(l.call(arguments)))},s.guid=e.guid=e.guid||v.guid++,s):t},access:function(e,n,r,i,s,o,u){var a,f=r==null,l=0,c=e.length;if(r&&typeof r=="object"){for(l in r)v.access(e,n,l,r[l],1,o,i);s=1}else if(i!==t){a=u===t&&v.isFunction(i),f&&(a?(a=n,n=function(e,t,n){return a.call(v(e),n)}):(n.call(e,i),n=null));if(n)for(;l<c;l++)n(e[l],r,a?i.call(e[l],l,n(e[l],r)):i,u);s=1}return s?e:f?n.call(e):c?n(e[0],r):o},now:function(){return(new Date).getTime()}}),v.ready.promise=function(t){if(!r){r=v.Deferred();if(i.readyState==="complete")setTimeout(v.ready,1);else if(i.addEventListener)i.addEventListener("DOMContentLoaded",A,!1),e.addEventListener("load",v.ready,!1);else{i.attachEvent("onreadystatechange",A),e.attachEvent("onload",v.ready);var n=!1;try{n=e.frameElement==null&&i.documentElement}catch(s){}n&&n.doScroll&&function o(){if(!v.isReady){try{n.doScroll("left")}catch(e){return setTimeout(o,50)}v.ready()}}()}}return r.promise(t)},v.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){O["[object "+t+"]"]=t.toLowerCase()}),n=v(i);var M={};v.Callbacks=function(e){e=typeof e=="string"?M[e]||_(e):v.extend({},e);var n,r,i,s,o,u,a=[],f=!e.once&&[],l=function(t){n=e.memory&&t,r=!0,u=s||0,s=0,o=a.length,i=!0;for(;a&&u<o;u++)if(a[u].apply(t[0],t[1])===!1&&e.stopOnFalse){n=!1;break}i=!1,a&&(f?f.length&&l(f.shift()):n?a=[]:c.disable())},c={add:function(){if(a){var t=a.length;(function r(t){v.each(t,function(t,n){var i=v.type(n);i==="function"?(!e.unique||!c.has(n))&&a.push(n):n&&n.length&&i!=="string"&&r(n)})})(arguments),i?o=a.length:n&&(s=t,l(n))}return this},remove:function(){return a&&v.each(arguments,function(e,t){var n;while((n=v.inArray(t,a,n))>-1)a.splice(n,1),i&&(n<=o&&o--,n<=u&&u--)}),this},has:function(e){return v.inArray(e,a)>-1},empty:function(){return a=[],this},disable:function(){return a=f=n=t,this},disabled:function(){return!a},lock:function(){return f=t,n||c.disable(),this},locked:function(){return!f},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],a&&(!r||f)&&(i?f.push(t):l(t)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},v.extend({Deferred:function(e){var t=[["resolve","done",v.Callbacks("once memory"),"resolved"],["reject","fail",v.Callbacks("once memory"),"rejected"],["notify","progress",v.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return v.Deferred(function(n){v.each(t,function(t,r){var s=r[0],o=e[t];i[r[1]](v.isFunction(o)?function(){var e=o.apply(this,arguments);e&&v.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s+"With"](this===i?n:this,[e])}:n[s])}),e=null}).promise()},promise:function(e){return e!=null?v.extend(e,r):r}},i={};return r.pipe=r.then,v.each(t,function(e,s){var o=s[2],u=s[3];r[s[1]]=o.add,u&&o.add(function(){n=u},t[e^1][2].disable,t[2][2].lock),i[s[0]]=o.fire,i[s[0]+"With"]=o.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=l.call(arguments),r=n.length,i=r!==1||e&&v.isFunction(e.promise)?r:0,s=i===1?e:v.Deferred(),o=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?l.call(arguments):r,n===u?s.notifyWith(t,n):--i||s.resolveWith(t,n)}},u,a,f;if(r>1){u=new Array(r),a=new Array(r),f=new Array(r);for(;t<r;t++)n[t]&&v.isFunction(n[t].promise)?n[t].promise().done(o(t,f,n)).fail(s.reject).progress(o(t,a,u)):--i}return i||s.resolveWith(f,n),s.promise()}}),v.support=function(){var t,n,r,s,o,u,a,f,l,c,h,p=i.createElement("div");p.setAttribute("className","t"),p.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=p.getElementsByTagName("*"),r=p.getElementsByTagName("a")[0];if(!n||!r||!n.length)return{};s=i.createElement("select"),o=s.appendChild(i.createElement("option")),u=p.getElementsByTagName("input")[0],r.style.cssText="top:1px;float:left;opacity:.5",t={leadingWhitespace:p.firstChild.nodeType===3,tbody:!p.getElementsByTagName("tbody").length,htmlSerialize:!!p.getElementsByTagName("link").length,style:/top/.test(r.getAttribute("style")),hrefNormalized:r.getAttribute("href")==="/a",opacity:/^0.5/.test(r.style.opacity),cssFloat:!!r.style.cssFloat,checkOn:u.value==="on",optSelected:o.selected,getSetAttribute:p.className!=="t",enctype:!!i.createElement("form").enctype,html5Clone:i.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",boxModel:i.compatMode==="CSS1Compat",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},u.checked=!0,t.noCloneChecked=u.cloneNode(!0).checked,s.disabled=!0,t.optDisabled=!o.disabled;try{delete p.test}catch(d){t.deleteExpando=!1}!p.addEventListener&&p.attachEvent&&p.fireEvent&&(p.attachEvent("onclick",h=function(){t.noCloneEvent=!1}),p.cloneNode(!0).fireEvent("onclick"),p.detachEvent("onclick",h)),u=i.createElement("input"),u.value="t",u.setAttribute("type","radio"),t.radioValue=u.value==="t",u.setAttribute("checked","checked"),u.setAttribute("name","t"),p.appendChild(u),a=i.createDocumentFragment(),a.appendChild(p.lastChild),t.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,t.appendChecked=u.checked,a.removeChild(u),a.appendChild(p);if(p.attachEvent)for(l in{submit:!0,change:!0,focusin:!0})f="on"+l,c=f in p,c||(p.setAttribute(f,"return;"),c=typeof p[f]=="function"),t[l+"Bubbles"]=c;return v(function(){var n,r,s,o,u="padding:0;margin:0;border:0;display:block;overflow:hidden;",a=i.getElementsByTagName("body")[0];if(!a)return;n=i.createElement("div"),n.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",a.insertBefore(n,a.firstChild),r=i.createElement("div"),n.appendChild(r),r.innerHTML="<table><tr><td></td><td>t</td></tr></table>",s=r.getElementsByTagName("td"),s[0].style.cssText="padding:0;margin:0;border:0;display:none",c=s[0].offsetHeight===0,s[0].style.display="",s[1].style.display="none",t.reliableHiddenOffsets=c&&s[0].offsetHeight===0,r.innerHTML="",r.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=r.offsetWidth===4,t.doesNotIncludeMarginInBodyOffset=a.offsetTop!==1,e.getComputedStyle&&(t.pixelPosition=(e.getComputedStyle(r,null)||{}).top!=="1%",t.boxSizingReliable=(e.getComputedStyle(r,null)||{width:"4px"}).width==="4px",o=i.createElement("div"),o.style.cssText=r.style.cssText=u,o.style.marginRight=o.style.width="0",r.style.width="1px",r.appendChild(o),t.reliableMarginRight=!parseFloat((e.getComputedStyle(o,null)||{}).marginRight)),typeof r.style.zoom!="undefined"&&(r.innerHTML="",r.style.cssText=u+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=r.offsetWidth===3,r.style.display="block",r.style.overflow="visible",r.innerHTML="<div></div>",r.firstChild.style.width="5px",t.shrinkWrapBlocks=r.offsetWidth!==3,n.style.zoom=1),a.removeChild(n),n=r=s=o=null}),a.removeChild(p),n=r=s=o=u=a=p=null,t}();var D=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,P=/([A-Z])/g;v.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(v.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?v.cache[e[v.expando]]:e[v.expando],!!e&&!B(e)},data:function(e,n,r,i){if(!v.acceptData(e))return;var s,o,u=v.expando,a=typeof n=="string",f=e.nodeType,l=f?v.cache:e,c=f?e[u]:e[u]&&u;if((!c||!l[c]||!i&&!l[c].data)&&a&&r===t)return;c||(f?e[u]=c=v.deletedIds.pop()||v.guid++:c=u),l[c]||(l[c]={},f||(l[c].toJSON=v.noop));if(typeof n=="object"||typeof n=="function")i?l[c]=v.extend(l[c],n):l[c].data=v.extend(l[c].data,n);return s=l[c],i||(s.data||(s.data={}),s=s.data),r!==t&&(s[v.camelCase(n)]=r),a?(o=s[n],o==null&&(o=s[v.camelCase(n)])):o=s,o},removeData:function(e,t,n){if(!v.acceptData(e))return;var r,i,s,o=e.nodeType,u=o?v.cache:e,a=o?e[v.expando]:v.expando;if(!u[a])return;if(t){r=n?u[a]:u[a].data;if(r){v.isArray(t)||(t in r?t=[t]:(t=v.camelCase(t),t in r?t=[t]:t=t.split(" ")));for(i=0,s=t.length;i<s;i++)delete r[t[i]];if(!(n?B:v.isEmptyObject)(r))return}}if(!n){delete u[a].data;if(!B(u[a]))return}o?v.cleanData([e],!0):v.support.deleteExpando||u!=u.window?delete u[a]:u[a]=null},_data:function(e,t,n){return v.data(e,t,n,!0)},acceptData:function(e){var t=e.nodeName&&v.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),v.fn.extend({data:function(e,n){var r,i,s,o,u,a=this[0],f=0,l=null;if(e===t){if(this.length){l=v.data(a);if(a.nodeType===1&&!v._data(a,"parsedAttrs")){s=a.attributes;for(u=s.length;f<u;f++)o=s[f].name,o.indexOf("data-")||(o=v.camelCase(o.substring(5)),H(a,o,l[o]));v._data(a,"parsedAttrs",!0)}}return l}return typeof e=="object"?this.each(function(){v.data(this,e)}):(r=e.split(".",2),r[1]=r[1]?"."+r[1]:"",i=r[1]+"!",v.access(this,function(n){if(n===t)return l=this.triggerHandler("getData"+i,[r[0]]),l===t&&a&&(l=v.data(a,e),l=H(a,e,l)),l===t&&r[1]?this.data(r[0]):l;r[1]=n,this.each(function(){var t=v(this);t.triggerHandler("setData"+i,r),v.data(this,e,n),t.triggerHandler("changeData"+i,r)})},null,n,arguments.length>1,null,!1))},removeData:function(e){return this.each(function(){v.removeData(this,e)})}}),v.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=v._data(e,t),n&&(!r||v.isArray(n)?r=v._data(e,t,v.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=v.queue(e,t),r=n.length,i=n.shift(),s=v._queueHooks(e,t),o=function(){v.dequeue(e,t)};i==="inprogress"&&(i=n.shift(),r--),i&&(t==="fx"&&n.unshift("inprogress"),delete s.stop,i.call(e,o,s)),!r&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return v._data(e,n)||v._data(e,n,{empty:v.Callbacks("once memory").add(function(){v.removeData(e,t+"queue",!0),v.removeData(e,n,!0)})})}}),v.fn.extend({queue:function(e,n){var r=2;return typeof e!="string"&&(n=e,e="fx",r--),arguments.length<r?v.queue(this[0],e):n===t?this:this.each(function(){var t=v.queue(this,e,n);v._queueHooks(this,e),e==="fx"&&t[0]!=="inprogress"&&v.dequeue(this,e)})},dequeue:function(e){return this.each(function(){v.dequeue(this,e)})},delay:function(e,t){return e=v.fx?v.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,s=v.Deferred(),o=this,u=this.length,a=function(){--i||s.resolveWith(o,[o])};typeof e!="string"&&(n=e,e=t),e=e||"fx";while(u--)r=v._data(o[u],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(a));return a(),s.promise(n)}});var j,F,I,q=/[\t\r\n]/g,R=/\r/g,U=/^(?:button|input)$/i,z=/^(?:button|input|object|select|textarea)$/i,W=/^a(?:rea|)$/i,X=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,V=v.support.getSetAttribute;v.fn.extend({attr:function(e,t){return v.access(this,v.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){v.removeAttr(this,e)})},prop:function(e,t){return v.access(this,v.prop,e,t,arguments.length>1)},removeProp:function(e){return e=v.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,s,o,u;if(v.isFunction(e))return this.each(function(t){v(this).addClass(e.call(this,t,this.className))});if(e&&typeof e=="string"){t=e.split(y);for(n=0,r=this.length;n<r;n++){i=this[n];if(i.nodeType===1)if(!i.className&&t.length===1)i.className=e;else{s=" "+i.className+" ";for(o=0,u=t.length;o<u;o++)s.indexOf(" "+t[o]+" ")<0&&(s+=t[o]+" ");i.className=v.trim(s)}}}return this},removeClass:function(e){var n,r,i,s,o,u,a;if(v.isFunction(e))return this.each(function(t){v(this).removeClass(e.call(this,t,this.className))});if(e&&typeof e=="string"||e===t){n=(e||"").split(y);for(u=0,a=this.length;u<a;u++){i=this[u];if(i.nodeType===1&&i.className){r=(" "+i.className+" ").replace(q," ");for(s=0,o=n.length;s<o;s++)while(r.indexOf(" "+n[s]+" ")>=0)r=r.replace(" "+n[s]+" "," ");i.className=e?v.trim(r):""}}}return this},toggleClass:function(e,t){var n=typeof e,r=typeof t=="boolean";return v.isFunction(e)?this.each(function(n){v(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if(n==="string"){var i,s=0,o=v(this),u=t,a=e.split(y);while(i=a[s++])u=r?u:!o.hasClass(i),o[u?"addClass":"removeClass"](i)}else if(n==="undefined"||n==="boolean")this.className&&v._data(this,"__className__",this.className),this.className=this.className||e===!1?"":v._data(this,"__className__")||""})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;n<r;n++)if(this[n].nodeType===1&&(" "+this[n].className+" ").replace(q," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,r,i,s=this[0];if(!arguments.length){if(s)return n=v.valHooks[s.type]||v.valHooks[s.nodeName.toLowerCase()],n&&"get"in n&&(r=n.get(s,"value"))!==t?r:(r=s.value,typeof r=="string"?r.replace(R,""):r==null?"":r);return}return i=v.isFunction(e),this.each(function(r){var s,o=v(this);if(this.nodeType!==1)return;i?s=e.call(this,r,o.val()):s=e,s==null?s="":typeof s=="number"?s+="":v.isArray(s)&&(s=v.map(s,function(e){return e==null?"":e+""})),n=v.valHooks[this.type]||v.valHooks[this.nodeName.toLowerCase()];if(!n||!("set"in n)||n.set(this,s,"value")===t)this.value=s})}}),v.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,s=e.type==="select-one"||i<0,o=s?null:[],u=s?i+1:r.length,a=i<0?u:s?i:0;for(;a<u;a++){n=r[a];if((n.selected||a===i)&&(v.support.optDisabled?!n.disabled:n.getAttribute("disabled")===null)&&(!n.parentNode.disabled||!v.nodeName(n.parentNode,"optgroup"))){t=v(n).val();if(s)return t;o.push(t)}}return o},set:function(e,t){var n=v.makeArray(t);return v(e).find("option").each(function(){this.selected=v.inArray(v(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attrFn:{},attr:function(e,n,r,i){var s,o,u,a=e.nodeType;if(!e||a===3||a===8||a===2)return;if(i&&v.isFunction(v.fn[n]))return v(e)[n](r);if(typeof e.getAttribute=="undefined")return v.prop(e,n,r);u=a!==1||!v.isXMLDoc(e),u&&(n=n.toLowerCase(),o=v.attrHooks[n]||(X.test(n)?F:j));if(r!==t){if(r===null){v.removeAttr(e,n);return}return o&&"set"in o&&u&&(s=o.set(e,r,n))!==t?s:(e.setAttribute(n,r+""),r)}return o&&"get"in o&&u&&(s=o.get(e,n))!==null?s:(s=e.getAttribute(n),s===null?t:s)},removeAttr:function(e,t){var n,r,i,s,o=0;if(t&&e.nodeType===1){r=t.split(y);for(;o<r.length;o++)i=r[o],i&&(n=v.propFix[i]||i,s=X.test(i),s||v.attr(e,i,""),e.removeAttribute(V?i:n),s&&n in e&&(e[n]=!1))}},attrHooks:{type:{set:function(e,t){if(U.test(e.nodeName)&&e.parentNode)v.error("type property can't be changed");else if(!v.support.radioValue&&t==="radio"&&v.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}},value:{get:function(e,t){return j&&v.nodeName(e,"button")?j.get(e,t):t in e?e.value:null},set:function(e,t,n){if(j&&v.nodeName(e,"button"))return j.set(e,t,n);e.value=t}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,r){var i,s,o,u=e.nodeType;if(!e||u===3||u===8||u===2)return;return o=u!==1||!v.isXMLDoc(e),o&&(n=v.propFix[n]||n,s=v.propHooks[n]),r!==t?s&&"set"in s&&(i=s.set(e,r,n))!==t?i:e[n]=r:s&&"get"in s&&(i=s.get(e,n))!==null?i:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):z.test(e.nodeName)||W.test(e.nodeName)&&e.href?0:t}}}}),F={get:function(e,n){var r,i=v.prop(e,n);return i===!0||typeof i!="boolean"&&(r=e.getAttributeNode(n))&&r.nodeValue!==!1?n.toLowerCase():t},set:function(e,t,n){var r;return t===!1?v.removeAttr(e,n):(r=v.propFix[n]||n,r in e&&(e[r]=!0),e.setAttribute(n,n.toLowerCase())),n}},V||(I={name:!0,id:!0,coords:!0},j=v.valHooks.button={get:function(e,n){var r;return r=e.getAttributeNode(n),r&&(I[n]?r.value!=="":r.specified)?r.value:t},set:function(e,t,n){var r=e.getAttributeNode(n);return r||(r=i.createAttribute(n),e.setAttributeNode(r)),r.value=t+""}},v.each(["width","height"],function(e,t){v.attrHooks[t]=v.extend(v.attrHooks[t],{set:function(e,n){if(n==="")return e.setAttribute(t,"auto"),n}})}),v.attrHooks.contenteditable={get:j.get,set:function(e,t,n){t===""&&(t="false"),j.set(e,t,n)}}),v.support.hrefNormalized||v.each(["href","src","width","height"],function(e,n){v.attrHooks[n]=v.extend(v.attrHooks[n],{get:function(e){var r=e.getAttribute(n,2);return r===null?t:r}})}),v.support.style||(v.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||t},set:function(e,t){return e.style.cssText=t+""}}),v.support.optSelected||(v.propHooks.selected=v.extend(v.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),v.support.enctype||(v.propFix.enctype="encoding"),v.support.checkOn||v.each(["radio","checkbox"],function(){v.valHooks[this]={get:function(e){return e.getAttribute("value")===null?"on":e.value}}}),v.each(["radio","checkbox"],function(){v.valHooks[this]=v.extend(v.valHooks[this],{set:function(e,t){if(v.isArray(t))return e.checked=v.inArray(v(e).val(),t)>=0}})});var $=/^(?:textarea|input|select)$/i,J=/^([^\.]*|)(?:\.(.+)|)$/,K=/(?:^|\s)hover(\.\S+|)\b/,Q=/^key/,G=/^(?:mouse|contextmenu)|click/,Y=/^(?:focusinfocus|focusoutblur)$/,Z=function(e){return v.event.special.hover?e:e.replace(K,"mouseenter$1 mouseleave$1")};v.event={add:function(e,n,r,i,s){var o,u,a,f,l,c,h,p,d,m,g;if(e.nodeType===3||e.nodeType===8||!n||!r||!(o=v._data(e)))return;r.handler&&(d=r,r=d.handler,s=d.selector),r.guid||(r.guid=v.guid++),a=o.events,a||(o.events=a={}),u=o.handle,u||(o.handle=u=function(e){return typeof v=="undefined"||!!e&&v.event.triggered===e.type?t:v.event.dispatch.apply(u.elem,arguments)},u.elem=e),n=v.trim(Z(n)).split(" ");for(f=0;f<n.length;f++){l=J.exec(n[f])||[],c=l[1],h=(l[2]||"").split(".").sort(),g=v.event.special[c]||{},c=(s?g.delegateType:g.bindType)||c,g=v.event.special[c]||{},p=v.extend({type:c,origType:l[1],data:i,handler:r,guid:r.guid,selector:s,needsContext:s&&v.expr.match.needsContext.test(s),namespace:h.join(".")},d),m=a[c];if(!m){m=a[c]=[],m.delegateCount=0;if(!g.setup||g.setup.call(e,i,h,u)===!1)e.addEventListener?e.addEventListener(c,u,!1):e.attachEvent&&e.attachEvent("on"+c,u)}g.add&&(g.add.call(e,p),p.handler.guid||(p.handler.guid=r.guid)),s?m.splice(m.delegateCount++,0,p):m.push(p),v.event.global[c]=!0}e=null},global:{},remove:function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,m,g=v.hasData(e)&&v._data(e);if(!g||!(h=g.events))return;t=v.trim(Z(t||"")).split(" ");for(s=0;s<t.length;s++){o=J.exec(t[s])||[],u=a=o[1],f=o[2];if(!u){for(u in h)v.event.remove(e,u+t[s],n,r,!0);continue}p=v.event.special[u]||{},u=(r?p.delegateType:p.bindType)||u,d=h[u]||[],l=d.length,f=f?new RegExp("(^|\\.)"+f.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null;for(c=0;c<d.length;c++)m=d[c],(i||a===m.origType)&&(!n||n.guid===m.guid)&&(!f||f.test(m.namespace))&&(!r||r===m.selector||r==="**"&&m.selector)&&(d.splice(c--,1),m.selector&&d.delegateCount--,p.remove&&p.remove.call(e,m));d.length===0&&l!==d.length&&((!p.teardown||p.teardown.call(e,f,g.handle)===!1)&&v.removeEvent(e,u,g.handle),delete h[u])}v.isEmptyObject(h)&&(delete g.handle,v.removeData(e,"events",!0))},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(n,r,s,o){if(!s||s.nodeType!==3&&s.nodeType!==8){var u,a,f,l,c,h,p,d,m,g,y=n.type||n,b=[];if(Y.test(y+v.event.triggered))return;y.indexOf("!")>=0&&(y=y.slice(0,-1),a=!0),y.indexOf(".")>=0&&(b=y.split("."),y=b.shift(),b.sort());if((!s||v.event.customEvent[y])&&!v.event.global[y])return;n=typeof n=="object"?n[v.expando]?n:new v.Event(y,n):new v.Event(y),n.type=y,n.isTrigger=!0,n.exclusive=a,n.namespace=b.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,h=y.indexOf(":")<0?"on"+y:"";if(!s){u=v.cache;for(f in u)u[f].events&&u[f].events[y]&&v.event.trigger(n,r,u[f].handle.elem,!0);return}n.result=t,n.target||(n.target=s),r=r!=null?v.makeArray(r):[],r.unshift(n),p=v.event.special[y]||{};if(p.trigger&&p.trigger.apply(s,r)===!1)return;m=[[s,p.bindType||y]];if(!o&&!p.noBubble&&!v.isWindow(s)){g=p.delegateType||y,l=Y.test(g+y)?s:s.parentNode;for(c=s;l;l=l.parentNode)m.push([l,g]),c=l;c===(s.ownerDocument||i)&&m.push([c.defaultView||c.parentWindow||e,g])}for(f=0;f<m.length&&!n.isPropagationStopped();f++)l=m[f][0],n.type=m[f][1],d=(v._data(l,"events")||{})[n.type]&&v._data(l,"handle"),d&&d.apply(l,r),d=h&&l[h],d&&v.acceptData(l)&&d.apply&&d.apply(l,r)===!1&&n.preventDefault();return n.type=y,!o&&!n.isDefaultPrevented()&&(!p._default||p._default.apply(s.ownerDocument,r)===!1)&&(y!=="click"||!v.nodeName(s,"a"))&&v.acceptData(s)&&h&&s[y]&&(y!=="focus"&&y!=="blur"||n.target.offsetWidth!==0)&&!v.isWindow(s)&&(c=s[h],c&&(s[h]=null),v.event.triggered=y,s[y](),v.event.triggered=t,c&&(s[h]=c)),n.result}return},dispatch:function(n){n=v.event.fix(n||e.event);var r,i,s,o,u,a,f,c,h,p,d=(v._data(this,"events")||{})[n.type]||[],m=d.delegateCount,g=l.call(arguments),y=!n.exclusive&&!n.namespace,b=v.event.special[n.type]||{},w=[];g[0]=n,n.delegateTarget=this;if(b.preDispatch&&b.preDispatch.call(this,n)===!1)return;if(m&&(!n.button||n.type!=="click"))for(s=n.target;s!=this;s=s.parentNode||this)if(s.disabled!==!0||n.type!=="click"){u={},f=[];for(r=0;r<m;r++)c=d[r],h=c.selector,u[h]===t&&(u[h]=c.needsContext?v(h,this).index(s)>=0:v.find(h,this,null,[s]).length),u[h]&&f.push(c);f.length&&w.push({elem:s,matches:f})}d.length>m&&w.push({elem:this,matches:d.slice(m)});for(r=0;r<w.length&&!n.isPropagationStopped();r++){a=w[r],n.currentTarget=a.elem;for(i=0;i<a.matches.length&&!n.isImmediatePropagationStopped();i++){c=a.matches[i];if(y||!n.namespace&&!c.namespace||n.namespace_re&&n.namespace_re.test(c.namespace))n.data=c.data,n.handleObj=c,o=((v.event.special[c.origType]||{}).handle||c.handler).apply(a.elem,g),o!==t&&(n.result=o,o===!1&&(n.preventDefault(),n.stopPropagation()))}}return b.postDispatch&&b.postDispatch.call(this,n),n.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return e.which==null&&(e.which=t.charCode!=null?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,s,o,u=n.button,a=n.fromElement;return e.pageX==null&&n.clientX!=null&&(r=e.target.ownerDocument||i,s=r.documentElement,o=r.body,e.pageX=n.clientX+(s&&s.scrollLeft||o&&o.scrollLeft||0)-(s&&s.clientLeft||o&&o.clientLeft||0),e.pageY=n.clientY+(s&&s.scrollTop||o&&o.scrollTop||0)-(s&&s.clientTop||o&&o.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?n.toElement:a),!e.which&&u!==t&&(e.which=u&1?1:u&2?3:u&4?2:0),e}},fix:function(e){if(e[v.expando])return e;var t,n,r=e,s=v.event.fixHooks[e.type]||{},o=s.props?this.props.concat(s.props):this.props;e=v.Event(r);for(t=o.length;t;)n=o[--t],e[n]=r[n];return e.target||(e.target=r.srcElement||i),e.target.nodeType===3&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,r):e},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,n){v.isWindow(this)&&(this.onbeforeunload=n)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,n,r){var i=v.extend(new v.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?v.event.trigger(i,null,t):v.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},v.event.handle=v.event.dispatch,v.removeEvent=i.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]=="undefined"&&(e[r]=null),e.detachEvent(r,n))},v.Event=function(e,t){if(!(this instanceof v.Event))return new v.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?tt:et):this.type=e,t&&v.extend(this,t),this.timeStamp=e&&e.timeStamp||v.now(),this[v.expando]=!0},v.Event.prototype={preventDefault:function(){this.isDefaultPrevented=tt;var e=this.originalEvent;if(!e)return;e.preventDefault?e.preventDefault():e.returnValue=!1},stopPropagation:function(){this.isPropagationStopped=tt;var e=this.originalEvent;if(!e)return;e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=tt,this.stopPropagation()},isDefaultPrevented:et,isPropagationStopped:et,isImmediatePropagationStopped:et},v.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){v.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,s=e.handleObj,o=s.selector;if(!i||i!==r&&!v.contains(r,i))e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t;return n}}}),v.support.submitBubbles||(v.event.special.submit={setup:function(){if(v.nodeName(this,"form"))return!1;v.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=v.nodeName(n,"input")||v.nodeName(n,"button")?n.form:t;r&&!v._data(r,"_submit_attached")&&(v.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),v._data(r,"_submit_attached",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&v.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){if(v.nodeName(this,"form"))return!1;v.event.remove(this,"._submit")}}),v.support.changeBubbles||(v.event.special.change={setup:function(){if($.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")v.event.add(this,"propertychange._change",function(e){e.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),v.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),v.event.simulate("change",this,e,!0)});return!1}v.event.add(this,"beforeactivate._change",function(e){var t=e.target;$.test(t.nodeName)&&!v._data(t,"_change_attached")&&(v.event.add(t,"change._change",function(e){this.parentNode&&!e.isSimulated&&!e.isTrigger&&v.event.simulate("change",this.parentNode,e,!0)}),v._data(t,"_change_attached",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||t.type!=="radio"&&t.type!=="checkbox")return e.handleObj.handler.apply(this,arguments)},teardown:function(){return v.event.remove(this,"._change"),!$.test(this.nodeName)}}),v.support.focusinBubbles||v.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){v.event.simulate(t,e.target,v.event.fix(e),!0)};v.event.special[t]={setup:function(){n++===0&&i.addEventListener(e,r,!0)},teardown:function(){--n===0&&i.removeEventListener(e,r,!0)}}}),v.fn.extend({on:function(e,n,r,i,s){var o,u;if(typeof e=="object"){typeof n!="string"&&(r=r||n,n=t);for(u in e)this.on(u,n,r,e[u],s);return this}r==null&&i==null?(i=n,r=n=t):i==null&&(typeof n=="string"?(i=r,r=t):(i=r,r=n,n=t));if(i===!1)i=et;else if(!i)return this;return s===1&&(o=i,i=function(e){return v().off(e),o.apply(this,arguments)},i.guid=o.guid||(o.guid=v.guid++)),this.each(function(){v.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,s;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,v(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if(typeof e=="object"){for(s in e)this.off(s,n,e[s]);return this}if(n===!1||typeof n=="function")r=n,n=t;return r===!1&&(r=et),this.each(function(){v.event.remove(this,e,r,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,n){return v(this.context).on(e,this.selector,t,n),this},die:function(e,t){return v(this.context).off(e,this.selector||"**",t),this},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return arguments.length===1?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){v.event.trigger(e,t,this)})},triggerHandler:function(e,t){if(this[0])return v.event.trigger(e,t,this[0],!0)},toggle:function(e){var t=arguments,n=e.guid||v.guid++,r=0,i=function(n){var i=(v._data(this,"lastToggle"+e.guid)||0)%r;return v._data(this,"lastToggle"+e.guid,i+1),n.preventDefault(),t[i].apply(this,arguments)||!1};i.guid=n;while(r<t.length)t[r++].guid=n;return this.click(i)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),v.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){v.fn[t]=function(e,n){return n==null&&(n=e,e=null),arguments.length>0?this.on(t,null,e,n):this.trigger(t)},Q.test(t)&&(v.event.fixHooks[t]=v.event.keyHooks),G.test(t)&&(v.event.fixHooks[t]=v.event.mouseHooks)}),function(e,t){function nt(e,t,n,r){n=n||[],t=t||g;var i,s,a,f,l=t.nodeType;if(!e||typeof e!="string")return n;if(l!==1&&l!==9)return[];a=o(t);if(!a&&!r)if(i=R.exec(e))if(f=i[1]){if(l===9){s=t.getElementById(f);if(!s||!s.parentNode)return n;if(s.id===f)return n.push(s),n}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(f))&&u(t,s)&&s.id===f)return n.push(s),n}else{if(i[2])return S.apply(n,x.call(t.getElementsByTagName(e),0)),n;if((f=i[3])&&Z&&t.getElementsByClassName)return S.apply(n,x.call(t.getElementsByClassName(f),0)),n}return vt(e.replace(j,"$1"),t,n,r,a)}function rt(e){return function(t){var n=t.nodeName.toLowerCase();return n==="input"&&t.type===e}}function it(e){return function(t){var n=t.nodeName.toLowerCase();return(n==="input"||n==="button")&&t.type===e}}function st(e){return N(function(t){return t=+t,N(function(n,r){var i,s=e([],n.length,t),o=s.length;while(o--)n[i=s[o]]&&(n[i]=!(r[i]=n[i]))})})}function ot(e,t,n){if(e===t)return n;var r=e.nextSibling;while(r){if(r===t)return-1;r=r.nextSibling}return 1}function ut(e,t){var n,r,s,o,u,a,f,l=L[d][e+" "];if(l)return t?0:l.slice(0);u=e,a=[],f=i.preFilter;while(u){if(!n||(r=F.exec(u)))r&&(u=u.slice(r[0].length)||u),a.push(s=[]);n=!1;if(r=I.exec(u))s.push(n=new m(r.shift())),u=u.slice(n.length),n.type=r[0].replace(j," ");for(o in i.filter)(r=J[o].exec(u))&&(!f[o]||(r=f[o](r)))&&(s.push(n=new m(r.shift())),u=u.slice(n.length),n.type=o,n.matches=r);if(!n)break}return t?u.length:u?nt.error(e):L(e,a).slice(0)}function at(e,t,r){var i=t.dir,s=r&&t.dir==="parentNode",o=w++;return t.first?function(t,n,r){while(t=t[i])if(s||t.nodeType===1)return e(t,n,r)}:function(t,r,u){if(!u){var a,f=b+" "+o+" ",l=f+n;while(t=t[i])if(s||t.nodeType===1){if((a=t[d])===l)return t.sizset;if(typeof a=="string"&&a.indexOf(f)===0){if(t.sizset)return t}else{t[d]=l;if(e(t,r,u))return t.sizset=!0,t;t.sizset=!1}}}else while(t=t[i])if(s||t.nodeType===1)if(e(t,r,u))return t}}function ft(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function lt(e,t,n,r,i){var s,o=[],u=0,a=e.length,f=t!=null;for(;u<a;u++)if(s=e[u])if(!n||n(s,r,i))o.push(s),f&&t.push(u);return o}function ct(e,t,n,r,i,s){return r&&!r[d]&&(r=ct(r)),i&&!i[d]&&(i=ct(i,s)),N(function(s,o,u,a){var f,l,c,h=[],p=[],d=o.length,v=s||dt(t||"*",u.nodeType?[u]:u,[]),m=e&&(s||!t)?lt(v,h,e,u,a):v,g=n?i||(s?e:d||r)?[]:o:m;n&&n(m,g,u,a);if(r){f=lt(g,p),r(f,[],u,a),l=f.length;while(l--)if(c=f[l])g[p[l]]=!(m[p[l]]=c)}if(s){if(i||e){if(i){f=[],l=g.length;while(l--)(c=g[l])&&f.push(m[l]=c);i(null,g=[],f,a)}l=g.length;while(l--)(c=g[l])&&(f=i?T.call(s,c):h[l])>-1&&(s[f]=!(o[f]=c))}}else g=lt(g===o?g.splice(d,g.length):g),i?i(null,o,g,a):S.apply(o,g)})}function ht(e){var t,n,r,s=e.length,o=i.relative[e[0].type],u=o||i.relative[" "],a=o?1:0,f=at(function(e){return e===t},u,!0),l=at(function(e){return T.call(t,e)>-1},u,!0),h=[function(e,n,r){return!o&&(r||n!==c)||((t=n).nodeType?f(e,n,r):l(e,n,r))}];for(;a<s;a++)if(n=i.relative[e[a].type])h=[at(ft(h),n)];else{n=i.filter[e[a].type].apply(null,e[a].matches);if(n[d]){r=++a;for(;r<s;r++)if(i.relative[e[r].type])break;return ct(a>1&&ft(h),a>1&&e.slice(0,a-1).join("").replace(j,"$1"),n,a<r&&ht(e.slice(a,r)),r<s&&ht(e=e.slice(r)),r<s&&e.join(""))}h.push(n)}return ft(h)}function pt(e,t){var r=t.length>0,s=e.length>0,o=function(u,a,f,l,h){var p,d,v,m=[],y=0,w="0",x=u&&[],T=h!=null,N=c,C=u||s&&i.find.TAG("*",h&&a.parentNode||a),k=b+=N==null?1:Math.E;T&&(c=a!==g&&a,n=o.el);for(;(p=C[w])!=null;w++){if(s&&p){for(d=0;v=e[d];d++)if(v(p,a,f)){l.push(p);break}T&&(b=k,n=++o.el)}r&&((p=!v&&p)&&y--,u&&x.push(p))}y+=w;if(r&&w!==y){for(d=0;v=t[d];d++)v(x,m,a,f);if(u){if(y>0)while(w--)!x[w]&&!m[w]&&(m[w]=E.call(l));m=lt(m)}S.apply(l,m),T&&!u&&m.length>0&&y+t.length>1&&nt.uniqueSort(l)}return T&&(b=k,c=N),x};return o.el=0,r?N(o):o}function dt(e,t,n){var r=0,i=t.length;for(;r<i;r++)nt(e,t[r],n);return n}function vt(e,t,n,r,s){var o,u,f,l,c,h=ut(e),p=h.length;if(!r&&h.length===1){u=h[0]=h[0].slice(0);if(u.length>2&&(f=u[0]).type==="ID"&&t.nodeType===9&&!s&&i.relative[u[1].type]){t=i.find.ID(f.matches[0].replace($,""),t,s)[0];if(!t)return n;e=e.slice(u.shift().length)}for(o=J.POS.test(e)?-1:u.length-1;o>=0;o--){f=u[o];if(i.relative[l=f.type])break;if(c=i.find[l])if(r=c(f.matches[0].replace($,""),z.test(u[0].type)&&t.parentNode||t,s)){u.splice(o,1),e=r.length&&u.join("");if(!e)return S.apply(n,x.call(r,0)),n;break}}}return a(e,h)(r,t,s,n,z.test(e)),n}function mt(){}var n,r,i,s,o,u,a,f,l,c,h=!0,p="undefined",d=("sizcache"+Math.random()).replace(".",""),m=String,g=e.document,y=g.documentElement,b=0,w=0,E=[].pop,S=[].push,x=[].slice,T=[].indexOf||function(e){var t=0,n=this.length;for(;t<n;t++)if(this[t]===e)return t;return-1},N=function(e,t){return e[d]=t==null||t,e},C=function(){var e={},t=[];return N(function(n,r){return t.push(n)>i.cacheLength&&delete e[t.shift()],e[n+" "]=r},e)},k=C(),L=C(),A=C(),O="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",_=M.replace("w","w#"),D="([*^$|!~]?=)",P="\\["+O+"*("+M+")"+O+"*(?:"+D+O+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+_+")|)|)"+O+"*\\]",H=":("+M+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+P+")|[^:]|\\\\.)*|.*))\\)|)",B=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+O+"*((?:-\\d)?\\d*)"+O+"*\\)|)(?=[^-]|$)",j=new RegExp("^"+O+"+|((?:^|[^\\\\])(?:\\\\.)*)"+O+"+$","g"),F=new RegExp("^"+O+"*,"+O+"*"),I=new RegExp("^"+O+"*([\\x20\\t\\r\\n\\f>+~])"+O+"*"),q=new RegExp(H),R=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,U=/^:not/,z=/[\x20\t\r\n\f]*[+~]/,W=/:not\($/,X=/h\d/i,V=/input|select|textarea|button/i,$=/\\(?!\\)/g,J={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),NAME:new RegExp("^\\[name=['\"]?("+M+")['\"]?\\]"),TAG:new RegExp("^("+M.replace("w","w*")+")"),ATTR:new RegExp("^"+P),PSEUDO:new RegExp("^"+H),POS:new RegExp(B,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+O+"*(even|odd|(([+-]|)(\\d*)n|)"+O+"*(?:([+-]|)"+O+"*(\\d+)|))"+O+"*\\)|)","i"),needsContext:new RegExp("^"+O+"*[>+~]|"+B,"i")},K=function(e){var t=g.createElement("div");try{return e(t)}catch(n){return!1}finally{t=null}},Q=K(function(e){return e.appendChild(g.createComment("")),!e.getElementsByTagName("*").length}),G=K(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==p&&e.firstChild.getAttribute("href")==="#"}),Y=K(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return t!=="boolean"&&t!=="string"}),Z=K(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!e.getElementsByClassName||!e.getElementsByClassName("e").length?!1:(e.lastChild.className="e",e.getElementsByClassName("e").length===2)}),et=K(function(e){e.id=d+0,e.innerHTML="<a name='"+d+"'></a><div name='"+d+"'></div>",y.insertBefore(e,y.firstChild);var t=g.getElementsByName&&g.getElementsByName(d).length===2+g.getElementsByName(d+0).length;return r=!g.getElementById(d),y.removeChild(e),t});try{x.call(y.childNodes,0)[0].nodeType}catch(tt){x=function(e){var t,n=[];for(;t=this[e];e++)n.push(t);return n}}nt.matches=function(e,t){return nt(e,null,null,t)},nt.matchesSelector=function(e,t){return nt(t,null,null,[e]).length>0},s=nt.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(i===1||i===9||i===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=s(e)}else if(i===3||i===4)return e.nodeValue}else for(;t=e[r];r++)n+=s(t);return n},o=nt.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?t.nodeName!=="HTML":!1},u=nt.contains=y.contains?function(e,t){var n=e.nodeType===9?e.documentElement:e,r=t&&t.parentNode;return e===r||!!(r&&r.nodeType===1&&n.contains&&n.contains(r))}:y.compareDocumentPosition?function(e,t){return t&&!!(e.compareDocumentPosition(t)&16)}:function(e,t){while(t=t.parentNode)if(t===e)return!0;return!1},nt.attr=function(e,t){var n,r=o(e);return r||(t=t.toLowerCase()),(n=i.attrHandle[t])?n(e):r||Y?e.getAttribute(t):(n=e.getAttributeNode(t),n?typeof e[t]=="boolean"?e[t]?t:null:n.specified?n.value:null:null)},i=nt.selectors={cacheLength:50,createPseudo:N,match:J,attrHandle:G?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},find:{ID:r?function(e,t,n){if(typeof t.getElementById!==p&&!n){var r=t.getElementById(e);return r&&r.parentNode?[r]:[]}}:function(e,n,r){if(typeof n.getElementById!==p&&!r){var i=n.getElementById(e);return i?i.id===e||typeof i.getAttributeNode!==p&&i.getAttributeNode("id").value===e?[i]:t:[]}},TAG:Q?function(e,t){if(typeof t.getElementsByTagName!==p)return t.getElementsByTagName(e)}:function(e,t){var n=t.getElementsByTagName(e);if(e==="*"){var r,i=[],s=0;for(;r=n[s];s++)r.nodeType===1&&i.push(r);return i}return n},NAME:et&&function(e,t){if(typeof t.getElementsByName!==p)return t.getElementsByName(name)},CLASS:Z&&function(e,t,n){if(typeof t.getElementsByClassName!==p&&!n)return t.getElementsByClassName(e)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace($,""),e[3]=(e[4]||e[5]||"").replace($,""),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1]==="nth"?(e[2]||nt.error(e[0]),e[3]=+(e[3]?e[4]+(e[5]||1):2*(e[2]==="even"||e[2]==="odd")),e[4]=+(e[6]+e[7]||e[2]==="odd")):e[2]&&nt.error(e[0]),e},PSEUDO:function(e){var t,n;if(J.CHILD.test(e[0]))return null;if(e[3])e[2]=e[3];else if(t=e[4])q.test(t)&&(n=ut(t,!0))&&(n=t.indexOf(")",t.length-n)-t.length)&&(t=t.slice(0,n),e[0]=e[0].slice(0,n)),e[2]=t;return e.slice(0,3)}},filter:{ID:r?function(e){return e=e.replace($,""),function(t){return t.getAttribute("id")===e}}:function(e){return e=e.replace($,""),function(t){var n=typeof t.getAttributeNode!==p&&t.getAttributeNode("id");return n&&n.value===e}},TAG:function(e){return e==="*"?function(){return!0}:(e=e.replace($,"").toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=k[d][e+" "];return t||(t=new RegExp("(^|"+O+")"+e+"("+O+"|$)"))&&k(e,function(e){return t.test(e.className||typeof e.getAttribute!==p&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r,i){var s=nt.attr(r,e);return s==null?t==="!=":t?(s+="",t==="="?s===n:t==="!="?s!==n:t==="^="?n&&s.indexOf(n)===0:t==="*="?n&&s.indexOf(n)>-1:t==="$="?n&&s.substr(s.length-n.length)===n:t==="~="?(" "+s+" ").indexOf(n)>-1:t==="|="?s===n||s.substr(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r){return e==="nth"?function(e){var t,i,s=e.parentNode;if(n===1&&r===0)return!0;if(s){i=0;for(t=s.firstChild;t;t=t.nextSibling)if(t.nodeType===1){i++;if(e===t)break}}return i-=r,i===n||i%n===0&&i/n>=0}:function(t){var n=t;switch(e){case"only":case"first":while(n=n.previousSibling)if(n.nodeType===1)return!1;if(e==="first")return!0;n=t;case"last":while(n=n.nextSibling)if(n.nodeType===1)return!1;return!0}}},PSEUDO:function(e,t){var n,r=i.pseudos[e]||i.setFilters[e.toLowerCase()]||nt.error("unsupported pseudo: "+e);return r[d]?r(t):r.length>1?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?N(function(e,n){var i,s=r(e,t),o=s.length;while(o--)i=T.call(e,s[o]),e[i]=!(n[i]=s[o])}):function(e){return r(e,0,n)}):r}},pseudos:{not:N(function(e){var t=[],n=[],r=a(e.replace(j,"$1"));return r[d]?N(function(e,t,n,i){var s,o=r(e,null,i,[]),u=e.length;while(u--)if(s=o[u])e[u]=!(t[u]=s)}):function(e,i,s){return t[0]=e,r(t,null,s,n),!n.pop()}}),has:N(function(e){return function(t){return nt(e,t).length>0}}),contains:N(function(e){return function(t){return(t.textContent||t.innerText||s(t)).indexOf(e)>-1}}),enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&!!e.checked||t==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!i.pseudos.empty(e)},empty:function(e){var t;e=e.firstChild;while(e){if(e.nodeName>"@"||(t=e.nodeType)===3||t===4)return!1;e=e.nextSibling}return!0},header:function(e){return X.test(e.nodeName)},text:function(e){var t,n;return e.nodeName.toLowerCase()==="input"&&(t=e.type)==="text"&&((n=e.getAttribute("type"))==null||n.toLowerCase()===t)},radio:rt("radio"),checkbox:rt("checkbox"),file:rt("file"),password:rt("password"),image:rt("image"),submit:it("submit"),reset:it("reset"),button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&e.type==="button"||t==="button"},input:function(e){return V.test(e.nodeName)},focus:function(e){var t=e.ownerDocument;return e===t.activeElement&&(!t.hasFocus||t.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},active:function(e){return e===e.ownerDocument.activeElement},first:st(function(){return[0]}),last:st(function(e,t){return[t-1]}),eq:st(function(e,t,n){return[n<0?n+t:n]}),even:st(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:st(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:st(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:st(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},f=y.compareDocumentPosition?function(e,t){return e===t?(l=!0,0):(!e.compareDocumentPosition||!t.compareDocumentPosition?e.compareDocumentPosition:e.compareDocumentPosition(t)&4)?-1:1}:function(e,t){if(e===t)return l=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,r,i=[],s=[],o=e.parentNode,u=t.parentNode,a=o;if(o===u)return ot(e,t);if(!o)return-1;if(!u)return 1;while(a)i.unshift(a),a=a.parentNode;a=u;while(a)s.unshift(a),a=a.parentNode;n=i.length,r=s.length;for(var f=0;f<n&&f<r;f++)if(i[f]!==s[f])return ot(i[f],s[f]);return f===n?ot(e,s[f],-1):ot(i[f],t,1)},[0,0].sort(f),h=!l,nt.uniqueSort=function(e){var t,n=[],r=1,i=0;l=h,e.sort(f);if(l){for(;t=e[r];r++)t===e[r-1]&&(i=n.push(r));while(i--)e.splice(n[i],1)}return e},nt.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},a=nt.compile=function(e,t){var n,r=[],i=[],s=A[d][e+" "];if(!s){t||(t=ut(e)),n=t.length;while(n--)s=ht(t[n]),s[d]?r.push(s):i.push(s);s=A(e,pt(i,r))}return s},g.querySelectorAll&&function(){var e,t=vt,n=/'|\\/g,r=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,i=[":focus"],s=[":active"],u=y.matchesSelector||y.mozMatchesSelector||y.webkitMatchesSelector||y.oMatchesSelector||y.msMatchesSelector;K(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||i.push("\\["+O+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||i.push(":checked")}),K(function(e){e.innerHTML="<p test=''></p>",e.querySelectorAll("[test^='']").length&&i.push("[*^$]="+O+"*(?:\"\"|'')"),e.innerHTML="<input type='hidden'/>",e.querySelectorAll(":enabled").length||i.push(":enabled",":disabled")}),i=new RegExp(i.join("|")),vt=function(e,r,s,o,u){if(!o&&!u&&!i.test(e)){var a,f,l=!0,c=d,h=r,p=r.nodeType===9&&e;if(r.nodeType===1&&r.nodeName.toLowerCase()!=="object"){a=ut(e),(l=r.getAttribute("id"))?c=l.replace(n,"\\$&"):r.setAttribute("id",c),c="[id='"+c+"'] ",f=a.length;while(f--)a[f]=c+a[f].join("");h=z.test(e)&&r.parentNode||r,p=a.join(",")}if(p)try{return S.apply(s,x.call(h.querySelectorAll(p),0)),s}catch(v){}finally{l||r.removeAttribute("id")}}return t(e,r,s,o,u)},u&&(K(function(t){e=u.call(t,"div");try{u.call(t,"[test!='']:sizzle"),s.push("!=",H)}catch(n){}}),s=new RegExp(s.join("|")),nt.matchesSelector=function(t,n){n=n.replace(r,"='$1']");if(!o(t)&&!s.test(n)&&!i.test(n))try{var a=u.call(t,n);if(a||e||t.document&&t.document.nodeType!==11)return a}catch(f){}return nt(n,null,null,[t]).length>0})}(),i.pseudos.nth=i.pseudos.eq,i.filters=mt.prototype=i.pseudos,i.setFilters=new mt,nt.attr=v.attr,v.find=nt,v.expr=nt.selectors,v.expr[":"]=v.expr.pseudos,v.unique=nt.uniqueSort,v.text=nt.getText,v.isXMLDoc=nt.isXML,v.contains=nt.contains}(e);var nt=/Until$/,rt=/^(?:parents|prev(?:Until|All))/,it=/^.[^:#\[\.,]*$/,st=v.expr.match.needsContext,ot={children:!0,contents:!0,next:!0,prev:!0};v.fn.extend({find:function(e){var t,n,r,i,s,o,u=this;if(typeof e!="string")return v(e).filter(function(){for(t=0,n=u.length;t<n;t++)if(v.contains(u[t],this))return!0});o=this.pushStack("","find",e);for(t=0,n=this.length;t<n;t++){r=o.length,v.find(e,this[t],o);if(t>0)for(i=r;i<o.length;i++)for(s=0;s<r;s++)if(o[s]===o[i]){o.splice(i--,1);break}}return o},has:function(e){var t,n=v(e,this),r=n.length;return this.filter(function(){for(t=0;t<r;t++)if(v.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(ft(this,e,!1),"not",e)},filter:function(e){return this.pushStack(ft(this,e,!0),"filter",e)},is:function(e){return!!e&&(typeof e=="string"?st.test(e)?v(e,this.context).index(this[0])>=0:v.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){var n,r=0,i=this.length,s=[],o=st.test(e)||typeof e!="string"?v(e,t||this.context):0;for(;r<i;r++){n=this[r];while(n&&n.ownerDocument&&n!==t&&n.nodeType!==11){if(o?o.index(n)>-1:v.find.matchesSelector(n,e)){s.push(n);break}n=n.parentNode}}return s=s.length>1?v.unique(s):s,this.pushStack(s,"closest",e)},index:function(e){return e?typeof e=="string"?v.inArray(this[0],v(e)):v.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var n=typeof e=="string"?v(e,t):v.makeArray(e&&e.nodeType?[e]:e),r=v.merge(this.get(),n);return this.pushStack(ut(n[0])||ut(r[0])?r:v.unique(r))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}}),v.fn.andSelf=v.fn.addBack,v.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return v.dir(e,"parentNode")},parentsUntil:function(e,t,n){return v.dir(e,"parentNode",n)},next:function(e){return at(e,"nextSibling")},prev:function(e){return at(e,"previousSibling")},nextAll:function(e){return v.dir(e,"nextSibling")},prevAll:function(e){return v.dir(e,"previousSibling")},nextUntil:function(e,t,n){return v.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return v.dir(e,"previousSibling",n)},siblings:function(e){return v.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return v.sibling(e.firstChild)},contents:function(e){return v.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:v.merge([],e.childNodes)}},function(e,t){v.fn[e]=function(n,r){var i=v.map(this,t,n);return nt.test(e)||(r=n),r&&typeof r=="string"&&(i=v.filter(r,i)),i=this.length>1&&!ot[e]?v.unique(i):i,this.length>1&&rt.test(e)&&(i=i.reverse()),this.pushStack(i,e,l.call(arguments).join(","))}}),v.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),t.length===1?v.find.matchesSelector(t[0],e)?[t[0]]:[]:v.find.matches(e,t)},dir:function(e,n,r){var i=[],s=e[n];while(s&&s.nodeType!==9&&(r===t||s.nodeType!==1||!v(s).is(r)))s.nodeType===1&&i.push(s),s=s[n];return i},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)e.nodeType===1&&e!==t&&n.push(e);return n}});var ct="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",ht=/ jQuery\d+="(?:null|\d+)"/g,pt=/^\s+/,dt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,vt=/<([\w:]+)/,mt=/<tbody/i,gt=/<|&#?\w+;/,yt=/<(?:script|style|link)/i,bt=/<(?:script|object|embed|option|style)/i,wt=new RegExp("<(?:"+ct+")[\\s/>]","i"),Et=/^(?:checkbox|radio)$/,St=/checked\s*(?:[^=]|=\s*.checked.)/i,xt=/\/(java|ecma)script/i,Tt=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,Nt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},Ct=lt(i),kt=Ct.appendChild(i.createElement("div"));Nt.optgroup=Nt.option,Nt.tbody=Nt.tfoot=Nt.colgroup=Nt.caption=Nt.thead,Nt.th=Nt.td,v.support.htmlSerialize||(Nt._default=[1,"X<div>","</div>"]),v.fn.extend({text:function(e){return v.access(this,function(e){return e===t?v.text(this):this.empty().append((this[0]&&this[0].ownerDocument||i).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(v.isFunction(e))return this.each(function(t){v(this).wrapAll(e.call(this,t))});if(this[0]){var t=v(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&&e.firstChild.nodeType===1)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return v.isFunction(e)?this.each(function(t){v(this).wrapInner(e.call(this,t))}):this.each(function(){var t=v(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=v.isFunction(e);return this.each(function(n){v(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){v.nodeName(this,"body")||v(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(this.nodeType===1||this.nodeType===11)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(this.nodeType===1||this.nodeType===11)&&this.insertBefore(e,this.firstChild)})},before:function(){if(!ut(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=v.clean(arguments);return this.pushStack(v.merge(e,this),"before",this.selector)}},after:function(){if(!ut(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=v.clean(arguments);return this.pushStack(v.merge(this,e),"after",this.selector)}},remove:function(e,t){var n,r=0;for(;(n=this[r])!=null;r++)if(!e||v.filter(e,[n]).length)!t&&n.nodeType===1&&(v.cleanData(n.getElementsByTagName("*")),v.cleanData([n])),n.parentNode&&n.parentNode.removeChild(n);return this},empty:function(){var e,t=0;for(;(e=this[t])!=null;t++){e.nodeType===1&&v.cleanData(e.getElementsByTagName("*"));while(e.firstChild)e.removeChild(e.firstChild)}return this},clone:function(e,t){return e=e==null?!1:e,t=t==null?e:t,this.map(function(){return v.clone(this,e,t)})},html:function(e){return v.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return n.nodeType===1?n.innerHTML.replace(ht,""):t;if(typeof e=="string"&&!yt.test(e)&&(v.support.htmlSerialize||!wt.test(e))&&(v.support.leadingWhitespace||!pt.test(e))&&!Nt[(vt.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(dt,"<$1></$2>");try{for(;r<i;r++)n=this[r]||{},n.nodeType===1&&(v.cleanData(n.getElementsByTagName("*")),n.innerHTML=e);n=0}catch(s){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){return ut(this[0])?this.length?this.pushStack(v(v.isFunction(e)?e():e),"replaceWith",e):this:v.isFunction(e)?this.each(function(t){var n=v(this),r=n.html();n.replaceWith(e.call(this,t,r))}):(typeof e!="string"&&(e=v(e).detach()),this.each(function(){var t=this.nextSibling,n=this.parentNode;v(this).remove(),t?v(t).before(e):v(n).append(e)}))},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,r){e=[].concat.apply([],e);var i,s,o,u,a=0,f=e[0],l=[],c=this.length;if(!v.support.checkClone&&c>1&&typeof f=="string"&&St.test(f))return this.each(function(){v(this).domManip(e,n,r)});if(v.isFunction(f))return this.each(function(i){var s=v(this);e[0]=f.call(this,i,n?s.html():t),s.domManip(e,n,r)});if(this[0]){i=v.buildFragment(e,this,l),o=i.fragment,s=o.firstChild,o.childNodes.length===1&&(o=s);if(s){n=n&&v.nodeName(s,"tr");for(u=i.cacheable||c-1;a<c;a++)r.call(n&&v.nodeName(this[a],"table")?Lt(this[a],"tbody"):this[a],a===u?o:v.clone(o,!0,!0))}o=s=null,l.length&&v.each(l,function(e,t){t.src?v.ajax?v.ajax({url:t.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):v.error("no ajax"):v.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Tt,"")),t.parentNode&&t.parentNode.removeChild(t)})}return this}}),v.buildFragment=function(e,n,r){var s,o,u,a=e[0];return n=n||i,n=!n.nodeType&&n[0]||n,n=n.ownerDocument||n,e.length===1&&typeof a=="string"&&a.length<512&&n===i&&a.charAt(0)==="<"&&!bt.test(a)&&(v.support.checkClone||!St.test(a))&&(v.support.html5Clone||!wt.test(a))&&(o=!0,s=v.fragments[a],u=s!==t),s||(s=n.createDocumentFragment(),v.clean(e,n,s,r),o&&(v.fragments[a]=u&&s)),{fragment:s,cacheable:o}},v.fragments={},v.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){v.fn[e]=function(n){var r,i=0,s=[],o=v(n),u=o.length,a=this.length===1&&this[0].parentNode;if((a==null||a&&a.nodeType===11&&a.childNodes.length===1)&&u===1)return o[t](this[0]),this;for(;i<u;i++)r=(i>0?this.clone(!0):this).get(),v(o[i])[t](r),s=s.concat(r);return this.pushStack(s,e,o.selector)}}),v.extend({clone:function(e,t,n){var r,i,s,o;v.support.html5Clone||v.isXMLDoc(e)||!wt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(kt.innerHTML=e.outerHTML,kt.removeChild(o=kt.firstChild));if((!v.support.noCloneEvent||!v.support.noCloneChecked)&&(e.nodeType===1||e.nodeType===11)&&!v.isXMLDoc(e)){Ot(e,o),r=Mt(e),i=Mt(o);for(s=0;r[s];++s)i[s]&&Ot(r[s],i[s])}if(t){At(e,o);if(n){r=Mt(e),i=Mt(o);for(s=0;r[s];++s)At(r[s],i[s])}}return r=i=null,o},clean:function(e,t,n,r){var s,o,u,a,f,l,c,h,p,d,m,g,y=t===i&&Ct,b=[];if(!t||typeof t.createDocumentFragment=="undefined")t=i;for(s=0;(u=e[s])!=null;s++){typeof u=="number"&&(u+="");if(!u)continue;if(typeof u=="string")if(!gt.test(u))u=t.createTextNode(u);else{y=y||lt(t),c=t.createElement("div"),y.appendChild(c),u=u.replace(dt,"<$1></$2>"),a=(vt.exec(u)||["",""])[1].toLowerCase(),f=Nt[a]||Nt._default,l=f[0],c.innerHTML=f[1]+u+f[2];while(l--)c=c.lastChild;if(!v.support.tbody){h=mt.test(u),p=a==="table"&&!h?c.firstChild&&c.firstChild.childNodes:f[1]==="<table>"&&!h?c.childNodes:[];for(o=p.length-1;o>=0;--o)v.nodeName(p[o],"tbody")&&!p[o].childNodes.length&&p[o].parentNode.removeChild(p[o])}!v.support.leadingWhitespace&&pt.test(u)&&c.insertBefore(t.createTextNode(pt.exec(u)[0]),c.firstChild),u=c.childNodes,c.parentNode.removeChild(c)}u.nodeType?b.push(u):v.merge(b,u)}c&&(u=c=y=null);if(!v.support.appendChecked)for(s=0;(u=b[s])!=null;s++)v.nodeName(u,"input")?_t(u):typeof u.getElementsByTagName!="undefined"&&v.grep(u.getElementsByTagName("input"),_t);if(n){m=function(e){if(!e.type||xt.test(e.type))return r?r.push(e.parentNode?e.parentNode.removeChild(e):e):n.appendChild(e)};for(s=0;(u=b[s])!=null;s++)if(!v.nodeName(u,"script")||!m(u))n.appendChild(u),typeof u.getElementsByTagName!="undefined"&&(g=v.grep(v.merge([],u.getElementsByTagName("script")),m),b.splice.apply(b,[s+1,0].concat(g)),s+=g.length)}return b},cleanData:function(e,t){var n,r,i,s,o=0,u=v.expando,a=v.cache,f=v.support.deleteExpando,l=v.event.special;for(;(i=e[o])!=null;o++)if(t||v.acceptData(i)){r=i[u],n=r&&a[r];if(n){if(n.events)for(s in n.events)l[s]?v.event.remove(i,s):v.removeEvent(i,s,n.handle);a[r]&&(delete a[r],f?delete i[u]:i.removeAttribute?i.removeAttribute(u):i[u]=null,v.deletedIds.push(r))}}}}),function(){var e,t;v.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e=v.uaMatch(o.userAgent),t={},e.browser&&(t[e.browser]=!0,t.version=e.version),t.chrome?t.webkit=!0:t.webkit&&(t.safari=!0),v.browser=t,v.sub=function(){function e(t,n){return new e.fn.init(t,n)}v.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(r,i){return i&&i instanceof v&&!(i instanceof e)&&(i=e(i)),v.fn.init.call(this,r,i,t)},e.fn.init.prototype=e.fn;var t=e(i);return e}}();var Dt,Pt,Ht,Bt=/alpha\([^)]*\)/i,jt=/opacity=([^)]*)/,Ft=/^(top|right|bottom|left)$/,It=/^(none|table(?!-c[ea]).+)/,qt=/^margin/,Rt=new RegExp("^("+m+")(.*)$","i"),Ut=new RegExp("^("+m+")(?!px)[a-z%]+$","i"),zt=new RegExp("^([-+])=("+m+")","i"),Wt={BODY:"block"},Xt={position:"absolute",visibility:"hidden",display:"block"},Vt={letterSpacing:0,fontWeight:400},$t=["Top","Right","Bottom","Left"],Jt=["Webkit","O","Moz","ms"],Kt=v.fn.toggle;v.fn.extend({css:function(e,n){return v.access(this,function(e,n,r){return r!==t?v.style(e,n,r):v.css(e,n)},e,n,arguments.length>1)},show:function(){return Yt(this,!0)},hide:function(){return Yt(this)},toggle:function(e,t){var n=typeof e=="boolean";return v.isFunction(e)&&v.isFunction(t)?Kt.apply(this,arguments):this.each(function(){(n?e:Gt(this))?v(this).show():v(this).hide()})}}),v.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Dt(e,"opacity");return n===""?"1":n}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":v.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(!e||e.nodeType===3||e.nodeType===8||!e.style)return;var s,o,u,a=v.camelCase(n),f=e.style;n=v.cssProps[a]||(v.cssProps[a]=Qt(f,a)),u=v.cssHooks[n]||v.cssHooks[a];if(r===t)return u&&"get"in u&&(s=u.get(e,!1,i))!==t?s:f[n];o=typeof r,o==="string"&&(s=zt.exec(r))&&(r=(s[1]+1)*s[2]+parseFloat(v.css(e,n)),o="number");if(r==null||o==="number"&&isNaN(r))return;o==="number"&&!v.cssNumber[a]&&(r+="px");if(!u||!("set"in u)||(r=u.set(e,r,i))!==t)try{f[n]=r}catch(l){}},css:function(e,n,r,i){var s,o,u,a=v.camelCase(n);return n=v.cssProps[a]||(v.cssProps[a]=Qt(e.style,a)),u=v.cssHooks[n]||v.cssHooks[a],u&&"get"in u&&(s=u.get(e,!0,i)),s===t&&(s=Dt(e,n)),s==="normal"&&n in Vt&&(s=Vt[n]),r||i!==t?(o=parseFloat(s),r||v.isNumeric(o)?o||0:s):s},swap:function(e,t,n){var r,i,s={};for(i in t)s[i]=e.style[i],e.style[i]=t[i];r=n.call(e);for(i in t)e.style[i]=s[i];return r}}),e.getComputedStyle?Dt=function(t,n){var r,i,s,o,u=e.getComputedStyle(t,null),a=t.style;return u&&(r=u.getPropertyValue(n)||u[n],r===""&&!v.contains(t.ownerDocument,t)&&(r=v.style(t,n)),Ut.test(r)&&qt.test(n)&&(i=a.width,s=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=r,r=u.width,a.width=i,a.minWidth=s,a.maxWidth=o)),r}:i.documentElement.currentStyle&&(Dt=function(e,t){var n,r,i=e.currentStyle&&e.currentStyle[t],s=e.style;return i==null&&s&&s[t]&&(i=s[t]),Ut.test(i)&&!Ft.test(t)&&(n=s.left,r=e.runtimeStyle&&e.runtimeStyle.left,r&&(e.runtimeStyle.left=e.currentStyle.left),s.left=t==="fontSize"?"1em":i,i=s.pixelLeft+"px",s.left=n,r&&(e.runtimeStyle.left=r)),i===""?"auto":i}),v.each(["height","width"],function(e,t){v.cssHooks[t]={get:function(e,n,r){if(n)return e.offsetWidth===0&&It.test(Dt(e,"display"))?v.swap(e,Xt,function(){return tn(e,t,r)}):tn(e,t,r)},set:function(e,n,r){return Zt(e,n,r?en(e,t,r,v.support.boxSizing&&v.css(e,"boxSizing")==="border-box"):0)}}}),v.support.opacity||(v.cssHooks.opacity={get:function(e,t){return jt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=v.isNumeric(t)?"alpha(opacity="+t*100+")":"",s=r&&r.filter||n.filter||"";n.zoom=1;if(t>=1&&v.trim(s.replace(Bt,""))===""&&n.removeAttribute){n.removeAttribute("filter");if(r&&!r.filter)return}n.filter=Bt.test(s)?s.replace(Bt,i):s+" "+i}}),v(function(){v.support.reliableMarginRight||(v.cssHooks.marginRight={get:function(e,t){return v.swap(e,{display:"inline-block"},function(){if(t)return Dt(e,"marginRight")})}}),!v.support.pixelPosition&&v.fn.position&&v.each(["top","left"],function(e,t){v.cssHooks[t]={get:function(e,n){if(n){var r=Dt(e,t);return Ut.test(r)?v(e).position()[t]+"px":r}}}})}),v.expr&&v.expr.filters&&(v.expr.filters.hidden=function(e){return e.offsetWidth===0&&e.offsetHeight===0||!v.support.reliableHiddenOffsets&&(e.style&&e.style.display||Dt(e,"display"))==="none"},v.expr.filters.visible=function(e){return!v.expr.filters.hidden(e)}),v.each({margin:"",padding:"",border:"Width"},function(e,t){v.cssHooks[e+t]={expand:function(n){var r,i=typeof n=="string"?n.split(" "):[n],s={};for(r=0;r<4;r++)s[e+$t[r]+t]=i[r]||i[r-2]||i[0];return s}},qt.test(e)||(v.cssHooks[e+t].set=Zt)});var rn=/%20/g,sn=/\[\]$/,on=/\r?\n/g,un=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,an=/^(?:select|textarea)/i;v.fn.extend({serialize:function(){return v.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?v.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||an.test(this.nodeName)||un.test(this.type))}).map(function(e,t){var n=v(this).val();return n==null?null:v.isArray(n)?v.map(n,function(e,n){return{name:t.name,value:e.replace(on,"\r\n")}}):{name:t.name,value:n.replace(on,"\r\n")}}).get()}}),v.param=function(e,n){var r,i=[],s=function(e,t){t=v.isFunction(t)?t():t==null?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};n===t&&(n=v.ajaxSettings&&v.ajaxSettings.traditional);if(v.isArray(e)||e.jquery&&!v.isPlainObject(e))v.each(e,function(){s(this.name,this.value)});else for(r in e)fn(r,e[r],n,s);return i.join("&").replace(rn,"+")};var ln,cn,hn=/#.*$/,pn=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,dn=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,vn=/^(?:GET|HEAD)$/,mn=/^\/\//,gn=/\?/,yn=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,bn=/([?&])_=[^&]*/,wn=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,En=v.fn.load,Sn={},xn={},Tn=["*/"]+["*"];try{cn=s.href}catch(Nn){cn=i.createElement("a"),cn.href="",cn=cn.href}ln=wn.exec(cn.toLowerCase())||[],v.fn.load=function(e,n,r){if(typeof e!="string"&&En)return En.apply(this,arguments);if(!this.length)return this;var i,s,o,u=this,a=e.indexOf(" ");return a>=0&&(i=e.slice(a,e.length),e=e.slice(0,a)),v.isFunction(n)?(r=n,n=t):n&&typeof n=="object"&&(s="POST"),v.ajax({url:e,type:s,dataType:"html",data:n,complete:function(e,t){r&&u.each(r,o||[e.responseText,t,e])}}).done(function(e){o=arguments,u.html(i?v("<div>").append(e.replace(yn,"")).find(i):e)}),this},v.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){v.fn[t]=function(e){return this.on(t,e)}}),v.each(["get","post"],function(e,n){v[n]=function(e,r,i,s){return v.isFunction(r)&&(s=s||i,i=r,r=t),v.ajax({type:n,url:e,data:r,success:i,dataType:s})}}),v.extend({getScript:function(e,n){return v.get(e,t,n,"script")},getJSON:function(e,t,n){return v.get(e,t,n,"json")},ajaxSetup:function(e,t){return t?Ln(e,v.ajaxSettings):(t=e,e=v.ajaxSettings),Ln(e,t),e},ajaxSettings:{url:cn,isLocal:dn.test(ln[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Tn},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":v.parseJSON,"text xml":v.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:Cn(Sn),ajaxTransport:Cn(xn),ajax:function(e,n){function T(e,n,s,a){var l,y,b,w,S,T=n;if(E===2)return;E=2,u&&clearTimeout(u),o=t,i=a||"",x.readyState=e>0?4:0,s&&(w=An(c,x,s));if(e>=200&&e<300||e===304)c.ifModified&&(S=x.getResponseHeader("Last-Modified"),S&&(v.lastModified[r]=S),S=x.getResponseHeader("Etag"),S&&(v.etag[r]=S)),e===304?(T="notmodified",l=!0):(l=On(c,w),T=l.state,y=l.data,b=l.error,l=!b);else{b=T;if(!T||e)T="error",e<0&&(e=0)}x.status=e,x.statusText=(n||T)+"",l?d.resolveWith(h,[y,T,x]):d.rejectWith(h,[x,T,b]),x.statusCode(g),g=t,f&&p.trigger("ajax"+(l?"Success":"Error"),[x,c,l?y:b]),m.fireWith(h,[x,T]),f&&(p.trigger("ajaxComplete",[x,c]),--v.active||v.event.trigger("ajaxStop"))}typeof e=="object"&&(n=e,e=t),n=n||{};var r,i,s,o,u,a,f,l,c=v.ajaxSetup({},n),h=c.context||c,p=h!==c&&(h.nodeType||h instanceof v)?v(h):v.event,d=v.Deferred(),m=v.Callbacks("once memory"),g=c.statusCode||{},b={},w={},E=0,S="canceled",x={readyState:0,setRequestHeader:function(e,t){if(!E){var n=e.toLowerCase();e=w[n]=w[n]||e,b[e]=t}return this},getAllResponseHeaders:function(){return E===2?i:null},getResponseHeader:function(e){var n;if(E===2){if(!s){s={};while(n=pn.exec(i))s[n[1].toLowerCase()]=n[2]}n=s[e.toLowerCase()]}return n===t?null:n},overrideMimeType:function(e){return E||(c.mimeType=e),this},abort:function(e){return e=e||S,o&&o.abort(e),T(0,e),this}};d.promise(x),x.success=x.done,x.error=x.fail,x.complete=m.add,x.statusCode=function(e){if(e){var t;if(E<2)for(t in e)g[t]=[g[t],e[t]];else t=e[x.status],x.always(t)}return this},c.url=((e||c.url)+"").replace(hn,"").replace(mn,ln[1]+"//"),c.dataTypes=v.trim(c.dataType||"*").toLowerCase().split(y),c.crossDomain==null&&(a=wn.exec(c.url.toLowerCase()),c.crossDomain=!(!a||a[1]===ln[1]&&a[2]===ln[2]&&(a[3]||(a[1]==="http:"?80:443))==(ln[3]||(ln[1]==="http:"?80:443)))),c.data&&c.processData&&typeof c.data!="string"&&(c.data=v.param(c.data,c.traditional)),kn(Sn,c,n,x);if(E===2)return x;f=c.global,c.type=c.type.toUpperCase(),c.hasContent=!vn.test(c.type),f&&v.active++===0&&v.event.trigger("ajaxStart");if(!c.hasContent){c.data&&(c.url+=(gn.test(c.url)?"&":"?")+c.data,delete c.data),r=c.url;if(c.cache===!1){var N=v.now(),C=c.url.replace(bn,"$1_="+N);c.url=C+(C===c.url?(gn.test(c.url)?"&":"?")+"_="+N:"")}}(c.data&&c.hasContent&&c.contentType!==!1||n.contentType)&&x.setRequestHeader("Content-Type",c.contentType),c.ifModified&&(r=r||c.url,v.lastModified[r]&&x.setRequestHeader("If-Modified-Since",v.lastModified[r]),v.etag[r]&&x.setRequestHeader("If-None-Match",v.etag[r])),x.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+(c.dataTypes[0]!=="*"?", "+Tn+"; q=0.01":""):c.accepts["*"]);for(l in c.headers)x.setRequestHeader(l,c.headers[l]);if(!c.beforeSend||c.beforeSend.call(h,x,c)!==!1&&E!==2){S="abort";for(l in{success:1,error:1,complete:1})x[l](c[l]);o=kn(xn,c,n,x);if(!o)T(-1,"No Transport");else{x.readyState=1,f&&p.trigger("ajaxSend",[x,c]),c.async&&c.timeout>0&&(u=setTimeout(function(){x.abort("timeout")},c.timeout));try{E=1,o.send(b,T)}catch(k){if(!(E<2))throw k;T(-1,k)}}return x}return x.abort()},active:0,lastModified:{},etag:{}});var Mn=[],_n=/\?/,Dn=/(=)\?(?=&|$)|\?\?/,Pn=v.now();v.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Mn.pop()||v.expando+"_"+Pn++;return this[e]=!0,e}}),v.ajaxPrefilter("json jsonp",function(n,r,i){var s,o,u,a=n.data,f=n.url,l=n.jsonp!==!1,c=l&&Dn.test(f),h=l&&!c&&typeof a=="string"&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Dn.test(a);if(n.dataTypes[0]==="jsonp"||c||h)return s=n.jsonpCallback=v.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,o=e[s],c?n.url=f.replace(Dn,"$1"+s):h?n.data=a.replace(Dn,"$1"+s):l&&(n.url+=(_n.test(f)?"&":"?")+n.jsonp+"="+s),n.converters["script json"]=function(){return u||v.error(s+" was not called"),u[0]},n.dataTypes[0]="json",e[s]=function(){u=arguments},i.always(function(){e[s]=o,n[s]&&(n.jsonpCallback=r.jsonpCallback,Mn.push(s)),u&&v.isFunction(o)&&o(u[0]),u=o=t}),"script"}),v.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return v.globalEval(e),e}}}),v.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),v.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=i.head||i.getElementsByTagName("head")[0]||i.documentElement;return{send:function(s,o){n=i.createElement("script"),n.async="async",e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,i){if(i||!n.readyState||/loaded|complete/.test(n.readyState))n.onload=n.onreadystatechange=null,r&&n.parentNode&&r.removeChild(n),n=t,i||o(200,"success")},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(0,1)}}}});var Hn,Bn=e.ActiveXObject?function(){for(var e in Hn)Hn[e](0,1)}:!1,jn=0;v.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&Fn()||In()}:Fn,function(e){v.extend(v.support,{ajax:!!e,cors:!!e&&"withCredentials"in e})}(v.ajaxSettings.xhr()),v.support.ajax&&v.ajaxTransport(function(n){if(!n.crossDomain||v.support.cors){var r;return{send:function(i,s){var o,u,a=n.xhr();n.username?a.open(n.type,n.url,n.async,n.username,n.password):a.open(n.type,n.url,n.async);if(n.xhrFields)for(u in n.xhrFields)a[u]=n.xhrFields[u];n.mimeType&&a.overrideMimeType&&a.overrideMimeType(n.mimeType),!n.crossDomain&&!i["X-Requested-With"]&&(i["X-Requested-With"]="XMLHttpRequest");try{for(u in i)a.setRequestHeader(u,i[u])}catch(f){}a.send(n.hasContent&&n.data||null),r=function(e,i){var u,f,l,c,h;try{if(r&&(i||a.readyState===4)){r=t,o&&(a.onreadystatechange=v.noop,Bn&&delete Hn[o]);if(i)a.readyState!==4&&a.abort();else{u=a.status,l=a.getAllResponseHeaders(),c={},h=a.responseXML,h&&h.documentElement&&(c.xml=h);try{c.text=a.responseText}catch(p){}try{f=a.statusText}catch(p){f=""}!u&&n.isLocal&&!n.crossDomain?u=c.text?200:404:u===1223&&(u=204)}}}catch(d){i||s(-1,d)}c&&s(u,f,c,l)},n.async?a.readyState===4?setTimeout(r,0):(o=++jn,Bn&&(Hn||(Hn={},v(e).unload(Bn)),Hn[o]=r),a.onreadystatechange=r):r()},abort:function(){r&&r(0,1)}}}});var qn,Rn,Un=/^(?:toggle|show|hide)$/,zn=new RegExp("^(?:([-+])=|)("+m+")([a-z%]*)$","i"),Wn=/queueHooks$/,Xn=[Gn],Vn={"*":[function(e,t){var n,r,i=this.createTween(e,t),s=zn.exec(t),o=i.cur(),u=+o||0,a=1,f=20;if(s){n=+s[2],r=s[3]||(v.cssNumber[e]?"":"px");if(r!=="px"&&u){u=v.css(i.elem,e,!0)||n||1;do a=a||".5",u/=a,v.style(i.elem,e,u+r);while(a!==(a=i.cur()/o)&&a!==1&&--f)}i.unit=r,i.start=u,i.end=s[1]?u+(s[1]+1)*n:n}return i}]};v.Animation=v.extend(Kn,{tweener:function(e,t){v.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,r=0,i=e.length;for(;r<i;r++)n=e[r],Vn[n]=Vn[n]||[],Vn[n].unshift(t)},prefilter:function(e,t){t?Xn.unshift(e):Xn.push(e)}}),v.Tween=Yn,Yn.prototype={constructor:Yn,init:function(e,t,n,r,i,s){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=s||(v.cssNumber[n]?"":"px")},cur:function(){var e=Yn.propHooks[this.prop];return e&&e.get?e.get(this):Yn.propHooks._default.get(this)},run:function(e){var t,n=Yn.propHooks[this.prop];return this.options.duration?this.pos=t=v.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Yn.propHooks._default.set(this),this}},Yn.prototype.init.prototype=Yn.prototype,Yn.propHooks={_default:{get:function(e){var t;return e.elem[e.prop]==null||!!e.elem.style&&e.elem.style[e.prop]!=null?(t=v.css(e.elem,e.prop,!1,""),!t||t==="auto"?0:t):e.elem[e.prop]},set:function(e){v.fx.step[e.prop]?v.fx.step[e.prop](e):e.elem.style&&(e.elem.style[v.cssProps[e.prop]]!=null||v.cssHooks[e.prop])?v.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},Yn.propHooks.scrollTop=Yn.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},v.each(["toggle","show","hide"],function(e,t){var n=v.fn[t];v.fn[t]=function(r,i,s){return r==null||typeof r=="boolean"||!e&&v.isFunction(r)&&v.isFunction(i)?n.apply(this,arguments):this.animate(Zn(t,!0),r,i,s)}}),v.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Gt).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=v.isEmptyObject(e),s=v.speed(t,n,r),o=function(){var t=Kn(this,v.extend({},e),s);i&&t.stop(!0)};return i||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return typeof e!="string"&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=e!=null&&e+"queueHooks",s=v.timers,o=v._data(this);if(n)o[n]&&o[n].stop&&i(o[n]);else for(n in o)o[n]&&o[n].stop&&Wn.test(n)&&i(o[n]);for(n=s.length;n--;)s[n].elem===this&&(e==null||s[n].queue===e)&&(s[n].anim.stop(r),t=!1,s.splice(n,1));(t||!r)&&v.dequeue(this,e)})}}),v.each({slideDown:Zn("show"),slideUp:Zn("hide"),slideToggle:Zn("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){v.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),v.speed=function(e,t,n){var r=e&&typeof e=="object"?v.extend({},e):{complete:n||!n&&t||v.isFunction(e)&&e,duration:e,easing:n&&t||t&&!v.isFunction(t)&&t};r.duration=v.fx.off?0:typeof r.duration=="number"?r.duration:r.duration in v.fx.speeds?v.fx.speeds[r.duration]:v.fx.speeds._default;if(r.queue==null||r.queue===!0)r.queue="fx";return r.old=r.complete,r.complete=function(){v.isFunction(r.old)&&r.old.call(this),r.queue&&v.dequeue(this,r.queue)},r},v.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},v.timers=[],v.fx=Yn.prototype.init,v.fx.tick=function(){var e,n=v.timers,r=0;qn=v.now();for(;r<n.length;r++)e=n[r],!e()&&n[r]===e&&n.splice(r--,1);n.length||v.fx.stop(),qn=t},v.fx.timer=function(e){e()&&v.timers.push(e)&&!Rn&&(Rn=setInterval(v.fx.tick,v.fx.interval))},v.fx.interval=13,v.fx.stop=function(){clearInterval(Rn),Rn=null},v.fx.speeds={slow:600,fast:200,_default:400},v.fx.step={},v.expr&&v.expr.filters&&(v.expr.filters.animated=function(e){return v.grep(v.timers,function(t){return e===t.elem}).length});var er=/^(?:body|html)$/i;v.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){v.offset.setOffset(this,e,t)});var n,r,i,s,o,u,a,f={top:0,left:0},l=this[0],c=l&&l.ownerDocument;if(!c)return;return(r=c.body)===l?v.offset.bodyOffset(l):(n=c.documentElement,v.contains(n,l)?(typeof l.getBoundingClientRect!="undefined"&&(f=l.getBoundingClientRect()),i=tr(c),s=n.clientTop||r.clientTop||0,o=n.clientLeft||r.clientLeft||0,u=i.pageYOffset||n.scrollTop,a=i.pageXOffset||n.scrollLeft,{top:f.top+u-s,left:f.left+a-o}):f)},v.offset={bodyOffset:function(e){var t=e.offsetTop,n=e.offsetLeft;return v.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(v.css(e,"marginTop"))||0,n+=parseFloat(v.css(e,"marginLeft"))||0),{top:t,left:n}},setOffset:function(e,t,n){var r=v.css(e,"position");r==="static"&&(e.style.position="relative");var i=v(e),s=i.offset(),o=v.css(e,"top"),u=v.css(e,"left"),a=(r==="absolute"||r==="fixed")&&v.inArray("auto",[o,u])>-1,f={},l={},c,h;a?(l=i.position(),c=l.top,h=l.left):(c=parseFloat(o)||0,h=parseFloat(u)||0),v.isFunction(t)&&(t=t.call(e,n,s)),t.top!=null&&(f.top=t.top-s.top+c),t.left!=null&&(f.left=t.left-s.left+h),"using"in t?t.using.call(e,f):i.css(f)}},v.fn.extend({position:function(){if(!this[0])return;var e=this[0],t=this.offsetParent(),n=this.offset(),r=er.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(v.css(e,"marginTop"))||0,n.left-=parseFloat(v.css(e,"marginLeft"))||0,r.top+=parseFloat(v.css(t[0],"borderTopWidth"))||0,r.left+=parseFloat(v.css(t[0],"borderLeftWidth"))||0,{top:n.top-r.top,left:n.left-r.left}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||i.body;while(e&&!er.test(e.nodeName)&&v.css(e,"position")==="static")e=e.offsetParent;return e||i.body})}}),v.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);v.fn[e]=function(i){return v.access(this,function(e,i,s){var o=tr(e);if(s===t)return o?n in o?o[n]:o.document.documentElement[i]:e[i];o?o.scrollTo(r?v(o).scrollLeft():s,r?s:v(o).scrollTop()):e[i]=s},e,i,arguments.length,null)}}),v.each({Height:"height",Width:"width"},function(e,n){v.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){v.fn[i]=function(i,s){var o=arguments.length&&(r||typeof i!="boolean"),u=r||(i===!0||s===!0?"margin":"border");return v.access(this,function(n,r,i){var s;return v.isWindow(n)?n.document.documentElement["client"+e]:n.nodeType===9?(s=n.documentElement,Math.max(n.body["scroll"+e],s["scroll"+e],n.body["offset"+e],s["offset"+e],s["client"+e])):i===t?v.css(n,r,i,u):v.style(n,r,i,u)},n,o?i:t,o,null)}})}),e.jQuery=e.$=v,typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return v})})(window);
//]]>
</script>
<script id="jqueryArea" type="text/javascript">
//<![CDATA[
/*
jQuery.encoding.digests.sha1.js

SHA-1 digest and associated utility functions

Copyright (c) UnaMesa Association 2009

Dual licensed under the MIT and GPL licenses:
  http://www.opensource.org/licenses/mit-license.php
  http://www.gnu.org/licenses/gpl.html
*/

(function($) {

if(!$.encoding)
	$.encoding = {};
	$.extend($.encoding,{
		strToBe32s: function(str) {
			// Convert a string to an array of big-endian 32-bit words
			var be=[];
			var len=Math.floor(str.length/4);
			var i, j;
			for(i=0, j=0; i<len; i++, j+=4) {
				be[i]=((str.charCodeAt(j)&0xff) << 24)|((str.charCodeAt(j+1)&0xff) << 16)|((str.charCodeAt(j+2)&0xff) << 8)|(str.charCodeAt(j+3)&0xff);
			}
			while(j<str.length) {
				be[j>>2] |= (str.charCodeAt(j)&0xff)<<(24-(j*8)%32);
				j++;
			}
			return be;
		},
		be32sToStr: function(be) {
			// Convert an array of big-endian 32-bit words to a string
			var str='';
			for(var i=0;i<be.length*32;i+=8) {
				str += String.fromCharCode((be[i>>5]>>>(24-i%32)) & 0xff);
			}
			return str;
		},
		be32sToHex: function(be) {
			// Convert an array of big-endian 32-bit words to a hex string
			var hex='0123456789ABCDEF';
			var str='';
			for(var i=0;i<be.length*4;i++) {
				str += hex.charAt((be[i>>2]>>((3-i%4)*8+4))&0xF) + hex.charAt((be[i>>2]>>((3-i%4)*8))&0xF);
			}
			return str;
		}
	});
})(jQuery);


(function($) {

if(!$.encoding.digests)
	$.encoding.digests = {};
	$.extend($.encoding.digests,{
		hexSha1Str: function(str) {
			// Return, in hex, the SHA-1 hash of a string
			return $.encoding.be32sToHex($.encoding.digests.sha1Str(str));
		},
		sha1Str: function(str) {
			// Return the SHA-1 hash of a string
			return sha1($.encoding.strToBe32s(str),str.length);
		},
		sha1: function(x,blen) {
			// Calculate the SHA-1 hash of an array of blen bytes of big-endian 32-bit words
			return sha1($.encoding.strToBe32s(str),str.length);
		}
	});

	// Private functions.
	function sha1(x,blen) {
		// Calculate the SHA-1 hash of an array of blen bytes of big-endian 32-bit words
		function add32(a,b) {
			// Add 32-bit integers, wrapping at 32 bits
			// Uses 16-bit operations internally to work around bugs in some JavaScript interpreters.
			var lsw=(a&0xFFFF)+(b&0xFFFF);
			var msw=(a>>16)+(b>>16)+(lsw>>16);
			return (msw<<16)|(lsw&0xFFFF);
		}
		function AA(a,b,c,d,e) {
			// Cryptographic round helper function. Add five 32-bit integers, wrapping at 32 bits, second parameter is rotated left 5 bits before the addition
			// Uses 16-bit operations internally to work around bugs in some JavaScript interpreters.
			b=(b>>>27)|(b<<5);
			var lsw=(a&0xFFFF)+(b&0xFFFF)+(c&0xFFFF)+(d&0xFFFF)+(e&0xFFFF);
			var msw=(a>>16)+(b>>16)+(c>>16)+(d>>16)+(e>>16)+(lsw>>16);
			return (msw<<16)|(lsw&0xFFFF);
		}
		function RR(w,j) {
			// Cryptographic round helper function.
			var n=w[j-3]^w[j-8]^w[j-14]^w[j-16];
			return (n>>>31)|(n<<1);
		}

		var len=blen*8;
		x[len>>5] |= 0x80 << (24-len%32);
		x[((len+64>>9)<<4)+15]=len;
		var w=new Array(80);

		var k1=0x5A827999;
		var k2=0x6ED9EBA1;
		var k3=0x8F1BBCDC;
		var k4=0xCA62C1D6;

		var h0=0x67452301;
		var h1=0xEFCDAB89;
		var h2=0x98BADCFE;
		var h3=0x10325476;
		var h4=0xC3D2E1F0;

		for(var i=0;i<x.length;i+=16) {
			var j=0;
			var t;
			var a=h0;
			var b=h1;
			var c=h2;
			var d=h3;
			var e=h4;
			while(j<16) {
				w[j]=x[i+j];
				t=AA(e,a,d^(b&(c^d)),w[j],k1);
				e=d; d=c; c=(b>>>2)|(b<<30); b=a; a=t; j++;
			}
			while(j<20) {
				w[j]=RR(w,j);
				t=AA(e,a,d^(b&(c^d)),w[j],k1);
				e=d; d=c; c=(b>>>2)|(b<<30); b=a; a=t; j++;
			}
			while(j<40) {
				w[j]=RR(w,j);
				t=AA(e,a,b^c^d,w[j],k2);
				e=d; d=c; c=(b>>>2)|(b<<30); b=a; a=t; j++;
			}
			while(j<60) {
				w[j]=RR(w,j);
				t=AA(e,a,(b&c)|(d&(b|c)),w[j],k3);
				e=d; d=c; c=(b>>>2)|(b<<30); b=a; a=t; j++;
			}
			while(j<80) {
				w[j]=RR(w,j);
				t=AA(e,a,b^c^d,w[j],k4);
				e=d; d=c; c=(b>>>2)|(b<<30); b=a; a=t; j++;
			}
			h0=add32(h0,a);
			h1=add32(h1,b);
			h2=add32(h2,c);
			h3=add32(h3,d);
			h4=add32(h4,e);
		}
		return [h0,h1,h2,h3,h4];
	}
})(jQuery);
/*
jQuery.twStylesheet.js

jQuery plugin to dynamically insert CSS rules into a document

Usage:
  jQuery.twStylesheet applies style definitions
  jQuery.twStylesheet.remove neutralizes style definitions

Copyright (c) UnaMesa Association 2009

Triple licensed under the BSD, MIT and GPL licenses:
  http://www.opensource.org/licenses/bsd-license.php
  http://www.opensource.org/licenses/mit-license.php
  http://www.gnu.org/licenses/gpl.html
*/

(function($) {

var defaultId = "customStyleSheet"; // XXX: rename to dynamicStyleSheet?

// Add or replace a style sheet
// css argument is a string of CSS rule sets
// options.id is an optional name identifying the style sheet
// options.doc is an optional document reference
// N.B.: Uses DOM methods instead of jQuery to ensure cross-browser comaptibility.
$.twStylesheet = function(css, options) {
	options = options || {};
	var id = options.id || defaultId;
	var doc = options.doc || document;
	var el = doc.getElementById(id);
	if(doc.createStyleSheet) { // IE-specific handling
		if(el) {
			el.parentNode.removeChild(el);
		}
		doc.getElementsByTagName("head")[0].insertAdjacentHTML("beforeEnd",
			'&nbsp;<style id="' + id + '" type="text/css">' + css + '</style>'); // fails without &nbsp;
	} else { // modern browsers
		if(el) {
			el.replaceChild(doc.createTextNode(css), el.firstChild);
		} else {
			el = doc.createElement("style");
			el.type = "text/css";
			el.id = id;
			el.appendChild(doc.createTextNode(css));
			doc.getElementsByTagName("head")[0].appendChild(el);
		}
	}
};

// Remove existing style sheet
// options.id is an optional name identifying the style sheet
// options.doc is an optional document reference
$.twStylesheet.remove = function(options) {
	options = options || {};
	var id = options.id || defaultId;
	var doc = options.doc || document;
	var el = doc.getElementById(id);
	if(el) {
		el.parentNode.removeChild(el);
	}
};

})(jQuery);

//]]>
</script>
<script type="text/javascript">
//<![CDATA[
if(useJavaSaver)
	document.write("<applet style='position:absolute;left:-1px' name='TiddlySaver' code='TiddlySaver.class' archive='TiddlySaver.jar' width='1' height='1'></applet>");
//]]>
</script>
<!--POST-SCRIPT-START-->
<!--{{{-->
<script>
window.onresize=function(){
	if (document.getElementById("topMenu").offsetWidth < 870){
		document.getElementsByClassName("mainMenu")[0].style.display="none";
	}
	else {
		document.getElementsByClassName("mainMenu")[0].style.display="block";
	}
};
</script>
<!--}}}-->
<!--POST-SCRIPT-END-->
</body>
</html>
